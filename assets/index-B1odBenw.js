var u6=Object.defineProperty;var c6=(t,e,n)=>e in t?u6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ei=(t,e,n)=>c6(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ve(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zv={exports:{}},Du={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AO;function f6(){if(AO)return Du;AO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Du.Fragment=e,Du.jsx=n,Du.jsxs=n,Du}var CO;function d6(){return CO||(CO=1,Zv.exports=f6()),Zv.exports}var T=d6(),ey={exports:{}},Pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OO;function h6(){if(OO)return Pe;OO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function b(U){return U===null||typeof U!="object"?null:(U=g&&U[g]||U["@@iterator"],typeof U=="function"?U:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,x={};function A(U,Y,re){this.props=U,this.context=Y,this.refs=x,this.updater=re||S}A.prototype.isReactComponent={},A.prototype.setState=function(U,Y){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Y,"setState")},A.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function O(){}O.prototype=A.prototype;function C(U,Y,re){this.props=U,this.context=Y,this.refs=x,this.updater=re||S}var N=C.prototype=new O;N.constructor=C,E(N,A.prototype),N.isPureReactComponent=!0;var R=Array.isArray;function P(){}var I={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function L(U,Y,re){var fe=re.ref;return{$$typeof:t,type:U,key:Y,ref:fe!==void 0?fe:null,props:re}}function z(U,Y){return L(U.type,Y,U.props)}function B(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function J(U){var Y={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(re){return Y[re]})}var K=/\/+/g;function G(U,Y){return typeof U=="object"&&U!==null&&U.key!=null?J(""+U.key):Y.toString(36)}function $(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(P,P):(U.status="pending",U.then(function(Y){U.status==="pending"&&(U.status="fulfilled",U.value=Y)},function(Y){U.status==="pending"&&(U.status="rejected",U.reason=Y)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function j(U,Y,re,fe,me){var xe=typeof U;(xe==="undefined"||xe==="boolean")&&(U=null);var je=!1;if(U===null)je=!0;else switch(xe){case"bigint":case"string":case"number":je=!0;break;case"object":switch(U.$$typeof){case t:case e:je=!0;break;case h:return je=U._init,j(je(U._payload),Y,re,fe,me)}}if(je)return me=me(U),je=fe===""?"."+G(U,0):fe,R(me)?(re="",je!=null&&(re=je.replace(K,"$&/")+"/"),j(me,Y,re,"",function(Ce){return Ce})):me!=null&&(B(me)&&(me=z(me,re+(me.key==null||U&&U.key===me.key?"":(""+me.key).replace(K,"$&/")+"/")+je)),Y.push(me)),1;je=0;var Xe=fe===""?".":fe+":";if(R(U))for(var de=0;de<U.length;de++)fe=U[de],xe=Xe+G(fe,de),je+=j(fe,Y,re,xe,me);else if(de=b(U),typeof de=="function")for(U=de.call(U),de=0;!(fe=U.next()).done;)fe=fe.value,xe=Xe+G(fe,de++),je+=j(fe,Y,re,xe,me);else if(xe==="object"){if(typeof U.then=="function")return j($(U),Y,re,fe,me);throw Y=String(U),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return je}function F(U,Y,re){if(U==null)return U;var fe=[],me=0;return j(U,fe,"","",function(xe){return Y.call(re,xe,me++)}),fe}function ee(U){if(U._status===-1){var Y=U._result;Y=Y(),Y.then(function(re){(U._status===0||U._status===-1)&&(U._status=1,U._result=re)},function(re){(U._status===0||U._status===-1)&&(U._status=2,U._result=re)}),U._status===-1&&(U._status=0,U._result=Y)}if(U._status===1)return U._result.default;throw U._result}var ie=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},ue={map:F,forEach:function(U,Y,re){F(U,function(){Y.apply(this,arguments)},re)},count:function(U){var Y=0;return F(U,function(){Y++}),Y},toArray:function(U){return F(U,function(Y){return Y})||[]},only:function(U){if(!B(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Pe.Activity=p,Pe.Children=ue,Pe.Component=A,Pe.Fragment=n,Pe.Profiler=i,Pe.PureComponent=C,Pe.StrictMode=r,Pe.Suspense=c,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(U){return I.H.useMemoCache(U)}},Pe.cache=function(U){return function(){return U.apply(null,arguments)}},Pe.cacheSignal=function(){return null},Pe.cloneElement=function(U,Y,re){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var fe=E({},U.props),me=U.key;if(Y!=null)for(xe in Y.key!==void 0&&(me=""+Y.key),Y)!D.call(Y,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Y.ref===void 0||(fe[xe]=Y[xe]);var xe=arguments.length-2;if(xe===1)fe.children=re;else if(1<xe){for(var je=Array(xe),Xe=0;Xe<xe;Xe++)je[Xe]=arguments[Xe+2];fe.children=je}return L(U.type,me,fe)},Pe.createContext=function(U){return U={$$typeof:s,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:a,_context:U},U},Pe.createElement=function(U,Y,re){var fe,me={},xe=null;if(Y!=null)for(fe in Y.key!==void 0&&(xe=""+Y.key),Y)D.call(Y,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(me[fe]=Y[fe]);var je=arguments.length-2;if(je===1)me.children=re;else if(1<je){for(var Xe=Array(je),de=0;de<je;de++)Xe[de]=arguments[de+2];me.children=Xe}if(U&&U.defaultProps)for(fe in je=U.defaultProps,je)me[fe]===void 0&&(me[fe]=je[fe]);return L(U,xe,me)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(U){return{$$typeof:u,render:U}},Pe.isValidElement=B,Pe.lazy=function(U){return{$$typeof:h,_payload:{_status:-1,_result:U},_init:ee}},Pe.memo=function(U,Y){return{$$typeof:f,type:U,compare:Y===void 0?null:Y}},Pe.startTransition=function(U){var Y=I.T,re={};I.T=re;try{var fe=U(),me=I.S;me!==null&&me(re,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(P,ie)}catch(xe){ie(xe)}finally{Y!==null&&re.types!==null&&(Y.types=re.types),I.T=Y}},Pe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Pe.use=function(U){return I.H.use(U)},Pe.useActionState=function(U,Y,re){return I.H.useActionState(U,Y,re)},Pe.useCallback=function(U,Y){return I.H.useCallback(U,Y)},Pe.useContext=function(U){return I.H.useContext(U)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(U,Y){return I.H.useDeferredValue(U,Y)},Pe.useEffect=function(U,Y){return I.H.useEffect(U,Y)},Pe.useEffectEvent=function(U){return I.H.useEffectEvent(U)},Pe.useId=function(){return I.H.useId()},Pe.useImperativeHandle=function(U,Y,re){return I.H.useImperativeHandle(U,Y,re)},Pe.useInsertionEffect=function(U,Y){return I.H.useInsertionEffect(U,Y)},Pe.useLayoutEffect=function(U,Y){return I.H.useLayoutEffect(U,Y)},Pe.useMemo=function(U,Y){return I.H.useMemo(U,Y)},Pe.useOptimistic=function(U,Y){return I.H.useOptimistic(U,Y)},Pe.useReducer=function(U,Y,re){return I.H.useReducer(U,Y,re)},Pe.useRef=function(U){return I.H.useRef(U)},Pe.useState=function(U){return I.H.useState(U)},Pe.useSyncExternalStore=function(U,Y,re){return I.H.useSyncExternalStore(U,Y,re)},Pe.useTransition=function(){return I.H.useTransition()},Pe.version="19.2.3",Pe}var RO;function WS(){return RO||(RO=1,ey.exports=h6()),ey.exports}var q=WS();const V=Ve(q);var ty={exports:{}},Lu={},ny={exports:{}},ry={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NO;function p6(){return NO||(NO=1,(function(t){function e(j,F){var ee=j.length;j.push(F);e:for(;0<ee;){var ie=ee-1>>>1,ue=j[ie];if(0<i(ue,F))j[ie]=F,j[ee]=ue,ee=ie;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var F=j[0],ee=j.pop();if(ee!==F){j[0]=ee;e:for(var ie=0,ue=j.length,U=ue>>>1;ie<U;){var Y=2*(ie+1)-1,re=j[Y],fe=Y+1,me=j[fe];if(0>i(re,ee))fe<ue&&0>i(me,re)?(j[ie]=me,j[fe]=ee,ie=fe):(j[ie]=re,j[Y]=ee,ie=Y);else if(fe<ue&&0>i(me,ee))j[ie]=me,j[fe]=ee,ie=fe;else break e}}return F}function i(j,F){var ee=j.sortIndex-F.sortIndex;return ee!==0?ee:j.id-F.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],f=[],h=1,p=null,g=3,b=!1,S=!1,E=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function N(j){for(var F=n(f);F!==null;){if(F.callback===null)r(f);else if(F.startTime<=j)r(f),F.sortIndex=F.expirationTime,e(c,F);else break;F=n(f)}}function R(j){if(E=!1,N(j),!S)if(n(c)!==null)S=!0,P||(P=!0,J());else{var F=n(f);F!==null&&$(R,F.startTime-j)}}var P=!1,I=-1,D=5,L=-1;function z(){return x?!0:!(t.unstable_now()-L<D)}function B(){if(x=!1,P){var j=t.unstable_now();L=j;var F=!0;try{e:{S=!1,E&&(E=!1,O(I),I=-1),b=!0;var ee=g;try{t:{for(N(j),p=n(c);p!==null&&!(p.expirationTime>j&&z());){var ie=p.callback;if(typeof ie=="function"){p.callback=null,g=p.priorityLevel;var ue=ie(p.expirationTime<=j);if(j=t.unstable_now(),typeof ue=="function"){p.callback=ue,N(j),F=!0;break t}p===n(c)&&r(c),N(j)}else r(c);p=n(c)}if(p!==null)F=!0;else{var U=n(f);U!==null&&$(R,U.startTime-j),F=!1}}break e}finally{p=null,g=ee,b=!1}F=void 0}}finally{F?J():P=!1}}}var J;if(typeof C=="function")J=function(){C(B)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,G=K.port2;K.port1.onmessage=B,J=function(){G.postMessage(null)}}else J=function(){A(B,0)};function $(j,F){I=A(function(){j(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(j){switch(g){case 1:case 2:case 3:var F=3;break;default:F=g}var ee=g;g=F;try{return j()}finally{g=ee}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(j,F){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ee=g;g=j;try{return F()}finally{g=ee}},t.unstable_scheduleCallback=function(j,F,ee){var ie=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ie+ee:ie):ee=ie,j){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=ee+ue,j={id:h++,callback:F,priorityLevel:j,startTime:ee,expirationTime:ue,sortIndex:-1},ee>ie?(j.sortIndex=ee,e(f,j),n(c)===null&&j===n(f)&&(E?(O(I),I=-1):E=!0,$(R,ee-ie))):(j.sortIndex=ue,e(c,j),S||b||(S=!0,P||(P=!0,J()))),j},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(j){var F=g;return function(){var ee=g;g=F;try{return j.apply(this,arguments)}finally{g=ee}}}})(ry)),ry}var PO;function m6(){return PO||(PO=1,ny.exports=p6()),ny.exports}var iy={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MO;function g6(){if(MO)return fn;MO=1;var t=WS();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:f,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fn.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(c,f,null,h)},fn.flushSync=function(c){var f=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=f,r.p=h,r.d.f()}},fn.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},fn.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},fn.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,p=u(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:b}):h==="script"&&r.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},fn.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},fn.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=u(h,f.crossOrigin);r.d.L(c,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},fn.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=u(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},fn.requestFormReset=function(c){r.d.r(c)},fn.unstable_batchedUpdates=function(c,f){return c(f)},fn.useFormState=function(c,f,h){return s.H.useFormState(c,f,h)},fn.useFormStatus=function(){return s.H.useHostTransitionStatus()},fn.version="19.2.3",fn}var IO;function v6(){if(IO)return iy.exports;IO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),iy.exports=g6(),iy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kO;function y6(){if(kO)return Lu;kO=1;var t=m6(),e=WS(),n=v6();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(o.tag===31){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(r(188))}function f(o){var l=o.alternate;if(!l){if(l=a(o),l===null)throw Error(r(188));return l!==o?null:o}for(var d=o,m=l;;){var _=d.return;if(_===null)break;var w=_.alternate;if(w===null){if(m=_.return,m!==null){d=m;continue}break}if(_.child===w.child){for(w=_.child;w;){if(w===d)return c(_),o;if(w===m)return c(_),l;w=w.sibling}throw Error(r(188))}if(d.return!==m.return)d=_,m=w;else{for(var M=!1,k=_.child;k;){if(k===d){M=!0,d=_,m=w;break}if(k===m){M=!0,m=_,d=w;break}k=k.sibling}if(!M){for(k=w.child;k;){if(k===d){M=!0,d=w,m=_;break}if(k===m){M=!0,m=w,d=_;break}k=k.sibling}if(!M)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?o:l}function h(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=h(o),l!==null)return l;o=o.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),C=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function J(o){return o===null||typeof o!="object"?null:(o=B&&o[B]||o["@@iterator"],typeof o=="function"?o:null)}var K=Symbol.for("react.client.reference");function G(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===K?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case E:return"Fragment";case A:return"Profiler";case x:return"StrictMode";case R:return"Suspense";case P:return"SuspenseList";case L:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case S:return"Portal";case C:return o.displayName||"Context";case O:return(o._context.displayName||"Context")+".Consumer";case N:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case I:return l=o.displayName||null,l!==null?l:G(o.type)||"Memo";case D:l=o._payload,o=o._init;try{return G(o(l))}catch{}}return null}var $=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ie=[],ue=-1;function U(o){return{current:o}}function Y(o){0>ue||(o.current=ie[ue],ie[ue]=null,ue--)}function re(o,l){ue++,ie[ue]=o.current,o.current=l}var fe=U(null),me=U(null),xe=U(null),je=U(null);function Xe(o,l){switch(re(xe,l),re(me,o),re(fe,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?YC(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=YC(l),o=JC(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Y(fe),re(fe,o)}function de(){Y(fe),Y(me),Y(xe)}function Ce(o){o.memoizedState!==null&&re(je,o);var l=fe.current,d=JC(l,o.type);l!==d&&(re(me,o),re(fe,d))}function Ne(o){me.current===o&&(Y(fe),Y(me)),je.current===o&&(Y(je),Pu._currentValue=ee)}var ce,pt;function Ie(o){if(ce===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);ce=l&&l[1]||"",pt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ce+o+pt}var wt=!1;function St(o,l){if(!o||wt)return"";wt=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ne){var te=ne}Reflect.construct(o,[],le)}else{try{le.call()}catch(ne){te=ne}o.call(le.prototype)}}else{try{throw Error()}catch(ne){te=ne}(le=o())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),M=w[0],k=w[1];if(M&&k){var H=M.split(`
`),Z=k.split(`
`);for(_=m=0;m<H.length&&!H[m].includes("DetermineComponentFrameRoot");)m++;for(;_<Z.length&&!Z[_].includes("DetermineComponentFrameRoot");)_++;if(m===H.length||_===Z.length)for(m=H.length-1,_=Z.length-1;1<=m&&0<=_&&H[m]!==Z[_];)_--;for(;1<=m&&0<=_;m--,_--)if(H[m]!==Z[_]){if(m!==1||_!==1)do if(m--,_--,0>_||H[m]!==Z[_]){var ae=`
`+H[m].replace(" at new "," at ");return o.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",o.displayName)),ae}while(1<=m&&0<=_);break}}}finally{wt=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?Ie(d):""}function un(o,l){switch(o.tag){case 26:case 27:case 5:return Ie(o.type);case 16:return Ie("Lazy");case 13:return o.child!==l&&l!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return St(o.type,!1);case 11:return St(o.type.render,!1);case 1:return St(o.type,!0);case 31:return Ie("Activity");default:return""}}function Tr(o){try{var l="",d=null;do l+=un(o,d),d=o,o=o.return;while(o);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var zr=Object.prototype.hasOwnProperty,Wi=t.unstable_scheduleCallback,Ar=t.unstable_cancelCallback,ai=t.unstable_shouldYield,Hl=t.unstable_requestPaint,cn=t.unstable_now,Sf=t.unstable_getCurrentPriorityLevel,CT=t.unstable_ImmediatePriority,OT=t.unstable_UserBlockingPriority,Ef=t.unstable_NormalPriority,G3=t.unstable_LowPriority,RT=t.unstable_IdlePriority,V3=t.log,F3=t.unstable_setDisableYieldValue,zl=null,Dn=null;function Yi(o){if(typeof V3=="function"&&F3(o),Dn&&typeof Dn.setStrictMode=="function")try{Dn.setStrictMode(zl,o)}catch{}}var Ln=Math.clz32?Math.clz32:Y3,K3=Math.log,W3=Math.LN2;function Y3(o){return o>>>=0,o===0?32:31-(K3(o)/W3|0)|0}var Tf=256,Af=262144,Cf=4194304;function ja(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Of(o,l,d){var m=o.pendingLanes;if(m===0)return 0;var _=0,w=o.suspendedLanes,M=o.pingedLanes;o=o.warmLanes;var k=m&134217727;return k!==0?(m=k&~w,m!==0?_=ja(m):(M&=k,M!==0?_=ja(M):d||(d=k&~o,d!==0&&(_=ja(d))))):(k=m&~w,k!==0?_=ja(k):M!==0?_=ja(M):d||(d=m&~o,d!==0&&(_=ja(d)))),_===0?0:l!==0&&l!==_&&(l&w)===0&&(w=_&-_,d=l&-l,w>=d||w===32&&(d&4194048)!==0)?l:_}function Gl(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function J3(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NT(){var o=Cf;return Cf<<=1,(Cf&62914560)===0&&(Cf=4194304),o}function Bm(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function Vl(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function X3(o,l,d,m,_,w){var M=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var k=o.entanglements,H=o.expirationTimes,Z=o.hiddenUpdates;for(d=M&~d;0<d;){var ae=31-Ln(d),le=1<<ae;k[ae]=0,H[ae]=-1;var te=Z[ae];if(te!==null)for(Z[ae]=null,ae=0;ae<te.length;ae++){var ne=te[ae];ne!==null&&(ne.lane&=-536870913)}d&=~le}m!==0&&PT(o,m,0),w!==0&&_===0&&o.tag!==0&&(o.suspendedLanes|=w&~(M&~l))}function PT(o,l,d){o.pendingLanes|=l,o.suspendedLanes&=~l;var m=31-Ln(l);o.entangledLanes|=l,o.entanglements[m]=o.entanglements[m]|1073741824|d&261930}function MT(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var m=31-Ln(d),_=1<<m;_&l|o[m]&l&&(o[m]|=l),d&=~_}}function IT(o,l){var d=l&-l;return d=(d&42)!==0?1:Hm(d),(d&(o.suspendedLanes|l))!==0?0:d}function Hm(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function zm(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function kT(){var o=F.p;return o!==0?o:(o=window.event,o===void 0?32:bO(o.type))}function DT(o,l){var d=F.p;try{return F.p=o,l()}finally{F.p=d}}var Ji=Math.random().toString(36).slice(2),en="__reactFiber$"+Ji,Tn="__reactProps$"+Ji,$o="__reactContainer$"+Ji,Gm="__reactEvents$"+Ji,Q3="__reactListeners$"+Ji,Z3="__reactHandles$"+Ji,LT="__reactResources$"+Ji,Fl="__reactMarker$"+Ji;function Vm(o){delete o[en],delete o[Tn],delete o[Gm],delete o[Q3],delete o[Z3]}function qo(o){var l=o[en];if(l)return l;for(var d=o.parentNode;d;){if(l=d[$o]||d[en]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=rO(o);o!==null;){if(d=o[en])return d;o=rO(o)}return l}o=d,d=o.parentNode}return null}function Bo(o){if(o=o[en]||o[$o]){var l=o.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return o}return null}function Kl(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function Ho(o){var l=o[LT];return l||(l=o[LT]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Wt(o){o[Fl]=!0}var jT=new Set,UT={};function Ua(o,l){zo(o,l),zo(o+"Capture",l)}function zo(o,l){for(UT[o]=l,o=0;o<l.length;o++)jT.add(l[o])}var eB=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$T={},qT={};function tB(o){return zr.call(qT,o)?!0:zr.call($T,o)?!1:eB.test(o)?qT[o]=!0:($T[o]=!0,!1)}function Rf(o,l,d){if(tB(l))if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+d)}}function Nf(o,l,d){if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+d)}}function oi(o,l,d,m){if(m===null)o.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(l,d,""+m)}}function Qn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function BT(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function nB(o,l,d){var m=Object.getOwnPropertyDescriptor(o.constructor.prototype,l);if(!o.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var _=m.get,w=m.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return _.call(this)},set:function(M){d=""+M,w.call(this,M)}}),Object.defineProperty(o,l,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(M){d=""+M},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Fm(o){if(!o._valueTracker){var l=BT(o)?"checked":"value";o._valueTracker=nB(o,l,""+o[l])}}function HT(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return o&&(m=BT(o)?o.checked?"true":"false":o.value),o=m,o!==d?(l.setValue(o),!0):!1}function Pf(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var rB=/[\n"\\]/g;function Zn(o){return o.replace(rB,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Km(o,l,d,m,_,w,M,k){o.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?o.type=M:o.removeAttribute("type"),l!=null?M==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+Qn(l)):o.value!==""+Qn(l)&&(o.value=""+Qn(l)):M!=="submit"&&M!=="reset"||o.removeAttribute("value"),l!=null?Wm(o,M,Qn(l)):d!=null?Wm(o,M,Qn(d)):m!=null&&o.removeAttribute("value"),_==null&&w!=null&&(o.defaultChecked=!!w),_!=null&&(o.checked=_&&typeof _!="function"&&typeof _!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?o.name=""+Qn(k):o.removeAttribute("name")}function zT(o,l,d,m,_,w,M,k){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(o.type=w),l!=null||d!=null){if(!(w!=="submit"&&w!=="reset"||l!=null)){Fm(o);return}d=d!=null?""+Qn(d):"",l=l!=null?""+Qn(l):d,k||l===o.value||(o.value=l),o.defaultValue=l}m=m??_,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=k?o.checked:!!m,o.defaultChecked=!!m,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(o.name=M),Fm(o)}function Wm(o,l,d){l==="number"&&Pf(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function Go(o,l,d,m){if(o=o.options,l){l={};for(var _=0;_<d.length;_++)l["$"+d[_]]=!0;for(d=0;d<o.length;d++)_=l.hasOwnProperty("$"+o[d].value),o[d].selected!==_&&(o[d].selected=_),_&&m&&(o[d].defaultSelected=!0)}else{for(d=""+Qn(d),l=null,_=0;_<o.length;_++){if(o[_].value===d){o[_].selected=!0,m&&(o[_].defaultSelected=!0);return}l!==null||o[_].disabled||(l=o[_])}l!==null&&(l.selected=!0)}}function GT(o,l,d){if(l!=null&&(l=""+Qn(l),l!==o.value&&(o.value=l),d==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=d!=null?""+Qn(d):""}function VT(o,l,d,m){if(l==null){if(m!=null){if(d!=null)throw Error(r(92));if($(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),l=d}d=Qn(l),o.defaultValue=d,m=o.textContent,m===d&&m!==""&&m!==null&&(o.value=m),Fm(o)}function Vo(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var iB=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function FT(o,l,d){var m=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":m?o.setProperty(l,d):typeof d!="number"||d===0||iB.has(l)?l==="float"?o.cssFloat=d:o[l]=(""+d).trim():o[l]=d+"px"}function KT(o,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var _ in l)m=l[_],l.hasOwnProperty(_)&&d[_]!==m&&FT(o,_,m)}else for(var w in l)l.hasOwnProperty(w)&&FT(o,w,l[w])}function Ym(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aB=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oB=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mf(o){return oB.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function si(){}var Jm=null;function Xm(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Fo=null,Ko=null;function WT(o){var l=Bo(o);if(l&&(o=l.stateNode)){var d=o[Tn]||null;e:switch(o=l.stateNode,l.type){case"input":if(Km(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Zn(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==o&&m.form===o.form){var _=m[Tn]||null;if(!_)throw Error(r(90));Km(m,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(l=0;l<d.length;l++)m=d[l],m.form===o.form&&HT(m)}break e;case"textarea":GT(o,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Go(o,!!d.multiple,l,!1)}}}var Qm=!1;function YT(o,l,d){if(Qm)return o(l,d);Qm=!0;try{var m=o(l);return m}finally{if(Qm=!1,(Fo!==null||Ko!==null)&&(bd(),Fo&&(l=Fo,o=Ko,Ko=Fo=null,WT(l),o)))for(l=0;l<o.length;l++)WT(o[l])}}function Wl(o,l){var d=o.stateNode;if(d===null)return null;var m=d[Tn]||null;if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zm=!1;if(li)try{var Yl={};Object.defineProperty(Yl,"passive",{get:function(){Zm=!0}}),window.addEventListener("test",Yl,Yl),window.removeEventListener("test",Yl,Yl)}catch{Zm=!1}var Xi=null,eg=null,If=null;function JT(){if(If)return If;var o,l=eg,d=l.length,m,_="value"in Xi?Xi.value:Xi.textContent,w=_.length;for(o=0;o<d&&l[o]===_[o];o++);var M=d-o;for(m=1;m<=M&&l[d-m]===_[w-m];m++);return If=_.slice(o,1<m?1-m:void 0)}function kf(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Df(){return!0}function XT(){return!1}function An(o){function l(d,m,_,w,M){this._reactName=d,this._targetInst=_,this.type=m,this.nativeEvent=w,this.target=M,this.currentTarget=null;for(var k in o)o.hasOwnProperty(k)&&(d=o[k],this[k]=d?d(w):w[k]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Df:XT,this.isPropagationStopped=XT,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Df)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Df)},persist:function(){},isPersistent:Df}),l}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lf=An($a),Jl=p({},$a,{view:0,detail:0}),sB=An(Jl),tg,ng,Xl,jf=p({},Jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ig,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Xl&&(Xl&&o.type==="mousemove"?(tg=o.screenX-Xl.screenX,ng=o.screenY-Xl.screenY):ng=tg=0,Xl=o),tg)},movementY:function(o){return"movementY"in o?o.movementY:ng}}),QT=An(jf),lB=p({},jf,{dataTransfer:0}),uB=An(lB),cB=p({},Jl,{relatedTarget:0}),rg=An(cB),fB=p({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),dB=An(fB),hB=p({},$a,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),pB=An(hB),mB=p({},$a,{data:0}),ZT=An(mB),gB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bB(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=yB[o])?!!l[o]:!1}function ig(){return bB}var _B=p({},Jl,{key:function(o){if(o.key){var l=gB[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=kf(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?vB[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ig,charCode:function(o){return o.type==="keypress"?kf(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?kf(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),xB=An(_B),wB=p({},jf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eA=An(wB),SB=p({},Jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ig}),EB=An(SB),TB=p({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),AB=An(TB),CB=p({},jf,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),OB=An(CB),RB=p({},$a,{newState:0,oldState:0}),NB=An(RB),PB=[9,13,27,32],ag=li&&"CompositionEvent"in window,Ql=null;li&&"documentMode"in document&&(Ql=document.documentMode);var MB=li&&"TextEvent"in window&&!Ql,tA=li&&(!ag||Ql&&8<Ql&&11>=Ql),nA=" ",rA=!1;function iA(o,l){switch(o){case"keyup":return PB.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aA(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Wo=!1;function IB(o,l){switch(o){case"compositionend":return aA(l);case"keypress":return l.which!==32?null:(rA=!0,nA);case"textInput":return o=l.data,o===nA&&rA?null:o;default:return null}}function kB(o,l){if(Wo)return o==="compositionend"||!ag&&iA(o,l)?(o=JT(),If=eg=Xi=null,Wo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return tA&&l.locale!=="ko"?null:l.data;default:return null}}var DB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oA(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!DB[o.type]:l==="textarea"}function sA(o,l,d,m){Fo?Ko?Ko.push(m):Ko=[m]:Fo=m,l=Ad(l,"onChange"),0<l.length&&(d=new Lf("onChange","change",null,d,m),o.push({event:d,listeners:l}))}var Zl=null,eu=null;function LB(o){zC(o,0)}function Uf(o){var l=Kl(o);if(HT(l))return o}function lA(o,l){if(o==="change")return l}var uA=!1;if(li){var og;if(li){var sg="oninput"in document;if(!sg){var cA=document.createElement("div");cA.setAttribute("oninput","return;"),sg=typeof cA.oninput=="function"}og=sg}else og=!1;uA=og&&(!document.documentMode||9<document.documentMode)}function fA(){Zl&&(Zl.detachEvent("onpropertychange",dA),eu=Zl=null)}function dA(o){if(o.propertyName==="value"&&Uf(eu)){var l=[];sA(l,eu,o,Xm(o)),YT(LB,l)}}function jB(o,l,d){o==="focusin"?(fA(),Zl=l,eu=d,Zl.attachEvent("onpropertychange",dA)):o==="focusout"&&fA()}function UB(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Uf(eu)}function $B(o,l){if(o==="click")return Uf(l)}function qB(o,l){if(o==="input"||o==="change")return Uf(l)}function BB(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var jn=typeof Object.is=="function"?Object.is:BB;function tu(o,l){if(jn(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var _=d[m];if(!zr.call(l,_)||!jn(o[_],l[_]))return!1}return!0}function hA(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function pA(o,l){var d=hA(o);o=0;for(var m;d;){if(d.nodeType===3){if(m=o+d.textContent.length,o<=l&&m>=l)return{node:d,offset:l-o};o=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=hA(d)}}function mA(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?mA(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function gA(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=Pf(o.document);l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=Pf(o.document)}return l}function lg(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var HB=li&&"documentMode"in document&&11>=document.documentMode,Yo=null,ug=null,nu=null,cg=!1;function vA(o,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;cg||Yo==null||Yo!==Pf(m)||(m=Yo,"selectionStart"in m&&lg(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),nu&&tu(nu,m)||(nu=m,m=Ad(ug,"onSelect"),0<m.length&&(l=new Lf("onSelect","select",null,l,d),o.push({event:l,listeners:m}),l.target=Yo)))}function qa(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var Jo={animationend:qa("Animation","AnimationEnd"),animationiteration:qa("Animation","AnimationIteration"),animationstart:qa("Animation","AnimationStart"),transitionrun:qa("Transition","TransitionRun"),transitionstart:qa("Transition","TransitionStart"),transitioncancel:qa("Transition","TransitionCancel"),transitionend:qa("Transition","TransitionEnd")},fg={},yA={};li&&(yA=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function Ba(o){if(fg[o])return fg[o];if(!Jo[o])return o;var l=Jo[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in yA)return fg[o]=l[d];return o}var bA=Ba("animationend"),_A=Ba("animationiteration"),xA=Ba("animationstart"),zB=Ba("transitionrun"),GB=Ba("transitionstart"),VB=Ba("transitioncancel"),wA=Ba("transitionend"),SA=new Map,dg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dg.push("scrollEnd");function Cr(o,l){SA.set(o,l),Ua(l,[o])}var $f=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},er=[],Xo=0,hg=0;function qf(){for(var o=Xo,l=hg=Xo=0;l<o;){var d=er[l];er[l++]=null;var m=er[l];er[l++]=null;var _=er[l];er[l++]=null;var w=er[l];if(er[l++]=null,m!==null&&_!==null){var M=m.pending;M===null?_.next=_:(_.next=M.next,M.next=_),m.pending=_}w!==0&&EA(d,_,w)}}function Bf(o,l,d,m){er[Xo++]=o,er[Xo++]=l,er[Xo++]=d,er[Xo++]=m,hg|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function pg(o,l,d,m){return Bf(o,l,d,m),Hf(o)}function Ha(o,l){return Bf(o,null,null,l),Hf(o)}function EA(o,l,d){o.lanes|=d;var m=o.alternate;m!==null&&(m.lanes|=d);for(var _=!1,w=o.return;w!==null;)w.childLanes|=d,m=w.alternate,m!==null&&(m.childLanes|=d),w.tag===22&&(o=w.stateNode,o===null||o._visibility&1||(_=!0)),o=w,w=w.return;return o.tag===3?(w=o.stateNode,_&&l!==null&&(_=31-Ln(d),o=w.hiddenUpdates,m=o[_],m===null?o[_]=[l]:m.push(l),l.lane=d|536870912),w):null}function Hf(o){if(50<Eu)throw Eu=0,Sv=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var Qo={};function FB(o,l,d,m){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(o,l,d,m){return new FB(o,l,d,m)}function mg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ui(o,l){var d=o.alternate;return d===null?(d=Un(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function TA(o,l){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,l=d.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function zf(o,l,d,m,_,w){var M=0;if(m=o,typeof o=="function")mg(o)&&(M=1);else if(typeof o=="string")M=X5(o,d,fe.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case L:return o=Un(31,d,l,_),o.elementType=L,o.lanes=w,o;case E:return za(d.children,_,w,l);case x:M=8,_|=24;break;case A:return o=Un(12,d,l,_|2),o.elementType=A,o.lanes=w,o;case R:return o=Un(13,d,l,_),o.elementType=R,o.lanes=w,o;case P:return o=Un(19,d,l,_),o.elementType=P,o.lanes=w,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case C:M=10;break e;case O:M=9;break e;case N:M=11;break e;case I:M=14;break e;case D:M=16,m=null;break e}M=29,d=Error(r(130,o===null?"null":typeof o,"")),m=null}return l=Un(M,d,l,_),l.elementType=o,l.type=m,l.lanes=w,l}function za(o,l,d,m){return o=Un(7,o,m,l),o.lanes=d,o}function gg(o,l,d){return o=Un(6,o,null,l),o.lanes=d,o}function AA(o){var l=Un(18,null,null,0);return l.stateNode=o,l}function vg(o,l,d){return l=Un(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var CA=new WeakMap;function tr(o,l){if(typeof o=="object"&&o!==null){var d=CA.get(o);return d!==void 0?d:(l={value:o,source:l,stack:Tr(l)},CA.set(o,l),l)}return{value:o,source:l,stack:Tr(l)}}var Zo=[],es=0,Gf=null,ru=0,nr=[],rr=0,Qi=null,Gr=1,Vr="";function ci(o,l){Zo[es++]=ru,Zo[es++]=Gf,Gf=o,ru=l}function OA(o,l,d){nr[rr++]=Gr,nr[rr++]=Vr,nr[rr++]=Qi,Qi=o;var m=Gr;o=Vr;var _=32-Ln(m)-1;m&=~(1<<_),d+=1;var w=32-Ln(l)+_;if(30<w){var M=_-_%5;w=(m&(1<<M)-1).toString(32),m>>=M,_-=M,Gr=1<<32-Ln(l)+_|d<<_|m,Vr=w+o}else Gr=1<<w|d<<_|m,Vr=o}function yg(o){o.return!==null&&(ci(o,1),OA(o,1,0))}function bg(o){for(;o===Gf;)Gf=Zo[--es],Zo[es]=null,ru=Zo[--es],Zo[es]=null;for(;o===Qi;)Qi=nr[--rr],nr[rr]=null,Vr=nr[--rr],nr[rr]=null,Gr=nr[--rr],nr[rr]=null}function RA(o,l){nr[rr++]=Gr,nr[rr++]=Vr,nr[rr++]=Qi,Gr=l.id,Vr=l.overflow,Qi=o}var tn=null,mt=null,ze=!1,Zi=null,ir=!1,_g=Error(r(519));function ea(o){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw iu(tr(l,o)),_g}function NA(o){var l=o.stateNode,d=o.type,m=o.memoizedProps;switch(l[en]=o,l[Tn]=m,d){case"dialog":qe("cancel",l),qe("close",l);break;case"iframe":case"object":case"embed":qe("load",l);break;case"video":case"audio":for(d=0;d<Au.length;d++)qe(Au[d],l);break;case"source":qe("error",l);break;case"img":case"image":case"link":qe("error",l),qe("load",l);break;case"details":qe("toggle",l);break;case"input":qe("invalid",l),zT(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":qe("invalid",l);break;case"textarea":qe("invalid",l),VT(l,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||m.suppressHydrationWarning===!0||KC(l.textContent,d)?(m.popover!=null&&(qe("beforetoggle",l),qe("toggle",l)),m.onScroll!=null&&qe("scroll",l),m.onScrollEnd!=null&&qe("scrollend",l),m.onClick!=null&&(l.onclick=si),l=!0):l=!1,l||ea(o,!0)}function PA(o){for(tn=o.return;tn;)switch(tn.tag){case 5:case 31:case 13:ir=!1;return;case 27:case 3:ir=!0;return;default:tn=tn.return}}function ts(o){if(o!==tn)return!1;if(!ze)return PA(o),ze=!0,!1;var l=o.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||Uv(o.type,o.memoizedProps)),d=!d),d&&mt&&ea(o),PA(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));mt=nO(o)}else if(l===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));mt=nO(o)}else l===27?(l=mt,pa(o.type)?(o=zv,zv=null,mt=o):mt=l):mt=tn?or(o.stateNode.nextSibling):null;return!0}function Ga(){mt=tn=null,ze=!1}function xg(){var o=Zi;return o!==null&&(Nn===null?Nn=o:Nn.push.apply(Nn,o),Zi=null),o}function iu(o){Zi===null?Zi=[o]:Zi.push(o)}var wg=U(null),Va=null,fi=null;function ta(o,l,d){re(wg,l._currentValue),l._currentValue=d}function di(o){o._currentValue=wg.current,Y(wg)}function Sg(o,l,d){for(;o!==null;){var m=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),o===d)break;o=o.return}}function Eg(o,l,d,m){var _=o.child;for(_!==null&&(_.return=o);_!==null;){var w=_.dependencies;if(w!==null){var M=_.child;w=w.firstContext;e:for(;w!==null;){var k=w;w=_;for(var H=0;H<l.length;H++)if(k.context===l[H]){w.lanes|=d,k=w.alternate,k!==null&&(k.lanes|=d),Sg(w.return,d,o),m||(M=null);break e}w=k.next}}else if(_.tag===18){if(M=_.return,M===null)throw Error(r(341));M.lanes|=d,w=M.alternate,w!==null&&(w.lanes|=d),Sg(M,d,o),M=null}else M=_.child;if(M!==null)M.return=_;else for(M=_;M!==null;){if(M===o){M=null;break}if(_=M.sibling,_!==null){_.return=M.return,M=_;break}M=M.return}_=M}}function ns(o,l,d,m){o=null;for(var _=l,w=!1;_!==null;){if(!w){if((_.flags&524288)!==0)w=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var M=_.alternate;if(M===null)throw Error(r(387));if(M=M.memoizedProps,M!==null){var k=_.type;jn(_.pendingProps.value,M.value)||(o!==null?o.push(k):o=[k])}}else if(_===je.current){if(M=_.alternate,M===null)throw Error(r(387));M.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(o!==null?o.push(Pu):o=[Pu])}_=_.return}o!==null&&Eg(l,o,d,m),l.flags|=262144}function Vf(o){for(o=o.firstContext;o!==null;){if(!jn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Fa(o){Va=o,fi=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function nn(o){return MA(Va,o)}function Ff(o,l){return Va===null&&Fa(o),MA(o,l)}function MA(o,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},fi===null){if(o===null)throw Error(r(308));fi=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else fi=fi.next=l;return d}var KB=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(d,m){o.push(m)}};this.abort=function(){l.aborted=!0,o.forEach(function(d){return d()})}},WB=t.unstable_scheduleCallback,YB=t.unstable_NormalPriority,kt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tg(){return{controller:new KB,data:new Map,refCount:0}}function au(o){o.refCount--,o.refCount===0&&WB(YB,function(){o.controller.abort()})}var ou=null,Ag=0,rs=0,is=null;function JB(o,l){if(ou===null){var d=ou=[];Ag=0,rs=Rv(),is={status:"pending",value:void 0,then:function(m){d.push(m)}}}return Ag++,l.then(IA,IA),l}function IA(){if(--Ag===0&&ou!==null){is!==null&&(is.status="fulfilled");var o=ou;ou=null,rs=0,is=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function XB(o,l){var d=[],m={status:"pending",value:null,reason:null,then:function(_){d.push(_)}};return o.then(function(){m.status="fulfilled",m.value=l;for(var _=0;_<d.length;_++)(0,d[_])(l)},function(_){for(m.status="rejected",m.reason=_,_=0;_<d.length;_++)(0,d[_])(void 0)}),m}var kA=j.S;j.S=function(o,l){vC=cn(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&JB(o,l),kA!==null&&kA(o,l)};var Ka=U(null);function Cg(){var o=Ka.current;return o!==null?o:lt.pooledCache}function Kf(o,l){l===null?re(Ka,Ka.current):re(Ka,l.pool)}function DA(){var o=Cg();return o===null?null:{parent:kt._currentValue,pool:o}}var as=Error(r(460)),Og=Error(r(474)),Wf=Error(r(542)),Yf={then:function(){}};function LA(o){return o=o.status,o==="fulfilled"||o==="rejected"}function jA(o,l,d){switch(d=o[d],d===void 0?o.push(l):d!==l&&(l.then(si,si),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,$A(o),o;default:if(typeof l.status=="string")l.then(si,si);else{if(o=lt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(m){if(l.status==="pending"){var _=l;_.status="fulfilled",_.value=m}},function(m){if(l.status==="pending"){var _=l;_.status="rejected",_.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,$A(o),o}throw Ya=l,as}}function Wa(o){try{var l=o._init;return l(o._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Ya=d,as):d}}var Ya=null;function UA(){if(Ya===null)throw Error(r(459));var o=Ya;return Ya=null,o}function $A(o){if(o===as||o===Wf)throw Error(r(483))}var os=null,su=0;function Jf(o){var l=su;return su+=1,os===null&&(os=[]),jA(os,o,l)}function lu(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function Xf(o,l){throw l.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function qA(o){function l(X,W){if(o){var Q=X.deletions;Q===null?(X.deletions=[W],X.flags|=16):Q.push(W)}}function d(X,W){if(!o)return null;for(;W!==null;)l(X,W),W=W.sibling;return null}function m(X){for(var W=new Map;X!==null;)X.key!==null?W.set(X.key,X):W.set(X.index,X),X=X.sibling;return W}function _(X,W){return X=ui(X,W),X.index=0,X.sibling=null,X}function w(X,W,Q){return X.index=Q,o?(Q=X.alternate,Q!==null?(Q=Q.index,Q<W?(X.flags|=67108866,W):Q):(X.flags|=67108866,W)):(X.flags|=1048576,W)}function M(X){return o&&X.alternate===null&&(X.flags|=67108866),X}function k(X,W,Q,se){return W===null||W.tag!==6?(W=gg(Q,X.mode,se),W.return=X,W):(W=_(W,Q),W.return=X,W)}function H(X,W,Q,se){var _e=Q.type;return _e===E?ae(X,W,Q.props.children,se,Q.key):W!==null&&(W.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===D&&Wa(_e)===W.type)?(W=_(W,Q.props),lu(W,Q),W.return=X,W):(W=zf(Q.type,Q.key,Q.props,null,X.mode,se),lu(W,Q),W.return=X,W)}function Z(X,W,Q,se){return W===null||W.tag!==4||W.stateNode.containerInfo!==Q.containerInfo||W.stateNode.implementation!==Q.implementation?(W=vg(Q,X.mode,se),W.return=X,W):(W=_(W,Q.children||[]),W.return=X,W)}function ae(X,W,Q,se,_e){return W===null||W.tag!==7?(W=za(Q,X.mode,se,_e),W.return=X,W):(W=_(W,Q),W.return=X,W)}function le(X,W,Q){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=gg(""+W,X.mode,Q),W.return=X,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return Q=zf(W.type,W.key,W.props,null,X.mode,Q),lu(Q,W),Q.return=X,Q;case S:return W=vg(W,X.mode,Q),W.return=X,W;case D:return W=Wa(W),le(X,W,Q)}if($(W)||J(W))return W=za(W,X.mode,Q,null),W.return=X,W;if(typeof W.then=="function")return le(X,Jf(W),Q);if(W.$$typeof===C)return le(X,Ff(X,W),Q);Xf(X,W)}return null}function te(X,W,Q,se){var _e=W!==null?W.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return _e!==null?null:k(X,W,""+Q,se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return Q.key===_e?H(X,W,Q,se):null;case S:return Q.key===_e?Z(X,W,Q,se):null;case D:return Q=Wa(Q),te(X,W,Q,se)}if($(Q)||J(Q))return _e!==null?null:ae(X,W,Q,se,null);if(typeof Q.then=="function")return te(X,W,Jf(Q),se);if(Q.$$typeof===C)return te(X,W,Ff(X,Q),se);Xf(X,Q)}return null}function ne(X,W,Q,se,_e){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return X=X.get(Q)||null,k(W,X,""+se,_e);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case b:return X=X.get(se.key===null?Q:se.key)||null,H(W,X,se,_e);case S:return X=X.get(se.key===null?Q:se.key)||null,Z(W,X,se,_e);case D:return se=Wa(se),ne(X,W,Q,se,_e)}if($(se)||J(se))return X=X.get(Q)||null,ae(W,X,se,_e,null);if(typeof se.then=="function")return ne(X,W,Q,Jf(se),_e);if(se.$$typeof===C)return ne(X,W,Q,Ff(W,se),_e);Xf(W,se)}return null}function ve(X,W,Q,se){for(var _e=null,Fe=null,ye=W,ke=W=0,He=null;ye!==null&&ke<Q.length;ke++){ye.index>ke?(He=ye,ye=null):He=ye.sibling;var Ke=te(X,ye,Q[ke],se);if(Ke===null){ye===null&&(ye=He);break}o&&ye&&Ke.alternate===null&&l(X,ye),W=w(Ke,W,ke),Fe===null?_e=Ke:Fe.sibling=Ke,Fe=Ke,ye=He}if(ke===Q.length)return d(X,ye),ze&&ci(X,ke),_e;if(ye===null){for(;ke<Q.length;ke++)ye=le(X,Q[ke],se),ye!==null&&(W=w(ye,W,ke),Fe===null?_e=ye:Fe.sibling=ye,Fe=ye);return ze&&ci(X,ke),_e}for(ye=m(ye);ke<Q.length;ke++)He=ne(ye,X,ke,Q[ke],se),He!==null&&(o&&He.alternate!==null&&ye.delete(He.key===null?ke:He.key),W=w(He,W,ke),Fe===null?_e=He:Fe.sibling=He,Fe=He);return o&&ye.forEach(function(ba){return l(X,ba)}),ze&&ci(X,ke),_e}function we(X,W,Q,se){if(Q==null)throw Error(r(151));for(var _e=null,Fe=null,ye=W,ke=W=0,He=null,Ke=Q.next();ye!==null&&!Ke.done;ke++,Ke=Q.next()){ye.index>ke?(He=ye,ye=null):He=ye.sibling;var ba=te(X,ye,Ke.value,se);if(ba===null){ye===null&&(ye=He);break}o&&ye&&ba.alternate===null&&l(X,ye),W=w(ba,W,ke),Fe===null?_e=ba:Fe.sibling=ba,Fe=ba,ye=He}if(Ke.done)return d(X,ye),ze&&ci(X,ke),_e;if(ye===null){for(;!Ke.done;ke++,Ke=Q.next())Ke=le(X,Ke.value,se),Ke!==null&&(W=w(Ke,W,ke),Fe===null?_e=Ke:Fe.sibling=Ke,Fe=Ke);return ze&&ci(X,ke),_e}for(ye=m(ye);!Ke.done;ke++,Ke=Q.next())Ke=ne(ye,X,ke,Ke.value,se),Ke!==null&&(o&&Ke.alternate!==null&&ye.delete(Ke.key===null?ke:Ke.key),W=w(Ke,W,ke),Fe===null?_e=Ke:Fe.sibling=Ke,Fe=Ke);return o&&ye.forEach(function(l6){return l(X,l6)}),ze&&ci(X,ke),_e}function ot(X,W,Q,se){if(typeof Q=="object"&&Q!==null&&Q.type===E&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:e:{for(var _e=Q.key;W!==null;){if(W.key===_e){if(_e=Q.type,_e===E){if(W.tag===7){d(X,W.sibling),se=_(W,Q.props.children),se.return=X,X=se;break e}}else if(W.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===D&&Wa(_e)===W.type){d(X,W.sibling),se=_(W,Q.props),lu(se,Q),se.return=X,X=se;break e}d(X,W);break}else l(X,W);W=W.sibling}Q.type===E?(se=za(Q.props.children,X.mode,se,Q.key),se.return=X,X=se):(se=zf(Q.type,Q.key,Q.props,null,X.mode,se),lu(se,Q),se.return=X,X=se)}return M(X);case S:e:{for(_e=Q.key;W!==null;){if(W.key===_e)if(W.tag===4&&W.stateNode.containerInfo===Q.containerInfo&&W.stateNode.implementation===Q.implementation){d(X,W.sibling),se=_(W,Q.children||[]),se.return=X,X=se;break e}else{d(X,W);break}else l(X,W);W=W.sibling}se=vg(Q,X.mode,se),se.return=X,X=se}return M(X);case D:return Q=Wa(Q),ot(X,W,Q,se)}if($(Q))return ve(X,W,Q,se);if(J(Q)){if(_e=J(Q),typeof _e!="function")throw Error(r(150));return Q=_e.call(Q),we(X,W,Q,se)}if(typeof Q.then=="function")return ot(X,W,Jf(Q),se);if(Q.$$typeof===C)return ot(X,W,Ff(X,Q),se);Xf(X,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,W!==null&&W.tag===6?(d(X,W.sibling),se=_(W,Q),se.return=X,X=se):(d(X,W),se=gg(Q,X.mode,se),se.return=X,X=se),M(X)):d(X,W)}return function(X,W,Q,se){try{su=0;var _e=ot(X,W,Q,se);return os=null,_e}catch(ye){if(ye===as||ye===Wf)throw ye;var Fe=Un(29,ye,null,X.mode);return Fe.lanes=se,Fe.return=X,Fe}finally{}}}var Ja=qA(!0),BA=qA(!1),na=!1;function Rg(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ng(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function ra(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function ia(o,l,d){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(Je&2)!==0){var _=m.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),m.pending=l,l=Hf(o),EA(o,null,d),l}return Bf(o,m,l,d),Hf(o)}function uu(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,MT(o,d)}}function Pg(o,l){var d=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var _=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var M={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};w===null?_=w=M:w=w.next=M,d=d.next}while(d!==null);w===null?_=w=l:w=w.next=l}else _=w=l;d={baseState:m.baseState,firstBaseUpdate:_,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}var Mg=!1;function cu(){if(Mg){var o=is;if(o!==null)throw o}}function fu(o,l,d,m){Mg=!1;var _=o.updateQueue;na=!1;var w=_.firstBaseUpdate,M=_.lastBaseUpdate,k=_.shared.pending;if(k!==null){_.shared.pending=null;var H=k,Z=H.next;H.next=null,M===null?w=Z:M.next=Z,M=H;var ae=o.alternate;ae!==null&&(ae=ae.updateQueue,k=ae.lastBaseUpdate,k!==M&&(k===null?ae.firstBaseUpdate=Z:k.next=Z,ae.lastBaseUpdate=H))}if(w!==null){var le=_.baseState;M=0,ae=Z=H=null,k=w;do{var te=k.lane&-536870913,ne=te!==k.lane;if(ne?(Be&te)===te:(m&te)===te){te!==0&&te===rs&&(Mg=!0),ae!==null&&(ae=ae.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var ve=o,we=k;te=l;var ot=d;switch(we.tag){case 1:if(ve=we.payload,typeof ve=="function"){le=ve.call(ot,le,te);break e}le=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=we.payload,te=typeof ve=="function"?ve.call(ot,le,te):ve,te==null)break e;le=p({},le,te);break e;case 2:na=!0}}te=k.callback,te!==null&&(o.flags|=64,ne&&(o.flags|=8192),ne=_.callbacks,ne===null?_.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ae===null?(Z=ae=ne,H=le):ae=ae.next=ne,M|=te;if(k=k.next,k===null){if(k=_.shared.pending,k===null)break;ne=k,k=ne.next,ne.next=null,_.lastBaseUpdate=ne,_.shared.pending=null}}while(!0);ae===null&&(H=le),_.baseState=H,_.firstBaseUpdate=Z,_.lastBaseUpdate=ae,w===null&&(_.shared.lanes=0),ua|=M,o.lanes=M,o.memoizedState=le}}function HA(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function zA(o,l){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)HA(d[o],l)}var ss=U(null),Qf=U(0);function GA(o,l){o=xi,re(Qf,o),re(ss,l),xi=o|l.baseLanes}function Ig(){re(Qf,xi),re(ss,ss.current)}function kg(){xi=Qf.current,Y(ss),Y(Qf)}var $n=U(null),ar=null;function aa(o){var l=o.alternate;re(Pt,Pt.current&1),re($n,o),ar===null&&(l===null||ss.current!==null||l.memoizedState!==null)&&(ar=o)}function Dg(o){re(Pt,Pt.current),re($n,o),ar===null&&(ar=o)}function VA(o){o.tag===22?(re(Pt,Pt.current),re($n,o),ar===null&&(ar=o)):oa()}function oa(){re(Pt,Pt.current),re($n,$n.current)}function qn(o){Y($n),ar===o&&(ar=null),Y(Pt)}var Pt=U(0);function Zf(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Bv(d)||Hv(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var hi=0,Me=null,it=null,Dt=null,ed=!1,ls=!1,Xa=!1,td=0,du=0,us=null,QB=0;function Ct(){throw Error(r(321))}function Lg(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!jn(o[d],l[d]))return!1;return!0}function jg(o,l,d,m,_,w){return hi=w,Me=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,j.H=o===null||o.memoizedState===null?O1:Qg,Xa=!1,w=d(m,_),Xa=!1,ls&&(w=KA(l,d,m,_)),FA(o),w}function FA(o){j.H=mu;var l=it!==null&&it.next!==null;if(hi=0,Dt=it=Me=null,ed=!1,du=0,us=null,l)throw Error(r(300));o===null||Lt||(o=o.dependencies,o!==null&&Vf(o)&&(Lt=!0))}function KA(o,l,d,m){Me=o;var _=0;do{if(ls&&(us=null),du=0,ls=!1,25<=_)throw Error(r(301));if(_+=1,Dt=it=null,o.updateQueue!=null){var w=o.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}j.H=R1,w=l(d,m)}while(ls);return w}function ZB(){var o=j.H,l=o.useState()[0];return l=typeof l.then=="function"?hu(l):l,o=o.useState()[0],(it!==null?it.memoizedState:null)!==o&&(Me.flags|=1024),l}function Ug(){var o=td!==0;return td=0,o}function $g(o,l,d){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~d}function qg(o){if(ed){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}ed=!1}hi=0,Dt=it=Me=null,ls=!1,du=td=0,us=null}function vn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Me.memoizedState=Dt=o:Dt=Dt.next=o,Dt}function Mt(){if(it===null){var o=Me.alternate;o=o!==null?o.memoizedState:null}else o=it.next;var l=Dt===null?Me.memoizedState:Dt.next;if(l!==null)Dt=l,it=o;else{if(o===null)throw Me.alternate===null?Error(r(467)):Error(r(310));it=o,o={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Dt===null?Me.memoizedState=Dt=o:Dt=Dt.next=o}return Dt}function nd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hu(o){var l=du;return du+=1,us===null&&(us=[]),o=jA(us,o,l),l=Me,(Dt===null?l.memoizedState:Dt.next)===null&&(l=l.alternate,j.H=l===null||l.memoizedState===null?O1:Qg),o}function rd(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return hu(o);if(o.$$typeof===C)return nn(o)}throw Error(r(438,String(o)))}function Bg(o){var l=null,d=Me.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var m=Me.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(_){return _.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=nd(),Me.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(o),m=0;m<o;m++)d[m]=z;return l.index++,d}function pi(o,l){return typeof l=="function"?l(o):l}function id(o){var l=Mt();return Hg(l,it,o)}function Hg(o,l,d){var m=o.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var _=o.baseQueue,w=m.pending;if(w!==null){if(_!==null){var M=_.next;_.next=w.next,w.next=M}l.baseQueue=_=w,m.pending=null}if(w=o.baseState,_===null)o.memoizedState=w;else{l=_.next;var k=M=null,H=null,Z=l,ae=!1;do{var le=Z.lane&-536870913;if(le!==Z.lane?(Be&le)===le:(hi&le)===le){var te=Z.revertLane;if(te===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),le===rs&&(ae=!0);else if((hi&te)===te){Z=Z.next,te===rs&&(ae=!0);continue}else le={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(k=H=le,M=w):H=H.next=le,Me.lanes|=te,ua|=te;le=Z.action,Xa&&d(w,le),w=Z.hasEagerState?Z.eagerState:d(w,le)}else te={lane:le,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(k=H=te,M=w):H=H.next=te,Me.lanes|=le,ua|=le;Z=Z.next}while(Z!==null&&Z!==l);if(H===null?M=w:H.next=k,!jn(w,o.memoizedState)&&(Lt=!0,ae&&(d=is,d!==null)))throw d;o.memoizedState=w,o.baseState=M,o.baseQueue=H,m.lastRenderedState=w}return _===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function zg(o){var l=Mt(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var m=d.dispatch,_=d.pending,w=l.memoizedState;if(_!==null){d.pending=null;var M=_=_.next;do w=o(w,M.action),M=M.next;while(M!==_);jn(w,l.memoizedState)||(Lt=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),d.lastRenderedState=w}return[w,m]}function WA(o,l,d){var m=Me,_=Mt(),w=ze;if(w){if(d===void 0)throw Error(r(407));d=d()}else d=l();var M=!jn((it||_).memoizedState,d);if(M&&(_.memoizedState=d,Lt=!0),_=_.queue,Fg(XA.bind(null,m,_,o),[o]),_.getSnapshot!==l||M||Dt!==null&&Dt.memoizedState.tag&1){if(m.flags|=2048,cs(9,{destroy:void 0},JA.bind(null,m,_,d,l),null),lt===null)throw Error(r(349));w||(hi&127)!==0||YA(m,l,d)}return d}function YA(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=Me.updateQueue,l===null?(l=nd(),Me.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function JA(o,l,d,m){l.value=d,l.getSnapshot=m,QA(l)&&ZA(o)}function XA(o,l,d){return d(function(){QA(l)&&ZA(o)})}function QA(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!jn(o,d)}catch{return!0}}function ZA(o){var l=Ha(o,2);l!==null&&Pn(l,o,2)}function Gg(o){var l=vn();if(typeof o=="function"){var d=o;if(o=d(),Xa){Yi(!0);try{d()}finally{Yi(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:o},l}function e1(o,l,d,m){return o.baseState=d,Hg(o,it,typeof m=="function"?m:pi)}function e5(o,l,d,m,_){if(sd(o))throw Error(r(485));if(o=l.action,o!==null){var w={payload:_,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){w.listeners.push(M)}};j.T!==null?d(!0):w.isTransition=!1,m(w),d=l.pending,d===null?(w.next=l.pending=w,t1(l,w)):(w.next=d.next,l.pending=d.next=w)}}function t1(o,l){var d=l.action,m=l.payload,_=o.state;if(l.isTransition){var w=j.T,M={};j.T=M;try{var k=d(_,m),H=j.S;H!==null&&H(M,k),n1(o,l,k)}catch(Z){Vg(o,l,Z)}finally{w!==null&&M.types!==null&&(w.types=M.types),j.T=w}}else try{w=d(_,m),n1(o,l,w)}catch(Z){Vg(o,l,Z)}}function n1(o,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){r1(o,l,m)},function(m){return Vg(o,l,m)}):r1(o,l,d)}function r1(o,l,d){l.status="fulfilled",l.value=d,i1(l),o.state=d,l=o.pending,l!==null&&(d=l.next,d===l?o.pending=null:(d=d.next,l.next=d,t1(o,d)))}function Vg(o,l,d){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=d,i1(l),l=l.next;while(l!==m)}o.action=null}function i1(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function a1(o,l){return l}function o1(o,l){if(ze){var d=lt.formState;if(d!==null){e:{var m=Me;if(ze){if(mt){t:{for(var _=mt,w=ir;_.nodeType!==8;){if(!w){_=null;break t}if(_=or(_.nextSibling),_===null){_=null;break t}}w=_.data,_=w==="F!"||w==="F"?_:null}if(_){mt=or(_.nextSibling),m=_.data==="F!";break e}}ea(m)}m=!1}m&&(l=d[0])}}return d=vn(),d.memoizedState=d.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a1,lastRenderedState:l},d.queue=m,d=T1.bind(null,Me,m),m.dispatch=d,m=Gg(!1),w=Xg.bind(null,Me,!1,m.queue),m=vn(),_={state:l,dispatch:null,action:o,pending:null},m.queue=_,d=e5.bind(null,Me,_,w,d),_.dispatch=d,m.memoizedState=o,[l,d,!1]}function s1(o){var l=Mt();return l1(l,it,o)}function l1(o,l,d){if(l=Hg(o,l,a1)[0],o=id(pi)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=hu(l)}catch(M){throw M===as?Wf:M}else m=l;l=Mt();var _=l.queue,w=_.dispatch;return d!==l.memoizedState&&(Me.flags|=2048,cs(9,{destroy:void 0},t5.bind(null,_,d),null)),[m,w,o]}function t5(o,l){o.action=l}function u1(o){var l=Mt(),d=it;if(d!==null)return l1(l,d,o);Mt(),l=l.memoizedState,d=Mt();var m=d.queue.dispatch;return d.memoizedState=o,[l,m,!1]}function cs(o,l,d,m){return o={tag:o,create:d,deps:m,inst:l,next:null},l=Me.updateQueue,l===null&&(l=nd(),Me.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=o.next=o:(m=d.next,d.next=o,o.next=m,l.lastEffect=o),o}function c1(){return Mt().memoizedState}function ad(o,l,d,m){var _=vn();Me.flags|=o,_.memoizedState=cs(1|l,{destroy:void 0},d,m===void 0?null:m)}function od(o,l,d,m){var _=Mt();m=m===void 0?null:m;var w=_.memoizedState.inst;it!==null&&m!==null&&Lg(m,it.memoizedState.deps)?_.memoizedState=cs(l,w,d,m):(Me.flags|=o,_.memoizedState=cs(1|l,w,d,m))}function f1(o,l){ad(8390656,8,o,l)}function Fg(o,l){od(2048,8,o,l)}function n5(o){Me.flags|=4;var l=Me.updateQueue;if(l===null)l=nd(),Me.updateQueue=l,l.events=[o];else{var d=l.events;d===null?l.events=[o]:d.push(o)}}function d1(o){var l=Mt().memoizedState;return n5({ref:l,nextImpl:o}),function(){if((Je&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function h1(o,l){return od(4,2,o,l)}function p1(o,l){return od(4,4,o,l)}function m1(o,l){if(typeof l=="function"){o=o();var d=l(o);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function g1(o,l,d){d=d!=null?d.concat([o]):null,od(4,4,m1.bind(null,l,o),d)}function Kg(){}function v1(o,l){var d=Mt();l=l===void 0?null:l;var m=d.memoizedState;return l!==null&&Lg(l,m[1])?m[0]:(d.memoizedState=[o,l],o)}function y1(o,l){var d=Mt();l=l===void 0?null:l;var m=d.memoizedState;if(l!==null&&Lg(l,m[1]))return m[0];if(m=o(),Xa){Yi(!0);try{o()}finally{Yi(!1)}}return d.memoizedState=[m,l],m}function Wg(o,l,d){return d===void 0||(hi&1073741824)!==0&&(Be&261930)===0?o.memoizedState=l:(o.memoizedState=d,o=bC(),Me.lanes|=o,ua|=o,d)}function b1(o,l,d,m){return jn(d,l)?d:ss.current!==null?(o=Wg(o,d,m),jn(o,l)||(Lt=!0),o):(hi&42)===0||(hi&1073741824)!==0&&(Be&261930)===0?(Lt=!0,o.memoizedState=d):(o=bC(),Me.lanes|=o,ua|=o,l)}function _1(o,l,d,m,_){var w=F.p;F.p=w!==0&&8>w?w:8;var M=j.T,k={};j.T=k,Xg(o,!1,l,d);try{var H=_(),Z=j.S;if(Z!==null&&Z(k,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ae=XB(H,m);pu(o,l,ae,zn(o))}else pu(o,l,m,zn(o))}catch(le){pu(o,l,{then:function(){},status:"rejected",reason:le},zn())}finally{F.p=w,M!==null&&k.types!==null&&(M.types=k.types),j.T=M}}function r5(){}function Yg(o,l,d,m){if(o.tag!==5)throw Error(r(476));var _=x1(o).queue;_1(o,_,l,ee,d===null?r5:function(){return w1(o),d(m)})}function x1(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:ee},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:d},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function w1(o){var l=x1(o);l.next===null&&(l=o.alternate.memoizedState),pu(o,l.next.queue,{},zn())}function Jg(){return nn(Pu)}function S1(){return Mt().memoizedState}function E1(){return Mt().memoizedState}function i5(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var d=zn();o=ra(d);var m=ia(l,o,d);m!==null&&(Pn(m,l,d),uu(m,l,d)),l={cache:Tg()},o.payload=l;return}l=l.return}}function a5(o,l,d){var m=zn();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},sd(o)?A1(l,d):(d=pg(o,l,d,m),d!==null&&(Pn(d,o,m),C1(d,l,m)))}function T1(o,l,d){var m=zn();pu(o,l,d,m)}function pu(o,l,d,m){var _={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(sd(o))A1(l,_);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var M=l.lastRenderedState,k=w(M,d);if(_.hasEagerState=!0,_.eagerState=k,jn(k,M))return Bf(o,l,_,0),lt===null&&qf(),!1}catch{}finally{}if(d=pg(o,l,_,m),d!==null)return Pn(d,o,m),C1(d,l,m),!0}return!1}function Xg(o,l,d,m){if(m={lane:2,revertLane:Rv(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},sd(o)){if(l)throw Error(r(479))}else l=pg(o,d,m,2),l!==null&&Pn(l,o,2)}function sd(o){var l=o.alternate;return o===Me||l!==null&&l===Me}function A1(o,l){ls=ed=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function C1(o,l,d){if((d&4194048)!==0){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,MT(o,d)}}var mu={readContext:nn,use:rd,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};mu.useEffectEvent=Ct;var O1={readContext:nn,use:rd,useCallback:function(o,l){return vn().memoizedState=[o,l===void 0?null:l],o},useContext:nn,useEffect:f1,useImperativeHandle:function(o,l,d){d=d!=null?d.concat([o]):null,ad(4194308,4,m1.bind(null,l,o),d)},useLayoutEffect:function(o,l){return ad(4194308,4,o,l)},useInsertionEffect:function(o,l){ad(4,2,o,l)},useMemo:function(o,l){var d=vn();l=l===void 0?null:l;var m=o();if(Xa){Yi(!0);try{o()}finally{Yi(!1)}}return d.memoizedState=[m,l],m},useReducer:function(o,l,d){var m=vn();if(d!==void 0){var _=d(l);if(Xa){Yi(!0);try{d(l)}finally{Yi(!1)}}}else _=l;return m.memoizedState=m.baseState=_,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:_},m.queue=o,o=o.dispatch=a5.bind(null,Me,o),[m.memoizedState,o]},useRef:function(o){var l=vn();return o={current:o},l.memoizedState=o},useState:function(o){o=Gg(o);var l=o.queue,d=T1.bind(null,Me,l);return l.dispatch=d,[o.memoizedState,d]},useDebugValue:Kg,useDeferredValue:function(o,l){var d=vn();return Wg(d,o,l)},useTransition:function(){var o=Gg(!1);return o=_1.bind(null,Me,o.queue,!0,!1),vn().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,d){var m=Me,_=vn();if(ze){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),lt===null)throw Error(r(349));(Be&127)!==0||YA(m,l,d)}_.memoizedState=d;var w={value:d,getSnapshot:l};return _.queue=w,f1(XA.bind(null,m,w,o),[o]),m.flags|=2048,cs(9,{destroy:void 0},JA.bind(null,m,w,d,l),null),d},useId:function(){var o=vn(),l=lt.identifierPrefix;if(ze){var d=Vr,m=Gr;d=(m&~(1<<32-Ln(m)-1)).toString(32)+d,l="_"+l+"R_"+d,d=td++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=QB++,l="_"+l+"r_"+d.toString(32)+"_";return o.memoizedState=l},useHostTransitionStatus:Jg,useFormState:o1,useActionState:o1,useOptimistic:function(o){var l=vn();l.memoizedState=l.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=Xg.bind(null,Me,!0,d),d.dispatch=l,[o,l]},useMemoCache:Bg,useCacheRefresh:function(){return vn().memoizedState=i5.bind(null,Me)},useEffectEvent:function(o){var l=vn(),d={impl:o};return l.memoizedState=d,function(){if((Je&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},Qg={readContext:nn,use:rd,useCallback:v1,useContext:nn,useEffect:Fg,useImperativeHandle:g1,useInsertionEffect:h1,useLayoutEffect:p1,useMemo:y1,useReducer:id,useRef:c1,useState:function(){return id(pi)},useDebugValue:Kg,useDeferredValue:function(o,l){var d=Mt();return b1(d,it.memoizedState,o,l)},useTransition:function(){var o=id(pi)[0],l=Mt().memoizedState;return[typeof o=="boolean"?o:hu(o),l]},useSyncExternalStore:WA,useId:S1,useHostTransitionStatus:Jg,useFormState:s1,useActionState:s1,useOptimistic:function(o,l){var d=Mt();return e1(d,it,o,l)},useMemoCache:Bg,useCacheRefresh:E1};Qg.useEffectEvent=d1;var R1={readContext:nn,use:rd,useCallback:v1,useContext:nn,useEffect:Fg,useImperativeHandle:g1,useInsertionEffect:h1,useLayoutEffect:p1,useMemo:y1,useReducer:zg,useRef:c1,useState:function(){return zg(pi)},useDebugValue:Kg,useDeferredValue:function(o,l){var d=Mt();return it===null?Wg(d,o,l):b1(d,it.memoizedState,o,l)},useTransition:function(){var o=zg(pi)[0],l=Mt().memoizedState;return[typeof o=="boolean"?o:hu(o),l]},useSyncExternalStore:WA,useId:S1,useHostTransitionStatus:Jg,useFormState:u1,useActionState:u1,useOptimistic:function(o,l){var d=Mt();return it!==null?e1(d,it,o,l):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:Bg,useCacheRefresh:E1};R1.useEffectEvent=d1;function Zg(o,l,d,m){l=o.memoizedState,d=d(m,l),d=d==null?l:p({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var ev={enqueueSetState:function(o,l,d){o=o._reactInternals;var m=zn(),_=ra(m);_.payload=l,d!=null&&(_.callback=d),l=ia(o,_,m),l!==null&&(Pn(l,o,m),uu(l,o,m))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var m=zn(),_=ra(m);_.tag=1,_.payload=l,d!=null&&(_.callback=d),l=ia(o,_,m),l!==null&&(Pn(l,o,m),uu(l,o,m))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=zn(),m=ra(d);m.tag=2,l!=null&&(m.callback=l),l=ia(o,m,d),l!==null&&(Pn(l,o,d),uu(l,o,d))}};function N1(o,l,d,m,_,w,M){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,w,M):l.prototype&&l.prototype.isPureReactComponent?!tu(d,m)||!tu(_,w):!0}function P1(o,l,d,m){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==o&&ev.enqueueReplaceState(l,l.state,null)}function Qa(o,l){var d=l;if("ref"in l){d={};for(var m in l)m!=="ref"&&(d[m]=l[m])}if(o=o.defaultProps){d===l&&(d=p({},d));for(var _ in o)d[_]===void 0&&(d[_]=o[_])}return d}function M1(o){$f(o)}function I1(o){console.error(o)}function k1(o){$f(o)}function ld(o,l){try{var d=o.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function D1(o,l,d){try{var m=o.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function tv(o,l,d){return d=ra(d),d.tag=3,d.payload={element:null},d.callback=function(){ld(o,l)},d}function L1(o){return o=ra(o),o.tag=3,o}function j1(o,l,d,m){var _=d.type.getDerivedStateFromError;if(typeof _=="function"){var w=m.value;o.payload=function(){return _(w)},o.callback=function(){D1(l,d,m)}}var M=d.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(o.callback=function(){D1(l,d,m),typeof _!="function"&&(ca===null?ca=new Set([this]):ca.add(this));var k=m.stack;this.componentDidCatch(m.value,{componentStack:k!==null?k:""})})}function o5(o,l,d,m,_){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=d.alternate,l!==null&&ns(l,d,_,!0),d=$n.current,d!==null){switch(d.tag){case 31:case 13:return ar===null?_d():d.alternate===null&&Ot===0&&(Ot=3),d.flags&=-257,d.flags|=65536,d.lanes=_,m===Yf?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([m]):l.add(m),Av(o,m,_)),!1;case 22:return d.flags|=65536,m===Yf?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([m]):d.add(m)),Av(o,m,_)),!1}throw Error(r(435,d.tag))}return Av(o,m,_),_d(),!1}if(ze)return l=$n.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=_,m!==_g&&(o=Error(r(422),{cause:m}),iu(tr(o,d)))):(m!==_g&&(l=Error(r(423),{cause:m}),iu(tr(l,d))),o=o.current.alternate,o.flags|=65536,_&=-_,o.lanes|=_,m=tr(m,d),_=tv(o.stateNode,m,_),Pg(o,_),Ot!==4&&(Ot=2)),!1;var w=Error(r(520),{cause:m});if(w=tr(w,d),Su===null?Su=[w]:Su.push(w),Ot!==4&&(Ot=2),l===null)return!0;m=tr(m,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,o=_&-_,d.lanes|=o,o=tv(d.stateNode,m,o),Pg(d,o),!1;case 1:if(l=d.type,w=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ca===null||!ca.has(w))))return d.flags|=65536,_&=-_,d.lanes|=_,_=L1(_),j1(_,o,d,m),Pg(d,_),!1}d=d.return}while(d!==null);return!1}var nv=Error(r(461)),Lt=!1;function rn(o,l,d,m){l.child=o===null?BA(l,null,d,m):Ja(l,o.child,d,m)}function U1(o,l,d,m,_){d=d.render;var w=l.ref;if("ref"in m){var M={};for(var k in m)k!=="ref"&&(M[k]=m[k])}else M=m;return Fa(l),m=jg(o,l,d,M,w,_),k=Ug(),o!==null&&!Lt?($g(o,l,_),mi(o,l,_)):(ze&&k&&yg(l),l.flags|=1,rn(o,l,m,_),l.child)}function $1(o,l,d,m,_){if(o===null){var w=d.type;return typeof w=="function"&&!mg(w)&&w.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=w,q1(o,l,w,m,_)):(o=zf(d.type,null,m,l,l.mode,_),o.ref=l.ref,o.return=l,l.child=o)}if(w=o.child,!cv(o,_)){var M=w.memoizedProps;if(d=d.compare,d=d!==null?d:tu,d(M,m)&&o.ref===l.ref)return mi(o,l,_)}return l.flags|=1,o=ui(w,m),o.ref=l.ref,o.return=l,l.child=o}function q1(o,l,d,m,_){if(o!==null){var w=o.memoizedProps;if(tu(w,m)&&o.ref===l.ref)if(Lt=!1,l.pendingProps=m=w,cv(o,_))(o.flags&131072)!==0&&(Lt=!0);else return l.lanes=o.lanes,mi(o,l,_)}return rv(o,l,d,m,_)}function B1(o,l,d,m){var _=m.children,w=o!==null?o.memoizedState:null;if(o===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(w=w!==null?w.baseLanes|d:d,o!==null){for(m=l.child=o.child,_=0;m!==null;)_=_|m.lanes|m.childLanes,m=m.sibling;m=_&~w}else m=0,l.child=null;return H1(o,l,w,d,m)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&Kf(l,w!==null?w.cachePool:null),w!==null?GA(l,w):Ig(),VA(l);else return m=l.lanes=536870912,H1(o,l,w!==null?w.baseLanes|d:d,d,m)}else w!==null?(Kf(l,w.cachePool),GA(l,w),oa(),l.memoizedState=null):(o!==null&&Kf(l,null),Ig(),oa());return rn(o,l,_,d),l.child}function gu(o,l){return o!==null&&o.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function H1(o,l,d,m,_){var w=Cg();return w=w===null?null:{parent:kt._currentValue,pool:w},l.memoizedState={baseLanes:d,cachePool:w},o!==null&&Kf(l,null),Ig(),VA(l),o!==null&&ns(o,l,m,!0),l.childLanes=_,null}function ud(o,l){return l=fd({mode:l.mode,children:l.children},o.mode),l.ref=o.ref,o.child=l,l.return=o,l}function z1(o,l,d){return Ja(l,o.child,null,d),o=ud(l,l.pendingProps),o.flags|=2,qn(l),l.memoizedState=null,o}function s5(o,l,d){var m=l.pendingProps,_=(l.flags&128)!==0;if(l.flags&=-129,o===null){if(ze){if(m.mode==="hidden")return o=ud(l,m),l.lanes=536870912,gu(null,o);if(Dg(l),(o=mt)?(o=tO(o,ir),o=o!==null&&o.data==="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Qi!==null?{id:Gr,overflow:Vr}:null,retryLane:536870912,hydrationErrors:null},d=AA(o),d.return=l,l.child=d,tn=l,mt=null)):o=null,o===null)throw ea(l);return l.lanes=536870912,null}return ud(l,m)}var w=o.memoizedState;if(w!==null){var M=w.dehydrated;if(Dg(l),_)if(l.flags&256)l.flags&=-257,l=z1(o,l,d);else if(l.memoizedState!==null)l.child=o.child,l.flags|=128,l=null;else throw Error(r(558));else if(Lt||ns(o,l,d,!1),_=(d&o.childLanes)!==0,Lt||_){if(m=lt,m!==null&&(M=IT(m,d),M!==0&&M!==w.retryLane))throw w.retryLane=M,Ha(o,M),Pn(m,o,M),nv;_d(),l=z1(o,l,d)}else o=w.treeContext,mt=or(M.nextSibling),tn=l,ze=!0,Zi=null,ir=!1,o!==null&&RA(l,o),l=ud(l,m),l.flags|=4096;return l}return o=ui(o.child,{mode:m.mode,children:m.children}),o.ref=l.ref,l.child=o,o.return=l,o}function cd(o,l){var d=l.ref;if(d===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(o===null||o.ref!==d)&&(l.flags|=4194816)}}function rv(o,l,d,m,_){return Fa(l),d=jg(o,l,d,m,void 0,_),m=Ug(),o!==null&&!Lt?($g(o,l,_),mi(o,l,_)):(ze&&m&&yg(l),l.flags|=1,rn(o,l,d,_),l.child)}function G1(o,l,d,m,_,w){return Fa(l),l.updateQueue=null,d=KA(l,m,d,_),FA(o),m=Ug(),o!==null&&!Lt?($g(o,l,w),mi(o,l,w)):(ze&&m&&yg(l),l.flags|=1,rn(o,l,d,w),l.child)}function V1(o,l,d,m,_){if(Fa(l),l.stateNode===null){var w=Qo,M=d.contextType;typeof M=="object"&&M!==null&&(w=nn(M)),w=new d(m,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=ev,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=m,w.state=l.memoizedState,w.refs={},Rg(l),M=d.contextType,w.context=typeof M=="object"&&M!==null?nn(M):Qo,w.state=l.memoizedState,M=d.getDerivedStateFromProps,typeof M=="function"&&(Zg(l,d,M,m),w.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(M=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),M!==w.state&&ev.enqueueReplaceState(w,w.state,null),fu(l,m,w,_),cu(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(o===null){w=l.stateNode;var k=l.memoizedProps,H=Qa(d,k);w.props=H;var Z=w.context,ae=d.contextType;M=Qo,typeof ae=="object"&&ae!==null&&(M=nn(ae));var le=d.getDerivedStateFromProps;ae=typeof le=="function"||typeof w.getSnapshotBeforeUpdate=="function",k=l.pendingProps!==k,ae||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k||Z!==M)&&P1(l,w,m,M),na=!1;var te=l.memoizedState;w.state=te,fu(l,m,w,_),cu(),Z=l.memoizedState,k||te!==Z||na?(typeof le=="function"&&(Zg(l,d,le,m),Z=l.memoizedState),(H=na||N1(l,d,H,m,te,Z,M))?(ae||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=Z),w.props=m,w.state=Z,w.context=M,m=H):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{w=l.stateNode,Ng(o,l),M=l.memoizedProps,ae=Qa(d,M),w.props=ae,le=l.pendingProps,te=w.context,Z=d.contextType,H=Qo,typeof Z=="object"&&Z!==null&&(H=nn(Z)),k=d.getDerivedStateFromProps,(Z=typeof k=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(M!==le||te!==H)&&P1(l,w,m,H),na=!1,te=l.memoizedState,w.state=te,fu(l,m,w,_),cu();var ne=l.memoizedState;M!==le||te!==ne||na||o!==null&&o.dependencies!==null&&Vf(o.dependencies)?(typeof k=="function"&&(Zg(l,d,k,m),ne=l.memoizedState),(ae=na||N1(l,d,ae,m,te,ne,H)||o!==null&&o.dependencies!==null&&Vf(o.dependencies))?(Z||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,ne,H),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,ne,H)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||M===o.memoizedProps&&te===o.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||M===o.memoizedProps&&te===o.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=ne),w.props=m,w.state=ne,w.context=H,m=ae):(typeof w.componentDidUpdate!="function"||M===o.memoizedProps&&te===o.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||M===o.memoizedProps&&te===o.memoizedState||(l.flags|=1024),m=!1)}return w=m,cd(o,l),m=(l.flags&128)!==0,w||m?(w=l.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,o!==null&&m?(l.child=Ja(l,o.child,null,_),l.child=Ja(l,null,d,_)):rn(o,l,d,_),l.memoizedState=w.state,o=l.child):o=mi(o,l,_),o}function F1(o,l,d,m){return Ga(),l.flags|=256,rn(o,l,d,m),l.child}var iv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function av(o){return{baseLanes:o,cachePool:DA()}}function ov(o,l,d){return o=o!==null?o.childLanes&~d:0,l&&(o|=Hn),o}function K1(o,l,d){var m=l.pendingProps,_=!1,w=(l.flags&128)!==0,M;if((M=w)||(M=o!==null&&o.memoizedState===null?!1:(Pt.current&2)!==0),M&&(_=!0,l.flags&=-129),M=(l.flags&32)!==0,l.flags&=-33,o===null){if(ze){if(_?aa(l):oa(),(o=mt)?(o=tO(o,ir),o=o!==null&&o.data!=="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Qi!==null?{id:Gr,overflow:Vr}:null,retryLane:536870912,hydrationErrors:null},d=AA(o),d.return=l,l.child=d,tn=l,mt=null)):o=null,o===null)throw ea(l);return Hv(o)?l.lanes=32:l.lanes=536870912,null}var k=m.children;return m=m.fallback,_?(oa(),_=l.mode,k=fd({mode:"hidden",children:k},_),m=za(m,_,d,null),k.return=l,m.return=l,k.sibling=m,l.child=k,m=l.child,m.memoizedState=av(d),m.childLanes=ov(o,M,d),l.memoizedState=iv,gu(null,m)):(aa(l),sv(l,k))}var H=o.memoizedState;if(H!==null&&(k=H.dehydrated,k!==null)){if(w)l.flags&256?(aa(l),l.flags&=-257,l=lv(o,l,d)):l.memoizedState!==null?(oa(),l.child=o.child,l.flags|=128,l=null):(oa(),k=m.fallback,_=l.mode,m=fd({mode:"visible",children:m.children},_),k=za(k,_,d,null),k.flags|=2,m.return=l,k.return=l,m.sibling=k,l.child=m,Ja(l,o.child,null,d),m=l.child,m.memoizedState=av(d),m.childLanes=ov(o,M,d),l.memoizedState=iv,l=gu(null,m));else if(aa(l),Hv(k)){if(M=k.nextSibling&&k.nextSibling.dataset,M)var Z=M.dgst;M=Z,m=Error(r(419)),m.stack="",m.digest=M,iu({value:m,source:null,stack:null}),l=lv(o,l,d)}else if(Lt||ns(o,l,d,!1),M=(d&o.childLanes)!==0,Lt||M){if(M=lt,M!==null&&(m=IT(M,d),m!==0&&m!==H.retryLane))throw H.retryLane=m,Ha(o,m),Pn(M,o,m),nv;Bv(k)||_d(),l=lv(o,l,d)}else Bv(k)?(l.flags|=192,l.child=o.child,l=null):(o=H.treeContext,mt=or(k.nextSibling),tn=l,ze=!0,Zi=null,ir=!1,o!==null&&RA(l,o),l=sv(l,m.children),l.flags|=4096);return l}return _?(oa(),k=m.fallback,_=l.mode,H=o.child,Z=H.sibling,m=ui(H,{mode:"hidden",children:m.children}),m.subtreeFlags=H.subtreeFlags&65011712,Z!==null?k=ui(Z,k):(k=za(k,_,d,null),k.flags|=2),k.return=l,m.return=l,m.sibling=k,l.child=m,gu(null,m),m=l.child,k=o.child.memoizedState,k===null?k=av(d):(_=k.cachePool,_!==null?(H=kt._currentValue,_=_.parent!==H?{parent:H,pool:H}:_):_=DA(),k={baseLanes:k.baseLanes|d,cachePool:_}),m.memoizedState=k,m.childLanes=ov(o,M,d),l.memoizedState=iv,gu(o.child,m)):(aa(l),d=o.child,o=d.sibling,d=ui(d,{mode:"visible",children:m.children}),d.return=l,d.sibling=null,o!==null&&(M=l.deletions,M===null?(l.deletions=[o],l.flags|=16):M.push(o)),l.child=d,l.memoizedState=null,d)}function sv(o,l){return l=fd({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function fd(o,l){return o=Un(22,o,null,l),o.lanes=0,o}function lv(o,l,d){return Ja(l,o.child,null,d),o=sv(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function W1(o,l,d){o.lanes|=l;var m=o.alternate;m!==null&&(m.lanes|=l),Sg(o.return,l,d)}function uv(o,l,d,m,_,w){var M=o.memoizedState;M===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:_,treeForkCount:w}:(M.isBackwards=l,M.rendering=null,M.renderingStartTime=0,M.last=m,M.tail=d,M.tailMode=_,M.treeForkCount=w)}function Y1(o,l,d){var m=l.pendingProps,_=m.revealOrder,w=m.tail;m=m.children;var M=Pt.current,k=(M&2)!==0;if(k?(M=M&1|2,l.flags|=128):M&=1,re(Pt,M),rn(o,l,m,d),m=ze?ru:0,!k&&o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&W1(o,d,l);else if(o.tag===19)W1(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(_){case"forwards":for(d=l.child,_=null;d!==null;)o=d.alternate,o!==null&&Zf(o)===null&&(_=d),d=d.sibling;d=_,d===null?(_=l.child,l.child=null):(_=d.sibling,d.sibling=null),uv(l,!1,_,d,w,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,_=l.child,l.child=null;_!==null;){if(o=_.alternate,o!==null&&Zf(o)===null){l.child=_;break}o=_.sibling,_.sibling=d,d=_,_=o}uv(l,!0,d,null,w,m);break;case"together":uv(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function mi(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),ua|=l.lanes,(d&l.childLanes)===0)if(o!==null){if(ns(o,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,d=ui(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=ui(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function cv(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&Vf(o)))}function l5(o,l,d){switch(l.tag){case 3:Xe(l,l.stateNode.containerInfo),ta(l,kt,o.memoizedState.cache),Ga();break;case 27:case 5:Ce(l);break;case 4:Xe(l,l.stateNode.containerInfo);break;case 10:ta(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Dg(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(aa(l),l.flags|=128,null):(d&l.child.childLanes)!==0?K1(o,l,d):(aa(l),o=mi(o,l,d),o!==null?o.sibling:null);aa(l);break;case 19:var _=(o.flags&128)!==0;if(m=(d&l.childLanes)!==0,m||(ns(o,l,d,!1),m=(d&l.childLanes)!==0),_){if(m)return Y1(o,l,d);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),re(Pt,Pt.current),m)break;return null;case 22:return l.lanes=0,B1(o,l,d,l.pendingProps);case 24:ta(l,kt,o.memoizedState.cache)}return mi(o,l,d)}function J1(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps)Lt=!0;else{if(!cv(o,d)&&(l.flags&128)===0)return Lt=!1,l5(o,l,d);Lt=(o.flags&131072)!==0}else Lt=!1,ze&&(l.flags&1048576)!==0&&OA(l,ru,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(o=Wa(l.elementType),l.type=o,typeof o=="function")mg(o)?(m=Qa(o,m),l.tag=1,l=V1(null,l,o,m,d)):(l.tag=0,l=rv(null,l,o,m,d));else{if(o!=null){var _=o.$$typeof;if(_===N){l.tag=11,l=U1(null,l,o,m,d);break e}else if(_===I){l.tag=14,l=$1(null,l,o,m,d);break e}}throw l=G(o)||o,Error(r(306,l,""))}}return l;case 0:return rv(o,l,l.type,l.pendingProps,d);case 1:return m=l.type,_=Qa(m,l.pendingProps),V1(o,l,m,_,d);case 3:e:{if(Xe(l,l.stateNode.containerInfo),o===null)throw Error(r(387));m=l.pendingProps;var w=l.memoizedState;_=w.element,Ng(o,l),fu(l,m,null,d);var M=l.memoizedState;if(m=M.cache,ta(l,kt,m),m!==w.cache&&Eg(l,[kt],d,!0),cu(),m=M.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:M.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=F1(o,l,m,d);break e}else if(m!==_){_=tr(Error(r(424)),l),iu(_),l=F1(o,l,m,d);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(mt=or(o.firstChild),tn=l,ze=!0,Zi=null,ir=!0,d=BA(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Ga(),m===_){l=mi(o,l,d);break e}rn(o,l,m,d)}l=l.child}return l;case 26:return cd(o,l),o===null?(d=sO(l.type,null,l.pendingProps,null))?l.memoizedState=d:ze||(d=l.type,o=l.pendingProps,m=Cd(xe.current).createElement(d),m[en]=l,m[Tn]=o,an(m,d,o),Wt(m),l.stateNode=m):l.memoizedState=sO(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return Ce(l),o===null&&ze&&(m=l.stateNode=iO(l.type,l.pendingProps,xe.current),tn=l,ir=!0,_=mt,pa(l.type)?(zv=_,mt=or(m.firstChild)):mt=_),rn(o,l,l.pendingProps.children,d),cd(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&ze&&((_=m=mt)&&(m=U5(m,l.type,l.pendingProps,ir),m!==null?(l.stateNode=m,tn=l,mt=or(m.firstChild),ir=!1,_=!0):_=!1),_||ea(l)),Ce(l),_=l.type,w=l.pendingProps,M=o!==null?o.memoizedProps:null,m=w.children,Uv(_,w)?m=null:M!==null&&Uv(_,M)&&(l.flags|=32),l.memoizedState!==null&&(_=jg(o,l,ZB,null,null,d),Pu._currentValue=_),cd(o,l),rn(o,l,m,d),l.child;case 6:return o===null&&ze&&((o=d=mt)&&(d=$5(d,l.pendingProps,ir),d!==null?(l.stateNode=d,tn=l,mt=null,o=!0):o=!1),o||ea(l)),null;case 13:return K1(o,l,d);case 4:return Xe(l,l.stateNode.containerInfo),m=l.pendingProps,o===null?l.child=Ja(l,null,m,d):rn(o,l,m,d),l.child;case 11:return U1(o,l,l.type,l.pendingProps,d);case 7:return rn(o,l,l.pendingProps,d),l.child;case 8:return rn(o,l,l.pendingProps.children,d),l.child;case 12:return rn(o,l,l.pendingProps.children,d),l.child;case 10:return m=l.pendingProps,ta(l,l.type,m.value),rn(o,l,m.children,d),l.child;case 9:return _=l.type._context,m=l.pendingProps.children,Fa(l),_=nn(_),m=m(_),l.flags|=1,rn(o,l,m,d),l.child;case 14:return $1(o,l,l.type,l.pendingProps,d);case 15:return q1(o,l,l.type,l.pendingProps,d);case 19:return Y1(o,l,d);case 31:return s5(o,l,d);case 22:return B1(o,l,d,l.pendingProps);case 24:return Fa(l),m=nn(kt),o===null?(_=Cg(),_===null&&(_=lt,w=Tg(),_.pooledCache=w,w.refCount++,w!==null&&(_.pooledCacheLanes|=d),_=w),l.memoizedState={parent:m,cache:_},Rg(l),ta(l,kt,_)):((o.lanes&d)!==0&&(Ng(o,l),fu(l,null,null,d),cu()),_=o.memoizedState,w=l.memoizedState,_.parent!==m?(_={parent:m,cache:m},l.memoizedState=_,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=_),ta(l,kt,m)):(m=w.cache,ta(l,kt,m),m!==_.cache&&Eg(l,[kt],d,!0))),rn(o,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function gi(o){o.flags|=4}function fv(o,l,d,m,_){if((l=(o.mode&32)!==0)&&(l=!1),l){if(o.flags|=16777216,(_&335544128)===_)if(o.stateNode.complete)o.flags|=8192;else if(SC())o.flags|=8192;else throw Ya=Yf,Og}else o.flags&=-16777217}function X1(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!dO(l))if(SC())o.flags|=8192;else throw Ya=Yf,Og}function dd(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?NT():536870912,o.lanes|=l,ps|=l)}function vu(o,l){if(!ze)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function gt(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,m=0;if(l)for(var _=o.child;_!==null;)d|=_.lanes|_.childLanes,m|=_.subtreeFlags&65011712,m|=_.flags&65011712,_.return=o,_=_.sibling;else for(_=o.child;_!==null;)d|=_.lanes|_.childLanes,m|=_.subtreeFlags,m|=_.flags,_.return=o,_=_.sibling;return o.subtreeFlags|=m,o.childLanes=d,l}function u5(o,l,d){var m=l.pendingProps;switch(bg(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(l),null;case 1:return gt(l),null;case 3:return d=l.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),di(kt),de(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(ts(l)?gi(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,xg())),gt(l),null;case 26:var _=l.type,w=l.memoizedState;return o===null?(gi(l),w!==null?(gt(l),X1(l,w)):(gt(l),fv(l,_,null,m,d))):w?w!==o.memoizedState?(gi(l),gt(l),X1(l,w)):(gt(l),l.flags&=-16777217):(o=o.memoizedProps,o!==m&&gi(l),gt(l),fv(l,_,o,m,d)),null;case 27:if(Ne(l),d=xe.current,_=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==m&&gi(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return gt(l),null}o=fe.current,ts(l)?NA(l):(o=iO(_,m,d),l.stateNode=o,gi(l))}return gt(l),null;case 5:if(Ne(l),_=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==m&&gi(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return gt(l),null}if(w=fe.current,ts(l))NA(l);else{var M=Cd(xe.current);switch(w){case 1:w=M.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:w=M.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":w=M.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":w=M.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":w=M.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof m.is=="string"?M.createElement("select",{is:m.is}):M.createElement("select"),m.multiple?w.multiple=!0:m.size&&(w.size=m.size);break;default:w=typeof m.is=="string"?M.createElement(_,{is:m.is}):M.createElement(_)}}w[en]=l,w[Tn]=m;e:for(M=l.child;M!==null;){if(M.tag===5||M.tag===6)w.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===l)break e;for(;M.sibling===null;){if(M.return===null||M.return===l)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}l.stateNode=w;e:switch(an(w,_,m),_){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&gi(l)}}return gt(l),fv(l,l.type,o===null?null:o.memoizedProps,l.pendingProps,d),null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==m&&gi(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(o=xe.current,ts(l)){if(o=l.stateNode,d=l.memoizedProps,m=null,_=tn,_!==null)switch(_.tag){case 27:case 5:m=_.memoizedProps}o[en]=l,o=!!(o.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||KC(o.nodeValue,d)),o||ea(l,!0)}else o=Cd(o).createTextNode(m),o[en]=l,l.stateNode=o}return gt(l),null;case 31:if(d=l.memoizedState,o===null||o.memoizedState!==null){if(m=ts(l),d!==null){if(o===null){if(!m)throw Error(r(318));if(o=l.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[en]=l}else Ga(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;gt(l),o=!1}else d=xg(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=d),o=!0;if(!o)return l.flags&256?(qn(l),l):(qn(l),null);if((l.flags&128)!==0)throw Error(r(558))}return gt(l),null;case 13:if(m=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(_=ts(l),m!==null&&m.dehydrated!==null){if(o===null){if(!_)throw Error(r(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[en]=l}else Ga(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;gt(l),_=!1}else _=xg(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=_),_=!0;if(!_)return l.flags&256?(qn(l),l):(qn(l),null)}return qn(l),(l.flags&128)!==0?(l.lanes=d,l):(d=m!==null,o=o!==null&&o.memoizedState!==null,d&&(m=l.child,_=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(_=m.alternate.memoizedState.cachePool.pool),w=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==_&&(m.flags|=2048)),d!==o&&d&&(l.child.flags|=8192),dd(l,l.updateQueue),gt(l),null);case 4:return de(),o===null&&Iv(l.stateNode.containerInfo),gt(l),null;case 10:return di(l.type),gt(l),null;case 19:if(Y(Pt),m=l.memoizedState,m===null)return gt(l),null;if(_=(l.flags&128)!==0,w=m.rendering,w===null)if(_)vu(m,!1);else{if(Ot!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(w=Zf(o),w!==null){for(l.flags|=128,vu(m,!1),o=w.updateQueue,l.updateQueue=o,dd(l,o),l.subtreeFlags=0,o=d,d=l.child;d!==null;)TA(d,o),d=d.sibling;return re(Pt,Pt.current&1|2),ze&&ci(l,m.treeForkCount),l.child}o=o.sibling}m.tail!==null&&cn()>vd&&(l.flags|=128,_=!0,vu(m,!1),l.lanes=4194304)}else{if(!_)if(o=Zf(w),o!==null){if(l.flags|=128,_=!0,o=o.updateQueue,l.updateQueue=o,dd(l,o),vu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!ze)return gt(l),null}else 2*cn()-m.renderingStartTime>vd&&d!==536870912&&(l.flags|=128,_=!0,vu(m,!1),l.lanes=4194304);m.isBackwards?(w.sibling=l.child,l.child=w):(o=m.last,o!==null?o.sibling=w:l.child=w,m.last=w)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=cn(),o.sibling=null,d=Pt.current,re(Pt,_?d&1|2:d&1),ze&&ci(l,m.treeForkCount),o):(gt(l),null);case 22:case 23:return qn(l),kg(),m=l.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(d&536870912)!==0&&(l.flags&128)===0&&(gt(l),l.subtreeFlags&6&&(l.flags|=8192)):gt(l),d=l.updateQueue,d!==null&&dd(l,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048),o!==null&&Y(Ka),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),di(kt),gt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function c5(o,l){switch(bg(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return di(kt),de(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return Ne(l),null;case 31:if(l.memoizedState!==null){if(qn(l),l.alternate===null)throw Error(r(340));Ga()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 13:if(qn(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Ga()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Y(Pt),null;case 4:return de(),null;case 10:return di(l.type),null;case 22:case 23:return qn(l),kg(),o!==null&&Y(Ka),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return di(kt),null;case 25:return null;default:return null}}function Q1(o,l){switch(bg(l),l.tag){case 3:di(kt),de();break;case 26:case 27:case 5:Ne(l);break;case 4:de();break;case 31:l.memoizedState!==null&&qn(l);break;case 13:qn(l);break;case 19:Y(Pt);break;case 10:di(l.type);break;case 22:case 23:qn(l),kg(),o!==null&&Y(Ka);break;case 24:di(kt)}}function yu(o,l){try{var d=l.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var _=m.next;d=_;do{if((d.tag&o)===o){m=void 0;var w=d.create,M=d.inst;m=w(),M.destroy=m}d=d.next}while(d!==_)}}catch(k){nt(l,l.return,k)}}function sa(o,l,d){try{var m=l.updateQueue,_=m!==null?m.lastEffect:null;if(_!==null){var w=_.next;m=w;do{if((m.tag&o)===o){var M=m.inst,k=M.destroy;if(k!==void 0){M.destroy=void 0,_=l;var H=d,Z=k;try{Z()}catch(ae){nt(_,H,ae)}}}m=m.next}while(m!==w)}}catch(ae){nt(l,l.return,ae)}}function Z1(o){var l=o.updateQueue;if(l!==null){var d=o.stateNode;try{zA(l,d)}catch(m){nt(o,o.return,m)}}}function eC(o,l,d){d.props=Qa(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(m){nt(o,l,m)}}function bu(o,l){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var m=o.stateNode;break;case 30:m=o.stateNode;break;default:m=o.stateNode}typeof d=="function"?o.refCleanup=d(m):d.current=m}}catch(_){nt(o,l,_)}}function Fr(o,l){var d=o.ref,m=o.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(_){nt(o,l,_)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(_){nt(o,l,_)}else d.current=null}function tC(o){var l=o.type,d=o.memoizedProps,m=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(_){nt(o,o.return,_)}}function dv(o,l,d){try{var m=o.stateNode;M5(m,o.type,d,l),m[Tn]=l}catch(_){nt(o,o.return,_)}}function nC(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&pa(o.type)||o.tag===4}function hv(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||nC(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&pa(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function pv(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(o),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=si));else if(m!==4&&(m===27&&pa(o.type)&&(d=o.stateNode,l=null),o=o.child,o!==null))for(pv(o,l,d),o=o.sibling;o!==null;)pv(o,l,d),o=o.sibling}function hd(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(m!==4&&(m===27&&pa(o.type)&&(d=o.stateNode),o=o.child,o!==null))for(hd(o,l,d),o=o.sibling;o!==null;)hd(o,l,d),o=o.sibling}function rC(o){var l=o.stateNode,d=o.memoizedProps;try{for(var m=o.type,_=l.attributes;_.length;)l.removeAttributeNode(_[0]);an(l,m,d),l[en]=o,l[Tn]=d}catch(w){nt(o,o.return,w)}}var vi=!1,jt=!1,mv=!1,iC=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function f5(o,l){if(o=o.containerInfo,Lv=kd,o=gA(o),lg(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var _=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var M=0,k=-1,H=-1,Z=0,ae=0,le=o,te=null;t:for(;;){for(var ne;le!==d||_!==0&&le.nodeType!==3||(k=M+_),le!==w||m!==0&&le.nodeType!==3||(H=M+m),le.nodeType===3&&(M+=le.nodeValue.length),(ne=le.firstChild)!==null;)te=le,le=ne;for(;;){if(le===o)break t;if(te===d&&++Z===_&&(k=M),te===w&&++ae===m&&(H=M),(ne=le.nextSibling)!==null)break;le=te,te=le.parentNode}le=ne}d=k===-1||H===-1?null:{start:k,end:H}}else d=null}d=d||{start:0,end:0}}else d=null;for(jv={focusedElem:o,selectionRange:d},kd=!1,Yt=l;Yt!==null;)if(l=Yt,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Yt=o;else for(;Yt!==null;){switch(l=Yt,w=l.alternate,o=l.flags,l.tag){case 0:if((o&4)!==0&&(o=l.updateQueue,o=o!==null?o.events:null,o!==null))for(d=0;d<o.length;d++)_=o[d],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&w!==null){o=void 0,d=l,_=w.memoizedProps,w=w.memoizedState,m=d.stateNode;try{var ve=Qa(d.type,_);o=m.getSnapshotBeforeUpdate(ve,w),m.__reactInternalSnapshotBeforeUpdate=o}catch(we){nt(d,d.return,we)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,d=o.nodeType,d===9)qv(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":qv(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,Yt=o;break}Yt=l.return}}function aC(o,l,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:bi(o,d),m&4&&yu(5,d);break;case 1:if(bi(o,d),m&4)if(o=d.stateNode,l===null)try{o.componentDidMount()}catch(M){nt(d,d.return,M)}else{var _=Qa(d.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(_,l,o.__reactInternalSnapshotBeforeUpdate)}catch(M){nt(d,d.return,M)}}m&64&&Z1(d),m&512&&bu(d,d.return);break;case 3:if(bi(o,d),m&64&&(o=d.updateQueue,o!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{zA(o,l)}catch(M){nt(d,d.return,M)}}break;case 27:l===null&&m&4&&rC(d);case 26:case 5:bi(o,d),l===null&&m&4&&tC(d),m&512&&bu(d,d.return);break;case 12:bi(o,d);break;case 31:bi(o,d),m&4&&lC(o,d);break;case 13:bi(o,d),m&4&&uC(o,d),m&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=_5.bind(null,d),q5(o,d))));break;case 22:if(m=d.memoizedState!==null||vi,!m){l=l!==null&&l.memoizedState!==null||jt,_=vi;var w=jt;vi=m,(jt=l)&&!w?_i(o,d,(d.subtreeFlags&8772)!==0):bi(o,d),vi=_,jt=w}break;case 30:break;default:bi(o,d)}}function oC(o){var l=o.alternate;l!==null&&(o.alternate=null,oC(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&Vm(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var yt=null,Cn=!1;function yi(o,l,d){for(d=d.child;d!==null;)sC(o,l,d),d=d.sibling}function sC(o,l,d){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(zl,d)}catch{}switch(d.tag){case 26:jt||Fr(d,l),yi(o,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:jt||Fr(d,l);var m=yt,_=Cn;pa(d.type)&&(yt=d.stateNode,Cn=!1),yi(o,l,d),Ou(d.stateNode),yt=m,Cn=_;break;case 5:jt||Fr(d,l);case 6:if(m=yt,_=Cn,yt=null,yi(o,l,d),yt=m,Cn=_,yt!==null)if(Cn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(d.stateNode)}catch(w){nt(d,l,w)}else try{yt.removeChild(d.stateNode)}catch(w){nt(d,l,w)}break;case 18:yt!==null&&(Cn?(o=yt,ZC(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),ws(o)):ZC(yt,d.stateNode));break;case 4:m=yt,_=Cn,yt=d.stateNode.containerInfo,Cn=!0,yi(o,l,d),yt=m,Cn=_;break;case 0:case 11:case 14:case 15:sa(2,d,l),jt||sa(4,d,l),yi(o,l,d);break;case 1:jt||(Fr(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"&&eC(d,l,m)),yi(o,l,d);break;case 21:yi(o,l,d);break;case 22:jt=(m=jt)||d.memoizedState!==null,yi(o,l,d),jt=m;break;default:yi(o,l,d)}}function lC(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{ws(o)}catch(d){nt(l,l.return,d)}}}function uC(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{ws(o)}catch(d){nt(l,l.return,d)}}function d5(o){switch(o.tag){case 31:case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new iC),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new iC),l;default:throw Error(r(435,o.tag))}}function pd(o,l){var d=d5(o);l.forEach(function(m){if(!d.has(m)){d.add(m);var _=x5.bind(null,o,m);m.then(_,_)}})}function On(o,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var _=d[m],w=o,M=l,k=M;e:for(;k!==null;){switch(k.tag){case 27:if(pa(k.type)){yt=k.stateNode,Cn=!1;break e}break;case 5:yt=k.stateNode,Cn=!1;break e;case 3:case 4:yt=k.stateNode.containerInfo,Cn=!0;break e}k=k.return}if(yt===null)throw Error(r(160));sC(w,M,_),yt=null,Cn=!1,w=_.alternate,w!==null&&(w.return=null),_.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)cC(l,o),l=l.sibling}var Or=null;function cC(o,l){var d=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:On(l,o),Rn(o),m&4&&(sa(3,o,o.return),yu(3,o),sa(5,o,o.return));break;case 1:On(l,o),Rn(o),m&512&&(jt||d===null||Fr(d,d.return)),m&64&&vi&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var _=Or;if(On(l,o),Rn(o),m&512&&(jt||d===null||Fr(d,d.return)),m&4){var w=d!==null?d.memoizedState:null;if(m=o.memoizedState,d===null)if(m===null)if(o.stateNode===null){e:{m=o.type,d=o.memoizedProps,_=_.ownerDocument||_;t:switch(m){case"title":w=_.getElementsByTagName("title")[0],(!w||w[Fl]||w[en]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=_.createElement(m),_.head.insertBefore(w,_.querySelector("head > title"))),an(w,m,d),w[en]=o,Wt(w),m=w;break e;case"link":var M=cO("link","href",_).get(m+(d.href||""));if(M){for(var k=0;k<M.length;k++)if(w=M[k],w.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&w.getAttribute("rel")===(d.rel==null?null:d.rel)&&w.getAttribute("title")===(d.title==null?null:d.title)&&w.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){M.splice(k,1);break t}}w=_.createElement(m),an(w,m,d),_.head.appendChild(w);break;case"meta":if(M=cO("meta","content",_).get(m+(d.content||""))){for(k=0;k<M.length;k++)if(w=M[k],w.getAttribute("content")===(d.content==null?null:""+d.content)&&w.getAttribute("name")===(d.name==null?null:d.name)&&w.getAttribute("property")===(d.property==null?null:d.property)&&w.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&w.getAttribute("charset")===(d.charSet==null?null:d.charSet)){M.splice(k,1);break t}}w=_.createElement(m),an(w,m,d),_.head.appendChild(w);break;default:throw Error(r(468,m))}w[en]=o,Wt(w),m=w}o.stateNode=m}else fO(_,o.type,o.stateNode);else o.stateNode=uO(_,m,o.memoizedProps);else w!==m?(w===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):w.count--,m===null?fO(_,o.type,o.stateNode):uO(_,m,o.memoizedProps)):m===null&&o.stateNode!==null&&dv(o,o.memoizedProps,d.memoizedProps)}break;case 27:On(l,o),Rn(o),m&512&&(jt||d===null||Fr(d,d.return)),d!==null&&m&4&&dv(o,o.memoizedProps,d.memoizedProps);break;case 5:if(On(l,o),Rn(o),m&512&&(jt||d===null||Fr(d,d.return)),o.flags&32){_=o.stateNode;try{Vo(_,"")}catch(ve){nt(o,o.return,ve)}}m&4&&o.stateNode!=null&&(_=o.memoizedProps,dv(o,_,d!==null?d.memoizedProps:_)),m&1024&&(mv=!0);break;case 6:if(On(l,o),Rn(o),m&4){if(o.stateNode===null)throw Error(r(162));m=o.memoizedProps,d=o.stateNode;try{d.nodeValue=m}catch(ve){nt(o,o.return,ve)}}break;case 3:if(Nd=null,_=Or,Or=Od(l.containerInfo),On(l,o),Or=_,Rn(o),m&4&&d!==null&&d.memoizedState.isDehydrated)try{ws(l.containerInfo)}catch(ve){nt(o,o.return,ve)}mv&&(mv=!1,fC(o));break;case 4:m=Or,Or=Od(o.stateNode.containerInfo),On(l,o),Rn(o),Or=m;break;case 12:On(l,o),Rn(o);break;case 31:On(l,o),Rn(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,pd(o,m)));break;case 13:On(l,o),Rn(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(gd=cn()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,pd(o,m)));break;case 22:_=o.memoizedState!==null;var H=d!==null&&d.memoizedState!==null,Z=vi,ae=jt;if(vi=Z||_,jt=ae||H,On(l,o),jt=ae,vi=Z,Rn(o),m&8192)e:for(l=o.stateNode,l._visibility=_?l._visibility&-2:l._visibility|1,_&&(d===null||H||vi||jt||Za(o)),d=null,l=o;;){if(l.tag===5||l.tag===26){if(d===null){H=d=l;try{if(w=H.stateNode,_)M=w.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{k=H.stateNode;var le=H.memoizedProps.style,te=le!=null&&le.hasOwnProperty("display")?le.display:null;k.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ve){nt(H,H.return,ve)}}}else if(l.tag===6){if(d===null){H=l;try{H.stateNode.nodeValue=_?"":H.memoizedProps}catch(ve){nt(H,H.return,ve)}}}else if(l.tag===18){if(d===null){H=l;try{var ne=H.stateNode;_?eO(ne,!0):eO(H.stateNode,!1)}catch(ve){nt(H,H.return,ve)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=o.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,pd(o,d))));break;case 19:On(l,o),Rn(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,pd(o,m)));break;case 30:break;case 21:break;default:On(l,o),Rn(o)}}function Rn(o){var l=o.flags;if(l&2){try{for(var d,m=o.return;m!==null;){if(nC(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var _=d.stateNode,w=hv(o);hd(o,w,_);break;case 5:var M=d.stateNode;d.flags&32&&(Vo(M,""),d.flags&=-33);var k=hv(o);hd(o,k,M);break;case 3:case 4:var H=d.stateNode.containerInfo,Z=hv(o);pv(o,Z,H);break;default:throw Error(r(161))}}catch(ae){nt(o,o.return,ae)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function fC(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;fC(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function bi(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)aC(o,l.alternate,l),l=l.sibling}function Za(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:sa(4,l,l.return),Za(l);break;case 1:Fr(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&eC(l,l.return,d),Za(l);break;case 27:Ou(l.stateNode);case 26:case 5:Fr(l,l.return),Za(l);break;case 22:l.memoizedState===null&&Za(l);break;case 30:Za(l);break;default:Za(l)}o=o.sibling}}function _i(o,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,_=o,w=l,M=w.flags;switch(w.tag){case 0:case 11:case 15:_i(_,w,d),yu(4,w);break;case 1:if(_i(_,w,d),m=w,_=m.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(Z){nt(m,m.return,Z)}if(m=w,_=m.updateQueue,_!==null){var k=m.stateNode;try{var H=_.shared.hiddenCallbacks;if(H!==null)for(_.shared.hiddenCallbacks=null,_=0;_<H.length;_++)HA(H[_],k)}catch(Z){nt(m,m.return,Z)}}d&&M&64&&Z1(w),bu(w,w.return);break;case 27:rC(w);case 26:case 5:_i(_,w,d),d&&m===null&&M&4&&tC(w),bu(w,w.return);break;case 12:_i(_,w,d);break;case 31:_i(_,w,d),d&&M&4&&lC(_,w);break;case 13:_i(_,w,d),d&&M&4&&uC(_,w);break;case 22:w.memoizedState===null&&_i(_,w,d),bu(w,w.return);break;case 30:break;default:_i(_,w,d)}l=l.sibling}}function gv(o,l){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&au(d))}function vv(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&au(o))}function Rr(o,l,d,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)dC(o,l,d,m),l=l.sibling}function dC(o,l,d,m){var _=l.flags;switch(l.tag){case 0:case 11:case 15:Rr(o,l,d,m),_&2048&&yu(9,l);break;case 1:Rr(o,l,d,m);break;case 3:Rr(o,l,d,m),_&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&au(o)));break;case 12:if(_&2048){Rr(o,l,d,m),o=l.stateNode;try{var w=l.memoizedProps,M=w.id,k=w.onPostCommit;typeof k=="function"&&k(M,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(H){nt(l,l.return,H)}}else Rr(o,l,d,m);break;case 31:Rr(o,l,d,m);break;case 13:Rr(o,l,d,m);break;case 23:break;case 22:w=l.stateNode,M=l.alternate,l.memoizedState!==null?w._visibility&2?Rr(o,l,d,m):_u(o,l):w._visibility&2?Rr(o,l,d,m):(w._visibility|=2,fs(o,l,d,m,(l.subtreeFlags&10256)!==0||!1)),_&2048&&gv(M,l);break;case 24:Rr(o,l,d,m),_&2048&&vv(l.alternate,l);break;default:Rr(o,l,d,m)}}function fs(o,l,d,m,_){for(_=_&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var w=o,M=l,k=d,H=m,Z=M.flags;switch(M.tag){case 0:case 11:case 15:fs(w,M,k,H,_),yu(8,M);break;case 23:break;case 22:var ae=M.stateNode;M.memoizedState!==null?ae._visibility&2?fs(w,M,k,H,_):_u(w,M):(ae._visibility|=2,fs(w,M,k,H,_)),_&&Z&2048&&gv(M.alternate,M);break;case 24:fs(w,M,k,H,_),_&&Z&2048&&vv(M.alternate,M);break;default:fs(w,M,k,H,_)}l=l.sibling}}function _u(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=o,m=l,_=m.flags;switch(m.tag){case 22:_u(d,m),_&2048&&gv(m.alternate,m);break;case 24:_u(d,m),_&2048&&vv(m.alternate,m);break;default:_u(d,m)}l=l.sibling}}var xu=8192;function ds(o,l,d){if(o.subtreeFlags&xu)for(o=o.child;o!==null;)hC(o,l,d),o=o.sibling}function hC(o,l,d){switch(o.tag){case 26:ds(o,l,d),o.flags&xu&&o.memoizedState!==null&&Q5(d,Or,o.memoizedState,o.memoizedProps);break;case 5:ds(o,l,d);break;case 3:case 4:var m=Or;Or=Od(o.stateNode.containerInfo),ds(o,l,d),Or=m;break;case 22:o.memoizedState===null&&(m=o.alternate,m!==null&&m.memoizedState!==null?(m=xu,xu=16777216,ds(o,l,d),xu=m):ds(o,l,d));break;default:ds(o,l,d)}}function pC(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function wu(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];Yt=m,gC(m,o)}pC(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)mC(o),o=o.sibling}function mC(o){switch(o.tag){case 0:case 11:case 15:wu(o),o.flags&2048&&sa(9,o,o.return);break;case 3:wu(o);break;case 12:wu(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,md(o)):wu(o);break;default:wu(o)}}function md(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];Yt=m,gC(m,o)}pC(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:sa(8,l,l.return),md(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,md(l));break;default:md(l)}o=o.sibling}}function gC(o,l){for(;Yt!==null;){var d=Yt;switch(d.tag){case 0:case 11:case 15:sa(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:au(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,Yt=m;else e:for(d=o;Yt!==null;){m=Yt;var _=m.sibling,w=m.return;if(oC(m),m===d){Yt=null;break e}if(_!==null){_.return=w,Yt=_;break e}Yt=w}}}var h5={getCacheForType:function(o){var l=nn(kt),d=l.data.get(o);return d===void 0&&(d=o(),l.data.set(o,d)),d},cacheSignal:function(){return nn(kt).controller.signal}},p5=typeof WeakMap=="function"?WeakMap:Map,Je=0,lt=null,$e=null,Be=0,tt=0,Bn=null,la=!1,hs=!1,yv=!1,xi=0,Ot=0,ua=0,eo=0,bv=0,Hn=0,ps=0,Su=null,Nn=null,_v=!1,gd=0,vC=0,vd=1/0,yd=null,ca=null,Ht=0,fa=null,ms=null,wi=0,xv=0,wv=null,yC=null,Eu=0,Sv=null;function zn(){return(Je&2)!==0&&Be!==0?Be&-Be:j.T!==null?Rv():kT()}function bC(){if(Hn===0)if((Be&536870912)===0||ze){var o=Af;Af<<=1,(Af&3932160)===0&&(Af=262144),Hn=o}else Hn=536870912;return o=$n.current,o!==null&&(o.flags|=32),Hn}function Pn(o,l,d){(o===lt&&(tt===2||tt===9)||o.cancelPendingCommit!==null)&&(gs(o,0),da(o,Be,Hn,!1)),Vl(o,d),((Je&2)===0||o!==lt)&&(o===lt&&((Je&2)===0&&(eo|=d),Ot===4&&da(o,Be,Hn,!1)),Kr(o))}function _C(o,l,d){if((Je&6)!==0)throw Error(r(327));var m=!d&&(l&127)===0&&(l&o.expiredLanes)===0||Gl(o,l),_=m?v5(o,l):Tv(o,l,!0),w=m;do{if(_===0){hs&&!m&&da(o,l,0,!1);break}else{if(d=o.current.alternate,w&&!m5(d)){_=Tv(o,l,!1),w=!1;continue}if(_===2){if(w=l,o.errorRecoveryDisabledLanes&w)var M=0;else M=o.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){l=M;e:{var k=o;_=Su;var H=k.current.memoizedState.isDehydrated;if(H&&(gs(k,M).flags|=256),M=Tv(k,M,!1),M!==2){if(yv&&!H){k.errorRecoveryDisabledLanes|=w,eo|=w,_=4;break e}w=Nn,Nn=_,w!==null&&(Nn===null?Nn=w:Nn.push.apply(Nn,w))}_=M}if(w=!1,_!==2)continue}}if(_===1){gs(o,0),da(o,l,0,!0);break}e:{switch(m=o,w=_,w){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:da(m,l,Hn,!la);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(_=gd+300-cn(),10<_)){if(da(m,l,Hn,!la),Of(m,0,!0)!==0)break e;wi=l,m.timeoutHandle=XC(xC.bind(null,m,d,Nn,yd,_v,l,Hn,eo,ps,la,w,"Throttled",-0,0),_);break e}xC(m,d,Nn,yd,_v,l,Hn,eo,ps,la,w,null,-0,0)}}break}while(!0);Kr(o)}function xC(o,l,d,m,_,w,M,k,H,Z,ae,le,te,ne){if(o.timeoutHandle=-1,le=l.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},hC(l,w,le);var ve=(w&62914560)===w?gd-cn():(w&4194048)===w?vC-cn():0;if(ve=Z5(le,ve),ve!==null){wi=w,o.cancelPendingCommit=ve(RC.bind(null,o,l,w,d,m,_,M,k,H,ae,le,null,te,ne)),da(o,w,M,!Z);return}}RC(o,l,w,d,m,_,M,k,H)}function m5(o){for(var l=o;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var _=d[m],w=_.getSnapshot;_=_.value;try{if(!jn(w(),_))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function da(o,l,d,m){l&=~bv,l&=~eo,o.suspendedLanes|=l,o.pingedLanes&=~l,m&&(o.warmLanes|=l),m=o.expirationTimes;for(var _=l;0<_;){var w=31-Ln(_),M=1<<w;m[w]=-1,_&=~M}d!==0&&PT(o,d,l)}function bd(){return(Je&6)===0?(Tu(0),!1):!0}function Ev(){if($e!==null){if(tt===0)var o=$e.return;else o=$e,fi=Va=null,qg(o),os=null,su=0,o=$e;for(;o!==null;)Q1(o.alternate,o),o=o.return;$e=null}}function gs(o,l){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,D5(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),wi=0,Ev(),lt=o,$e=d=ui(o.current,null),Be=l,tt=0,Bn=null,la=!1,hs=Gl(o,l),yv=!1,ps=Hn=bv=eo=ua=Ot=0,Nn=Su=null,_v=!1,(l&8)!==0&&(l|=l&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=l;0<m;){var _=31-Ln(m),w=1<<_;l|=o[_],m&=~w}return xi=l,qf(),d}function wC(o,l){Me=null,j.H=mu,l===as||l===Wf?(l=UA(),tt=3):l===Og?(l=UA(),tt=4):tt=l===nv?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Bn=l,$e===null&&(Ot=1,ld(o,tr(l,o.current)))}function SC(){var o=$n.current;return o===null?!0:(Be&4194048)===Be?ar===null:(Be&62914560)===Be||(Be&536870912)!==0?o===ar:!1}function EC(){var o=j.H;return j.H=mu,o===null?mu:o}function TC(){var o=j.A;return j.A=h5,o}function _d(){Ot=4,la||(Be&4194048)!==Be&&$n.current!==null||(hs=!0),(ua&134217727)===0&&(eo&134217727)===0||lt===null||da(lt,Be,Hn,!1)}function Tv(o,l,d){var m=Je;Je|=2;var _=EC(),w=TC();(lt!==o||Be!==l)&&(yd=null,gs(o,l)),l=!1;var M=Ot;e:do try{if(tt!==0&&$e!==null){var k=$e,H=Bn;switch(tt){case 8:Ev(),M=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(l=!0);var Z=tt;if(tt=0,Bn=null,vs(o,k,H,Z),d&&hs){M=0;break e}break;default:Z=tt,tt=0,Bn=null,vs(o,k,H,Z)}}g5(),M=Ot;break}catch(ae){wC(o,ae)}while(!0);return l&&o.shellSuspendCounter++,fi=Va=null,Je=m,j.H=_,j.A=w,$e===null&&(lt=null,Be=0,qf()),M}function g5(){for(;$e!==null;)AC($e)}function v5(o,l){var d=Je;Je|=2;var m=EC(),_=TC();lt!==o||Be!==l?(yd=null,vd=cn()+500,gs(o,l)):hs=Gl(o,l);e:do try{if(tt!==0&&$e!==null){l=$e;var w=Bn;t:switch(tt){case 1:tt=0,Bn=null,vs(o,l,w,1);break;case 2:case 9:if(LA(w)){tt=0,Bn=null,CC(l);break}l=function(){tt!==2&&tt!==9||lt!==o||(tt=7),Kr(o)},w.then(l,l);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:LA(w)?(tt=0,Bn=null,CC(l)):(tt=0,Bn=null,vs(o,l,w,7));break;case 5:var M=null;switch($e.tag){case 26:M=$e.memoizedState;case 5:case 27:var k=$e;if(M?dO(M):k.stateNode.complete){tt=0,Bn=null;var H=k.sibling;if(H!==null)$e=H;else{var Z=k.return;Z!==null?($e=Z,xd(Z)):$e=null}break t}}tt=0,Bn=null,vs(o,l,w,5);break;case 6:tt=0,Bn=null,vs(o,l,w,6);break;case 8:Ev(),Ot=6;break e;default:throw Error(r(462))}}y5();break}catch(ae){wC(o,ae)}while(!0);return fi=Va=null,j.H=m,j.A=_,Je=d,$e!==null?0:(lt=null,Be=0,qf(),Ot)}function y5(){for(;$e!==null&&!ai();)AC($e)}function AC(o){var l=J1(o.alternate,o,xi);o.memoizedProps=o.pendingProps,l===null?xd(o):$e=l}function CC(o){var l=o,d=l.alternate;switch(l.tag){case 15:case 0:l=G1(d,l,l.pendingProps,l.type,void 0,Be);break;case 11:l=G1(d,l,l.pendingProps,l.type.render,l.ref,Be);break;case 5:qg(l);default:Q1(d,l),l=$e=TA(l,xi),l=J1(d,l,xi)}o.memoizedProps=o.pendingProps,l===null?xd(o):$e=l}function vs(o,l,d,m){fi=Va=null,qg(l),os=null,su=0;var _=l.return;try{if(o5(o,_,l,d,Be)){Ot=1,ld(o,tr(d,o.current)),$e=null;return}}catch(w){if(_!==null)throw $e=_,w;Ot=1,ld(o,tr(d,o.current)),$e=null;return}l.flags&32768?(ze||m===1?o=!0:hs||(Be&536870912)!==0?o=!1:(la=o=!0,(m===2||m===9||m===3||m===6)&&(m=$n.current,m!==null&&m.tag===13&&(m.flags|=16384))),OC(l,o)):xd(l)}function xd(o){var l=o;do{if((l.flags&32768)!==0){OC(l,la);return}o=l.return;var d=u5(l.alternate,l,xi);if(d!==null){$e=d;return}if(l=l.sibling,l!==null){$e=l;return}$e=l=o}while(l!==null);Ot===0&&(Ot=5)}function OC(o,l){do{var d=c5(o.alternate,o);if(d!==null){d.flags&=32767,$e=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(o=o.sibling,o!==null)){$e=o;return}$e=o=d}while(o!==null);Ot=6,$e=null}function RC(o,l,d,m,_,w,M,k,H){o.cancelPendingCommit=null;do wd();while(Ht!==0);if((Je&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(w=l.lanes|l.childLanes,w|=hg,X3(o,d,w,M,k,H),o===lt&&($e=lt=null,Be=0),ms=l,fa=o,wi=d,xv=w,wv=_,yC=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,w5(Ef,function(){return kC(),null})):(o.callbackNode=null,o.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=j.T,j.T=null,_=F.p,F.p=2,M=Je,Je|=4;try{f5(o,l,d)}finally{Je=M,F.p=_,j.T=m}}Ht=1,NC(),PC(),MC()}}function NC(){if(Ht===1){Ht=0;var o=fa,l=ms,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=j.T,j.T=null;var m=F.p;F.p=2;var _=Je;Je|=4;try{cC(l,o);var w=jv,M=gA(o.containerInfo),k=w.focusedElem,H=w.selectionRange;if(M!==k&&k&&k.ownerDocument&&mA(k.ownerDocument.documentElement,k)){if(H!==null&&lg(k)){var Z=H.start,ae=H.end;if(ae===void 0&&(ae=Z),"selectionStart"in k)k.selectionStart=Z,k.selectionEnd=Math.min(ae,k.value.length);else{var le=k.ownerDocument||document,te=le&&le.defaultView||window;if(te.getSelection){var ne=te.getSelection(),ve=k.textContent.length,we=Math.min(H.start,ve),ot=H.end===void 0?we:Math.min(H.end,ve);!ne.extend&&we>ot&&(M=ot,ot=we,we=M);var X=pA(k,we),W=pA(k,ot);if(X&&W&&(ne.rangeCount!==1||ne.anchorNode!==X.node||ne.anchorOffset!==X.offset||ne.focusNode!==W.node||ne.focusOffset!==W.offset)){var Q=le.createRange();Q.setStart(X.node,X.offset),ne.removeAllRanges(),we>ot?(ne.addRange(Q),ne.extend(W.node,W.offset)):(Q.setEnd(W.node,W.offset),ne.addRange(Q))}}}}for(le=[],ne=k;ne=ne.parentNode;)ne.nodeType===1&&le.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<le.length;k++){var se=le[k];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}kd=!!Lv,jv=Lv=null}finally{Je=_,F.p=m,j.T=d}}o.current=l,Ht=2}}function PC(){if(Ht===2){Ht=0;var o=fa,l=ms,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=j.T,j.T=null;var m=F.p;F.p=2;var _=Je;Je|=4;try{aC(o,l.alternate,l)}finally{Je=_,F.p=m,j.T=d}}Ht=3}}function MC(){if(Ht===4||Ht===3){Ht=0,Hl();var o=fa,l=ms,d=wi,m=yC;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Ht=5:(Ht=0,ms=fa=null,IC(o,o.pendingLanes));var _=o.pendingLanes;if(_===0&&(ca=null),zm(d),l=l.stateNode,Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(zl,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=j.T,_=F.p,F.p=2,j.T=null;try{for(var w=o.onRecoverableError,M=0;M<m.length;M++){var k=m[M];w(k.value,{componentStack:k.stack})}}finally{j.T=l,F.p=_}}(wi&3)!==0&&wd(),Kr(o),_=o.pendingLanes,(d&261930)!==0&&(_&42)!==0?o===Sv?Eu++:(Eu=0,Sv=o):Eu=0,Tu(0)}}function IC(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,au(l)))}function wd(){return NC(),PC(),MC(),kC()}function kC(){if(Ht!==5)return!1;var o=fa,l=xv;xv=0;var d=zm(wi),m=j.T,_=F.p;try{F.p=32>d?32:d,j.T=null,d=wv,wv=null;var w=fa,M=wi;if(Ht=0,ms=fa=null,wi=0,(Je&6)!==0)throw Error(r(331));var k=Je;if(Je|=4,mC(w.current),dC(w,w.current,M,d),Je=k,Tu(0,!1),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(zl,w)}catch{}return!0}finally{F.p=_,j.T=m,IC(o,l)}}function DC(o,l,d){l=tr(d,l),l=tv(o.stateNode,l,2),o=ia(o,l,2),o!==null&&(Vl(o,2),Kr(o))}function nt(o,l,d){if(o.tag===3)DC(o,o,d);else for(;l!==null;){if(l.tag===3){DC(l,o,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ca===null||!ca.has(m))){o=tr(d,o),d=L1(2),m=ia(l,d,2),m!==null&&(j1(d,m,l,o),Vl(m,2),Kr(m));break}}l=l.return}}function Av(o,l,d){var m=o.pingCache;if(m===null){m=o.pingCache=new p5;var _=new Set;m.set(l,_)}else _=m.get(l),_===void 0&&(_=new Set,m.set(l,_));_.has(d)||(yv=!0,_.add(d),o=b5.bind(null,o,l,d),l.then(o,o))}function b5(o,l,d){var m=o.pingCache;m!==null&&m.delete(l),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,lt===o&&(Be&d)===d&&(Ot===4||Ot===3&&(Be&62914560)===Be&&300>cn()-gd?(Je&2)===0&&gs(o,0):bv|=d,ps===Be&&(ps=0)),Kr(o)}function LC(o,l){l===0&&(l=NT()),o=Ha(o,l),o!==null&&(Vl(o,l),Kr(o))}function _5(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),LC(o,d)}function x5(o,l){var d=0;switch(o.tag){case 31:case 13:var m=o.stateNode,_=o.memoizedState;_!==null&&(d=_.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),LC(o,d)}function w5(o,l){return Wi(o,l)}var Sd=null,ys=null,Cv=!1,Ed=!1,Ov=!1,ha=0;function Kr(o){o!==ys&&o.next===null&&(ys===null?Sd=ys=o:ys=ys.next=o),Ed=!0,Cv||(Cv=!0,E5())}function Tu(o,l){if(!Ov&&Ed){Ov=!0;do for(var d=!1,m=Sd;m!==null;){if(o!==0){var _=m.pendingLanes;if(_===0)var w=0;else{var M=m.suspendedLanes,k=m.pingedLanes;w=(1<<31-Ln(42|o)+1)-1,w&=_&~(M&~k),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(d=!0,qC(m,w))}else w=Be,w=Of(m,m===lt?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||Gl(m,w)||(d=!0,qC(m,w));m=m.next}while(d);Ov=!1}}function S5(){jC()}function jC(){Ed=Cv=!1;var o=0;ha!==0&&k5()&&(o=ha);for(var l=cn(),d=null,m=Sd;m!==null;){var _=m.next,w=UC(m,l);w===0?(m.next=null,d===null?Sd=_:d.next=_,_===null&&(ys=d)):(d=m,(o!==0||(w&3)!==0)&&(Ed=!0)),m=_}Ht!==0&&Ht!==5||Tu(o),ha!==0&&(ha=0)}function UC(o,l){for(var d=o.suspendedLanes,m=o.pingedLanes,_=o.expirationTimes,w=o.pendingLanes&-62914561;0<w;){var M=31-Ln(w),k=1<<M,H=_[M];H===-1?((k&d)===0||(k&m)!==0)&&(_[M]=J3(k,l)):H<=l&&(o.expiredLanes|=k),w&=~k}if(l=lt,d=Be,d=Of(o,o===l?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m=o.callbackNode,d===0||o===l&&(tt===2||tt===9)||o.cancelPendingCommit!==null)return m!==null&&m!==null&&Ar(m),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||Gl(o,d)){if(l=d&-d,l===o.callbackPriority)return l;switch(m!==null&&Ar(m),zm(d)){case 2:case 8:d=OT;break;case 32:d=Ef;break;case 268435456:d=RT;break;default:d=Ef}return m=$C.bind(null,o),d=Wi(d,m),o.callbackPriority=l,o.callbackNode=d,l}return m!==null&&m!==null&&Ar(m),o.callbackPriority=2,o.callbackNode=null,2}function $C(o,l){if(Ht!==0&&Ht!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(wd()&&o.callbackNode!==d)return null;var m=Be;return m=Of(o,o===lt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m===0?null:(_C(o,m,l),UC(o,cn()),o.callbackNode!=null&&o.callbackNode===d?$C.bind(null,o):null)}function qC(o,l){if(wd())return null;_C(o,l,!0)}function E5(){L5(function(){(Je&6)!==0?Wi(CT,S5):jC()})}function Rv(){if(ha===0){var o=rs;o===0&&(o=Tf,Tf<<=1,(Tf&261888)===0&&(Tf=256)),ha=o}return ha}function BC(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Mf(""+o)}function HC(o,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,o.id&&d.setAttribute("form",o.id),l.parentNode.insertBefore(d,l),o=new FormData(o),d.parentNode.removeChild(d),o}function T5(o,l,d,m,_){if(l==="submit"&&d&&d.stateNode===_){var w=BC((_[Tn]||null).action),M=m.submitter;M&&(l=(l=M[Tn]||null)?BC(l.formAction):M.getAttribute("formAction"),l!==null&&(w=l,M=null));var k=new Lf("action","action",null,m,_);o.push({event:k,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(ha!==0){var H=M?HC(_,M):new FormData(_);Yg(d,{pending:!0,data:H,method:_.method,action:w},null,H)}}else typeof w=="function"&&(k.preventDefault(),H=M?HC(_,M):new FormData(_),Yg(d,{pending:!0,data:H,method:_.method,action:w},w,H))},currentTarget:_}]})}}for(var Nv=0;Nv<dg.length;Nv++){var Pv=dg[Nv],A5=Pv.toLowerCase(),C5=Pv[0].toUpperCase()+Pv.slice(1);Cr(A5,"on"+C5)}Cr(bA,"onAnimationEnd"),Cr(_A,"onAnimationIteration"),Cr(xA,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(zB,"onTransitionRun"),Cr(GB,"onTransitionStart"),Cr(VB,"onTransitionCancel"),Cr(wA,"onTransitionEnd"),zo("onMouseEnter",["mouseout","mouseover"]),zo("onMouseLeave",["mouseout","mouseover"]),zo("onPointerEnter",["pointerout","pointerover"]),zo("onPointerLeave",["pointerout","pointerover"]),Ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ua("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Au));function zC(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var m=o[d],_=m.event;m=m.listeners;e:{var w=void 0;if(l)for(var M=m.length-1;0<=M;M--){var k=m[M],H=k.instance,Z=k.currentTarget;if(k=k.listener,H!==w&&_.isPropagationStopped())break e;w=k,_.currentTarget=Z;try{w(_)}catch(ae){$f(ae)}_.currentTarget=null,w=H}else for(M=0;M<m.length;M++){if(k=m[M],H=k.instance,Z=k.currentTarget,k=k.listener,H!==w&&_.isPropagationStopped())break e;w=k,_.currentTarget=Z;try{w(_)}catch(ae){$f(ae)}_.currentTarget=null,w=H}}}}function qe(o,l){var d=l[Gm];d===void 0&&(d=l[Gm]=new Set);var m=o+"__bubble";d.has(m)||(GC(l,o,2,!1),d.add(m))}function Mv(o,l,d){var m=0;l&&(m|=4),GC(d,o,m,l)}var Td="_reactListening"+Math.random().toString(36).slice(2);function Iv(o){if(!o[Td]){o[Td]=!0,jT.forEach(function(d){d!=="selectionchange"&&(O5.has(d)||Mv(d,!1,o),Mv(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Td]||(l[Td]=!0,Mv("selectionchange",!1,l))}}function GC(o,l,d,m){switch(bO(l)){case 2:var _=n6;break;case 8:_=r6;break;default:_=Wv}d=_.bind(null,l,d,o),_=void 0,!Zm||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),m?_!==void 0?o.addEventListener(l,d,{capture:!0,passive:_}):o.addEventListener(l,d,!0):_!==void 0?o.addEventListener(l,d,{passive:_}):o.addEventListener(l,d,!1)}function kv(o,l,d,m,_){var w=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var M=m.tag;if(M===3||M===4){var k=m.stateNode.containerInfo;if(k===_)break;if(M===4)for(M=m.return;M!==null;){var H=M.tag;if((H===3||H===4)&&M.stateNode.containerInfo===_)return;M=M.return}for(;k!==null;){if(M=qo(k),M===null)return;if(H=M.tag,H===5||H===6||H===26||H===27){m=w=M;continue e}k=k.parentNode}}m=m.return}YT(function(){var Z=w,ae=Xm(d),le=[];e:{var te=SA.get(o);if(te!==void 0){var ne=Lf,ve=o;switch(o){case"keypress":if(kf(d)===0)break e;case"keydown":case"keyup":ne=xB;break;case"focusin":ve="focus",ne=rg;break;case"focusout":ve="blur",ne=rg;break;case"beforeblur":case"afterblur":ne=rg;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=QT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=uB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=EB;break;case bA:case _A:case xA:ne=dB;break;case wA:ne=AB;break;case"scroll":case"scrollend":ne=sB;break;case"wheel":ne=OB;break;case"copy":case"cut":case"paste":ne=pB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=eA;break;case"toggle":case"beforetoggle":ne=NB}var we=(l&4)!==0,ot=!we&&(o==="scroll"||o==="scrollend"),X=we?te!==null?te+"Capture":null:te;we=[];for(var W=Z,Q;W!==null;){var se=W;if(Q=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Q===null||X===null||(se=Wl(W,X),se!=null&&we.push(Cu(W,se,Q))),ot)break;W=W.return}0<we.length&&(te=new ne(te,ve,null,d,ae),le.push({event:te,listeners:we}))}}if((l&7)===0){e:{if(te=o==="mouseover"||o==="pointerover",ne=o==="mouseout"||o==="pointerout",te&&d!==Jm&&(ve=d.relatedTarget||d.fromElement)&&(qo(ve)||ve[$o]))break e;if((ne||te)&&(te=ae.window===ae?ae:(te=ae.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(ve=d.relatedTarget||d.toElement,ne=Z,ve=ve?qo(ve):null,ve!==null&&(ot=a(ve),we=ve.tag,ve!==ot||we!==5&&we!==27&&we!==6)&&(ve=null)):(ne=null,ve=Z),ne!==ve)){if(we=QT,se="onMouseLeave",X="onMouseEnter",W="mouse",(o==="pointerout"||o==="pointerover")&&(we=eA,se="onPointerLeave",X="onPointerEnter",W="pointer"),ot=ne==null?te:Kl(ne),Q=ve==null?te:Kl(ve),te=new we(se,W+"leave",ne,d,ae),te.target=ot,te.relatedTarget=Q,se=null,qo(ae)===Z&&(we=new we(X,W+"enter",ve,d,ae),we.target=Q,we.relatedTarget=ot,se=we),ot=se,ne&&ve)t:{for(we=R5,X=ne,W=ve,Q=0,se=X;se;se=we(se))Q++;se=0;for(var _e=W;_e;_e=we(_e))se++;for(;0<Q-se;)X=we(X),Q--;for(;0<se-Q;)W=we(W),se--;for(;Q--;){if(X===W||W!==null&&X===W.alternate){we=X;break t}X=we(X),W=we(W)}we=null}else we=null;ne!==null&&VC(le,te,ne,we,!1),ve!==null&&ot!==null&&VC(le,ot,ve,we,!0)}}e:{if(te=Z?Kl(Z):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Fe=lA;else if(oA(te))if(uA)Fe=qB;else{Fe=UB;var ye=jB}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?Z&&Ym(Z.elementType)&&(Fe=lA):Fe=$B;if(Fe&&(Fe=Fe(o,Z))){sA(le,Fe,d,ae);break e}ye&&ye(o,te,Z),o==="focusout"&&Z&&te.type==="number"&&Z.memoizedProps.value!=null&&Wm(te,"number",te.value)}switch(ye=Z?Kl(Z):window,o){case"focusin":(oA(ye)||ye.contentEditable==="true")&&(Yo=ye,ug=Z,nu=null);break;case"focusout":nu=ug=Yo=null;break;case"mousedown":cg=!0;break;case"contextmenu":case"mouseup":case"dragend":cg=!1,vA(le,d,ae);break;case"selectionchange":if(HB)break;case"keydown":case"keyup":vA(le,d,ae)}var ke;if(ag)e:{switch(o){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Wo?iA(o,d)&&(He="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(He="onCompositionStart");He&&(tA&&d.locale!=="ko"&&(Wo||He!=="onCompositionStart"?He==="onCompositionEnd"&&Wo&&(ke=JT()):(Xi=ae,eg="value"in Xi?Xi.value:Xi.textContent,Wo=!0)),ye=Ad(Z,He),0<ye.length&&(He=new ZT(He,o,null,d,ae),le.push({event:He,listeners:ye}),ke?He.data=ke:(ke=aA(d),ke!==null&&(He.data=ke)))),(ke=MB?IB(o,d):kB(o,d))&&(He=Ad(Z,"onBeforeInput"),0<He.length&&(ye=new ZT("onBeforeInput","beforeinput",null,d,ae),le.push({event:ye,listeners:He}),ye.data=ke)),T5(le,o,Z,d,ae)}zC(le,l)})}function Cu(o,l,d){return{instance:o,listener:l,currentTarget:d}}function Ad(o,l){for(var d=l+"Capture",m=[];o!==null;){var _=o,w=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||w===null||(_=Wl(o,d),_!=null&&m.unshift(Cu(o,_,w)),_=Wl(o,l),_!=null&&m.push(Cu(o,_,w))),o.tag===3)return m;o=o.return}return[]}function R5(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function VC(o,l,d,m,_){for(var w=l._reactName,M=[];d!==null&&d!==m;){var k=d,H=k.alternate,Z=k.stateNode;if(k=k.tag,H!==null&&H===m)break;k!==5&&k!==26&&k!==27||Z===null||(H=Z,_?(Z=Wl(d,w),Z!=null&&M.unshift(Cu(d,Z,H))):_||(Z=Wl(d,w),Z!=null&&M.push(Cu(d,Z,H)))),d=d.return}M.length!==0&&o.push({event:l,listeners:M})}var N5=/\r\n?/g,P5=/\u0000|\uFFFD/g;function FC(o){return(typeof o=="string"?o:""+o).replace(N5,`
`).replace(P5,"")}function KC(o,l){return l=FC(l),FC(o)===l}function at(o,l,d,m,_,w){switch(d){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||Vo(o,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&Vo(o,""+m);break;case"className":Nf(o,"class",m);break;case"tabIndex":Nf(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Nf(o,d,m);break;case"style":KT(o,m,w);break;case"data":if(l!=="object"){Nf(o,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||d!=="href")){o.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(d);break}m=Mf(""+m),o.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(d==="formAction"?(l!=="input"&&at(o,l,"name",_.name,_,null),at(o,l,"formEncType",_.formEncType,_,null),at(o,l,"formMethod",_.formMethod,_,null),at(o,l,"formTarget",_.formTarget,_,null)):(at(o,l,"encType",_.encType,_,null),at(o,l,"method",_.method,_,null),at(o,l,"target",_.target,_,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(d);break}m=Mf(""+m),o.setAttribute(d,m);break;case"onClick":m!=null&&(o.onclick=si);break;case"onScroll":m!=null&&qe("scroll",o);break;case"onScrollEnd":m!=null&&qe("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(_.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}d=Mf(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(d,""+m):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":m===!0?o.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(d,m):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(d,m):o.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(d):o.setAttribute(d,m);break;case"popover":qe("beforetoggle",o),qe("toggle",o),Rf(o,"popover",m);break;case"xlinkActuate":oi(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":oi(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":oi(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":oi(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":oi(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":oi(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":oi(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":oi(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":oi(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Rf(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=aB.get(d)||d,Rf(o,d,m))}}function Dv(o,l,d,m,_,w){switch(d){case"style":KT(o,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(_.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"children":typeof m=="string"?Vo(o,m):(typeof m=="number"||typeof m=="bigint")&&Vo(o,""+m);break;case"onScroll":m!=null&&qe("scroll",o);break;case"onScrollEnd":m!=null&&qe("scrollend",o);break;case"onClick":m!=null&&(o.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!UT.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(_=d.endsWith("Capture"),l=d.slice(2,_?d.length-7:void 0),w=o[Tn]||null,w=w!=null?w[d]:null,typeof w=="function"&&o.removeEventListener(l,w,_),typeof m=="function")){typeof w!="function"&&w!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(l,m,_);break e}d in o?o[d]=m:m===!0?o.setAttribute(d,""):Rf(o,d,m)}}}function an(o,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",o),qe("load",o);var m=!1,_=!1,w;for(w in d)if(d.hasOwnProperty(w)){var M=d[w];if(M!=null)switch(w){case"src":m=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:at(o,l,w,M,d,null)}}_&&at(o,l,"srcSet",d.srcSet,d,null),m&&at(o,l,"src",d.src,d,null);return;case"input":qe("invalid",o);var k=w=M=_=null,H=null,Z=null;for(m in d)if(d.hasOwnProperty(m)){var ae=d[m];if(ae!=null)switch(m){case"name":_=ae;break;case"type":M=ae;break;case"checked":H=ae;break;case"defaultChecked":Z=ae;break;case"value":w=ae;break;case"defaultValue":k=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,l));break;default:at(o,l,m,ae,d,null)}}zT(o,w,k,H,Z,M,_,!1);return;case"select":qe("invalid",o),m=M=w=null;for(_ in d)if(d.hasOwnProperty(_)&&(k=d[_],k!=null))switch(_){case"value":w=k;break;case"defaultValue":M=k;break;case"multiple":m=k;default:at(o,l,_,k,d,null)}l=w,d=M,o.multiple=!!m,l!=null?Go(o,!!m,l,!1):d!=null&&Go(o,!!m,d,!0);return;case"textarea":qe("invalid",o),w=_=m=null;for(M in d)if(d.hasOwnProperty(M)&&(k=d[M],k!=null))switch(M){case"value":m=k;break;case"defaultValue":_=k;break;case"children":w=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:at(o,l,M,k,d,null)}VT(o,m,_,w);return;case"option":for(H in d)if(d.hasOwnProperty(H)&&(m=d[H],m!=null))switch(H){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:at(o,l,H,m,d,null)}return;case"dialog":qe("beforetoggle",o),qe("toggle",o),qe("cancel",o),qe("close",o);break;case"iframe":case"object":qe("load",o);break;case"video":case"audio":for(m=0;m<Au.length;m++)qe(Au[m],o);break;case"image":qe("error",o),qe("load",o);break;case"details":qe("toggle",o);break;case"embed":case"source":case"link":qe("error",o),qe("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in d)if(d.hasOwnProperty(Z)&&(m=d[Z],m!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:at(o,l,Z,m,d,null)}return;default:if(Ym(l)){for(ae in d)d.hasOwnProperty(ae)&&(m=d[ae],m!==void 0&&Dv(o,l,ae,m,d,void 0));return}}for(k in d)d.hasOwnProperty(k)&&(m=d[k],m!=null&&at(o,l,k,m,d,null))}function M5(o,l,d,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,w=null,M=null,k=null,H=null,Z=null,ae=null;for(ne in d){var le=d[ne];if(d.hasOwnProperty(ne)&&le!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":H=le;default:m.hasOwnProperty(ne)||at(o,l,ne,null,m,le)}}for(var te in m){var ne=m[te];if(le=d[te],m.hasOwnProperty(te)&&(ne!=null||le!=null))switch(te){case"type":w=ne;break;case"name":_=ne;break;case"checked":Z=ne;break;case"defaultChecked":ae=ne;break;case"value":M=ne;break;case"defaultValue":k=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,l));break;default:ne!==le&&at(o,l,te,ne,m,le)}}Km(o,M,k,H,Z,ae,w,_);return;case"select":ne=M=k=te=null;for(w in d)if(H=d[w],d.hasOwnProperty(w)&&H!=null)switch(w){case"value":break;case"multiple":ne=H;default:m.hasOwnProperty(w)||at(o,l,w,null,m,H)}for(_ in m)if(w=m[_],H=d[_],m.hasOwnProperty(_)&&(w!=null||H!=null))switch(_){case"value":te=w;break;case"defaultValue":k=w;break;case"multiple":M=w;default:w!==H&&at(o,l,_,w,m,H)}l=k,d=M,m=ne,te!=null?Go(o,!!d,te,!1):!!m!=!!d&&(l!=null?Go(o,!!d,l,!0):Go(o,!!d,d?[]:"",!1));return;case"textarea":ne=te=null;for(k in d)if(_=d[k],d.hasOwnProperty(k)&&_!=null&&!m.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:at(o,l,k,null,m,_)}for(M in m)if(_=m[M],w=d[M],m.hasOwnProperty(M)&&(_!=null||w!=null))switch(M){case"value":te=_;break;case"defaultValue":ne=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==w&&at(o,l,M,_,m,w)}GT(o,te,ne);return;case"option":for(var ve in d)if(te=d[ve],d.hasOwnProperty(ve)&&te!=null&&!m.hasOwnProperty(ve))switch(ve){case"selected":o.selected=!1;break;default:at(o,l,ve,null,m,te)}for(H in m)if(te=m[H],ne=d[H],m.hasOwnProperty(H)&&te!==ne&&(te!=null||ne!=null))switch(H){case"selected":o.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:at(o,l,H,te,m,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in d)te=d[we],d.hasOwnProperty(we)&&te!=null&&!m.hasOwnProperty(we)&&at(o,l,we,null,m,te);for(Z in m)if(te=m[Z],ne=d[Z],m.hasOwnProperty(Z)&&te!==ne&&(te!=null||ne!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,l));break;default:at(o,l,Z,te,m,ne)}return;default:if(Ym(l)){for(var ot in d)te=d[ot],d.hasOwnProperty(ot)&&te!==void 0&&!m.hasOwnProperty(ot)&&Dv(o,l,ot,void 0,m,te);for(ae in m)te=m[ae],ne=d[ae],!m.hasOwnProperty(ae)||te===ne||te===void 0&&ne===void 0||Dv(o,l,ae,te,m,ne);return}}for(var X in d)te=d[X],d.hasOwnProperty(X)&&te!=null&&!m.hasOwnProperty(X)&&at(o,l,X,null,m,te);for(le in m)te=m[le],ne=d[le],!m.hasOwnProperty(le)||te===ne||te==null&&ne==null||at(o,l,le,te,m,ne)}function WC(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function I5(){if(typeof performance.getEntriesByType=="function"){for(var o=0,l=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var _=d[m],w=_.transferSize,M=_.initiatorType,k=_.duration;if(w&&k&&WC(M)){for(M=0,k=_.responseEnd,m+=1;m<d.length;m++){var H=d[m],Z=H.startTime;if(Z>k)break;var ae=H.transferSize,le=H.initiatorType;ae&&WC(le)&&(H=H.responseEnd,M+=ae*(H<k?1:(k-Z)/(H-Z)))}if(--m,l+=8*(w+M)/(_.duration/1e3),o++,10<o)break}}if(0<o)return l/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Lv=null,jv=null;function Cd(o){return o.nodeType===9?o:o.ownerDocument}function YC(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function JC(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function Uv(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var $v=null;function k5(){var o=window.event;return o&&o.type==="popstate"?o===$v?!1:($v=o,!0):($v=null,!1)}var XC=typeof setTimeout=="function"?setTimeout:void 0,D5=typeof clearTimeout=="function"?clearTimeout:void 0,QC=typeof Promise=="function"?Promise:void 0,L5=typeof queueMicrotask=="function"?queueMicrotask:typeof QC<"u"?function(o){return QC.resolve(null).then(o).catch(j5)}:XC;function j5(o){setTimeout(function(){throw o})}function pa(o){return o==="head"}function ZC(o,l){var d=l,m=0;do{var _=d.nextSibling;if(o.removeChild(d),_&&_.nodeType===8)if(d=_.data,d==="/$"||d==="/&"){if(m===0){o.removeChild(_),ws(l);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")Ou(o.ownerDocument.documentElement);else if(d==="head"){d=o.ownerDocument.head,Ou(d);for(var w=d.firstChild;w;){var M=w.nextSibling,k=w.nodeName;w[Fl]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&w.rel.toLowerCase()==="stylesheet"||d.removeChild(w),w=M}}else d==="body"&&Ou(o.ownerDocument.body);d=_}while(d);ws(l)}function eO(o,l){var d=o;o=0;do{var m=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(o===0)break;o--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||o++;d=m}while(d)}function qv(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":qv(d),Vm(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function U5(o,l,d,m){for(;o.nodeType===1;){var _=d;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[Fl])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(w=o.getAttribute("rel"),w==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(w!==_.rel||o.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||o.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||o.getAttribute("title")!==(_.title==null?null:_.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(w=o.getAttribute("src"),(w!==(_.src==null?null:_.src)||o.getAttribute("type")!==(_.type==null?null:_.type)||o.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&w&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var w=_.name==null?null:""+_.name;if(_.type==="hidden"&&o.getAttribute("name")===w)return o}else return o;if(o=or(o.nextSibling),o===null)break}return null}function $5(o,l,d){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=or(o.nextSibling),o===null))return null;return o}function tO(o,l){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=or(o.nextSibling),o===null))return null;return o}function Bv(o){return o.data==="$?"||o.data==="$~"}function Hv(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function q5(o,l){var d=o.ownerDocument;if(o.data==="$~")o._reactRetry=l;else if(o.data!=="$?"||d.readyState!=="loading")l();else{var m=function(){l(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),o._reactRetry=m}}function or(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return o}var zv=null;function nO(o){o=o.nextSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"||d==="/&"){if(l===0)return or(o.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}o=o.nextSibling}return null}function rO(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return o;l--}else d!=="/$"&&d!=="/&"||l++}o=o.previousSibling}return null}function iO(o,l,d){switch(l=Cd(d),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Ou(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);Vm(o)}var sr=new Map,aO=new Set;function Od(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Si=F.d;F.d={f:B5,r:H5,D:z5,C:G5,L:V5,m:F5,X:W5,S:K5,M:Y5};function B5(){var o=Si.f(),l=bd();return o||l}function H5(o){var l=Bo(o);l!==null&&l.tag===5&&l.type==="form"?w1(l):Si.r(o)}var bs=typeof document>"u"?null:document;function oO(o,l,d){var m=bs;if(m&&typeof l=="string"&&l){var _=Zn(l);_='link[rel="'+o+'"][href="'+_+'"]',typeof d=="string"&&(_+='[crossorigin="'+d+'"]'),aO.has(_)||(aO.add(_),o={rel:o,crossOrigin:d,href:l},m.querySelector(_)===null&&(l=m.createElement("link"),an(l,"link",o),Wt(l),m.head.appendChild(l)))}}function z5(o){Si.D(o),oO("dns-prefetch",o,null)}function G5(o,l){Si.C(o,l),oO("preconnect",o,l)}function V5(o,l,d){Si.L(o,l,d);var m=bs;if(m&&o&&l){var _='link[rel="preload"][as="'+Zn(l)+'"]';l==="image"&&d&&d.imageSrcSet?(_+='[imagesrcset="'+Zn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(_+='[imagesizes="'+Zn(d.imageSizes)+'"]')):_+='[href="'+Zn(o)+'"]';var w=_;switch(l){case"style":w=_s(o);break;case"script":w=xs(o)}sr.has(w)||(o=p({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:o,as:l},d),sr.set(w,o),m.querySelector(_)!==null||l==="style"&&m.querySelector(Ru(w))||l==="script"&&m.querySelector(Nu(w))||(l=m.createElement("link"),an(l,"link",o),Wt(l),m.head.appendChild(l)))}}function F5(o,l){Si.m(o,l);var d=bs;if(d&&o){var m=l&&typeof l.as=="string"?l.as:"script",_='link[rel="modulepreload"][as="'+Zn(m)+'"][href="'+Zn(o)+'"]',w=_;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=xs(o)}if(!sr.has(w)&&(o=p({rel:"modulepreload",href:o},l),sr.set(w,o),d.querySelector(_)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Nu(w)))return}m=d.createElement("link"),an(m,"link",o),Wt(m),d.head.appendChild(m)}}}function K5(o,l,d){Si.S(o,l,d);var m=bs;if(m&&o){var _=Ho(m).hoistableStyles,w=_s(o);l=l||"default";var M=_.get(w);if(!M){var k={loading:0,preload:null};if(M=m.querySelector(Ru(w)))k.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":l},d),(d=sr.get(w))&&Gv(o,d);var H=M=m.createElement("link");Wt(H),an(H,"link",o),H._p=new Promise(function(Z,ae){H.onload=Z,H.onerror=ae}),H.addEventListener("load",function(){k.loading|=1}),H.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Rd(M,l,m)}M={type:"stylesheet",instance:M,count:1,state:k},_.set(w,M)}}}function W5(o,l){Si.X(o,l);var d=bs;if(d&&o){var m=Ho(d).hoistableScripts,_=xs(o),w=m.get(_);w||(w=d.querySelector(Nu(_)),w||(o=p({src:o,async:!0},l),(l=sr.get(_))&&Vv(o,l),w=d.createElement("script"),Wt(w),an(w,"link",o),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(_,w))}}function Y5(o,l){Si.M(o,l);var d=bs;if(d&&o){var m=Ho(d).hoistableScripts,_=xs(o),w=m.get(_);w||(w=d.querySelector(Nu(_)),w||(o=p({src:o,async:!0,type:"module"},l),(l=sr.get(_))&&Vv(o,l),w=d.createElement("script"),Wt(w),an(w,"link",o),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(_,w))}}function sO(o,l,d,m){var _=(_=xe.current)?Od(_):null;if(!_)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=_s(d.href),d=Ho(_).hoistableStyles,m=d.get(l),m||(m={type:"style",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=_s(d.href);var w=Ho(_).hoistableStyles,M=w.get(o);if(M||(_=_.ownerDocument||_,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(o,M),(w=_.querySelector(Ru(o)))&&!w._p&&(M.instance=w,M.state.loading=5),sr.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},sr.set(o,d),w||J5(_,o,d,M.state))),l&&m===null)throw Error(r(528,""));return M}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=xs(d),d=Ho(_).hoistableScripts,m=d.get(l),m||(m={type:"script",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function _s(o){return'href="'+Zn(o)+'"'}function Ru(o){return'link[rel="stylesheet"]['+o+"]"}function lO(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function J5(o,l,d,m){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=o.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),an(l,"link",d),Wt(l),o.head.appendChild(l))}function xs(o){return'[src="'+Zn(o)+'"]'}function Nu(o){return"script[async]"+o}function uO(o,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var m=o.querySelector('style[data-href~="'+Zn(d.href)+'"]');if(m)return l.instance=m,Wt(m),m;var _=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),Wt(m),an(m,"style",_),Rd(m,d.precedence,o),l.instance=m;case"stylesheet":_=_s(d.href);var w=o.querySelector(Ru(_));if(w)return l.state.loading|=4,l.instance=w,Wt(w),w;m=lO(d),(_=sr.get(_))&&Gv(m,_),w=(o.ownerDocument||o).createElement("link"),Wt(w);var M=w;return M._p=new Promise(function(k,H){M.onload=k,M.onerror=H}),an(w,"link",m),l.state.loading|=4,Rd(w,d.precedence,o),l.instance=w;case"script":return w=xs(d.src),(_=o.querySelector(Nu(w)))?(l.instance=_,Wt(_),_):(m=d,(_=sr.get(w))&&(m=p({},d),Vv(m,_)),o=o.ownerDocument||o,_=o.createElement("script"),Wt(_),an(_,"link",m),o.head.appendChild(_),l.instance=_);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Rd(m,d.precedence,o));return l.instance}function Rd(o,l,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=m.length?m[m.length-1]:null,w=_,M=0;M<m.length;M++){var k=m[M];if(k.dataset.precedence===l)w=k;else if(w!==_)break}w?w.parentNode.insertBefore(o,w.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(o,l.firstChild))}function Gv(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function Vv(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var Nd=null;function cO(o,l,d){if(Nd===null){var m=new Map,_=Nd=new Map;_.set(d,m)}else _=Nd,m=_.get(d),m||(m=new Map,_.set(d,m));if(m.has(o))return m;for(m.set(o,null),d=d.getElementsByTagName(o),_=0;_<d.length;_++){var w=d[_];if(!(w[Fl]||w[en]||o==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var M=w.getAttribute(l)||"";M=o+M;var k=m.get(M);k?k.push(w):m.set(M,[w])}}return m}function fO(o,l,d){o=o.ownerDocument||o,o.head.insertBefore(d,l==="title"?o.querySelector("head > title"):null)}function X5(o,l,d){if(d===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function dO(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function Q5(o,l,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var _=_s(m.href),w=l.querySelector(Ru(_));if(w){l=w._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(o.count++,o=Pd.bind(o),l.then(o,o)),d.state.loading|=4,d.instance=w,Wt(w);return}w=l.ownerDocument||l,m=lO(m),(_=sr.get(_))&&Gv(m,_),w=w.createElement("link"),Wt(w);var M=w;M._p=new Promise(function(k,H){M.onload=k,M.onerror=H}),an(w,"link",m),d.instance=w}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(o.count++,d=Pd.bind(o),l.addEventListener("load",d),l.addEventListener("error",d))}}var Fv=0;function Z5(o,l){return o.stylesheets&&o.count===0&&Id(o,o.stylesheets),0<o.count||0<o.imgCount?function(d){var m=setTimeout(function(){if(o.stylesheets&&Id(o,o.stylesheets),o.unsuspend){var w=o.unsuspend;o.unsuspend=null,w()}},6e4+l);0<o.imgBytes&&Fv===0&&(Fv=62500*I5());var _=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Id(o,o.stylesheets),o.unsuspend)){var w=o.unsuspend;o.unsuspend=null,w()}},(o.imgBytes>Fv?50:800)+l);return o.unsuspend=d,function(){o.unsuspend=null,clearTimeout(m),clearTimeout(_)}}:null}function Pd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Id(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Md=null;function Id(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Md=new Map,l.forEach(e6,o),Md=null,Pd.call(o))}function e6(o,l){if(!(l.state.loading&4)){var d=Md.get(o);if(d)var m=d.get(null);else{d=new Map,Md.set(o,d);for(var _=o.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<_.length;w++){var M=_[w];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(d.set(M.dataset.precedence,M),m=M)}m&&d.set(null,m)}_=l.instance,M=_.getAttribute("data-precedence"),w=d.get(M)||m,w===m&&d.set(null,_),d.set(M,_),this.count++,m=Pd.bind(this),_.addEventListener("load",m),_.addEventListener("error",m),w?w.parentNode.insertBefore(_,w.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(_,o.firstChild)),l.state.loading|=4}}var Pu={$$typeof:C,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function t6(o,l,d,m,_,w,M,k,H){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bm(0),this.hiddenUpdates=Bm(null),this.identifierPrefix=m,this.onUncaughtError=_,this.onCaughtError=w,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function hO(o,l,d,m,_,w,M,k,H,Z,ae,le){return o=new t6(o,l,d,M,H,Z,ae,le,k),l=1,w===!0&&(l|=24),w=Un(3,null,null,l),o.current=w,w.stateNode=o,l=Tg(),l.refCount++,o.pooledCache=l,l.refCount++,w.memoizedState={element:m,isDehydrated:d,cache:l},Rg(w),o}function pO(o){return o?(o=Qo,o):Qo}function mO(o,l,d,m,_,w){_=pO(_),m.context===null?m.context=_:m.pendingContext=_,m=ra(l),m.payload={element:d},w=w===void 0?null:w,w!==null&&(m.callback=w),d=ia(o,m,l),d!==null&&(Pn(d,o,l),uu(d,o,l))}function gO(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function Kv(o,l){gO(o,l),(o=o.alternate)&&gO(o,l)}function vO(o){if(o.tag===13||o.tag===31){var l=Ha(o,67108864);l!==null&&Pn(l,o,67108864),Kv(o,67108864)}}function yO(o){if(o.tag===13||o.tag===31){var l=zn();l=Hm(l);var d=Ha(o,l);d!==null&&Pn(d,o,l),Kv(o,l)}}var kd=!0;function n6(o,l,d,m){var _=j.T;j.T=null;var w=F.p;try{F.p=2,Wv(o,l,d,m)}finally{F.p=w,j.T=_}}function r6(o,l,d,m){var _=j.T;j.T=null;var w=F.p;try{F.p=8,Wv(o,l,d,m)}finally{F.p=w,j.T=_}}function Wv(o,l,d,m){if(kd){var _=Yv(m);if(_===null)kv(o,l,m,Dd,d),_O(o,m);else if(a6(_,o,l,d,m))m.stopPropagation();else if(_O(o,m),l&4&&-1<i6.indexOf(o)){for(;_!==null;){var w=Bo(_);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var M=ja(w.pendingLanes);if(M!==0){var k=w;for(k.pendingLanes|=2,k.entangledLanes|=2;M;){var H=1<<31-Ln(M);k.entanglements[1]|=H,M&=~H}Kr(w),(Je&6)===0&&(vd=cn()+500,Tu(0))}}break;case 31:case 13:k=Ha(w,2),k!==null&&Pn(k,w,2),bd(),Kv(w,2)}if(w=Yv(m),w===null&&kv(o,l,m,Dd,d),w===_)break;_=w}_!==null&&m.stopPropagation()}else kv(o,l,m,null,d)}}function Yv(o){return o=Xm(o),Jv(o)}var Dd=null;function Jv(o){if(Dd=null,o=qo(o),o!==null){var l=a(o);if(l===null)o=null;else{var d=l.tag;if(d===13){if(o=s(l),o!==null)return o;o=null}else if(d===31){if(o=u(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return Dd=o,null}function bO(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sf()){case CT:return 2;case OT:return 8;case Ef:case G3:return 32;case RT:return 268435456;default:return 32}default:return 32}}var Xv=!1,ma=null,ga=null,va=null,Mu=new Map,Iu=new Map,ya=[],i6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _O(o,l){switch(o){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":ga=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":Mu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(l.pointerId)}}function ku(o,l,d,m,_,w){return o===null||o.nativeEvent!==w?(o={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:w,targetContainers:[_]},l!==null&&(l=Bo(l),l!==null&&vO(l)),o):(o.eventSystemFlags|=m,l=o.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),o)}function a6(o,l,d,m,_){switch(l){case"focusin":return ma=ku(ma,o,l,d,m,_),!0;case"dragenter":return ga=ku(ga,o,l,d,m,_),!0;case"mouseover":return va=ku(va,o,l,d,m,_),!0;case"pointerover":var w=_.pointerId;return Mu.set(w,ku(Mu.get(w)||null,o,l,d,m,_)),!0;case"gotpointercapture":return w=_.pointerId,Iu.set(w,ku(Iu.get(w)||null,o,l,d,m,_)),!0}return!1}function xO(o){var l=qo(o.target);if(l!==null){var d=a(l);if(d!==null){if(l=d.tag,l===13){if(l=s(d),l!==null){o.blockedOn=l,DT(o.priority,function(){yO(d)});return}}else if(l===31){if(l=u(d),l!==null){o.blockedOn=l,DT(o.priority,function(){yO(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ld(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=Yv(o.nativeEvent);if(d===null){d=o.nativeEvent;var m=new d.constructor(d.type,d);Jm=m,d.target.dispatchEvent(m),Jm=null}else return l=Bo(d),l!==null&&vO(l),o.blockedOn=d,!1;l.shift()}return!0}function wO(o,l,d){Ld(o)&&d.delete(l)}function o6(){Xv=!1,ma!==null&&Ld(ma)&&(ma=null),ga!==null&&Ld(ga)&&(ga=null),va!==null&&Ld(va)&&(va=null),Mu.forEach(wO),Iu.forEach(wO)}function jd(o,l){o.blockedOn===l&&(o.blockedOn=null,Xv||(Xv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,o6)))}var Ud=null;function SO(o){Ud!==o&&(Ud=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ud===o&&(Ud=null);for(var l=0;l<o.length;l+=3){var d=o[l],m=o[l+1],_=o[l+2];if(typeof m!="function"){if(Jv(m||d)===null)continue;break}var w=Bo(d);w!==null&&(o.splice(l,3),l-=3,Yg(w,{pending:!0,data:_,method:d.method,action:m},m,_))}}))}function ws(o){function l(H){return jd(H,o)}ma!==null&&jd(ma,o),ga!==null&&jd(ga,o),va!==null&&jd(va,o),Mu.forEach(l),Iu.forEach(l);for(var d=0;d<ya.length;d++){var m=ya[d];m.blockedOn===o&&(m.blockedOn=null)}for(;0<ya.length&&(d=ya[0],d.blockedOn===null);)xO(d),d.blockedOn===null&&ya.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var _=d[m],w=d[m+1],M=_[Tn]||null;if(typeof w=="function")M||SO(d);else if(M){var k=null;if(w&&w.hasAttribute("formAction")){if(_=w,M=w[Tn]||null)k=M.formAction;else if(Jv(_)!==null)continue}else k=M.action;typeof k=="function"?d[m+1]=k:(d.splice(m,3),m-=3),SO(d)}}}function EO(){function o(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(M){return _=M})},focusReset:"manual",scroll:"manual"})}function l(){_!==null&&(_(),_=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,_=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),_!==null&&(_(),_=null)}}}function Qv(o){this._internalRoot=o}$d.prototype.render=Qv.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,m=zn();mO(d,m,o,l,null,null)},$d.prototype.unmount=Qv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;mO(o.current,2,null,o,null,null),bd(),l[$o]=null}};function $d(o){this._internalRoot=o}$d.prototype.unstable_scheduleHydration=function(o){if(o){var l=kT();o={blockedOn:null,target:o,priority:l};for(var d=0;d<ya.length&&l!==0&&l<ya[d].priority;d++);ya.splice(d,0,o),d===0&&xO(o)}};var TO=e.version;if(TO!=="19.2.3")throw Error(r(527,TO,"19.2.3"));F.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(l),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var s6={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qd.isDisabled&&qd.supportsFiber)try{zl=qd.inject(s6),Dn=qd}catch{}}return Lu.createRoot=function(o,l){if(!i(o))throw Error(r(299));var d=!1,m="",_=M1,w=I1,M=k1;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError)),l=hO(o,1,!1,null,null,d,m,null,_,w,M,EO),o[$o]=l.current,Iv(o),new Qv(l)},Lu.hydrateRoot=function(o,l,d){if(!i(o))throw Error(r(299));var m=!1,_="",w=M1,M=I1,k=k1,H=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(_=d.identifierPrefix),d.onUncaughtError!==void 0&&(w=d.onUncaughtError),d.onCaughtError!==void 0&&(M=d.onCaughtError),d.onRecoverableError!==void 0&&(k=d.onRecoverableError),d.formState!==void 0&&(H=d.formState)),l=hO(o,1,!0,l,d??null,m,_,H,w,M,k,EO),l.context=pO(null),d=l.current,m=zn(),m=Hm(m),_=ra(m),_.callback=null,ia(d,_,m),d=m,l.current.lanes=d,Vl(l,d),Kr(l),o[$o]=l.current,Iv(o),new $d(l)},Lu.version="19.2.3",Lu}var DO;function b6(){if(DO)return ty.exports;DO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ty.exports=y6(),ty.exports}var _6=b6();const x6=Ve(_6);var ay,LO;function w6(){if(LO)return ay;LO=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(a,s){if(a===s)return!0;if(a&&s&&typeof a=="object"&&typeof s=="object"){if(a.constructor!==s.constructor)return!1;var u,c,f;if(Array.isArray(a)){if(u=a.length,u!=s.length)return!1;for(c=u;c--!==0;)if(!i(a[c],s[c]))return!1;return!0}var h;if(e&&a instanceof Map&&s instanceof Map){if(a.size!==s.size)return!1;for(h=a.entries();!(c=h.next()).done;)if(!s.has(c.value[0]))return!1;for(h=a.entries();!(c=h.next()).done;)if(!i(c.value[1],s.get(c.value[0])))return!1;return!0}if(n&&a instanceof Set&&s instanceof Set){if(a.size!==s.size)return!1;for(h=a.entries();!(c=h.next()).done;)if(!s.has(c.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(s)){if(u=a.length,u!=s.length)return!1;for(c=u;c--!==0;)if(a[c]!==s[c])return!1;return!0}if(a.constructor===RegExp)return a.source===s.source&&a.flags===s.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof s.valueOf=="function")return a.valueOf()===s.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof s.toString=="function")return a.toString()===s.toString();if(f=Object.keys(a),u=f.length,u!==Object.keys(s).length)return!1;for(c=u;c--!==0;)if(!Object.prototype.hasOwnProperty.call(s,f[c]))return!1;if(t&&a instanceof Element)return!1;for(c=u;c--!==0;)if(!((f[c]==="_owner"||f[c]==="__v"||f[c]==="__o")&&a.$$typeof)&&!i(a[f[c]],s[f[c]]))return!1;return!0}return a!==a&&s!==s}return ay=function(s,u){try{return i(s,u)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},ay}var S6=w6();const E6=Ve(S6);var oy,jO;function T6(){if(jO)return oy;jO=1;var t=function(e,n,r,i,a,s,u,c){if(!e){var f;if(n===void 0)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[r,i,a,s,u,c],p=0;f=new Error(n.replace(/%s/g,function(){return h[p++]})),f.name="Invariant Violation"}throw f.framesToPop=1,f}};return oy=t,oy}var A6=T6();const UO=Ve(A6);var sy,$O;function C6(){return $O||($O=1,sy=function(e,n,r,i){var a=r?r.call(i,e,n):void 0;if(a!==void 0)return!!a;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var s=Object.keys(e),u=Object.keys(n);if(s.length!==u.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(n),f=0;f<s.length;f++){var h=s[f];if(!c(h))return!1;var p=e[h],g=n[h];if(a=r?r.call(i,p,g,h):void 0,a===!1||a===void 0&&p!==g)return!1}return!0}),sy}var O6=C6();const R6=Ve(O6);var vj=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(vj||{}),ly={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},qO=Object.values(vj),YS={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},N6=Object.entries(YS).reduce((t,[e,n])=>(t[n]=e,t),{}),jr="data-rh",Fs={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Ks=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},P6=t=>{let e=Ks(t,"title");const n=Ks(t,Fs.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=Ks(t,Fs.DEFAULT_TITLE);return e||r||void 0},M6=t=>Ks(t,Fs.ON_CHANGE_CLIENT_STATE)||(()=>{}),uy=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),I6=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let a=0;a<i.length;a+=1){const u=i[a].toLowerCase();if(t.indexOf(u)!==-1&&r[u])return n.concat(r)}}return n},[]),k6=t=>console&&typeof console.warn=="function"&&console.warn(t),ju=(t,e,n)=>{const r={};return n.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&k6(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,a)=>{const s={};a.filter(c=>{let f;const h=Object.keys(c);for(let g=0;g<h.length;g+=1){const b=h[g],S=b.toLowerCase();e.indexOf(S)!==-1&&!(f==="rel"&&c[f].toLowerCase()==="canonical")&&!(S==="rel"&&c[S].toLowerCase()==="stylesheet")&&(f=S),e.indexOf(b)!==-1&&(b==="innerHTML"||b==="cssText"||b==="itemprop")&&(f=b)}if(!f||!c[f])return!1;const p=c[f].toLowerCase();return r[f]||(r[f]={}),s[f]||(s[f]={}),r[f][p]?!1:(s[f][p]=!0,!0)}).reverse().forEach(c=>i.push(c));const u=Object.keys(s);for(let c=0;c<u.length;c+=1){const f=u[c],h={...r[f],...s[f]};r[f]=h}return i},[]).reverse()},D6=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},L6=t=>({baseTag:I6(["href"],t),bodyAttributes:uy("bodyAttributes",t),defer:Ks(t,Fs.DEFER),encode:Ks(t,Fs.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:uy("htmlAttributes",t),linkTags:ju("link",["rel","href"],t),metaTags:ju("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:ju("noscript",["innerHTML"],t),onChangeClientState:M6(t),scriptTags:ju("script",["src","innerHTML"],t),styleTags:ju("style",["cssText"],t),title:P6(t),titleAttributes:uy("titleAttributes",t),prioritizeSeoTags:D6(t,Fs.PRIORITIZE_SEO_TAGS)}),yj=t=>Array.isArray(t)?t.join(""):t,j6=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},cy=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(j6(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},BO=(t,e)=>({...t,[e]:void 0}),U6=["noscript","script","style"],kx=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),bj=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),$6=(t,e,n,r)=>{const i=bj(n),a=yj(e);return i?`<${t} ${jr}="true" ${i}>${kx(a,r)}</${t}>`:`<${t} ${jr}="true">${kx(a,r)}</${t}>`},q6=(t,e,n=!0)=>e.reduce((r,i)=>{const a=i,s=Object.keys(a).filter(f=>!(f==="innerHTML"||f==="cssText")).reduce((f,h)=>{const p=typeof a[h]>"u"?h:`${h}="${kx(a[h],n)}"`;return f?`${f} ${p}`:p},""),u=a.innerHTML||a.cssText||"",c=U6.indexOf(t)===-1;return`${r}<${t} ${jr}="true" ${s}${c?"/>":`>${u}</${t}>`}`},""),_j=(t,e={})=>Object.keys(t).reduce((n,r)=>{const i=YS[r];return n[i||r]=t[r],n},e),B6=(t,e,n)=>{const r={key:e,[jr]:!0},i=_j(n,r);return[V.createElement("title",i,e)]},xh=(t,e)=>e.map((n,r)=>{const i={key:r,[jr]:!0};return Object.keys(n).forEach(a=>{const u=YS[a]||a;if(u==="innerHTML"||u==="cssText"){const c=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:c}}else i[u]=n[a]}),V.createElement(t,i)}),dr=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>B6(t,e.title,e.titleAttributes),toString:()=>$6(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>_j(e),toString:()=>bj(e)};default:return{toComponent:()=>xh(t,e),toString:()=>q6(t,e,n)}}},H6=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const i=cy(t,ly.meta),a=cy(e,ly.link),s=cy(n,ly.script);return{priorityMethods:{toComponent:()=>[...xh("meta",i.priority),...xh("link",a.priority),...xh("script",s.priority)],toString:()=>`${dr("meta",i.priority,r)} ${dr("link",a.priority,r)} ${dr("script",s.priority,r)}`},metaTags:i.default,linkTags:a.default,scriptTags:s.default}},z6=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:a,styleTags:s,title:u="",titleAttributes:c,prioritizeSeoTags:f}=t;let{linkTags:h,metaTags:p,scriptTags:g}=t,b={toComponent:()=>{},toString:()=>""};return f&&({priorityMethods:b,linkTags:h,metaTags:p,scriptTags:g}=H6(t)),{priority:b,base:dr("base",e,r),bodyAttributes:dr("bodyAttributes",n,r),htmlAttributes:dr("htmlAttributes",i,r),link:dr("link",h,r),meta:dr("meta",p,r),noscript:dr("noscript",a,r),script:dr("script",g,r),style:dr("style",s,r),title:dr("title",{title:u,titleAttributes:c},r)}},Dx=z6,Hd=[],xj=!!(typeof window<"u"&&window.document&&window.document.createElement),Lx=class{constructor(t,e){Ei(this,"instances",[]);Ei(this,"canUseDOM",xj);Ei(this,"context");Ei(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?Hd:this.instances,add:t=>{(this.canUseDOM?Hd:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?Hd:this.instances).indexOf(t);(this.canUseDOM?Hd:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=Dx({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},G6={},wj=V.createContext(G6),_o,JS=(_o=class extends q.Component{constructor(n){super(n);Ei(this,"helmetData");this.helmetData=new Lx(this.props.context||{},_o.canUseDOM)}render(){return V.createElement(wj.Provider,{value:this.helmetData.value},this.props.children)}},Ei(_o,"canUseDOM",xj),_o),Ss=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${jr}]`),i=[].slice.call(r),a=[];let s;return e&&e.length&&e.forEach(u=>{const c=document.createElement(t);for(const f in u)if(Object.prototype.hasOwnProperty.call(u,f))if(f==="innerHTML")c.innerHTML=u.innerHTML;else if(f==="cssText")c.styleSheet?c.styleSheet.cssText=u.cssText:c.appendChild(document.createTextNode(u.cssText));else{const h=f,p=typeof u[h]>"u"?"":u[h];c.setAttribute(f,p)}c.setAttribute(jr,"true"),i.some((f,h)=>(s=h,c.isEqualNode(f)))?i.splice(s,1):a.push(c)}),i.forEach(u=>{var c;return(c=u.parentNode)==null?void 0:c.removeChild(u)}),a.forEach(u=>n.appendChild(u)),{oldTags:i,newTags:a}},jx=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(jr),i=r?r.split(","):[],a=[...i],s=Object.keys(e);for(const u of s){const c=e[u]||"";n.getAttribute(u)!==c&&n.setAttribute(u,c),i.indexOf(u)===-1&&i.push(u);const f=a.indexOf(u);f!==-1&&a.splice(f,1)}for(let u=a.length-1;u>=0;u-=1)n.removeAttribute(a[u]);i.length===a.length?n.removeAttribute(jr):n.getAttribute(jr)!==s.join(",")&&n.setAttribute(jr,s.join(","))},V6=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=yj(t)),jx("title",e)},HO=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:a,metaTags:s,noscriptTags:u,onChangeClientState:c,scriptTags:f,styleTags:h,title:p,titleAttributes:g}=t;jx("body",r),jx("html",i),V6(p,g);const b={baseTag:Ss("base",n),linkTags:Ss("link",a),metaTags:Ss("meta",s),noscriptTags:Ss("noscript",u),scriptTags:Ss("script",f),styleTags:Ss("style",h)},S={},E={};Object.keys(b).forEach(x=>{const{newTags:A,oldTags:O}=b[x];A.length&&(S[x]=A),O.length&&(E[x]=b[x].oldTags)}),e&&e(),c(t,S,E)},Uu=null,F6=t=>{Uu&&cancelAnimationFrame(Uu),t.defer?Uu=requestAnimationFrame(()=>{HO(t,()=>{Uu=null})}):(HO(t),Uu=null)},K6=F6,zO=class extends q.Component{constructor(){super(...arguments);Ei(this,"rendered",!1)}shouldComponentUpdate(e){return!R6(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const i=L6(e.get().map(a=>{const s={...a.props};return delete s.context,s}));JS.canUseDOM?K6(i):Dx&&(r=Dx(i)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Ix,W6=(Ix=class extends q.Component{shouldComponentUpdate(t){return!E6(BO(this.props,"helmetData"),BO(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return UO(qO.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${qO.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),UO(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return V.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:i,...a}=r.props,s=Object.keys(a).reduce((c,f)=>(c[N6[f]||f]=a[f],c),{});let{type:u}=r;switch(typeof u=="symbol"?u=u.toString():this.warnOnInvalidChildren(r,i),u){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,s,i);break;default:e=this.mapObjectTypeChildren(r,e,s,i);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof Lx)){const i=r;r=new Lx(i.context,!0),delete n.helmetData}return r?V.createElement(zO,{...n,context:r.value}):V.createElement(wj.Consumer,null,i=>V.createElement(zO,{...n,context:i}))}},Ei(Ix,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Ix);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var GO="popstate";function Y6(t={}){function e(i,a){let{pathname:s="/",search:u="",hash:c=""}=Io(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),Ux("",{pathname:s,search:u,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),u="";if(s&&s.getAttribute("href")){let c=i.location.href,f=c.indexOf("#");u=f===-1?c:c.slice(0,f)}return u+"#"+(typeof a=="string"?a:vc(a))}function r(i,a){br(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return X6(e,n,r,t)}function At(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function br(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function J6(){return Math.random().toString(36).substring(2,10)}function VO(t,e){return{usr:t.state,key:t.key,idx:e}}function Ux(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Io(e):e,state:n,key:e&&e.key||r||J6()}}function vc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Io(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function X6(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,u="POP",c=null,f=h();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function h(){return(s.state||{idx:null}).idx}function p(){u="POP";let x=h(),A=x==null?null:x-f;f=x,c&&c({action:u,location:E.location,delta:A})}function g(x,A){u="PUSH";let O=Ux(E.location,x,A);n&&n(O,x),f=h()+1;let C=VO(O,f),N=E.createHref(O);try{s.pushState(C,"",N)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(N)}a&&c&&c({action:u,location:E.location,delta:1})}function b(x,A){u="REPLACE";let O=Ux(E.location,x,A);n&&n(O,x),f=h();let C=VO(O,f),N=E.createHref(O);s.replaceState(C,"",N),a&&c&&c({action:u,location:E.location,delta:0})}function S(x){return Q6(x)}let E={get action(){return u},get location(){return t(i,s)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(GO,p),c=x,()=>{i.removeEventListener(GO,p),c=null}},createHref(x){return e(i,x)},createURL:S,encodeLocation(x){let A=S(x);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:g,replace:b,go(x){return s.go(x)}};return E}function Q6(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),At(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:vc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Sj(t,e,n="/"){return Z6(t,e,n,!1)}function Z6(t,e,n,r){let i=typeof e=="string"?Io(e):e,a=Di(i.pathname||"/",n);if(a==null)return null;let s=Ej(t);e8(s);let u=null;for(let c=0;u==null&&c<s.length;++c){let f=f8(a);u=u8(s[c],f,r)}return u}function Ej(t,e=[],n=[],r="",i=!1){let a=(s,u,c=i,f)=>{let h={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:u,route:s};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&c)return;At(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let p=Mi([r,h.relativePath]),g=n.concat(h);s.children&&s.children.length>0&&(At(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Ej(s.children,e,g,p,c)),!(s.path==null&&!s.index)&&e.push({path:p,score:s8(p,s.index),routesMeta:g})};return t.forEach((s,u)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))a(s,u);else for(let f of Tj(s.path))a(s,u,!0,f)}),e}function Tj(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=Tj(r.join("/")),u=[];return u.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&u.push(...s),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function e8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:l8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var t8=/^:[\w-]+$/,n8=3,r8=2,i8=1,a8=10,o8=-2,FO=t=>t==="*";function s8(t,e){let n=t.split("/"),r=n.length;return n.some(FO)&&(r+=o8),e&&(r+=r8),n.filter(i=>!FO(i)).reduce((i,a)=>i+(t8.test(a)?n8:a===""?i8:a8),r)}function l8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function u8(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let u=0;u<r.length;++u){let c=r[u],f=u===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",p=Nh({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),g=c.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=Nh({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:Mi([a,p.pathname]),pathnameBase:m8(Mi([a,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(a=Mi([a,p.pathnameBase]))}return s}function Nh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=c8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:h,isOptional:p},g)=>{if(h==="*"){let S=u[g]||"";s=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const b=u[g];return p&&!b?f[h]=void 0:f[h]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:t}}function c8(t,e=!1,n=!0){br(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function f8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return br(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Di(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var Aj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d8=t=>Aj.test(t);function h8(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Io(t):t,a;if(n)if(d8(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),br(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?a=KO(n.substring(1),"/"):a=KO(n,e)}else a=e;return{pathname:a,search:g8(r),hash:v8(i)}}function KO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function fy(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function p8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cj(t){let e=p8(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Oj(t,e,n,r=!1){let i;typeof t=="string"?i=Io(t):(i={...t},At(!i.pathname||!i.pathname.includes("?"),fy("?","pathname","search",i)),At(!i.pathname||!i.pathname.includes("#"),fy("#","pathname","hash",i)),At(!i.search||!i.search.includes("#"),fy("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,u;if(s==null)u=n;else{let p=e.length-1;if(!r&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}u=p>=0?e[p]:"/"}let c=h8(i,u),f=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}var Mi=t=>t.join("/").replace(/\/\/+/g,"/"),m8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),g8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,v8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,y8=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function b8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function _8(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Rj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Nj(t,e){let n=t;if(typeof n!="string"||!Aj.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(Rj)try{let a=new URL(window.location.href),s=n.startsWith("//")?new URL(a.protocol+n):new URL(n),u=Di(s.pathname,e);s.origin===a.origin&&u!=null?n=u+s.search+s.hash:i=!0}catch{br(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Pj=["POST","PUT","PATCH","DELETE"];new Set(Pj);var x8=["GET",...Pj];new Set(x8);var Nl=q.createContext(null);Nl.displayName="DataRouter";var Fp=q.createContext(null);Fp.displayName="DataRouterState";var w8=q.createContext(!1),Mj=q.createContext({isTransitioning:!1});Mj.displayName="ViewTransition";var S8=q.createContext(new Map);S8.displayName="Fetchers";var E8=q.createContext(null);E8.displayName="Await";var Sr=q.createContext(null);Sr.displayName="Navigation";var cf=q.createContext(null);cf.displayName="Location";var ni=q.createContext({outlet:null,matches:[],isDataRoute:!1});ni.displayName="Route";var XS=q.createContext(null);XS.displayName="RouteError";var Ij="REACT_ROUTER_ERROR",T8="REDIRECT",A8="ROUTE_ERROR_RESPONSE";function C8(t){if(t.startsWith(`${Ij}:${T8}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function O8(t){if(t.startsWith(`${Ij}:${A8}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new y8(e.status,e.statusText,e.data)}catch{}}function R8(t,{relative:e}={}){At(ff(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=q.useContext(Sr),{hash:i,pathname:a,search:s}=hf(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:Mi([n,a])),r.createHref({pathname:u,search:s,hash:i})}function ff(){return q.useContext(cf)!=null}function Na(){return At(ff(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(cf).location}var kj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Dj(t){q.useContext(Sr).static||q.useLayoutEffect(t)}function df(){let{isDataRoute:t}=q.useContext(ni);return t?H8():N8()}function N8(){At(ff(),"useNavigate() may be used only in the context of a <Router> component.");let t=q.useContext(Nl),{basename:e,navigator:n}=q.useContext(Sr),{matches:r}=q.useContext(ni),{pathname:i}=Na(),a=JSON.stringify(Cj(r)),s=q.useRef(!1);return Dj(()=>{s.current=!0}),q.useCallback((c,f={})=>{if(br(s.current,kj),!s.current)return;if(typeof c=="number"){n.go(c);return}let h=Oj(c,JSON.parse(a),i,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Mi([e,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[e,n,a,i,t])}q.createContext(null);function Lj(){let{matches:t}=q.useContext(ni),e=t[t.length-1];return e?e.params:{}}function hf(t,{relative:e}={}){let{matches:n}=q.useContext(ni),{pathname:r}=Na(),i=JSON.stringify(Cj(n));return q.useMemo(()=>Oj(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function P8(t,e){return jj(t,e)}function jj(t,e,n,r,i){var O;At(ff(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=q.useContext(Sr),{matches:s}=q.useContext(ni),u=s[s.length-1],c=u?u.params:{},f=u?u.pathname:"/",h=u?u.pathnameBase:"/",p=u&&u.route;{let C=p&&p.path||"";$j(f,!p||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let g=Na(),b;if(e){let C=typeof e=="string"?Io(e):e;At(h==="/"||((O=C.pathname)==null?void 0:O.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${C.pathname}" was given in the \`location\` prop.`),b=C}else b=g;let S=b.pathname||"/",E=S;if(h!=="/"){let C=h.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(C.length).join("/")}let x=Sj(t,{pathname:E});br(p||x!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),br(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=L8(x&&x.map(C=>Object.assign({},C,{params:Object.assign({},c,C.params),pathname:Mi([h,a.encodeLocation?a.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?h:Mi([h,a.encodeLocation?a.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),s,n,r,i);return e&&A?q.createElement(cf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},A):A}function M8(){let t=B8(),e=b8(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:a},"ErrorBoundary")," or"," ",q.createElement("code",{style:a},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:i},n):null,s)}var I8=q.createElement(M8,null),Uj=class extends q.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=O8(t.digest);n&&(t=n)}let e=t!==void 0?q.createElement(ni.Provider,{value:this.props.routeContext},q.createElement(XS.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?q.createElement(k8,{error:t},e):e}};Uj.contextType=w8;var dy=new WeakMap;function k8({children:t,error:e}){let{basename:n}=q.useContext(Sr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=C8(e.digest);if(r){let i=dy.get(e);if(i)throw i;let a=Nj(r.location,n);if(Rj&&!dy.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw dy.set(e,s),s}return q.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function D8({routeContext:t,match:e,children:n}){let r=q.useContext(Nl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(ni.Provider,{value:t},n)}function L8(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n==null?void 0:n.errors;if(s!=null){let h=a.findIndex(p=>p.route.id&&(s==null?void 0:s[p.route.id])!==void 0);At(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,c=-1;if(n)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:g,errors:b}=n,S=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||S){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}let f=n&&r?(h,p)=>{var g,b;r(h,{location:n.location,params:((b=(g=n.matches)==null?void 0:g[0])==null?void 0:b.params)??{},unstable_pattern:_8(n.matches),errorInfo:p})}:void 0;return a.reduceRight((h,p,g)=>{let b,S=!1,E=null,x=null;n&&(b=s&&p.route.id?s[p.route.id]:void 0,E=p.route.errorElement||I8,u&&(c<0&&g===0?($j("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,x=null):c===g&&(S=!0,x=p.route.hydrateFallbackElement||null)));let A=e.concat(a.slice(0,g+1)),O=()=>{let C;return b?C=E:S?C=x:p.route.Component?C=q.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=h,q.createElement(D8,{match:p,routeContext:{outlet:h,matches:A,isDataRoute:n!=null},children:C})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?q.createElement(Uj,{location:n.location,revalidation:n.revalidation,component:E,error:b,children:O(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:f}):O()},null)}function QS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j8(t){let e=q.useContext(Nl);return At(e,QS(t)),e}function U8(t){let e=q.useContext(Fp);return At(e,QS(t)),e}function $8(t){let e=q.useContext(ni);return At(e,QS(t)),e}function ZS(t){let e=$8(t),n=e.matches[e.matches.length-1];return At(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function q8(){return ZS("useRouteId")}function B8(){var r;let t=q.useContext(XS),e=U8("useRouteError"),n=ZS("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function H8(){let{router:t}=j8("useNavigate"),e=ZS("useNavigate"),n=q.useRef(!1);return Dj(()=>{n.current=!0}),q.useCallback(async(i,a={})=>{br(n.current,kj),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var WO={};function $j(t,e,n){!e&&!WO[t]&&(WO[t]=!0,br(!1,n))}q.memo(z8);function z8({routes:t,future:e,state:n,onError:r}){return jj(t,void 0,n,r,e)}function fr(t){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function G8({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){At(!ff(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),c=q.useMemo(()=>({basename:u,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[u,i,a,s]);typeof n=="string"&&(n=Io(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:b="default"}=n,S=q.useMemo(()=>{let E=Di(f,u);return E==null?null:{location:{pathname:E,search:h,hash:p,state:g,key:b},navigationType:r}},[u,f,h,p,g,b,r]);return br(S!=null,`<Router basename="${u}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:q.createElement(Sr.Provider,{value:c},q.createElement(cf.Provider,{children:e,value:S}))}function V8({children:t,location:e}){return P8($x(t),e)}function $x(t,e=[]){let n=[];return q.Children.forEach(t,(r,i)=>{if(!q.isValidElement(r))return;let a=[...e,i];if(r.type===q.Fragment){n.push.apply(n,$x(r.props.children,a));return}At(r.type===fr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=$x(r.props.children,a)),n.push(s)}),n}var wh="get",Sh="application/x-www-form-urlencoded";function Kp(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function F8(t){return Kp(t)&&t.tagName.toLowerCase()==="button"}function K8(t){return Kp(t)&&t.tagName.toLowerCase()==="form"}function W8(t){return Kp(t)&&t.tagName.toLowerCase()==="input"}function Y8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function J8(t,e){return t.button===0&&(!e||e==="_self")&&!Y8(t)}var zd=null;function X8(){if(zd===null)try{new FormData(document.createElement("form"),0),zd=!1}catch{zd=!0}return zd}var Q8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hy(t){return t!=null&&!Q8.has(t)?(br(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sh}"`),null):t}function Z8(t,e){let n,r,i,a,s;if(K8(t)){let u=t.getAttribute("action");r=u?Di(u,e):null,n=t.getAttribute("method")||wh,i=hy(t.getAttribute("enctype"))||Sh,a=new FormData(t)}else if(F8(t)||W8(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||u.getAttribute("action");if(r=c?Di(c,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||wh,i=hy(t.getAttribute("formenctype"))||hy(u.getAttribute("enctype"))||Sh,a=new FormData(u,t),!X8()){let{name:f,type:h,value:p}=t;if(h==="image"){let g=f?`${f}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else f&&a.append(f,p)}}else{if(Kp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wh,r=null,i=Sh,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function eE(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function eH(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Di(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function tH(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nH(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function rH(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await tH(a,n);return s.links?s.links():[]}return[]}));return sH(r.flat(1).filter(nH).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function YO(t,e,n,r,i,a){let s=(c,f)=>n[f]?c.route.id!==n[f].route.id:!0,u=(c,f)=>{var h;return n[f].pathname!==c.pathname||((h=n[f].route.path)==null?void 0:h.endsWith("*"))&&n[f].params["*"]!==c.params["*"]};return a==="assets"?e.filter((c,f)=>s(c,f)||u(c,f)):a==="data"?e.filter((c,f)=>{var p;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(s(c,f)||u(c,f))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function iH(t,e,{includeHydrateFallback:n}={}){return aH(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function aH(t){return[...new Set(t)]}function oH(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function sH(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(oH(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function qj(){let t=q.useContext(Nl);return eE(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function lH(){let t=q.useContext(Fp);return eE(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var tE=q.createContext(void 0);tE.displayName="FrameworkContext";function Bj(){let t=q.useContext(tE);return eE(t,"You must render this element inside a <HydratedRouter> element"),t}function uH(t,e){let n=q.useContext(tE),[r,i]=q.useState(!1),[a,s]=q.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:f,onMouseLeave:h,onTouchStart:p}=e,g=q.useRef(null);q.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let E=A=>{A.forEach(O=>{s(O.isIntersecting)})},x=new IntersectionObserver(E,{threshold:.5});return g.current&&x.observe(g.current),()=>{x.disconnect()}}},[t]),q.useEffect(()=>{if(r){let E=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(E)}}},[r]);let b=()=>{i(!0)},S=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,g,{}]:[a,g,{onFocus:$u(u,b),onBlur:$u(c,S),onMouseEnter:$u(f,b),onMouseLeave:$u(h,S),onTouchStart:$u(p,b)}]:[!1,g,{}]}function $u(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function cH({page:t,...e}){let{router:n}=qj(),r=q.useMemo(()=>Sj(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?q.createElement(dH,{page:t,matches:r,...e}):null}function fH(t){let{manifest:e,routeModules:n}=Bj(),[r,i]=q.useState([]);return q.useEffect(()=>{let a=!1;return rH(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function dH({page:t,matches:e,...n}){let r=Na(),{manifest:i,routeModules:a}=Bj(),{basename:s}=qj(),{loaderData:u,matches:c}=lH(),f=q.useMemo(()=>YO(t,e,c,i,r,"data"),[t,e,c,i,r]),h=q.useMemo(()=>YO(t,e,c,i,r,"assets"),[t,e,c,i,r]),p=q.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,E=!1;if(e.forEach(A=>{var C;let O=i.routes[A.route.id];!O||!O.hasLoader||(!f.some(N=>N.route.id===A.route.id)&&A.route.id in u&&((C=a[A.route.id])!=null&&C.shouldRevalidate)||O.hasClientLoader?E=!0:S.add(A.route.id))}),S.size===0)return[];let x=eH(t,s,"data");return E&&S.size>0&&x.searchParams.set("_routes",e.filter(A=>S.has(A.route.id)).map(A=>A.route.id).join(",")),[x.pathname+x.search]},[s,u,r,i,f,e,t,a]),g=q.useMemo(()=>iH(h,i),[h,i]),b=fH(h);return q.createElement(q.Fragment,null,p.map(S=>q.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),g.map(S=>q.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),b.map(({key:S,link:E})=>q.createElement("link",{key:S,nonce:n.nonce,...E})))}function hH(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var pH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pH&&(window.__reactRouterVersion="7.11.0")}catch{}function mH({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=q.useRef();i.current==null&&(i.current=Y6({window:r,v5Compat:!0}));let a=i.current,[s,u]=q.useState({action:a.action,location:a.location}),c=q.useCallback(f=>{n===!1?u(f):q.startTransition(()=>u(f))},[n]);return q.useLayoutEffect(()=>a.listen(c),[a,c]),q.createElement(G8,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:n})}var Hj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,It=q.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:u,target:c,to:f,preventScrollReset:h,viewTransition:p,unstable_defaultShouldRevalidate:g,...b},S){let{basename:E,unstable_useTransitions:x}=q.useContext(Sr),A=typeof f=="string"&&Hj.test(f),O=Nj(f,E);f=O.to;let C=R8(f,{relative:i}),[N,R,P]=uH(r,b),I=bH(f,{replace:s,state:u,target:c,preventScrollReset:h,relative:i,viewTransition:p,unstable_defaultShouldRevalidate:g,unstable_useTransitions:x});function D(z){e&&e(z),z.defaultPrevented||I(z)}let L=q.createElement("a",{...b,...P,href:O.absoluteURL||C,onClick:O.isExternal||a?e:D,ref:hH(S,R),target:c,"data-discover":!A&&n==="render"?"true":void 0});return N&&!A?q.createElement(q.Fragment,null,L,q.createElement(cH,{page:C})):L});It.displayName="Link";var gH=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:u,children:c,...f},h){let p=hf(s,{relative:f.relative}),g=Na(),b=q.useContext(Fp),{navigator:S,basename:E}=q.useContext(Sr),x=b!=null&&EH(p)&&u===!0,A=S.encodeLocation?S.encodeLocation(p).pathname:p.pathname,O=g.pathname,C=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(O=O.toLowerCase(),C=C?C.toLowerCase():null,A=A.toLowerCase()),C&&E&&(C=Di(C,E)||C);const N=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let R=O===A||!i&&O.startsWith(A)&&O.charAt(N)==="/",P=C!=null&&(C===A||!i&&C.startsWith(A)&&C.charAt(A.length)==="/"),I={isActive:R,isPending:P,isTransitioning:x},D=R?e:void 0,L;typeof r=="function"?L=r(I):L=[r,R?"active":null,P?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let z=typeof a=="function"?a(I):a;return q.createElement(It,{...f,"aria-current":D,className:L,ref:h,style:z,to:s,viewTransition:u},typeof c=="function"?c(I):c)});gH.displayName="NavLink";var vH=q.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=wh,action:u,onSubmit:c,relative:f,preventScrollReset:h,viewTransition:p,unstable_defaultShouldRevalidate:g,...b},S)=>{let{unstable_useTransitions:E}=q.useContext(Sr),x=wH(),A=SH(u,{relative:f}),O=s.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&Hj.test(u),N=R=>{if(c&&c(R),R.defaultPrevented)return;R.preventDefault();let P=R.nativeEvent.submitter,I=(P==null?void 0:P.getAttribute("formmethod"))||s,D=()=>x(P||R.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:i,state:a,relative:f,preventScrollReset:h,viewTransition:p,unstable_defaultShouldRevalidate:g});E&&n!==!1?q.startTransition(()=>D()):D()};return q.createElement("form",{ref:S,method:O,action:A,onSubmit:r?c:N,...b,"data-discover":!C&&t==="render"?"true":void 0})});vH.displayName="Form";function yH(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zj(t){let e=q.useContext(Nl);return At(e,yH(t)),e}function bH(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:u,unstable_useTransitions:c}={}){let f=df(),h=Na(),p=hf(t,{relative:a});return q.useCallback(g=>{if(J8(g,e)){g.preventDefault();let b=n!==void 0?n:vc(h)===vc(p),S=()=>f(t,{replace:b,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:u});c?q.startTransition(()=>S()):S()}},[h,f,p,n,r,e,t,i,a,s,u,c])}var _H=0,xH=()=>`__${String(++_H)}__`;function wH(){let{router:t}=zj("useSubmit"),{basename:e}=q.useContext(Sr),n=q8(),r=t.fetch,i=t.navigate;return q.useCallback(async(a,s={})=>{let{action:u,method:c,encType:f,formData:h,body:p}=Z8(a,e);if(s.navigate===!1){let g=s.fetcherKey||xH();await r(g,n,s.action||u,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||c,formEncType:s.encType||f,flushSync:s.flushSync})}else await i(s.action||u,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||c,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,e,n])}function SH(t,{relative:e}={}){let{basename:n}=q.useContext(Sr),r=q.useContext(ni);At(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...hf(t||".",{relative:e})},s=Na();if(t==null){a.search=s.search;let u=new URLSearchParams(a.search),c=u.getAll("index");if(c.some(h=>h==="")){u.delete("index"),c.filter(p=>p).forEach(p=>u.append("index",p));let h=u.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Mi([n,a.pathname])),vc(a)}function EH(t,{relative:e}={}){let n=q.useContext(Mj);At(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=zj("useViewTransitionState"),i=hf(t,{relative:e});if(!n.isTransitioning)return!1;let a=Di(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Di(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Nh(i.pathname,s)!=null||Nh(i.pathname,a)!=null}function Wp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function TH(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function u(h){try{f(r.next(h))}catch(p){s(p)}}function c(h){try{f(r.throw(h))}catch(p){s(p)}}function f(h){h.done?a(h.value):i(h.value).then(u,c)}f((r=r.apply(t,e||[])).next())})}const AH=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class nE extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class CH extends nE{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class JO extends nE{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class XO extends nE{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var qx;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(qx||(qx={}));class OH{constructor(e,{headers:n={},customFetch:r,region:i=qx.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=AH(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return TH(this,arguments,void 0,function*(n,r={}){var i;let a,s;try{const{headers:u,method:c,body:f,signal:h,timeout:p}=r;let g={},{region:b}=r;b||(b=this.region);const S=new URL(`${this.url}/${n}`);b&&b!=="any"&&(g["x-region"]=b,S.searchParams.set("forceFunctionRegion",b));let E;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",E=f):typeof f=="string"?(g["Content-Type"]="text/plain",E=f):typeof FormData<"u"&&f instanceof FormData?E=f:(g["Content-Type"]="application/json",E=JSON.stringify(f)):E=f;let x=h;p&&(s=new AbortController,a=setTimeout(()=>s.abort(),p),h?(x=s.signal,h.addEventListener("abort",()=>s.abort())):x=s.signal);const A=yield this.fetch(S.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),u),body:E,signal:x}).catch(R=>{throw new CH(R)}),O=A.headers.get("x-relay-error");if(O&&O==="true")throw new JO(A);if(!A.ok)throw new XO(A);let C=((i=A.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),N;return C==="application/json"?N=yield A.json():C==="application/octet-stream"||C==="application/pdf"?N=yield A.blob():C==="text/event-stream"?N=A:C==="multipart/form-data"?N=yield A.formData():N=yield A.text(),{data:N,error:null,response:A}}catch(u){return{data:null,error:u,response:u instanceof XO||u instanceof JO?u.context:void 0}}finally{a&&clearTimeout(a)}})}}var RH=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},NH=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let s=null,u=null,c=null,f=a.status,h=a.statusText;if(a.ok){var p,g;if(n.method!=="HEAD"){var b;const A=await a.text();A===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((b=n.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?u=A:u=JSON.parse(A))}const E=(p=n.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),x=(g=a.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");E&&x&&x.length>1&&(c=parseInt(x[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(u)&&(u.length>1?(s={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,c=null,f=406,h="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var S;const E=await a.text();try{s=JSON.parse(E),Array.isArray(s)&&a.status===404&&(u=[],s=null,f=200,h="OK")}catch{a.status===404&&E===""?(f=204,h="No Content"):s={message:E}}if(s&&n.isMaybeSingle&&(!(s==null||(S=s.details)===null||S===void 0)&&S.includes("0 rows"))&&(s=null,f=200,h="OK"),s&&n.shouldThrowOnError)throw new RH(s)}return{error:s,data:u,count:c,status:f,statusText:h}});return this.shouldThrowOnError||(i=i.catch(a=>{var s;let u="";const c=a==null?void 0:a.cause;if(c){var f,h,p,g;const S=(f=c==null?void 0:c.message)!==null&&f!==void 0?f:"",E=(h=c==null?void 0:c.code)!==null&&h!==void 0?h:"";u=`${(p=a==null?void 0:a.name)!==null&&p!==void 0?p:"FetchError"}: ${a==null?void 0:a.message}`,u+=`

Caused by: ${(g=c==null?void 0:c.name)!==null&&g!==void 0?g:"Error"}: ${S}`,E&&(u+=` (${E})`),c!=null&&c.stack&&(u+=`
${c.stack}`)}else{var b;u=(b=a==null?void 0:a.stack)!==null&&b!==void 0?b:""}return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},PH=class extends NH{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:a="text"}={}){var s;const u=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${u};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const QO=new RegExp("[,()]");var Is=class extends PH{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&QO.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&QO.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},MH=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let a=!1;const s=(t??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",s),r&&this.headers.append("Prefer",`count=${r}`),new Is({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((s,u)=>s.concat(Object.keys(u)),[]);if(a.length>0){const s=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",s.join(","))}}return new Is({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var a;const s="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(u.length>0){const c=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",c.join(","))}}return new Is({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:e}={}){var n;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Is({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Is({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},IH=class Gj{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new MH(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Gj(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:a}={}){var s;let u;const c=new URL(`${this.url}/rpc/${e}`);let f;r||i?(u=r?"HEAD":"GET",Object.entries(n).filter(([p,g])=>g!==void 0).map(([p,g])=>[p,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([p,g])=>{c.searchParams.append(p,g)})):(u="POST",f=n);const h=new Headers(this.headers);return a&&h.set("Prefer",`count=${a}`),new Is({method:u,url:c,headers:h,schema:this.schemaName,body:f,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};class kH{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const DH="2.89.0",LH=`realtime-js/${DH}`,Vj="1.0.0",jH="2.0.0",ZO=Vj,Bx=1e4,UH=1e3,$H=100;var _a;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(_a||(_a={}));var Vt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Vt||(Vt={}));var kr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(kr||(kr={}));var Hx;(function(t){t.websocket="websocket"})(Hx||(Hx={}));var co;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(co||(co={}));class qH{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(e,n,r){var i,a;const s=e.topic,u=(i=e.ref)!==null&&i!==void 0?i:"",c=(a=e.join_ref)!==null&&a!==void 0?a:"",f=e.payload.event,h=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},p=Object.keys(h).length===0?"":JSON.stringify(h);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+u.length+s.length+f.length+p.length,b=new ArrayBuffer(this.HEADER_LENGTH+g);let S=new DataView(b),E=0;S.setUint8(E++,this.KINDS.userBroadcastPush),S.setUint8(E++,c.length),S.setUint8(E++,u.length),S.setUint8(E++,s.length),S.setUint8(E++,f.length),S.setUint8(E++,p.length),S.setUint8(E++,n),Array.from(c,A=>S.setUint8(E++,A.charCodeAt(0))),Array.from(u,A=>S.setUint8(E++,A.charCodeAt(0))),Array.from(s,A=>S.setUint8(E++,A.charCodeAt(0))),Array.from(f,A=>S.setUint8(E++,A.charCodeAt(0))),Array.from(p,A=>S.setUint8(E++,A.charCodeAt(0)));var x=new Uint8Array(b.byteLength+r.byteLength);return x.set(new Uint8Array(b),0),x.set(new Uint8Array(r),b.byteLength),x.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,a,s,u,c]=r;return n({join_ref:i,ref:a,topic:s,event:u,payload:c})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2),s=n.getUint8(3),u=n.getUint8(4);let c=this.HEADER_LENGTH+4;const f=r.decode(e.slice(c,c+i));c=c+i;const h=r.decode(e.slice(c,c+a));c=c+a;const p=r.decode(e.slice(c,c+s));c=c+s;const g=e.slice(c,e.byteLength),b=u===this.JSON_ENCODING?JSON.parse(r.decode(g)):g,S={type:this.BROADCAST_EVENT,event:h,payload:b};return s>0&&(S.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class Fj{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ct;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ct||(ct={}));const eR=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,s)=>(a[s]=BH(s,t,e,i),a),{}):{}},BH=(t,e,n,r)=>{const i=e.find(u=>u.name===t),a=i==null?void 0:i.type,s=n[t];return a&&!r.includes(a)?Kj(a,s):zx(s)},Kj=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return VH(e,n)}switch(t){case ct.bool:return HH(e);case ct.float4:case ct.float8:case ct.int2:case ct.int4:case ct.int8:case ct.numeric:case ct.oid:return zH(e);case ct.json:case ct.jsonb:return GH(e);case ct.timestamp:return FH(e);case ct.abstime:case ct.date:case ct.daterange:case ct.int4range:case ct.int8range:case ct.money:case ct.reltime:case ct.text:case ct.time:case ct.timestamptz:case ct.timetz:case ct.tsrange:case ct.tstzrange:return zx(e);default:return zx(e)}},zx=t=>t,HH=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},zH=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},GH=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},VH=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const s=t.slice(1,n);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(u=>Kj(e,u))}return t},FH=t=>typeof t=="string"?t.replace(" ","T"):t,Wj=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class py{constructor(e,n,r={},i=Bx){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var tR;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(tR||(tR={}));class lc{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:s,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lc.syncState(this.state,i,a,s),this.pendingDiffs.forEach(c=>{this.state=lc.syncDiff(this.state,c,a,s)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=lc.syncDiff(this.state,i,a,s),u())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),s=this.transformState(n),u={},c={};return this.map(a,(f,h)=>{s[f]||(c[f]=h)}),this.map(s,(f,h)=>{const p=a[f];if(p){const g=h.map(x=>x.presence_ref),b=p.map(x=>x.presence_ref),S=h.filter(x=>b.indexOf(x.presence_ref)<0),E=p.filter(x=>g.indexOf(x.presence_ref)<0);S.length>0&&(u[f]=S),E.length>0&&(c[f]=E)}else u[f]=h}),this.syncDiff(a,{joins:u,leaves:c},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(u,c)=>{var f;const h=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(c),h.length>0){const p=e[u].map(b=>b.presence_ref),g=h.filter(b=>p.indexOf(b.presence_ref)<0);e[u].unshift(...g)}r(u,h,c)}),this.map(s,(u,c)=>{let f=e[u];if(!f)return;const h=c.map(p=>p.presence_ref);f=f.filter(p=>h.indexOf(p.presence_ref)<0),e[u]=f,i(u,f,c),f.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var nR;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(nR||(nR={}));var uc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(uc||(uc={}));var Ai;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ai||(Ai={}));class js{constructor(e,n={config:{}},r){var i,a;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new py(this,kr.join,this.params,this.timeout),this.rejoinTimer=new Fj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kr.reply,{},(s,u)=>{this._trigger(this._replyEventName(u),s)}),this.presence=new lc(this),this.broadcastEndpointURL=Wj(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Vt.closed){const{config:{broadcast:s,presence:u,private:c}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[uc.PRESENCE]&&this.bindings[uc.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},g={broadcast:s,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:f,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(Ai.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(Ai.CLOSED)),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){e==null||e(Ai.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,x=(S=E==null?void 0:E.length)!==null&&S!==void 0?S:0,A=[];for(let O=0;O<x;O++){const C=E[O],{filter:{event:N,schema:R,table:P,filter:I}}=C,D=b&&b[O];if(D&&D.event===N&&js.isFilterValueEqual(D.schema,R)&&js.isFilterValueEqual(D.table,P)&&js.isFilterValueEqual(D.filter,I))A.push(Object.assign(Object.assign({},C),{id:D.id}));else{this.unsubscribe(),this.state=Vt.errored,e==null||e(Ai.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(Ai.SUBSCRIBED);return}}).receive("error",b=>{this.state=Vt.errored,e==null||e(Ai.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ai.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Vt.joined&&e===uc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let c=u.statusText;try{const f=await u.json();c=f.error||f.message||c}catch{}return Promise.reject(new Error(c))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=e,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,u,c;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(u=(s=this.params)===null||s===void 0?void 0:s.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Vt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new py(this,kr.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Vt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new py(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>$H){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const s=e.toLocaleLowerCase(),{close:u,error:c,leave:f,join:h}=kr;if(r&&[u,c,f,h].indexOf(s)>=0&&r!==this._joinRef())return;let g=this._onMessage(s,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var S,E,x;return((S=b.filter)===null||S===void 0?void 0:S.event)==="*"||((x=(E=b.filter)===null||E===void 0?void 0:E.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===s}).map(b=>b.callback(g,r)):(a=this.bindings[s])===null||a===void 0||a.filter(b=>{var S,E,x,A,O,C;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in b){const N=b.id,R=(S=b.filter)===null||S===void 0?void 0:S.event;return N&&((E=n.ids)===null||E===void 0?void 0:E.includes(N))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const N=(O=(A=b==null?void 0:b.filter)===null||A===void 0?void 0:A.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return N==="*"||N===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===s}).map(b=>{if(typeof g=="object"&&"ids"in g){const S=g.data,{schema:E,table:x,commit_timestamp:A,type:O,errors:C}=S;g=Object.assign(Object.assign({},{schema:E,table:x,commit_timestamp:A,eventType:O,new:{},old:{},errors:C}),this._getPayloadRecords(S))}b.callback(g,r)})}_isClosed(){return this.state===Vt.closed}_isJoined(){return this.state===Vt.joined}_isJoining(){return this.state===Vt.joining}_isLeaving(){return this.state===Vt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&js.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(kr.close,{},e)}_onError(e){this._on(kr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=eR(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=eR(e.columns,e.old_record)),n}}const my=()=>{},Gd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},KH=[1e3,2e3,5e3,1e4],WH=1e4,YH=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class JH{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bx,this.transport=null,this.heartbeatIntervalMs=Gd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=my,this.ref=0,this.reconnectTimer=null,this.vsn=ZO,this.logger=my,this.conn=null,this.sendBuffer=[],this.serializer=new qH,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Hx.websocket}`,this.httpEndpoint=Wj(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=kH.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case _a.connecting:return co.Connecting;case _a.open:return co.Open;case _a.closing:return co.Closing;default:return co.Closed}}isConnected(){return this.connectionState()===co.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new js(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,s=()=>{this.encode(e,u=>{var c;(c=this.conn)===null||c===void 0||c.send(u)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(UH,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Gd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:s}=n,u=s?`(${s})`:"",c=a.status||"";this.log("receive",`${c} ${r} ${i} ${u}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,a,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===_a.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===_a.open||this.conn.readyState===_a.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(kr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([YH],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const a={access_token:n,version:LH};n&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(kr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Fj(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,a,s,u,c,f,h,p,g,b;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Bx,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Gd.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=e==null?void 0:e.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:my,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:ZO,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:(S=>KH[S-1]||WH),this.vsn){case Vj:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:((S,E)=>E(JSON.stringify(S))),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:((S,E)=>E(JSON.parse(S)));break;case jH:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var yc=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function XH(t,e,n){const r=new URL(e,t);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function QH(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function ZH(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:s}){const u=XH(t.baseUrl,r,i),c=await QH(t.auth),f=await e(u,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...c,...s},body:a?JSON.stringify(a):void 0}),h=await f.text(),p=(f.headers.get("content-type")||"").includes("application/json"),g=p&&h?JSON.parse(h):h;if(!f.ok){const b=p?g:void 0,S=b==null?void 0:b.error;throw new yc((S==null?void 0:S.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:S==null?void 0:S.type,icebergCode:S==null?void 0:S.code,details:b})}return{status:f.status,headers:f.headers,data:g}}}}function Vd(t){return t.join("")}var ez=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Vd(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vd(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vd(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vd(t.namespace)}`}),!0}catch(e){if(e instanceof yc&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof yc&&n.status===409)return;throw n}}};function Es(t){return t.join("")}var tz=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Es(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Es(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Es(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Es(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Es(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Es(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof yc&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof yc&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},nz=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=ZH({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new ez(this.client,e),this.tableOps=new tz(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Yp=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Et(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var rz=class extends Yp{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Gx=class extends Yp{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const rE=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),iz=()=>Response,Vx=t=>{if(Array.isArray(t))return t.map(n=>Vx(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Vx(r)}),e},az=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},oz=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}function sz(t,e){if(bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lz(t){var e=sz(t,"string");return bc(e)=="symbol"?e:e+""}function uz(t,e,n){return(e=lz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Te(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rR(Object(n),!0).forEach(function(r){uz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const gy=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},cz=async(t,e,n)=>{t instanceof await iz()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const i=t.status||500,a=(r==null?void 0:r.statusCode)||i+"";e(new rz(gy(r),i,a))}).catch(r=>{e(new Gx(gy(r),r))}):e(new Gx(gy(t),t))},fz=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(az(r)?(i.headers=Te({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Te(Te({},i),n))};async function pf(t,e,n,r,i,a){return new Promise((s,u)=>{t(n,fz(e,r,i,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>cz(c,u,r))})}async function _c(t,e,n,r){return pf(t,"GET",e,n,r)}async function Ir(t,e,n,r,i){return pf(t,"POST",e,r,i,n)}async function Fx(t,e,n,r,i){return pf(t,"PUT",e,r,i,n)}async function dz(t,e,n,r){return pf(t,"HEAD",e,Te(Te({},n),{},{noResolveJson:!0}),r)}async function iE(t,e,n,r,i){return pf(t,"DELETE",e,r,i,n)}var hz=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Et(e))return{data:null,error:e};throw e}}};let Yj;Yj=Symbol.toStringTag;var pz=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Yj]="BlobDownloadBuilder",this.promise=null}asStream(){return new hz(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Et(e))return{data:null,error:e};throw e}}};const mz={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},iR={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var gz=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=rE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var i=this;try{let a;const s=Te(Te({},iR),r);let u=Te(Te({},i.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",i.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),c&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(c))):(a=n,u["cache-control"]=`max-age=${s.cacheControl}`,u["content-type"]=s.contentType,c&&(u["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),r!=null&&r.headers&&(u=Te(Te({},u),r.headers));const f=i._removeEmptyFolders(e),h=i._getFinalPath(f),p=await(t=="PUT"?Fx:Ir)(i.fetch,`${i.url}/object/${h}`,a,Te({headers:u},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Et(a))return{data:null,error:a};throw a}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const a=i._removeEmptyFolders(t),s=i._getFinalPath(a),u=new URL(i.url+`/object/upload/sign/${s}`);u.searchParams.set("token",e);try{let c;const f=Te({upsert:iR.upsert},r),h=Te(Te({},i.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",f.cacheControl)):(c=n,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType),{data:{path:a,fullPath:(await Fx(i.fetch,u.toString(),c,{headers:h})).Key},error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Et(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const i=Te({},n.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const a=await Ir(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(n.url+a.url),u=s.searchParams.get("token");if(!u)throw new Yp("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:u},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await Ir(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}async copy(t,e,n){var r=this;try{return{data:{path:(await Ir(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var r=this;try{let i=r._getFinalPath(t),a=await Ir(r.fetch,`${r.url}/object/sign/${i}`,Te({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${r.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var r=this;try{const i=await Ir(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Te(Te({},s),{},{signedUrl:s.signedURL?encodeURI(`${r.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=r?`?${r}`:"",a=this._getFinalPath(t),s=()=>_c(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new pz(s,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:Vx(await _c(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await dz(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Et(r)&&r instanceof Gx){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const a=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});s!==""&&r.push(s);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}async remove(t){var e=this;try{return{data:await iE(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const i=Te(Te(Te({},mz),e),{},{prefix:t||""});return{data:await Ir(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const r=Te({},t);return{data:await Ir(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Jj="2.89.0",Xj={"X-Client-Info":`storage-js/${Jj}`};var vz=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Te(Te({},Xj),e),this.fetch=rE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await _c(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await _c(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await Ir(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await Fx(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await Ir(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await iE(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},yz=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Te(Te({},Xj),e),this.fetch=rE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Ir(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await _c(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await iE(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!oz(t))throw new Yp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new nz({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,a){const s=i[a];return typeof s!="function"?s:async(...u)=>{try{return{data:await s.apply(i,u),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}};const aE={"X-Client-Info":`storage-js/${Jj}`,"Content-Type":"application/json"};var Qj=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Wn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var vy=class extends Qj{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},bz=class extends Qj{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const oE=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),_z=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},aR=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),xz=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,i=t;if(typeof i.json=="function")i.json().then(a=>{const s=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||r+"";e(new vy(aR(a),r,s))}).catch(()=>{const a=r+"";e(new vy(i.statusText||`HTTP ${r} error`,r,a))});else{const a=r+"";e(new vy(i.statusText||`HTTP ${r} error`,r,a))}}else e(new bz(aR(t),t))},wz=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(_z(r)?(i.headers=Te({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Te(Te({},i),n)):i};async function Sz(t,e,n,r,i,a){return new Promise((s,u)=>{t(n,wz(e,r,i,a)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const f=c.headers.get("content-type");return!f||!f.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>xz(c,u,r))})}async function Yn(t,e,n,r,i){return Sz(t,"POST",e,r,i,n)}var Ez=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Te(Te({},aE),e),this.fetch=oE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Yn(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Yn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Wn(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await Yn(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Yn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Wn(r))return{data:null,error:r};throw r}}},Tz=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Te(Te({},aE),e),this.fetch=oE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Yn(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Yn(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Yn(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Yn(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Yn(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}}},Az=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Te(Te({},aE),e),this.fetch=oE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Yn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Yn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Yn(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Yn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}}},Cz=class extends Az{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new Oz(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},Oz=class extends Ez{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new Rz(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Rz=class extends Tz{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Nz=class extends vz{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new gz(this.url,this.headers,t,this.fetch)}get vectors(){return new Cz(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new yz(this.url+"/iceberg",this.headers,this.fetch)}};const Zj="2.89.0",ks=30*1e3,Kx=3,yy=Kx*ks,Pz="http://localhost:9999",Mz="supabase.auth.token",Iz={"X-Client-Info":`gotrue-js/${Zj}`},Wx="X-Supabase-Api-Version",eU={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kz=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Dz=600*1e3;class xc extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function be(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Lz extends xc{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function jz(t){return be(t)&&t.name==="AuthApiError"}class fo extends xc{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Bi extends xc{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Gn extends Bi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Uz(t){return be(t)&&t.name==="AuthSessionMissingError"}class Ts extends Bi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fd extends Bi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Kd extends Bi{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $z(t){return be(t)&&t.name==="AuthImplicitGrantRedirectError"}class oR extends Bi{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qz extends Bi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Yx extends Bi{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function by(t){return be(t)&&t.name==="AuthRetryableFetchError"}class sR extends Bi{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Jx extends Bi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ph="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),lR=` 	
\r=`.split(""),Bz=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<lR.length;e+=1)t[lR[e].charCodeAt(0)]=-2;for(let e=0;e<Ph.length;e+=1)t[Ph[e].charCodeAt(0)]=e;return t})();function uR(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ph[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ph[r]),e.queuedBits-=6}}function tU(t,e,n){const r=Bz[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function cR(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{Gz(s,r,n)};for(let s=0;s<t.length;s+=1)tU(t.charCodeAt(s),i,a);return e.join("")}function Hz(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function zz(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Hz(r,e)}}function Gz(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ws(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)tU(t.charCodeAt(i),n,r);return new Uint8Array(e)}function Vz(t){const e=[];return zz(t,n=>e.push(n)),new Uint8Array(e)}function mo(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>uR(i,n,r)),uR(null,n,r),e.join("")}function Fz(t){return Math.round(Date.now()/1e3)+t}function Kz(){return Symbol("auth-callback")}const sn=()=>typeof window<"u"&&typeof document<"u",to={tested:!1,writable:!1},nU=()=>{if(!sn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(to.tested)return to.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),to.tested=!0,to.writable=!0}catch{to.tested=!0,to.writable=!1}return to.writable};function Wz(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const rU=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Yz=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ds=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},no=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},on=async(t,e)=>{await t.removeItem(e)};class Jp{constructor(){this.promise=new Jp.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Jp.promiseConstructor=Promise;function _y(t){const e=t.split(".");if(e.length!==3)throw new Jx("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!kz.test(e[r]))throw new Jx("JWT not in base64url format");return{header:JSON.parse(cR(e[0])),payload:JSON.parse(cR(e[1])),signature:Ws(e[2]),raw:{header:e[0],payload:e[1]}}}async function Jz(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Xz(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){r(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function Qz(t){return("0"+t.toString(16)).substr(-2)}function Zz(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Qz).join("")}async function eG(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function tG(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await eG(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function As(t,e,n=!1){const r=Zz();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Ds(t,`${e}-code-verifier`,i);const a=await tG(r);return[a,r===a?"plain":"s256"]}const nG=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rG(t){const e=t.headers.get(Wx);if(!e||!e.match(nG))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function iG(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function aG(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const oG=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cs(t){if(!oG.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xy(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function sG(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function fR(t){return JSON.parse(JSON.stringify(t))}const oo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),lG=[502,503,504];async function dR(t){var e;if(!Yz(t))throw new Yx(oo(t),0);if(lG.includes(t.status))throw new Yx(oo(t),t.status);let n;try{n=await t.json()}catch(a){throw new fo(oo(a),a)}let r;const i=rG(t);if(i&&i.getTime()>=eU["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new sR(oo(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Gn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new sR(oo(n),t.status,n.weak_password.reasons);throw new Lz(oo(n),t.status||500,r)}const uG=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ee(t,e,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[Wx]||(a[Wx]=eU["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const s=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const u=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await cG(t,e,n+u,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function cG(t,e,n,r,i,a){const s=uG(e,r,i,a);let u;try{u=await t(n,Object.assign({},s))}catch(c){throw console.error(c),new Yx(oo(c),0)}if(u.ok||await dR(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(c){await dR(c)}}function Pr(t){var e;let n=null;hG(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Fz(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function hR(t){const e=Pr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Sa(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function fG(t){return{data:t,error:null}}function dG(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,s=Wp(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},c=Object.assign({},s);return{data:{properties:u,user:c},error:null}}function pR(t){return t}function hG(t){return t.access_token&&t.refresh_token&&t.expires_in}const wy=["global","local","others"];class pG{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=rU(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=wy[0]){if(wy.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wy.join(", ")}`);try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Sa})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Wp(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:dG,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(be(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Sa})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,s,u,c;try{const f={nextPage:null,lastPage:0,total:0},h=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:pR});if(h.error)throw h.error;const p=await h.json(),g=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,b=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return b.length>0&&(b.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(S.split(";")[1].split("=")[1]);f[`${x}Page`]=E}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(be(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Cs(e);try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Sa})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Cs(e);try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Sa})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Cs(e);try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Sa})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Cs(e.userId);try{const{data:n,error:r}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Cs(e.userId),Cs(e.id);try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,a,s,u,c;try{const f={nextPage:null,lastPage:0,total:0},h=await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:pR});if(h.error)throw h.error;const p=await h.json(),g=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,b=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return b.length>0&&(b.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(S.split(";")[1].split("=")[1]);f[`${x}Page`]=E}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(be(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}}function mR(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Os={debug:!!(globalThis&&nU()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class iU extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class mG extends iU{}async function gG(t,e,n){Os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Os.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Os.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Os.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new mG(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Os.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function vG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function aU(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function yG(t){return parseInt(t,16)}function bG(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function _G(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:u,requestId:c,resources:f,scheme:h,uri:p,version:g}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=aU(t.address),S=h?`${h}://${r}`:r,E=t.statement?`${t.statement}
`:"",x=`${S} wants you to sign in with your Ethereum account:
${b}

${E}`;let A=`URI: ${p}
Version: ${g}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(A+=`
Expiration Time: ${i.toISOString()}`),u&&(A+=`
Not Before: ${u.toISOString()}`),c&&(A+=`
Request ID: ${c}`),f){let O=`
Resources:`;for(const C of f){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);O+=`
- ${C}`}A+=O}return`${x}
${A}`}class $t extends Error{constructor({message:e,code:n,cause:r,name:i}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Mh extends $t{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function xG({error:t,options:e}){var n,r,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new $t({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new $t({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new $t({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new $t({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new $t({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new $t({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new $t({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new $t({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(oU(s)){if(a.rp.id!==s)return new $t({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new $t({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new $t({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new $t({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new $t({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function wG({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new $t({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new $t({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(oU(r)){if(n.rpId!==r)return new $t({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new $t({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new $t({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new $t({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class SG{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const EG=new SG;function TG(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=Wp(t,["challenge","user","excludeCredentials"]),a=Ws(e).buffer,s=Object.assign(Object.assign({},n),{id:Ws(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:a,user:s});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const f=r[c];u.excludeCredentials[c]=Object.assign(Object.assign({},f),{id:Ws(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function AG(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Wp(t,["challenge","allowCredentials"]),i=Ws(e).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const u=n[s];a.allowCredentials[s]=Object.assign(Object.assign({},u),{id:Ws(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function CG(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:mo(new Uint8Array(t.response.attestationObject)),clientDataJSON:mo(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function OG(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:mo(new Uint8Array(i.authenticatorData)),clientDataJSON:mo(new Uint8Array(i.clientDataJSON)),signature:mo(new Uint8Array(i.signature)),userHandle:i.userHandle?mo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function oU(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function gR(){var t,e;return!!(sn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function RG(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Mh("Browser returned unexpected credential type",e)}:{data:null,error:new Mh("Empty credential response",e)}}catch(e){return{data:null,error:xG({error:e,options:t})}}}async function NG(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Mh("Browser returned unexpected credential type",e)}:{data:null,error:new Mh("Empty credential response",e)}}catch(e){return{data:null,error:wG({error:e,options:t})}}}const PG={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},MG={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ih(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))r[a]=s;else if(n(s))r[a]=s;else if(e(s)){const u=r[a];e(u)?r[a]=Ih(u,s):r[a]=Ih(s)}else r[a]=s}return r}function IG(t,e){return Ih(PG,t,e||{})}function kG(t,e){return Ih(MG,t,e||{})}class DG{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},a){try{const{data:s,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!s)return{data:null,error:u};const c=i??EG.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:f}=s.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(s.webauthn.type){case"create":{const f=IG(s.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:h,error:p}=await RG({publicKey:f,signal:c});return h?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const f=kG(s.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:h,error:p}=await NG(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:f,signal:c}));return h?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(s){return be(s)?{data:null,error:s}:{data:null,error:new fo("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new xc("rpId is required for WebAuthn authentication")};try{if(!gR())return{data:null,error:new fo("Browser does not support WebAuthn",null)};const{data:s,error:u}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!s)return{data:null,error:u};const{webauthn:c}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(s){return be(s)?{data:null,error:s}:{data:null,error:new fo("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new xc("rpId is required for WebAuthn registration")};try{if(!gR())return{data:null,error:new fo("Browser does not support WebAuthn",null)};const{data:s,error:u}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:c,error:f}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:f}}catch(s){return be(s)?{data:null,error:s}:{data:null,error:new fo("Unexpected error in register",s)}}}}vG();const LG={url:Pz,storageKey:Mz,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Iz,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function vR(t,e,n){return await n()}const Rs={};class wc{get jwks(){var e,n;return(n=(e=Rs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Rs[this.storageKey]=Object.assign(Object.assign({},Rs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Rs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Rs[this.storageKey]=Object.assign(Object.assign({},Rs[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},LG),e);if(this.storageKey=a.storageKey,this.instanceID=(n=wc.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,wc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&sn()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new pG({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=rU(a.fetch),this.lock=a.lock||vR,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&sn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=gG:this.lock=vR,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new DG(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:nU()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=mR(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=mR(this.memoryStorage)),sn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Zj}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(sn()&&(n=Wz(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),sn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),$z(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",u),await this._saveSession(s),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return be(n)?this._returnResult({error:n}):this._returnResult({error:new fo("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Pr}),{data:s,error:u}=a;if(u||!s)return this._returnResult({data:{user:null,session:null},error:u});const c=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(a){if(be(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:h,password:p,options:g}=e;let b=null,S=null;this.flowType==="pkce"&&([b,S]=await As(this.storage,this.storageKey)),a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:p,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:b,code_challenge_method:S},xform:Pr})}else if("phone"in e){const{phone:h,password:p,options:g}=e;a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Pr})}else throw new Fd("You must provide either an email or phone number and a password");const{data:s,error:u}=a;if(u||!s)return await on(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const c=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(a){if(await on(this.storage,`${this.storageKey}-code-verifier`),be(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:s,options:u}=e;n=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:hR})}else if("phone"in e){const{phone:a,password:s,options:u}=e;n=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:hR})}else throw new Fd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Ts;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,a,s,u,c,f,h,p,g;let b,S;if("message"in e)b=e.message,S=e.signature;else{const{chain:E,wallet:x,statement:A,options:O}=e;let C;if(sn())if(typeof x=="object")C=x;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")C=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=x}const N=new URL((n=O==null?void 0:O.url)!==null&&n!==void 0?n:window.location.href),R=await C.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=aU(R[0]);let I=(r=O==null?void 0:O.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!I){const L=await C.request({method:"eth_chainId"});I=yG(L)}const D={domain:N.host,address:P,statement:A,uri:N.href,version:"1",chainId:I,nonce:(i=O==null?void 0:O.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=O==null?void 0:O.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(u=O==null?void 0:O.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(c=O==null?void 0:O.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(f=O==null?void 0:O.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(h=O==null?void 0:O.signInWithEthereum)===null||h===void 0?void 0:h.resources};b=_G(D),S=await C.request({method:"personal_sign",params:[bG(b),P]})}try{const{data:E,error:x}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:S},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Pr});if(x)throw x;if(!E||!E.session||!E.user){const A=new Ts;return this._returnResult({data:{user:null,session:null},error:A})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:x})}catch(E){if(be(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var n,r,i,a,s,u,c,f,h,p,g,b;let S,E;if("message"in e)S=e.message,E=e.signature;else{const{chain:x,wallet:A,statement:O,options:C}=e;let N;if(sn())if(typeof A=="object")N=A;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))N=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=A}const R=new URL((n=C==null?void 0:C.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in N&&N.signIn){const P=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),O?{statement:O}:null));let I;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")I=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)I=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)S=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),E=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${R.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(i=(r=C==null?void 0:C.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=C==null?void 0:C.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((s=C==null?void 0:C.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((u=C==null?void 0:C.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((c=C==null?void 0:C.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((f=C==null?void 0:C.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((p=(h=C==null?void 0:C.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...C.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const P=await N.signMessage(new TextEncoder().encode(S),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=P}}try{const{data:x,error:A}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:mo(E)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Pr});if(A)throw A;if(!x||!x.session||!x.user){const O=new Ts;return this._returnResult({data:{user:null,session:null},error:O})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:A})}catch(x){if(be(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const n=await no(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new qz;const{data:a,error:s}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Pr});if(await on(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const u=new Ts;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(await on(this.storage,`${this.storageKey}-code-verifier`),be(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:s}=e,u=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Pr}),{data:c,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!c||!c.session||!c.user){const h=new Ts;return this._returnResult({data:{user:null,session:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:f})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,a,s;try{if("email"in e){const{email:u,options:c}=e;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await As(this.storage,this.storageKey));const{error:p}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in e){const{phone:u,options:c}=e,{data:f,error:h}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h})}throw new Fd("You must provide either an email or phone number.")}catch(u){if(await on(this.storage,`${this.storageKey}-code-verifier`),be(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:u}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Pr});if(u)throw u;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,f=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(i){if(be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,a,s;try{let u=null,c=null;this.flowType==="pkce"&&([u,c]=await As(this.storage,this.storageKey));const f=await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:c}),headers:this.headers,xform:fG});return!((a=f.data)===null||a===void 0)&&a.url&&sn()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await on(this.storage,`${this.storageKey}-code-verifier`),be(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Gn;const{error:i}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(be(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:s}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:s,error:u}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:u})}throw new Fd("You must provide either an email or phone number and a type")}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await no(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<yy:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const s=await no(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=xy()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};e.user=sG(e.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Sa}):await this._useSession(async n=>{var r,i,a;const{data:s,error:u}=n;if(u)throw u;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Gn}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Sa})})}catch(n){if(be(n))return Uz(n)&&(await this._removeSession(),await on(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Gn;const s=i.session;let u=null,c=null;this.flowType==="pkce"&&e.email!=null&&([u,c]=await As(this.storage,this.storageKey));const{data:f,error:h}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:c}),jwt:s.access_token,xform:Sa});if(h)throw h;return s.user=f.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(r){if(await on(this.storage,`${this.storageKey}-code-verifier`),be(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Gn;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:s}=_y(e.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{data:u,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(be(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:u}=n;if(u)throw u;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Gn;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!sn())throw new Kd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Kd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new oR("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Kd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new oR("No code detected.");const{data:O,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:u,expires_at:c,token_type:f}=e;if(!a||!u||!s||!f)throw new Kd("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(u);let g=h+p;c&&(g=parseInt(c));const b=g-h;b*1e3<=ks&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${p}s`);const S=g-p;h-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,g,h):h-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,g,h);const{data:E,error:x}=await this._getUser(a);if(x)throw x;const A={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:g,refresh_token:s,token_type:f,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:e.type},error:null})}catch(r){if(be(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await no(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:u}=await this.admin.signOut(s,e);if(u&&!(jz(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await on(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=Kz(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await As(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await on(this.storage,`${this.storageKey}-code-verifier`),be(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var s,u,c,f,h;const{data:p,error:g}=a;if(g)throw g;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",b,{headers:this.headers,jwt:(h=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return sn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(be(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:s,provider:u,token:c,access_token:f,nonce:h}=e,p=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:c,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Pr}),{data:g,error:b}=p;return b?this._returnResult({data:{user:null,session:null},error:b}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new Ts}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:b}))}catch(i){if(await on(this.storage,`${this.storageKey}-code-verifier`),be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)throw s;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Xz(async i=>(i>0&&await Jz(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Pr})),(i,a)=>{const s=200*Math.pow(2,i);return a&&by(a)&&Date.now()+s-r<ks})}catch(r){if(this._debug(n,"error",r),be(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),sn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await no(this.storage,this.storageKey);if(i&&this.userStorage){let s=await no(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Ds(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:xy()}else if(i&&!i.user&&!i.user){const s=await no(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await on(this.storage,this.storageKey+"-user"),await Ds(this.storage,this.storageKey,i)):i.user=xy()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<yy;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${yy}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),by(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:u}=await this._getUser(i.access_token);!u&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Gn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Jp;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new Gn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(i,"error",a),be(a)){const s={data:null,error:a};return by(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(c){a.push(c)}});if(await Promise.all(s),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await on(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Ds(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=fR(i);await Ds(this.storage,this.storageKey,a)}else{const i=fR(n);await Ds(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await on(this.storage,this.storageKey),await on(this.storage,this.storageKey+"-code-verifier"),await on(this.storage,this.storageKey+"-user"),this.userStorage&&await on(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&sn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ks);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/ks);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ks}ms, refresh threshold is ${Kx} ticks`),i<=Kx&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof iU)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!sn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,s]=await As(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await Ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)return this._returnResult({data:null,error:s});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:f}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?CG(e.webauthn.credential_response):OG(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:c}=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:c}))})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(s.error)return s;const{data:u}=s;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:TG(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:AG(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=_y(r.access_token);let s=null;a.aal&&(s=a.aal);let u=s;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const f=a.amr||[];return{data:{currentLevel:s,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Gn})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Gn});const s=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return s.data&&s.data.redirect_url&&sn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Gn});const s=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return s.data&&s.data.redirect_url&&sn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await Ee(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Gn})})}catch(e){if(be(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await Ee(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Gn})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(u=>u.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===e),r&&this.jwks_cached_at+Dz>i)return r;const{data:a,error:s}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(u=>u.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:b,error:S}=await this.getSession();if(S||!b.session)return this._returnResult({data:null,error:S});r=b.session.access_token}const{header:i,payload:a,signature:s,raw:{header:u,payload:c}}=_y(r);n!=null&&n.allowExpired||iG(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:a,header:i,signature:s},error:null}}const h=aG(i.alg),p=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,s,Vz(`${u}.${c}`)))throw new Jx("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}}wc.nextInstanceID={};const jG=wc,UG="2.89.0";let Xu="";typeof Deno<"u"?Xu="deno":typeof document<"u"?Xu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xu="react-native":Xu="node";const $G={"X-Client-Info":`supabase-js-${Xu}/${UG}`},qG={headers:$G},BG={schema:"public"},HG={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zG={};function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function GG(t,e){if(Sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VG(t){var e=GG(t,"string");return Sc(e)=="symbol"?e:e+""}function FG(t,e,n){return(e=VG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(n),!0).forEach(function(r){FG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const KG=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),WG=()=>Headers,YG=(t,e,n)=>{const r=KG(n),i=WG();return async(a,s)=>{var u;const c=(u=await e())!==null&&u!==void 0?u:t;let f=new i(s==null?void 0:s.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${c}`),r(a,Rt(Rt({},s),{},{headers:f}))}};function JG(t){return t.endsWith("/")?t:t+"/"}function XG(t,e){var n,r;const{db:i,auth:a,realtime:s,global:u}=t,{db:c,auth:f,realtime:h,global:p}=e,g={db:Rt(Rt({},c),i),auth:Rt(Rt({},f),a),realtime:Rt(Rt({},h),s),storage:{},global:Rt(Rt(Rt({},p),u),{},{headers:Rt(Rt({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function QG(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(JG(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var ZG=class extends jG{constructor(t){super(t)}},eV=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const a=QG(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const s=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:BG,realtime:zG,auth:Rt(Rt({},HG),{},{storageKey:s}),global:qG},c=XG(n??{},u);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=c.auth)!==null&&f!==void 0?f:{},this.headers,c.global.fetch)}this.fetch=YG(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Rt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new IH(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Nz(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new OH(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:a,flowType:s,lock:u,debug:c,throwOnError:f},h,p){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ZG({url:this.authUrl.href,headers:Rt(Rt({},g),h),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:s,lock:u,debug:c,throwOnError:f,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new JH(this.realtimeUrl.href,Rt(Rt({},t),{},{params:Rt(Rt({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const tV=(t,e,n)=>new eV(t,e,n);function nV(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}nV()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const rV="https://dwbvegnxmyvpolvofkfn.supabase.co",iV="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR3YnZlZ254bXl2cG9sdm9ma2ZuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc1Mzg1NTUsImV4cCI6MjA4MzExNDU1NX0.eT5ZSce8H8Yk8pWKyLUYChU0HtmZljywP4eEQd5FkOI",De=tV(rV,iV),aV=t=>{let e=t.type,n=t.options,r;(t.title.includes("Qu partido")||t.title.includes("partido poltico"))&&((!e||e==="binary")&&(e="multiple_choice"),n=["PSOE","PP","Vox","Sumar","Podemos","Junts","ERC","PNV","Bildu","SALF (Alvise)"],r={PSOE:{pros:["Avance en derechos sociales.","Dilogo territorial."],cons:["Desgaste por la gestin.","Dependencia de socios independentistas."]},PP:{pros:["Experiencia de gestin econmica.","Defensa de la unidad nacional."],cons:["Pactos autonmicos con Vox.","Casos del pasado."]},Vox:{pros:["Defensa frrea de la nacin.","Control migratorio estricto."],cons:["Posturas polarizantes.","Rechazo al Estado de las Autonomas."]},Sumar:{pros:["Reduccin de jornada laboral.","Agenda verde."],cons:["Divisiones internas.","Falta de implantacin territorial."]},Podemos:{pros:["Valenta para cambios estructurales.","Defensa de lo pblico."],cons:["Conflictividad poltica.","Prdida de fuerza electoral."]},"SALF (Alvise)":{pros:["Lucha contra la 'partitocracia'.","Mensaje directo sin filtros."],cons:["Acusaciones de populismo.","Falta de estructura clara."]},Junts:{pros:["Defensa de intereses catalanes.","Papel decisivo en el Congreso."],cons:["Inestabilidad poltica.","Prioridad a la agenda identitaria."]},ERC:{pros:["Pragmatismo negociador.","Polticas sociales de izquierda."],cons:["Prdida de apoyo independentista.","Gestin autonmica cuestionada."]},PNV:{pros:["Defensa de los intereses del Pas Vasco.","Gestin pragmtica y pactista."],cons:["Contrario a los intereses nacionales.","Modelo conservador."]},Bildu:{pros:["Defensa de los intereses del Pas Vasco.","Polticas de izquierda soberanista."],cons:["Contrario a los intereses nacionales.","Vinculacin con el pasado de ETA."]}});const i={id:t.id,title:t.title,category:t.category,description:t.description,createdAt:new Date(t.created_at).getTime(),votes:{support:t.support_count||0,oppose:t.oppose_count||0,neutral:t.neutral_count||0},pros:t.pros||[],cons:t.cons||[],aiAnalysis:t.ai_analysis,hasVoted:t.hasVoted,regionalVotes:t.regionalVotes||{}};if(e==="multiple_choice"){const a=n||[],s=t.option_counts||{},u={};a.forEach(h=>{s[h]&&(u[h]=s[h])});const c=t.regional_options||{},f={};return Object.keys(c).forEach(h=>{const p=c[h],g={};a.forEach(b=>{p[b]&&(g[b]=p[b])}),Object.keys(g).length>0&&(f[h]=g)}),{...i,type:"multiple_choice",options:a,optionCounts:u,regionalOptionCounts:f,userVoteOption:null,optionDetails:r}}return{...i,type:"binary",options:t.options||[],labelSupport:t.label_support,labelOppose:t.label_oppose,userVoteOption:null}},_n={async fetchComments(t){const{data:e,error:n}=await De.from("comments_with_votes").select("*").eq("topic_id",t).order("created_at",{ascending:!1});if(n)throw n;const r=[...new Set(e.map(h=>h.user_id))];let i={};if(r.length>0){const{data:h}=await De.from("profiles").select("id, username").in("id",r);h==null||h.forEach(p=>{i[p.id]={username:p.username}})}const{data:{session:a}}=await De.auth.getSession();let s={};if(a!=null&&a.user){const h=e.map(p=>p.id);if(h.length>0){const{data:p}=await De.from("comment_votes").select("comment_id, vote_type").eq("user_id",a.user.id).in("comment_id",h);p==null||p.forEach(g=>{s[g.comment_id]=g.vote_type})}}const u=e.map(h=>{var b;const p=(b=i[h.user_id])==null?void 0:b.username,g="Ciudadano "+h.user_id.slice(0,4);return{id:h.id,topicId:t,userId:h.user_id,userName:p||g,avatar:h.avatar_url||`https://api.dicebear.com/7.x/avataaars/svg?seed=${h.user_id}`,content:h.content,region:h.region,createdAt:h.created_at,isFake:h.is_fake,upvotes:h.upvotes||0,downvotes:h.downvotes||0,userVote:s[h.id]||null,parentId:h.parent_id,replies:[]}}),c={};u.forEach(h=>c[h.id]=h);const f=[];return u.forEach(h=>{var p;h.parentId&&c[h.parentId]?(p=c[h.parentId].replies)==null||p.push(h):f.push(h)}),f.sort((h,p)=>0),f.forEach(h=>{h.replies&&h.replies.reverse()}),f},async voteComment(t,e){const{data:{user:n}}=await De.auth.getUser();if(!n)throw new Error("Must be logged in");const{data:r}=await De.from("comment_votes").select("*").eq("comment_id",t).eq("user_id",n.id).single();return r?r.vote_type===e?(await De.from("comment_votes").delete().eq("comment_id",t).eq("user_id",n.id),null):(await De.from("comment_votes").update({vote_type:e}).eq("comment_id",t).eq("user_id",n.id),e):(await De.from("comment_votes").insert({comment_id:t,user_id:n.id,vote_type:e}),e)},async postComment(t,e,n,r){const{data:i,error:a}=await De.from("comments").insert({topic_id:t,user_id:n,content:e,parent_id:r}).select().single();if(a)throw a;return i},async fetchTopics(t){let e=De.from("topics_with_stats").select("*, regional_options, option_counts, options, type").order("created_at",{ascending:!1});t&&(e=e.eq("category",t));const{data:n,error:r}=await e;if(r)throw r;return n.map(aV)},async createTopic(t){const{data:e,error:n}=await De.from("topics").insert({title:t.title,category:t.category,description:t.description,pros:t.pros,cons:t.cons,ai_analysis:t.aiAnalysis,label_support:t.labelSupport,label_oppose:t.labelOppose,type:t.type||"binary",options:t.options||[]}).select().single();if(n)throw n;return e},async castVote(t,e,n,r){const{data:{user:i}}=await De.auth.getUser();if(!i)throw new Error("Debes iniciar sesin");const{error:a}=await De.from("votes").delete().eq("topic_id",t).eq("user_id",i.id);a&&console.error("Error clearing previous votes:",a);const{error:s}=await De.from("votes").insert({topic_id:t,user_id:i.id,choice:e,region:n,choice_option:r});if(s)throw s;return!0},async removeVote(t){const{data:{user:e}}=await De.auth.getUser();if(!e)throw new Error("Debes iniciar sesin");const{error:n}=await De.from("votes").delete().eq("topic_id",t).eq("user_id",e.id);if(n)throw n;return!0},async fetchUserVoteForTopic(t){const{data:{user:e}}=await De.auth.getUser();if(!e)return null;const{data:n,error:r}=await De.from("votes").select("*").eq("topic_id",t).eq("user_id",e.id).order("created_at",{ascending:!1}).limit(1).maybeSingle();return r?null:n},async fetchUserVotes(t){const{data:e,error:n}=await De.from("votes").select(`
                *,
                topic:topics (title, category, options)
            `).eq("user_id",t).order("created_at",{ascending:!1});if(n)throw n;return e},async updateUserProfile(t,e){const{error:n}=await De.from("profiles").update(e).eq("id",t);if(n)throw n;return!0},async fetchUserCount(){const{count:t,error:e}=await De.from("profiles").select("*",{count:"exact",head:!0});if(e)throw e;return t||0},async fetchDemographics(t){const{data:e,error:n}=await De.from("votes").select("user_id, choice, choice_option").eq("topic_id",t);if(n||!e)return console.warn("Error fetching votes for demo:",n),{byGender:{},byAge:{},byOccupation:{},rawData:[]};const r=Array.from(new Set(e.map(f=>f.user_id).filter(Boolean)));if(r.length===0)return{byGender:{},byAge:{},byOccupation:{},rawData:[]};const{data:i,error:a}=await De.from("profiles").select("id, gender, age, region, occupation").in("id",r);if(a||!i)return console.warn("Error fetching profiles for demo:",a),{byGender:{},byAge:{},byOccupation:{},rawData:[]};const s=new Map(i.map(f=>[f.id,f])),u={byGender:{},byAge:{},byOccupation:{},rawData:[]};u.rawData=[];const c=f=>f?f<25?"18-24":f<40?"25-39":f<60?"40-59":"60+":"N/A";return e.forEach(f=>{if(!f.user_id)return;const h=s.get(f.user_id);if(!h)return;const p=h.gender||"Unknown",g=h.age||0,b=c(g),S=h.region||"Unknown",E=h.occupation||"Otras",x=f.choice_option||f.choice;u.rawData&&u.rawData.push({gender:p,age:b,region:S,occupation:E,choice:x}),u.byGender[p]||(u.byGender[p]={}),u.byGender[p][x]||(u.byGender[p][x]=0),u.byGender[p][x]++,u.byAge[b]||(u.byAge[b]={}),u.byAge[b][x]||(u.byAge[b][x]=0),u.byAge[b][x]++,u.byOccupation[E]||(u.byOccupation[E]={}),u.byOccupation[E][x]||(u.byOccupation[E][x]=0),u.byOccupation[E][x]++}),u}},bR={PSOE:"#E30613",PP:"#0056A7",Vox:"#63BE21",Sumar:"#E51C55",Podemos:"#6B1F5F",Junts:"#00C3B2",ERC:"#FFD700",PNV:"#008000",Bildu:"#B5CF18",SALF:"#A0522D",PACMA:"#9ACD32",Ciudadanos:"#EB6109",Otros:"#808080","En blanco":"#FFFFFF"},oV=t=>{const e=Object.keys(bR).find(n=>t.includes(n));return e?bR[e]:"#aaaaaa"},sV=({topic:t})=>{const e=t.type==="multiple_choice"?Object.values(t.optionCounts).reduce((r,i)=>r+i,0):t.votes.support+t.votes.oppose+t.votes.neutral,n=e>0?Math.round(t.votes.support/e*100):0;return T.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 hover:shadow-xl transition-shadow duration-300 group",children:[T.jsxs("div",{className:"flex justify-between items-start mb-4",children:[T.jsx("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-xs font-semibold bg-indigo-50 text-indigo-700",children:t.category}),T.jsx("span",{className:"text-gray-400 text-xs",children:new Date(t.createdAt).toLocaleDateString()})]}),T.jsx(It,{to:`/topic/${t.id}`,children:T.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-indigo-600 transition-colors mb-2",children:t.title})}),T.jsx("p",{className:"text-gray-600 line-clamp-3 mb-6 text-sm",children:t.description}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs("div",{className:"flex justify-between text-xs font-semibold text-gray-500",children:[T.jsxs("span",{children:[e.toLocaleString()," Votos"]}),t.type==="binary"&&T.jsxs("span",{children:[n,"% A favor"]}),t.type==="multiple_choice"&&T.jsx("span",{children:"Multirespuesta"})]}),T.jsx("div",{className:"h-2 w-full bg-gray-100 rounded-full overflow-hidden flex",children:e===0?T.jsx("div",{className:"w-full h-full bg-gray-200"}):t.type==="multiple_choice"?Object.entries(t.optionCounts).sort((r,i)=>i[1]-r[1]).map(([r,i])=>T.jsx("div",{className:"h-full",style:{width:`${i/e*100}%`,backgroundColor:oV(r)},title:`${r}: ${i}`},r)):T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"bg-green-500 h-full",style:{width:`${t.votes.support/e*100}%`}}),T.jsx("div",{className:"bg-red-500 h-full",style:{width:`${t.votes.oppose/e*100}%`}}),T.jsx("div",{className:"bg-gray-400 h-full",style:{width:`${t.votes.neutral/e*100}%`}})]})})]}),T.jsx(It,{to:`/topic/${t.id}`,className:"mt-6 block w-full text-center py-2.5 px-4 bg-gray-50 text-gray-900 font-bold rounded-xl hover:bg-gray-100 transition-colors",children:"Ver Anlisis"})]})},sU=({topics:t,title:e="Temas en Tendencia",showFilters:n=!0})=>T.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[T.jsxs("header",{className:"mb-12 text-center",children:[T.jsxs("h1",{className:"text-4xl sm:text-5xl font-extrabold text-gray-900 mb-4 tracking-tight",children:["Democracia impulsada por ",T.jsx("span",{className:"text-indigo-600",children:"Inteligencia Popular"})]}),T.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Explora los debates polticos actuales, emite tu voto y obtn anlisis equilibrados potenciados por IA avanzada."})]}),T.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 space-y-4 md:space-y-0",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e}),n&&T.jsx("div",{className:"flex flex-wrap gap-2",children:["Todos","Economa","Medio Ambiente","Social","Legal"].map(r=>T.jsx("button",{className:"px-4 py-2 rounded-full text-sm font-medium text-gray-600 hover:bg-gray-100 transition border border-gray-200",children:r},r))})]}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.filter(r=>{var i;return!((i=r.options)!=null&&i.includes("IS_PROPOSAL"))}).map(r=>T.jsx(sV,{topic:r},r.id))}),t.filter(r=>{var i;return!((i=r.options)!=null&&i.includes("IS_PROPOSAL"))}).length===0&&T.jsx("div",{className:"text-center py-20 bg-white rounded-3xl border-2 border-dashed border-gray-300",children:T.jsx("p",{className:"text-gray-500 text-lg",children:"No hay temas activos. Por qu no propones uno?"})})]});function lU(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=lU(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Le(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=lU(t))&&(r&&(r+=" "),r+=e);return r}var Sy,_R;function kn(){if(_R)return Sy;_R=1;var t=Array.isArray;return Sy=t,Sy}var Ey,xR;function uU(){if(xR)return Ey;xR=1;var t=typeof Bd=="object"&&Bd&&Bd.Object===Object&&Bd;return Ey=t,Ey}var Ty,wR;function ri(){if(wR)return Ty;wR=1;var t=uU(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Ty=n,Ty}var Ay,SR;function mf(){if(SR)return Ay;SR=1;var t=ri(),e=t.Symbol;return Ay=e,Ay}var Cy,ER;function lV(){if(ER)return Cy;ER=1;var t=mf(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(s){var u=n.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var h=r.call(s);return f&&(u?s[i]=c:delete s[i]),h}return Cy=a,Cy}var Oy,TR;function uV(){if(TR)return Oy;TR=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Oy=n,Oy}var Ry,AR;function Hi(){if(AR)return Ry;AR=1;var t=mf(),e=lV(),n=uV(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(u){return u==null?u===void 0?i:r:a&&a in Object(u)?e(u):n(u)}return Ry=s,Ry}var Ny,CR;function zi(){if(CR)return Ny;CR=1;function t(e){return e!=null&&typeof e=="object"}return Ny=t,Ny}var Py,OR;function Pl(){if(OR)return Py;OR=1;var t=Hi(),e=zi(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return Py=r,Py}var My,RR;function sE(){if(RR)return My;RR=1;var t=kn(),e=Pl(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){if(t(a))return!1;var u=typeof a;return u=="number"||u=="symbol"||u=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||s!=null&&a in Object(s)}return My=i,My}var Iy,NR;function Pa(){if(NR)return Iy;NR=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Iy=t,Iy}var ky,PR;function lE(){if(PR)return ky;PR=1;var t=Hi(),e=Pa(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(u){if(!e(u))return!1;var c=t(u);return c==r||c==i||c==n||c==a}return ky=s,ky}var Dy,MR;function cV(){if(MR)return Dy;MR=1;var t=ri(),e=t["__core-js_shared__"];return Dy=e,Dy}var Ly,IR;function fV(){if(IR)return Ly;IR=1;var t=cV(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return Ly=n,Ly}var jy,kR;function cU(){if(kR)return jy;kR=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return jy=n,jy}var Uy,DR;function dV(){if(DR)return Uy;DR=1;var t=lE(),e=fV(),n=Pa(),r=cU(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,c=s.toString,f=u.hasOwnProperty,h=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!n(g)||e(g))return!1;var b=t(g)?h:a;return b.test(r(g))}return Uy=p,Uy}var $y,LR;function hV(){if(LR)return $y;LR=1;function t(e,n){return e==null?void 0:e[n]}return $y=t,$y}var qy,jR;function ko(){if(jR)return qy;jR=1;var t=dV(),e=hV();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return qy=n,qy}var By,UR;function Xp(){if(UR)return By;UR=1;var t=ko(),e=t(Object,"create");return By=e,By}var Hy,$R;function pV(){if($R)return Hy;$R=1;var t=Xp();function e(){this.__data__=t?t(null):{},this.size=0}return Hy=e,Hy}var zy,qR;function mV(){if(qR)return zy;qR=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return zy=t,zy}var Gy,BR;function gV(){if(BR)return Gy;BR=1;var t=Xp(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var s=this.__data__;if(t){var u=s[a];return u===e?void 0:u}return r.call(s,a)?s[a]:void 0}return Gy=i,Gy}var Vy,HR;function vV(){if(HR)return Vy;HR=1;var t=Xp(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return Vy=r,Vy}var Fy,zR;function yV(){if(zR)return Fy;zR=1;var t=Xp(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return Fy=n,Fy}var Ky,GR;function bV(){if(GR)return Ky;GR=1;var t=pV(),e=mV(),n=gV(),r=vV(),i=yV();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Ky=a,Ky}var Wy,VR;function _V(){if(VR)return Wy;VR=1;function t(){this.__data__=[],this.size=0}return Wy=t,Wy}var Yy,FR;function uE(){if(FR)return Yy;FR=1;function t(e,n){return e===n||e!==e&&n!==n}return Yy=t,Yy}var Jy,KR;function Qp(){if(KR)return Jy;KR=1;var t=uE();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return Jy=e,Jy}var Xy,WR;function xV(){if(WR)return Xy;WR=1;var t=Qp(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var u=a.length-1;return s==u?a.pop():n.call(a,s,1),--this.size,!0}return Xy=r,Xy}var Qy,YR;function wV(){if(YR)return Qy;YR=1;var t=Qp();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Qy=e,Qy}var Zy,JR;function SV(){if(JR)return Zy;JR=1;var t=Qp();function e(n){return t(this.__data__,n)>-1}return Zy=e,Zy}var e0,XR;function EV(){if(XR)return e0;XR=1;var t=Qp();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return e0=e,e0}var t0,QR;function Zp(){if(QR)return t0;QR=1;var t=_V(),e=xV(),n=wV(),r=SV(),i=EV();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,t0=a,t0}var n0,ZR;function cE(){if(ZR)return n0;ZR=1;var t=ko(),e=ri(),n=t(e,"Map");return n0=n,n0}var r0,eN;function TV(){if(eN)return r0;eN=1;var t=bV(),e=Zp(),n=cE();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return r0=r,r0}var i0,tN;function AV(){if(tN)return i0;tN=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return i0=t,i0}var a0,nN;function em(){if(nN)return a0;nN=1;var t=AV();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return a0=e,a0}var o0,rN;function CV(){if(rN)return o0;rN=1;var t=em();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return o0=e,o0}var s0,iN;function OV(){if(iN)return s0;iN=1;var t=em();function e(n){return t(this,n).get(n)}return s0=e,s0}var l0,aN;function RV(){if(aN)return l0;aN=1;var t=em();function e(n){return t(this,n).has(n)}return l0=e,l0}var u0,oN;function NV(){if(oN)return u0;oN=1;var t=em();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return u0=e,u0}var c0,sN;function fE(){if(sN)return c0;sN=1;var t=TV(),e=CV(),n=OV(),r=RV(),i=NV();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,c0=a,c0}var f0,lN;function fU(){if(lN)return f0;lN=1;var t=fE(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,u=i?i.apply(this,s):s[0],c=a.cache;if(c.has(u))return c.get(u);var f=r.apply(this,s);return a.cache=c.set(u,f)||c,f};return a.cache=new(n.Cache||t),a}return n.Cache=t,f0=n,f0}var d0,uN;function PV(){if(uN)return d0;uN=1;var t=fU(),e=500;function n(r){var i=t(r,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return d0=n,d0}var h0,cN;function MV(){if(cN)return h0;cN=1;var t=PV(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,u,c,f){a.push(c?f.replace(n,"$1"):u||s)}),a});return h0=r,h0}var p0,fN;function dE(){if(fN)return p0;fN=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return p0=t,p0}var m0,dN;function IV(){if(dN)return m0;dN=1;var t=mf(),e=dE(),n=kn(),r=Pl(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(u){if(typeof u=="string")return u;if(n(u))return e(u,s)+"";if(r(u))return a?a.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}return m0=s,m0}var g0,hN;function dU(){if(hN)return g0;hN=1;var t=IV();function e(n){return n==null?"":t(n)}return g0=e,g0}var v0,pN;function hU(){if(pN)return v0;pN=1;var t=kn(),e=sE(),n=MV(),r=dU();function i(a,s){return t(a)?a:e(a,s)?[a]:n(r(a))}return v0=i,v0}var y0,mN;function tm(){if(mN)return y0;mN=1;var t=Pl();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return y0=e,y0}var b0,gN;function hE(){if(gN)return b0;gN=1;var t=hU(),e=tm();function n(r,i){i=t(i,r);for(var a=0,s=i.length;r!=null&&a<s;)r=r[e(i[a++])];return a&&a==s?r:void 0}return b0=n,b0}var _0,vN;function pU(){if(vN)return _0;vN=1;var t=hE();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return _0=e,_0}var kV=pU();const Xn=Ve(kV);var x0,yN;function DV(){if(yN)return x0;yN=1;function t(e){return e==null}return x0=t,x0}var LV=DV();const Ue=Ve(LV);var w0,bN;function jV(){if(bN)return w0;bN=1;var t=Hi(),e=kn(),n=zi(),r="[object String]";function i(a){return typeof a=="string"||!e(a)&&n(a)&&t(a)==r}return w0=i,w0}var UV=jV();const To=Ve(UV);var $V=lE();const Oe=Ve($V);var qV=Pa();const Ml=Ve(qV);var S0={exports:{}},Qe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _N;function BV(){if(_N)return Qe;_N=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),S;S=Symbol.for("react.module.reference");function E(x){if(typeof x=="object"&&x!==null){var A=x.$$typeof;switch(A){case t:switch(x=x.type,x){case n:case i:case r:case f:case h:return x;default:switch(x=x&&x.$$typeof,x){case u:case s:case c:case g:case p:case a:return x;default:return A}}case e:return A}}}return Qe.ContextConsumer=s,Qe.ContextProvider=a,Qe.Element=t,Qe.ForwardRef=c,Qe.Fragment=n,Qe.Lazy=g,Qe.Memo=p,Qe.Portal=e,Qe.Profiler=i,Qe.StrictMode=r,Qe.Suspense=f,Qe.SuspenseList=h,Qe.isAsyncMode=function(){return!1},Qe.isConcurrentMode=function(){return!1},Qe.isContextConsumer=function(x){return E(x)===s},Qe.isContextProvider=function(x){return E(x)===a},Qe.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},Qe.isForwardRef=function(x){return E(x)===c},Qe.isFragment=function(x){return E(x)===n},Qe.isLazy=function(x){return E(x)===g},Qe.isMemo=function(x){return E(x)===p},Qe.isPortal=function(x){return E(x)===e},Qe.isProfiler=function(x){return E(x)===i},Qe.isStrictMode=function(x){return E(x)===r},Qe.isSuspense=function(x){return E(x)===f},Qe.isSuspenseList=function(x){return E(x)===h},Qe.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===i||x===r||x===f||x===h||x===b||typeof x=="object"&&x!==null&&(x.$$typeof===g||x.$$typeof===p||x.$$typeof===a||x.$$typeof===s||x.$$typeof===c||x.$$typeof===S||x.getModuleId!==void 0)},Qe.typeOf=E,Qe}var xN;function HV(){return xN||(xN=1,S0.exports=BV()),S0.exports}var zV=HV(),E0,wN;function mU(){if(wN)return E0;wN=1;var t=Hi(),e=zi(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return E0=r,E0}var T0,SN;function GV(){if(SN)return T0;SN=1;var t=mU();function e(n){return t(n)&&n!=+n}return T0=e,T0}var VV=GV();const gf=Ve(VV);var FV=mU();const KV=Ve(FV);var xn=function(e){return e===0?0:e>0?1:-1},go=function(e){return To(e)&&e.indexOf("%")===e.length-1},he=function(e){return KV(e)&&!gf(e)},WV=function(e){return Ue(e)},Ft=function(e){return he(e)||To(e)},YV=0,vf=function(e){var n=++YV;return"".concat(e||"").concat(n)},wn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!he(e)&&!To(e))return r;var a;if(go(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return gf(a)&&(a=r),i&&a>n&&(a=n),a},Ea=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},JV=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},xa=function(e,n){return he(e)&&he(n)?function(r){return e+r*(n-e)}:function(){return n}};function Xx(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Xn(r,e))===n})}var XV=function(e,n){return he(e)&&he(n)?e-n:To(e)&&To(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Ys(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Qx(t){"@babel/helpers - typeof";return Qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qx(t)}var QV=["viewBox","children"],ZV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],EN=["points","pathLength"],A0={svg:QV,polygon:EN,polyline:EN},pE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],kh=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(q.isValidElement(e)&&(r=e.props),!Ml(r))return null;var i={};return Object.keys(r).forEach(function(a){pE.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},eF=function(e,n,r){return function(i){return e(n,r,i),null}},Ao=function(e,n,r){if(!Ml(e)||Qx(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];pE.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=eF(s,n,r))}),i},tF=["children"],nF=["children"];function TN(t,e){if(t==null)return{};var n=rF(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var AN={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ii=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},CN=null,C0=null,mE=function t(e){if(e===CN&&Array.isArray(C0))return C0;var n=[];return q.Children.forEach(e,function(r){Ue(r)||(zV.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),C0=n,CN=e,n};function vr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ii(i)}):r=[Ii(e)],mE(t).forEach(function(i){var a=Xn(i,"type.displayName")||Xn(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Fn(t,e){var n=vr(t,e);return n&&n[0]}var ON=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!he(r)||r<=0||!he(i)||i<=0)},iF=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],aF=function(e){return e&&e.type&&To(e.type)&&iF.indexOf(e.type)>=0},oF=function(e,n,r,i){var a,s=(a=A0==null?void 0:A0[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Oe(e)&&(i&&s.includes(n)||ZV.includes(n))||r&&pE.includes(n)},Ae=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(q.isValidElement(e)&&(i=e.props),!Ml(i))return null;var a={};return Object.keys(i).forEach(function(s){var u;oF((u=i)===null||u===void 0?void 0:u[s],s,n,r)&&(a[s]=i[s])}),a},Zx=function t(e,n){if(e===n)return!0;var r=q.Children.count(e);if(r!==q.Children.count(n))return!1;if(r===0)return!0;if(r===1)return RN(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!RN(a,s))return!1}return!0},RN=function(e,n){if(Ue(e)&&Ue(n))return!0;if(!Ue(e)&&!Ue(n)){var r=e.props||{},i=r.children,a=TN(r,tF),s=n.props||{},u=s.children,c=TN(s,nF);return i&&u?Ys(a,c)&&Zx(i,u):!i&&!u?Ys(a,c):!1}return!1},NN=function(e,n){var r=[],i={};return mE(e).forEach(function(a,s){if(aF(a))r.push(a);else if(a){var u=Ii(a.type),c=n[u]||{},f=c.handler,h=c.once;if(f&&(!h||!i[u])){var p=f(a,u,s);r.push(p),i[u]=!0}}}),r},sF=function(e){var n=e&&e.type;return n&&AN[n]?AN[n]:null},lF=function(e,n){return mE(n).indexOf(e)},uF=["children","width","height","viewBox","className","style","title","desc"];function ew(){return ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ew.apply(this,arguments)}function cF(t,e){if(t==null)return{};var n=fF(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tw(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,u=t.title,c=t.desc,f=cF(t,uF),h=i||{width:n,height:r,x:0,y:0},p=Le("recharts-surface",a);return V.createElement("svg",ew({},Ae(f,!0,"svg"),{className:p,width:n,height:r,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),V.createElement("title",null,u),V.createElement("desc",null,c),e)}var dF=["children","className"];function nw(){return nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nw.apply(this,arguments)}function hF(t,e){if(t==null)return{};var n=pF(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var rt=V.forwardRef(function(t,e){var n=t.children,r=t.className,i=hF(t,dF),a=Le("recharts-layer",r);return V.createElement("g",nw({className:a},Ae(i,!0),{ref:e}),n)}),Ur=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},O0,PN;function mF(){if(PN)return O0;PN=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+n];return s}return O0=t,O0}var R0,MN;function gF(){if(MN)return R0;MN=1;var t=mF();function e(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:t(n,r,i)}return R0=e,R0}var N0,IN;function gU(){if(IN)return N0;IN=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",s="\\u200d",u=RegExp("["+s+t+i+a+"]");function c(f){return u.test(f)}return N0=c,N0}var P0,kN;function vF(){if(kN)return P0;kN=1;function t(e){return e.split("")}return P0=t,P0}var M0,DN;function yF(){if(DN)return M0;DN=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",s="["+t+"]",u="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+c+")",h="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",S=f+"?",E="["+a+"]?",x="(?:"+b+"(?:"+[h,p,g].join("|")+")"+E+S+")*",A=E+S+x,O="(?:"+[h+u+"?",u,p,g,s].join("|")+")",C=RegExp(c+"(?="+c+")|"+O+A,"g");function N(R){return R.match(C)||[]}return M0=N,M0}var I0,LN;function bF(){if(LN)return I0;LN=1;var t=vF(),e=gU(),n=yF();function r(i){return e(i)?n(i):t(i)}return I0=r,I0}var k0,jN;function _F(){if(jN)return k0;jN=1;var t=gF(),e=gU(),n=bF(),r=dU();function i(a){return function(s){s=r(s);var u=e(s)?n(s):void 0,c=u?u[0]:s.charAt(0),f=u?t(u,1).join(""):s.slice(1);return c[a]()+f}}return k0=i,k0}var D0,UN;function xF(){if(UN)return D0;UN=1;var t=_F(),e=t("toUpperCase");return D0=e,D0}var wF=xF();const nm=Ve(wF);function dt(t){return function(){return t}}const vU=Math.cos,Dh=Math.sin,Br=Math.sqrt,Lh=Math.PI,rm=2*Lh,rw=Math.PI,iw=2*rw,so=1e-6,SF=iw-so;function yU(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function EF(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return yU;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class gE{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?yU:EF(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,u=this._y1,c=r-e,f=i-n,h=s-e,p=u-n,g=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>so)if(!(Math.abs(p*c-f*h)>so)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-s,S=i-u,E=c*c+f*f,x=b*b+S*S,A=Math.sqrt(E),O=Math.sqrt(g),C=a*Math.tan((rw-Math.acos((E+g-x)/(2*A*O)))/2),N=C/O,R=C/A;Math.abs(N-1)>so&&this._append`L${e+N*h},${n+N*p}`,this._append`A${a},${a},0,0,${+(p*b>h*S)},${this._x1=e+R*c},${this._y1=n+R*f}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),f=e+u,h=n+c,p=1^s,g=s?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>so||Math.abs(this._y1-h)>so)&&this._append`L${f},${h}`,r&&(g<0&&(g=g%iw+iw),g>SF?this._append`A${r},${r},0,1,${p},${e-u},${n-c}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:g>so&&this._append`A${r},${r},0,${+(g>=rw)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function bU(){return new gE}bU.prototype=gE.prototype;function vE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new gE(e)}function yE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _U(t){this._context=t}_U.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function im(t){return new _U(t)}function xU(t){return t[0]}function wU(t){return t[1]}function SU(t,e){var n=dt(!0),r=null,i=im,a=null,s=vE(u);t=typeof t=="function"?t:t===void 0?xU:dt(t),e=typeof e=="function"?e:e===void 0?wU:dt(e);function u(c){var f,h=(c=yE(c)).length,p,g=!1,b;for(r==null&&(a=i(b=s())),f=0;f<=h;++f)!(f<h&&n(p=c[f],f,c))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+t(p,f,c),+e(p,f,c));if(b)return a=null,b+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:dt(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:dt(+c),u):e},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:dt(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),u):r},u}function Wd(t,e,n){var r=null,i=dt(!0),a=null,s=im,u=null,c=vE(f);t=typeof t=="function"?t:t===void 0?xU:dt(+t),e=typeof e=="function"?e:dt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?wU:dt(+n);function f(p){var g,b,S,E=(p=yE(p)).length,x,A=!1,O,C=new Array(E),N=new Array(E);for(a==null&&(u=s(O=c())),g=0;g<=E;++g){if(!(g<E&&i(x=p[g],g,p))===A)if(A=!A)b=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=g-1;S>=b;--S)u.point(C[S],N[S]);u.lineEnd(),u.areaEnd()}A&&(C[g]=+t(x,g,p),N[g]=+e(x,g,p),u.point(r?+r(x,g,p):C[g],n?+n(x,g,p):N[g]))}if(O)return u=null,O+""||null}function h(){return SU().defined(i).curve(s).context(a)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:dt(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:dt(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:dt(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:dt(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:dt(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:dt(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:dt(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,a!=null&&(u=s(a)),f):s},f.context=function(p){return arguments.length?(p==null?a=u=null:u=s(a=p),f):a},f}class EU{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function TF(t){return new EU(t,!0)}function AF(t){return new EU(t,!1)}const bE={draw(t,e){const n=Br(e/Lh);t.moveTo(n,0),t.arc(0,0,n,0,rm)}},CF={draw(t,e){const n=Br(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},TU=Br(1/3),OF=TU*2,RF={draw(t,e){const n=Br(e/OF),r=n*TU;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},NF={draw(t,e){const n=Br(e),r=-n/2;t.rect(r,r,n,n)}},PF=.8908130915292852,AU=Dh(Lh/10)/Dh(7*Lh/10),MF=Dh(rm/10)*AU,IF=-vU(rm/10)*AU,kF={draw(t,e){const n=Br(e*PF),r=MF*n,i=IF*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=rm*a/5,u=vU(s),c=Dh(s);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},L0=Br(3),DF={draw(t,e){const n=-Br(e/(L0*3));t.moveTo(0,n*2),t.lineTo(-L0*n,-n),t.lineTo(L0*n,-n),t.closePath()}},lr=-.5,ur=Br(3)/2,aw=1/Br(12),LF=(aw/2+1)*3,jF={draw(t,e){const n=Br(e/LF),r=n/2,i=n*aw,a=r,s=n*aw+n,u=-a,c=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(u,c),t.lineTo(lr*r-ur*i,ur*r+lr*i),t.lineTo(lr*a-ur*s,ur*a+lr*s),t.lineTo(lr*u-ur*c,ur*u+lr*c),t.lineTo(lr*r+ur*i,lr*i-ur*r),t.lineTo(lr*a+ur*s,lr*s-ur*a),t.lineTo(lr*u+ur*c,lr*c-ur*u),t.closePath()}};function UF(t,e){let n=null,r=vE(i);t=typeof t=="function"?t:dt(t||bE),e=typeof e=="function"?e:dt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:dt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:dt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function jh(){}function Uh(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function CU(t){this._context=t}CU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Uh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Uh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $F(t){return new CU(t)}function OU(t){this._context=t}OU.prototype={areaStart:jh,areaEnd:jh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Uh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function qF(t){return new OU(t)}function RU(t){this._context=t}RU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Uh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function BF(t){return new RU(t)}function NU(t){this._context=t}NU.prototype={areaStart:jh,areaEnd:jh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function HF(t){return new NU(t)}function $N(t){return t<0?-1:1}function qN(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),u=(a*i+s*r)/(r+i);return($N(a)+$N(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(u))||0}function BN(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function j0(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,s-u*n,a,s)}function $h(t){this._context=t}$h.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:j0(this,this._t0,BN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,j0(this,BN(this,n=qN(this,t,e)),n);break;default:j0(this,this._t0,n=qN(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function PU(t){this._context=new MU(t)}(PU.prototype=Object.create($h.prototype)).point=function(t,e){$h.prototype.point.call(this,e,t)};function MU(t){this._context=t}MU.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function zF(t){return new $h(t)}function GF(t){return new PU(t)}function IU(t){this._context=t}IU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=HN(t),i=HN(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function HN(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function VF(t){return new IU(t)}function am(t,e){this._context=t,this._t=e}am.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function FF(t){return new am(t,.5)}function KF(t){return new am(t,0)}function WF(t){return new am(t,1)}function tl(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,u=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ow(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function YF(t,e){return t[e]}function JF(t){const e=[];return e.key=t,e}function XF(){var t=dt([]),e=ow,n=tl,r=YF;function i(a){var s=Array.from(t.apply(this,arguments),JF),u,c=s.length,f=-1,h;for(const p of a)for(u=0,++f;u<c;++u)(s[u][f]=[0,+r(p,s[u].key,f,a)]).data=p;for(u=0,h=yE(e(s));u<c;++u)s[h[u]].index=u;return n(s,h),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:dt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:dt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?ow:typeof a=="function"?a:dt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??tl,i):n},i}function QF(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}tl(t,e)}}function ZF(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,u=0;s<i;++s)u+=t[s][n][1]||0;r[n][1]+=r[n][0]=-u/2}tl(t,e)}}function e9(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var u=0,c=0,f=0;u<s;++u){for(var h=t[e[u]],p=h[r][1]||0,g=h[r-1][1]||0,b=(p-g)/2,S=0;S<u;++S){var E=t[e[S]],x=E[r][1]||0,A=E[r-1][1]||0;b+=x-A}c+=p,f+=b*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,tl(t,e)}}function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}var t9=["type","size","sizeType"];function sw(){return sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sw.apply(this,arguments)}function zN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(n),!0).forEach(function(r){n9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n9(t,e,n){return e=r9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r9(t){var e=i9(t,"string");return Ec(e)=="symbol"?e:e+""}function i9(t,e){if(Ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a9(t,e){if(t==null)return{};var n=o9(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function o9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var kU={symbolCircle:bE,symbolCross:CF,symbolDiamond:RF,symbolSquare:NF,symbolStar:kF,symbolTriangle:DF,symbolWye:jF},s9=Math.PI/180,l9=function(e){var n="symbol".concat(nm(e));return kU[n]||bE},u9=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*s9;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},c9=function(e,n){kU["symbol".concat(nm(e))]=n},_E=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,u=s===void 0?"area":s,c=a9(e,t9),f=GN(GN({},c),{},{type:r,size:a,sizeType:u}),h=function(){var x=l9(r),A=UF().type(x).size(u9(a,u,r));return A()},p=f.className,g=f.cx,b=f.cy,S=Ae(f,!0);return g===+g&&b===+b&&a===+a?V.createElement("path",sw({},S,{className:Le("recharts-symbols",p),transform:"translate(".concat(g,", ").concat(b,")"),d:h()})):null};_E.registerSymbol=c9;function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lw.apply(this,arguments)}function VN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function f9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VN(Object(n),!0).forEach(function(r){Tc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LU(r.key),r)}}function p9(t,e,n){return e&&h9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function m9(t,e,n){return e=qh(e),g9(t,DU()?Reflect.construct(e,n||[],qh(t).constructor):e.apply(t,n))}function g9(t,e){if(e&&(nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v9(t)}function v9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DU=function(){return!!t})()}function qh(t){return qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qh(t)}function y9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uw(t,e)}function uw(t,e){return uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uw(t,e)}function Tc(t,e,n){return e=LU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LU(t){var e=b9(t,"string");return nl(e)=="symbol"?e:e+""}function b9(t,e){if(nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cr=32,xE=(function(t){function e(){return d9(this,e),m9(this,e,arguments)}return y9(e,t),p9(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=cr/2,s=cr/6,u=cr/3,c=r.inactive?i:r.color;if(r.type==="plainline")return V.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:cr,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return V.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(u,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*u,",").concat(a,`
            H`).concat(cr,"M").concat(2*u,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(u,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return V.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(cr/8,"h").concat(cr,"v").concat(cr*3/4,"h").concat(-cr,"z"),className:"recharts-legend-icon"});if(V.isValidElement(r.legendIcon)){var f=f9({},r);return delete f.legendIcon,V.cloneElement(r.legendIcon,f)}return V.createElement(_E,{fill:c,cx:a,cy:a,size:cr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,u=i.layout,c=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:cr,height:cr},p={display:u==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(b,S){var E=b.formatter||c,x=Le(Tc(Tc({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",b.inactive));if(b.type==="none")return null;var A=Oe(b.value)?null:b.value;Ur(!Oe(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var O=b.inactive?f:b.color;return V.createElement("li",lw({className:x,style:p,key:"legend-item-".concat(S)},Ao(r.props,b,S)),V.createElement(tw,{width:s,height:s,viewBox:h,style:g},r.renderIcon(b)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:O}},E?E(A,b,S):A))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(q.PureComponent);Tc(xE,"displayName","Legend");Tc(xE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var U0,FN;function _9(){if(FN)return U0;FN=1;var t=Zp();function e(){this.__data__=new t,this.size=0}return U0=e,U0}var $0,KN;function x9(){if(KN)return $0;KN=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return $0=t,$0}var q0,WN;function w9(){if(WN)return q0;WN=1;function t(e){return this.__data__.get(e)}return q0=t,q0}var B0,YN;function S9(){if(YN)return B0;YN=1;function t(e){return this.__data__.has(e)}return B0=t,B0}var H0,JN;function E9(){if(JN)return H0;JN=1;var t=Zp(),e=cE(),n=fE(),r=200;function i(a,s){var u=this.__data__;if(u instanceof t){var c=u.__data__;if(!e||c.length<r-1)return c.push([a,s]),this.size=++u.size,this;u=this.__data__=new n(c)}return u.set(a,s),this.size=u.size,this}return H0=i,H0}var z0,XN;function jU(){if(XN)return z0;XN=1;var t=Zp(),e=_9(),n=x9(),r=w9(),i=S9(),a=E9();function s(u){var c=this.__data__=new t(u);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=a,z0=s,z0}var G0,QN;function T9(){if(QN)return G0;QN=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return G0=e,G0}var V0,ZN;function A9(){if(ZN)return V0;ZN=1;function t(e){return this.__data__.has(e)}return V0=t,V0}var F0,eP;function UU(){if(eP)return F0;eP=1;var t=fE(),e=T9(),n=A9();function r(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,F0=r,F0}var K0,tP;function $U(){if(tP)return K0;tP=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return K0=t,K0}var W0,nP;function qU(){if(nP)return W0;nP=1;function t(e,n){return e.has(n)}return W0=t,W0}var Y0,rP;function BU(){if(rP)return Y0;rP=1;var t=UU(),e=$U(),n=qU(),r=1,i=2;function a(s,u,c,f,h,p){var g=c&r,b=s.length,S=u.length;if(b!=S&&!(g&&S>b))return!1;var E=p.get(s),x=p.get(u);if(E&&x)return E==u&&x==s;var A=-1,O=!0,C=c&i?new t:void 0;for(p.set(s,u),p.set(u,s);++A<b;){var N=s[A],R=u[A];if(f)var P=g?f(R,N,A,u,s,p):f(N,R,A,s,u,p);if(P!==void 0){if(P)continue;O=!1;break}if(C){if(!e(u,function(I,D){if(!n(C,D)&&(N===I||h(N,I,c,f,p)))return C.push(D)})){O=!1;break}}else if(!(N===R||h(N,R,c,f,p))){O=!1;break}}return p.delete(s),p.delete(u),O}return Y0=a,Y0}var J0,iP;function C9(){if(iP)return J0;iP=1;var t=ri(),e=t.Uint8Array;return J0=e,J0}var X0,aP;function O9(){if(aP)return X0;aP=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return X0=t,X0}var Q0,oP;function wE(){if(oP)return Q0;oP=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return Q0=t,Q0}var Z0,sP;function R9(){if(sP)return Z0;sP=1;var t=mf(),e=C9(),n=uE(),r=BU(),i=O9(),a=wE(),s=1,u=2,c="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Map]",g="[object Number]",b="[object RegExp]",S="[object Set]",E="[object String]",x="[object Symbol]",A="[object ArrayBuffer]",O="[object DataView]",C=t?t.prototype:void 0,N=C?C.valueOf:void 0;function R(P,I,D,L,z,B,J){switch(D){case O:if(P.byteLength!=I.byteLength||P.byteOffset!=I.byteOffset)return!1;P=P.buffer,I=I.buffer;case A:return!(P.byteLength!=I.byteLength||!B(new e(P),new e(I)));case c:case f:case g:return n(+P,+I);case h:return P.name==I.name&&P.message==I.message;case b:case E:return P==I+"";case p:var K=i;case S:var G=L&s;if(K||(K=a),P.size!=I.size&&!G)return!1;var $=J.get(P);if($)return $==I;L|=u,J.set(P,I);var j=r(K(P),K(I),L,z,B,J);return J.delete(P),j;case x:if(N)return N.call(P)==N.call(I)}return!1}return Z0=R,Z0}var eb,lP;function HU(){if(lP)return eb;lP=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return eb=t,eb}var tb,uP;function N9(){if(uP)return tb;uP=1;var t=HU(),e=kn();function n(r,i,a){var s=i(r);return e(r)?s:t(s,a(r))}return tb=n,tb}var nb,cP;function P9(){if(cP)return nb;cP=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,s=[];++r<i;){var u=e[r];n(u,r,e)&&(s[a++]=u)}return s}return nb=t,nb}var rb,fP;function M9(){if(fP)return rb;fP=1;function t(){return[]}return rb=t,rb}var ib,dP;function I9(){if(dP)return ib;dP=1;var t=P9(),e=M9(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(u){return r.call(s,u)}))}:e;return ib=a,ib}var ab,hP;function k9(){if(hP)return ab;hP=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return ab=t,ab}var ob,pP;function D9(){if(pP)return ob;pP=1;var t=Hi(),e=zi(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return ob=r,ob}var sb,mP;function SE(){if(mP)return sb;mP=1;var t=D9(),e=zi(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return sb=a,sb}var Qu={exports:{}},lb,gP;function L9(){if(gP)return lb;gP=1;function t(){return!1}return lb=t,lb}Qu.exports;var vP;function zU(){return vP||(vP=1,(function(t,e){var n=ri(),r=L9(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,u=s?n.Buffer:void 0,c=u?u.isBuffer:void 0,f=c||r;t.exports=f})(Qu,Qu.exports)),Qu.exports}var ub,yP;function EE(){if(yP)return ub;yP=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return ub=n,ub}var cb,bP;function TE(){if(bP)return cb;bP=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return cb=e,cb}var fb,_P;function j9(){if(_P)return fb;_P=1;var t=Hi(),e=TE(),n=zi(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",u="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",p="[object Object]",g="[object RegExp]",b="[object Set]",S="[object String]",E="[object WeakMap]",x="[object ArrayBuffer]",A="[object DataView]",O="[object Float32Array]",C="[object Float64Array]",N="[object Int8Array]",R="[object Int16Array]",P="[object Int32Array]",I="[object Uint8Array]",D="[object Uint8ClampedArray]",L="[object Uint16Array]",z="[object Uint32Array]",B={};B[O]=B[C]=B[N]=B[R]=B[P]=B[I]=B[D]=B[L]=B[z]=!0,B[r]=B[i]=B[x]=B[a]=B[A]=B[s]=B[u]=B[c]=B[f]=B[h]=B[p]=B[g]=B[b]=B[S]=B[E]=!1;function J(K){return n(K)&&e(K.length)&&!!B[t(K)]}return fb=J,fb}var db,xP;function GU(){if(xP)return db;xP=1;function t(e){return function(n){return e(n)}}return db=t,db}var Zu={exports:{}};Zu.exports;var wP;function U9(){return wP||(wP=1,(function(t,e){var n=uU(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,u=(function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();t.exports=u})(Zu,Zu.exports)),Zu.exports}var hb,SP;function VU(){if(SP)return hb;SP=1;var t=j9(),e=GU(),n=U9(),r=n&&n.isTypedArray,i=r?e(r):t;return hb=i,hb}var pb,EP;function $9(){if(EP)return pb;EP=1;var t=k9(),e=SE(),n=kn(),r=zU(),i=EE(),a=VU(),s=Object.prototype,u=s.hasOwnProperty;function c(f,h){var p=n(f),g=!p&&e(f),b=!p&&!g&&r(f),S=!p&&!g&&!b&&a(f),E=p||g||b||S,x=E?t(f.length,String):[],A=x.length;for(var O in f)(h||u.call(f,O))&&!(E&&(O=="length"||b&&(O=="offset"||O=="parent")||S&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||i(O,A)))&&x.push(O);return x}return pb=c,pb}var mb,TP;function q9(){if(TP)return mb;TP=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return mb=e,mb}var gb,AP;function FU(){if(AP)return gb;AP=1;function t(e,n){return function(r){return e(n(r))}}return gb=t,gb}var vb,CP;function B9(){if(CP)return vb;CP=1;var t=FU(),e=t(Object.keys,Object);return vb=e,vb}var yb,OP;function H9(){if(OP)return yb;OP=1;var t=q9(),e=B9(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var u in Object(a))r.call(a,u)&&u!="constructor"&&s.push(u);return s}return yb=i,yb}var bb,RP;function yf(){if(RP)return bb;RP=1;var t=lE(),e=TE();function n(r){return r!=null&&e(r.length)&&!t(r)}return bb=n,bb}var _b,NP;function om(){if(NP)return _b;NP=1;var t=$9(),e=H9(),n=yf();function r(i){return n(i)?t(i):e(i)}return _b=r,_b}var xb,PP;function z9(){if(PP)return xb;PP=1;var t=N9(),e=I9(),n=om();function r(i){return t(i,n,e)}return xb=r,xb}var wb,MP;function G9(){if(MP)return wb;MP=1;var t=z9(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,s,u,c,f,h){var p=u&e,g=t(a),b=g.length,S=t(s),E=S.length;if(b!=E&&!p)return!1;for(var x=b;x--;){var A=g[x];if(!(p?A in s:r.call(s,A)))return!1}var O=h.get(a),C=h.get(s);if(O&&C)return O==s&&C==a;var N=!0;h.set(a,s),h.set(s,a);for(var R=p;++x<b;){A=g[x];var P=a[A],I=s[A];if(c)var D=p?c(I,P,A,s,a,h):c(P,I,A,a,s,h);if(!(D===void 0?P===I||f(P,I,u,c,h):D)){N=!1;break}R||(R=A=="constructor")}if(N&&!R){var L=a.constructor,z=s.constructor;L!=z&&"constructor"in a&&"constructor"in s&&!(typeof L=="function"&&L instanceof L&&typeof z=="function"&&z instanceof z)&&(N=!1)}return h.delete(a),h.delete(s),N}return wb=i,wb}var Sb,IP;function V9(){if(IP)return Sb;IP=1;var t=ko(),e=ri(),n=t(e,"DataView");return Sb=n,Sb}var Eb,kP;function F9(){if(kP)return Eb;kP=1;var t=ko(),e=ri(),n=t(e,"Promise");return Eb=n,Eb}var Tb,DP;function KU(){if(DP)return Tb;DP=1;var t=ko(),e=ri(),n=t(e,"Set");return Tb=n,Tb}var Ab,LP;function K9(){if(LP)return Ab;LP=1;var t=ko(),e=ri(),n=t(e,"WeakMap");return Ab=n,Ab}var Cb,jP;function W9(){if(jP)return Cb;jP=1;var t=V9(),e=cE(),n=F9(),r=KU(),i=K9(),a=Hi(),s=cU(),u="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",p="[object WeakMap]",g="[object DataView]",b=s(t),S=s(e),E=s(n),x=s(r),A=s(i),O=a;return(t&&O(new t(new ArrayBuffer(1)))!=g||e&&O(new e)!=u||n&&O(n.resolve())!=f||r&&O(new r)!=h||i&&O(new i)!=p)&&(O=function(C){var N=a(C),R=N==c?C.constructor:void 0,P=R?s(R):"";if(P)switch(P){case b:return g;case S:return u;case E:return f;case x:return h;case A:return p}return N}),Cb=O,Cb}var Ob,UP;function Y9(){if(UP)return Ob;UP=1;var t=jU(),e=BU(),n=R9(),r=G9(),i=W9(),a=kn(),s=zU(),u=VU(),c=1,f="[object Arguments]",h="[object Array]",p="[object Object]",g=Object.prototype,b=g.hasOwnProperty;function S(E,x,A,O,C,N){var R=a(E),P=a(x),I=R?h:i(E),D=P?h:i(x);I=I==f?p:I,D=D==f?p:D;var L=I==p,z=D==p,B=I==D;if(B&&s(E)){if(!s(x))return!1;R=!0,L=!1}if(B&&!L)return N||(N=new t),R||u(E)?e(E,x,A,O,C,N):n(E,x,I,A,O,C,N);if(!(A&c)){var J=L&&b.call(E,"__wrapped__"),K=z&&b.call(x,"__wrapped__");if(J||K){var G=J?E.value():E,$=K?x.value():x;return N||(N=new t),C(G,$,A,O,N)}}return B?(N||(N=new t),r(E,x,A,O,C,N)):!1}return Ob=S,Ob}var Rb,$P;function AE(){if($P)return Rb;$P=1;var t=Y9(),e=zi();function n(r,i,a,s,u){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,s,n,u)}return Rb=n,Rb}var Nb,qP;function J9(){if(qP)return Nb;qP=1;var t=jU(),e=AE(),n=1,r=2;function i(a,s,u,c){var f=u.length,h=f,p=!c;if(a==null)return!h;for(a=Object(a);f--;){var g=u[f];if(p&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++f<h;){g=u[f];var b=g[0],S=a[b],E=g[1];if(p&&g[2]){if(S===void 0&&!(b in a))return!1}else{var x=new t;if(c)var A=c(S,E,b,a,s,x);if(!(A===void 0?e(E,S,n|r,c,x):A))return!1}}return!0}return Nb=i,Nb}var Pb,BP;function WU(){if(BP)return Pb;BP=1;var t=Pa();function e(n){return n===n&&!t(n)}return Pb=e,Pb}var Mb,HP;function X9(){if(HP)return Mb;HP=1;var t=WU(),e=om();function n(r){for(var i=e(r),a=i.length;a--;){var s=i[a],u=r[s];i[a]=[s,u,t(u)]}return i}return Mb=n,Mb}var Ib,zP;function YU(){if(zP)return Ib;zP=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return Ib=t,Ib}var kb,GP;function Q9(){if(GP)return kb;GP=1;var t=J9(),e=X9(),n=YU();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return kb=r,kb}var Db,VP;function Z9(){if(VP)return Db;VP=1;function t(e,n){return e!=null&&n in Object(e)}return Db=t,Db}var Lb,FP;function e7(){if(FP)return Lb;FP=1;var t=hU(),e=SE(),n=kn(),r=EE(),i=TE(),a=tm();function s(u,c,f){c=t(c,u);for(var h=-1,p=c.length,g=!1;++h<p;){var b=a(c[h]);if(!(g=u!=null&&f(u,b)))break;u=u[b]}return g||++h!=p?g:(p=u==null?0:u.length,!!p&&i(p)&&r(b,p)&&(n(u)||e(u)))}return Lb=s,Lb}var jb,KP;function t7(){if(KP)return jb;KP=1;var t=Z9(),e=e7();function n(r,i){return r!=null&&e(r,i,t)}return jb=n,jb}var Ub,WP;function n7(){if(WP)return Ub;WP=1;var t=AE(),e=pU(),n=t7(),r=sE(),i=WU(),a=YU(),s=tm(),u=1,c=2;function f(h,p){return r(h)&&i(p)?a(s(h),p):function(g){var b=e(g,h);return b===void 0&&b===p?n(g,h):t(p,b,u|c)}}return Ub=f,Ub}var $b,YP;function Il(){if(YP)return $b;YP=1;function t(e){return e}return $b=t,$b}var qb,JP;function r7(){if(JP)return qb;JP=1;function t(e){return function(n){return n==null?void 0:n[e]}}return qb=t,qb}var Bb,XP;function i7(){if(XP)return Bb;XP=1;var t=hE();function e(n){return function(r){return t(r,n)}}return Bb=e,Bb}var Hb,QP;function a7(){if(QP)return Hb;QP=1;var t=r7(),e=i7(),n=sE(),r=tm();function i(a){return n(a)?t(r(a)):e(a)}return Hb=i,Hb}var zb,ZP;function ii(){if(ZP)return zb;ZP=1;var t=Q9(),e=n7(),n=Il(),r=kn(),i=a7();function a(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):i(s)}return zb=a,zb}var Gb,eM;function JU(){if(eM)return Gb;eM=1;function t(e,n,r,i){for(var a=e.length,s=r+(i?1:-1);i?s--:++s<a;)if(n(e[s],s,e))return s;return-1}return Gb=t,Gb}var Vb,tM;function o7(){if(tM)return Vb;tM=1;function t(e){return e!==e}return Vb=t,Vb}var Fb,nM;function s7(){if(nM)return Fb;nM=1;function t(e,n,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===n)return i;return-1}return Fb=t,Fb}var Kb,rM;function l7(){if(rM)return Kb;rM=1;var t=JU(),e=o7(),n=s7();function r(i,a,s){return a===a?n(i,a,s):t(i,e,s)}return Kb=r,Kb}var Wb,iM;function u7(){if(iM)return Wb;iM=1;var t=l7();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return Wb=e,Wb}var Yb,aM;function c7(){if(aM)return Yb;aM=1;function t(e,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(n,e[i]))return!0;return!1}return Yb=t,Yb}var Jb,oM;function f7(){if(oM)return Jb;oM=1;function t(){}return Jb=t,Jb}var Xb,sM;function d7(){if(sM)return Xb;sM=1;var t=KU(),e=f7(),n=wE(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(a){return new t(a)}:e;return Xb=i,Xb}var Qb,lM;function h7(){if(lM)return Qb;lM=1;var t=UU(),e=u7(),n=c7(),r=qU(),i=d7(),a=wE(),s=200;function u(c,f,h){var p=-1,g=e,b=c.length,S=!0,E=[],x=E;if(h)S=!1,g=n;else if(b>=s){var A=f?null:i(c);if(A)return a(A);S=!1,g=r,x=new t}else x=f?[]:E;e:for(;++p<b;){var O=c[p],C=f?f(O):O;if(O=h||O!==0?O:0,S&&C===C){for(var N=x.length;N--;)if(x[N]===C)continue e;f&&x.push(C),E.push(O)}else g(x,C,h)||(x!==E&&x.push(C),E.push(O))}return E}return Qb=u,Qb}var Zb,uM;function p7(){if(uM)return Zb;uM=1;var t=ii(),e=h7();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return Zb=n,Zb}var m7=p7();const cM=Ve(m7);function XU(t,e,n){return e===!0?cM(t,n):Oe(e)?cM(t,e):t}function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}var g7=["ref"];function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ti(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){sm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZU(r.key),r)}}function y7(t,e,n){return e&&dM(t.prototype,e),n&&dM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function b7(t,e,n){return e=Bh(e),_7(t,QU()?Reflect.construct(e,n||[],Bh(t).constructor):e.apply(t,n))}function _7(t,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x7(t)}function x7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QU=function(){return!!t})()}function Bh(t){return Bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bh(t)}function w7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cw(t,e)}function cw(t,e){return cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cw(t,e)}function sm(t,e,n){return e=ZU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZU(t){var e=S7(t,"string");return rl(e)=="symbol"?e:e+""}function S7(t,e){if(rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function E7(t,e){if(t==null)return{};var n=T7(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function T7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function A7(t){return t.value}function C7(t,e){if(V.isValidElement(t))return V.cloneElement(t,e);if(typeof t=="function")return V.createElement(t,e);e.ref;var n=E7(e,g7);return V.createElement(xE,n)}var hM=1,Aa=(function(t){function e(){var n;v7(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=b7(this,e,[].concat(i)),sm(n,"lastBoundingBox",{width:-1,height:-1}),n}return w7(e,t),y7(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>hM||Math.abs(i.height-this.lastBoundingBox.height)>hM)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ti({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,u=i.verticalAlign,c=i.margin,f=i.chartWidth,h=i.chartHeight,p,g;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var b=this.getBBoxSnapshot();p={left:((f||0)-b.width)/2}}else p=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(u==="middle"){var S=this.getBBoxSnapshot();g={top:((h||0)-S.height)/2}}else g=u==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ti(Ti({},p),g)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,u=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,p=Ti(Ti({position:"absolute",width:s||"auto",height:u||"auto"},this.getDefaultPosition(c)),c);return V.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(b){r.wrapperNode=b}},C7(a,Ti(Ti({},this.props),{},{payload:XU(h,f,A7)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Ti(Ti({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&he(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])})(q.PureComponent);sm(Aa,"displayName","Legend");sm(Aa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var e_,pM;function O7(){if(pM)return e_;pM=1;var t=mf(),e=SE(),n=kn(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return e_=i,e_}var t_,mM;function e$(){if(mM)return t_;mM=1;var t=HU(),e=O7();function n(r,i,a,s,u){var c=-1,f=r.length;for(a||(a=e),u||(u=[]);++c<f;){var h=r[c];i>0&&a(h)?i>1?n(h,i-1,a,s,u):t(u,h):s||(u[u.length]=h)}return u}return t_=n,t_}var n_,gM;function R7(){if(gM)return n_;gM=1;function t(e){return function(n,r,i){for(var a=-1,s=Object(n),u=i(n),c=u.length;c--;){var f=u[e?c:++a];if(r(s[f],f,s)===!1)break}return n}}return n_=t,n_}var r_,vM;function N7(){if(vM)return r_;vM=1;var t=R7(),e=t();return r_=e,r_}var i_,yM;function t$(){if(yM)return i_;yM=1;var t=N7(),e=om();function n(r,i){return r&&t(r,i,e)}return i_=n,i_}var a_,bM;function P7(){if(bM)return a_;bM=1;var t=yf();function e(n,r){return function(i,a){if(i==null)return i;if(!t(i))return n(i,a);for(var s=i.length,u=r?s:-1,c=Object(i);(r?u--:++u<s)&&a(c[u],u,c)!==!1;);return i}}return a_=e,a_}var o_,_M;function CE(){if(_M)return o_;_M=1;var t=t$(),e=P7(),n=e(t);return o_=n,o_}var s_,xM;function n$(){if(xM)return s_;xM=1;var t=CE(),e=yf();function n(r,i){var a=-1,s=e(r)?Array(r.length):[];return t(r,function(u,c,f){s[++a]=i(u,c,f)}),s}return s_=n,s_}var l_,wM;function M7(){if(wM)return l_;wM=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return l_=t,l_}var u_,SM;function I7(){if(SM)return u_;SM=1;var t=Pl();function e(n,r){if(n!==r){var i=n!==void 0,a=n===null,s=n===n,u=t(n),c=r!==void 0,f=r===null,h=r===r,p=t(r);if(!f&&!p&&!u&&n>r||u&&c&&h&&!f&&!p||a&&c&&h||!i&&h||!s)return 1;if(!a&&!u&&!p&&n<r||p&&i&&s&&!a&&!u||f&&i&&s||!c&&s||!h)return-1}return 0}return u_=e,u_}var c_,EM;function k7(){if(EM)return c_;EM=1;var t=I7();function e(n,r,i){for(var a=-1,s=n.criteria,u=r.criteria,c=s.length,f=i.length;++a<c;){var h=t(s[a],u[a]);if(h){if(a>=f)return h;var p=i[a];return h*(p=="desc"?-1:1)}}return n.index-r.index}return c_=e,c_}var f_,TM;function D7(){if(TM)return f_;TM=1;var t=dE(),e=hE(),n=ii(),r=n$(),i=M7(),a=GU(),s=k7(),u=Il(),c=kn();function f(h,p,g){p.length?p=t(p,function(E){return c(E)?function(x){return e(x,E.length===1?E[0]:E)}:E}):p=[u];var b=-1;p=t(p,a(n));var S=r(h,function(E,x,A){var O=t(p,function(C){return C(E)});return{criteria:O,index:++b,value:E}});return i(S,function(E,x){return s(E,x,g)})}return f_=f,f_}var d_,AM;function L7(){if(AM)return d_;AM=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return d_=t,d_}var h_,CM;function j7(){if(CM)return h_;CM=1;var t=L7(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var s=arguments,u=-1,c=e(s.length-i,0),f=Array(c);++u<c;)f[u]=s[i+u];u=-1;for(var h=Array(i+1);++u<i;)h[u]=s[u];return h[i]=a(f),t(r,this,h)}}return h_=n,h_}var p_,OM;function U7(){if(OM)return p_;OM=1;function t(e){return function(){return e}}return p_=t,p_}var m_,RM;function r$(){if(RM)return m_;RM=1;var t=ko(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return m_=e,m_}var g_,NM;function $7(){if(NM)return g_;NM=1;var t=U7(),e=r$(),n=Il(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return g_=r,g_}var v_,PM;function q7(){if(PM)return v_;PM=1;var t=800,e=16,n=Date.now;function r(i){var a=0,s=0;return function(){var u=n(),c=e-(u-s);if(s=u,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return v_=r,v_}var y_,MM;function B7(){if(MM)return y_;MM=1;var t=$7(),e=q7(),n=e(t);return y_=n,y_}var b_,IM;function H7(){if(IM)return b_;IM=1;var t=Il(),e=j7(),n=B7();function r(i,a){return n(e(i,a,t),i+"")}return b_=r,b_}var __,kM;function lm(){if(kM)return __;kM=1;var t=uE(),e=yf(),n=EE(),r=Pa();function i(a,s,u){if(!r(u))return!1;var c=typeof s;return(c=="number"?e(u)&&n(s,u.length):c=="string"&&s in u)?t(u[s],a):!1}return __=i,__}var x_,DM;function z7(){if(DM)return x_;DM=1;var t=e$(),e=D7(),n=H7(),r=lm(),i=n(function(a,s){if(a==null)return[];var u=s.length;return u>1&&r(a,s[0],s[1])?s=[]:u>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])});return x_=i,x_}var G7=z7();const OE=Ve(G7);function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function fw(){return fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fw.apply(this,arguments)}function V7(t,e){return Y7(t)||W7(t,e)||K7(t,e)||F7()}function F7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K7(t,e){if(t){if(typeof t=="string")return LM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LM(t,e)}}function LM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function W7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function Y7(t){if(Array.isArray(t))return t}function jM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(n),!0).forEach(function(r){J7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J7(t,e,n){return e=X7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X7(t){var e=Q7(t,"string");return Ac(e)=="symbol"?e:e+""}function Q7(t,e){if(Ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z7(t){return Array.isArray(t)&&Ft(t[0])&&Ft(t[1])?t.join(" ~ "):t}var eK=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,u=s===void 0?{}:s,c=e.labelStyle,f=c===void 0?{}:c,h=e.payload,p=e.formatter,g=e.itemSorter,b=e.wrapperClassName,S=e.labelClassName,E=e.label,x=e.labelFormatter,A=e.accessibilityLayer,O=A===void 0?!1:A,C=function(){if(h&&h.length){var J={padding:0,margin:0},K=(g?OE(h,g):h).map(function(G,$){if(G.type==="none")return null;var j=w_({display:"block",paddingTop:4,paddingBottom:4,color:G.color||"#000"},u),F=G.formatter||p||Z7,ee=G.value,ie=G.name,ue=ee,U=ie;if(F&&ue!=null&&U!=null){var Y=F(ee,ie,G,$,h);if(Array.isArray(Y)){var re=V7(Y,2);ue=re[0],U=re[1]}else ue=Y}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:j},Ft(U)?V.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Ft(U)?V.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,V.createElement("span",{className:"recharts-tooltip-item-value"},ue),V.createElement("span",{className:"recharts-tooltip-item-unit"},G.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:J},K)}return null},N=w_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),R=w_({margin:0},f),P=!Ue(E),I=P?E:"",D=Le("recharts-default-tooltip",b),L=Le("recharts-tooltip-label",S);P&&x&&h!==void 0&&h!==null&&(I=x(E,h));var z=O?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",fw({className:D,style:N},z),V.createElement("p",{className:L,style:R},V.isValidElement(I)?I:"".concat(I)),C())};function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function Yd(t,e,n){return e=tK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tK(t){var e=nK(t,"string");return Cc(e)=="symbol"?e:e+""}function nK(t,e){if(Cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qu="recharts-tooltip-wrapper",rK={visibility:"hidden"};function iK(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Le(qu,Yd(Yd(Yd(Yd({},"".concat(qu,"-right"),he(n)&&e&&he(e.x)&&n>=e.x),"".concat(qu,"-left"),he(n)&&e&&he(e.x)&&n<e.x),"".concat(qu,"-bottom"),he(r)&&e&&he(e.y)&&r>=e.y),"".concat(qu,"-top"),he(r)&&e&&he(e.y)&&r<e.y))}function UM(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,u=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(a&&he(a[r]))return a[r];var h=n[r]-u-i,p=n[r]+i;if(e[r])return s[r]?h:p;if(s[r]){var g=h,b=c[r];return g<b?Math.max(p,c[r]):Math.max(h,c[r])}var S=p+u,E=c[r]+f;return S>E?Math.max(h,c[r]):Math.max(p,c[r])}function aK(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function oK(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,u=t.useTranslate3d,c=t.viewBox,f,h,p;return s.height>0&&s.width>0&&n?(h=UM({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),p=UM({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=aK({translateX:h,translateY:p,useTranslate3d:u})):f=rK,{cssProperties:f,cssClasses:iK({translateX:h,translateY:p,coordinate:n})}}function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}function $M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(n),!0).forEach(function(r){hw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a$(r.key),r)}}function uK(t,e,n){return e&&lK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cK(t,e,n){return e=Hh(e),fK(t,i$()?Reflect.construct(e,n||[],Hh(t).constructor):e.apply(t,n))}function fK(t,e){if(e&&(il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dK(t)}function dK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i$=function(){return!!t})()}function Hh(t){return Hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hh(t)}function hK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dw(t,e)}function dw(t,e){return dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dw(t,e)}function hw(t,e,n){return e=a$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a$(t){var e=pK(t,"string");return il(e)=="symbol"?e:e+""}function pK(t,e){if(il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var BM=1,mK=(function(t){function e(){var n;sK(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=cK(this,e,[].concat(i)),hw(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),hw(n,"handleKeyDown",function(s){if(s.key==="Escape"){var u,c,f,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&u!==void 0?u:0,y:(f=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),n}return hK(e,t),uK(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>BM||Math.abs(r.height-this.state.lastBoundingBox.height)>BM)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.children,h=i.coordinate,p=i.hasPayload,g=i.isAnimationActive,b=i.offset,S=i.position,E=i.reverseDirection,x=i.useTranslate3d,A=i.viewBox,O=i.wrapperStyle,C=oK({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:b,position:S,reverseDirection:E,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:A}),N=C.cssClasses,R=C.cssProperties,P=qM(qM({transition:g&&a?"transform ".concat(u,"ms ").concat(c):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&p?"visible":"hidden",position:"absolute",top:0,left:0},O);return V.createElement("div",{tabIndex:-1,className:N,style:P,ref:function(D){r.wrapperNode=D}},f)}}])})(q.PureComponent),gK=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},kl={isSsr:gK()};function al(t){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}function HM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(n),!0).forEach(function(r){RE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s$(r.key),r)}}function bK(t,e,n){return e&&yK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _K(t,e,n){return e=zh(e),xK(t,o$()?Reflect.construct(e,n||[],zh(t).constructor):e.apply(t,n))}function xK(t,e){if(e&&(al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wK(t)}function wK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o$=function(){return!!t})()}function zh(t){return zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zh(t)}function SK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pw(t,e)}function pw(t,e){return pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pw(t,e)}function RE(t,e,n){return e=s$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s$(t){var e=EK(t,"string");return al(e)=="symbol"?e:e+""}function EK(t,e){if(al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function TK(t){return t.dataKey}function AK(t,e){return V.isValidElement(t)?V.cloneElement(t,e):typeof t=="function"?V.createElement(t,e):V.createElement(eK,e)}var Mn=(function(t){function e(){return vK(this,e),_K(this,e,arguments)}return SK(e,t),bK(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.content,h=i.coordinate,p=i.filterNull,g=i.isAnimationActive,b=i.offset,S=i.payload,E=i.payloadUniqBy,x=i.position,A=i.reverseDirection,O=i.useTranslate3d,C=i.viewBox,N=i.wrapperStyle,R=S??[];p&&R.length&&(R=XU(S.filter(function(I){return I.value!=null&&(I.hide!==!0||r.props.includeHidden)}),E,TK));var P=R.length>0;return V.createElement(mK,{allowEscapeViewBox:s,animationDuration:u,animationEasing:c,isAnimationActive:g,active:a,coordinate:h,hasPayload:P,offset:b,position:x,reverseDirection:A,useTranslate3d:O,viewBox:C,wrapperStyle:N},AK(f,zM(zM({},this.props),{},{payload:R})))}}])})(q.PureComponent);RE(Mn,"displayName","Tooltip");RE(Mn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!kl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var S_,GM;function CK(){if(GM)return S_;GM=1;var t=ri(),e=function(){return t.Date.now()};return S_=e,S_}var E_,VM;function OK(){if(VM)return E_;VM=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return E_=e,E_}var T_,FM;function RK(){if(FM)return T_;FM=1;var t=OK(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return T_=n,T_}var A_,KM;function l$(){if(KM)return A_;KM=1;var t=RK(),e=Pa(),n=Pl(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;function c(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=a.test(f);return p||s.test(f)?u(f.slice(2),p?2:8):i.test(f)?r:+f}return A_=c,A_}var C_,WM;function NK(){if(WM)return C_;WM=1;var t=Pa(),e=CK(),n=l$(),r="Expected a function",i=Math.max,a=Math.min;function s(u,c,f){var h,p,g,b,S,E,x=0,A=!1,O=!1,C=!0;if(typeof u!="function")throw new TypeError(r);c=n(c)||0,t(f)&&(A=!!f.leading,O="maxWait"in f,g=O?i(n(f.maxWait)||0,c):g,C="trailing"in f?!!f.trailing:C);function N(K){var G=h,$=p;return h=p=void 0,x=K,b=u.apply($,G),b}function R(K){return x=K,S=setTimeout(D,c),A?N(K):b}function P(K){var G=K-E,$=K-x,j=c-G;return O?a(j,g-$):j}function I(K){var G=K-E,$=K-x;return E===void 0||G>=c||G<0||O&&$>=g}function D(){var K=e();if(I(K))return L(K);S=setTimeout(D,P(K))}function L(K){return S=void 0,C&&h?N(K):(h=p=void 0,b)}function z(){S!==void 0&&clearTimeout(S),x=0,h=E=p=S=void 0}function B(){return S===void 0?b:L(e())}function J(){var K=e(),G=I(K);if(h=arguments,p=this,E=K,G){if(S===void 0)return R(E);if(O)return clearTimeout(S),S=setTimeout(D,c),N(E)}return S===void 0&&(S=setTimeout(D,c)),b}return J.cancel=z,J.flush=B,J}return C_=s,C_}var O_,YM;function PK(){if(YM)return O_;YM=1;var t=NK(),e=Pa(),n="Expected a function";function r(i,a,s){var u=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(s)&&(u="leading"in s?!!s.leading:u,c="trailing"in s?!!s.trailing:c),t(i,a,{leading:u,maxWait:a,trailing:c})}return O_=r,O_}var MK=PK();const u$=Ve(MK);function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function JM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JM(Object(n),!0).forEach(function(r){IK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IK(t,e,n){return e=kK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kK(t){var e=DK(t,"string");return Oc(e)=="symbol"?e:e+""}function DK(t,e){if(Oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LK(t,e){return qK(t)||$K(t,e)||UK(t,e)||jK()}function jK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UK(t,e){if(t){if(typeof t=="string")return XM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XM(t,e)}}function XM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $K(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function qK(t){if(Array.isArray(t))return t}var cc=q.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,u=t.height,c=u===void 0?"100%":u,f=t.minWidth,h=f===void 0?0:f,p=t.minHeight,g=t.maxHeight,b=t.children,S=t.debounce,E=S===void 0?0:S,x=t.id,A=t.className,O=t.onResize,C=t.style,N=C===void 0?{}:C,R=q.useRef(null),P=q.useRef();P.current=O,q.useImperativeHandle(e,function(){return Object.defineProperty(R.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),R.current},configurable:!0})});var I=q.useState({containerWidth:i.width,containerHeight:i.height}),D=LK(I,2),L=D[0],z=D[1],B=q.useCallback(function(K,G){z(function($){var j=Math.round(K),F=Math.round(G);return $.containerWidth===j&&$.containerHeight===F?$:{containerWidth:j,containerHeight:F}})},[]);q.useEffect(function(){var K=function(ie){var ue,U=ie[0].contentRect,Y=U.width,re=U.height;B(Y,re),(ue=P.current)===null||ue===void 0||ue.call(P,Y,re)};E>0&&(K=u$(K,E,{trailing:!0,leading:!1}));var G=new ResizeObserver(K),$=R.current.getBoundingClientRect(),j=$.width,F=$.height;return B(j,F),G.observe(R.current),function(){G.disconnect()}},[B,E]);var J=q.useMemo(function(){var K=L.containerWidth,G=L.containerHeight;if(K<0||G<0)return null;Ur(go(s)||go(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Ur(!n||n>0,"The aspect(%s) must be greater than zero.",n);var $=go(s)?K:s,j=go(c)?G:c;n&&n>0&&($?j=$/n:j&&($=j*n),g&&j>g&&(j=g)),Ur($>0||j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,j,s,c,h,p,n);var F=!Array.isArray(b)&&Ii(b.type).endsWith("Chart");return V.Children.map(b,function(ee){return V.isValidElement(ee)?q.cloneElement(ee,Jd({width:$,height:j},F?{style:Jd({height:"100%",width:"100%",maxHeight:j,maxWidth:$},ee.props.style)}:{})):ee})},[n,b,c,g,p,h,L,s]);return V.createElement("div",{id:x?"".concat(x):void 0,className:Le("recharts-responsive-container",A),style:Jd(Jd({},N),{},{width:s,height:c,minWidth:h,minHeight:p,maxHeight:g}),ref:R},J)}),ol=function(e){return null};ol.displayName="Cell";function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function QM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QM(Object(n),!0).forEach(function(r){BK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BK(t,e,n){return e=HK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HK(t){var e=zK(t,"string");return Rc(e)=="symbol"?e:e+""}function zK(t,e){if(Rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ns={widthCache:{},cacheCount:0},GK=2e3,VK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ZM="recharts_measurement_span";function FK(t){var e=mw({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var fc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||kl.isSsr)return{width:0,height:0};var r=FK(n),i=JSON.stringify({text:e,copyStyle:r});if(Ns.widthCache[i])return Ns.widthCache[i];try{var a=document.getElementById(ZM);a||(a=document.createElement("span"),a.setAttribute("id",ZM),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=mw(mw({},VK),r);Object.assign(a.style,s),a.textContent="".concat(e);var u=a.getBoundingClientRect(),c={width:u.width,height:u.height};return Ns.widthCache[i]=c,++Ns.cacheCount>GK&&(Ns.cacheCount=0,Ns.widthCache={}),c}catch{return{width:0,height:0}}},KK=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}function Gh(t,e){return XK(t)||JK(t,e)||YK(t,e)||WK()}function WK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YK(t,e){if(t){if(typeof t=="string")return eI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eI(t,e)}}function eI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function XK(t){if(Array.isArray(t))return t}function QK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eW(r.key),r)}}function ZK(t,e,n){return e&&tI(t.prototype,e),n&&tI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eW(t){var e=tW(t,"string");return Nc(e)=="symbol"?e:e+""}function tW(t,e){if(Nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,rW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,c$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},iW=Object.keys(c$),Us="NaN";function aW(t,e){return t*c$[e]}var Xd=(function(){function t(e,n){QK(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!nW.test(n)&&(this.num=NaN,this.unit=""),iW.includes(n)&&(this.num=aW(e,n),this.unit="px")}return ZK(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=rW.exec(n))!==null&&r!==void 0?r:[],a=Gh(i,3),s=a[1],u=a[2];return new t(parseFloat(s),u??"")}}])})();function f$(t){if(t.includes(Us))return Us;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=nI.exec(e))!==null&&n!==void 0?n:[],i=Gh(r,4),a=i[1],s=i[2],u=i[3],c=Xd.parse(a??""),f=Xd.parse(u??""),h=s==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return Us;e=e.replace(nI,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,g=(p=rI.exec(e))!==null&&p!==void 0?p:[],b=Gh(g,4),S=b[1],E=b[2],x=b[3],A=Xd.parse(S??""),O=Xd.parse(x??""),C=E==="+"?A.add(O):A.subtract(O);if(C.isNaN())return Us;e=e.replace(rI,C.toString())}return e}var iI=/\(([^()]*)\)/;function oW(t){for(var e=t;e.includes("(");){var n=iI.exec(e),r=Gh(n,2),i=r[1];e=e.replace(iI,f$(i))}return e}function sW(t){var e=t.replace(/\s+/g,"");return e=oW(e),e=f$(e),e}function lW(t){try{return sW(t)}catch{return Us}}function R_(t){var e=lW(t.slice(5,-1));return e===Us?"":e}var uW=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],cW=["dx","dy","angle","className","breakAll"];function gw(){return gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gw.apply(this,arguments)}function aI(t,e){if(t==null)return{};var n=fW(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oI(t,e){return mW(t)||pW(t,e)||hW(t,e)||dW()}function dW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hW(t,e){if(t){if(typeof t=="string")return sI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sI(t,e)}}function sI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function mW(t){if(Array.isArray(t))return t}var d$=/[ \f\n\r\t\v\u2028\u2029]+/,h$=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Ue(n)||(r?a=n.toString().split(""):a=n.toString().split(d$));var s=a.map(function(c){return{word:c,width:fc(c,i).width}}),u=r?0:fc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:u}}catch{return null}},gW=function(e,n,r,i,a){var s=e.maxLines,u=e.children,c=e.style,f=e.breakAll,h=he(s),p=u,g=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(j,F){var ee=F.word,ie=F.width,ue=j[j.length-1];if(ue&&(i==null||a||ue.width+ie+r<Number(i)))ue.words.push(ee),ue.width+=ie+r;else{var U={words:[ee],width:ie};j.push(U)}return j},[])},b=g(n),S=function($){return $.reduce(function(j,F){return j.width>F.width?j:F})};if(!h)return b;for(var E="",x=function($){var j=p.slice(0,$),F=h$({breakAll:f,style:c,children:j+E}).wordsWithComputedWidth,ee=g(F),ie=ee.length>s||S(ee).width>Number(i);return[ie,ee]},A=0,O=p.length-1,C=0,N;A<=O&&C<=p.length-1;){var R=Math.floor((A+O)/2),P=R-1,I=x(P),D=oI(I,2),L=D[0],z=D[1],B=x(R),J=oI(B,1),K=J[0];if(!L&&!K&&(A=R+1),L&&K&&(O=R-1),!L&&K){N=z;break}C++}return N||b},lI=function(e){var n=Ue(e)?[]:e.toString().split(d$);return[{words:n}]},vW=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,u=e.maxLines;if((n||r)&&!kl.isSsr){var c,f,h=h$({breakAll:s,children:i,style:a});if(h){var p=h.wordsWithComputedWidth,g=h.spaceWidth;c=p,f=g}else return lI(i);return gW({breakAll:s,children:i,maxLines:u,style:a},c,f,n,r)}return lI(i)},uI="#808080",Co=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,u=s===void 0?"1em":s,c=e.capHeight,f=c===void 0?"0.71em":c,h=e.scaleToFit,p=h===void 0?!1:h,g=e.textAnchor,b=g===void 0?"start":g,S=e.verticalAnchor,E=S===void 0?"end":S,x=e.fill,A=x===void 0?uI:x,O=aI(e,uW),C=q.useMemo(function(){return vW({breakAll:O.breakAll,children:O.children,maxLines:O.maxLines,scaleToFit:p,style:O.style,width:O.width})},[O.breakAll,O.children,O.maxLines,p,O.style,O.width]),N=O.dx,R=O.dy,P=O.angle,I=O.className,D=O.breakAll,L=aI(O,cW);if(!Ft(r)||!Ft(a))return null;var z=r+(he(N)?N:0),B=a+(he(R)?R:0),J;switch(E){case"start":J=R_("calc(".concat(f,")"));break;case"middle":J=R_("calc(".concat((C.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:J=R_("calc(".concat(C.length-1," * -").concat(u,")"));break}var K=[];if(p){var G=C[0].width,$=O.width;K.push("scale(".concat((he($)?$/G:1)/G,")"))}return P&&K.push("rotate(".concat(P,", ").concat(z,", ").concat(B,")")),K.length&&(L.transform=K.join(" ")),V.createElement("text",gw({},Ae(L,!0),{x:z,y:B,className:Le("recharts-text",I),textAnchor:b,fill:A.includes("url")?uI:A}),C.map(function(j,F){var ee=j.words.join(D?"":" ");return V.createElement("tspan",{x:z,dy:F===0?J:u,key:"".concat(ee,"-").concat(F)},ee)}))};function Ca(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yW(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function NE(t){let e,n,r;t.length!==2?(e=Ca,n=(u,c)=>Ca(t(u),c),r=(u,c)=>t(u)-c):(e=t===Ca||t===yW?t:bW,n=t,r=t);function i(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(u[p],c)<0?f=p+1:h=p}while(f<h)}return f}function a(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(u[p],c)<=0?f=p+1:h=p}while(f<h)}return f}function s(u,c,f=0,h=u.length){const p=i(u,c,f,h-1);return p>f&&r(u[p-1],c)>-r(u[p],c)?p-1:p}return{left:i,center:s,right:a}}function bW(){return 0}function p$(t){return t===null?NaN:+t}function*_W(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const xW=NE(Ca),bf=xW.right;NE(p$).center;class Oo{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=e+a,u=Math.abs(e)<Math.abs(a)?e-(s-a):a-(s-e);u&&(n[r++]=u),e=s}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=e[--n];n>0&&(r=s,i=e[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}}class cI extends Map{constructor(e,n=EW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(fI(this,e))}has(e){return super.has(fI(this,e))}set(e,n){return super.set(wW(this,e),n)}delete(e){return super.delete(SW(this,e))}}function fI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function wW({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function SW({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function EW(t){return t!==null&&typeof t=="object"?t.valueOf():t}function TW(t=Ca){if(t===Ca)return m$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function m$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const AW=Math.sqrt(50),CW=Math.sqrt(10),OW=Math.sqrt(2);function Vh(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=AW?10:a>=CW?5:a>=OW?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/s,u=Math.round(t*f),c=Math.round(e*f),u/f<t&&++u,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,u=Math.round(t/f),c=Math.round(e/f),u*f<t&&++u,c*f>e&&--c),c<u&&.5<=n&&n<2?Vh(t,e,n*2):[u,c,f]}function vw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?Vh(e,t,n):Vh(t,e,n);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(r)if(s<0)for(let f=0;f<u;++f)c[f]=(a-f)/-s;else for(let f=0;f<u;++f)c[f]=(a-f)*s;else if(s<0)for(let f=0;f<u;++f)c[f]=(i+f)/-s;else for(let f=0;f<u;++f)c[f]=(i+f)*s;return c}function yw(t,e,n){return e=+e,t=+t,n=+n,Vh(t,e,n)[2]}function bw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?yw(e,t,n):yw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function dI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function hI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function g$(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?m$:TW(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),p=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*p*(c-p)/c)*(f-c/2<0?-1:1),b=Math.max(n,Math.floor(e-f*p/c+g)),S=Math.min(r,Math.floor(e+(c-f)*p/c+g));g$(t,e,b,S,i)}const a=t[e];let s=n,u=r;for(Bu(t,n,e),i(t[r],a)>0&&Bu(t,n,r);s<u;){for(Bu(t,s,u),++s,--u;i(t[s],a)<0;)++s;for(;i(t[u],a)>0;)--u}i(t[n],a)===0?Bu(t,n,u):(++u,Bu(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Bu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function RW(t,e,n){if(t=Float64Array.from(_W(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return hI(t);if(e>=1)return dI(t);var r,i=(r-1)*e,a=Math.floor(i),s=dI(g$(t,a).subarray(0,a+1)),u=hI(t.subarray(a+1));return s+(u-s)*(i-a)}}function NW(t,e,n=p$){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return s+(u-s)*(i-a)}}function*PW(t){for(const e of t)yield*e}function v$(t){return Array.from(PW(t))}function MW(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Er(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Gi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const _w=Symbol("implicit");function PE(){var t=new cI,e=[],n=[],r=_w;function i(a){let s=t.get(a);if(s===void 0){if(r!==_w)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new cI;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return PE(e,n).unknown(r)},Er.apply(i,arguments),i}function Pc(){var t=PE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,u=!1,c=0,f=0,h=.5;delete t.unknown;function p(){var g=e().length,b=i<r,S=b?i:r,E=b?r:i;a=(E-S)/Math.max(1,g-c+f*2),u&&(a=Math.floor(a)),S+=(E-S-a*(g-c))*h,s=a*(1-c),u&&(S=Math.round(S),s=Math.round(s));var x=MW(g).map(function(A){return S+a*A});return n(b?x.reverse():x)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,u=!0,p()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(g){return arguments.length?(u=!!g,p()):u},t.padding=function(g){return arguments.length?(c=Math.min(1,f=+g),p()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),p()):c},t.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},t.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),p()):h},t.copy=function(){return Pc(e(),[r,i]).round(u).paddingInner(c).paddingOuter(f).align(h)},Er.apply(p(),arguments)}function y$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return y$(e())},t}function dc(){return y$(Pc.apply(null,arguments).paddingInner(1))}function ME(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function b$(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function _f(){}var Mc=.7,Fh=1/Mc,Js="\\s*([+-]?\\d+)\\s*",Ic="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",IW=/^#([0-9a-f]{3,8})$/,kW=new RegExp(`^rgb\\(${Js},${Js},${Js}\\)$`),DW=new RegExp(`^rgb\\(${Zr},${Zr},${Zr}\\)$`),LW=new RegExp(`^rgba\\(${Js},${Js},${Js},${Ic}\\)$`),jW=new RegExp(`^rgba\\(${Zr},${Zr},${Zr},${Ic}\\)$`),UW=new RegExp(`^hsl\\(${Ic},${Zr},${Zr}\\)$`),$W=new RegExp(`^hsla\\(${Ic},${Zr},${Zr},${Ic}\\)$`),pI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ME(_f,kc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:mI,formatHex:mI,formatHex8:qW,formatHsl:BW,formatRgb:gI,toString:gI});function mI(){return this.rgb().formatHex()}function qW(){return this.rgb().formatHex8()}function BW(){return _$(this).formatHsl()}function gI(){return this.rgb().formatRgb()}function kc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=IW.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?vI(e):n===3?new In(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Qd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Qd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=kW.exec(t))?new In(e[1],e[2],e[3],1):(e=DW.exec(t))?new In(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=LW.exec(t))?Qd(e[1],e[2],e[3],e[4]):(e=jW.exec(t))?Qd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=UW.exec(t))?_I(e[1],e[2]/100,e[3]/100,1):(e=$W.exec(t))?_I(e[1],e[2]/100,e[3]/100,e[4]):pI.hasOwnProperty(t)?vI(pI[t]):t==="transparent"?new In(NaN,NaN,NaN,0):null}function vI(t){return new In(t>>16&255,t>>8&255,t&255,1)}function Qd(t,e,n,r){return r<=0&&(t=e=n=NaN),new In(t,e,n,r)}function HW(t){return t instanceof _f||(t=kc(t)),t?(t=t.rgb(),new In(t.r,t.g,t.b,t.opacity)):new In}function xw(t,e,n,r){return arguments.length===1?HW(t):new In(t,e,n,r??1)}function In(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ME(In,xw,b$(_f,{brighter(t){return t=t==null?Fh:Math.pow(Fh,t),new In(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Mc:Math.pow(Mc,t),new In(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new In(xo(this.r),xo(this.g),xo(this.b),Kh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yI,formatHex:yI,formatHex8:zW,formatRgb:bI,toString:bI}));function yI(){return`#${vo(this.r)}${vo(this.g)}${vo(this.b)}`}function zW(){return`#${vo(this.r)}${vo(this.g)}${vo(this.b)}${vo((isNaN(this.opacity)?1:this.opacity)*255)}`}function bI(){const t=Kh(this.opacity);return`${t===1?"rgb(":"rgba("}${xo(this.r)}, ${xo(this.g)}, ${xo(this.b)}${t===1?")":`, ${t})`}`}function Kh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function xo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function vo(t){return t=xo(t),(t<16?"0":"")+t.toString(16)}function _I(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Lr(t,e,n,r)}function _$(t){if(t instanceof Lr)return new Lr(t.h,t.s,t.l,t.opacity);if(t instanceof _f||(t=kc(t)),!t)return new Lr;if(t instanceof Lr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,u=a-i,c=(a+i)/2;return u?(e===a?s=(n-r)/u+(n<r)*6:n===a?s=(r-e)/u+2:s=(e-n)/u+4,u/=c<.5?a+i:2-a-i,s*=60):u=c>0&&c<1?0:s,new Lr(s,u,c,t.opacity)}function GW(t,e,n,r){return arguments.length===1?_$(t):new Lr(t,e,n,r??1)}function Lr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ME(Lr,GW,b$(_f,{brighter(t){return t=t==null?Fh:Math.pow(Fh,t),new Lr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Mc:Math.pow(Mc,t),new Lr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new In(N_(t>=240?t-240:t+120,i,r),N_(t,i,r),N_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Lr(xI(this.h),Zd(this.s),Zd(this.l),Kh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Kh(this.opacity);return`${t===1?"hsl(":"hsla("}${xI(this.h)}, ${Zd(this.s)*100}%, ${Zd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function xI(t){return t=(t||0)%360,t<0?t+360:t}function Zd(t){return Math.max(0,Math.min(1,t||0))}function N_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const IE=t=>()=>t;function VW(t,e){return function(n){return t+n*e}}function FW(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function KW(t){return(t=+t)==1?x$:function(e,n){return n-e?FW(e,n,t):IE(isNaN(e)?n:e)}}function x$(t,e){var n=e-t;return n?VW(t,n):IE(isNaN(t)?e:t)}const wI=(function t(e){var n=KW(e);function r(i,a){var s=n((i=xw(i)).r,(a=xw(a)).r),u=n(i.g,a.g),c=n(i.b,a.b),f=x$(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=u(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function WW(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function YW(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function JW(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Dl(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(u){for(s=0;s<r;++s)a[s]=i[s](u);return a}}function XW(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Wh(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function QW(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Dl(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var ww=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,P_=new RegExp(ww.source,"g");function ZW(t){return function(){return t}}function eY(t){return function(e){return t(e)+""}}function tY(t,e){var n=ww.lastIndex=P_.lastIndex=0,r,i,a,s=-1,u=[],c=[];for(t=t+"",e=e+"";(r=ww.exec(t))&&(i=P_.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[s]?u[s]+=a:u[++s]=a),(r=r[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:Wh(r,i)})),n=P_.lastIndex;return n<e.length&&(a=e.slice(n),u[s]?u[s]+=a:u[++s]=a),u.length<2?c[0]?eY(c[0].x):ZW(e):(e=c.length,function(f){for(var h=0,p;h<e;++h)u[(p=c[h]).i]=p.x(f);return u.join("")})}function Dl(t,e){var n=typeof e,r;return e==null||n==="boolean"?IE(e):(n==="number"?Wh:n==="string"?(r=kc(e))?(e=r,wI):tY:e instanceof kc?wI:e instanceof Date?XW:YW(e)?WW:Array.isArray(e)?JW:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?QW:Wh)(t,e)}function kE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function nY(t,e){e===void 0&&(e=t,t=Dl);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var u=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[u](s-u)}}function rY(t){return function(){return t}}function Yh(t){return+t}var SI=[0,1];function Sn(t){return t}function Sw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:rY(isNaN(e)?NaN:.5)}function iY(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function aY(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=Sw(i,r),a=n(s,a)):(r=Sw(r,i),a=n(a,s)),function(u){return a(r(u))}}function oY(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Sw(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(u){var c=bf(t,u,1,r)-1;return a[c](i[c](u))}}function xf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function um(){var t=SI,e=SI,n=Dl,r,i,a,s=Sn,u,c,f;function h(){var g=Math.min(t.length,e.length);return s!==Sn&&(s=iY(t[0],t[g-1])),u=g>2?oY:aY,c=f=null,p}function p(g){return g==null||isNaN(g=+g)?a:(c||(c=u(t.map(r),e,n)))(r(s(g)))}return p.invert=function(g){return s(i((f||(f=u(e,t.map(r),Wh)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,Yh),h()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),h()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),n=kE,h()},p.clamp=function(g){return arguments.length?(s=g?!0:Sn,h()):s!==Sn},p.interpolate=function(g){return arguments.length?(n=g,h()):n},p.unknown=function(g){return arguments.length?(a=g,p):a},function(g,b){return r=g,i=b,h()}}function DE(){return um()(Sn,Sn)}function sY(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Jh(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function sl(t){return t=Jh(Math.abs(t)),t?t[1]:NaN}function lY(t,e){return function(n,r){for(var i=n.length,a=[],s=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),a.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[s=(s+1)%t.length];return a.reverse().join(e)}}function uY(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var cY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Dc(t){if(!(e=cY.exec(t)))throw new Error("invalid format: "+t);var e;return new LE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Dc.prototype=LE.prototype;function LE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}LE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fY(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var w$;function dY(t,e){var n=Jh(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(w$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Jh(t,Math.max(0,e+a-1))[0]}function EI(t,e){var n=Jh(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const TI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:sY,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>EI(t*100,e),r:EI,s:dY,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function AI(t){return t}var CI=Array.prototype.map,OI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function hY(t){var e=t.grouping===void 0||t.thousands===void 0?AI:lY(CI.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?AI:uY(CI.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p){p=Dc(p);var g=p.fill,b=p.align,S=p.sign,E=p.symbol,x=p.zero,A=p.width,O=p.comma,C=p.precision,N=p.trim,R=p.type;R==="n"?(O=!0,R="g"):TI[R]||(C===void 0&&(C=12),N=!0,R="g"),(x||g==="0"&&b==="=")&&(x=!0,g="0",b="=");var P=E==="$"?n:E==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",I=E==="$"?r:/[%p]/.test(R)?s:"",D=TI[R],L=/[defgprs%]/.test(R);C=C===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function z(B){var J=P,K=I,G,$,j;if(R==="c")K=D(B)+K,B="";else{B=+B;var F=B<0||1/B<0;if(B=isNaN(B)?c:D(Math.abs(B),C),N&&(B=fY(B)),F&&+B==0&&S!=="+"&&(F=!1),J=(F?S==="("?S:u:S==="-"||S==="("?"":S)+J,K=(R==="s"?OI[8+w$/3]:"")+K+(F&&S==="("?")":""),L){for(G=-1,$=B.length;++G<$;)if(j=B.charCodeAt(G),48>j||j>57){K=(j===46?i+B.slice(G+1):B.slice(G))+K,B=B.slice(0,G);break}}}O&&!x&&(B=e(B,1/0));var ee=J.length+B.length+K.length,ie=ee<A?new Array(A-ee+1).join(g):"";switch(O&&x&&(B=e(ie+B,ie.length?A-K.length:1/0),ie=""),b){case"<":B=J+B+K+ie;break;case"=":B=J+ie+B+K;break;case"^":B=ie.slice(0,ee=ie.length>>1)+J+B+K+ie.slice(ee);break;default:B=ie+J+B+K;break}return a(B)}return z.toString=function(){return p+""},z}function h(p,g){var b=f((p=Dc(p),p.type="f",p)),S=Math.max(-8,Math.min(8,Math.floor(sl(g)/3)))*3,E=Math.pow(10,-S),x=OI[8+S/3];return function(A){return b(E*A)+x}}return{format:f,formatPrefix:h}}var eh,jE,S$;pY({thousands:",",grouping:[3],currency:["$",""]});function pY(t){return eh=hY(t),jE=eh.format,S$=eh.formatPrefix,eh}function mY(t){return Math.max(0,-sl(Math.abs(t)))}function gY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sl(e)/3)))*3-sl(Math.abs(t)))}function vY(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,sl(e)-sl(t))+1}function E$(t,e,n,r){var i=bw(t,e,n),a;switch(r=Dc(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=gY(i,s))&&(r.precision=a),S$(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=vY(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=mY(i))&&(r.precision=a-(r.type==="%")*2);break}}return jE(r)}function Ma(t){var e=t.domain;return t.ticks=function(n){var r=e();return vw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return E$(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],u=r[a],c,f,h=10;for(u<s&&(f=s,s=u,u=f,f=i,i=a,a=f);h-- >0;){if(f=yw(s,u,n),f===c)return r[i]=s,r[a]=u,e(r);if(f>0)s=Math.floor(s/f)*f,u=Math.ceil(u/f)*f;else if(f<0)s=Math.ceil(s*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function Xh(){var t=DE();return t.copy=function(){return xf(t,Xh())},Er.apply(t,arguments),Ma(t)}function T$(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Yh),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return T$(t).unknown(e)},t=arguments.length?Array.from(t,Yh):[0,1],Ma(n)}function A$(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function RI(t){return Math.log(t)}function NI(t){return Math.exp(t)}function yY(t){return-Math.log(-t)}function bY(t){return-Math.exp(-t)}function _Y(t){return isFinite(t)?+("1e"+t):t<0?0:t}function xY(t){return t===10?_Y:t===Math.E?Math.exp:e=>Math.pow(t,e)}function wY(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function PI(t){return(e,n)=>-t(-e,n)}function UE(t){const e=t(RI,NI),n=e.domain;let r=10,i,a;function s(){return i=wY(r),a=xY(r),n()[0]<0?(i=PI(i),a=PI(a),t(yY,bY)):t(RI,NI),e}return e.base=function(u){return arguments.length?(r=+u,s()):r},e.domain=function(u){return arguments.length?(n(u),s()):n()},e.ticks=u=>{const c=n();let f=c[0],h=c[c.length-1];const p=h<f;p&&([f,h]=[h,f]);let g=i(f),b=i(h),S,E;const x=u==null?10:+u;let A=[];if(!(r%1)&&b-g<x){if(g=Math.floor(g),b=Math.ceil(b),f>0){for(;g<=b;++g)for(S=1;S<r;++S)if(E=g<0?S/a(-g):S*a(g),!(E<f)){if(E>h)break;A.push(E)}}else for(;g<=b;++g)for(S=r-1;S>=1;--S)if(E=g>0?S/a(-g):S*a(g),!(E<f)){if(E>h)break;A.push(E)}A.length*2<x&&(A=vw(f,h,x))}else A=vw(g,b,Math.min(b-g,x)).map(a);return p?A.reverse():A},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Dc(c)).precision==null&&(c.trim=!0),c=jE(c)),u===1/0)return c;const f=Math.max(1,r*u/e.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?c(h):""}},e.nice=()=>n(A$(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function C$(){const t=UE(um()).domain([1,10]);return t.copy=()=>xf(t,C$()).base(t.base()),Er.apply(t,arguments),t}function MI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function II(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function $E(t){var e=1,n=t(MI(e),II(e));return n.constant=function(r){return arguments.length?t(MI(e=+r),II(e)):e},Ma(n)}function O$(){var t=$E(um());return t.copy=function(){return xf(t,O$()).constant(t.constant())},Er.apply(t,arguments)}function kI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function SY(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function EY(t){return t<0?-t*t:t*t}function qE(t){var e=t(Sn,Sn),n=1;function r(){return n===1?t(Sn,Sn):n===.5?t(SY,EY):t(kI(n),kI(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ma(e)}function BE(){var t=qE(um());return t.copy=function(){return xf(t,BE()).exponent(t.exponent())},Er.apply(t,arguments),t}function TY(){return BE.apply(null,arguments).exponent(.5)}function DI(t){return Math.sign(t)*t*t}function AY(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function R$(){var t=DE(),e=[0,1],n=!1,r;function i(a){var s=AY(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(DI(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Yh)).map(DI)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return R$(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Er.apply(i,arguments),Ma(i)}function N$(){var t=[],e=[],n=[],r;function i(){var s=0,u=Math.max(1,e.length);for(n=new Array(u-1);++s<u;)n[s-1]=NW(t,s/u);return a}function a(s){return s==null||isNaN(s=+s)?r:e[bf(n,s)]}return a.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Ca),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return N$().domain(t).range(e).unknown(r)},Er.apply(a,arguments)}function P$(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[bf(r,c,0,n)]:a}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return P$().domain([t,e]).range(i).unknown(a)},Er.apply(Ma(s),arguments)}function M$(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[bf(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return M$().domain(t).range(e).unknown(n)},Er.apply(i,arguments)}const M_=new Date,I_=new Date;function Kt(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),u=i.ceil(a);return a-s<u-a?s:u},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,u)=>{const c=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<s)||!(u>0))return c;let f;do c.push(f=new Date(+a)),e(a,u),t(a);while(f<a&&a<s);return c},i.filter=a=>Kt(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!a(s););else for(;--u>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(M_.setTime(+a),I_.setTime(+s),t(M_),t(I_),Math.floor(n(M_,I_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Qh=Kt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Qh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Kt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Qh);Qh.range;const Ri=1e3,mr=Ri*60,Ni=mr*60,Li=Ni*24,HE=Li*7,LI=Li*30,k_=Li*365,yo=Kt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ri)},(t,e)=>(e-t)/Ri,t=>t.getUTCSeconds());yo.range;const zE=Kt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ri)},(t,e)=>{t.setTime(+t+e*mr)},(t,e)=>(e-t)/mr,t=>t.getMinutes());zE.range;const GE=Kt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*mr)},(t,e)=>(e-t)/mr,t=>t.getUTCMinutes());GE.range;const VE=Kt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ri-t.getMinutes()*mr)},(t,e)=>{t.setTime(+t+e*Ni)},(t,e)=>(e-t)/Ni,t=>t.getHours());VE.range;const FE=Kt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ni)},(t,e)=>(e-t)/Ni,t=>t.getUTCHours());FE.range;const wf=Kt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*mr)/Li,t=>t.getDate()-1);wf.range;const cm=Kt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Li,t=>t.getUTCDate()-1);cm.range;const I$=Kt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Li,t=>Math.floor(t/Li));I$.range;function Do(t){return Kt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*mr)/HE)}const fm=Do(0),Zh=Do(1),CY=Do(2),OY=Do(3),ll=Do(4),RY=Do(5),NY=Do(6);fm.range;Zh.range;CY.range;OY.range;ll.range;RY.range;NY.range;function Lo(t){return Kt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/HE)}const dm=Lo(0),ep=Lo(1),PY=Lo(2),MY=Lo(3),ul=Lo(4),IY=Lo(5),kY=Lo(6);dm.range;ep.range;PY.range;MY.range;ul.range;IY.range;kY.range;const KE=Kt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());KE.range;const WE=Kt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());WE.range;const ji=Kt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ji.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Kt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ji.range;const Ui=Kt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ui.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Kt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ui.range;function k$(t,e,n,r,i,a){const s=[[yo,1,Ri],[yo,5,5*Ri],[yo,15,15*Ri],[yo,30,30*Ri],[a,1,mr],[a,5,5*mr],[a,15,15*mr],[a,30,30*mr],[i,1,Ni],[i,3,3*Ni],[i,6,6*Ni],[i,12,12*Ni],[r,1,Li],[r,2,2*Li],[n,1,HE],[e,1,LI],[e,3,3*LI],[t,1,k_]];function u(f,h,p){const g=h<f;g&&([f,h]=[h,f]);const b=p&&typeof p.range=="function"?p:c(f,h,p),S=b?b.range(f,+h+1):[];return g?S.reverse():S}function c(f,h,p){const g=Math.abs(h-f)/p,b=NE(([,,x])=>x).right(s,g);if(b===s.length)return t.every(bw(f/k_,h/k_,p));if(b===0)return Qh.every(Math.max(bw(f,h,p),1));const[S,E]=s[g/s[b-1][2]<s[b][2]/g?b-1:b];return S.every(E)}return[u,c]}const[DY,LY]=k$(Ui,WE,dm,I$,FE,GE),[jY,UY]=k$(ji,KE,fm,wf,VE,zE);function D_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function L_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Hu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function $Y(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,u=t.months,c=t.shortMonths,f=zu(i),h=Gu(i),p=zu(a),g=Gu(a),b=zu(s),S=Gu(s),E=zu(u),x=Gu(u),A=zu(c),O=Gu(c),C={a:F,A:ee,b:ie,B:ue,c:null,d:HI,e:HI,f:lJ,g:yJ,G:_J,H:aJ,I:oJ,j:sJ,L:D$,m:uJ,M:cJ,p:U,q:Y,Q:VI,s:FI,S:fJ,u:dJ,U:hJ,V:pJ,w:mJ,W:gJ,x:null,X:null,y:vJ,Y:bJ,Z:xJ,"%":GI},N={a:re,A:fe,b:me,B:xe,c:null,d:zI,e:zI,f:TJ,g:DJ,G:jJ,H:wJ,I:SJ,j:EJ,L:j$,m:AJ,M:CJ,p:je,q:Xe,Q:VI,s:FI,S:OJ,u:RJ,U:NJ,V:PJ,w:MJ,W:IJ,x:null,X:null,y:kJ,Y:LJ,Z:UJ,"%":GI},R={a:z,A:B,b:J,B:K,c:G,d:qI,e:qI,f:tJ,g:$I,G:UI,H:BI,I:BI,j:XY,L:eJ,m:JY,M:QY,p:L,q:YY,Q:rJ,s:iJ,S:ZY,u:GY,U:VY,V:FY,w:zY,W:KY,x:$,X:j,y:$I,Y:UI,Z:WY,"%":nJ};C.x=P(n,C),C.X=P(r,C),C.c=P(e,C),N.x=P(n,N),N.X=P(r,N),N.c=P(e,N);function P(de,Ce){return function(Ne){var ce=[],pt=-1,Ie=0,wt=de.length,St,un,Tr;for(Ne instanceof Date||(Ne=new Date(+Ne));++pt<wt;)de.charCodeAt(pt)===37&&(ce.push(de.slice(Ie,pt)),(un=jI[St=de.charAt(++pt)])!=null?St=de.charAt(++pt):un=St==="e"?" ":"0",(Tr=Ce[St])&&(St=Tr(Ne,un)),ce.push(St),Ie=pt+1);return ce.push(de.slice(Ie,pt)),ce.join("")}}function I(de,Ce){return function(Ne){var ce=Hu(1900,void 0,1),pt=D(ce,de,Ne+="",0),Ie,wt;if(pt!=Ne.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(Ce&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(Ie=L_(Hu(ce.y,0,1)),wt=Ie.getUTCDay(),Ie=wt>4||wt===0?ep.ceil(Ie):ep(Ie),Ie=cm.offset(Ie,(ce.V-1)*7),ce.y=Ie.getUTCFullYear(),ce.m=Ie.getUTCMonth(),ce.d=Ie.getUTCDate()+(ce.w+6)%7):(Ie=D_(Hu(ce.y,0,1)),wt=Ie.getDay(),Ie=wt>4||wt===0?Zh.ceil(Ie):Zh(Ie),Ie=wf.offset(Ie,(ce.V-1)*7),ce.y=Ie.getFullYear(),ce.m=Ie.getMonth(),ce.d=Ie.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),wt="Z"in ce?L_(Hu(ce.y,0,1)).getUTCDay():D_(Hu(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(wt+5)%7:ce.w+ce.U*7-(wt+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,L_(ce)):D_(ce)}}function D(de,Ce,Ne,ce){for(var pt=0,Ie=Ce.length,wt=Ne.length,St,un;pt<Ie;){if(ce>=wt)return-1;if(St=Ce.charCodeAt(pt++),St===37){if(St=Ce.charAt(pt++),un=R[St in jI?Ce.charAt(pt++):St],!un||(ce=un(de,Ne,ce))<0)return-1}else if(St!=Ne.charCodeAt(ce++))return-1}return ce}function L(de,Ce,Ne){var ce=f.exec(Ce.slice(Ne));return ce?(de.p=h.get(ce[0].toLowerCase()),Ne+ce[0].length):-1}function z(de,Ce,Ne){var ce=b.exec(Ce.slice(Ne));return ce?(de.w=S.get(ce[0].toLowerCase()),Ne+ce[0].length):-1}function B(de,Ce,Ne){var ce=p.exec(Ce.slice(Ne));return ce?(de.w=g.get(ce[0].toLowerCase()),Ne+ce[0].length):-1}function J(de,Ce,Ne){var ce=A.exec(Ce.slice(Ne));return ce?(de.m=O.get(ce[0].toLowerCase()),Ne+ce[0].length):-1}function K(de,Ce,Ne){var ce=E.exec(Ce.slice(Ne));return ce?(de.m=x.get(ce[0].toLowerCase()),Ne+ce[0].length):-1}function G(de,Ce,Ne){return D(de,e,Ce,Ne)}function $(de,Ce,Ne){return D(de,n,Ce,Ne)}function j(de,Ce,Ne){return D(de,r,Ce,Ne)}function F(de){return s[de.getDay()]}function ee(de){return a[de.getDay()]}function ie(de){return c[de.getMonth()]}function ue(de){return u[de.getMonth()]}function U(de){return i[+(de.getHours()>=12)]}function Y(de){return 1+~~(de.getMonth()/3)}function re(de){return s[de.getUTCDay()]}function fe(de){return a[de.getUTCDay()]}function me(de){return c[de.getUTCMonth()]}function xe(de){return u[de.getUTCMonth()]}function je(de){return i[+(de.getUTCHours()>=12)]}function Xe(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var Ce=P(de+="",C);return Ce.toString=function(){return de},Ce},parse:function(de){var Ce=I(de+="",!1);return Ce.toString=function(){return de},Ce},utcFormat:function(de){var Ce=P(de+="",N);return Ce.toString=function(){return de},Ce},utcParse:function(de){var Ce=I(de+="",!0);return Ce.toString=function(){return de},Ce}}}var jI={"-":"",_:" ",0:"0"},Qt=/^\s*\d+/,qY=/^%/,BY=/[\\^$*+?|[\]().{}]/g;function We(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function HY(t){return t.replace(BY,"\\$&")}function zu(t){return new RegExp("^(?:"+t.map(HY).join("|")+")","i")}function Gu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function zY(t,e,n){var r=Qt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function GY(t,e,n){var r=Qt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function VY(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function FY(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function KY(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function UI(t,e,n){var r=Qt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function $I(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function WY(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function YY(t,e,n){var r=Qt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function JY(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function qI(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function XY(t,e,n){var r=Qt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function BI(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function QY(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ZY(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function eJ(t,e,n){var r=Qt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function tJ(t,e,n){var r=Qt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function nJ(t,e,n){var r=qY.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function rJ(t,e,n){var r=Qt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function iJ(t,e,n){var r=Qt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function HI(t,e){return We(t.getDate(),e,2)}function aJ(t,e){return We(t.getHours(),e,2)}function oJ(t,e){return We(t.getHours()%12||12,e,2)}function sJ(t,e){return We(1+wf.count(ji(t),t),e,3)}function D$(t,e){return We(t.getMilliseconds(),e,3)}function lJ(t,e){return D$(t,e)+"000"}function uJ(t,e){return We(t.getMonth()+1,e,2)}function cJ(t,e){return We(t.getMinutes(),e,2)}function fJ(t,e){return We(t.getSeconds(),e,2)}function dJ(t){var e=t.getDay();return e===0?7:e}function hJ(t,e){return We(fm.count(ji(t)-1,t),e,2)}function L$(t){var e=t.getDay();return e>=4||e===0?ll(t):ll.ceil(t)}function pJ(t,e){return t=L$(t),We(ll.count(ji(t),t)+(ji(t).getDay()===4),e,2)}function mJ(t){return t.getDay()}function gJ(t,e){return We(Zh.count(ji(t)-1,t),e,2)}function vJ(t,e){return We(t.getFullYear()%100,e,2)}function yJ(t,e){return t=L$(t),We(t.getFullYear()%100,e,2)}function bJ(t,e){return We(t.getFullYear()%1e4,e,4)}function _J(t,e){var n=t.getDay();return t=n>=4||n===0?ll(t):ll.ceil(t),We(t.getFullYear()%1e4,e,4)}function xJ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+We(e/60|0,"0",2)+We(e%60,"0",2)}function zI(t,e){return We(t.getUTCDate(),e,2)}function wJ(t,e){return We(t.getUTCHours(),e,2)}function SJ(t,e){return We(t.getUTCHours()%12||12,e,2)}function EJ(t,e){return We(1+cm.count(Ui(t),t),e,3)}function j$(t,e){return We(t.getUTCMilliseconds(),e,3)}function TJ(t,e){return j$(t,e)+"000"}function AJ(t,e){return We(t.getUTCMonth()+1,e,2)}function CJ(t,e){return We(t.getUTCMinutes(),e,2)}function OJ(t,e){return We(t.getUTCSeconds(),e,2)}function RJ(t){var e=t.getUTCDay();return e===0?7:e}function NJ(t,e){return We(dm.count(Ui(t)-1,t),e,2)}function U$(t){var e=t.getUTCDay();return e>=4||e===0?ul(t):ul.ceil(t)}function PJ(t,e){return t=U$(t),We(ul.count(Ui(t),t)+(Ui(t).getUTCDay()===4),e,2)}function MJ(t){return t.getUTCDay()}function IJ(t,e){return We(ep.count(Ui(t)-1,t),e,2)}function kJ(t,e){return We(t.getUTCFullYear()%100,e,2)}function DJ(t,e){return t=U$(t),We(t.getUTCFullYear()%100,e,2)}function LJ(t,e){return We(t.getUTCFullYear()%1e4,e,4)}function jJ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ul(t):ul.ceil(t),We(t.getUTCFullYear()%1e4,e,4)}function UJ(){return"+0000"}function GI(){return"%"}function VI(t){return+t}function FI(t){return Math.floor(+t/1e3)}var Ps,$$,q$;$J({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $J(t){return Ps=$Y(t),$$=Ps.format,Ps.parse,q$=Ps.utcFormat,Ps.utcParse,Ps}function qJ(t){return new Date(t)}function BJ(t){return t instanceof Date?+t:+new Date(+t)}function YE(t,e,n,r,i,a,s,u,c,f){var h=DE(),p=h.invert,g=h.domain,b=f(".%L"),S=f(":%S"),E=f("%I:%M"),x=f("%I %p"),A=f("%a %d"),O=f("%b %d"),C=f("%B"),N=f("%Y");function R(P){return(c(P)<P?b:u(P)<P?S:s(P)<P?E:a(P)<P?x:r(P)<P?i(P)<P?A:O:n(P)<P?C:N)(P)}return h.invert=function(P){return new Date(p(P))},h.domain=function(P){return arguments.length?g(Array.from(P,BJ)):g().map(qJ)},h.ticks=function(P){var I=g();return t(I[0],I[I.length-1],P??10)},h.tickFormat=function(P,I){return I==null?R:f(I)},h.nice=function(P){var I=g();return(!P||typeof P.range!="function")&&(P=e(I[0],I[I.length-1],P??10)),P?g(A$(I,P)):h},h.copy=function(){return xf(h,YE(t,e,n,r,i,a,s,u,c,f))},h}function HJ(){return Er.apply(YE(jY,UY,ji,KE,fm,wf,VE,zE,yo,$$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function zJ(){return Er.apply(YE(DY,LY,Ui,WE,dm,cm,FE,GE,yo,q$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function hm(){var t=0,e=1,n,r,i,a,s=Sn,u=!1,c;function f(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(a(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(u=!!p,f):u},f.interpolator=function(p){return arguments.length?(s=p,f):s};function h(p){return function(g){var b,S;return arguments.length?([b,S]=g,s=p(b,S),f):[s(0),s(1)]}}return f.range=h(Dl),f.rangeRound=h(kE),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function Ia(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function B$(){var t=Ma(hm()(Sn));return t.copy=function(){return Ia(t,B$())},Gi.apply(t,arguments)}function H$(){var t=UE(hm()).domain([1,10]);return t.copy=function(){return Ia(t,H$()).base(t.base())},Gi.apply(t,arguments)}function z$(){var t=$E(hm());return t.copy=function(){return Ia(t,z$()).constant(t.constant())},Gi.apply(t,arguments)}function JE(){var t=qE(hm());return t.copy=function(){return Ia(t,JE()).exponent(t.exponent())},Gi.apply(t,arguments)}function GJ(){return JE.apply(null,arguments).exponent(.5)}function G$(){var t=[],e=Sn;function n(r){if(r!=null&&!isNaN(r=+r))return e((bf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ca),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>RW(t,a/r))},n.copy=function(){return G$(e).domain(t)},Gi.apply(n,arguments)}function pm(){var t=0,e=.5,n=1,r=1,i,a,s,u,c,f=Sn,h,p=!1,g;function b(E){return isNaN(E=+E)?g:(E=.5+((E=+h(E))-a)*(r*E<r*a?u:c),f(p?Math.max(0,Math.min(1,E)):E))}b.domain=function(E){return arguments.length?([t,e,n]=E,i=h(t=+t),a=h(e=+e),s=h(n=+n),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,b):[t,e,n]},b.clamp=function(E){return arguments.length?(p=!!E,b):p},b.interpolator=function(E){return arguments.length?(f=E,b):f};function S(E){return function(x){var A,O,C;return arguments.length?([A,O,C]=x,f=nY(E,[A,O,C]),b):[f(0),f(.5),f(1)]}}return b.range=S(Dl),b.rangeRound=S(kE),b.unknown=function(E){return arguments.length?(g=E,b):g},function(E){return h=E,i=E(t),a=E(e),s=E(n),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,b}}function V$(){var t=Ma(pm()(Sn));return t.copy=function(){return Ia(t,V$())},Gi.apply(t,arguments)}function F$(){var t=UE(pm()).domain([.1,1,10]);return t.copy=function(){return Ia(t,F$()).base(t.base())},Gi.apply(t,arguments)}function K$(){var t=$E(pm());return t.copy=function(){return Ia(t,K$()).constant(t.constant())},Gi.apply(t,arguments)}function XE(){var t=qE(pm());return t.copy=function(){return Ia(t,XE()).exponent(t.exponent())},Gi.apply(t,arguments)}function VJ(){return XE.apply(null,arguments).exponent(.5)}const KI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Pc,scaleDiverging:V$,scaleDivergingLog:F$,scaleDivergingPow:XE,scaleDivergingSqrt:VJ,scaleDivergingSymlog:K$,scaleIdentity:T$,scaleImplicit:_w,scaleLinear:Xh,scaleLog:C$,scaleOrdinal:PE,scalePoint:dc,scalePow:BE,scaleQuantile:N$,scaleQuantize:P$,scaleRadial:R$,scaleSequential:B$,scaleSequentialLog:H$,scaleSequentialPow:JE,scaleSequentialQuantile:G$,scaleSequentialSqrt:GJ,scaleSequentialSymlog:z$,scaleSqrt:TY,scaleSymlog:O$,scaleThreshold:M$,scaleTime:HJ,scaleUtc:zJ,tickFormat:E$},Symbol.toStringTag,{value:"Module"}));var j_,WI;function mm(){if(WI)return j_;WI=1;var t=Pl();function e(n,r,i){for(var a=-1,s=n.length;++a<s;){var u=n[a],c=r(u);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,h=u}return h}return j_=e,j_}var U_,YI;function W$(){if(YI)return U_;YI=1;function t(e,n){return e>n}return U_=t,U_}var $_,JI;function FJ(){if(JI)return $_;JI=1;var t=mm(),e=W$(),n=Il();function r(i){return i&&i.length?t(i,n,e):void 0}return $_=r,$_}var KJ=FJ();const gm=Ve(KJ);var q_,XI;function Y$(){if(XI)return q_;XI=1;function t(e,n){return e<n}return q_=t,q_}var B_,QI;function WJ(){if(QI)return B_;QI=1;var t=mm(),e=Y$(),n=Il();function r(i){return i&&i.length?t(i,n,e):void 0}return B_=r,B_}var YJ=WJ();const vm=Ve(YJ);var H_,ZI;function JJ(){if(ZI)return H_;ZI=1;var t=dE(),e=ii(),n=n$(),r=kn();function i(a,s){var u=r(a)?t:n;return u(a,e(s,3))}return H_=i,H_}var z_,e2;function XJ(){if(e2)return z_;e2=1;var t=e$(),e=JJ();function n(r,i){return t(e(r,i),1)}return z_=n,z_}var QJ=XJ();const ZJ=Ve(QJ);var G_,t2;function eX(){if(t2)return G_;t2=1;var t=AE();function e(n,r){return t(n,r)}return G_=e,G_}var tX=eX();const ym=Ve(tX);var Ll=1e9,nX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ZE,_t=!0,_r="[DecimalError] ",wo=_r+"Invalid argument: ",QE=_r+"Exponent out of range: ",jl=Math.floor,lo=Math.pow,rX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jn,Jt=1e7,vt=7,J$=9007199254740991,tp=jl(J$/vt),ge={};ge.absoluteValue=ge.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ge.comparedTo=ge.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ge.decimalPlaces=ge.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*vt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ge.dividedBy=ge.div=function(t){return ki(this,new this.constructor(t))};ge.dividedToIntegerBy=ge.idiv=function(t){var e=this,n=e.constructor;return ut(ki(e,new n(t),0,1),n.precision)};ge.equals=ge.eq=function(t){return!this.cmp(t)};ge.exponent=function(){return Bt(this)};ge.greaterThan=ge.gt=function(t){return this.cmp(t)>0};ge.greaterThanOrEqualTo=ge.gte=function(t){return this.cmp(t)>=0};ge.isInteger=ge.isint=function(){return this.e>this.d.length-2};ge.isNegative=ge.isneg=function(){return this.s<0};ge.isPositive=ge.ispos=function(){return this.s>0};ge.isZero=function(){return this.s===0};ge.lessThan=ge.lt=function(t){return this.cmp(t)<0};ge.lessThanOrEqualTo=ge.lte=function(t){return this.cmp(t)<1};ge.logarithm=ge.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Jn))throw Error(_r+"NaN");if(n.s<1)throw Error(_r+(n.s?"NaN":"-Infinity"));return n.eq(Jn)?new r(0):(_t=!1,e=ki(Lc(n,a),Lc(t,a),a),_t=!0,ut(e,i))};ge.minus=ge.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Z$(e,t):X$(e,(t.s=-t.s,t))};ge.modulo=ge.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(_r+"NaN");return n.s?(_t=!1,e=ki(n,t,0,1).times(t),_t=!0,n.minus(e)):ut(new r(n),i)};ge.naturalExponential=ge.exp=function(){return Q$(this)};ge.naturalLogarithm=ge.ln=function(){return Lc(this)};ge.negated=ge.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ge.plus=ge.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?X$(e,t):Z$(e,(t.s=-t.s,t))};ge.precision=ge.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(wo+t);if(e=Bt(i)+1,r=i.d.length-1,n=r*vt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ge.squareRoot=ge.sqrt=function(){var t,e,n,r,i,a,s,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(_r+"NaN")}for(t=Bt(u),_t=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Qr(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=jl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(ki(u,a,s+2)).times(.5),Qr(a.d).slice(0,s)===(e=Qr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(ut(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(e!="9999")break;s+=4}return _t=!0,ut(r,n)};ge.times=ge.mul=function(t){var e,n,r,i,a,s,u,c,f,h=this,p=h.constructor,g=h.d,b=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,c=g.length,f=b.length,c<f&&(a=g,g=b,b=a,s=c,c=f,f=s),a=[],s=c+f,r=s;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)u=a[i]+b[r]*g[i-r-1]+e,a[i--]=u%Jt|0,e=u/Jt|0;a[i]=(a[i]+e)%Jt|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,_t?ut(t,p.precision):t};ge.toDecimalPlaces=ge.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ti(t,0,Ll),e===void 0?e=r.rounding:ti(e,0,8),ut(n,t+Bt(n)+1,e))};ge.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ro(r,!0):(ti(t,0,Ll),e===void 0?e=i.rounding:ti(e,0,8),r=ut(new i(r),t+1,e),n=Ro(r,!0,t+1)),n};ge.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Ro(i):(ti(t,0,Ll),e===void 0?e=a.rounding:ti(e,0,8),r=ut(new a(i),t+Bt(i)+1,e),n=Ro(r.abs(),!1,t+Bt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ge.toInteger=ge.toint=function(){var t=this,e=t.constructor;return ut(new e(t),Bt(t)+1,e.rounding)};ge.toNumber=function(){return+this};ge.toPower=ge.pow=function(t){var e,n,r,i,a,s,u=this,c=u.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(Jn);if(u=new c(u),!u.s){if(t.s<1)throw Error(_r+"Infinity");return u}if(u.eq(Jn))return u;if(r=c.precision,t.eq(Jn))return ut(u,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=u.s,s){if((n=h<0?-h:h)<=J$){for(i=new c(Jn),e=Math.ceil(r/vt+4),_t=!1;n%2&&(i=i.times(u),r2(i.d,e)),n=jl(n/2),n!==0;)u=u.times(u),r2(u.d,e);return _t=!0,t.s<0?new c(Jn).div(i):ut(i,r)}}else if(a<0)throw Error(_r+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,_t=!1,i=t.times(Lc(u,r+f)),_t=!0,i=Q$(i),i.s=a,i};ge.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Bt(i),r=Ro(i,n<=a.toExpNeg||n>=a.toExpPos)):(ti(t,1,Ll),e===void 0?e=a.rounding:ti(e,0,8),i=ut(new a(i),t,e),n=Bt(i),r=Ro(i,t<=n||n<=a.toExpNeg,t)),r};ge.toSignificantDigits=ge.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ti(t,1,Ll),e===void 0?e=r.rounding:ti(e,0,8)),ut(new r(n),t,e)};ge.toString=ge.valueOf=ge.val=ge.toJSON=ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Bt(t),n=t.constructor;return Ro(t,e<=n.toExpNeg||e>=n.toExpPos)};function X$(t,e){var n,r,i,a,s,u,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),_t?ut(e,p):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,u=f.length):(r=f,i=s,u=c.length),s=Math.ceil(p/vt),u=s>u?s+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=c.length,a=f.length,u-a<0&&(a=u,r=f,f=c,c=r),n=0;a;)n=(c[--a]=c[a]+f[a]+n)/Jt|0,c[a]%=Jt;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,_t?ut(e,p):e}function ti(t,e,n){if(t!==~~t||t<e||t>n)throw Error(wo+t)}function Qr(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=vt-r.length,n&&(a+=wa(n)),a+=r;s=t[e],r=s+"",n=vt-r.length,n&&(a+=wa(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var ki=(function(){function t(r,i){var a,s=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+s,r[u]=a%Jt|0,s=a/Jt|0;return s&&r.unshift(s),r}function e(r,i,a,s){var u,c;if(a!=s)c=a>s?1:-1;else for(u=c=0;u<a;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Jt+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var u,c,f,h,p,g,b,S,E,x,A,O,C,N,R,P,I,D,L=r.constructor,z=r.s==i.s?1:-1,B=r.d,J=i.d;if(!r.s)return new L(r);if(!i.s)throw Error(_r+"Division by zero");for(c=r.e-i.e,I=J.length,R=B.length,b=new L(z),S=b.d=[],f=0;J[f]==(B[f]||0);)++f;if(J[f]>(B[f]||0)&&--c,a==null?O=a=L.precision:s?O=a+(Bt(r)-Bt(i))+1:O=a,O<0)return new L(0);if(O=O/vt+2|0,f=0,I==1)for(h=0,J=J[0],O++;(f<R||h)&&O--;f++)C=h*Jt+(B[f]||0),S[f]=C/J|0,h=C%J|0;else{for(h=Jt/(J[0]+1)|0,h>1&&(J=t(J,h),B=t(B,h),I=J.length,R=B.length),N=I,E=B.slice(0,I),x=E.length;x<I;)E[x++]=0;D=J.slice(),D.unshift(0),P=J[0],J[1]>=Jt/2&&++P;do h=0,u=e(J,E,I,x),u<0?(A=E[0],I!=x&&(A=A*Jt+(E[1]||0)),h=A/P|0,h>1?(h>=Jt&&(h=Jt-1),p=t(J,h),g=p.length,x=E.length,u=e(p,E,g,x),u==1&&(h--,n(p,I<g?D:J,g))):(h==0&&(u=h=1),p=J.slice()),g=p.length,g<x&&p.unshift(0),n(E,p,x),u==-1&&(x=E.length,u=e(J,E,I,x),u<1&&(h++,n(E,I<x?D:J,x))),x=E.length):u===0&&(h++,E=[0]),S[f++]=h,u&&E[0]?E[x++]=B[N]||0:(E=[B[N]],x=1);while((N++<R||E[0]!==void 0)&&O--)}return S[0]||S.shift(),b.e=c,ut(b,s?a+Bt(b)+1:a)}})();function Q$(t,e){var n,r,i,a,s,u,c=0,f=0,h=t.constructor,p=h.precision;if(Bt(t)>16)throw Error(QE+Bt(t));if(!t.s)return new h(Jn);for(_t=!1,u=p,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(r=Math.log(lo(2,f))/Math.LN10*2+5|0,u+=r,n=i=a=new h(Jn),h.precision=u;;){if(i=ut(i.times(t),u),n=n.times(++c),s=a.plus(ki(i,n,u)),Qr(s.d).slice(0,u)===Qr(a.d).slice(0,u)){for(;f--;)a=ut(a.times(a),u);return h.precision=p,e==null?(_t=!0,ut(a,p)):a}a=s}}function Bt(t){for(var e=t.e*vt,n=t.d[0];n>=10;n/=10)e++;return e}function V_(t,e,n){if(e>t.LN10.sd())throw _t=!0,n&&(t.precision=n),Error(_r+"LN10 precision limit exceeded");return ut(new t(t.LN10),e)}function wa(t){for(var e="";t--;)e+="0";return e}function Lc(t,e){var n,r,i,a,s,u,c,f,h,p=1,g=10,b=t,S=b.d,E=b.constructor,x=E.precision;if(b.s<1)throw Error(_r+(b.s?"NaN":"-Infinity"));if(b.eq(Jn))return new E(0);if(e==null?(_t=!1,f=x):f=e,b.eq(10))return e==null&&(_t=!0),V_(E,f);if(f+=g,E.precision=f,n=Qr(S),r=n.charAt(0),a=Bt(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=Qr(b.d),r=n.charAt(0),p++;a=Bt(b),r>1?(b=new E("0."+n),a++):b=new E(r+"."+n.slice(1))}else return c=V_(E,f+2,x).times(a+""),b=Lc(new E(r+"."+n.slice(1)),f-g).plus(c),E.precision=x,e==null?(_t=!0,ut(b,x)):b;for(u=s=b=ki(b.minus(Jn),b.plus(Jn),f),h=ut(b.times(b),f),i=3;;){if(s=ut(s.times(h),f),c=u.plus(ki(s,new E(i),f)),Qr(c.d).slice(0,f)===Qr(u.d).slice(0,f))return u=u.times(2),a!==0&&(u=u.plus(V_(E,f+2,x).times(a+""))),u=ki(u,new E(p),f),E.precision=x,e==null?(_t=!0,ut(u,x)):u;u=c,i+=2}}function n2(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=jl(n/vt),t.d=[],r=(n+1)%vt,n<0&&(r+=vt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=vt;r<i;)t.d.push(+e.slice(r,r+=vt));e=e.slice(r),r=vt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),_t&&(t.e>tp||t.e<-tp))throw Error(QE+n)}else t.s=0,t.e=0,t.d=[0];return t}function ut(t,e,n){var r,i,a,s,u,c,f,h,p=t.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=vt,i=e,f=p[h=0];else{if(h=Math.ceil((r+1)/vt),a=p.length,h>=a)return t;for(f=a=p[h],s=1;a>=10;a/=10)s++;r%=vt,i=r-vt+s}if(n!==void 0&&(a=lo(10,s-i-1),u=f/a%10|0,c=e<0||p[h+1]!==void 0||f%a,c=n<4?(u||c)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?f/lo(10,s-i):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(a=Bt(t),p.length=1,e=e-a-1,p[0]=lo(10,(vt-e%vt)%vt),t.e=jl(-e/vt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=lo(10,vt-r),p[h]=i>0?(f/lo(10,s-i)%lo(10,i)|0)*a:0),c)for(;;)if(h==0){(p[0]+=a)==Jt&&(p[0]=1,++t.e);break}else{if(p[h]+=a,p[h]!=Jt)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(_t&&(t.e>tp||t.e<-tp))throw Error(QE+Bt(t));return t}function Z$(t,e){var n,r,i,a,s,u,c,f,h,p,g=t.constructor,b=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),_t?ut(e,b):e;if(c=t.d,p=e.d,r=e.e,f=t.e,c=c.slice(),s=f-r,s){for(h=s<0,h?(n=c,s=-s,u=p.length):(n=p,r=f,u=c.length),i=Math.max(Math.ceil(b/vt),u)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=p.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}s=0}for(h&&(n=c,c=p,p=n,e.s=-e.s),u=c.length,i=p.length-u;i>0;--i)c[u++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=Jt-1;--c[a],c[i]+=Jt}c[i]-=p[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,_t?ut(e,b):e):new g(0)}function Ro(t,e,n){var r,i=Bt(t),a=Qr(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+wa(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+wa(-i-1)+a,n&&(r=n-s)>0&&(a+=wa(r))):i>=s?(a+=wa(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+wa(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=wa(r))),t.s<0?"-"+a:a}function r2(t,e){if(t.length>e)return t.length=e,!0}function eq(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(wo+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return n2(s,a.toString())}else if(typeof a!="string")throw Error(wo+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,rX.test(a))n2(s,a);else throw Error(wo+a)}if(i.prototype=ge,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=eq,i.config=i.set=iX,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function iX(t){if(!t||typeof t!="object")throw Error(_r+"Object expected");var e,n,r,i=["precision",1,Ll,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(jl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(wo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(wo+n+": "+r);return this}var ZE=eq(nX);Jn=new ZE(1);const st=ZE;function aX(t){return uX(t)||lX(t)||sX(t)||oX()}function oX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sX(t,e){if(t){if(typeof t=="string")return Ew(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ew(t,e)}}function lX(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function uX(t){if(Array.isArray(t))return Ew(t)}function Ew(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var cX=function(e){return e},tq={},nq=function(e){return e===tq},i2=function(e){return function n(){return arguments.length===0||arguments.length===1&&nq(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},fX=function t(e,n){return e===1?n:i2(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(u){return u!==tq}).length;return s>=e?n.apply(void 0,i):t(e-s,i2(function(){for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];var h=i.map(function(p){return nq(p)?c.shift():p});return n.apply(void 0,aX(h).concat(c))}))})},bm=function(e){return fX(e.length,e)},Tw=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},dX=bm(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),hX=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return cX;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(u,c){return c(u)},a.apply(void 0,arguments))}},Aw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},rq=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(u,c){return u===n[c]})||(n=a,r=e.apply(void 0,a)),r}};function pX(t){var e;return t===0?e=1:e=Math.floor(new st(t).abs().log(10).toNumber())+1,e}function mX(t,e,n){for(var r=new st(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var gX=bm(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),vX=bm(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),yX=bm(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const _m={rangeStep:mX,getDigitCount:pX,interpolateNumber:gX,uninterpolateNumber:vX,uninterpolateTruncation:yX};function Cw(t){return xX(t)||_X(t)||iq(t)||bX()}function bX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _X(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function xX(t){if(Array.isArray(t))return Ow(t)}function jc(t,e){return EX(t)||SX(t,e)||iq(t,e)||wX()}function wX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iq(t,e){if(t){if(typeof t=="string")return Ow(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ow(t,e)}}function Ow(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SX(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),u;!(r=(u=s.next()).done)&&(n.push(u.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function EX(t){if(Array.isArray(t))return t}function aq(t){var e=jc(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function oq(t,e,n){if(t.lte(0))return new st(0);var r=_m.getDigitCount(t.toNumber()),i=new st(10).pow(r),a=t.div(i),s=r!==1?.05:.1,u=new st(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=u.mul(i);return e?c:new st(Math.ceil(c))}function TX(t,e,n){var r=1,i=new st(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new st(10).pow(_m.getDigitCount(t)-1),i=new st(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new st(Math.floor(t)))}else t===0?i=new st(Math.floor((e-1)/2)):n||(i=new st(Math.floor(t)));var s=Math.floor((e-1)/2),u=hX(dX(function(c){return i.add(new st(c-s).mul(r)).toNumber()}),Tw);return u(0,e)}function sq(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new st(0),tickMin:new st(0),tickMax:new st(0)};var a=oq(new st(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new st(0):(s=new st(t).add(e).div(2),s=s.sub(new st(s).mod(a)));var u=Math.ceil(s.sub(t).div(a).toNumber()),c=Math.ceil(new st(e).sub(s).div(a).toNumber()),f=u+c+1;return f>n?sq(t,e,n,r,i+1):(f<n&&(c=e>0?c+(n-f):c,u=e>0?u:u+(n-f)),{step:a,tickMin:s.sub(new st(u).mul(a)),tickMax:s.add(new st(c).mul(a))})}function AX(t){var e=jc(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),u=aq([n,r]),c=jc(u,2),f=c[0],h=c[1];if(f===-1/0||h===1/0){var p=h===1/0?[f].concat(Cw(Tw(0,i-1).map(function(){return 1/0}))):[].concat(Cw(Tw(0,i-1).map(function(){return-1/0})),[h]);return n>r?Aw(p):p}if(f===h)return TX(f,i,a);var g=sq(f,h,s,a),b=g.step,S=g.tickMin,E=g.tickMax,x=_m.rangeStep(S,E.add(new st(.1).mul(b)),b);return n>r?Aw(x):x}function CX(t,e){var n=jc(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=aq([r,i]),u=jc(s,2),c=u[0],f=u[1];if(c===-1/0||f===1/0)return[r,i];if(c===f)return[c];var h=Math.max(e,2),p=oq(new st(f).sub(c).div(h-1),a,0),g=[].concat(Cw(_m.rangeStep(new st(c),new st(f).sub(new st(.99).mul(p)),p)),[f]);return r>i?Aw(g):g}var OX=rq(AX),RX=rq(CX),NX="Invariant failed";function No(t,e){throw new Error(NX)}var PX=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function cl(t){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(t)}function np(){return np=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},np.apply(this,arguments)}function MX(t,e){return LX(t)||DX(t,e)||kX(t,e)||IX()}function IX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kX(t,e){if(t){if(typeof t=="string")return a2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a2(t,e)}}function a2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function LX(t){if(Array.isArray(t))return t}function jX(t,e){if(t==null)return{};var n=UX(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $X(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cq(r.key),r)}}function BX(t,e,n){return e&&qX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HX(t,e,n){return e=rp(e),zX(t,lq()?Reflect.construct(e,n||[],rp(t).constructor):e.apply(t,n))}function zX(t,e){if(e&&(cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GX(t)}function GX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lq=function(){return!!t})()}function rp(t){return rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rp(t)}function VX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rw(t,e)}function Rw(t,e){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Rw(t,e)}function uq(t,e,n){return e=cq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cq(t){var e=FX(t,"string");return cl(e)=="symbol"?e:e+""}function FX(t,e){if(cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xm=(function(t){function e(){return $X(this,e),HX(this,e,arguments)}return VX(e,t),BX(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,u=r.dataKey,c=r.data,f=r.dataPointFormatter,h=r.xAxis,p=r.yAxis,g=jX(r,PX),b=Ae(g,!1);this.props.direction==="x"&&h.type!=="number"&&No();var S=c.map(function(E){var x=f(E,u),A=x.x,O=x.y,C=x.value,N=x.errorVal;if(!N)return null;var R=[],P,I;if(Array.isArray(N)){var D=MX(N,2);P=D[0],I=D[1]}else P=I=N;if(a==="vertical"){var L=h.scale,z=O+i,B=z+s,J=z-s,K=L(C-P),G=L(C+I);R.push({x1:G,y1:B,x2:G,y2:J}),R.push({x1:K,y1:z,x2:G,y2:z}),R.push({x1:K,y1:B,x2:K,y2:J})}else if(a==="horizontal"){var $=p.scale,j=A+i,F=j-s,ee=j+s,ie=$(C-P),ue=$(C+I);R.push({x1:F,y1:ue,x2:ee,y2:ue}),R.push({x1:j,y1:ie,x2:j,y2:ue}),R.push({x1:F,y1:ie,x2:ee,y2:ie})}return V.createElement(rt,np({className:"recharts-errorBar",key:"bar-".concat(R.map(function(U){return"".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))},b),R.map(function(U){return V.createElement("line",np({},U,{key:"line-".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))}))});return V.createElement(rt,{className:"recharts-errorBars"},S)}}])})(V.Component);uq(xm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});uq(xm,"displayName","ErrorBar");function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function o2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o2(Object(n),!0).forEach(function(r){KX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KX(t,e,n){return e=WX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WX(t){var e=YX(t,"string");return Uc(e)=="symbol"?e:e+""}function YX(t,e){if(Uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fq=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Fn(n,Aa);if(!s)return null;var u=Aa.defaultProps,c=u!==void 0?ro(ro({},u),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:a==="children"?f=(r||[]).reduce(function(h,p){var g=p.item,b=p.props,S=b.sectors||b.data||[];return h.concat(S.map(function(E){return{type:s.props.iconType||g.props.legendType,value:E.name,color:E.fill,payload:E}}))},[]):f=(r||[]).map(function(h){var p=h.item,g=p.type.defaultProps,b=g!==void 0?ro(ro({},g),p.props):{},S=b.dataKey,E=b.name,x=b.legendType,A=b.hide;return{inactive:A,dataKey:S,type:c.iconType||x||"square",color:eT(p),value:E||S,payload:b}}),ro(ro(ro({},c),Aa.getWithHeight(s,i)),{},{payload:f,item:s})};function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}function s2(t){return ZX(t)||QX(t)||XX(t)||JX()}function JX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XX(t,e){if(t){if(typeof t=="string")return Nw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nw(t,e)}}function QX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZX(t){if(Array.isArray(t))return Nw(t)}function Nw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l2(Object(n),!0).forEach(function(r){Xs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xs(t,e,n){return e=eQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eQ(t){var e=tQ(t,"string");return $c(e)=="symbol"?e:e+""}function tQ(t,e){if($c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mn(t,e,n){return Ue(t)||Ue(e)?n:Ft(e)?Xn(t,e,n):Oe(e)?e(t):n}function hc(t,e,n,r){var i=ZJ(t,function(u){return mn(u,e)});if(n==="number"){var a=i.filter(function(u){return he(u)||parseFloat(u)});return a.length?[vm(a),gm(a)]:[1/0,-1/0]}var s=r?i.filter(function(u){return!Ue(u)}):i;return s.map(function(u){return Ft(u)||u instanceof Date?u:""})}var nQ=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,u=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(u<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,f=0;f<u;f++){var h=f>0?i[f-1].coordinate:i[u-1].coordinate,p=i[f].coordinate,g=f>=u-1?i[0].coordinate:i[f+1].coordinate,b=void 0;if(xn(p-h)!==xn(g-p)){var S=[];if(xn(g-p)===xn(c[1]-c[0])){b=g;var E=p+c[1]-c[0];S[0]=Math.min(E,(E+h)/2),S[1]=Math.max(E,(E+h)/2)}else{b=h;var x=g+c[1]-c[0];S[0]=Math.min(p,(x+p)/2),S[1]=Math.max(p,(x+p)/2)}var A=[Math.min(p,(b+p)/2),Math.max(p,(b+p)/2)];if(e>A[0]&&e<=A[1]||e>=S[0]&&e<=S[1]){s=i[f].index;break}}else{var O=Math.min(h,g),C=Math.max(h,g);if(e>(O+p)/2&&e<=(C+p)/2){s=i[f].index;break}}}else for(var N=0;N<u;N++)if(N===0&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<u-1&&e>(r[N].coordinate+r[N-1].coordinate)/2&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N===u-1&&e>(r[N].coordinate+r[N-1].coordinate)/2){s=r[N].index;break}return s},eT=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Nt(Nt({},e.type.defaultProps),e.props):e.props,s=a.stroke,u=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:u;break;default:c=u;break}return c},rQ=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},u=Object.keys(a),c=0,f=u.length;c<f;c++)for(var h=a[u[c]].stackGroups,p=Object.keys(h),g=0,b=p.length;g<b;g++){var S=h[p[g]],E=S.items,x=S.cateAxisId,A=E.filter(function(I){return Ii(I.type).indexOf("Bar")>=0});if(A&&A.length){var O=A[0].type.defaultProps,C=O!==void 0?Nt(Nt({},O),A[0].props):A[0].props,N=C.barSize,R=C[x];s[R]||(s[R]=[]);var P=Ue(N)?n:N;s[R].push({item:A[0],stackList:A.slice(1),barSize:Ue(P)?void 0:wn(P,r,0)})}}return s},iQ=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,u=e.maxBarSize,c=s.length;if(c<1)return null;var f=wn(n,i,0,!0),h,p=[];if(s[0].barSize===+s[0].barSize){var g=!1,b=i/c,S=s.reduce(function(N,R){return N+R.barSize||0},0);S+=(c-1)*f,S>=i&&(S-=(c-1)*f,f=0),S>=i&&b>0&&(g=!0,b*=.9,S=c*b);var E=(i-S)/2>>0,x={offset:E-f,size:0};h=s.reduce(function(N,R){var P={item:R.item,position:{offset:x.offset+x.size+f,size:g?b:R.barSize}},I=[].concat(s2(N),[P]);return x=I[I.length-1].position,R.stackList&&R.stackList.length&&R.stackList.forEach(function(D){I.push({item:D,position:x})}),I},p)}else{var A=wn(r,i,0,!0);i-2*A-(c-1)*f<=0&&(f=0);var O=(i-2*A-(c-1)*f)/c;O>1&&(O>>=0);var C=u===+u?Math.min(O,u):O;h=s.reduce(function(N,R,P){var I=[].concat(s2(N),[{item:R.item,position:{offset:A+(O+f)*P+(O-C)/2,size:C}}]);return R.stackList&&R.stackList.length&&R.stackList.forEach(function(D){I.push({item:D,position:I[I.length-1].position})}),I},p)}return h},aQ=function(e,n,r,i){var a=r.children,s=r.width,u=r.margin,c=s-(u.left||0)-(u.right||0),f=fq({children:a,legendWidth:c});if(f){var h=i||{},p=h.width,g=h.height,b=f.align,S=f.verticalAlign,E=f.layout;if((E==="vertical"||E==="horizontal"&&S==="middle")&&b!=="center"&&he(e[b]))return Nt(Nt({},e),{},Xs({},b,e[b]+(p||0)));if((E==="horizontal"||E==="vertical"&&b==="center")&&S!=="middle"&&he(e[S]))return Nt(Nt({},e),{},Xs({},S,e[S]+(g||0)))}return e},oQ=function(e,n,r){return Ue(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},dq=function(e,n,r,i,a){var s=n.props.children,u=vr(s,xm).filter(function(f){return oQ(i,a,f.props.direction)});if(u&&u.length){var c=u.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var p=mn(h,r);if(Ue(p))return f;var g=Array.isArray(p)?[vm(p),gm(p)]:[p,p],b=c.reduce(function(S,E){var x=mn(h,E,0),A=g[0]-Math.abs(Array.isArray(x)?x[0]:x),O=g[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(A,S[0]),Math.max(O,S[1])]},[1/0,-1/0]);return[Math.min(b[0],f[0]),Math.max(b[1],f[1])]},[1/0,-1/0])}return null},sQ=function(e,n,r,i,a){var s=n.map(function(u){return dq(e,u,r,a,i)}).filter(function(u){return!Ue(u)});return s&&s.length?s.reduce(function(u,c){return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]):null},hq=function(e,n,r,i,a){var s=n.map(function(c){var f=c.props.dataKey;return r==="number"&&f&&dq(e,c,f,i)||hc(e,f,r,a)});if(r==="number")return s.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var u={};return s.reduce(function(c,f){for(var h=0,p=f.length;h<p;h++)u[f[h]]||(u[f[h]]=!0,c.push(f[h]));return c},[])},pq=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},mq=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var a,s,u=e.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(s=!0),c.coordinate});return a||u.push(n),s||u.push(r),u},Pi=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,u=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?xn(u[0]-u[1])*2*f:f,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(p){var g=a?a.indexOf(p):p;return{coordinate:i(g)+f,value:p,offset:f}});return h.filter(function(p){return!gf(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,g){return{coordinate:i(p)+f,value:p,index:g,offset:f}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+f,value:p,offset:f}}):i.domain().map(function(p,g){return{coordinate:i(p)+f,value:a?a[p]:p,index:g,offset:f}})},F_=new WeakMap,th=function(e,n){if(typeof n!="function")return e;F_.has(e)||F_.set(e,new WeakMap);var r=F_.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},gq=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,u=e.axisType;if(i==="auto")return s==="radial"&&u==="radiusAxis"?{scale:Pc(),realScaleType:"band"}:s==="radial"&&u==="angleAxis"?{scale:Xh(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:dc(),realScaleType:"point"}:a==="category"?{scale:Pc(),realScaleType:"band"}:{scale:Xh(),realScaleType:"linear"};if(To(i)){var c="scale".concat(nm(i));return{scale:(KI[c]||dc)(),realScaleType:KI[c]?c:"point"}}return Oe(i)?{scale:i}:{scale:dc(),realScaleType:"point"}},u2=1e-4,vq=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-u2,s=Math.max(i[0],i[1])+u2,u=e(n[0]),c=e(n[r-1]);(u<a||u>s||c<a||c>s)&&e.domain([n[0],n[r-1]])}},lQ=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},uQ=function(e,n){if(!n||n.length!==2||!he(n[0])||!he(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!he(e[0])||e[0]<r)&&(a[0]=r),(!he(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},cQ=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,u=0;u<n;++u){var c=gf(e[u][r][1])?e[u][r][0]:e[u][r][1];c>=0?(e[u][r][0]=a,e[u][r][1]=a+c,a=e[u][r][1]):(e[u][r][0]=s,e[u][r][1]=s+c,s=e[u][r][1])}},fQ=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var u=gf(e[s][r][1])?e[s][r][0]:e[s][r][1];u>=0?(e[s][r][0]=a,e[s][r][1]=a+u,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},dQ={sign:cQ,expand:QF,none:tl,silhouette:ZF,wiggle:e9,positive:fQ},hQ=function(e,n,r){var i=n.map(function(u){return u.props.dataKey}),a=dQ[r],s=XF().keys(i).value(function(u,c){return+mn(u,c,0)}).order(ow).offset(a);return s(e)},pQ=function(e,n,r,i,a,s){if(!e)return null;var u=s?n.reverse():n,c={},f=u.reduce(function(p,g){var b,S=(b=g.type)!==null&&b!==void 0&&b.defaultProps?Nt(Nt({},g.type.defaultProps),g.props):g.props,E=S.stackId,x=S.hide;if(x)return p;var A=S[r],O=p[A]||{hasStack:!1,stackGroups:{}};if(Ft(E)){var C=O.stackGroups[E]||{numericAxisId:r,cateAxisId:i,items:[]};C.items.push(g),O.hasStack=!0,O.stackGroups[E]=C}else O.stackGroups[vf("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[g]};return Nt(Nt({},p),{},Xs({},A,O))},c),h={};return Object.keys(f).reduce(function(p,g){var b=f[g];if(b.hasStack){var S={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(E,x){var A=b.stackGroups[x];return Nt(Nt({},E),{},Xs({},x,{numericAxisId:r,cateAxisId:i,items:A.items,stackedData:hQ(e,A.items,a)}))},S)}return Nt(Nt({},p),{},Xs({},g,b))},h)},yq=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,u=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=OX(f,a,u);return e.domain([vm(h),gm(h)]),{niceTicks:h}}if(a&&i==="number"){var p=e.domain(),g=RX(p,a,u);return{niceTicks:g}}return null},c2=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,u=e.index;if(n.type==="category")return r[u]?r[u].coordinate+i:null;var c=mn(s,n.dataKey,n.domain[u]);return Ue(c)?null:n.scale(c)-a/2+i},mQ=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},gQ=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Nt(Nt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Ft(a)){var s=n[a];if(s){var u=s.items.indexOf(e);return u>=0?s.stackedData[u]:null}}return null},vQ=function(e){return e.reduce(function(n,r){return[vm(r.concat([n[0]]).filter(he)),gm(r.concat([n[1]]).filter(he))]},[1/0,-1/0])},bq=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],u=s.stackedData,c=u.reduce(function(f,h){var p=vQ(h.slice(n,r+1));return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},f2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,d2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Pw=function(e,n,r){if(Oe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(he(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(f2.test(e[0])){var a=+f2.exec(e[0])[1];i[0]=n[0]-a}else Oe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(he(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(d2.test(e[1])){var s=+d2.exec(e[1])[1];i[1]=n[1]+s}else Oe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},ip=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=OE(n,function(p){return p.coordinate}),s=1/0,u=1,c=a.length;u<c;u++){var f=a[u],h=a[u-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},h2=function(e,n,r){return!e||!e.length||ym(e,Xn(r,"type.defaultProps.domain"))?n:e},_q=function(e,n){var r=e.type.defaultProps?Nt(Nt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,u=r.formatter,c=r.tooltipType,f=r.chartType,h=r.hide;return Nt(Nt({},Ae(e,!1)),{},{dataKey:i,unit:s,formatter:u,name:a||i,color:eT(e),value:mn(n,i),type:c,payload:n,chartType:f,hide:h})};function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function p2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ci(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p2(Object(n),!0).forEach(function(r){xq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xq(t,e,n){return e=yQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yQ(t){var e=bQ(t,"string");return qc(e)=="symbol"?e:e+""}function bQ(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Q(t,e){return EQ(t)||SQ(t,e)||wQ(t,e)||xQ()}function xQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wQ(t,e){if(t){if(typeof t=="string")return m2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m2(t,e)}}function m2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function EQ(t){if(Array.isArray(t))return t}var ap=Math.PI/180,TQ=function(e){return e*180/Math.PI},ht=function(e,n,r,i){return{x:e+Math.cos(-ap*i)*r,y:n+Math.sin(-ap*i)*r}},wq=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},AQ=function(e,n,r,i,a){var s=e.width,u=e.height,c=e.startAngle,f=e.endAngle,h=wn(e.cx,s,s/2),p=wn(e.cy,u,u/2),g=wq(s,u,r),b=wn(e.innerRadius,g,0),S=wn(e.outerRadius,g,g*.8),E=Object.keys(n);return E.reduce(function(x,A){var O=n[A],C=O.domain,N=O.reversed,R;if(Ue(O.range))i==="angleAxis"?R=[c,f]:i==="radiusAxis"&&(R=[b,S]),N&&(R=[R[1],R[0]]);else{R=O.range;var P=R,I=_Q(P,2);c=I[0],f=I[1]}var D=gq(O,a),L=D.realScaleType,z=D.scale;z.domain(C).range(R),vq(z);var B=yq(z,Ci(Ci({},O),{},{realScaleType:L})),J=Ci(Ci(Ci({},O),B),{},{range:R,radius:S,realScaleType:L,scale:z,cx:h,cy:p,innerRadius:b,outerRadius:S,startAngle:c,endAngle:f});return Ci(Ci({},x),{},xq({},A,J))},{})},CQ=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},OQ=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,u=CQ({x:r,y:i},{x:a,y:s});if(u<=0)return{radius:u};var c=(r-a)/u,f=Math.acos(c);return i>s&&(f=2*Math.PI-f),{radius:u,angle:TQ(f),angleInRadian:f}},RQ=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},NQ=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),u=Math.min(a,s);return e+u*360},g2=function(e,n){var r=e.x,i=e.y,a=OQ({x:r,y:i},n),s=a.radius,u=a.angle,c=n.innerRadius,f=n.outerRadius;if(s<c||s>f)return!1;if(s===0)return!0;var h=RQ(n),p=h.startAngle,g=h.endAngle,b=u,S;if(p<=g){for(;b>g;)b-=360;for(;b<p;)b+=360;S=b>=p&&b<=g}else{for(;b>p;)b-=360;for(;b<g;)b+=360;S=b>=g&&b<=p}return S?Ci(Ci({},n),{},{radius:s,angle:NQ(b,n)}):null},Sq=function(e){return!q.isValidElement(e)&&!Oe(e)&&typeof e!="boolean"?e.className:""};function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}var PQ=["offset"];function MQ(t){return LQ(t)||DQ(t)||kQ(t)||IQ()}function IQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kQ(t,e){if(t){if(typeof t=="string")return Mw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mw(t,e)}}function DQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LQ(t){if(Array.isArray(t))return Mw(t)}function Mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jQ(t,e){if(t==null)return{};var n=UQ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function v2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v2(Object(n),!0).forEach(function(r){$Q(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Q(t,e,n){return e=qQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qQ(t){var e=BQ(t,"string");return Bc(e)=="symbol"?e:e+""}function BQ(t,e){if(Bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hc(){return Hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hc.apply(this,arguments)}var HQ=function(e){var n=e.value,r=e.formatter,i=Ue(e.children)?n:e.children;return Oe(r)?r(i):i},zQ=function(e,n){var r=xn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},GQ=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,u=e.className,c=a,f=c.cx,h=c.cy,p=c.innerRadius,g=c.outerRadius,b=c.startAngle,S=c.endAngle,E=c.clockWise,x=(p+g)/2,A=zQ(b,S),O=A>=0?1:-1,C,N;i==="insideStart"?(C=b+O*s,N=E):i==="insideEnd"?(C=S-O*s,N=!E):i==="end"&&(C=S+O*s,N=E),N=A<=0?N:!N;var R=ht(f,h,x,C),P=ht(f,h,x,C+(N?1:-1)*359),I="M".concat(R.x,",").concat(R.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(N?0:1,`,
    `).concat(P.x,",").concat(P.y),D=Ue(e.id)?vf("recharts-radial-line-"):e.id;return V.createElement("text",Hc({},r,{dominantBaseline:"central",className:Le("recharts-radial-bar-label",u)}),V.createElement("defs",null,V.createElement("path",{id:D,d:I})),V.createElement("textPath",{xlinkHref:"#".concat(D)},n))},VQ=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,u=a.cy,c=a.innerRadius,f=a.outerRadius,h=a.startAngle,p=a.endAngle,g=(h+p)/2;if(i==="outside"){var b=ht(s,u,f+r,g),S=b.x,E=b.y;return{x:S,y:E,textAnchor:S>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"end"};var x=(c+f)/2,A=ht(s,u,x,g),O=A.x,C=A.y;return{x:O,y:C,textAnchor:"middle",verticalAnchor:"middle"}},FQ=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,u=s.x,c=s.y,f=s.width,h=s.height,p=h>=0?1:-1,g=p*i,b=p>0?"end":"start",S=p>0?"start":"end",E=f>=0?1:-1,x=E*i,A=E>0?"end":"start",O=E>0?"start":"end";if(a==="top"){var C={x:u+f/2,y:c-p*i,textAnchor:"middle",verticalAnchor:b};return Gt(Gt({},C),r?{height:Math.max(c-r.y,0),width:f}:{})}if(a==="bottom"){var N={x:u+f/2,y:c+h+g,textAnchor:"middle",verticalAnchor:S};return Gt(Gt({},N),r?{height:Math.max(r.y+r.height-(c+h),0),width:f}:{})}if(a==="left"){var R={x:u-x,y:c+h/2,textAnchor:A,verticalAnchor:"middle"};return Gt(Gt({},R),r?{width:Math.max(R.x-r.x,0),height:h}:{})}if(a==="right"){var P={x:u+f+x,y:c+h/2,textAnchor:O,verticalAnchor:"middle"};return Gt(Gt({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:h}:{})}var I=r?{width:f,height:h}:{};return a==="insideLeft"?Gt({x:u+x,y:c+h/2,textAnchor:O,verticalAnchor:"middle"},I):a==="insideRight"?Gt({x:u+f-x,y:c+h/2,textAnchor:A,verticalAnchor:"middle"},I):a==="insideTop"?Gt({x:u+f/2,y:c+g,textAnchor:"middle",verticalAnchor:S},I):a==="insideBottom"?Gt({x:u+f/2,y:c+h-g,textAnchor:"middle",verticalAnchor:b},I):a==="insideTopLeft"?Gt({x:u+x,y:c+g,textAnchor:O,verticalAnchor:S},I):a==="insideTopRight"?Gt({x:u+f-x,y:c+g,textAnchor:A,verticalAnchor:S},I):a==="insideBottomLeft"?Gt({x:u+x,y:c+h-g,textAnchor:O,verticalAnchor:b},I):a==="insideBottomRight"?Gt({x:u+f-x,y:c+h-g,textAnchor:A,verticalAnchor:b},I):Ml(a)&&(he(a.x)||go(a.x))&&(he(a.y)||go(a.y))?Gt({x:u+wn(a.x,f),y:c+wn(a.y,h),textAnchor:"end",verticalAnchor:"end"},I):Gt({x:u+f/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},I)},KQ=function(e){return"cx"in e&&he(e.cx)};function Xt(t){var e=t.offset,n=e===void 0?5:e,r=jQ(t,PQ),i=Gt({offset:n},r),a=i.viewBox,s=i.position,u=i.value,c=i.children,f=i.content,h=i.className,p=h===void 0?"":h,g=i.textBreakAll;if(!a||Ue(u)&&Ue(c)&&!q.isValidElement(f)&&!Oe(f))return null;if(q.isValidElement(f))return q.cloneElement(f,i);var b;if(Oe(f)){if(b=q.createElement(f,i),q.isValidElement(b))return b}else b=HQ(i);var S=KQ(a),E=Ae(i,!0);if(S&&(s==="insideStart"||s==="insideEnd"||s==="end"))return GQ(i,b,E);var x=S?VQ(i):FQ(i);return V.createElement(Co,Hc({className:Le("recharts-label",p)},E,x,{breakAll:g}),b)}Xt.displayName="Label";var Eq=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,u=e.r,c=e.radius,f=e.innerRadius,h=e.outerRadius,p=e.x,g=e.y,b=e.top,S=e.left,E=e.width,x=e.height,A=e.clockWise,O=e.labelViewBox;if(O)return O;if(he(E)&&he(x)){if(he(p)&&he(g))return{x:p,y:g,width:E,height:x};if(he(b)&&he(S))return{x:b,y:S,width:E,height:x}}return he(p)&&he(g)?{x:p,y:g,width:0,height:0}:he(n)&&he(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:h||c||u||0,clockWise:A}:e.viewBox?e.viewBox:{}},WQ=function(e,n){return e?e===!0?V.createElement(Xt,{key:"label-implicit",viewBox:n}):Ft(e)?V.createElement(Xt,{key:"label-implicit",viewBox:n,value:e}):q.isValidElement(e)?e.type===Xt?q.cloneElement(e,{key:"label-implicit",viewBox:n}):V.createElement(Xt,{key:"label-implicit",content:e,viewBox:n}):Oe(e)?V.createElement(Xt,{key:"label-implicit",content:e,viewBox:n}):Ml(e)?V.createElement(Xt,Hc({viewBox:n},e,{key:"label-implicit"})):null:null},YQ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=Eq(e),s=vr(i,Xt).map(function(c,f){return q.cloneElement(c,{viewBox:n||a,key:"label-".concat(f)})});if(!r)return s;var u=WQ(e.label,n||a);return[u].concat(MQ(s))};Xt.parseViewBox=Eq;Xt.renderCallByParent=YQ;var K_,y2;function JQ(){if(y2)return K_;y2=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return K_=t,K_}var XQ=JQ();const QQ=Ve(XQ);function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}var ZQ=["valueAccessor"],eZ=["data","dataKey","clockWise","id","textBreakAll"];function tZ(t){return aZ(t)||iZ(t)||rZ(t)||nZ()}function nZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rZ(t,e){if(t){if(typeof t=="string")return Iw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iw(t,e)}}function iZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aZ(t){if(Array.isArray(t))return Iw(t)}function Iw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function op(){return op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},op.apply(this,arguments)}function b2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b2(Object(n),!0).forEach(function(r){oZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oZ(t,e,n){return e=sZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sZ(t){var e=lZ(t,"string");return zc(e)=="symbol"?e:e+""}function lZ(t,e){if(zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x2(t,e){if(t==null)return{};var n=uZ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var cZ=function(e){return Array.isArray(e.value)?QQ(e.value):e.value};function Oa(t){var e=t.valueAccessor,n=e===void 0?cZ:e,r=x2(t,ZQ),i=r.data,a=r.dataKey,s=r.clockWise,u=r.id,c=r.textBreakAll,f=x2(r,eZ);return!i||!i.length?null:V.createElement(rt,{className:"recharts-label-list"},i.map(function(h,p){var g=Ue(a)?n(h,p):mn(h&&h.payload,a),b=Ue(u)?{}:{id:"".concat(u,"-").concat(p)};return V.createElement(Xt,op({},Ae(h,!0),f,b,{parentViewBox:h.parentViewBox,value:g,textBreakAll:c,viewBox:Xt.parseViewBox(Ue(s)?h:_2(_2({},h),{},{clockWise:s})),key:"label-".concat(p),index:p}))}))}Oa.displayName="LabelList";function fZ(t,e){return t?t===!0?V.createElement(Oa,{key:"labelList-implicit",data:e}):V.isValidElement(t)||Oe(t)?V.createElement(Oa,{key:"labelList-implicit",data:e,content:t}):Ml(t)?V.createElement(Oa,op({data:e},t,{key:"labelList-implicit"})):null:null}function dZ(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=vr(r,Oa).map(function(s,u){return q.cloneElement(s,{data:e,key:"labelList-".concat(u)})});if(!n)return i;var a=fZ(t.label,e);return[a].concat(tZ(i))}Oa.renderCallByParent=dZ;function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function kw(){return kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kw.apply(this,arguments)}function w2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w2(Object(n),!0).forEach(function(r){hZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hZ(t,e,n){return e=pZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pZ(t){var e=mZ(t,"string");return Gc(e)=="symbol"?e:e+""}function mZ(t,e){if(Gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gZ=function(e,n){var r=xn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},nh=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,u=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,h=c*(u?1:-1)+i,p=Math.asin(c/h)/ap,g=f?a:a+s*p,b=ht(n,r,h,g),S=ht(n,r,i,g),E=f?a-s*p:a,x=ht(n,r,h*Math.cos(p*ap),E);return{center:b,circleTangency:S,lineTangency:x,theta:p}},Tq=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,u=e.endAngle,c=gZ(s,u),f=s+c,h=ht(n,r,a,s),p=ht(n,r,a,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var b=ht(n,r,i,s),S=ht(n,r,i,f);g+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(b.x,",").concat(b.y," Z")}else g+="L ".concat(n,",").concat(r," Z");return g},vZ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,u=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,p=xn(h-f),g=nh({cx:n,cy:r,radius:a,angle:f,sign:p,cornerRadius:s,cornerIsExternal:c}),b=g.circleTangency,S=g.lineTangency,E=g.theta,x=nh({cx:n,cy:r,radius:a,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:c}),A=x.circleTangency,O=x.lineTangency,C=x.theta,N=c?Math.abs(f-h):Math.abs(f-h)-E-C;if(N<0)return u?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):Tq({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h});var R="M ".concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(O.x,",").concat(O.y,`
  `);if(i>0){var P=nh({cx:n,cy:r,radius:i,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),I=P.circleTangency,D=P.lineTangency,L=P.theta,z=nh({cx:n,cy:r,radius:i,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),B=z.circleTangency,J=z.lineTangency,K=z.theta,G=c?Math.abs(f-h):Math.abs(f-h)-L-K;if(G<0&&s===0)return"".concat(R,"L").concat(n,",").concat(r,"Z");R+="L".concat(J.x,",").concat(J.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(B.x,",").concat(B.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(G>180),",").concat(+(p>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,"Z")}else R+="L".concat(n,",").concat(r,"Z");return R},yZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Aq=function(e){var n=S2(S2({},yZ),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,u=n.cornerRadius,c=n.forceCornerRadius,f=n.cornerIsExternal,h=n.startAngle,p=n.endAngle,g=n.className;if(s<a||h===p)return null;var b=Le("recharts-sector",g),S=s-a,E=wn(u,S,0,!0),x;return E>0&&Math.abs(h-p)<360?x=vZ({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(E,S/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:p}):x=Tq({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:h,endAngle:p}),V.createElement("path",kw({},Ae(n,!0),{className:b,d:x,role:"img"}))};function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function Dw(){return Dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dw.apply(this,arguments)}function E2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(n),!0).forEach(function(r){bZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bZ(t,e,n){return e=_Z(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Z(t){var e=xZ(t,"string");return Vc(e)=="symbol"?e:e+""}function xZ(t,e){if(Vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A2={curveBasisClosed:qF,curveBasisOpen:BF,curveBasis:$F,curveBumpX:TF,curveBumpY:AF,curveLinearClosed:HF,curveLinear:im,curveMonotoneX:zF,curveMonotoneY:GF,curveNatural:VF,curveStep:FF,curveStepAfter:WF,curveStepBefore:KF},rh=function(e){return e.x===+e.x&&e.y===+e.y},Vu=function(e){return e.x},Fu=function(e){return e.y},wZ=function(e,n){if(Oe(e))return e;var r="curve".concat(nm(e));return(r==="curveMonotone"||r==="curveBump")&&n?A2["".concat(r).concat(n==="vertical"?"Y":"X")]:A2[r]||im},SZ=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,u=e.layout,c=e.connectNulls,f=c===void 0?!1:c,h=wZ(r,u),p=f?a.filter(function(E){return rh(E)}):a,g;if(Array.isArray(s)){var b=f?s.filter(function(E){return rh(E)}):s,S=p.map(function(E,x){return T2(T2({},E),{},{base:b[x]})});return u==="vertical"?g=Wd().y(Fu).x1(Vu).x0(function(E){return E.base.x}):g=Wd().x(Vu).y1(Fu).y0(function(E){return E.base.y}),g.defined(rh).curve(h),g(S)}return u==="vertical"&&he(s)?g=Wd().y(Fu).x1(Vu).x0(s):he(s)?g=Wd().x(Vu).y1(Fu).y0(s):g=SU().x(Vu).y(Fu),g.defined(rh).curve(h),g(p)},Lw=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?SZ(e):i;return q.createElement("path",Dw({},Ae(e,!1),kh(e),{className:Le("recharts-curve",n),d:s,ref:a}))},W_={exports:{}},Y_,C2;function EZ(){if(C2)return Y_;C2=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Y_=t,Y_}var J_,O2;function TZ(){if(O2)return J_;O2=1;var t=EZ();function e(){}function n(){}return n.resetWarningCache=e,J_=function(){function r(s,u,c,f,h,p){if(p!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},J_}var R2;function AZ(){return R2||(R2=1,W_.exports=TZ()()),W_.exports}var CZ=AZ();const Ze=Ve(CZ),{getOwnPropertyNames:OZ,getOwnPropertySymbols:RZ}=Object,{hasOwnProperty:NZ}=Object.prototype;function X_(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function ih(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,s=a.get(n),u=a.get(r);if(s&&u)return s===r&&u===n;a.set(n,r),a.set(r,n);const c=t(n,r,i);return a.delete(n),a.delete(r),c}}function PZ(t){return t!=null?t[Symbol.toStringTag]:void 0}function N2(t){return OZ(t).concat(RZ(t))}const MZ=Object.hasOwn||((t,e)=>NZ.call(t,e));function jo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const IZ="__v",kZ="__o",DZ="_owner",{getOwnPropertyDescriptor:P2,keys:M2}=Object;function LZ(t,e){return t.byteLength===e.byteLength&&sp(new Uint8Array(t),new Uint8Array(e))}function jZ(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function UZ(t,e){return t.byteLength===e.byteLength&&sp(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function $Z(t,e){return jo(t.getTime(),e.getTime())}function qZ(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function BZ(t,e){return t===e}function I2(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let s,u,c=0;for(;(s=a.next())&&!s.done;){const f=e.entries();let h=!1,p=0;for(;(u=f.next())&&!u.done;){if(i[p]){p++;continue}const g=s.value,b=u.value;if(n.equals(g[0],b[0],c,p,t,e,n)&&n.equals(g[1],b[1],g[0],b[0],t,e,n)){h=i[p]=!0;break}p++}if(!h)return!1;c++}return!0}const HZ=jo;function zZ(t,e,n){const r=M2(t);let i=r.length;if(M2(e).length!==i)return!1;for(;i-- >0;)if(!Cq(t,e,n,r[i]))return!1;return!0}function Ku(t,e,n){const r=N2(t);let i=r.length;if(N2(e).length!==i)return!1;let a,s,u;for(;i-- >0;)if(a=r[i],!Cq(t,e,n,a)||(s=P2(t,a),u=P2(e,a),(s||u)&&(!s||!u||s.configurable!==u.configurable||s.enumerable!==u.enumerable||s.writable!==u.writable)))return!1;return!0}function GZ(t,e){return jo(t.valueOf(),e.valueOf())}function VZ(t,e){return t.source===e.source&&t.flags===e.flags}function k2(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let s,u;for(;(s=a.next())&&!s.done;){const c=e.values();let f=!1,h=0;for(;(u=c.next())&&!u.done;){if(!i[h]&&n.equals(s.value,u.value,s.value,u.value,t,e,n)){f=i[h]=!0;break}h++}if(!f)return!1}return!0}function sp(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function FZ(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Cq(t,e,n,r){return(r===DZ||r===kZ||r===IZ)&&(t.$$typeof||e.$$typeof)?!0:MZ(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const KZ="[object ArrayBuffer]",WZ="[object Arguments]",YZ="[object Boolean]",JZ="[object DataView]",XZ="[object Date]",QZ="[object Error]",ZZ="[object Map]",eee="[object Number]",tee="[object Object]",nee="[object RegExp]",ree="[object Set]",iee="[object String]",aee={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},oee="[object URL]",see=Object.prototype.toString;function lee({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:u,areObjectsEqual:c,arePrimitiveWrappersEqual:f,areRegExpsEqual:h,areSetsEqual:p,areTypedArraysEqual:g,areUrlsEqual:b,unknownTagComparators:S}){return function(x,A,O){if(x===A)return!0;if(x==null||A==null)return!1;const C=typeof x;if(C!==typeof A)return!1;if(C!=="object")return C==="number"?u(x,A,O):C==="function"?a(x,A,O):!1;const N=x.constructor;if(N!==A.constructor)return!1;if(N===Object)return c(x,A,O);if(Array.isArray(x))return e(x,A,O);if(N===Date)return r(x,A,O);if(N===RegExp)return h(x,A,O);if(N===Map)return s(x,A,O);if(N===Set)return p(x,A,O);const R=see.call(x);if(R===XZ)return r(x,A,O);if(R===nee)return h(x,A,O);if(R===ZZ)return s(x,A,O);if(R===ree)return p(x,A,O);if(R===tee)return typeof x.then!="function"&&typeof A.then!="function"&&c(x,A,O);if(R===oee)return b(x,A,O);if(R===QZ)return i(x,A,O);if(R===WZ)return c(x,A,O);if(aee[R])return g(x,A,O);if(R===KZ)return t(x,A,O);if(R===JZ)return n(x,A,O);if(R===YZ||R===eee||R===iee)return f(x,A,O);if(S){let P=S[R];if(!P){const I=PZ(x);I&&(P=S[I])}if(P)return P(x,A,O)}return!1}}function uee({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:LZ,areArraysEqual:n?Ku:jZ,areDataViewsEqual:UZ,areDatesEqual:$Z,areErrorsEqual:qZ,areFunctionsEqual:BZ,areMapsEqual:n?X_(I2,Ku):I2,areNumbersEqual:HZ,areObjectsEqual:n?Ku:zZ,arePrimitiveWrappersEqual:GZ,areRegExpsEqual:VZ,areSetsEqual:n?X_(k2,Ku):k2,areTypedArraysEqual:n?X_(sp,Ku):sp,areUrlsEqual:FZ,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=ih(r.areArraysEqual),a=ih(r.areMapsEqual),s=ih(r.areObjectsEqual),u=ih(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:u})}return r}function cee(t){return function(e,n,r,i,a,s,u){return t(e,n,u)}}function fee({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(u,c){const{cache:f=t?new WeakMap:void 0,meta:h}=n();return e(u,c,{cache:f,equals:r,meta:h,strict:i})};if(t)return function(u,c){return e(u,c,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(u,c){return e(u,c,a)}}const dee=ka();ka({strict:!0});ka({circular:!0});ka({circular:!0,strict:!0});ka({createInternalComparator:()=>jo});ka({strict:!0,createInternalComparator:()=>jo});ka({circular:!0,createInternalComparator:()=>jo});ka({circular:!0,createInternalComparator:()=>jo,strict:!0});function ka(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=uee(t),s=lee(a),u=n?n(s):cee(s);return fee({circular:e,comparator:s,createState:r,equals:u,strict:i})}function hee(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function D2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):hee(i)};requestAnimationFrame(r)}function jw(t){"@babel/helpers - typeof";return jw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jw(t)}function pee(t){return yee(t)||vee(t)||gee(t)||mee()}function mee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gee(t,e){if(t){if(typeof t=="string")return L2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L2(t,e)}}function L2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yee(t){if(Array.isArray(t))return t}function bee(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,u=pee(s),c=u[0],f=u.slice(1);if(typeof c=="number"){D2(i.bind(null,f),c);return}i(c),D2(i.bind(null,f));return}jw(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function j2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j2(Object(n),!0).forEach(function(r){Oq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oq(t,e,n){return e=_ee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ee(t){var e=xee(t,"string");return Fc(e)==="symbol"?e:String(e)}function xee(t,e){if(Fc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wee=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},See=function(e){return e},Eee=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},pc=function(e,n){return Object.keys(n).reduce(function(r,i){return U2(U2({},r),{},Oq({},i,e(i,n[i])))},{})},$2=function(e,n,r){return e.map(function(i){return"".concat(Eee(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Tee(t,e){return Oee(t)||Cee(t,e)||Rq(t,e)||Aee()}function Aee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function Oee(t){if(Array.isArray(t))return t}function Ree(t){return Mee(t)||Pee(t)||Rq(t)||Nee()}function Nee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rq(t,e){if(t){if(typeof t=="string")return Uw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uw(t,e)}}function Pee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mee(t){if(Array.isArray(t))return Uw(t)}function Uw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var lp=1e-4,Nq=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},Pq=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},q2=function(e,n){return function(r){var i=Nq(e,n);return Pq(i,r)}},Iee=function(e,n){return function(r){var i=Nq(e,n),a=[].concat(Ree(i.map(function(s,u){return s*u}).slice(1)),[0]);return Pq(a,r)}},B2=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],u=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,u=1;break;case"ease":i=.25,a=.1,s=.25,u=1;break;case"ease-in":i=.42,a=0,s=1,u=1;break;case"ease-out":i=.42,a=0,s=.58,u=1;break;case"ease-in-out":i=0,a=0,s=.58,u=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),h=Tee(f,4);i=h[0],a=h[1],s=h[2],u=h[3]}}}var p=q2(i,s),g=q2(a,u),b=Iee(i,s),S=function(A){return A>1?1:A<0?0:A},E=function(A){for(var O=A>1?1:A,C=O,N=0;N<8;++N){var R=p(C)-O,P=b(C);if(Math.abs(R-O)<lp||P<lp)return g(C);C=S(C-R/P)}return g(C)};return E.isStepper=!1,E},kee=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,u=s===void 0?17:s,c=function(h,p,g){var b=-(h-p)*r,S=g*a,E=g+(b-S)*u/1e3,x=g*u/1e3+h;return Math.abs(x-p)<lp&&Math.abs(E)<lp?[p,0]:[x,E]};return c.isStepper=!0,c.dt=u,c},Dee=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return B2(i);case"spring":return kee();default:if(i.split("(")[0]==="cubic-bezier")return B2(i)}return typeof i=="function"?i:null};function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function H2(t){return Uee(t)||jee(t)||Mq(t)||Lee()}function Lee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uee(t){if(Array.isArray(t))return qw(t)}function z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z2(Object(n),!0).forEach(function(r){$w(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $w(t,e,n){return e=$ee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ee(t){var e=qee(t,"string");return Kc(e)==="symbol"?e:String(e)}function qee(t,e){if(Kc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bee(t,e){return Gee(t)||zee(t,e)||Mq(t,e)||Hee()}function Hee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mq(t,e){if(t){if(typeof t=="string")return qw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qw(t,e)}}function qw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function Gee(t){if(Array.isArray(t))return t}var up=function(e,n,r){return e+(n-e)*r},Bw=function(e){var n=e.from,r=e.to;return n!==r},Vee=function t(e,n,r){var i=pc(function(a,s){if(Bw(s)){var u=e(s.from,s.to,s.velocity),c=Bee(u,2),f=c[0],h=c[1];return ln(ln({},s),{},{from:f,velocity:h})}return s},n);return r<1?pc(function(a,s){return Bw(s)?ln(ln({},s),{},{velocity:up(s.velocity,i[a].velocity,r),from:up(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const Fee=(function(t,e,n,r,i){var a=wee(t,e),s=a.reduce(function(x,A){return ln(ln({},x),{},$w({},A,[t[A],e[A]]))},{}),u=a.reduce(function(x,A){return ln(ln({},x),{},$w({},A,{from:t[A],velocity:0,to:e[A]}))},{}),c=-1,f,h,p=function(){return null},g=function(){return pc(function(A,O){return O.from},u)},b=function(){return!Object.values(u).filter(Bw).length},S=function(A){f||(f=A);var O=A-f,C=O/n.dt;u=Vee(n,u,C),i(ln(ln(ln({},t),e),g())),f=A,b()||(c=requestAnimationFrame(p))},E=function(A){h||(h=A);var O=(A-h)/r,C=pc(function(R,P){return up.apply(void 0,H2(P).concat([n(O)]))},s);if(i(ln(ln(ln({},t),e),C)),O<1)c=requestAnimationFrame(p);else{var N=pc(function(R,P){return up.apply(void 0,H2(P).concat([n(1)]))},s);i(ln(ln(ln({},t),e),N))}};return p=n.isStepper?S:E,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}});function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}var Kee=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Wee(t,e){if(t==null)return{};var n=Yee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yee(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Q_(t){return Zee(t)||Qee(t)||Xee(t)||Jee()}function Jee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xee(t,e){if(t){if(typeof t=="string")return Hw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hw(t,e)}}function Qee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zee(t){if(Array.isArray(t))return Hw(t)}function Hw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function G2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G2(Object(n),!0).forEach(function(r){ec(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ec(t,e,n){return e=Iq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ete(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Iq(r.key),r)}}function nte(t,e,n){return e&&tte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iq(t){var e=rte(t,"string");return fl(e)==="symbol"?e:String(e)}function rte(t,e){if(fl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ite(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zw(t,e)}function zw(t,e){return zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zw(t,e)}function ate(t){var e=ote();return function(){var r=cp(t),i;if(e){var a=cp(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Gw(this,i)}}function Gw(t,e){if(e&&(fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vw(t)}function Vw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ote(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cp(t){return cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cp(t)}var $i=(function(t){ite(n,t);var e=ate(n);function n(r,i){var a;ete(this,n),a=e.call(this,r,i);var s=a.props,u=s.isActive,c=s.attributeName,f=s.from,h=s.to,p=s.steps,g=s.children,b=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Vw(a)),a.changeStyle=a.changeStyle.bind(Vw(a)),!u||b<=0)return a.state={style:{}},typeof g=="function"&&(a.state={style:h}),Gw(a);if(p&&p.length)a.state={style:p[0].style};else if(f){if(typeof g=="function")return a.state={style:f},Gw(a);a.state={style:c?ec({},c,f):f}}else a.state={style:{}};return a}return nte(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,u=a.canBegin,c=a.attributeName,f=a.shouldReAnimate,h=a.to,p=a.from,g=this.state.style;if(u){if(!s){var b={style:c?ec({},c,h):h};this.state&&g&&(c&&g[c]!==h||!c&&g!==h)&&this.setState(b);return}if(!(dee(i.to,h)&&i.canBegin&&i.isActive)){var S=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var E=S||f?p:i.to;if(this.state&&g){var x={style:c?ec({},c,E):E};(c&&g[c]!==E||!c&&g!==E)&&this.setState(x)}this.runAnimation(Nr(Nr({},this.props),{},{from:E,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,u=i.to,c=i.duration,f=i.easing,h=i.begin,p=i.onAnimationEnd,g=i.onAnimationStart,b=Fee(s,u,Dee(f),c,this.changeStyle),S=function(){a.stopJSAnimation=b()};this.manager.start([g,h,S,c,p])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,u=i.begin,c=i.onAnimationStart,f=s[0],h=f.style,p=f.duration,g=p===void 0?0:p,b=function(E,x,A){if(A===0)return E;var O=x.duration,C=x.easing,N=C===void 0?"ease":C,R=x.style,P=x.properties,I=x.onAnimationEnd,D=A>0?s[A-1]:x,L=P||Object.keys(R);if(typeof N=="function"||N==="spring")return[].concat(Q_(E),[a.runJSAnimation.bind(a,{from:D.style,to:R,duration:O,easing:N}),O]);var z=$2(L,O,N),B=Nr(Nr(Nr({},D.style),R),{},{transition:z});return[].concat(Q_(E),[B,O,I]).filter(See)};return this.manager.start([c].concat(Q_(s.reduce(b,[h,Math.max(g,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=bee());var a=i.begin,s=i.duration,u=i.attributeName,c=i.to,f=i.easing,h=i.onAnimationStart,p=i.onAnimationEnd,g=i.steps,b=i.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof f=="function"||typeof b=="function"||f==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var E=u?ec({},u,c):c,x=$2(Object.keys(E),s,f);S.start([h,a,Nr(Nr({},E),{},{transition:x}),s,p])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Wee(i,Kee),f=q.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!u||f===0||s<=0)return a;var p=function(b){var S=b.props,E=S.style,x=E===void 0?{}:E,A=S.className,O=q.cloneElement(b,Nr(Nr({},c),{},{style:Nr(Nr({},x),h),className:A}));return O};return f===1?p(q.Children.only(a)):V.createElement("div",null,q.Children.map(a,function(g){return p(g)}))}}]),n})(q.PureComponent);$i.displayName="Animate";$i.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};$i.propTypes={from:Ze.oneOfType([Ze.object,Ze.string]),to:Ze.oneOfType([Ze.object,Ze.string]),attributeName:Ze.string,duration:Ze.number,begin:Ze.number,easing:Ze.oneOfType([Ze.string,Ze.func]),steps:Ze.arrayOf(Ze.shape({duration:Ze.number.isRequired,style:Ze.object.isRequired,easing:Ze.oneOfType([Ze.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ze.func]),properties:Ze.arrayOf("string"),onAnimationEnd:Ze.func})),children:Ze.oneOfType([Ze.node,Ze.func]),isActive:Ze.bool,canBegin:Ze.bool,onAnimationEnd:Ze.func,shouldReAnimate:Ze.bool,onAnimationStart:Ze.func,onAnimationReStart:Ze.func};function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function fp(){return fp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fp.apply(this,arguments)}function ste(t,e){return fte(t)||cte(t,e)||ute(t,e)||lte()}function lte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ute(t,e){if(t){if(typeof t=="string")return V2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V2(t,e)}}function V2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function fte(t){if(Array.isArray(t))return t}function F2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F2(Object(n),!0).forEach(function(r){dte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dte(t,e,n){return e=hte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hte(t){var e=pte(t,"string");return Wc(e)=="symbol"?e:e+""}function pte(t,e){if(Wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var W2=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),u=i>=0?1:-1,c=r>=0?1:-1,f=i>=0&&r>=0||i<0&&r<0?1:0,h;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],g=0,b=4;g<b;g++)p[g]=a[g]>s?s:a[g];h="M".concat(e,",").concat(n+u*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+c*p[0],",").concat(n)),h+="L ".concat(e+r-c*p[1],",").concat(n),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(n+u*p[1])),h+="L ".concat(e+r,",").concat(n+i-u*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+r-c*p[2],",").concat(n+i)),h+="L ".concat(e+c*p[3],",").concat(n+i),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(n+i-u*p[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var S=Math.min(s,a);h="M ".concat(e,",").concat(n+u*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+c*S,",").concat(n,`
            L `).concat(e+r-c*S,",").concat(n,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+r,",").concat(n+u*S,`
            L `).concat(e+r,",").concat(n+i-u*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+r-c*S,",").concat(n+i,`
            L `).concat(e+c*S,",").concat(n+i,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e,",").concat(n+i-u*S," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},mte=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,u=n.width,c=n.height;if(Math.abs(u)>0&&Math.abs(c)>0){var f=Math.min(a,a+u),h=Math.max(a,a+u),p=Math.min(s,s+c),g=Math.max(s,s+c);return r>=f&&r<=h&&i>=p&&i<=g}return!1},gte={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tT=function(e){var n=K2(K2({},gte),e),r=q.useRef(),i=q.useState(-1),a=ste(i,2),s=a[0],u=a[1];q.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&u(N)}catch{}},[]);var c=n.x,f=n.y,h=n.width,p=n.height,g=n.radius,b=n.className,S=n.animationEasing,E=n.animationDuration,x=n.animationBegin,A=n.isAnimationActive,O=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||p!==+p||h===0||p===0)return null;var C=Le("recharts-rectangle",b);return O?V.createElement($i,{canBegin:s>0,from:{width:h,height:p,x:c,y:f},to:{width:h,height:p,x:c,y:f},duration:E,animationEasing:S,isActive:O},function(N){var R=N.width,P=N.height,I=N.x,D=N.y;return V.createElement($i,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:E,isActive:A,easing:S},V.createElement("path",fp({},Ae(n,!0),{className:C,d:W2(I,D,R,P,g),ref:r})))}):V.createElement("path",fp({},Ae(n,!0),{className:C,d:W2(c,f,h,p,g)}))},vte=["points","className","baseLinePoints","connectNulls"];function $s(){return $s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$s.apply(this,arguments)}function yte(t,e){if(t==null)return{};var n=bte(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Y2(t){return Ste(t)||wte(t)||xte(t)||_te()}function _te(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xte(t,e){if(t){if(typeof t=="string")return Fw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fw(t,e)}}function wte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ste(t){if(Array.isArray(t))return Fw(t)}function Fw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var J2=function(e){return e&&e.x===+e.x&&e.y===+e.y},Ete=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){J2(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),J2(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},mc=function(e,n){var r=Ete(e);n&&(r=[r.reduce(function(a,s){return[].concat(Y2(a),Y2(s))},[])]);var i=r.map(function(a){return a.reduce(function(s,u,c){return"".concat(s).concat(c===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Tte=function(e,n,r){var i=mc(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(mc(n.reverse(),r).slice(1))},Ate=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,s=yte(e,vte);if(!n||!n.length)return null;var u=Le("recharts-polygon",r);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",f=Tte(n,i,a);return V.createElement("g",{className:u},V.createElement("path",$s({},Ae(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),c?V.createElement("path",$s({},Ae(s,!0),{fill:"none",d:mc(n,a)})):null,c?V.createElement("path",$s({},Ae(s,!0),{fill:"none",d:mc(i,a)})):null)}var h=mc(n,a);return V.createElement("path",$s({},Ae(s,!0),{fill:h.slice(-1)==="Z"?s.fill:"none",className:u,d:h}))};function Kw(){return Kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kw.apply(this,arguments)}var nT=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=Le("recharts-dot",a);return n===+n&&r===+r&&i===+i?q.createElement("circle",Kw({},Ae(e,!1),kh(e),{className:s,cx:n,cy:r,r:i})):null};function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}var Cte=["x","y","top","left","width","height","className"];function Ww(){return Ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ww.apply(this,arguments)}function X2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ote(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X2(Object(n),!0).forEach(function(r){Rte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rte(t,e,n){return e=Nte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nte(t){var e=Pte(t,"string");return Yc(e)=="symbol"?e:e+""}function Pte(t,e){if(Yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mte(t,e){if(t==null)return{};var n=Ite(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ite(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var kte=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},Dte=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,u=s===void 0?0:s,c=e.left,f=c===void 0?0:c,h=e.width,p=h===void 0?0:h,g=e.height,b=g===void 0?0:g,S=e.className,E=Mte(e,Cte),x=Ote({x:r,y:a,top:u,left:f,width:p,height:b},E);return!he(r)||!he(a)||!he(p)||!he(b)||!he(u)||!he(f)?null:V.createElement("path",Ww({},Ae(x,!0),{className:Le("recharts-cross",S),d:kte(r,a,p,b,u,f)}))},Z_,Q2;function Lte(){if(Q2)return Z_;Q2=1;var t=mm(),e=W$(),n=ii();function r(i,a){return i&&i.length?t(i,n(a,2),e):void 0}return Z_=r,Z_}var jte=Lte();const Ute=Ve(jte);var ex,Z2;function $te(){if(Z2)return ex;Z2=1;var t=mm(),e=ii(),n=Y$();function r(i,a){return i&&i.length?t(i,e(a,2),n):void 0}return ex=r,ex}var qte=$te();const Bte=Ve(qte);var Hte=["cx","cy","angle","ticks","axisLine"],zte=["ticks","tick","angle","tickFormatter","stroke"];function dl(t){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gc.apply(this,arguments)}function ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(n),!0).forEach(function(r){wm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tk(t,e){if(t==null)return{};var n=Gte(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dq(r.key),r)}}function Fte(t,e,n){return e&&nk(t.prototype,e),n&&nk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kte(t,e,n){return e=dp(e),Wte(t,kq()?Reflect.construct(e,n||[],dp(t).constructor):e.apply(t,n))}function Wte(t,e){if(e&&(dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yte(t)}function Yte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kq=function(){return!!t})()}function dp(t){return dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dp(t)}function Jte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yw(t,e)}function Yw(t,e){return Yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yw(t,e)}function wm(t,e,n){return e=Dq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dq(t){var e=Xte(t,"string");return dl(e)=="symbol"?e:e+""}function Xte(t,e){if(dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sm=(function(t){function e(){return Vte(this,e),Kte(this,e,arguments)}return Jte(e,t),Fte(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,s=a.angle,u=a.cx,c=a.cy;return ht(u,c,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,u=r.ticks,c=Ute(u,function(h){return h.coordinate||0}),f=Bte(u,function(h){return h.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:f.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,u=r.ticks,c=r.axisLine,f=tk(r,Hte),h=u.reduce(function(S,E){return[Math.min(S[0],E.coordinate),Math.max(S[1],E.coordinate)]},[1/0,-1/0]),p=ht(i,a,h[0],s),g=ht(i,a,h[1],s),b=io(io(io({},Ae(f,!1)),{},{fill:"none"},Ae(c,!1)),{},{x1:p.x,y1:p.y,x2:g.x,y2:g.y});return V.createElement("line",gc({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,u=i.angle,c=i.tickFormatter,f=i.stroke,h=tk(i,zte),p=this.getTickTextAnchor(),g=Ae(h,!1),b=Ae(s,!1),S=a.map(function(E,x){var A=r.getTickValueCoord(E),O=io(io(io(io({textAnchor:p,transform:"rotate(".concat(90-u,", ").concat(A.x,", ").concat(A.y,")")},g),{},{stroke:"none",fill:f},b),{},{index:x},A),{},{payload:E});return V.createElement(rt,gc({className:Le("recharts-polar-radius-axis-tick",Sq(s)),key:"tick-".concat(E.coordinate)},Ao(r.props,E,x)),e.renderTickItem(s,O,c?c(E.value,x):E.value))});return V.createElement(rt,{className:"recharts-polar-radius-axis-ticks"},S)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,s=r.tick;return!i||!i.length?null:V.createElement(rt,{className:Le("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),Xt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return V.isValidElement(r)?s=V.cloneElement(r,i):Oe(r)?s=r(i):s=V.createElement(Co,gc({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])})(q.PureComponent);wm(Sm,"displayName","PolarRadiusAxis");wm(Sm,"axisType","radiusAxis");wm(Sm,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function ho(){return ho=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ho.apply(this,arguments)}function rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ao(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(n),!0).forEach(function(r){Em(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ik(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jq(r.key),r)}}function Zte(t,e,n){return e&&ik(t.prototype,e),n&&ik(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ene(t,e,n){return e=hp(e),tne(t,Lq()?Reflect.construct(e,n||[],hp(t).constructor):e.apply(t,n))}function tne(t,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nne(t)}function nne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lq=function(){return!!t})()}function hp(t){return hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hp(t)}function rne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jw(t,e)}function Jw(t,e){return Jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jw(t,e)}function Em(t,e,n){return e=jq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jq(t){var e=ine(t,"string");return hl(e)=="symbol"?e:e+""}function ine(t,e){if(hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ane=Math.PI/180,ak=1e-5,Tm=(function(t){function e(){return Qte(this,e),ene(this,e,arguments)}return rne(e,t),Zte(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,s=i.cy,u=i.radius,c=i.orientation,f=i.tickSize,h=f||8,p=ht(a,s,u,r.coordinate),g=ht(a,s,u+(c==="inner"?-1:1)*h,r.coordinate);return{x1:p.x,y1:p.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*ane),s;return a>ak?s=i==="outer"?"start":"end":a<-ak?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.radius,u=r.axisLine,c=r.axisLineType,f=ao(ao({},Ae(this.props,!1)),{},{fill:"none"},Ae(u,!1));if(c==="circle")return V.createElement(nT,ho({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:a,r:s}));var h=this.props.ticks,p=h.map(function(g){return ht(i,a,s,g.coordinate)});return V.createElement(Ate,ho({className:"recharts-polar-angle-axis-line"},f,{points:p}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,u=i.tickLine,c=i.tickFormatter,f=i.stroke,h=Ae(this.props,!1),p=Ae(s,!1),g=ao(ao({},h),{},{fill:"none"},Ae(u,!1)),b=a.map(function(S,E){var x=r.getTickLineCoord(S),A=r.getTickTextAnchor(S),O=ao(ao(ao({textAnchor:A},h),{},{stroke:"none",fill:f},p),{},{index:E,payload:S,x:x.x2,y:x.y2});return V.createElement(rt,ho({className:Le("recharts-polar-angle-axis-tick",Sq(s)),key:"tick-".concat(S.coordinate)},Ao(r.props,S,E)),u&&V.createElement("line",ho({className:"recharts-polar-angle-axis-tick-line"},g,x)),s&&e.renderTickItem(s,O,c?c(S.value,E):S.value))});return V.createElement(rt,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,s=r.axisLine;return a<=0||!i||!i.length?null:V.createElement(rt,{className:Le("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var s;return V.isValidElement(r)?s=V.cloneElement(r,i):Oe(r)?s=r(i):s=V.createElement(Co,ho({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])})(q.PureComponent);Em(Tm,"displayName","PolarAngleAxis");Em(Tm,"axisType","angleAxis");Em(Tm,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var tx,ok;function one(){if(ok)return tx;ok=1;var t=FU(),e=t(Object.getPrototypeOf,Object);return tx=e,tx}var nx,sk;function sne(){if(sk)return nx;sk=1;var t=Hi(),e=one(),n=zi(),r="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,u=a.hasOwnProperty,c=s.call(Object);function f(h){if(!n(h)||t(h)!=r)return!1;var p=e(h);if(p===null)return!0;var g=u.call(p,"constructor")&&p.constructor;return typeof g=="function"&&g instanceof g&&s.call(g)==c}return nx=f,nx}var lne=sne();const une=Ve(lne);var rx,lk;function cne(){if(lk)return rx;lk=1;var t=Hi(),e=zi(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return rx=r,rx}var fne=cne();const dne=Ve(fne);function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function pp(){return pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pp.apply(this,arguments)}function hne(t,e){return vne(t)||gne(t,e)||mne(t,e)||pne()}function pne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mne(t,e){if(t){if(typeof t=="string")return uk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uk(t,e)}}function uk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function vne(t){if(Array.isArray(t))return t}function ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(n),!0).forEach(function(r){yne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yne(t,e,n){return e=bne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bne(t){var e=_ne(t,"string");return Jc(e)=="symbol"?e:e+""}function _ne(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dk=function(e,n,r,i,a){var s=r-i,u;return u="M ".concat(e,",").concat(n),u+="L ".concat(e+r,",").concat(n),u+="L ".concat(e+r-s/2,",").concat(n+a),u+="L ".concat(e+r-s/2-i,",").concat(n+a),u+="L ".concat(e,",").concat(n," Z"),u},xne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wne=function(e){var n=fk(fk({},xne),e),r=q.useRef(),i=q.useState(-1),a=hne(i,2),s=a[0],u=a[1];q.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&u(C)}catch{}},[]);var c=n.x,f=n.y,h=n.upperWidth,p=n.lowerWidth,g=n.height,b=n.className,S=n.animationEasing,E=n.animationDuration,x=n.animationBegin,A=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||p!==+p||g!==+g||h===0&&p===0||g===0)return null;var O=Le("recharts-trapezoid",b);return A?V.createElement($i,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:g,x:c,y:f},to:{upperWidth:h,lowerWidth:p,height:g,x:c,y:f},duration:E,animationEasing:S,isActive:A},function(C){var N=C.upperWidth,R=C.lowerWidth,P=C.height,I=C.x,D=C.y;return V.createElement($i,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:E,easing:S},V.createElement("path",pp({},Ae(n,!0),{className:O,d:dk(I,D,N,R,P),ref:r})))}):V.createElement("g",null,V.createElement("path",pp({},Ae(n,!0),{className:O,d:dk(c,f,h,p,g)})))},Sne=["option","shapeType","propTransformer","activeClassName","isActive"];function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function Ene(t,e){if(t==null)return{};var n=Tne(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hk(Object(n),!0).forEach(function(r){Ane(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ane(t,e,n){return e=Cne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cne(t){var e=One(t,"string");return Xc(e)=="symbol"?e:e+""}function One(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rne(t,e){return mp(mp({},e),t)}function Nne(t,e){return t==="symbols"}function pk(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return V.createElement(tT,n);case"trapezoid":return V.createElement(wne,n);case"sector":return V.createElement(Aq,n);case"symbols":if(Nne(e))return V.createElement(_E,n);break;default:return null}}function Pne(t){return q.isValidElement(t)?t.props:t}function Uq(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Rne:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,u=t.isActive,c=Ene(t,Sne),f;if(q.isValidElement(e))f=q.cloneElement(e,mp(mp({},c),Pne(e)));else if(Oe(e))f=e(c);else if(une(e)&&!dne(e)){var h=i(e,c);f=V.createElement(pk,{shapeType:n,elementProps:h})}else{var p=c;f=V.createElement(pk,{shapeType:n,elementProps:p})}return u?V.createElement(rt,{className:s},f):f}function Am(t,e){return e!=null&&"trapezoids"in t.props}function Cm(t,e){return e!=null&&"sectors"in t.props}function Qc(t,e){return e!=null&&"points"in t.props}function Mne(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function Ine(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function kne(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Dne(t,e){var n;return Am(t,e)?n=Mne:Cm(t,e)?n=Ine:Qc(t,e)&&(n=kne),n}function Lne(t,e){var n;return Am(t,e)?n="trapezoids":Cm(t,e)?n="sectors":Qc(t,e)&&(n="points"),n}function jne(t,e){if(Am(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Cm(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Qc(t,e)?e.payload:{}}function Une(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Lne(n,e),a=jne(n,e),s=r.filter(function(c,f){var h=ym(a,c),p=n.props[i].filter(function(S){var E=Dne(n,e);return E(S,e)}),g=n.props[i].indexOf(p[p.length-1]),b=f===g;return h&&b}),u=r.indexOf(s[s.length-1]);return u}var Eh;function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function qs(){return qs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qs.apply(this,arguments)}function mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(n),!0).forEach(function(r){hr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qq(r.key),r)}}function qne(t,e,n){return e&&gk(t.prototype,e),n&&gk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bne(t,e,n){return e=gp(e),Hne(t,$q()?Reflect.construct(e,n||[],gp(t).constructor):e.apply(t,n))}function Hne(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zne(t)}function zne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $q(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($q=function(){return!!t})()}function gp(t){return gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gp(t)}function Gne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xw(t,e)}function Xw(t,e){return Xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xw(t,e)}function hr(t,e,n){return e=qq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qq(t){var e=Vne(t,"string");return pl(e)=="symbol"?e:e+""}function Vne(t,e){if(pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vi=(function(t){function e(n){var r;return $ne(this,e),r=Bne(this,e,[n]),hr(r,"pieRef",null),hr(r,"sectorRefs",[]),hr(r,"id",vf("recharts-pie-")),hr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Oe(i)&&i()}),hr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Oe(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Gne(e,t),qne(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,u=a.labelLine,c=a.dataKey,f=a.valueKey,h=Ae(this.props,!1),p=Ae(s,!1),g=Ae(u,!1),b=s&&s.offsetRadius||20,S=r.map(function(E,x){var A=(E.startAngle+E.endAngle)/2,O=ht(E.cx,E.cy,E.outerRadius+b,A),C=ft(ft(ft(ft({},h),E),{},{stroke:"none"},p),{},{index:x,textAnchor:e.getTextAnchor(O.x,E.cx)},O),N=ft(ft(ft(ft({},h),E),{},{fill:"none",stroke:E.fill},g),{},{index:x,points:[ht(E.cx,E.cy,E.outerRadius,A),O]}),R=c;return Ue(c)&&Ue(f)?R="value":Ue(c)&&(R=f),V.createElement(rt,{key:"label-".concat(E.startAngle,"-").concat(E.endAngle,"-").concat(E.midAngle,"-").concat(x)},u&&e.renderLabelLineItem(u,N,"line"),e.renderLabelItem(s,C,mn(E,R)))});return V.createElement(rt,{className:"recharts-pie-labels"},S)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,s=a.activeShape,u=a.blendStroke,c=a.inactiveShape;return r.map(function(f,h){if((f==null?void 0:f.startAngle)===0&&(f==null?void 0:f.endAngle)===0&&r.length!==1)return null;var p=i.isActiveIndex(h),g=c&&i.hasActiveIndex()?c:null,b=p?s:g,S=ft(ft({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return V.createElement(rt,qs({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Ao(i.props,f,h),{key:"sector-".concat(f==null?void 0:f.startAngle,"-").concat(f==null?void 0:f.endAngle,"-").concat(f.midAngle,"-").concat(h)}),V.createElement(Uq,qs({option:b,isActive:p,shapeType:"sector"},S)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,s=i.isAnimationActive,u=i.animationBegin,c=i.animationDuration,f=i.animationEasing,h=i.animationId,p=this.state,g=p.prevSectors,b=p.prevIsAnimationActive;return V.createElement($i,{begin:u,duration:c,isActive:s,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(b),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(S){var E=S.t,x=[],A=a&&a[0],O=A.startAngle;return a.forEach(function(C,N){var R=g&&g[N],P=N>0?Xn(C,"paddingAngle",0):0;if(R){var I=xa(R.endAngle-R.startAngle,C.endAngle-C.startAngle),D=ft(ft({},C),{},{startAngle:O+P,endAngle:O+I(E)+P});x.push(D),O=D.endAngle}else{var L=C.endAngle,z=C.startAngle,B=xa(0,L-z),J=B(E),K=ft(ft({},C),{},{startAngle:O+P,endAngle:O+J+P});x.push(K),O=K.endAngle}}),V.createElement(rt,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!ym(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,s=i.sectors,u=i.className,c=i.label,f=i.cx,h=i.cy,p=i.innerRadius,g=i.outerRadius,b=i.isAnimationActive,S=this.state.isAnimationFinished;if(a||!s||!s.length||!he(f)||!he(h)||!he(p)||!he(g))return null;var E=Le("recharts-pie",u);return V.createElement(rt,{tabIndex:this.props.rootTabIndex,className:E,ref:function(A){r.pieRef=A}},this.renderSectors(),c&&this.renderLabels(s),Xt.renderCallByParent(this.props,null,!1),(!b||S)&&Oa.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(V.isValidElement(r))return V.cloneElement(r,i);if(Oe(r))return r(i);var s=Le("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return V.createElement(Lw,qs({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,a){if(V.isValidElement(r))return V.cloneElement(r,i);var s=a;if(Oe(r)&&(s=r(i),V.isValidElement(s)))return s;var u=Le("recharts-pie-label-text",typeof r!="boolean"&&!Oe(r)?r.className:"");return V.createElement(Co,qs({},i,{alignmentBaseline:"middle",className:u}),s)}}])})(q.PureComponent);Eh=Vi;hr(Vi,"displayName","Pie");hr(Vi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!kl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});hr(Vi,"parseDeltaAngle",function(t,e){var n=xn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});hr(Vi,"getRealPieData",function(t){var e=t.data,n=t.children,r=Ae(t,!1),i=vr(n,ol);return e&&e.length?e.map(function(a,s){return ft(ft(ft({payload:a},r),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return ft(ft({},r),a.props)}):[]});hr(Vi,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,s=wq(i,a),u=r+wn(t.cx,i,i/2),c=n+wn(t.cy,a,a/2),f=wn(t.innerRadius,s,0),h=wn(t.outerRadius,s,s*.8),p=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:u,cy:c,innerRadius:f,outerRadius:h,maxRadius:p}});hr(Vi,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?ft(ft({},e.type.defaultProps),e.props):e.props,i=Eh.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,s=r.startAngle,u=r.endAngle,c=r.paddingAngle,f=r.dataKey,h=r.nameKey,p=r.valueKey,g=r.tooltipType,b=Math.abs(r.minAngle),S=Eh.parseCoordinateOfPie(r,n),E=Eh.parseDeltaAngle(s,u),x=Math.abs(E),A=f;Ue(f)&&Ue(p)?(Ur(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A="value"):Ue(f)&&(Ur(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A=p);var O=i.filter(function(D){return mn(D,A,0)!==0}).length,C=(x>=360?O:O-1)*c,N=x-O*b-C,R=i.reduce(function(D,L){var z=mn(L,A,0);return D+(he(z)?z:0)},0),P;if(R>0){var I;P=i.map(function(D,L){var z=mn(D,A,0),B=mn(D,h,L),J=(he(z)?z:0)/R,K;L?K=I.endAngle+xn(E)*c*(z!==0?1:0):K=s;var G=K+xn(E)*((z!==0?b:0)+J*N),$=(K+G)/2,j=(S.innerRadius+S.outerRadius)/2,F=[{name:B,value:z,payload:D,dataKey:A,type:g}],ee=ht(S.cx,S.cy,j,$);return I=ft(ft(ft({percent:J,cornerRadius:a,name:B,tooltipPayload:F,midAngle:$,middleRadius:j,tooltipPosition:ee},D),S),{},{value:mn(D,A),startAngle:K,endAngle:G,payload:D,paddingAngle:xn(E)*c}),I})}return ft(ft({},S),{},{sectors:P,data:i})});var ix,vk;function Fne(){if(vk)return ix;vk=1;var t=Math.ceil,e=Math.max;function n(r,i,a,s){for(var u=-1,c=e(t((i-r)/(a||1)),0),f=Array(c);c--;)f[s?c:++u]=r,r+=a;return f}return ix=n,ix}var ax,yk;function Bq(){if(yk)return ax;yk=1;var t=l$(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*n}return i===i?i:0}return ax=r,ax}var ox,bk;function Kne(){if(bk)return ox;bk=1;var t=Fne(),e=lm(),n=Bq();function r(i){return function(a,s,u){return u&&typeof u!="number"&&e(a,s,u)&&(s=u=void 0),a=n(a),s===void 0?(s=a,a=0):s=n(s),u=u===void 0?a<s?1:-1:n(u),t(a,s,u,i)}}return ox=r,ox}var sx,_k;function Wne(){if(_k)return sx;_k=1;var t=Kne(),e=t();return sx=e,sx}var Yne=Wne();const vp=Ve(Yne);function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(n),!0).forEach(function(r){Hq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hq(t,e,n){return e=Jne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jne(t){var e=Xne(t,"string");return Zc(e)=="symbol"?e:e+""}function Xne(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qne=["Webkit","Moz","O","ms"],Zne=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Qne.reduce(function(a,s){return wk(wk({},a),{},Hq({},s+r,n))},{});return i[e]=n,i};function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function yp(){return yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yp.apply(this,arguments)}function Sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sk(Object(n),!0).forEach(function(r){Vn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ere(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ek(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gq(r.key),r)}}function tre(t,e,n){return e&&Ek(t.prototype,e),n&&Ek(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nre(t,e,n){return e=bp(e),rre(t,zq()?Reflect.construct(e,n||[],bp(t).constructor):e.apply(t,n))}function rre(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ire(t)}function ire(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zq=function(){return!!t})()}function bp(t){return bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bp(t)}function are(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qw(t,e)}function Qw(t,e){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qw(t,e)}function Vn(t,e,n){return e=Gq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gq(t){var e=ore(t,"string");return ml(e)=="symbol"?e:e+""}function ore(t,e){if(ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sre=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,u=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,f=dc().domain(vp(0,c)).range([a,a+s-u]),h=f.domain().map(function(p){return f(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(i),scale:f,scaleValues:h}},Tk=function(e){return e.changedTouches&&!!e.changedTouches.length},gl=(function(t){function e(n){var r;return ere(this,e),r=nre(this,e,[n]),Vn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Vn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Vn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,u=i.startIndex;s==null||s({endIndex:a,startIndex:u})}),r.detachDragEndListener()}),Vn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Vn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Vn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Vn(r,"handleSlideDragStart",function(i){var a=Tk(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return are(e,t),tre(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,u=this.props,c=u.gap,f=u.data,h=f.length-1,p=Math.min(i,a),g=Math.max(i,a),b=e.getIndexInRange(s,p),S=e.getIndexInRange(s,g);return{startIndex:b-b%c,endIndex:S===h?h:S-S%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,u=i.dataKey,c=mn(a[r],u,r);return Oe(s)?s(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,u=i.endX,c=this.props,f=c.x,h=c.width,p=c.travellerWidth,g=c.startIndex,b=c.endIndex,S=c.onChange,E=r.pageX-a;E>0?E=Math.min(E,f+h-p-u,f+h-p-s):E<0&&(E=Math.max(E,f-s,f-u));var x=this.getIndex({startX:s+E,endX:u+E});(x.startIndex!==g||x.endIndex!==b)&&S&&S(x),this.setState({startX:s+E,endX:u+E,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=Tk(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,u=i.endX,c=i.startX,f=this.state[s],h=this.props,p=h.x,g=h.width,b=h.travellerWidth,S=h.onChange,E=h.gap,x=h.data,A={startX:this.state.startX,endX:this.state.endX},O=r.pageX-a;O>0?O=Math.min(O,p+g-b-f):O<0&&(O=Math.max(O,p-f)),A[s]=f+O;var C=this.getIndex(A),N=C.startIndex,R=C.endIndex,P=function(){var D=x.length-1;return s==="startX"&&(u>c?N%E===0:R%E===0)||u<c&&R===D||s==="endX"&&(u>c?R%E===0:N%E===0)||u>c&&R===D};this.setState(Vn(Vn({},s,f+O),"brushMoveStartX",r.pageX),function(){S&&P()&&S(C)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,u=s.scaleValues,c=s.startX,f=s.endX,h=this.state[i],p=u.indexOf(h);if(p!==-1){var g=p+r;if(!(g===-1||g>=u.length)){var b=u[g];i==="startX"&&b>=f||i==="endX"&&b<=c||this.setState(Vn({},i,b),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,u=r.height,c=r.fill,f=r.stroke;return V.createElement("rect",{stroke:f,fill:c,x:i,y:a,width:s,height:u})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,u=r.height,c=r.data,f=r.children,h=r.padding,p=q.Children.only(f);return p?V.cloneElement(p,{x:i,y:a,width:s,height:u,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,u=this,c=this.props,f=c.y,h=c.travellerWidth,p=c.height,g=c.traveller,b=c.ariaLabel,S=c.data,E=c.startIndex,x=c.endIndex,A=Math.max(r,this.props.x),O=lx(lx({},Ae(this.props,!1)),{},{x:A,y:f,width:h,height:p}),C=b||"Min value: ".concat((a=S[E])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=S[x])===null||s===void 0?void 0:s.name);return V.createElement(rt,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(R){["ArrowLeft","ArrowRight"].includes(R.key)&&(R.preventDefault(),R.stopPropagation(),u.handleTravellerMoveKeyboard(R.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,O))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,u=a.height,c=a.stroke,f=a.travellerWidth,h=Math.min(r,i)+f,p=Math.max(Math.abs(i-r)-f,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:s,width:p,height:u})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,u=r.height,c=r.travellerWidth,f=r.stroke,h=this.state,p=h.startX,g=h.endX,b=5,S={pointerEvents:"none",fill:f};return V.createElement(rt,{className:"recharts-brush-texts"},V.createElement(Co,yp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,g)-b,y:s+u/2},S),this.getTextOfTick(i)),V.createElement(Co,yp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,g)+c+b,y:s+u/2},S),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,u=r.x,c=r.y,f=r.width,h=r.height,p=r.alwaysShowText,g=this.state,b=g.startX,S=g.endX,E=g.isTextActive,x=g.isSlideMoving,A=g.isTravellerMoving,O=g.isTravellerFocused;if(!i||!i.length||!he(u)||!he(c)||!he(f)||!he(h)||f<=0||h<=0)return null;var C=Le("recharts-brush",a),N=V.Children.count(s)===1,R=Zne("userSelect","none");return V.createElement(rt,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:R},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(b,S),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(S,"endX"),(E||x||A||O||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,u=r.height,c=r.stroke,f=Math.floor(a+u/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:i,y:a,width:s,height:u,fill:c,stroke:"none"}),V.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return V.isValidElement(r)?a=V.cloneElement(r,i):Oe(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,u=r.x,c=r.travellerWidth,f=r.updateId,h=r.startIndex,p=r.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return lx({prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:s},a&&a.length?sre({data:a,width:s,x:u,travellerWidth:c,startIndex:h,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||u!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([u,u+s-c]);var g=i.scale.domain().map(function(b){return i.scale(b)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,u=a-1;u-s>1;){var c=Math.floor((s+u)/2);r[c]>i?u=c:s=c}return i>=r[u]?u:s}}])})(q.PureComponent);Vn(gl,"displayName","Brush");Vn(gl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ux,Ak;function lre(){if(Ak)return ux;Ak=1;var t=CE();function e(n,r){var i;return t(n,function(a,s,u){return i=r(a,s,u),!i}),!!i}return ux=e,ux}var cx,Ck;function ure(){if(Ck)return cx;Ck=1;var t=$U(),e=ii(),n=lre(),r=kn(),i=lm();function a(s,u,c){var f=r(s)?t:n;return c&&i(s,u,c)&&(u=void 0),f(s,e(u,3))}return cx=a,cx}var cre=ure();const fre=Ve(cre);var ei=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},fx,Ok;function dre(){if(Ok)return fx;Ok=1;var t=r$();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return fx=e,fx}var dx,Rk;function hre(){if(Rk)return dx;Rk=1;var t=dre(),e=t$(),n=ii();function r(i,a){var s={};return a=n(a,3),e(i,function(u,c,f){t(s,c,a(u,c,f))}),s}return dx=r,dx}var pre=hre();const mre=Ve(pre);var hx,Nk;function gre(){if(Nk)return hx;Nk=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return hx=t,hx}var px,Pk;function vre(){if(Pk)return px;Pk=1;var t=CE();function e(n,r){var i=!0;return t(n,function(a,s,u){return i=!!r(a,s,u),i}),i}return px=e,px}var mx,Mk;function yre(){if(Mk)return mx;Mk=1;var t=gre(),e=vre(),n=ii(),r=kn(),i=lm();function a(s,u,c){var f=r(s)?t:e;return c&&i(s,u,c)&&(u=void 0),f(s,n(u,3))}return mx=a,mx}var bre=yre();const Vq=Ve(bre);var _re=["x","y"];function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zw.apply(this,arguments)}function Ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(n),!0).forEach(function(r){xre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xre(t,e,n){return e=wre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wre(t){var e=Sre(t,"string");return ef(e)=="symbol"?e:e+""}function Sre(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ere(t,e){if(t==null)return{};var n=Tre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Are(t,e){var n=t.x,r=t.y,i=Ere(t,_re),a="".concat(n),s=parseInt(a,10),u="".concat(r),c=parseInt(u,10),f="".concat(e.height||i.height),h=parseInt(f,10),p="".concat(e.width||i.width),g=parseInt(p,10);return Wu(Wu(Wu(Wu(Wu({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:g,name:e.name,radius:e.radius})}function kk(t){return V.createElement(Uq,Zw({shapeType:"rectangle",propTransformer:Are,activeClassName:"recharts-active-bar"},t))}var Cre=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=he(r)||WV(r);return a?e(r,i):(a||No(),n)}},Ore=["value","background"],Fq;function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function Rre(t,e){if(t==null)return{};var n=Nre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _p(){return _p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_p.apply(this,arguments)}function Dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(n),!0).forEach(function(r){Ta(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wq(r.key),r)}}function Mre(t,e,n){return e&&Lk(t.prototype,e),n&&Lk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ire(t,e,n){return e=xp(e),kre(t,Kq()?Reflect.construct(e,n||[],xp(t).constructor):e.apply(t,n))}function kre(t,e){if(e&&(vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dre(t)}function Dre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kq=function(){return!!t})()}function xp(t){return xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xp(t)}function Lre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eS(t,e)}function eS(t,e){return eS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eS(t,e)}function Ta(t,e,n){return e=Wq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wq(t){var e=jre(t,"string");return vl(e)=="symbol"?e:e+""}function jre(t,e){if(vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kn=(function(t){function e(){var n;Pre(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Ire(this,e,[].concat(i)),Ta(n,"state",{isAnimationFinished:!1}),Ta(n,"id",vf("recharts-bar-")),Ta(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Ta(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return Lre(e,t),Mre(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,u=a.dataKey,c=a.activeIndex,f=a.activeBar,h=Ae(this.props,!1);return r&&r.map(function(p,g){var b=g===c,S=b?f:s,E=Ut(Ut(Ut({},h),p),{},{isActive:b,option:S,index:g,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return V.createElement(rt,_p({className:"recharts-bar-rectangle"},Ao(i.props,p,g),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(g)}),V.createElement(kk,E))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,u=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,g=this.state.prevData;return V.createElement($i,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var S=b.t,E=a.map(function(x,A){var O=g&&g[A];if(O){var C=xa(O.x,x.x),N=xa(O.y,x.y),R=xa(O.width,x.width),P=xa(O.height,x.height);return Ut(Ut({},x),{},{x:C(S),y:N(S),width:R(S),height:P(S)})}if(s==="horizontal"){var I=xa(0,x.height),D=I(S);return Ut(Ut({},x),{},{y:x.y+x.height-D,height:D})}var L=xa(0,x.width),z=L(S);return Ut(Ut({},x),{},{width:z})});return V.createElement(rt,null,r.renderRectanglesStatically(E))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!ym(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,u=i.activeIndex,c=Ae(this.props.background,!1);return a.map(function(f,h){f.value;var p=f.background,g=Rre(f,Ore);if(!p)return null;var b=Ut(Ut(Ut(Ut(Ut({},g),{},{fill:"#eee"},p),c),Ao(r.props,f,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return V.createElement(kk,_p({key:"background-bar-".concat(h),option:r.props.background,isActive:h===u},b))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,u=a.xAxis,c=a.yAxis,f=a.layout,h=a.children,p=vr(h,xm);if(!p)return null;var g=f==="vertical"?s[0].height/2:s[0].width/2,b=function(x,A){var O=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:O,errorVal:mn(x,A)}},S={clipPath:r?"url(#clipPath-".concat(i,")"):null};return V.createElement(rt,S,p.map(function(E){return V.cloneElement(E,{key:"error-bar-".concat(i,"-").concat(E.props.dataKey),data:s,xAxis:u,yAxis:c,layout:f,offset:g,dataPointFormatter:b})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,u=r.xAxis,c=r.yAxis,f=r.left,h=r.top,p=r.width,g=r.height,b=r.isAnimationActive,S=r.background,E=r.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,A=Le("recharts-bar",s),O=u&&u.allowDataOverflow,C=c&&c.allowDataOverflow,N=O||C,R=Ue(E)?this.id:E;return V.createElement(rt,{className:A},O||C?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(R)},V.createElement("rect",{x:O?f:f-p/2,y:C?h:h-g/2,width:O?p:p*2,height:C?g:g*2}))):null,V.createElement(rt,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(R,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,R),(!b||x)&&Oa.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(q.PureComponent);Fq=Kn;Ta(Kn,"displayName","Bar");Ta(Kn,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!kl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ta(Kn,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,u=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,p=t.displayedData,g=t.offset,b=lQ(r,n);if(!b)return null;var S=e.layout,E=n.type.defaultProps,x=E!==void 0?Ut(Ut({},E),n.props):n.props,A=x.dataKey,O=x.children,C=x.minPointSize,N=S==="horizontal"?s:a,R=f?N.scale.domain():null,P=mQ({numericAxis:N}),I=vr(O,ol),D=p.map(function(L,z){var B,J,K,G,$,j;f?B=uQ(f[h+z],R):(B=mn(L,A),Array.isArray(B)||(B=[P,B]));var F=Cre(C,Fq.defaultProps.minPointSize)(B[1],z);if(S==="horizontal"){var ee,ie=[s.scale(B[0]),s.scale(B[1])],ue=ie[0],U=ie[1];J=c2({axis:a,ticks:u,bandSize:i,offset:b.offset,entry:L,index:z}),K=(ee=U??ue)!==null&&ee!==void 0?ee:void 0,G=b.size;var Y=ue-U;if($=Number.isNaN(Y)?0:Y,j={x:J,y:s.y,width:G,height:s.height},Math.abs(F)>0&&Math.abs($)<Math.abs(F)){var re=xn($||F)*(Math.abs(F)-Math.abs($));K-=re,$+=re}}else{var fe=[a.scale(B[0]),a.scale(B[1])],me=fe[0],xe=fe[1];if(J=me,K=c2({axis:s,ticks:c,bandSize:i,offset:b.offset,entry:L,index:z}),G=xe-me,$=b.size,j={x:a.x,y:K,width:a.width,height:$},Math.abs(F)>0&&Math.abs(G)<Math.abs(F)){var je=xn(G||F)*(Math.abs(F)-Math.abs(G));G+=je}}return Ut(Ut(Ut({},L),{},{x:J,y:K,width:G,height:$,value:f?B:B[1],payload:L,background:j},I&&I[z]&&I[z].props),{},{tooltipPayload:[_q(n,L)],tooltipPosition:{x:J+G/2,y:K+$/2}})});return Ut({data:D,layout:S},g)});function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function Ure(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yq(r.key),r)}}function $re(t,e,n){return e&&jk(t.prototype,e),n&&jk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(n),!0).forEach(function(r){Om(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Om(t,e,n){return e=Yq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yq(t){var e=qre(t,"string");return tf(e)=="symbol"?e:e+""}function qre(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bre=function(e,n,r,i,a){var s=e.width,u=e.height,c=e.layout,f=e.children,h=Object.keys(n),p={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:u-r.bottom,bottomMirror:u-r.bottom},g=!!Fn(f,Kn);return h.reduce(function(b,S){var E=n[S],x=E.orientation,A=E.domain,O=E.padding,C=O===void 0?{}:O,N=E.mirror,R=E.reversed,P="".concat(x).concat(N?"Mirror":""),I,D,L,z,B;if(E.type==="number"&&(E.padding==="gap"||E.padding==="no-gap")){var J=A[1]-A[0],K=1/0,G=E.categoricalDomain.sort(XV);if(G.forEach(function(fe,me){me>0&&(K=Math.min((fe||0)-(G[me-1]||0),K))}),Number.isFinite(K)){var $=K/J,j=E.layout==="vertical"?r.height:r.width;if(E.padding==="gap"&&(I=$*j/2),E.padding==="no-gap"){var F=wn(e.barCategoryGap,$*j),ee=$*j/2;I=ee-F-(ee-F)/j*F}}}i==="xAxis"?D=[r.left+(C.left||0)+(I||0),r.left+r.width-(C.right||0)-(I||0)]:i==="yAxis"?D=c==="horizontal"?[r.top+r.height-(C.bottom||0),r.top+(C.top||0)]:[r.top+(C.top||0)+(I||0),r.top+r.height-(C.bottom||0)-(I||0)]:D=E.range,R&&(D=[D[1],D[0]]);var ie=gq(E,a,g),ue=ie.scale,U=ie.realScaleType;ue.domain(A).range(D),vq(ue);var Y=yq(ue,Dr(Dr({},E),{},{realScaleType:U}));i==="xAxis"?(B=x==="top"&&!N||x==="bottom"&&N,L=r.left,z=p[P]-B*E.height):i==="yAxis"&&(B=x==="left"&&!N||x==="right"&&N,L=p[P]-B*E.width,z=r.top);var re=Dr(Dr(Dr({},E),Y),{},{realScaleType:U,x:L,y:z,scale:ue,width:i==="xAxis"?r.width:E.width,height:i==="yAxis"?r.height:E.height});return re.bandSize=ip(re,Y),!E.hide&&i==="xAxis"?p[P]+=(B?-1:1)*re.height:E.hide||(p[P]+=(B?-1:1)*re.width),Dr(Dr({},b),{},Om({},S,re))},{})},Jq=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},Hre=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return Jq({x:n,y:r},{x:i,y:a})},Xq=(function(){function t(e){Ure(this,t),this.scale=e}return $re(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(n)+u}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();Om(Xq,"EPS",1e-4);var rT=function(e){var n=Object.keys(e).reduce(function(r,i){return Dr(Dr({},r),{},Om({},i,Xq.create(e[i])))},{});return Dr(Dr({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,u=a.position;return mre(i,function(c,f){return n[f].apply(c,{bandAware:s,position:u})})},isInRange:function(i){return Vq(i,function(a,s){return n[s].isInRange(a)})}})};function zre(t){return(t%180+180)%180}var Gre=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=zre(i),s=a*Math.PI/180,u=Math.atan(r/n),c=s>u&&s<Math.PI-u?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},gx,$k;function Vre(){if($k)return gx;$k=1;var t=ii(),e=yf(),n=om();function r(i){return function(a,s,u){var c=Object(a);if(!e(a)){var f=t(s,3);a=n(a),s=function(p){return f(c[p],p,c)}}var h=i(a,s,u);return h>-1?c[f?a[h]:h]:void 0}}return gx=r,gx}var vx,qk;function Fre(){if(qk)return vx;qk=1;var t=Bq();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return vx=e,vx}var yx,Bk;function Kre(){if(Bk)return yx;Bk=1;var t=JU(),e=ii(),n=Fre(),r=Math.max;function i(a,s,u){var c=a==null?0:a.length;if(!c)return-1;var f=u==null?0:n(u);return f<0&&(f=r(c+f,0)),t(a,e(s,3),f)}return yx=i,yx}var bx,Hk;function Wre(){if(Hk)return bx;Hk=1;var t=Vre(),e=Kre(),n=t(e);return bx=n,bx}var Yre=Wre();const Jre=Ve(Yre);var Xre=fU();const Qre=Ve(Xre);var Zre=Qre(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),iT=q.createContext(void 0),aT=q.createContext(void 0),Qq=q.createContext(void 0),Zq=q.createContext({}),e4=q.createContext(void 0),t4=q.createContext(0),n4=q.createContext(0),zk=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,u=e.children,c=e.width,f=e.height,h=Zre(a);return V.createElement(iT.Provider,{value:r},V.createElement(aT.Provider,{value:i},V.createElement(Zq.Provider,{value:a},V.createElement(Qq.Provider,{value:h},V.createElement(e4.Provider,{value:s},V.createElement(t4.Provider,{value:f},V.createElement(n4.Provider,{value:c},u)))))))},eie=function(){return q.useContext(e4)},r4=function(e){var n=q.useContext(iT);n==null&&No();var r=n[e];return r==null&&No(),r},tie=function(){var e=q.useContext(iT);return Ea(e)},nie=function(){var e=q.useContext(aT),n=Jre(e,function(r){return Vq(r.domain,Number.isFinite)});return n||Ea(e)},i4=function(e){var n=q.useContext(aT);n==null&&No();var r=n[e];return r==null&&No(),r},rie=function(){var e=q.useContext(Qq);return e},iie=function(){return q.useContext(Zq)},oT=function(){return q.useContext(n4)},sT=function(){return q.useContext(t4)};function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}function aie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o4(r.key),r)}}function sie(t,e,n){return e&&oie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lie(t,e,n){return e=wp(e),uie(t,a4()?Reflect.construct(e,n||[],wp(t).constructor):e.apply(t,n))}function uie(t,e){if(e&&(yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cie(t)}function cie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a4=function(){return!!t})()}function wp(t){return wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wp(t)}function fie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tS(t,e)}function tS(t,e){return tS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tS(t,e)}function Gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(n),!0).forEach(function(r){lT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lT(t,e,n){return e=o4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o4(t){var e=die(t,"string");return yl(e)=="symbol"?e:e+""}function die(t,e){if(yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hie(t,e){return vie(t)||gie(t,e)||mie(t,e)||pie()}function pie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mie(t,e){if(t){if(typeof t=="string")return Fk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fk(t,e)}}function Fk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function vie(t){if(Array.isArray(t))return t}function nS(){return nS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nS.apply(this,arguments)}var yie=function(e,n){var r;return V.isValidElement(e)?r=V.cloneElement(e,n):Oe(e)?r=e(n):r=V.createElement("line",nS({},n,{className:"recharts-reference-line-line"})),r},bie=function(e,n,r,i,a,s,u,c,f){var h=a.x,p=a.y,g=a.width,b=a.height;if(r){var S=f.y,E=e.y.apply(S,{position:s});if(ei(f,"discard")&&!e.y.isInRange(E))return null;var x=[{x:h+g,y:E},{x:h,y:E}];return c==="left"?x.reverse():x}if(n){var A=f.x,O=e.x.apply(A,{position:s});if(ei(f,"discard")&&!e.x.isInRange(O))return null;var C=[{x:O,y:p+b},{x:O,y:p}];return u==="top"?C.reverse():C}if(i){var N=f.segment,R=N.map(function(P){return e.apply(P,{position:s})});return ei(f,"discard")&&fre(R,function(P){return!e.isInRange(P)})?null:R}return null};function _ie(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,u=t.className,c=t.alwaysShow,f=eie(),h=r4(i),p=i4(a),g=rie();if(!f||!g)return null;Ur(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=rT({x:h.scale,y:p.scale}),S=Ft(e),E=Ft(n),x=r&&r.length===2,A=bie(b,S,E,x,g,t.position,h.orientation,p.orientation,t);if(!A)return null;var O=hie(A,2),C=O[0],N=C.x,R=C.y,P=O[1],I=P.x,D=P.y,L=ei(t,"hidden")?"url(#".concat(f,")"):void 0,z=Vk(Vk({clipPath:L},Ae(t,!0)),{},{x1:N,y1:R,x2:I,y2:D});return V.createElement(rt,{className:Le("recharts-reference-line",u)},yie(s,z),Xt.renderCallByParent(t,Hre({x1:N,y1:R,x2:I,y2:D})))}var uT=(function(t){function e(){return aie(this,e),lie(this,e,arguments)}return fie(e,t),sie(e,[{key:"render",value:function(){return V.createElement(_ie,this.props)}}])})(V.Component);lT(uT,"displayName","ReferenceLine");lT(uT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function rS(){return rS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rS.apply(this,arguments)}function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){Rm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l4(r.key),r)}}function Sie(t,e,n){return e&&wie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eie(t,e,n){return e=Sp(e),Tie(t,s4()?Reflect.construct(e,n||[],Sp(t).constructor):e.apply(t,n))}function Tie(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aie(t)}function Aie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s4=function(){return!!t})()}function Sp(t){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sp(t)}function Cie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iS(t,e)}function iS(t,e){return iS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iS(t,e)}function Rm(t,e,n){return e=l4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l4(t){var e=Oie(t,"string");return bl(e)=="symbol"?e:e+""}function Oie(t,e){if(bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rie=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=rT({x:i.scale,y:a.scale}),u=s.apply({x:n,y:r},{bandAware:!0});return ei(e,"discard")&&!s.isInRange(u)?null:u},Nm=(function(t){function e(){return xie(this,e),Eie(this,e,arguments)}return Cie(e,t),Sie(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,u=r.alwaysShow,c=r.clipPathId,f=Ft(i),h=Ft(a);if(Ur(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var p=Rie(this.props);if(!p)return null;var g=p.x,b=p.y,S=this.props,E=S.shape,x=S.className,A=ei(this.props,"hidden")?"url(#".concat(c,")"):void 0,O=Wk(Wk({clipPath:A},Ae(this.props,!0)),{},{cx:g,cy:b});return V.createElement(rt,{className:Le("recharts-reference-dot",x)},e.renderDot(E,O),Xt.renderCallByParent(this.props,{x:g-s,y:b-s,width:2*s,height:2*s}))}}])})(V.Component);Rm(Nm,"displayName","ReferenceDot");Rm(Nm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Rm(Nm,"renderDot",function(t,e){var n;return V.isValidElement(t)?n=V.cloneElement(t,e):Oe(t)?n=t(e):n=V.createElement(nT,rS({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function aS(){return aS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aS.apply(this,arguments)}function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){Pm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c4(r.key),r)}}function Mie(t,e,n){return e&&Pie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iie(t,e,n){return e=Ep(e),kie(t,u4()?Reflect.construct(e,n||[],Ep(t).constructor):e.apply(t,n))}function kie(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Die(t)}function Die(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u4=function(){return!!t})()}function Ep(t){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ep(t)}function Lie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oS(t,e)}function oS(t,e){return oS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oS(t,e)}function Pm(t,e,n){return e=c4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c4(t){var e=jie(t,"string");return _l(e)=="symbol"?e:e+""}function jie(t,e){if(_l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Uie=function(e,n,r,i,a){var s=a.x1,u=a.x2,c=a.y1,f=a.y2,h=a.xAxis,p=a.yAxis;if(!h||!p)return null;var g=rT({x:h.scale,y:p.scale}),b={x:e?g.x.apply(s,{position:"start"}):g.x.rangeMin,y:r?g.y.apply(c,{position:"start"}):g.y.rangeMin},S={x:n?g.x.apply(u,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(f,{position:"end"}):g.y.rangeMax};return ei(a,"discard")&&(!g.isInRange(b)||!g.isInRange(S))?null:Jq(b,S)},Mm=(function(t){function e(){return Nie(this,e),Iie(this,e,arguments)}return Lie(e,t),Mie(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,u=r.y2,c=r.className,f=r.alwaysShow,h=r.clipPathId;Ur(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Ft(i),g=Ft(a),b=Ft(s),S=Ft(u),E=this.props.shape;if(!p&&!g&&!b&&!S&&!E)return null;var x=Uie(p,g,b,S,this.props);if(!x&&!E)return null;var A=ei(this.props,"hidden")?"url(#".concat(h,")"):void 0;return V.createElement(rt,{className:Le("recharts-reference-area",c)},e.renderRect(E,Jk(Jk({clipPath:A},Ae(this.props,!0)),x)),Xt.renderCallByParent(this.props,x))}}])})(V.Component);Pm(Mm,"displayName","ReferenceArea");Pm(Mm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Pm(Mm,"renderRect",function(t,e){var n;return V.isValidElement(t)?n=V.cloneElement(t,e):Oe(t)?n=t(e):n=V.createElement(tT,aS({},e,{className:"recharts-reference-area-rect"})),n});function f4(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function $ie(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Gre(r,n)}function qie(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,u=t.height;return e===1?{start:r?i:a,end:r?i+s:a+u}:{start:r?i+s:a+u,end:r?i:a}}function Tp(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Bie(t,e){return f4(t,e+1)}function Hie(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,u=e.end,c=0,f=1,h=s,p=function(){var S=r==null?void 0:r[c];if(S===void 0)return{v:f4(r,f)};var E=c,x,A=function(){return x===void 0&&(x=n(S,E)),x},O=S.coordinate,C=c===0||Tp(t,O,A,h,u);C||(c=0,h=s,f+=1),C&&(h=O+t*(A()/2+i),c+=f)},g;f<=a.length;)if(g=p(),g)return g.v;return[]}function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function Xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xk(Object(n),!0).forEach(function(r){zie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zie(t,e,n){return e=Gie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gie(t){var e=Vie(t,"string");return nf(e)=="symbol"?e:e+""}function Vie(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fie(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,u=e.start,c=e.end,f=function(g){var b=a[g],S,E=function(){return S===void 0&&(S=n(b,g)),S};if(g===s-1){var x=t*(b.coordinate+t*E()/2-c);a[g]=b=dn(dn({},b),{},{tickCoord:x>0?b.coordinate-x*t:b.coordinate})}else a[g]=b=dn(dn({},b),{},{tickCoord:b.coordinate});var A=Tp(t,b.tickCoord,E,u,c);A&&(c=b.tickCoord-t*(E()/2+i),a[g]=dn(dn({},b),{},{isShow:!0}))},h=s-1;h>=0;h--)f(h);return a}function Kie(t,e,n,r,i,a){var s=(r||[]).slice(),u=s.length,c=e.start,f=e.end;if(a){var h=r[u-1],p=n(h,u-1),g=t*(h.coordinate+t*p/2-f);s[u-1]=h=dn(dn({},h),{},{tickCoord:g>0?h.coordinate-g*t:h.coordinate});var b=Tp(t,h.tickCoord,function(){return p},c,f);b&&(f=h.tickCoord-t*(p/2+i),s[u-1]=dn(dn({},h),{},{isShow:!0}))}for(var S=a?u-1:u,E=function(O){var C=s[O],N,R=function(){return N===void 0&&(N=n(C,O)),N};if(O===0){var P=t*(C.coordinate-t*R()/2-c);s[O]=C=dn(dn({},C),{},{tickCoord:P<0?C.coordinate-P*t:C.coordinate})}else s[O]=C=dn(dn({},C),{},{tickCoord:C.coordinate});var I=Tp(t,C.tickCoord,R,c,f);I&&(c=C.tickCoord+t*(R()/2+i),s[O]=dn(dn({},C),{},{isShow:!0}))},x=0;x<S;x++)E(x);return s}function cT(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,u=t.orientation,c=t.interval,f=t.tickFormatter,h=t.unit,p=t.angle;if(!i||!i.length||!r)return[];if(he(c)||kl.isSsr)return Bie(i,typeof c=="number"&&he(c)?c:0);var g=[],b=u==="top"||u==="bottom"?"width":"height",S=h&&b==="width"?fc(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},E=function(C,N){var R=Oe(f)?f(C.value,N):C.value;return b==="width"?$ie(fc(R,{fontSize:e,letterSpacing:n}),S,p):fc(R,{fontSize:e,letterSpacing:n})[b]},x=i.length>=2?xn(i[1].coordinate-i[0].coordinate):1,A=qie(a,x,b);return c==="equidistantPreserveStart"?Hie(x,A,E,i,s):(c==="preserveStart"||c==="preserveStartEnd"?g=Kie(x,A,E,i,s,c==="preserveStartEnd"):g=Fie(x,A,E,i,s),g.filter(function(O){return O.isShow}))}var Wie=["viewBox"],Yie=["viewBox"],Jie=["ticks"];function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function Bs(){return Bs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bs.apply(this,arguments)}function Qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(n),!0).forEach(function(r){fT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _x(t,e){if(t==null)return{};var n=Xie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h4(r.key),r)}}function Zie(t,e,n){return e&&Zk(t.prototype,e),n&&Zk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eae(t,e,n){return e=Ap(e),tae(t,d4()?Reflect.construct(e,n||[],Ap(t).constructor):e.apply(t,n))}function tae(t,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nae(t)}function nae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d4=function(){return!!t})()}function Ap(t){return Ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ap(t)}function rae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sS(t,e)}function sS(t,e){return sS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sS(t,e)}function fT(t,e,n){return e=h4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h4(t){var e=iae(t,"string");return xl(e)=="symbol"?e:e+""}function iae(t,e){if(xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ul=(function(t){function e(n){var r;return Qie(this,e),r=eae(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return rae(e,t),Zie(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=_x(r,Wie),u=this.props,c=u.viewBox,f=_x(u,Yie);return!Ys(a,c)||!Ys(s,f)||!Ys(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,u=i.width,c=i.height,f=i.orientation,h=i.tickSize,p=i.mirror,g=i.tickMargin,b,S,E,x,A,O,C=p?-1:1,N=r.tickSize||h,R=he(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":b=S=r.coordinate,x=s+ +!p*c,E=x-C*N,O=E-C*g,A=R;break;case"left":E=x=r.coordinate,S=a+ +!p*u,b=S-C*N,A=b-C*g,O=R;break;case"right":E=x=r.coordinate,S=a+ +p*u,b=S+C*N,A=b+C*g,O=R;break;default:b=S=r.coordinate,x=s+ +p*c,E=x+C*N,O=E+C*g,A=R;break}return{line:{x1:b,y1:E,x2:S,y2:x},tick:{x:A,y:O}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,u=r.height,c=r.orientation,f=r.mirror,h=r.axisLine,p=zt(zt(zt({},Ae(this.props,!1)),Ae(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var g=+(c==="top"&&!f||c==="bottom"&&f);p=zt(zt({},p),{},{x1:i,y1:a+g*u,x2:i+s,y2:a+g*u})}else{var b=+(c==="left"&&!f||c==="right"&&f);p=zt(zt({},p),{},{x1:i+b*s,y1:a,x2:i+b*s,y2:a+u})}return V.createElement("line",Bs({},p,{className:Le("recharts-cartesian-axis-line",Xn(h,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,u=this.props,c=u.tickLine,f=u.stroke,h=u.tick,p=u.tickFormatter,g=u.unit,b=cT(zt(zt({},this.props),{},{ticks:r}),i,a),S=this.getTickTextAnchor(),E=this.getTickVerticalAnchor(),x=Ae(this.props,!1),A=Ae(h,!1),O=zt(zt({},x),{},{fill:"none"},Ae(c,!1)),C=b.map(function(N,R){var P=s.getTickLineCoord(N),I=P.line,D=P.tick,L=zt(zt(zt(zt({textAnchor:S,verticalAnchor:E},x),{},{stroke:"none",fill:f},A),D),{},{index:R,payload:N,visibleTicksCount:b.length,tickFormatter:p});return V.createElement(rt,Bs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Ao(s.props,N,R)),c&&V.createElement("line",Bs({},O,I,{className:Le("recharts-cartesian-axis-tick-line",Xn(c,"className"))})),h&&e.renderTickItem(h,L,"".concat(Oe(p)?p(N.value,R):N.value).concat(g||"")))});return V.createElement("g",{className:"recharts-cartesian-axis-ticks"},C)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,u=i.height,c=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var p=this.props,g=p.ticks,b=_x(p,Jie),S=g;return Oe(c)&&(S=g&&g.length>0?c(this.props):c(b)),s<=0||u<=0||!S||!S.length?null:V.createElement(rt,{className:Le("recharts-cartesian-axis",f),ref:function(x){r.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),Xt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,u=Le(i.className,"recharts-cartesian-axis-tick-value");return V.isValidElement(r)?s=V.cloneElement(r,zt(zt({},i),{},{className:u})):Oe(r)?s=r(zt(zt({},i),{},{className:u})):s=V.createElement(Co,Bs({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])})(q.Component);fT(Ul,"displayName","CartesianAxis");fT(Ul,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var aae=["x1","y1","x2","y2","key"],oae=["offset"];function Po(t){"@babel/helpers - typeof";return Po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Po(t)}function eD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eD(Object(n),!0).forEach(function(r){sae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sae(t,e,n){return e=lae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lae(t){var e=uae(t,"string");return Po(e)=="symbol"?e:e+""}function uae(t,e){if(Po(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Po(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bo(){return bo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bo.apply(this,arguments)}function tD(t,e){if(t==null)return{};var n=cae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var fae=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,u=e.height,c=e.ry;return V.createElement("rect",{x:i,y:a,ry:c,width:s,height:u,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function p4(t,e){var n;if(V.isValidElement(t))n=V.cloneElement(t,e);else if(Oe(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,u=e.key,c=tD(e,aae),f=Ae(c,!1);f.offset;var h=tD(f,oae);n=V.createElement("line",bo({},h,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:u}))}return n}function dae(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(u,c){var f=hn(hn({},t),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(c),index:c});return p4(i,f)});return V.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function hae(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(u,c){var f=hn(hn({},t),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(c),index:c});return p4(i,f)});return V.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function pae(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,u=t.horizontalPoints,c=t.horizontal,f=c===void 0?!0:c;if(!f||!e||!e.length)return null;var h=u.map(function(g){return Math.round(g+i-i)}).sort(function(g,b){return g-b});i!==h[0]&&h.unshift(0);var p=h.map(function(g,b){var S=!h[b+1],E=S?i+s-g:h[b+1]-g;if(E<=0)return null;var x=b%e.length;return V.createElement("rect",{key:"react-".concat(b),y:g,x:r,height:E,width:a,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function mae(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,u=t.width,c=t.height,f=t.verticalPoints;if(!n||!r||!r.length)return null;var h=f.map(function(g){return Math.round(g+a-a)}).sort(function(g,b){return g-b});a!==h[0]&&h.unshift(0);var p=h.map(function(g,b){var S=!h[b+1],E=S?a+u-g:h[b+1]-g;if(E<=0)return null;var x=b%r.length;return V.createElement("rect",{key:"react-".concat(b),x:g,y:s,width:E,height:c,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var gae=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return mq(cT(hn(hn(hn({},Ul.defaultProps),r),{},{ticks:Pi(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},vae=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return mq(cT(hn(hn(hn({},Ul.defaultProps),r),{},{ticks:Pi(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},Ms={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function m4(t){var e,n,r,i,a,s,u=oT(),c=sT(),f=iie(),h=hn(hn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ms.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ms.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ms.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ms.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Ms.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Ms.verticalFill,x:he(t.x)?t.x:f.left,y:he(t.y)?t.y:f.top,width:he(t.width)?t.width:f.width,height:he(t.height)?t.height:f.height}),p=h.x,g=h.y,b=h.width,S=h.height,E=h.syncWithTicks,x=h.horizontalValues,A=h.verticalValues,O=tie(),C=nie();if(!he(b)||b<=0||!he(S)||S<=0||!he(p)||p!==+p||!he(g)||g!==+g)return null;var N=h.verticalCoordinatesGenerator||gae,R=h.horizontalCoordinatesGenerator||vae,P=h.horizontalPoints,I=h.verticalPoints;if((!P||!P.length)&&Oe(R)){var D=x&&x.length,L=R({yAxis:C?hn(hn({},C),{},{ticks:D?x:C.ticks}):void 0,width:u,height:c,offset:f},D?!0:E);Ur(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Po(L),"]")),Array.isArray(L)&&(P=L)}if((!I||!I.length)&&Oe(N)){var z=A&&A.length,B=N({xAxis:O?hn(hn({},O),{},{ticks:z?A:O.ticks}):void 0,width:u,height:c,offset:f},z?!0:E);Ur(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Po(B),"]")),Array.isArray(B)&&(I=B)}return V.createElement("g",{className:"recharts-cartesian-grid"},V.createElement(fae,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),V.createElement(dae,bo({},h,{offset:f,horizontalPoints:P,xAxis:O,yAxis:C})),V.createElement(hae,bo({},h,{offset:f,verticalPoints:I,xAxis:O,yAxis:C})),V.createElement(pae,bo({},h,{horizontalPoints:P})),V.createElement(mae,bo({},h,{verticalPoints:I})))}m4.displayName="CartesianGrid";function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function yae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y4(r.key),r)}}function _ae(t,e,n){return e&&bae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xae(t,e,n){return e=Cp(e),wae(t,g4()?Reflect.construct(e,n||[],Cp(t).constructor):e.apply(t,n))}function wae(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sae(t)}function Sae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g4=function(){return!!t})()}function Cp(t){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cp(t)}function Eae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lS(t,e)}function lS(t,e){return lS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lS(t,e)}function v4(t,e,n){return e=y4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y4(t){var e=Tae(t,"string");return wl(e)=="symbol"?e:e+""}function Tae(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function uS(){return uS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uS.apply(this,arguments)}function Aae(t){var e=t.xAxisId,n=oT(),r=sT(),i=r4(e);return i==null?null:q.createElement(Ul,uS({},i,{className:Le("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Pi(s,!0)}}))}var So=(function(t){function e(){return yae(this,e),xae(this,e,arguments)}return Eae(e,t),_ae(e,[{key:"render",value:function(){return q.createElement(Aae,this.props)}}])})(q.Component);v4(So,"displayName","XAxis");v4(So,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function Cae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x4(r.key),r)}}function Rae(t,e,n){return e&&Oae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nae(t,e,n){return e=Op(e),Pae(t,b4()?Reflect.construct(e,n||[],Op(t).constructor):e.apply(t,n))}function Pae(t,e){if(e&&(Sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mae(t)}function Mae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b4=function(){return!!t})()}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Op(t)}function Iae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cS(t,e)}function cS(t,e){return cS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cS(t,e)}function _4(t,e,n){return e=x4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x4(t){var e=kae(t,"string");return Sl(e)=="symbol"?e:e+""}function kae(t,e){if(Sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fS(){return fS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fS.apply(this,arguments)}var Dae=function(e){var n=e.yAxisId,r=oT(),i=sT(),a=i4(n);return a==null?null:q.createElement(Ul,fS({},a,{className:Le("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(u){return Pi(u,!0)}}))},Eo=(function(t){function e(){return Cae(this,e),Nae(this,e,arguments)}return Iae(e,t),Rae(e,[{key:"render",value:function(){return q.createElement(Dae,this.props)}}])})(q.Component);_4(Eo,"displayName","YAxis");_4(Eo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function nD(t){return $ae(t)||Uae(t)||jae(t)||Lae()}function Lae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jae(t,e){if(t){if(typeof t=="string")return dS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dS(t,e)}}function Uae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $ae(t){if(Array.isArray(t))return dS(t)}function dS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hS=function(e,n,r,i,a){var s=vr(e,uT),u=vr(e,Nm),c=[].concat(nD(s),nD(u)),f=vr(e,Mm),h="".concat(i,"Id"),p=i[0],g=n;if(c.length&&(g=c.reduce(function(E,x){if(x.props[h]===r&&ei(x.props,"extendDomain")&&he(x.props[p])){var A=x.props[p];return[Math.min(E[0],A),Math.max(E[1],A)]}return E},g)),f.length){var b="".concat(p,"1"),S="".concat(p,"2");g=f.reduce(function(E,x){if(x.props[h]===r&&ei(x.props,"extendDomain")&&he(x.props[b])&&he(x.props[S])){var A=x.props[b],O=x.props[S];return[Math.min(E[0],A,O),Math.max(E[1],A,O)]}return E},g)}return a&&a.length&&(g=a.reduce(function(E,x){return he(x)?[Math.min(E[0],x),Math.max(E[1],x)]:E},g)),g},xx={exports:{}},rD;function qae(){return rD||(rD=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function a(c,f,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new i(h,p||c,g),S=n?n+f:f;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],b]:c._events[S].push(b):(c._events[S]=b,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,b=p.length,S=new Array(b);g<b;g++)S[g]=p[g].fn;return S},u.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(f,h,p,g,b,S){var E=n?n+f:f;if(!this._events[E])return!1;var x=this._events[E],A=arguments.length,O,C;if(x.fn){switch(x.once&&this.removeListener(f,x.fn,void 0,!0),A){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,p),!0;case 4:return x.fn.call(x.context,h,p,g),!0;case 5:return x.fn.call(x.context,h,p,g,b),!0;case 6:return x.fn.call(x.context,h,p,g,b,S),!0}for(C=1,O=new Array(A-1);C<A;C++)O[C-1]=arguments[C];x.fn.apply(x.context,O)}else{var N=x.length,R;for(C=0;C<N;C++)switch(x[C].once&&this.removeListener(f,x[C].fn,void 0,!0),A){case 1:x[C].fn.call(x[C].context);break;case 2:x[C].fn.call(x[C].context,h);break;case 3:x[C].fn.call(x[C].context,h,p);break;case 4:x[C].fn.call(x[C].context,h,p,g);break;default:if(!O)for(R=1,O=new Array(A-1);R<A;R++)O[R-1]=arguments[R];x[C].fn.apply(x[C].context,O)}}return!0},u.prototype.on=function(f,h,p){return a(this,f,h,p,!1)},u.prototype.once=function(f,h,p){return a(this,f,h,p,!0)},u.prototype.removeListener=function(f,h,p,g){var b=n?n+f:f;if(!this._events[b])return this;if(!h)return s(this,b),this;var S=this._events[b];if(S.fn)S.fn===h&&(!g||S.once)&&(!p||S.context===p)&&s(this,b);else{for(var E=0,x=[],A=S.length;E<A;E++)(S[E].fn!==h||g&&!S[E].once||p&&S[E].context!==p)&&x.push(S[E]);x.length?this._events[b]=x.length===1?x[0]:x:s(this,b)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(xx)),xx.exports}var Bae=qae();const Hae=Ve(Bae);var wx=new Hae,Sx="recharts.syncMouseEvents";function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function zae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w4(r.key),r)}}function Vae(t,e,n){return e&&Gae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ex(t,e,n){return e=w4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w4(t){var e=Fae(t,"string");return rf(e)=="symbol"?e:e+""}function Fae(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kae=(function(){function t(){zae(this,t),Ex(this,"activeIndex",0),Ex(this,"coordinateList",[]),Ex(this,"layout","horizontal")}return Vae(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,u=s===void 0?null:s,c=n.layout,f=c===void 0?null:c,h=n.offset,p=h===void 0?null:h,g=n.mouseHandlerCallback,b=g===void 0?null:g;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,u=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,p=a+c+f,g=s+this.offset.top+u/2+h;this.mouseHandlerCallback({pageX:p,pageY:g})}}}])})();function Wae(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&he(r)&&he(i))return!0}return!1}function Yae(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function S4(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=ht(e,n,r,i),u=ht(e,n,r,a);return{points:[s,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Jae(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,c=e.cy,f=e.innerRadius,h=e.outerRadius,p=e.angle,g=ht(u,c,f,p),b=ht(u,c,h,p);r=g.x,i=g.y,a=b.x,s=b.y}else return S4(e);return[{x:r,y:i},{x:a,y:s}]}function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function iD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ah(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iD(Object(n),!0).forEach(function(r){Xae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xae(t,e,n){return e=Qae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qae(t){var e=Zae(t,"string");return af(e)=="symbol"?e:e+""}function Zae(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eoe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,u=t.activePayload,c=t.offset,f=t.activeTooltipIndex,h=t.tooltipAxisBandSize,p=t.layout,g=t.chartName,b=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!b||!a||!s||g!=="ScatterChart"&&i!=="axis")return null;var S,E=Lw;if(g==="ScatterChart")S=s,E=Dte;else if(g==="BarChart")S=Yae(p,s,c,h),E=tT;else if(p==="radial"){var x=S4(s),A=x.cx,O=x.cy,C=x.radius,N=x.startAngle,R=x.endAngle;S={cx:A,cy:O,startAngle:N,endAngle:R,innerRadius:C,outerRadius:C},E=Aq}else S={points:Jae(p,s,c)},E=Lw;var P=ah(ah(ah(ah({stroke:"#ccc",pointerEvents:"none"},c),S),Ae(b,!1)),{},{payload:u,payloadIndex:f,className:Le("recharts-tooltip-cursor",b.className)});return q.isValidElement(b)?q.cloneElement(b,P):q.createElement(E,P)}var toe=["item"],noe=["children","className","width","height","style","compact","title","desc"];function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function Hs(){return Hs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hs.apply(this,arguments)}function aD(t,e){return aoe(t)||ioe(t,e)||T4(t,e)||roe()}function roe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ioe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function aoe(t){if(Array.isArray(t))return t}function oD(t,e){if(t==null)return{};var n=ooe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ooe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function soe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function loe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A4(r.key),r)}}function uoe(t,e,n){return e&&loe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function coe(t,e,n){return e=Rp(e),foe(t,E4()?Reflect.construct(e,n||[],Rp(t).constructor):e.apply(t,n))}function foe(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return doe(t)}function doe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E4=function(){return!!t})()}function Rp(t){return Rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rp(t)}function hoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pS(t,e)}function pS(t,e){return pS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pS(t,e)}function Tl(t){return goe(t)||moe(t)||T4(t)||poe()}function poe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T4(t,e){if(t){if(typeof t=="string")return mS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mS(t,e)}}function moe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function goe(t){if(Array.isArray(t))return mS(t)}function mS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sD(Object(n),!0).forEach(function(r){Se(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Se(t,e,n){return e=A4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A4(t){var e=voe(t,"string");return El(e)=="symbol"?e:e+""}function voe(t,e){if(El(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yoe={xAxis:["bottom","top"],yAxis:["left","right"]},boe={width:"100%",height:"100%"},C4={x:0,y:0};function oh(t){return t}var _oe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},xoe=function(e,n,r,i){var a=n.find(function(h){return h&&h.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,u=i.radius;return oe(oe(oe({},i),ht(i.cx,i.cy,u,s)),{},{angle:s,radius:u})}var c=a.coordinate,f=i.angle;return oe(oe(oe({},i),ht(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return C4},Im=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(u,c){var f=c.props.data;return f&&f.length?[].concat(Tl(u),Tl(f)):u},[]);return s.length>0?s:e&&e.length&&he(i)&&he(a)?e.slice(i,a+1):[]};function O4(t){return t==="number"?[0,"auto"]:void 0}var gS=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,u=Im(n,e);return r<0||!a||!a.length||r>=u.length?null:a.reduce(function(c,f){var h,p=(h=f.props.data)!==null&&h!==void 0?h:n;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(s.dataKey&&!s.allowDuplicatedCategory){var b=p===void 0?u:p;g=Xx(b,s.dataKey,i)}else g=p&&p[r]||u[r];return g?[].concat(Tl(c),[_q(f,g)]):c},[])},lD=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=_oe(a,r),u=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,h=nQ(s,u,f,c);if(h>=0&&f){var p=f[h]&&f[h].value,g=gS(e,n,h,p),b=xoe(r,u,h,a);return{activeTooltipIndex:h,activeLabel:p,activePayload:g,activeCoordinate:b}}return null},woe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,u=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,p=e.children,g=e.stackOffset,b=pq(h,a);return r.reduce(function(S,E){var x,A=E.type.defaultProps!==void 0?oe(oe({},E.type.defaultProps),E.props):E.props,O=A.type,C=A.dataKey,N=A.allowDataOverflow,R=A.allowDuplicatedCategory,P=A.scale,I=A.ticks,D=A.includeHidden,L=A[s];if(S[L])return S;var z=Im(e.data,{graphicalItems:i.filter(function(Y){var re,fe=s in Y.props?Y.props[s]:(re=Y.type.defaultProps)===null||re===void 0?void 0:re[s];return fe===L}),dataStartIndex:c,dataEndIndex:f}),B=z.length,J,K,G;Wae(A.domain,N,O)&&(J=Pw(A.domain,null,N),b&&(O==="number"||P!=="auto")&&(G=hc(z,C,"category")));var $=O4(O);if(!J||J.length===0){var j,F=(j=A.domain)!==null&&j!==void 0?j:$;if(C){if(J=hc(z,C,O),O==="category"&&b){var ee=JV(J);R&&ee?(K=J,J=vp(0,B)):R||(J=h2(F,J,E).reduce(function(Y,re){return Y.indexOf(re)>=0?Y:[].concat(Tl(Y),[re])},[]))}else if(O==="category")R?J=J.filter(function(Y){return Y!==""&&!Ue(Y)}):J=h2(F,J,E).reduce(function(Y,re){return Y.indexOf(re)>=0||re===""||Ue(re)?Y:[].concat(Tl(Y),[re])},[]);else if(O==="number"){var ie=sQ(z,i.filter(function(Y){var re,fe,me=s in Y.props?Y.props[s]:(re=Y.type.defaultProps)===null||re===void 0?void 0:re[s],xe="hide"in Y.props?Y.props.hide:(fe=Y.type.defaultProps)===null||fe===void 0?void 0:fe.hide;return me===L&&(D||!xe)}),C,a,h);ie&&(J=ie)}b&&(O==="number"||P!=="auto")&&(G=hc(z,C,"category"))}else b?J=vp(0,B):u&&u[L]&&u[L].hasStack&&O==="number"?J=g==="expand"?[0,1]:bq(u[L].stackGroups,c,f):J=hq(z,i.filter(function(Y){var re=s in Y.props?Y.props[s]:Y.type.defaultProps[s],fe="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return re===L&&(D||!fe)}),O,h,!0);if(O==="number")J=hS(p,J,L,a,I),F&&(J=Pw(F,J,N));else if(O==="category"&&F){var ue=F,U=J.every(function(Y){return ue.indexOf(Y)>=0});U&&(J=ue)}}return oe(oe({},S),{},Se({},L,oe(oe({},A),{},{axisType:a,domain:J,categoricalDomain:G,duplicateDomain:K,originalDomain:(x=A.domain)!==null&&x!==void 0?x:$,isCategorical:b,layout:h})))},{})},Soe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,u=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,p=e.children,g=Im(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:f}),b=g.length,S=pq(h,a),E=-1;return r.reduce(function(x,A){var O=A.type.defaultProps!==void 0?oe(oe({},A.type.defaultProps),A.props):A.props,C=O[s],N=O4("number");if(!x[C]){E++;var R;return S?R=vp(0,b):u&&u[C]&&u[C].hasStack?(R=bq(u[C].stackGroups,c,f),R=hS(p,R,C,a)):(R=Pw(N,hq(g,r.filter(function(P){var I,D,L=s in P.props?P.props[s]:(I=P.type.defaultProps)===null||I===void 0?void 0:I[s],z="hide"in P.props?P.props.hide:(D=P.type.defaultProps)===null||D===void 0?void 0:D.hide;return L===C&&!z}),"number",h),i.defaultProps.allowDataOverflow),R=hS(p,R,C,a)),oe(oe({},x),{},Se({},C,oe(oe({axisType:a},i.defaultProps),{},{hide:!0,orientation:Xn(yoe,"".concat(a,".").concat(E%2),null),domain:R,originalDomain:N,isCategorical:S,layout:h})))}return x},{})},Eoe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,u=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.children,p="".concat(i,"Id"),g=vr(h,a),b={};return g&&g.length?b=woe(e,{axes:g,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:c,dataEndIndex:f}):s&&s.length&&(b=Soe(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:c,dataEndIndex:f})),b},Toe=function(e){var n=Ea(e),r=Pi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:OE(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:ip(n,r)}},uD=function(e){var n=e.children,r=e.defaultShowTooltip,i=Fn(n,gl),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},Aoe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ii(n&&n.type);return r&&r.indexOf("Bar")>=0})},cD=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Coe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,u=e.yAxisMap,c=u===void 0?{}:u,f=r.width,h=r.height,p=r.children,g=r.margin||{},b=Fn(p,gl),S=Fn(p,Aa),E=Object.keys(c).reduce(function(R,P){var I=c[P],D=I.orientation;return!I.mirror&&!I.hide?oe(oe({},R),{},Se({},D,R[D]+I.width)):R},{left:g.left||0,right:g.right||0}),x=Object.keys(s).reduce(function(R,P){var I=s[P],D=I.orientation;return!I.mirror&&!I.hide?oe(oe({},R),{},Se({},D,Xn(R,"".concat(D))+I.height)):R},{top:g.top||0,bottom:g.bottom||0}),A=oe(oe({},x),E),O=A.bottom;b&&(A.bottom+=b.props.height||gl.defaultProps.height),S&&n&&(A=aQ(A,i,r,n));var C=f-A.left-A.right,N=h-A.top-A.bottom;return oe(oe({brushBottom:O},A),{},{width:Math.max(C,0),height:Math.max(N,0)})},Ooe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},R4=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,u=s===void 0?["axis"]:s,c=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,p=e.defaultProps,g=function(A,O){var C=O.graphicalItems,N=O.stackGroups,R=O.offset,P=O.updateId,I=O.dataStartIndex,D=O.dataEndIndex,L=A.barSize,z=A.layout,B=A.barGap,J=A.barCategoryGap,K=A.maxBarSize,G=cD(z),$=G.numericAxisName,j=G.cateAxisName,F=Aoe(C),ee=[];return C.forEach(function(ie,ue){var U=Im(A.data,{graphicalItems:[ie],dataStartIndex:I,dataEndIndex:D}),Y=ie.type.defaultProps!==void 0?oe(oe({},ie.type.defaultProps),ie.props):ie.props,re=Y.dataKey,fe=Y.maxBarSize,me=Y["".concat($,"Id")],xe=Y["".concat(j,"Id")],je={},Xe=c.reduce(function(Ar,ai){var Hl=O["".concat(ai.axisType,"Map")],cn=Y["".concat(ai.axisType,"Id")];Hl&&Hl[cn]||ai.axisType==="zAxis"||No();var Sf=Hl[cn];return oe(oe({},Ar),{},Se(Se({},ai.axisType,Sf),"".concat(ai.axisType,"Ticks"),Pi(Sf)))},je),de=Xe[j],Ce=Xe["".concat(j,"Ticks")],Ne=N&&N[me]&&N[me].hasStack&&gQ(ie,N[me].stackGroups),ce=Ii(ie.type).indexOf("Bar")>=0,pt=ip(de,Ce),Ie=[],wt=F&&rQ({barSize:L,stackGroups:N,totalSize:Ooe(Xe,j)});if(ce){var St,un,Tr=Ue(fe)?K:fe,zr=(St=(un=ip(de,Ce,!0))!==null&&un!==void 0?un:Tr)!==null&&St!==void 0?St:0;Ie=iQ({barGap:B,barCategoryGap:J,bandSize:zr!==pt?zr:pt,sizeList:wt[xe],maxBarSize:Tr}),zr!==pt&&(Ie=Ie.map(function(Ar){return oe(oe({},Ar),{},{position:oe(oe({},Ar.position),{},{offset:Ar.position.offset-zr/2})})}))}var Wi=ie&&ie.type&&ie.type.getComposedData;Wi&&ee.push({props:oe(oe({},Wi(oe(oe({},Xe),{},{displayedData:U,props:A,dataKey:re,item:ie,bandSize:pt,barPosition:Ie,offset:R,stackedData:Ne,layout:z,dataStartIndex:I,dataEndIndex:D}))),{},Se(Se(Se({key:ie.key||"item-".concat(ue)},$,Xe[$]),j,Xe[j]),"animationId",P)),childIndex:lF(ie,A.children),item:ie})}),ee},b=function(A,O){var C=A.props,N=A.dataStartIndex,R=A.dataEndIndex,P=A.updateId;if(!ON({props:C}))return null;var I=C.children,D=C.layout,L=C.stackOffset,z=C.data,B=C.reverseStackOrder,J=cD(D),K=J.numericAxisName,G=J.cateAxisName,$=vr(I,r),j=pQ(z,$,"".concat(K,"Id"),"".concat(G,"Id"),L,B),F=c.reduce(function(Y,re){var fe="".concat(re.axisType,"Map");return oe(oe({},Y),{},Se({},fe,Eoe(C,oe(oe({},re),{},{graphicalItems:$,stackGroups:re.axisType===K&&j,dataStartIndex:N,dataEndIndex:R}))))},{}),ee=Coe(oe(oe({},F),{},{props:C,graphicalItems:$}),O==null?void 0:O.legendBBox);Object.keys(F).forEach(function(Y){F[Y]=h(C,F[Y],ee,Y.replace("Map",""),n)});var ie=F["".concat(G,"Map")],ue=Toe(ie),U=g(C,oe(oe({},F),{},{dataStartIndex:N,dataEndIndex:R,updateId:P,graphicalItems:$,stackGroups:j,offset:ee}));return oe(oe({formattedGraphicalItems:U,graphicalItems:$,offset:ee,stackGroups:j},ue),F)},S=(function(x){function A(O){var C,N,R;return soe(this,A),R=coe(this,A,[O]),Se(R,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Se(R,"accessibilityManager",new Kae),Se(R,"handleLegendBBoxUpdate",function(P){if(P){var I=R.state,D=I.dataStartIndex,L=I.dataEndIndex,z=I.updateId;R.setState(oe({legendBBox:P},b({props:R.props,dataStartIndex:D,dataEndIndex:L,updateId:z},oe(oe({},R.state),{},{legendBBox:P}))))}}),Se(R,"handleReceiveSyncEvent",function(P,I,D){if(R.props.syncId===P){if(D===R.eventEmitterSymbol&&typeof R.props.syncMethod!="function")return;R.applySyncEvent(I)}}),Se(R,"handleBrushChange",function(P){var I=P.startIndex,D=P.endIndex;if(I!==R.state.dataStartIndex||D!==R.state.dataEndIndex){var L=R.state.updateId;R.setState(function(){return oe({dataStartIndex:I,dataEndIndex:D},b({props:R.props,dataStartIndex:I,dataEndIndex:D,updateId:L},R.state))}),R.triggerSyncEvent({dataStartIndex:I,dataEndIndex:D})}}),Se(R,"handleMouseEnter",function(P){var I=R.getMouseInfo(P);if(I){var D=oe(oe({},I),{},{isTooltipActive:!0});R.setState(D),R.triggerSyncEvent(D);var L=R.props.onMouseEnter;Oe(L)&&L(D,P)}}),Se(R,"triggeredAfterMouseMove",function(P){var I=R.getMouseInfo(P),D=I?oe(oe({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};R.setState(D),R.triggerSyncEvent(D);var L=R.props.onMouseMove;Oe(L)&&L(D,P)}),Se(R,"handleItemMouseEnter",function(P){R.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),Se(R,"handleItemMouseLeave",function(){R.setState(function(){return{isTooltipActive:!1}})}),Se(R,"handleMouseMove",function(P){P.persist(),R.throttleTriggeredAfterMouseMove(P)}),Se(R,"handleMouseLeave",function(P){R.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};R.setState(I),R.triggerSyncEvent(I);var D=R.props.onMouseLeave;Oe(D)&&D(I,P)}),Se(R,"handleOuterEvent",function(P){var I=sF(P),D=Xn(R.props,"".concat(I));if(I&&Oe(D)){var L,z;/.*touch.*/i.test(I)?z=R.getMouseInfo(P.changedTouches[0]):z=R.getMouseInfo(P),D((L=z)!==null&&L!==void 0?L:{},P)}}),Se(R,"handleClick",function(P){var I=R.getMouseInfo(P);if(I){var D=oe(oe({},I),{},{isTooltipActive:!0});R.setState(D),R.triggerSyncEvent(D);var L=R.props.onClick;Oe(L)&&L(D,P)}}),Se(R,"handleMouseDown",function(P){var I=R.props.onMouseDown;if(Oe(I)){var D=R.getMouseInfo(P);I(D,P)}}),Se(R,"handleMouseUp",function(P){var I=R.props.onMouseUp;if(Oe(I)){var D=R.getMouseInfo(P);I(D,P)}}),Se(R,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&R.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),Se(R,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&R.handleMouseDown(P.changedTouches[0])}),Se(R,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&R.handleMouseUp(P.changedTouches[0])}),Se(R,"handleDoubleClick",function(P){var I=R.props.onDoubleClick;if(Oe(I)){var D=R.getMouseInfo(P);I(D,P)}}),Se(R,"handleContextMenu",function(P){var I=R.props.onContextMenu;if(Oe(I)){var D=R.getMouseInfo(P);I(D,P)}}),Se(R,"triggerSyncEvent",function(P){R.props.syncId!==void 0&&wx.emit(Sx,R.props.syncId,P,R.eventEmitterSymbol)}),Se(R,"applySyncEvent",function(P){var I=R.props,D=I.layout,L=I.syncMethod,z=R.state.updateId,B=P.dataStartIndex,J=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)R.setState(oe({dataStartIndex:B,dataEndIndex:J},b({props:R.props,dataStartIndex:B,dataEndIndex:J,updateId:z},R.state)));else if(P.activeTooltipIndex!==void 0){var K=P.chartX,G=P.chartY,$=P.activeTooltipIndex,j=R.state,F=j.offset,ee=j.tooltipTicks;if(!F)return;if(typeof L=="function")$=L(ee,P);else if(L==="value"){$=-1;for(var ie=0;ie<ee.length;ie++)if(ee[ie].value===P.activeLabel){$=ie;break}}var ue=oe(oe({},F),{},{x:F.left,y:F.top}),U=Math.min(K,ue.x+ue.width),Y=Math.min(G,ue.y+ue.height),re=ee[$]&&ee[$].value,fe=gS(R.state,R.props.data,$),me=ee[$]?{x:D==="horizontal"?ee[$].coordinate:U,y:D==="horizontal"?Y:ee[$].coordinate}:C4;R.setState(oe(oe({},P),{},{activeLabel:re,activeCoordinate:me,activePayload:fe,activeTooltipIndex:$}))}else R.setState(P)}),Se(R,"renderCursor",function(P){var I,D=R.state,L=D.isTooltipActive,z=D.activeCoordinate,B=D.activePayload,J=D.offset,K=D.activeTooltipIndex,G=D.tooltipAxisBandSize,$=R.getTooltipEventType(),j=(I=P.props.active)!==null&&I!==void 0?I:L,F=R.props.layout,ee=P.key||"_recharts-cursor";return V.createElement(eoe,{key:ee,activeCoordinate:z,activePayload:B,activeTooltipIndex:K,chartName:n,element:P,isActive:j,layout:F,offset:J,tooltipAxisBandSize:G,tooltipEventType:$})}),Se(R,"renderPolarAxis",function(P,I,D){var L=Xn(P,"type.axisType"),z=Xn(R.state,"".concat(L,"Map")),B=P.type.defaultProps,J=B!==void 0?oe(oe({},B),P.props):P.props,K=z&&z[J["".concat(L,"Id")]];return q.cloneElement(P,oe(oe({},K),{},{className:Le(L,K.className),key:P.key||"".concat(I,"-").concat(D),ticks:Pi(K,!0)}))}),Se(R,"renderPolarGrid",function(P){var I=P.props,D=I.radialLines,L=I.polarAngles,z=I.polarRadius,B=R.state,J=B.radiusAxisMap,K=B.angleAxisMap,G=Ea(J),$=Ea(K),j=$.cx,F=$.cy,ee=$.innerRadius,ie=$.outerRadius;return q.cloneElement(P,{polarAngles:Array.isArray(L)?L:Pi($,!0).map(function(ue){return ue.coordinate}),polarRadius:Array.isArray(z)?z:Pi(G,!0).map(function(ue){return ue.coordinate}),cx:j,cy:F,innerRadius:ee,outerRadius:ie,key:P.key||"polar-grid",radialLines:D})}),Se(R,"renderLegend",function(){var P=R.state.formattedGraphicalItems,I=R.props,D=I.children,L=I.width,z=I.height,B=R.props.margin||{},J=L-(B.left||0)-(B.right||0),K=fq({children:D,formattedGraphicalItems:P,legendWidth:J,legendContent:f});if(!K)return null;var G=K.item,$=oD(K,toe);return q.cloneElement(G,oe(oe({},$),{},{chartWidth:L,chartHeight:z,margin:B,onBBoxUpdate:R.handleLegendBBoxUpdate}))}),Se(R,"renderTooltip",function(){var P,I=R.props,D=I.children,L=I.accessibilityLayer,z=Fn(D,Mn);if(!z)return null;var B=R.state,J=B.isTooltipActive,K=B.activeCoordinate,G=B.activePayload,$=B.activeLabel,j=B.offset,F=(P=z.props.active)!==null&&P!==void 0?P:J;return q.cloneElement(z,{viewBox:oe(oe({},j),{},{x:j.left,y:j.top}),active:F,label:$,payload:F?G:[],coordinate:K,accessibilityLayer:L})}),Se(R,"renderBrush",function(P){var I=R.props,D=I.margin,L=I.data,z=R.state,B=z.offset,J=z.dataStartIndex,K=z.dataEndIndex,G=z.updateId;return q.cloneElement(P,{key:P.key||"_recharts-brush",onChange:th(R.handleBrushChange,P.props.onChange),data:L,x:he(P.props.x)?P.props.x:B.left,y:he(P.props.y)?P.props.y:B.top+B.height+B.brushBottom-(D.bottom||0),width:he(P.props.width)?P.props.width:B.width,startIndex:J,endIndex:K,updateId:"brush-".concat(G)})}),Se(R,"renderReferenceElement",function(P,I,D){if(!P)return null;var L=R,z=L.clipPathId,B=R.state,J=B.xAxisMap,K=B.yAxisMap,G=B.offset,$=P.type.defaultProps||{},j=P.props,F=j.xAxisId,ee=F===void 0?$.xAxisId:F,ie=j.yAxisId,ue=ie===void 0?$.yAxisId:ie;return q.cloneElement(P,{key:P.key||"".concat(I,"-").concat(D),xAxis:J[ee],yAxis:K[ue],viewBox:{x:G.left,y:G.top,width:G.width,height:G.height},clipPathId:z})}),Se(R,"renderActivePoints",function(P){var I=P.item,D=P.activePoint,L=P.basePoint,z=P.childIndex,B=P.isRange,J=[],K=I.props.key,G=I.item.type.defaultProps!==void 0?oe(oe({},I.item.type.defaultProps),I.item.props):I.item.props,$=G.activeDot,j=G.dataKey,F=oe(oe({index:z,dataKey:j,cx:D.x,cy:D.y,r:4,fill:eT(I.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},Ae($,!1)),kh($));return J.push(A.renderActiveDot($,F,"".concat(K,"-activePoint-").concat(z))),L?J.push(A.renderActiveDot($,oe(oe({},F),{},{cx:L.x,cy:L.y}),"".concat(K,"-basePoint-").concat(z))):B&&J.push(null),J}),Se(R,"renderGraphicChild",function(P,I,D){var L=R.filterFormatItem(P,I,D);if(!L)return null;var z=R.getTooltipEventType(),B=R.state,J=B.isTooltipActive,K=B.tooltipAxis,G=B.activeTooltipIndex,$=B.activeLabel,j=R.props.children,F=Fn(j,Mn),ee=L.props,ie=ee.points,ue=ee.isRange,U=ee.baseLine,Y=L.item.type.defaultProps!==void 0?oe(oe({},L.item.type.defaultProps),L.item.props):L.item.props,re=Y.activeDot,fe=Y.hide,me=Y.activeBar,xe=Y.activeShape,je=!!(!fe&&J&&F&&(re||me||xe)),Xe={};z!=="axis"&&F&&F.props.trigger==="click"?Xe={onClick:th(R.handleItemMouseEnter,P.props.onClick)}:z!=="axis"&&(Xe={onMouseLeave:th(R.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:th(R.handleItemMouseEnter,P.props.onMouseEnter)});var de=q.cloneElement(P,oe(oe({},L.props),Xe));function Ce(ai){return typeof K.dataKey=="function"?K.dataKey(ai.payload):null}if(je)if(G>=0){var Ne,ce;if(K.dataKey&&!K.allowDuplicatedCategory){var pt=typeof K.dataKey=="function"?Ce:"payload.".concat(K.dataKey.toString());Ne=Xx(ie,pt,$),ce=ue&&U&&Xx(U,pt,$)}else Ne=ie==null?void 0:ie[G],ce=ue&&U&&U[G];if(xe||me){var Ie=P.props.activeIndex!==void 0?P.props.activeIndex:G;return[q.cloneElement(P,oe(oe(oe({},L.props),Xe),{},{activeIndex:Ie})),null,null]}if(!Ue(Ne))return[de].concat(Tl(R.renderActivePoints({item:L,activePoint:Ne,basePoint:ce,childIndex:G,isRange:ue})))}else{var wt,St=(wt=R.getItemByXY(R.state.activeCoordinate))!==null&&wt!==void 0?wt:{graphicalItem:de},un=St.graphicalItem,Tr=un.item,zr=Tr===void 0?P:Tr,Wi=un.childIndex,Ar=oe(oe(oe({},L.props),Xe),{},{activeIndex:Wi});return[q.cloneElement(zr,Ar),null,null]}return ue?[de,null,null]:[de,null]}),Se(R,"renderCustomized",function(P,I,D){return q.cloneElement(P,oe(oe({key:"recharts-customized-".concat(D)},R.props),R.state))}),Se(R,"renderMap",{CartesianGrid:{handler:oh,once:!0},ReferenceArea:{handler:R.renderReferenceElement},ReferenceLine:{handler:oh},ReferenceDot:{handler:R.renderReferenceElement},XAxis:{handler:oh},YAxis:{handler:oh},Brush:{handler:R.renderBrush,once:!0},Bar:{handler:R.renderGraphicChild},Line:{handler:R.renderGraphicChild},Area:{handler:R.renderGraphicChild},Radar:{handler:R.renderGraphicChild},RadialBar:{handler:R.renderGraphicChild},Scatter:{handler:R.renderGraphicChild},Pie:{handler:R.renderGraphicChild},Funnel:{handler:R.renderGraphicChild},Tooltip:{handler:R.renderCursor,once:!0},PolarGrid:{handler:R.renderPolarGrid,once:!0},PolarAngleAxis:{handler:R.renderPolarAxis},PolarRadiusAxis:{handler:R.renderPolarAxis},Customized:{handler:R.renderCustomized}}),R.clipPathId="".concat((C=O.id)!==null&&C!==void 0?C:vf("recharts"),"-clip"),R.throttleTriggeredAfterMouseMove=u$(R.triggeredAfterMouseMove,(N=O.throttleDelay)!==null&&N!==void 0?N:1e3/60),R.state={},R}return hoe(A,x),uoe(A,[{key:"componentDidMount",value:function(){var C,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var C=this.props,N=C.children,R=C.data,P=C.height,I=C.layout,D=Fn(N,Mn);if(D){var L=D.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var z=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,B=gS(this.state,R,L,z),J=this.state.tooltipTicks[L].coordinate,K=(this.state.offset.top+P)/2,G=I==="horizontal",$=G?{x:J,y:K}:{y:J,x:K},j=this.state.formattedGraphicalItems.find(function(ee){var ie=ee.item;return ie.type.name==="Scatter"});j&&($=oe(oe({},$),j.props.points[L].tooltipPosition),B=j.props.points[L].tooltipPayload);var F={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:z,activePayload:B,activeCoordinate:$};this.setState(F),this.renderCursor(D),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(C,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==C.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==C.margin){var R,P;this.accessibilityManager.setDetails({offset:{left:(R=this.props.margin.left)!==null&&R!==void 0?R:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(C){Zx([Fn(C.children,Mn)],[Fn(this.props.children,Mn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var C=Fn(this.props.children,Mn);if(C&&typeof C.props.shared=="boolean"){var N=C.props.shared?"axis":"item";return u.indexOf(N)>=0?N:a}return a}},{key:"getMouseInfo",value:function(C){if(!this.container)return null;var N=this.container,R=N.getBoundingClientRect(),P=KK(R),I={chartX:Math.round(C.pageX-P.left),chartY:Math.round(C.pageY-P.top)},D=R.width/N.offsetWidth||1,L=this.inRange(I.chartX,I.chartY,D);if(!L)return null;var z=this.state,B=z.xAxisMap,J=z.yAxisMap,K=this.getTooltipEventType(),G=lD(this.state,this.props.data,this.props.layout,L);if(K!=="axis"&&B&&J){var $=Ea(B).scale,j=Ea(J).scale,F=$&&$.invert?$.invert(I.chartX):null,ee=j&&j.invert?j.invert(I.chartY):null;return oe(oe({},I),{},{xValue:F,yValue:ee},G)}return G?oe(oe({},I),G):null}},{key:"inRange",value:function(C,N){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,I=C/R,D=N/R;if(P==="horizontal"||P==="vertical"){var L=this.state.offset,z=I>=L.left&&I<=L.left+L.width&&D>=L.top&&D<=L.top+L.height;return z?{x:I,y:D}:null}var B=this.state,J=B.angleAxisMap,K=B.radiusAxisMap;if(J&&K){var G=Ea(J);return g2({x:I,y:D},G)}return null}},{key:"parseEventsOfWrapper",value:function(){var C=this.props.children,N=this.getTooltipEventType(),R=Fn(C,Mn),P={};R&&N==="axis"&&(R.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var I=kh(this.props,this.handleOuterEvent);return oe(oe({},I),P)}},{key:"addListener",value:function(){wx.on(Sx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){wx.removeListener(Sx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(C,N,R){for(var P=this.state.formattedGraphicalItems,I=0,D=P.length;I<D;I++){var L=P[I];if(L.item===C||L.props.key===C.key||N===Ii(L.item.type)&&R===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var C=this.clipPathId,N=this.state.offset,R=N.left,P=N.top,I=N.height,D=N.width;return V.createElement("defs",null,V.createElement("clipPath",{id:C},V.createElement("rect",{x:R,y:P,height:I,width:D})))}},{key:"getXScales",value:function(){var C=this.state.xAxisMap;return C?Object.entries(C).reduce(function(N,R){var P=aD(R,2),I=P[0],D=P[1];return oe(oe({},N),{},Se({},I,D.scale))},{}):null}},{key:"getYScales",value:function(){var C=this.state.yAxisMap;return C?Object.entries(C).reduce(function(N,R){var P=aD(R,2),I=P[0],D=P[1];return oe(oe({},N),{},Se({},I,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(C){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[C])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(C){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[C])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(C){var N=this.state,R=N.formattedGraphicalItems,P=N.activeItem;if(R&&R.length)for(var I=0,D=R.length;I<D;I++){var L=R[I],z=L.props,B=L.item,J=B.type.defaultProps!==void 0?oe(oe({},B.type.defaultProps),B.props):B.props,K=Ii(B.type);if(K==="Bar"){var G=(z.data||[]).find(function(ee){return mte(C,ee)});if(G)return{graphicalItem:L,payload:G}}else if(K==="RadialBar"){var $=(z.data||[]).find(function(ee){return g2(C,ee)});if($)return{graphicalItem:L,payload:$}}else if(Am(L,P)||Cm(L,P)||Qc(L,P)){var j=Une({graphicalItem:L,activeTooltipItem:P,itemData:J.data}),F=J.activeIndex===void 0?j:J.activeIndex;return{graphicalItem:oe(oe({},L),{},{childIndex:F}),payload:Qc(L,P)?J.data[j]:L.props.data[j]}}}return null}},{key:"render",value:function(){var C=this;if(!ON(this))return null;var N=this.props,R=N.children,P=N.className,I=N.width,D=N.height,L=N.style,z=N.compact,B=N.title,J=N.desc,K=oD(N,noe),G=Ae(K,!1);if(z)return V.createElement(zk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(tw,Hs({},G,{width:I,height:D,title:B,desc:J}),this.renderClipPath(),NN(R,this.renderMap)));if(this.props.accessibilityLayer){var $,j;G.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,G.role=(j=this.props.role)!==null&&j!==void 0?j:"application",G.onKeyDown=function(ee){C.accessibilityManager.keyboardEvent(ee)},G.onFocus=function(){C.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return V.createElement(zk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",Hs({className:Le("recharts-wrapper",P),style:oe({position:"relative",cursor:"default",width:I,height:D},L)},F,{ref:function(ie){C.container=ie}}),V.createElement(tw,Hs({},G,{width:I,height:D,title:B,desc:J,style:boe}),this.renderClipPath(),NN(R,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(q.Component);Se(S,"displayName",n),Se(S,"defaultProps",oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),Se(S,"getDerivedStateFromProps",function(x,A){var O=x.dataKey,C=x.data,N=x.children,R=x.width,P=x.height,I=x.layout,D=x.stackOffset,L=x.margin,z=A.dataStartIndex,B=A.dataEndIndex;if(A.updateId===void 0){var J=uD(x);return oe(oe(oe({},J),{},{updateId:0},b(oe(oe({props:x},J),{},{updateId:0}),A)),{},{prevDataKey:O,prevData:C,prevWidth:R,prevHeight:P,prevLayout:I,prevStackOffset:D,prevMargin:L,prevChildren:N})}if(O!==A.prevDataKey||C!==A.prevData||R!==A.prevWidth||P!==A.prevHeight||I!==A.prevLayout||D!==A.prevStackOffset||!Ys(L,A.prevMargin)){var K=uD(x),G={chartX:A.chartX,chartY:A.chartY,isTooltipActive:A.isTooltipActive},$=oe(oe({},lD(A,C,I)),{},{updateId:A.updateId+1}),j=oe(oe(oe({},K),G),$);return oe(oe(oe({},j),b(oe({props:x},j),A)),{},{prevDataKey:O,prevData:C,prevWidth:R,prevHeight:P,prevLayout:I,prevStackOffset:D,prevMargin:L,prevChildren:N})}if(!Zx(N,A.prevChildren)){var F,ee,ie,ue,U=Fn(N,gl),Y=U&&(F=(ee=U.props)===null||ee===void 0?void 0:ee.startIndex)!==null&&F!==void 0?F:z,re=U&&(ie=(ue=U.props)===null||ue===void 0?void 0:ue.endIndex)!==null&&ie!==void 0?ie:B,fe=Y!==z||re!==B,me=!Ue(C),xe=me&&!fe?A.updateId:A.updateId+1;return oe(oe({updateId:xe},b(oe(oe({props:x},A),{},{updateId:xe,dataStartIndex:Y,dataEndIndex:re}),A)),{},{prevChildren:N,dataStartIndex:Y,dataEndIndex:re})}return null}),Se(S,"renderActiveDot",function(x,A,O){var C;return q.isValidElement(x)?C=q.cloneElement(x,A):Oe(x)?C=x(A):C=V.createElement(nT,A),V.createElement(rt,{className:"recharts-active-dot",key:O},C)});var E=q.forwardRef(function(A,O){return V.createElement(S,Hs({},A,{ref:O}))});return E.displayName=S.displayName,E},Th=R4({chartName:"BarChart",GraphicalChild:Kn,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:So},{axisType:"yAxis",AxisComp:Eo}],formatAxisMap:Bre}),Roe=R4({chartName:"PieChart",GraphicalChild:Vi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Tm},{axisType:"radiusAxis",AxisComp:Sm}],formatAxisMap:AQ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Noe=({topic:t,demographics:e,regionName:n})=>{const r=q.useMemo(()=>{if(!e)return null;const a=[],s=t.type==="binary",u=b=>{let S=-1,E="",x=-1,A="",O={};return Object.entries(b).forEach(([C,N])=>{const R=Object.values(N).reduce((P,I)=>P+I,0);if(R!==0)if(s){const P=N.support||0,I=N.oppose||0,D=P/R*100,L=I/R*100;D>S&&(S=D,E=C),L>x&&(x=L,A=C)}else{let P=-1,I="";Object.entries(N).forEach(([D,L])=>{L>P&&(P=L,I=D)}),O[C]=I}}),{maxSupport:S,supportGroup:E,maxOppose:x,opposeGroup:A,groupFavorites:O}};let c=-1,f="";Object.entries(e.byAge).forEach(([b,S])=>{const E=Object.values(S).reduce((x,A)=>x+A,0);E>c&&(c=E,f=b)}),f&&c>0&&a.push(`La conversacin est siendo impulsada principalmente por el grupo de ${f} aos, que lidera la participacin.`);const h=u(e.byGender);if(s&&h.supportGroup){const b=e.byGender.Masculino||{},S=e.byGender.Femenino||{},E=O=>{const C=(O.support||0)+(O.oppose||0)+(O.neutral||0);return C?(O.support||0)/C*100:0},x=E(b),A=E(S);if(Math.abs(x-A)>10){const O=x>A?"hombres":"mujeres";a.push(`Existe una brecha de gnero significativa: los votantes ${O} muestran un ${Math.abs(x-A).toFixed(0)}% ms de apoyo que el sexo opuesto.`)}else a.push("La opinin es bastante homognea entre gneros, sin diferencias estadsticas significativas.")}const p=u(e.byAge);s&&p.supportGroup?a.push(`El segmento demogrfico ms favorable es ${p.supportGroup} (con un ${p.maxSupport.toFixed(0)}% de apoyo), mientras que el rechazo se concentra ms en el grupo ${p.opposeGroup}.`):s||new Set(Object.values(p.groupFavorites)).size>1&&a.push("Se observa una fractura generacional clara en las preferencias de voto.");const g=u(e.byOccupation);if(s&&g.supportGroup)a.push(`Por ocupacin, los ${g.supportGroup} lideran el apoyo, contrastando con la postura de los ${g.opposeGroup}.`);else if(!s){const b=g.groupFavorites.Estudiante;b&&a.push(`Entre los estudiantes, la opcin preferida es claramente ${b}.`)}if(s){let b=0,S=0;Object.values(e.byGender).forEach(x=>{b+=x.support||0,S+=x.oppose||0});const E=b+S;if(E>10){const x=b/E*100;x>45&&x<55?a.push("El debate muestra una extrema polarizacin, sin un consenso claro en la sociedad."):x>70&&a.push("Se observa un amplio consenso mayoritario a favor de la propuesta.")}}return{points:a}},[e,t]);if(!r||r.points.length===0)return null;const i=n?T.jsxs(T.Fragment,{children:["Analizando los datos especficos de ",T.jsx("strong",{className:"font-extrabold text-indigo-900 bg-indigo-50 px-1 rounded",children:n}),":"]}):"A nivel nacional, los datos revelan patrones interesantes:";return T.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-blue-50 rounded-3xl p-6 border border-indigo-100 shadow-sm relative overflow-hidden group",children:[T.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:T.jsx("svg",{className:"w-24 h-24 text-indigo-600",fill:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{d:"M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm1 15h-2v-2h2zm0-4h-2V7h2z"})})}),T.jsxs("div",{className:"relative z-10",children:[T.jsxs("h3",{className:"text-lg font-bold text-indigo-900 mb-4 flex items-center",children:[T.jsx("svg",{className:"w-5 h-5 mr-2 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Anlisis de Tendencias (IA)"]}),T.jsx("p",{className:"text-indigo-800 font-medium mb-4",children:i}),T.jsx("ul",{className:"space-y-3",children:r.points.map((a,s)=>T.jsxs("li",{className:"flex items-start text-indigo-700 text-sm leading-relaxed",children:[T.jsx("span",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full mt-1.5 mr-3 flex-shrink-0"}),a]},s))}),T.jsxs("div",{className:"mt-4 pt-4 border-t border-indigo-100 text-xs text-indigo-400 flex justify-between items-center",children:[T.jsxs("span",{children:["Actualizado en tiempo real basado en ",t.votes?t.votes.support+t.votes.oppose+t.votes.neutral:0," votos"]}),T.jsx("span",{className:"bg-indigo-100 text-indigo-600 px-2 py-0.5 rounded text-[10px] font-bold",children:"LIVE"})]})]})]})},Poe=["18-24","25-39","40-59","60+"],Moe=["Estudiante","Desempleado","Trabajador Manual / Obrero","Trabajador Servicios / Administrativo","Profesional Tcnico / Autnomo","Directivo / Empresario","Jubilado"],Ioe=({topic:t,demographics:e,regionalRanking:n})=>{const r=n.slice(0,5).map(g=>({name:g.name,votos:g.total})),i=n.length===1?n[0].name:void 0,a=e?[{name:"Masculino",value:Object.values(e.byGender.Masculino||{}).reduce((g,b)=>g+b,0)},{name:"Femenino",value:Object.values(e.byGender.Femenino||{}).reduce((g,b)=>g+b,0)}].filter(g=>!0):[],s=e?Poe.map(g=>{const b=e.byAge[g]||{};if(t.type==="binary"){const S=b.support||0,E=b.oppose||0,x=b.neutral||0;return{name:g,"A favor":S,"En contra":E,Neutral:x}}else{const S=Object.values(b).reduce((E,x)=>E+x,0);return{name:g,Votos:S}}}):[],u=e?Moe.map(g=>{var S;const b=((S=e.byOccupation)==null?void 0:S[g])||{};if(t.type==="binary"){const E=b.support||0,x=b.oppose||0,A=b.neutral||0;return{name:g,"A favor":E,"En contra":x,Neutral:A}}else{const E=Object.values(b).reduce((x,A)=>x+A,0);return{name:g,Votos:E}}}):[];if(!e)return null;const c=t.type==="binary",f={top:5,right:30,left:8,bottom:5},h=110,p=(g,b)=>T.jsx(cc,{width:"100%",height:"100%",children:T.jsxs(Th,{data:g,layout:"vertical",margin:f,barCategoryGap:10,children:[T.jsx(So,{type:"number",hide:!0}),T.jsx(Eo,{type:"category",dataKey:"name",width:h,tick:{fontSize:10,fill:"#4b5563",fontWeight:600},tickLine:!1,axisLine:!1}),T.jsx(Mn,{cursor:{fill:"#f9fafb"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),c?T.jsxs(T.Fragment,{children:[T.jsx(Aa,{verticalAlign:"top",iconType:"circle",height:30,wrapperStyle:{fontSize:"10px"}}),T.jsx(Kn,{dataKey:"A favor",stackId:"a",fill:"#22c55e",radius:[0,0,0,0],barSize:16}),T.jsx(Kn,{dataKey:"En contra",stackId:"a",fill:"#ef4444",radius:[0,0,0,0],barSize:16}),T.jsx(Kn,{dataKey:"Neutral",stackId:"a",fill:"#94a3b8",radius:[0,4,4,0],barSize:16})]}):T.jsx(Kn,{dataKey:"Votos",fill:b,radius:[0,4,4,0],barSize:16})]})});return T.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[r.length>0&&T.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-6 shadow-sm",children:[T.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[T.jsx("span",{className:"bg-blue-100 text-blue-600 p-1.5 rounded-lg mr-2",children:T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),"Regiones Activas"]}),T.jsx("div",{className:"h-48 w-full -ml-2",children:T.jsx(cc,{width:"100%",height:"100%",children:T.jsxs(Th,{data:r,layout:"vertical",margin:f,children:[T.jsx(So,{type:"number",hide:!0}),T.jsx(Eo,{type:"category",dataKey:"name",width:h,tick:{fontSize:11,fill:"#4b5563",fontWeight:500},tickLine:!1,axisLine:!1}),T.jsx(Mn,{cursor:{fill:"#f3f4f6"}}),T.jsx(Kn,{dataKey:"votos",fill:"#3b82f6",radius:[0,4,4,0],barSize:20})]})})})]}),T.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-6 shadow-sm",children:[T.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[T.jsx("span",{className:"bg-pink-100 text-pink-600 p-1.5 rounded-lg mr-2",children:T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),"Participacin por Gnero"]}),T.jsx("div",{className:"h-32 w-full -ml-2",children:T.jsx(cc,{width:"100%",height:"100%",children:T.jsxs(Th,{data:a,layout:"vertical",margin:f,children:[T.jsx(So,{type:"number",hide:!0}),T.jsx(Eo,{type:"category",dataKey:"name",width:h,tick:{fontSize:11,fill:"#4b5563",fontWeight:500},tickLine:!1,axisLine:!1}),T.jsx(Mn,{cursor:{fill:"#f3f4f6"}}),T.jsx(Kn,{dataKey:"value",fill:"#8884d8",radius:[0,4,4,0],barSize:20,children:a.map((g,b)=>T.jsx(ol,{fill:g.name==="Masculino"?"#3b82f6":"#ec4899"},`cell-${b}`))})]})})})]}),T.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-6 shadow-sm",children:[T.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[T.jsx("span",{className:"bg-purple-100 text-purple-600 p-1.5 rounded-lg mr-2",children:T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),"Voto por Edad"]}),T.jsx("div",{className:"h-48 w-full -ml-2",children:p(s,"#8b5cf6")})]}),T.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-6 shadow-sm",children:[T.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[T.jsx("span",{className:"bg-emerald-100 text-emerald-600 p-1.5 rounded-lg mr-2",children:T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),"Voto por Ocupacin"]}),T.jsx("div",{className:"h-[340px] w-full -ml-2",children:p(u,"#10b981")})]}),T.jsx(Noe,{topic:t,demographics:e,regionName:i})]})},fD={PSOE:"#E30613",PP:"#0056A7",Vox:"#63BE21",Sumar:"#E51C55",Podemos:"#6B1F5F",Junts:"#00C3B2",ERC:"#FFD700",PNV:"#008000",Bildu:"#B5CF18",SALF:"#A0522D",PACMA:"#9ACD32",Ciudadanos:"#EB6109",Otros:"#808080","En blanco":"#FFFFFF"},koe=t=>{const e=Object.keys(fD).find(n=>t.includes(n));return e?fD[e]:"#aaaaaa"},Doe=({votes:t,optionCounts:e,type:n="binary",labelSupport:r,labelOppose:i})=>{let a=[];return n==="multiple_choice"&&e?a=Object.entries(e).map(([s,u])=>({name:s,value:u,color:koe(s)})).filter(s=>s.value>0).sort((s,u)=>u.value-s.value):a=[{name:r||"A favor",value:t.support,color:"#22c55e"},{name:i||"En contra",value:t.oppose,color:"#ef4444"},{name:"Neutral",value:t.neutral,color:"#94a3b8"}].filter(s=>s.value>0),a.length===0?T.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400 text-sm",children:"Sin votos registrados"}):n==="multiple_choice"?T.jsx("div",{className:"h-[400px] w-full",children:T.jsx(cc,{width:"100%",height:"100%",children:T.jsxs(Th,{layout:"vertical",data:a,margin:{top:5,right:30,left:0,bottom:5},children:[T.jsx(m4,{strokeDasharray:"3 3",horizontal:!1}),T.jsx(So,{type:"number",hide:!0}),T.jsx(Eo,{type:"category",dataKey:"name",width:110,tick:{fontSize:11,fontWeight:"bold",fill:"#374151"}}),T.jsx(Mn,{cursor:{fill:"rgba(0,0,0,0.05)"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)"}}),T.jsx(Kn,{dataKey:"value",radius:[0,4,4,0],barSize:20,children:a.map((s,u)=>T.jsx(ol,{fill:s.color},`cell-${u}`))})]})})}):T.jsx("div",{className:"h-64 w-full",children:T.jsx(cc,{width:"100%",height:"100%",children:T.jsxs(Roe,{children:[T.jsx(Vi,{data:a,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:2,dataKey:"value",children:a.map((s,u)=>T.jsx(ol,{fill:s.color},`cell-${u}`))}),T.jsx(Mn,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)"}}),T.jsx(Aa,{verticalAlign:"bottom",height:36,iconType:"circle"})]})})})};var et=1e-6,Ge=Math.PI,qt=Ge/2,dD=Ge/4,xr=Ge*2,Mr=180/Ge,bn=Ge/180,xt=Math.abs,dT=Math.atan,Al=Math.atan2,bt=Math.cos,Loe=Math.exp,vS=Math.log,Tx=Math.pow,Tt=Math.sin,tc=Math.sign||function(t){return t>0?1:t<0?-1:0},Da=Math.sqrt,N4=Math.tan;function joe(t){return t>1?0:t<-1?Ge:Math.acos(t)}function of(t){return t>1?qt:t<-1?-qt:Math.asin(t)}function gr(){}function Np(t,e){t&&pD.hasOwnProperty(t.type)&&pD[t.type](t,e)}var hD={Feature:function(t,e){Np(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Np(n[r].geometry,e)}},pD={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){yS(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)yS(n[r],e,0)},Polygon:function(t,e){mD(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)mD(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Np(n[r],e)}};function yS(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function mD(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)yS(t[n],e,1);e.polygonEnd()}function po(t,e){t&&hD.hasOwnProperty(t.type)?hD[t.type](t,e):Np(t,e)}function bS(t){return[Al(t[1],t[0]),of(t[2])]}function Cl(t){var e=t[0],n=t[1],r=bt(n);return[r*bt(e),r*Tt(e),Tt(n)]}function sh(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Pp(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ax(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function lh(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function _S(t){var e=Da(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function xS(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function wS(t,e){return xt(t)>Ge&&(t-=Math.round(t/xr)*xr),[t,e]}wS.invert=wS;function Uoe(t,e,n){return(t%=xr)?e||n?xS(vD(t),yD(e,n)):vD(t):e||n?yD(e,n):wS}function gD(t){return function(e,n){return e+=t,xt(e)>Ge&&(e-=Math.round(e/xr)*xr),[e,n]}}function vD(t){var e=gD(t);return e.invert=gD(-t),e}function yD(t,e){var n=bt(t),r=Tt(t),i=bt(e),a=Tt(e);function s(u,c){var f=bt(c),h=bt(u)*f,p=Tt(u)*f,g=Tt(c),b=g*n+h*r;return[Al(p*i-b*a,h*n-g*r),of(b*i+p*a)]}return s.invert=function(u,c){var f=bt(c),h=bt(u)*f,p=Tt(u)*f,g=Tt(c),b=g*i-p*a;return[Al(p*i+g*a,h*n+b*r),of(b*n-h*r)]},s}function $oe(t,e,n,r,i,a){if(n){var s=bt(e),u=Tt(e),c=r*n;i==null?(i=e+r*xr,a=e-c/2):(i=bD(s,i),a=bD(s,a),(r>0?i<a:i>a)&&(i+=r*xr));for(var f,h=i;r>0?h>a:h<a;h-=c)f=bS([s,-u*bt(h),-u*Tt(h)]),t.point(f[0],f[1])}}function bD(t,e){e=Cl(e),e[0]-=t,_S(e);var n=joe(-e[1]);return((-e[2]<0?-n:n)+xr-et)%xr}function P4(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:gr,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Ah(t,e){return xt(t[0]-e[0])<et&&xt(t[1]-e[1])<et}function uh(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function M4(t,e,n,r,i){var a=[],s=[],u,c;if(t.forEach(function(S){if(!((E=S.length-1)<=0)){var E,x=S[0],A=S[E],O;if(Ah(x,A)){if(!x[2]&&!A[2]){for(i.lineStart(),u=0;u<E;++u)i.point((x=S[u])[0],x[1]);i.lineEnd();return}A[0]+=2*et}a.push(O=new uh(x,S,null,!0)),s.push(O.o=new uh(x,null,O,!1)),a.push(O=new uh(A,S,null,!1)),s.push(O.o=new uh(A,null,O,!0))}}),!!a.length){for(s.sort(e),_D(a),_D(s),u=0,c=s.length;u<c;++u)s[u].e=n=!n;for(var f=a[0],h,p;;){for(var g=f,b=!0;g.v;)if((g=g.n)===f)return;h=g.z,i.lineStart();do{if(g.v=g.o.v=!0,g.e){if(b)for(u=0,c=h.length;u<c;++u)i.point((p=h[u])[0],p[1]);else r(g.x,g.n.x,1,i);g=g.n}else{if(b)for(h=g.p.z,u=h.length-1;u>=0;--u)i.point((p=h[u])[0],p[1]);else r(g.x,g.p.x,-1,i);g=g.p}g=g.o,h=g.z,b=!b}while(!g.v);i.lineEnd()}}}function _D(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Cx(t){return xt(t[0])<=Ge?t[0]:tc(t[0])*((xt(t[0])+Ge)%xr-Ge)}function qoe(t,e){var n=Cx(e),r=e[1],i=Tt(r),a=[Tt(n),-bt(n),0],s=0,u=0,c=new Oo;i===1?r=qt+et:i===-1&&(r=-qt-et);for(var f=0,h=t.length;f<h;++f)if(g=(p=t[f]).length)for(var p,g,b=p[g-1],S=Cx(b),E=b[1]/2+dD,x=Tt(E),A=bt(E),O=0;O<g;++O,S=N,x=P,A=I,b=C){var C=p[O],N=Cx(C),R=C[1]/2+dD,P=Tt(R),I=bt(R),D=N-S,L=D>=0?1:-1,z=L*D,B=z>Ge,J=x*P;if(c.add(Al(J*L*Tt(z),A*I+J*bt(z))),s+=B?D+L*xr:D,B^S>=n^N>=n){var K=Pp(Cl(b),Cl(C));_S(K);var G=Pp(a,K);_S(G);var $=(B^D>=0?-1:1)*of(G[2]);(r>$||r===$&&(K[0]||K[1]))&&(u+=B^D>=0?1:-1)}}return(s<-et||s<et&&c<-1e-12)^u&1}function I4(t,e,n,r){return function(i){var a=e(i),s=P4(),u=e(s),c=!1,f,h,p,g={point:b,lineStart:E,lineEnd:x,polygonStart:function(){g.point=A,g.lineStart=O,g.lineEnd=C,h=[],f=[]},polygonEnd:function(){g.point=b,g.lineStart=E,g.lineEnd=x,h=v$(h);var N=qoe(f,r);h.length?(c||(i.polygonStart(),c=!0),M4(h,Hoe,N,n,i)):N&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),h=f=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function b(N,R){t(N,R)&&i.point(N,R)}function S(N,R){a.point(N,R)}function E(){g.point=S,a.lineStart()}function x(){g.point=b,a.lineEnd()}function A(N,R){p.push([N,R]),u.point(N,R)}function O(){u.lineStart(),p=[]}function C(){A(p[0][0],p[0][1]),u.lineEnd();var N=u.clean(),R=s.result(),P,I=R.length,D,L,z;if(p.pop(),f.push(p),p=null,!!I){if(N&1){if(L=R[0],(D=L.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),P=0;P<D;++P)i.point((z=L[P])[0],z[1]);i.lineEnd()}return}I>1&&N&2&&R.push(R.pop().concat(R.shift())),h.push(R.filter(Boe))}}return g}}function Boe(t){return t.length>1}function Hoe(t,e){return((t=t.x)[0]<0?t[1]-qt-et:qt-t[1])-((e=e.x)[0]<0?e[1]-qt-et:qt-e[1])}const xD=I4(function(){return!0},zoe,Voe,[-Ge,-qt]);function zoe(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,s){var u=a>0?Ge:-Ge,c=xt(a-e);xt(c-Ge)<et?(t.point(e,n=(n+s)/2>0?qt:-qt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(u,n),t.point(a,n),i=0):r!==u&&c>=Ge&&(xt(e-r)<et&&(e-=r*et),xt(a-u)<et&&(a-=u*et),n=Goe(e,n,a,s),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(u,n),i=0),t.point(e=a,n=s),r=u},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function Goe(t,e,n,r){var i,a,s=Tt(t-n);return xt(s)>et?dT((Tt(e)*(a=bt(r))*Tt(n)-Tt(r)*(i=bt(e))*Tt(t))/(i*a*s)):(e+r)/2}function Voe(t,e,n,r){var i;if(t==null)i=n*qt,r.point(-Ge,i),r.point(0,i),r.point(Ge,i),r.point(Ge,0),r.point(Ge,-i),r.point(0,-i),r.point(-Ge,-i),r.point(-Ge,0),r.point(-Ge,i);else if(xt(t[0]-e[0])>et){var a=t[0]<e[0]?Ge:-Ge;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function Foe(t){var e=bt(t),n=2*bn,r=e>0,i=xt(e)>et;function a(h,p,g,b){$oe(b,t,n,g,h,p)}function s(h,p){return bt(h)*bt(p)>e}function u(h){var p,g,b,S,E;return{lineStart:function(){S=b=!1,E=1},point:function(x,A){var O=[x,A],C,N=s(x,A),R=r?N?0:f(x,A):N?f(x+(x<0?Ge:-Ge),A):0;if(!p&&(S=b=N)&&h.lineStart(),N!==b&&(C=c(p,O),(!C||Ah(p,C)||Ah(O,C))&&(O[2]=1)),N!==b)E=0,N?(h.lineStart(),C=c(O,p),h.point(C[0],C[1])):(C=c(p,O),h.point(C[0],C[1],2),h.lineEnd()),p=C;else if(i&&p&&r^N){var P;!(R&g)&&(P=c(O,p,!0))&&(E=0,r?(h.lineStart(),h.point(P[0][0],P[0][1]),h.point(P[1][0],P[1][1]),h.lineEnd()):(h.point(P[1][0],P[1][1]),h.lineEnd(),h.lineStart(),h.point(P[0][0],P[0][1],3)))}N&&(!p||!Ah(p,O))&&h.point(O[0],O[1]),p=O,b=N,g=R},lineEnd:function(){b&&h.lineEnd(),p=null},clean:function(){return E|(S&&b)<<1}}}function c(h,p,g){var b=Cl(h),S=Cl(p),E=[1,0,0],x=Pp(b,S),A=sh(x,x),O=x[0],C=A-O*O;if(!C)return!g&&h;var N=e*A/C,R=-e*O/C,P=Pp(E,x),I=lh(E,N),D=lh(x,R);Ax(I,D);var L=P,z=sh(I,L),B=sh(L,L),J=z*z-B*(sh(I,I)-1);if(!(J<0)){var K=Da(J),G=lh(L,(-z-K)/B);if(Ax(G,I),G=bS(G),!g)return G;var $=h[0],j=p[0],F=h[1],ee=p[1],ie;j<$&&(ie=$,$=j,j=ie);var ue=j-$,U=xt(ue-Ge)<et,Y=U||ue<et;if(!U&&ee<F&&(ie=F,F=ee,ee=ie),Y?U?F+ee>0^G[1]<(xt(G[0]-$)<et?F:ee):F<=G[1]&&G[1]<=ee:ue>Ge^($<=G[0]&&G[0]<=j)){var re=lh(L,(-z+K)/B);return Ax(re,I),[G,bS(re)]}}}function f(h,p){var g=r?t:Ge-t,b=0;return h<-g?b|=1:h>g&&(b|=2),p<-g?b|=4:p>g&&(b|=8),b}return I4(s,u,a,r?[0,-t]:[-Ge,t-Ge])}function Koe(t,e,n,r,i,a){var s=t[0],u=t[1],c=e[0],f=e[1],h=0,p=1,g=c-s,b=f-u,S;if(S=n-s,!(!g&&S>0)){if(S/=g,g<0){if(S<h)return;S<p&&(p=S)}else if(g>0){if(S>p)return;S>h&&(h=S)}if(S=i-s,!(!g&&S<0)){if(S/=g,g<0){if(S>p)return;S>h&&(h=S)}else if(g>0){if(S<h)return;S<p&&(p=S)}if(S=r-u,!(!b&&S>0)){if(S/=b,b<0){if(S<h)return;S<p&&(p=S)}else if(b>0){if(S>p)return;S>h&&(h=S)}if(S=a-u,!(!b&&S<0)){if(S/=b,b<0){if(S>p)return;S>h&&(h=S)}else if(b>0){if(S<h)return;S<p&&(p=S)}return h>0&&(t[0]=s+h*g,t[1]=u+h*b),p<1&&(e[0]=s+p*g,e[1]=u+p*b),!0}}}}}var nc=1e9,ch=-nc;function Woe(t,e,n,r){function i(f,h){return t<=f&&f<=n&&e<=h&&h<=r}function a(f,h,p,g){var b=0,S=0;if(f==null||(b=s(f,p))!==(S=s(h,p))||c(f,h)<0^p>0)do g.point(b===0||b===3?t:n,b>1?r:e);while((b=(b+p+4)%4)!==S);else g.point(h[0],h[1])}function s(f,h){return xt(f[0]-t)<et?h>0?0:3:xt(f[0]-n)<et?h>0?2:1:xt(f[1]-e)<et?h>0?1:0:h>0?3:2}function u(f,h){return c(f.x,h.x)}function c(f,h){var p=s(f,1),g=s(h,1);return p!==g?p-g:p===0?h[1]-f[1]:p===1?f[0]-h[0]:p===2?f[1]-h[1]:h[0]-f[0]}return function(f){var h=f,p=P4(),g,b,S,E,x,A,O,C,N,R,P,I={point:D,lineStart:J,lineEnd:K,polygonStart:z,polygonEnd:B};function D($,j){i($,j)&&h.point($,j)}function L(){for(var $=0,j=0,F=b.length;j<F;++j)for(var ee=b[j],ie=1,ue=ee.length,U=ee[0],Y,re,fe=U[0],me=U[1];ie<ue;++ie)Y=fe,re=me,U=ee[ie],fe=U[0],me=U[1],re<=r?me>r&&(fe-Y)*(r-re)>(me-re)*(t-Y)&&++$:me<=r&&(fe-Y)*(r-re)<(me-re)*(t-Y)&&--$;return $}function z(){h=p,g=[],b=[],P=!0}function B(){var $=L(),j=P&&$,F=(g=v$(g)).length;(j||F)&&(f.polygonStart(),j&&(f.lineStart(),a(null,null,1,f),f.lineEnd()),F&&M4(g,u,$,a,f),f.polygonEnd()),h=f,g=b=S=null}function J(){I.point=G,b&&b.push(S=[]),R=!0,N=!1,O=C=NaN}function K(){g&&(G(E,x),A&&N&&p.rejoin(),g.push(p.result())),I.point=D,N&&h.lineEnd()}function G($,j){var F=i($,j);if(b&&S.push([$,j]),R)E=$,x=j,A=F,R=!1,F&&(h.lineStart(),h.point($,j));else if(F&&N)h.point($,j);else{var ee=[O=Math.max(ch,Math.min(nc,O)),C=Math.max(ch,Math.min(nc,C))],ie=[$=Math.max(ch,Math.min(nc,$)),j=Math.max(ch,Math.min(nc,j))];Koe(ee,ie,t,e,n,r)?(N||(h.lineStart(),h.point(ee[0],ee[1])),h.point(ie[0],ie[1]),F||h.lineEnd(),P=!1):F&&(h.lineStart(),h.point($,j),P=!1)}O=$,C=j,N=F}return I}}const SS=t=>t;var Ox=new Oo,ES=new Oo,k4,D4,TS,AS,Oi={point:gr,lineStart:gr,lineEnd:gr,polygonStart:function(){Oi.lineStart=Yoe,Oi.lineEnd=Xoe},polygonEnd:function(){Oi.lineStart=Oi.lineEnd=Oi.point=gr,Ox.add(xt(ES)),ES=new Oo},result:function(){var t=Ox/2;return Ox=new Oo,t}};function Yoe(){Oi.point=Joe}function Joe(t,e){Oi.point=L4,k4=TS=t,D4=AS=e}function L4(t,e){ES.add(AS*t-TS*e),TS=t,AS=e}function Xoe(){L4(k4,D4)}var Ol=1/0,Mp=Ol,sf=-Ol,Ip=sf,kp={point:Qoe,lineStart:gr,lineEnd:gr,polygonStart:gr,polygonEnd:gr,result:function(){var t=[[Ol,Mp],[sf,Ip]];return sf=Ip=-(Mp=Ol=1/0),t}};function Qoe(t,e){t<Ol&&(Ol=t),t>sf&&(sf=t),e<Mp&&(Mp=e),e>Ip&&(Ip=e)}var CS=0,OS=0,rc=0,Dp=0,Lp=0,zs=0,RS=0,NS=0,ic=0,j4,U4,Wr,Yr,pr={point:Mo,lineStart:wD,lineEnd:SD,polygonStart:function(){pr.lineStart=tse,pr.lineEnd=nse},polygonEnd:function(){pr.point=Mo,pr.lineStart=wD,pr.lineEnd=SD},result:function(){var t=ic?[RS/ic,NS/ic]:zs?[Dp/zs,Lp/zs]:rc?[CS/rc,OS/rc]:[NaN,NaN];return CS=OS=rc=Dp=Lp=zs=RS=NS=ic=0,t}};function Mo(t,e){CS+=t,OS+=e,++rc}function wD(){pr.point=Zoe}function Zoe(t,e){pr.point=ese,Mo(Wr=t,Yr=e)}function ese(t,e){var n=t-Wr,r=e-Yr,i=Da(n*n+r*r);Dp+=i*(Wr+t)/2,Lp+=i*(Yr+e)/2,zs+=i,Mo(Wr=t,Yr=e)}function SD(){pr.point=Mo}function tse(){pr.point=rse}function nse(){$4(j4,U4)}function rse(t,e){pr.point=$4,Mo(j4=Wr=t,U4=Yr=e)}function $4(t,e){var n=t-Wr,r=e-Yr,i=Da(n*n+r*r);Dp+=i*(Wr+t)/2,Lp+=i*(Yr+e)/2,zs+=i,i=Yr*t-Wr*e,RS+=i*(Wr+t),NS+=i*(Yr+e),ic+=i*3,Mo(Wr=t,Yr=e)}function q4(t){this._context=t}q4.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,xr);break}}},result:gr};var PS=new Oo,Rx,B4,H4,ac,oc,lf={point:gr,lineStart:function(){lf.point=ise},lineEnd:function(){Rx&&z4(B4,H4),lf.point=gr},polygonStart:function(){Rx=!0},polygonEnd:function(){Rx=null},result:function(){var t=+PS;return PS=new Oo,t}};function ise(t,e){lf.point=z4,B4=ac=t,H4=oc=e}function z4(t,e){ac-=t,oc-=e,PS.add(Da(ac*ac+oc*oc)),ac=t,oc=e}let ED,jp,TD,AD;class CD{constructor(e){this._append=e==null?G4:ase(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==TD||this._append!==jp){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,TD=r,jp=this._append,AD=this._,this._=i}this._+=AD;break}}}result(){const e=this._;return this._="",e.length?e:null}}function G4(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function ase(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return G4;if(e!==ED){const n=10**e;ED=e,jp=function(i){let a=1;this._+=i[0];for(const s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return jp}function ose(t,e){let n=3,r=4.5,i,a;function s(u){return u&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),po(u,i(a))),a.result()}return s.area=function(u){return po(u,i(Oi)),Oi.result()},s.measure=function(u){return po(u,i(lf)),lf.result()},s.bounds=function(u){return po(u,i(kp)),kp.result()},s.centroid=function(u){return po(u,i(pr)),pr.result()},s.projection=function(u){return arguments.length?(i=u==null?(t=null,SS):(t=u).stream,s):t},s.context=function(u){return arguments.length?(a=u==null?(e=null,new CD(n)):new q4(e=u),typeof r!="function"&&a.pointRadius(r),s):e},s.pointRadius=function(u){return arguments.length?(r=typeof u=="function"?u:(a.pointRadius(+u),+u),s):r},s.digits=function(u){if(!arguments.length)return n;if(u==null)n=null;else{const c=Math.floor(u);if(!(c>=0))throw new RangeError(`invalid digits: ${u}`);n=c}return e===null&&(a=new CD(n)),s},s.projection(t).digits(n).context(e)}function hT(t){return function(e){var n=new MS;for(var r in t)n[r]=t[r];return n.stream=e,n}}function MS(){}MS.prototype={constructor:MS,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function pT(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),po(n,t.stream(kp)),e(kp.result()),r!=null&&t.clipExtent(r),t}function V4(t,e,n){return pT(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),u=+e[0][0]+(i-s*(r[1][0]+r[0][0]))/2,c=+e[0][1]+(a-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([u,c])},n)}function sse(t,e,n){return V4(t,[[0,0],e],n)}function lse(t,e,n){return pT(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,u=-a*r[0][1];t.scale(150*a).translate([s,u])},n)}function use(t,e,n){return pT(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],u=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,u])},n)}var OD=16,cse=bt(30*bn);function RD(t,e){return+e?dse(t,e):fse(t)}function fse(t){return hT({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function dse(t,e){function n(r,i,a,s,u,c,f,h,p,g,b,S,E,x){var A=f-r,O=h-i,C=A*A+O*O;if(C>4*e&&E--){var N=s+g,R=u+b,P=c+S,I=Da(N*N+R*R+P*P),D=of(P/=I),L=xt(xt(P)-1)<et||xt(a-p)<et?(a+p)/2:Al(R,N),z=t(L,D),B=z[0],J=z[1],K=B-r,G=J-i,$=O*K-A*G;($*$/C>e||xt((A*K+O*G)/C-.5)>.3||s*g+u*b+c*S<cse)&&(n(r,i,a,s,u,c,B,J,L,N/=I,R/=I,P,E,x),x.point(B,J),n(B,J,L,N,R,P,f,h,p,g,b,S,E,x))}}return function(r){var i,a,s,u,c,f,h,p,g,b,S,E,x={point:A,lineStart:O,lineEnd:N,polygonStart:function(){r.polygonStart(),x.lineStart=R},polygonEnd:function(){r.polygonEnd(),x.lineStart=O}};function A(D,L){D=t(D,L),r.point(D[0],D[1])}function O(){p=NaN,x.point=C,r.lineStart()}function C(D,L){var z=Cl([D,L]),B=t(D,L);n(p,g,h,b,S,E,p=B[0],g=B[1],h=D,b=z[0],S=z[1],E=z[2],OD,r),r.point(p,g)}function N(){x.point=A,r.lineEnd()}function R(){O(),x.point=P,x.lineEnd=I}function P(D,L){C(i=D,L),a=p,s=g,u=b,c=S,f=E,x.point=C}function I(){n(p,g,h,b,S,E,a,s,i,u,c,f,OD,r),x.lineEnd=N,N()}return x}}var hse=hT({point:function(t,e){this.stream.point(t*bn,e*bn)}});function pse(t){return hT({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function mse(t,e,n,r,i){function a(s,u){return s*=r,u*=i,[e+t*s,n-t*u]}return a.invert=function(s,u){return[(s-e)/t*r,(n-u)/t*i]},a}function ND(t,e,n,r,i,a){if(!a)return mse(t,e,n,r,i);var s=bt(a),u=Tt(a),c=s*t,f=u*t,h=s/t,p=u/t,g=(u*n-s*e)/t,b=(u*e+s*n)/t;function S(E,x){return E*=r,x*=i,[c*E-f*x+e,n-f*E-c*x]}return S.invert=function(E,x){return[r*(h*E-p*x+g),i*(b-p*E-h*x)]},S}function gse(t){var e,n=150,r=480,i=250,a=0,s=0,u=0,c=0,f=0,h,p=0,g=1,b=1,S=null,E=xD,x=null,A,O,C,N=SS,R=.5,P,I,D,L,z;function B($){return D($[0]*bn,$[1]*bn)}function J($){return $=D.invert($[0],$[1]),$&&[$[0]*Mr,$[1]*Mr]}B.stream=function($){return L&&z===$?L:L=hse(pse(h)(E(P(N(z=$)))))},B.preclip=function($){return arguments.length?(E=$,S=void 0,G()):E},B.postclip=function($){return arguments.length?(N=$,x=A=O=C=null,G()):N},B.clipAngle=function($){return arguments.length?(E=+$?Foe(S=$*bn):(S=null,xD),G()):S*Mr},B.clipExtent=function($){return arguments.length?(N=$==null?(x=A=O=C=null,SS):Woe(x=+$[0][0],A=+$[0][1],O=+$[1][0],C=+$[1][1]),G()):x==null?null:[[x,A],[O,C]]},B.scale=function($){return arguments.length?(n=+$,K()):n},B.translate=function($){return arguments.length?(r=+$[0],i=+$[1],K()):[r,i]},B.center=function($){return arguments.length?(a=$[0]%360*bn,s=$[1]%360*bn,K()):[a*Mr,s*Mr]},B.rotate=function($){return arguments.length?(u=$[0]%360*bn,c=$[1]%360*bn,f=$.length>2?$[2]%360*bn:0,K()):[u*Mr,c*Mr,f*Mr]},B.angle=function($){return arguments.length?(p=$%360*bn,K()):p*Mr},B.reflectX=function($){return arguments.length?(g=$?-1:1,K()):g<0},B.reflectY=function($){return arguments.length?(b=$?-1:1,K()):b<0},B.precision=function($){return arguments.length?(P=RD(I,R=$*$),G()):Da(R)},B.fitExtent=function($,j){return V4(B,$,j)},B.fitSize=function($,j){return sse(B,$,j)},B.fitWidth=function($,j){return lse(B,$,j)},B.fitHeight=function($,j){return use(B,$,j)};function K(){var $=ND(n,0,0,g,b,p).apply(null,e(a,s)),j=ND(n,r-$[0],i-$[1],g,b,p);return h=Uoe(u,c,f),I=xS(e,j),D=xS(h,I),P=RD(I,R),G()}function G(){return L=z=null,B}return function(){return e=t.apply(this,arguments),B.invert=e.invert&&J,K()}}function vse(t){var e=0,n=Ge/3,r=gse(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*bn,n=a[1]*bn):[e*Mr,n*Mr]},i}function F4(t,e){return[t,vS(N4((qt+e)/2))]}F4.invert=function(t,e){return[t,2*dT(Loe(e))-qt]};function fh(t){return N4((qt+t)/2)}function yse(t,e){var n=bt(t),r=t===e?Tt(t):vS(n/bt(e))/vS(fh(e)/fh(t)),i=n*Tx(fh(t),r)/r;if(!r)return F4;function a(s,u){i>0?u<-qt+et&&(u=-qt+et):u>qt-et&&(u=qt-et);var c=i/Tx(fh(u),r);return[c*Tt(r*s),i-c*bt(r*s)]}return a.invert=function(s,u){var c=i-u,f=tc(r)*Da(s*s+c*c),h=Al(s,xt(c))*tc(c);return c*r<0&&(h-=Ge*tc(s)*tc(c)),[h/r,2*dT(Tx(i/f,1/r))-qt]},a}function PD(){return vse(yse).scale(109.5).parallels([30,30])}var dh=1e-6;function hh(){}var Rl=1/0,Up=Rl,uf=-Rl,$p=uf,MD={point:bse,lineStart:hh,lineEnd:hh,polygonStart:hh,polygonEnd:hh,result:function(){var t=[[Rl,Up],[uf,$p]];return uf=$p=-(Up=Rl=1/0),t}};function bse(t,e){t<Rl&&(Rl=t),t>uf&&(uf=t),e<Up&&(Up=e),e>$p&&($p=e)}function K4(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],a=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),a!=null&&t.clipExtent(null),po(n,t.stream(MD));var s=MD.result(),u=Math.min(r/(s[1][0]-s[0][0]),i/(s[1][1]-s[0][1])),c=+e[0][0]+(r-u*(s[1][0]+s[0][0]))/2,f=+e[0][1]+(i-u*(s[1][1]+s[0][1]))/2;return a!=null&&t.clipExtent(a),t.scale(u*150).translate([c,f])}function _se(t,e,n){return K4(t,[[0,0],e],n)}function xse(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function wse(){var t,e,n=PD().rotate([5,-38.6]).parallels([0,60]),r,i=PD().rotate([5,-38.6]).parallels([0,60]),a,s,u={point:function(h,p){s=[h,p]}};function c(h){var p=h[0],g=h[1];return s=null,r.point(p,g),s||(a.point(p,g),s)}c.invert=function(h){var p=n.scale(),g=n.translate(),b=(h[0]-g[0])/p,S=(h[1]-g[1])/p;return(S>=.05346&&S<.0897&&b>=-.13388&&b<-.0322?i:n).invert(h)},c.stream=function(h){return t&&e===h?t:t=xse([n.stream(e=h),i.stream(h)])},c.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),f()):n.precision()},c.scale=function(h){return arguments.length?(n.scale(h),i.scale(h),c.translate(n.translate())):n.scale()},c.translate=function(h){if(!arguments.length)return n.translate();var p=n.scale(),g=+h[0],b=+h[1];return r=n.translate(h).clipExtent([[g-.06857*p,b-.1288*p],[g+.13249*p,b+.06*p]]).stream(u),a=i.translate([g+.1*p,b-.094*p]).clipExtent([[g-.1331*p+dh,b+.053457*p+dh],[g-.0354*p-dh,b+.08969*p-dh]]).stream(u),f()},c.fitExtent=function(h,p){return K4(c,h,p)},c.fitSize=function(h,p){return _se(c,h,p)};function f(){return t=e=null,c}return c.drawCompositionBorders=function(h){var p=n([-14.034675,34.965007]),g=n([-7.4208899,35.536988]),b=n([-7.3148275,33.54359]);h.moveTo(p[0],p[1]),h.lineTo(g[0],g[1]),h.lineTo(b[0],b[1])},c.getCompositionBorders=function(){var h=bU();return this.drawCompositionBorders(h),h.toString()},c.scale(2700)}const Nx={PSOE:"#E30613",PP:"#0056A7",Vox:"#63BE21",Sumar:"#E51C55",Podemos:"#6B1F5F",Junts:"#00C3B2",ERC:"#FFD700",PNV:"#008000",Bildu:"#B5CF18",SALF:"#A0522D",PACMA:"#9ACD32",Ciudadanos:"#EB6109",Otros:"#808080","En blanco":"#FFFFFF"},Sse="#4B5563",ph={Andalucia:"AN",Andaluca:"AN",Aragon:"AR",Aragn:"AR",Asturias:"AS","Principado de Asturias":"AS",Baleares:"IB","Islas Baleares":"IB","Illes Balears":"IB",Canarias:"CN","Islas Canarias":"CN",Cantabria:"CB","Castilla-La Mancha":"CM","Castilla La Mancha":"CM","Castilla-Leon":"CL","Castilla y Leon":"CL","Castilla y Len":"CL",Cataluna:"CT",Catalua:"CT",Catalunya:"CT",Ceuta:"CE",Madrid:"MD","Comunidad de Madrid":"MD",Navarra:"NC","Comunidad Foral de Navarra":"NC","Nafarroako Foru Komunitatea":"NC",Valencia:"VC","Comunidad Valenciana":"VC","Comunitat Valenciana":"VC",Extremadura:"EX",Galicia:"GA",Rioja:"RI","La Rioja":"RI",Melilla:"ML",Murcia:"MC","Region de Murcia":"MC","Regin de Murcia":"MC","Pais Vasco":"PV","Pas Vasco":"PV",Euskadi:"PV"},Ese=({regionalVotes:t,regionalOptionCounts:e,pollType:n="binary",labelSupport:r="A favor",labelOppose:i="En contra",onSelectRegion:a,selectedRegion:s})=>{const[u,c]=q.useState(null);q.useEffect(()=>{fetch("/spain-communities.json").then(E=>E.json()).then(E=>c(E)).catch(E=>console.error("Error loading map data:",E))},[]);const f=q.useMemo(()=>wse().scale(2500).translate([400,280]),[]),h=q.useMemo(()=>ose().projection(f),[f]),p=E=>{var x,A;return((x=E.properties)==null?void 0:x.name)||((A=E.properties)==null?void 0:A.noml_ccaa)||"Unknown"},g=E=>{const x=p(E);if(ph[x])return ph[x];const A=Object.keys(ph).find(O=>x.includes(O));return A?ph[A]:void 0},b=E=>{if(!e||!e[E])return null;const x=e[E];let A="",O=-1;if(Object.entries(x).forEach(([N,R])=>{R>O&&(O=R,A=N)}),O<=0)return null;const C=Object.keys(Nx).find(N=>A.includes(N)||N.includes(A));return{name:A,color:C?Nx[C]:Sse,votes:O}},S=E=>{const x=g(E);if(!x)return"#e2e8f0";if(n==="multiple_choice"){const P=b(x);return P?P.color:"#e2e8f0"}const A=t[x];if(!A||A.support===0&&A.oppose===0&&A.neutral===0)return"#e2e8f0";const{support:O,oppose:C,neutral:N}=A,R=Math.max(O,C,N);return R===0?"#e2e8f0":O===R&&O>C&&O>N?"#22c55e":C===R&&C>O&&C>N?"#ef4444":"#94a3b8"};return u?T.jsxs("div",{className:"w-full bg-white rounded-2xl p-6 border border-gray-100 shadow-lg",children:[T.jsx("div",{className:"flex flex-wrap justify-center mb-6 gap-x-6 gap-y-2 text-xs font-bold uppercase tracking-wider text-gray-500",children:n==="binary"?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-2 shadow-sm"}),r]}),T.jsxs("div",{className:"flex items-center",children:[T.jsx("span",{className:"w-3 h-3 bg-red-500 rounded-full mr-2 shadow-sm"}),i]}),T.jsxs("div",{className:"flex items-center",children:[T.jsx("span",{className:"w-3 h-3 bg-slate-400 rounded-full mr-2 shadow-sm"}),"Neutral / Empate"]})]}):T.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 lg:grid-cols-6 gap-2 w-full",children:Object.entries(Nx).map(([E,x])=>T.jsxs("div",{className:"flex items-center",children:[T.jsx("span",{className:"w-3 h-3 rounded-full mr-2 shadow-sm flex-shrink-0",style:{backgroundColor:x}}),T.jsx("span",{className:"truncate",children:E})]},E))})}),T.jsx("div",{className:"relative mx-auto w-full aspect-[5/3]",children:T.jsx("svg",{viewBox:"0 0 800 500",className:"w-full h-full drop-shadow-sm",children:T.jsx("g",{children:u.features.map((E,x)=>{const A=g(E);let C=p(E);if(A)if(n==="binary"){const P=t[A];P&&(C+=`
${r}: ${P.support}
${i}: ${P.oppose}
Neutral: ${P.neutral}`)}else{const P=b(A);P?C+=`
Ganador: ${P.name} (${P.votes} votos)`:C+=`
Sin votos`}const N=s&&A&&s===A,R=s&&A&&s!==A;return T.jsx("path",{d:h(E)||"",fill:S(E),stroke:N?"#4f46e5":"#ffffff",strokeWidth:N?"2.5":"0.5",className:`transition-all duration-300 cursor-pointer focus:outline-none 
                    ${R?"opacity-25 grayscale-[0.5]":"hover:opacity-90"} 
                    ${s?"":"hover:stroke-indigo-500 hover:stroke-2"}
                  `,onClick:()=>{a&&A&&a(N?null:A)},children:T.jsx("title",{children:C})},x)})})})}),T.jsx("p",{className:"text-center text-xs text-gray-400 mt-4",children:"Mapa oficial por Comunidades Autnomas"})]}):T.jsx("div",{className:"h-96 w-full bg-slate-50 rounded-2xl animate-pulse flex items-center justify-center text-slate-400",children:"Cargando Mapa..."})},mh=43200,ID=1440,kD=Symbol.for("constructDateFrom");function mT(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&kD in t?t[kD](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ra(t,e){return mT(t,t)}let Tse={};function Ase(){return Tse}function DD(t){const e=Ra(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function gT(t,...e){const n=mT.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function Ch(t,e){const n=+Ra(t)-+Ra(e);return n<0?-1:n>0?1:n}function Cse(t){return mT(t,Date.now())}function Ose(t,e,n){const[r,i]=gT(n==null?void 0:n.in,t,e),a=r.getFullYear()-i.getFullYear(),s=r.getMonth()-i.getMonth();return a*12+s}function Rse(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function Nse(t,e){return+Ra(t)-+Ra(e)}function Pse(t,e){const n=Ra(t);return n.setHours(23,59,59,999),n}function Mse(t,e){const n=Ra(t),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Ise(t,e){const n=Ra(t);return+Pse(n)==+Mse(n)}function kse(t,e,n){const[r,i,a]=gT(n==null?void 0:n.in,t,t,e),s=Ch(i,a),u=Math.abs(Ose(i,a));if(u<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-s*u);let c=Ch(i,a)===-s;Ise(r)&&u===1&&Ch(r,a)===1&&(c=!1);const f=s*(u-+c);return f===0?0:f}function Dse(t,e,n){const r=Nse(t,e)/1e3;return Rse(n==null?void 0:n.roundingMethod)(r)}const Lse={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jse=(t,e,n)=>{let r;const i=Lse[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Qs(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Use={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$se={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qse={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Bse={date:Qs({formats:Use,defaultWidth:"full"}),time:Qs({formats:$se,defaultWidth:"full"}),dateTime:Qs({formats:qse,defaultWidth:"full"})},Hse={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},zse=(t,e,n,r)=>Hse[t];function Jr(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):s;i=t.formattingValues[u]||t.formattingValues[s]}else{const s=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[u]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const Gse={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Vse={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Fse={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Kse={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Wse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Yse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Jse=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Xse={ordinalNumber:Jse,era:Jr({values:Gse,defaultWidth:"wide"}),quarter:Jr({values:Vse,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Jr({values:Fse,defaultWidth:"wide"}),day:Jr({values:Kse,defaultWidth:"wide"}),dayPeriod:Jr({values:Wse,defaultWidth:"wide",formattingValues:Yse,defaultFormattingWidth:"wide"})};function Xr(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(u)?Zse(u,p=>p.test(s)):Qse(u,p=>p.test(s));let f;f=t.valueCallback?t.valueCallback(c):c,f=n.valueCallback?n.valueCallback(f):f;const h=e.slice(s.length);return{value:f,rest:h}}}function Qse(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Zse(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function W4(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const u=e.slice(i.length);return{value:s,rest:u}}}const ele=/^(\d+)(th|st|nd|rd)?/i,tle=/\d+/i,nle={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rle={any:[/^b/i,/^(a|c)/i]},ile={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ale={any:[/1/i,/2/i,/3/i,/4/i]},ole={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sle={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lle={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ule={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cle={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},fle={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dle={ordinalNumber:W4({matchPattern:ele,parsePattern:tle,valueCallback:t=>parseInt(t,10)}),era:Xr({matchPatterns:nle,defaultMatchWidth:"wide",parsePatterns:rle,defaultParseWidth:"any"}),quarter:Xr({matchPatterns:ile,defaultMatchWidth:"wide",parsePatterns:ale,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Xr({matchPatterns:ole,defaultMatchWidth:"wide",parsePatterns:sle,defaultParseWidth:"any"}),day:Xr({matchPatterns:lle,defaultMatchWidth:"wide",parsePatterns:ule,defaultParseWidth:"any"}),dayPeriod:Xr({matchPatterns:cle,defaultMatchWidth:"any",parsePatterns:fle,defaultParseWidth:"any"})},hle={code:"en-US",formatDistance:jse,formatLong:Bse,formatRelative:zse,localize:Xse,match:dle,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ple(t,e,n){const r=Ase(),i=(n==null?void 0:n.locale)??r.locale??hle,a=2520,s=Ch(t,e);if(isNaN(s))throw new RangeError("Invalid time value");const u=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:s}),[c,f]=gT(n==null?void 0:n.in,...s>0?[e,t]:[t,e]),h=Dse(f,c),p=(DD(f)-DD(c))/1e3,g=Math.round((h-p)/60);let b;if(g<2)return n!=null&&n.includeSeconds?h<5?i.formatDistance("lessThanXSeconds",5,u):h<10?i.formatDistance("lessThanXSeconds",10,u):h<20?i.formatDistance("lessThanXSeconds",20,u):h<40?i.formatDistance("halfAMinute",0,u):h<60?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",1,u):g===0?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",g,u);if(g<45)return i.formatDistance("xMinutes",g,u);if(g<90)return i.formatDistance("aboutXHours",1,u);if(g<ID){const S=Math.round(g/60);return i.formatDistance("aboutXHours",S,u)}else{if(g<a)return i.formatDistance("xDays",1,u);if(g<mh){const S=Math.round(g/ID);return i.formatDistance("xDays",S,u)}else if(g<mh*2)return b=Math.round(g/mh),i.formatDistance("aboutXMonths",b,u)}if(b=kse(f,c),b<12){const S=Math.round(g/mh);return i.formatDistance("xMonths",S,u)}else{const S=b%12,E=Math.trunc(b/12);return S<3?i.formatDistance("aboutXYears",E,u):S<9?i.formatDistance("overXYears",E,u):i.formatDistance("almostXYears",E+1,u)}}function mle(t,e){return ple(t,Cse(t),e)}const gle={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},vle=(t,e,n)=>{let r;const i=gle[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},yle={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},ble={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},_le={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xle={date:Qs({formats:yle,defaultWidth:"full"}),time:Qs({formats:ble,defaultWidth:"full"}),dateTime:Qs({formats:_le,defaultWidth:"full"})},wle={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},Sle={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},Ele=(t,e,n,r)=>e.getHours()!==1?Sle[t]:wle[t],Tle={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},Ale={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Cle={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},Ole={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},Rle={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},Nle={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},Ple=(t,e)=>Number(t)+"",Mle={ordinalNumber:Ple,era:Jr({values:Tle,defaultWidth:"wide"}),quarter:Jr({values:Ale,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Jr({values:Cle,defaultWidth:"wide"}),day:Jr({values:Ole,defaultWidth:"wide"}),dayPeriod:Jr({values:Rle,defaultWidth:"wide",formattingValues:Nle,defaultFormattingWidth:"wide"})},Ile=/^(\d+)()?/i,kle=/\d+/i,Dle={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},Lle={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},jle={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Ule={any:[/1/i,/2/i,/3/i,/4/i]},$le={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},qle={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},Ble={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},Hle={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},zle={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},Gle={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Vle={ordinalNumber:W4({matchPattern:Ile,parsePattern:kle,valueCallback:function(t){return parseInt(t,10)}}),era:Xr({matchPatterns:Dle,defaultMatchWidth:"wide",parsePatterns:Lle,defaultParseWidth:"any"}),quarter:Xr({matchPatterns:jle,defaultMatchWidth:"wide",parsePatterns:Ule,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Xr({matchPatterns:$le,defaultMatchWidth:"wide",parsePatterns:qle,defaultParseWidth:"any"}),day:Xr({matchPatterns:Ble,defaultMatchWidth:"wide",parsePatterns:Hle,defaultParseWidth:"any"}),dayPeriod:Xr({matchPatterns:zle,defaultMatchWidth:"any",parsePatterns:Gle,defaultParseWidth:"any"})},Fle={code:"es",formatDistance:vle,formatLong:xle,formatRelative:Ele,localize:Mle,match:Vle,options:{weekStartsOn:1,firstWeekContainsDate:1}},IS=t=>t?t.split(" ").map(e=>e[0]).slice(0,2).join("").toUpperCase():"??",Y4=({comment:t,user:e,onRequireAuth:n,onVote:r,onReply:i,depth:a=0})=>{const[s,u]=q.useState(!1),[c,f]=q.useState(""),[h,p]=q.useState(!1),g=async S=>{if(S.preventDefault(),!!c.trim()){p(!0);try{await i(t.id,c),u(!1),f("")}finally{p(!1)}}};return T.jsxs("div",{className:`flex flex-col gap-4 ${a>0?"mt-4":""}`,children:[T.jsxs("div",{className:"flex gap-4 group",children:[T.jsx("div",{className:"flex-shrink-0",children:T.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold text-xs border border-indigo-200 shadow-sm",children:IS(t.userName)})}),T.jsxs("div",{className:"flex-grow",children:[T.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl rounded-tl-none border border-slate-100 group-hover:border-indigo-100 transition-colors",children:[T.jsxs("div",{className:"flex justify-between items-baseline mb-2",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"font-bold text-gray-900 text-sm",children:t.userName}),t.region&&T.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-200 px-1.5 py-0.5 rounded-full",children:t.region})]}),T.jsx("span",{className:"text-xs text-gray-500",children:mle(new Date(t.createdAt),{addSuffix:!0,locale:Fle})})]}),T.jsx("p",{className:"text-gray-700 text-sm leading-relaxed whitespace-pre-wrap",children:t.content}),T.jsxs("div",{className:"flex items-center mt-3 gap-4",children:[T.jsxs("button",{onClick:()=>r(t.id,"up"),className:`flex items-center gap-1.5 text-xs font-bold transition-colors ${t.userVote==="up"?"text-green-600":"text-gray-400 hover:text-green-500"}`,children:[T.jsx("svg",{className:"w-4 h-4",fill:t.userVote==="up"?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"})}),t.upvotes||0]}),T.jsxs("button",{onClick:()=>r(t.id,"down"),className:`flex items-center gap-1.5 text-xs font-bold transition-colors ${t.userVote==="down"?"text-red-500":"text-gray-400 hover:text-red-500"}`,children:[T.jsx("svg",{className:"w-4 h-4",fill:t.userVote==="down"?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018a2 2 0 01.485.06l3.76.94m-7 10v5a2 2 0 002 2h.095c.5 0 .905-.405.905-.905 0-.714.211-1.412.608-2.006L17 13V4m-7 10h2m5-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2.5"})}),t.downvotes||0]}),a<5&&T.jsxs("button",{onClick:()=>e?u(!s):n(),className:"flex items-center gap-1.5 text-xs font-bold text-gray-400 hover:text-indigo-600 transition-colors ml-2",children:[T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Responder"]})]})]}),s&&T.jsxs("form",{onSubmit:g,className:"mt-4 flex gap-3 animate-fade-in pl-4 border-l-2 border-indigo-100",children:[T.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold text-[10px] border border-indigo-200 flex-shrink-0",children:IS((e==null?void 0:e.full_name)||(e==null?void 0:e.email))}),T.jsxs("div",{className:"flex-grow",children:[T.jsx("textarea",{value:c,onChange:S=>f(S.target.value),placeholder:`Respondiendo a ${t.userName}...`,className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 text-sm min-h-[80px]",autoFocus:!0}),T.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[T.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-3 py-1.5 text-xs font-medium text-gray-500 hover:text-gray-700",children:"Cancelar"}),T.jsx("button",{type:"submit",disabled:h||!c.trim(),className:"px-4 py-1.5 bg-indigo-600 text-white text-xs font-bold rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:h?"Enviando...":"Responder"})]})]})]})]})]}),t.replies&&t.replies.length>0&&T.jsx("div",{className:"pl-12 border-l-2 border-gray-100 ml-4",children:t.replies.map(S=>T.jsx(Y4,{comment:S,user:e,onRequireAuth:n,onVote:r,onReply:i,depth:a+1},S.id))})]})},Kle=({topicId:t,user:e,onRequireAuth:n})=>{const[r,i]=q.useState([]),[a,s]=q.useState(""),[u,c]=q.useState(!0),[f,h]=q.useState(!1),p=async()=>{try{const E=await _n.fetchComments(t);i(E)}catch(E){console.error("Error loading comments:",E)}finally{c(!1)}};q.useEffect(()=>{p()},[t]);const g=async E=>{if(E.preventDefault(),!e){n();return}if(a.trim()){h(!0);try{await _n.postComment(t,a,e.id),s(""),await p()}catch(x){console.error("Error posting comment:",x),alert("Error al publicar comentario")}finally{h(!1)}}},b=async(E,x)=>{e&&(await _n.postComment(t,x,e.id,E),await p())},S=async(E,x)=>{if(!e){n();return}const A=O=>O.map(C=>{if(C.id===E){const N=C.userVote;let R=C.upvotes||0,P=C.downvotes||0;N==="up"&&R--,N==="down"&&P--;const I=N===x?null:x;return I==="up"&&R++,I==="down"&&P++,{...C,userVote:I,upvotes:R,downvotes:P}}return C.replies?{...C,replies:A(C.replies)}:C});i(O=>A(O));try{await _n.voteComment(E,x)}catch(O){console.error(O),p()}};return T.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-8 shadow-sm",children:[T.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[T.jsx("svg",{className:"w-6 h-6 mr-2 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})}),"Debate Ciudadano"]}),T.jsx("div",{className:"mb-10",children:e?T.jsxs("form",{onSubmit:g,className:"flex flex-col gap-4",children:[T.jsxs("div",{className:"flex gap-4",children:[T.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold text-sm border border-indigo-200 shadow-sm flex-shrink-0",children:IS((e==null?void 0:e.full_name)||(e==null?void 0:e.email))}),T.jsx("textarea",{value:a,onChange:E=>s(E.target.value),placeholder:"Inicia un nuevo hilo de debate...",className:"flex-grow p-4 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 min-h-[100px] resize-y",disabled:f})]}),T.jsx("div",{className:"flex justify-end",children:T.jsx("button",{type:"submit",disabled:f||!a.trim(),className:"px-6 py-2 bg-indigo-600 text-white font-bold rounded-full hover:bg-indigo-700 transition disabled:opacity-50 shadow-md shadow-indigo-200",children:f?"Publicando...":"Publicar Nuevo Hilo"})})]}):T.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl text-center border border-slate-200",children:[T.jsx("p",{className:"text-slate-600 mb-3",children:"Inicia sesin para participar en el debate."}),T.jsx("button",{onClick:n,className:"text-indigo-600 font-bold hover:underline",children:"Iniciar sesin ahora"})]})}),T.jsx("div",{className:"space-y-6",children:u?T.jsx("div",{className:"text-center py-10 text-gray-400",children:"Cargando debate..."}):r.length===0?T.jsx("div",{className:"text-center py-10 text-gray-400 italic",children:"An no hay comentarios. S el primero en opinar!"}):r.map(E=>T.jsx(Y4,{comment:E,user:e,onRequireAuth:n,onVote:S,onReply:b},E.id))})]})};class Wle extends q.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){var e;return this.state.hasError?T.jsxs("div",{className:"p-8 m-8 bg-red-50 border border-red-200 rounded-xl",children:[T.jsx("h1",{className:"text-xl font-bold text-red-800 mb-4",children:"Algo sali mal."}),T.jsx("pre",{className:"text-sm text-red-600 overflow-auto bg-white p-4 rounded border border-red-100",children:(e=this.state.error)==null?void 0:e.toString()}),T.jsx("p",{className:"mt-4 text-xs text-gray-500",children:"(Ver consola para ms detalles)"})]}):this.props.children}}const LD=[{code:"MD",name:"Madrid"},{code:"CT",name:"Catalua"},{code:"AN",name:"Andaluca"},{code:"VC",name:"Comunidad Valenciana"},{code:"GA",name:"Galicia"},{code:"PV",name:"Pas Vasco"},{code:"CL",name:"Castilla y Len"},{code:"CM",name:"Castilla-La Mancha"},{code:"AR",name:"Aragn"},{code:"EX",name:"Extremadura"},{code:"IB",name:"Baleares"},{code:"CN",name:"Canarias"},{code:"AS",name:"Asturias"},{code:"CB",name:"Cantabria"},{code:"NC",name:"Navarra"},{code:"MC",name:"Murcia"},{code:"RI",name:"La Rioja"},{code:"CE",name:"Ceuta"},{code:"ML",name:"Melilla"}],Yle=({topics:t,onVote:e,user:n,onRequireAuth:r})=>{var K;const{id:i}=Lj(),a=df(),s=t.find(G=>G.id===i),[u,c]=q.useState(!1),[f,h]=q.useState(null),[p,g]=q.useState({}),[b,S]=q.useState(null),[E,x]=q.useState(null),[A,O]=q.useState(null);q.useEffect(()=>{s&&_n.fetchDemographics(s.id).then(O)},[s==null?void 0:s.id]);const C=q.useMemo(()=>{if(!A)return null;if(!f||!A.rawData)return A;const G=A.rawData.filter(j=>j.region===f),$={byGender:{},byAge:{},byOccupation:{},rawData:G};return G.forEach(j=>{const{gender:F,age:ee,occupation:ie,choice:ue}=j;$.byGender[F]||($.byGender[F]={}),$.byGender[F][ue]||($.byGender[F][ue]=0),$.byGender[F][ue]++,$.byAge[ee]||($.byAge[ee]={}),$.byAge[ee][ue]||($.byAge[ee][ue]=0),$.byAge[ee][ue]++;const U=ie||"Otras";$.byOccupation[U]||($.byOccupation[U]={}),$.byOccupation[U][ue]||($.byOccupation[U][ue]=0),$.byOccupation[U][ue]++}),$},[A,f]);q.useEffect(()=>{n&&s&&_n.fetchUserVoteForTopic(s.id).then(G=>{G&&(S({choice:G.choice,option:G.choice_option}),c(!0))})},[n,s==null?void 0:s.id]);const N=(G,$)=>{$.stopPropagation(),g(j=>({...j,[G]:!j[G]}))},R=q.useMemo(()=>{if(!s)return null;if(!f)return{votes:s.votes,optionCounts:s.optionCounts};if(s.type==="multiple_choice"){const G=s.regionalOptionCounts&&s.regionalOptionCounts[f]||{};return{votes:{support:0,oppose:0,neutral:0},optionCounts:G}}else return{votes:s.regionalVotes&&s.regionalVotes[f]||{support:0,oppose:0,neutral:0},optionCounts:{}}},[s,f]),P=q.useMemo(()=>{if(!s)return[];let G=LD.map($=>{var F,ee;let j=0;if(s.type==="binary"&&((F=s.regionalVotes)!=null&&F[$.code])){const ie=s.regionalVotes[$.code];j=ie.support+ie.oppose+ie.neutral}else if(s.type==="multiple_choice"&&((ee=s.regionalOptionCounts)!=null&&ee[$.code])){const ie=s.regionalOptionCounts[$.code];j=Object.values(ie).reduce((ue,U)=>ue+U,0)}return{code:$.code,name:$.name,total:j}}).filter($=>$.total>0).sort(($,j)=>j.total-$.total);return f?G=G.filter($=>$.code===f):G=G.slice(0,6),G},[s,f]);if(!s)return T.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Tema no encontrado"}),T.jsx("button",{onClick:()=>a("/"),className:"mt-4 text-blue-600 hover:underline font-bold",children:"Volver al panel principal"})]});const I=(G,$)=>{!n||!n.region||(e(s.id,G,n.region,$),c(!0),S({choice:G,option:$||void 0}),x(null))},D=(G,$)=>{if(!n){r();return}if(!n.region){alert("Tu perfil no tiene una comunidad autnoma asignada. Por favor, actualiza tu perfil.");return}if(u&&b){const j=b.choice===G,F=b.option===$;if(j&&F)return;x({choice:G,option:$});return}I(G,$)},L=(R==null?void 0:R.votes)||{support:0,oppose:0,neutral:0},z=(R==null?void 0:R.optionCounts)||{},B=s.type==="multiple_choice"?Object.values(z).reduce((G,$)=>G+$,0):L.support+L.oppose+L.neutral,J=T.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-8 shadow-sm",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-100 pb-2",children:[T.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Estadsticas",f&&T.jsx("span",{className:"text-blue-600 block text-sm",children:(K=LD.find(G=>G.code===f))==null?void 0:K.name})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[f&&T.jsx("button",{onClick:()=>h(null),className:"text-xs text-gray-400 hover:text-blue-600 underline",children:"Ver Total"}),T.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-blue-50 text-blue-700 shadow-sm border border-blue-100",children:[B," votos"]})]})]}),T.jsx(Doe,{votes:L,optionCounts:s.type==="multiple_choice"?z:void 0,type:s.type,labelSupport:s.type==="binary"?s.labelSupport:void 0,labelOppose:s.type==="binary"?s.labelOppose:void 0}),s.type==="binary"&&T.jsxs("div",{className:"mt-8 space-y-4",children:[T.jsxs("div",{className:"flex justify-between items-center text-sm p-3 bg-green-50 rounded-xl",children:[T.jsx("span",{className:"text-green-700 font-medium",children:s.labelSupport||"A favor"}),T.jsx("span",{className:"font-extrabold text-green-700",children:L.support})]}),T.jsxs("div",{className:"flex justify-between items-center text-sm p-3 bg-red-50 rounded-xl",children:[T.jsx("span",{className:"text-red-700 font-medium",children:s.labelOppose||"En contra"}),T.jsx("span",{className:"font-extrabold text-red-700",children:L.oppose})]}),T.jsxs("div",{className:"flex justify-between items-center text-sm p-3 bg-slate-100 rounded-xl",children:[T.jsx("span",{className:"text-slate-600 font-medium",children:"Neutral"}),T.jsx("span",{className:"font-extrabold text-slate-700",children:L.neutral})]})]})]});return T.jsxs(Wle,{children:[T.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[T.jsxs(W6,{children:[T.jsxs("title",{children:[s.title," - La Voz del Pueblo"]}),T.jsx("meta",{name:"description",content:s.description}),T.jsx("meta",{property:"og:title",content:`${s.title} - Debate y Vota`}),T.jsx("meta",{property:"og:description",content:s.description}),T.jsx("meta",{property:"og:url",content:`https://lavozdelpueblo.es/#/topic/${s.id}`}),T.jsx("meta",{name:"twitter:title",content:s.title}),T.jsx("meta",{name:"twitter:description",content:s.description}),T.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"DiscussionForumPosting",headline:s.title,description:s.description,url:`https://lavozdelpueblo.es/#/topic/${s.id}`,datePublished:new Date(s.createdAt||Date.now()).toISOString(),author:{"@type":"Organization",name:"La Voz del Pueblo"},interactionStatistic:{"@type":"InteractionCounter",interactionType:"https://schema.org/VoteAction",userInteractionCount:B},publisher:{"@type":"Organization",name:"La Voz del Pueblo",logo:{"@type":"ImageObject",url:"https://lavozdelpueblo.es/logo.svg"}}})})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[T.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[T.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-8 shadow-sm",children:[T.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[T.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-600 text-xs font-bold rounded-full uppercase tracking-wider",children:s.category}),T.jsx("span",{className:"text-gray-400 text-sm",children:" Encuesta Activa"})]}),T.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 mb-6 leading-tight",children:s.title}),T.jsx("p",{className:"text-lg text-gray-600 leading-relaxed mb-8",children:s.description}),T.jsxs("div",{className:"bg-slate-50 rounded-3xl p-8 border border-slate-100",children:[T.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Emite tu Voto"}),T.jsxs("div",{className:"space-y-8",children:[s.type==="multiple_choice"?T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:s.options.map(G=>{var ue;const j=(U=>(U.substring(0,2),U.includes("PSOE")?{color:"bg-red-600 text-white",icon:T.jsx("span",{className:"font-black tracking-tighter",children:"PSOE"}),border:"hover:border-red-500 hover:bg-red-50"}:U.includes("PP")?{color:"bg-blue-600 text-white",icon:T.jsx("span",{className:"font-black tracking-tighter",children:"PP"}),border:"hover:border-blue-500 hover:bg-blue-50"}:U.includes("Vox")?{color:"bg-green-600 text-white",icon:T.jsx("span",{className:"font-black tracking-widest",children:"VOX"}),border:"hover:border-green-500 hover:bg-green-50"}:U.includes("Sumar")?{color:"bg-fuchsia-600 text-white",icon:T.jsx("span",{className:"font-bold",children:"SUMAR"}),border:"hover:border-fuchsia-500 hover:bg-fuchsia-50"}:U.includes("Podemos")?{color:"bg-purple-700 text-white",icon:T.jsx("span",{className:"font-bold",children:"PODEMOS"}),border:"hover:border-purple-500 hover:bg-purple-50"}:U.includes("SALF")?{color:"bg-slate-800 text-white",icon:T.jsxs("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),border:"hover:border-slate-500 hover:bg-slate-50"}:U.includes("Junts")?{color:"bg-teal-500 text-white",icon:T.jsx("span",{className:"font-bold",children:"JUNTS"}),border:"hover:border-teal-500 hover:bg-teal-50"}:U.includes("ERC")?{color:"bg-yellow-400 text-black",icon:T.jsx("span",{className:"font-bold",children:"ERC"}),border:"hover:border-yellow-500 hover:bg-yellow-50"}:U.includes("PNV")?{color:"bg-green-700 text-white",icon:T.jsx("span",{className:"font-bold",children:"PNV"}),border:"hover:border-green-600 hover:bg-green-50"}:U.includes("Bildu")?{color:"bg-emerald-500 text-white",icon:T.jsx("span",{className:"font-bold",children:"BILDU"}),border:"hover:border-emerald-500 hover:bg-emerald-50"}:{color:"bg-gray-100 text-gray-600",icon:T.jsx("span",{className:"font-bold text-xs",children:"?"}),border:"hover:border-blue-500 hover:bg-blue-50"}))(G),F=(ue=s.optionDetails)==null?void 0:ue[G],ee=p[G],ie=(b==null?void 0:b.option)===G;return T.jsxs("div",{className:"flex flex-col",children:[T.jsxs("button",{onClick:()=>D("support",G),className:`relative z-10 flex justify-between items-center p-4 bg-white border border-gray-200 ${j.border} ${ee?"rounded-t-xl border-b-0":"rounded-xl"} transition-all shadow-sm group text-left ${!(n!=null&&n.region)&&"opacity-60 grayscale"} 
                                ${ie?"ring-2 ring-blue-600 bg-blue-50/50 border-blue-500":""}`,disabled:!(n!=null&&n.region)&&!!n,children:[T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shadow-sm ${j.color} text-[10px] sm:text-xs overflow-hidden`,children:j.icon}),T.jsx("span",{className:"font-bold text-gray-800",children:G})]}),T.jsxs("div",{className:"flex items-center space-x-2",children:[ie&&T.jsx("div",{className:"bg-blue-600 text-white rounded-full p-1 shadow-sm",children:T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),!ie&&T.jsx("div",{className:"bg-blue-100 text-blue-600 rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),F&&T.jsx("div",{onClick:U=>N(G,U),className:`p-1.5 rounded-full hover:bg-gray-100 text-gray-400 hover:text-blue-600 transition-colors ${ee?"rotate-180 bg-gray-100 text-blue-600":""}`,children:T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),ee&&F&&T.jsx("div",{className:"bg-slate-50 border border-t-0 border-gray-200 rounded-b-xl p-5 -mt-1 pt-4 relative z-0 animate-fadeIn",children:T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-xs sm:text-sm",children:[T.jsxs("div",{children:[T.jsxs("h5",{className:"font-bold text-green-700 mb-2 flex items-center",children:[T.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Puntos Fuertes"]}),T.jsx("ul",{className:"space-y-1.5 text-gray-600",children:F.pros.map((U,Y)=>T.jsxs("li",{className:"flex items-start",children:[T.jsx("span",{className:"text-green-500 mr-2",children:""}),T.jsx("span",{children:U})]},Y))})]}),T.jsxs("div",{children:[T.jsxs("h5",{className:"font-bold text-red-700 mb-2 flex items-center",children:[T.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Puntos Dbiles"]}),T.jsx("ul",{className:"space-y-1.5 text-gray-600",children:F.cons.map((U,Y)=>T.jsxs("li",{className:"flex items-start",children:[T.jsx("span",{className:"text-red-500 mr-2",children:""}),T.jsx("span",{children:U})]},Y))})]})]})})]},G)})}):T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[T.jsxs("button",{onClick:()=>D("support"),className:`flex flex-col items-center p-6 bg-white border-2 border-gray-100 hover:border-green-500 rounded-2xl transition-all group shadow-sm hover:shadow-md ${!(n!=null&&n.region)&&"opacity-60 grayscale-[0.5]"}
                          ${(b==null?void 0:b.choice)==="support"?"ring-2 ring-green-500 bg-green-50 border-green-500":""}`,disabled:!(n!=null&&n.region)&&!!n,children:[T.jsx("div",{className:"w-14 h-14 bg-green-50 text-green-600 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:T.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),T.jsx("span",{className:"font-bold text-gray-900 uppercase tracking-wide text-sm",children:s.labelSupport||"A favor"}),(b==null?void 0:b.choice)==="support"&&T.jsx("span",{className:"mt-2 text-xs bg-green-200 text-green-800 px-2 py-0.5 rounded-full font-bold",children:"Tu Voto"})]}),T.jsxs("button",{onClick:()=>D("oppose"),className:`flex flex-col items-center p-6 bg-white border-2 border-gray-100 hover:border-red-500 rounded-2xl transition-all group shadow-sm hover:shadow-md ${!(n!=null&&n.region)&&"opacity-60 grayscale-[0.5]"}
                          ${(b==null?void 0:b.choice)==="oppose"?"ring-2 ring-red-500 bg-red-50 border-red-500":""}`,disabled:!(n!=null&&n.region)&&!!n,children:[T.jsx("div",{className:"w-14 h-14 bg-red-50 text-red-600 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:T.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),T.jsx("span",{className:"font-bold text-gray-900 uppercase tracking-wide text-sm",children:s.labelOppose||"En contra"}),(b==null?void 0:b.choice)==="oppose"&&T.jsx("span",{className:"mt-2 text-xs bg-red-200 text-red-800 px-2 py-0.5 rounded-full font-bold",children:"Tu Voto"})]}),T.jsxs("button",{onClick:()=>D("neutral"),className:`flex flex-col items-center p-6 bg-white border-2 border-gray-100 hover:border-gray-500 rounded-2xl transition-all group shadow-sm hover:shadow-md ${!(n!=null&&n.region)&&"opacity-60 grayscale-[0.5]"}
                          ${(b==null?void 0:b.choice)==="neutral"?"ring-2 ring-gray-500 bg-gray-50 border-gray-500":""}`,disabled:!(n!=null&&n.region)&&!!n,children:[T.jsx("div",{className:"w-14 h-14 bg-gray-100 text-gray-600 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:T.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),T.jsx("span",{className:"font-bold text-gray-900 uppercase tracking-wide text-sm",children:"Neutral"}),(b==null?void 0:b.choice)==="neutral"&&T.jsx("span",{className:"mt-2 text-xs bg-gray-200 text-gray-800 px-2 py-0.5 rounded-full font-bold",children:"Tu Voto"})]})]}),n?n.region?null:T.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg border border-yellow-200 text-yellow-800 text-sm",children:[T.jsx("p",{className:"font-bold",children:"Perfil incompleto"}),T.jsx("p",{children:"Necesitamos saber tu Comunidad Autnoma para registrar el voto."}),T.jsx("p",{className:"mt-2 text-xs",children:"Por favor, cierra sesin y regstrate de nuevo (o espera a que implementemos 'Editar Perfil')."})]}):T.jsxs("div",{className:"text-center",children:[T.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"Es necesario estar identificado para votar"}),T.jsx("button",{onClick:r,className:"text-blue-600 font-bold hover:text-blue-700 underline text-sm",children:"Iniciar sesin ahora"})]}),T.jsx("div",{className:"space-y-6",children:u&&T.jsxs("div",{className:"animate-fadeIn",children:[T.jsxs("div",{className:"text-center py-6 bg-green-50/80 rounded-2xl text-green-800 font-bold border border-green-200 mb-6",children:[T.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-1",children:[T.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),T.jsx("span",{children:"Tu voz ha sido registrada!"})]}),T.jsx("p",{className:"text-sm font-normal text-green-700",children:"Ahora haz que cuente: Comprtelo para que otros voten."})]}),T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[T.jsxs("a",{href:`https://api.whatsapp.com/send?text=${encodeURIComponent(`He votado sobre "${s.title}" en La Voz Del Pueblo. Entra y vota t tambin!  https://lavozdelpueblo.es/#/topic/${s.id}`)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center space-x-2 w-full py-3 bg-[#25D366] hover:bg-[#20bd5a] text-white rounded-xl font-bold transition-transform hover:scale-105 shadow-sm",children:[T.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),T.jsx("span",{children:"WhatsApp"})]}),T.jsxs("a",{href:`https://twitter.com/intent/tweet?text=${encodeURIComponent(`He votado sobre "${s.title}" en La Voz Del Pueblo. Vota t tambin y decide! `)}&url=${encodeURIComponent(`https://lavozdelpueblo.es/#/topic/${s.id}`)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center space-x-2 w-full py-3 bg-black hover:bg-gray-800 text-white rounded-xl font-bold transition-transform hover:scale-105 shadow-sm",children:[T.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),T.jsx("span",{children:"X (Twitter)"})]}),T.jsxs("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(`https://lavozdelpueblo.es/#/topic/${s.id}`)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center space-x-2 w-full py-3 bg-[#1877F2] hover:bg-[#166fe5] text-white rounded-xl font-bold transition-transform hover:scale-105 shadow-sm",children:[T.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036c-2.148 0-2.971.956-2.971 3.594v.376h3.413l-.565 3.667h-2.848v7.98h-4.843Z"})}),T.jsx("span",{children:"Facebook"})]})]})]})})]})]}),T.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-8 shadow-sm",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Distribucin Geogrfica"}),s.type!=="multiple_choice"&&T.jsxs("div",{className:"flex space-x-2",children:[T.jsx("div",{className:"h-3 w-10 bg-green-500 rounded-full"}),T.jsx("div",{className:"h-3 w-10 bg-red-500 rounded-full"})]})]}),T.jsx(Ese,{regionalVotes:s.regionalVotes,regionalOptionCounts:s.type==="multiple_choice"?s.regionalOptionCounts:void 0,pollType:s.type,labelSupport:s.type==="binary"?s.labelSupport:void 0,labelOppose:s.type==="binary"?s.labelOppose:void 0,onSelectRegion:h,selectedRegion:f})]})]}),(!("optionDetails"in s)||!s.optionDetails)&&T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[T.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-8 shadow-sm group hover:border-green-100 transition-colors",children:[T.jsxs("h3",{className:"text-lg font-bold text-green-600 mb-6 flex items-center",children:[T.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Argumentos A Favor"]}),T.jsx("ul",{className:"space-y-4",children:s.pros.map((G,$)=>T.jsxs("li",{className:"flex items-start text-gray-600 text-sm leading-relaxed",children:[T.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-1.5 mr-3 flex-shrink-0"}),G]},$))})]}),T.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-8 shadow-sm group hover:border-red-100 transition-colors",children:[T.jsxs("h3",{className:"text-lg font-bold text-red-600 mb-6 flex items-center",children:[T.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Argumentos En Contra"]}),T.jsx("ul",{className:"space-y-4",children:s.cons.map((G,$)=>T.jsxs("li",{className:"flex items-start text-gray-600 text-sm leading-relaxed",children:[T.jsx("span",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mt-1.5 mr-3 flex-shrink-0"}),G]},$))})]})]}),T.jsx(Kle,{topicId:s.id,user:n,onRequireAuth:r})]}),T.jsxs("div",{className:"space-y-8 mt-12 lg:mt-0",children:[J,T.jsx(Ioe,{topic:s,demographics:C,regionalRanking:P})]})]})]}),E&&T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:T.jsx("div",{className:"bg-white rounded-2xl shadow-xl max-w-sm w-full p-6 transform transition-all scale-100 animate-in zoom-in-95 duration-200",children:T.jsxs("div",{className:"flex flex-col items-center text-center",children:[T.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center mb-4 text-yellow-600",children:T.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),T.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Cambiar tu voto?"}),T.jsx("p",{className:"text-gray-500 mb-6",children:"Ya has votado anteriormente. Ests seguro de que quieres cambiar tu eleccin? Tu voto anterior ser eliminado."}),T.jsxs("div",{className:"flex gap-3 w-full",children:[T.jsx("button",{onClick:()=>x(null),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 font-semibold rounded-xl hover:bg-gray-200 transition-colors",children:"Cancelar"}),T.jsx("button",{onClick:()=>I(E.choice,E.option),className:"flex-1 px-4 py-2 bg-blue-600 text-white font-semibold rounded-xl hover:bg-blue-700 transition-colors shadow-lg shadow-blue-200",children:"Confirmar"})]})]})})})]})};var Jle={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Xle,Qle;function Zle(){return{geminiUrl:Xle,vertexUrl:Qle}}function eue(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const s=Zle();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(a=s.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fi{}function pe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function y(t,e,n){for(let a=0;a<e.length-1;a++){const s=e[a];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let f=0;f<c.length;f++){const h=c[f];y(h,e.slice(a+1),n[f])}else for(const f of c)y(f,e.slice(a+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];y(c[0],e.slice(a+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function v(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const s=t[a];return Array.isArray(s)?s.map(u=>v(u,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function tue(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),a=r.split("."),s=new Set;let u=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){u=c;break}if(u!==-1&&a.length>u)for(let c=u;c<a.length;c++){const f=a[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&s.add(f)}kS(t,i,a,0,s)}}function kS(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const s=a.slice(0,-2),u=t;if(s in u&&Array.isArray(u[s]))for(const c of u[s])kS(c,e,n,r+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,u=Object.keys(s).filter(f=>!f.startsWith("_")&&!i.has(f)),c={};for(const f of u)c[f]=s[f];for(const[f,h]of Object.entries(c)){const p=[];for(const g of n.slice(r))g==="*"?p.push(f):p.push(g);y(s,p,h)}for(const f of u)delete s[f]}}else{const s=t;a in s&&kS(s[a],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vT(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nue(t){const e={},n=v(t,["operationName"]);n!=null&&y(e,["operationName"],n);const r=v(t,["resourceName"]);return r!=null&&y(e,["_url","resourceName"],r),e}function rue(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=v(t,["done"]);i!=null&&y(e,["done"],i);const a=v(t,["error"]);a!=null&&y(e,["error"],a);const s=v(t,["response","generateVideoResponse"]);return s!=null&&y(e,["response"],aue(s)),e}function iue(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=v(t,["done"]);i!=null&&y(e,["done"],i);const a=v(t,["error"]);a!=null&&y(e,["error"],a);const s=v(t,["response"]);return s!=null&&y(e,["response"],oue(s)),e}function aue(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>sue(s))),y(e,["generatedVideos"],a)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function oue(t){const e={},n=v(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>lue(s))),y(e,["generatedVideos"],a)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function sue(t){const e={},n=v(t,["video"]);return n!=null&&y(e,["video"],pue(n)),e}function lue(t){const e={},n=v(t,["_self"]);return n!=null&&y(e,["video"],mue(n)),e}function uue(t){const e={},n=v(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function cue(t){const e={},n=v(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function fue(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=v(t,["done"]);i!=null&&y(e,["done"],i);const a=v(t,["error"]);a!=null&&y(e,["error"],a);const s=v(t,["response"]);return s!=null&&y(e,["response"],due(s)),e}function due(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&y(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function J4(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=v(t,["done"]);i!=null&&y(e,["done"],i);const a=v(t,["error"]);a!=null&&y(e,["error"],a);const s=v(t,["response"]);return s!=null&&y(e,["response"],hue(s)),e}function hue(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&y(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function pue(t){const e={},n=v(t,["uri"]);n!=null&&y(e,["uri"],n);const r=v(t,["encodedVideo"]);r!=null&&y(e,["videoBytes"],vT(r));const i=v(t,["encoding"]);return i!=null&&y(e,["mimeType"],i),e}function mue(t){const e={},n=v(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&y(e,["videoBytes"],vT(r));const i=v(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var jD;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(jD||(jD={}));var UD;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(UD||(UD={}));var $D;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})($D||($D={}));var pn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(pn||(pn={}));var qD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(qD||(qD={}));var BD;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(BD||(BD={}));var HD;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(HD||(HD={}));var zD;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(zD||(zD={}));var GD;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(GD||(GD={}));var VD;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(VD||(VD={}));var FD;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(FD||(FD={}));var KD;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(KD||(KD={}));var WD;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(WD||(WD={}));var YD;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(YD||(YD={}));var JD;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(JD||(JD={}));var XD;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(XD||(XD={}));var QD;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(QD||(QD={}));var ZD;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(ZD||(ZD={}));var eL;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(eL||(eL={}));var qp;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(qp||(qp={}));var tL;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(tL||(tL={}));var nL;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(nL||(nL={}));var rL;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(rL||(rL={}));var DS;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(DS||(DS={}));var iL;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(iL||(iL={}));var aL;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(aL||(aL={}));var oL;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(oL||(oL={}));var sL;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(sL||(sL={}));var lL;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(lL||(lL={}));var uL;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(uL||(uL={}));var cL;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(cL||(cL={}));var fL;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(fL||(fL={}));var dL;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(dL||(dL={}));var hL;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(hL||(hL={}));var pL;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(pL||(pL={}));var mL;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(mL||(mL={}));var gL;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(gL||(gL={}));var vL;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(vL||(vL={}));var yL;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(yL||(yL={}));var bL;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(bL||(bL={}));var _L;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(_L||(_L={}));var xL;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(xL||(xL={}));var wL;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(wL||(wL={}));var SL;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(SL||(SL={}));var EL;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(EL||(EL={}));var TL;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(TL||(TL={}));var AL;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(AL||(AL={}));var CL;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(CL||(CL={}));var OL;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(OL||(OL={}));var RL;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(RL||(RL={}));var NL;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(NL||(NL={}));var PL;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(PL||(PL={}));var ML;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ML||(ML={}));var IL;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(IL||(IL={}));var kL;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(kL||(kL={}));var Gs;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Gs||(Gs={}));class LS{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Yu{get text(){var e,n,r,i,a,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const p=[];for(const g of(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[b,S]of Object.entries(g))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(S!==null||S!==void 0)&&p.push(b);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,f+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,n,r,i,a,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const p of(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[g,b]of Object.entries(p))g!=="inlineData"&&(b!==null||b!==void 0)&&h.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,a,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,i,a,s,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,a,s,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class DL{}class LL{}class gue{}class vue{}class yue{}class bue{}class jL{}class UL{}class $L{}class _ue{}class Bp{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Bp;let i;const a=e;return n?i=iue(a):i=rue(a),Object.assign(r,i),r}}class qL{}class BL{}class HL{}class zL{}class xue{}class wue{}class Sue{}class yT{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new yT,a=fue(e);return Object.assign(r,a),r}}class Eue{}class Tue{}class Aue{}class GL{}class Cue{get text(){var e,n,r;let i="",a=!1;const s=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&s.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;a=!0,i+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(s))u!=="inlineData"&&c!==null&&a.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Oue{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class bT{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new bT,a=J4(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ye(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function X4(t,e){const n=Ye(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Q4(t){return Array.isArray(t)?t.map(e=>Hp(e)):[Hp(t)]}function Hp(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Z4(t){const e=Hp(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function e3(t){const e=Hp(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function VL(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function t3(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>VL(e)):[VL(t)]}function jS(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function FL(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function KL(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function gn(t){if(t==null)throw new Error("ContentUnion is required");return jS(t)?t:{role:"user",parts:t3(t)}}function _T(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=gn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=gn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>gn(n)):[gn(e)]}function yr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(FL(t)||KL(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[gn(t)]}const e=[],n=[],r=jS(t[0]);for(const i of t){const a=jS(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(FL(i)||KL(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:t3(n)}),e}function Rue(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(pn).includes(n[0].toUpperCase())?n[0].toUpperCase():pn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(pn).includes(r.toUpperCase())?r.toUpperCase():pn.TYPE_UNSPECIFIED})}}function Zs(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&Rue(t.type,e);for(const[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(pn).includes(u.toUpperCase())?u.toUpperCase():pn.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Zs(u);else if(r.includes(s)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(Zs(f))}e[s]=c}else if(i.includes(s)){const c={};for(const[f,h]of Object.entries(u))c[f]=Zs(h);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=u}return e}function xT(t){return Zs(t)}function wT(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function ST(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function $l(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Zs(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Zs(e.response));return t}function ql(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Nue(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Ki(t,e){if(typeof e!="string")throw new Error("name must be a string");return Nue(t,e,"cachedContents")}function n3(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function La(t){return vT(t)}function Pue(t){return t!=null&&typeof t=="object"&&"name"in t}function Mue(t){return t!=null&&typeof t=="object"&&"video"in t}function Iue(t){return t!=null&&typeof t=="object"&&"uri"in t}function r3(t){var e;let n;if(Pue(t)&&(n=t.name),!(Iue(t)&&(n=t.uri,n===void 0))&&!(Mue(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function i3(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function a3(t){for(const e of["models","tunedModels","publisherModels"])if(kue(t,e))return t[e];return[]}function kue(t,e){return t!==null&&typeof t=="object"&&e in t}function Due(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Lue(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const s=Due(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function o3(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function jue(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function s3(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Bl(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function l3(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uue(t){const e={},n=v(t,["responsesFile"]);n!=null&&y(e,["fileName"],n);const r=v(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>yce(s))),y(e,["inlinedResponses"],a)}const i=v(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["inlinedEmbedContentResponses"],a)}return e}function $ue(t){const e={},n=v(t,["predictionsFormat"]);n!=null&&y(e,["format"],n);const r=v(t,["gcsDestination","outputUriPrefix"]);r!=null&&y(e,["gcsUri"],r);const i=v(t,["bigqueryDestination","outputUri"]);return i!=null&&y(e,["bigqueryUri"],i),e}function que(t){const e={},n=v(t,["format"]);n!=null&&y(e,["predictionsFormat"],n);const r=v(t,["gcsUri"]);r!=null&&y(e,["gcsDestination","outputUriPrefix"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&y(e,["bigqueryDestination","outputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(v(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Oh(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["metadata","displayName"]);r!=null&&y(e,["displayName"],r);const i=v(t,["metadata","state"]);i!=null&&y(e,["state"],l3(i));const a=v(t,["metadata","createTime"]);a!=null&&y(e,["createTime"],a);const s=v(t,["metadata","endTime"]);s!=null&&y(e,["endTime"],s);const u=v(t,["metadata","updateTime"]);u!=null&&y(e,["updateTime"],u);const c=v(t,["metadata","model"]);c!=null&&y(e,["model"],c);const f=v(t,["metadata","output"]);return f!=null&&y(e,["dest"],Uue(s3(f))),e}function US(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=v(t,["state"]);i!=null&&y(e,["state"],l3(i));const a=v(t,["error"]);a!=null&&y(e,["error"],a);const s=v(t,["createTime"]);s!=null&&y(e,["createTime"],s);const u=v(t,["startTime"]);u!=null&&y(e,["startTime"],u);const c=v(t,["endTime"]);c!=null&&y(e,["endTime"],c);const f=v(t,["updateTime"]);f!=null&&y(e,["updateTime"],f);const h=v(t,["model"]);h!=null&&y(e,["model"],h);const p=v(t,["inputConfig"]);p!=null&&y(e,["src"],Bue(p));const g=v(t,["outputConfig"]);g!=null&&y(e,["dest"],$ue(s3(g)));const b=v(t,["completionStats"]);return b!=null&&y(e,["completionStats"],b),e}function Bue(t){const e={},n=v(t,["instancesFormat"]);n!=null&&y(e,["format"],n);const r=v(t,["gcsSource","uris"]);r!=null&&y(e,["gcsUri"],r);const i=v(t,["bigquerySource","inputUri"]);return i!=null&&y(e,["bigqueryUri"],i),e}function Hue(t,e){const n={};if(v(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=v(e,["fileName"]);r!=null&&y(n,["fileName"],r);const i=v(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>vce(t,s))),y(n,["requests","requests"],a)}return n}function zue(t){const e={},n=v(t,["format"]);n!=null&&y(e,["instancesFormat"],n);const r=v(t,["gcsUri"]);r!=null&&y(e,["gcsSource","uris"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&y(e,["bigquerySource","inputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Gue(t){const e={},n=v(t,["data"]);if(n!=null&&y(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Vue(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],Bl(t,r)),n}function Fue(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],Bl(t,r)),n}function Kue(t){const e={},n=v(t,["content"]);n!=null&&y(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&y(e,["citationMetadata"],Wue(r));const i=v(t,["tokenCount"]);i!=null&&y(e,["tokenCount"],i);const a=v(t,["finishReason"]);a!=null&&y(e,["finishReason"],a);const s=v(t,["avgLogprobs"]);s!=null&&y(e,["avgLogprobs"],s);const u=v(t,["groundingMetadata"]);u!=null&&y(e,["groundingMetadata"],u);const c=v(t,["index"]);c!=null&&y(e,["index"],c);const f=v(t,["logprobsResult"]);f!=null&&y(e,["logprobsResult"],f);const h=v(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(b=>b)),y(e,["safetyRatings"],g)}const p=v(t,["urlContextMetadata"]);return p!=null&&y(e,["urlContextMetadata"],p),e}function Wue(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["citations"],r)}return e}function u3(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Tce(a))),y(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&y(e,["role"],r),e}function Yue(t,e){const n={},r=v(t,["displayName"]);if(e!==void 0&&r!=null&&y(e,["batch","displayName"],r),v(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Jue(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=v(t,["dest"]);return e!==void 0&&i!=null&&y(e,["outputConfig"],que(jue(i))),n}function WL(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["src"]);i!=null&&y(n,["batch","inputConfig"],Hue(t,o3(t,i)));const a=v(e,["config"]);return a!=null&&Yue(a,n),n}function Xue(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["model"],Ye(t,r));const i=v(e,["src"]);i!=null&&y(n,["inputConfig"],zue(o3(t,i)));const a=v(e,["config"]);return a!=null&&Jue(a,n),n}function Que(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&y(e,["batch","displayName"],r),n}function Zue(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["src"]);i!=null&&y(n,["batch","inputConfig"],oce(t,i));const a=v(e,["config"]);return a!=null&&Que(a,n),n}function ece(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],Bl(t,r)),n}function tce(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],Bl(t,r)),n}function nce(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&y(e,["name"],r);const i=v(t,["done"]);i!=null&&y(e,["done"],i);const a=v(t,["error"]);return a!=null&&y(e,["error"],a),e}function rce(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&y(e,["name"],r);const i=v(t,["done"]);i!=null&&y(e,["done"],i);const a=v(t,["error"]);return a!=null&&y(e,["error"],a),e}function ice(t,e){const n={},r=v(e,["contents"]);if(r!=null){let a=_T(t,r);Array.isArray(a)&&(a=a.map(s=>s)),y(n,["requests[]","request","content"],a)}const i=v(e,["config"]);return i!=null&&(y(n,["_self"],ace(i,n)),tue(n,{"requests[].*":"requests[].request.*"})),n}function ace(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&y(e,["requests[]","taskType"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&y(e,["requests[]","title"],i);const a=v(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&y(e,["requests[]","outputDimensionality"],a),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function oce(t,e){const n={},r=v(e,["fileName"]);r!=null&&y(n,["file_name"],r);const i=v(e,["inlinedRequests"]);return i!=null&&y(n,["requests"],ice(t,i)),n}function sce(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function lce(t){const e={},n=v(t,["id"]);n!=null&&y(e,["id"],n);const r=v(t,["args"]);r!=null&&y(e,["args"],r);const i=v(t,["name"]);if(i!=null&&y(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function uce(t){const e={},n=v(t,["mode"]);n!=null&&y(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function cce(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],u3(gn(i)));const a=v(e,["temperature"]);a!=null&&y(r,["temperature"],a);const s=v(e,["topP"]);s!=null&&y(r,["topP"],s);const u=v(e,["topK"]);u!=null&&y(r,["topK"],u);const c=v(e,["candidateCount"]);c!=null&&y(r,["candidateCount"],c);const f=v(e,["maxOutputTokens"]);f!=null&&y(r,["maxOutputTokens"],f);const h=v(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const p=v(e,["responseLogprobs"]);p!=null&&y(r,["responseLogprobs"],p);const g=v(e,["logprobs"]);g!=null&&y(r,["logprobs"],g);const b=v(e,["presencePenalty"]);b!=null&&y(r,["presencePenalty"],b);const S=v(e,["frequencyPenalty"]);S!=null&&y(r,["frequencyPenalty"],S);const E=v(e,["seed"]);E!=null&&y(r,["seed"],E);const x=v(e,["responseMimeType"]);x!=null&&y(r,["responseMimeType"],x);const A=v(e,["responseSchema"]);A!=null&&y(r,["responseSchema"],xT(A));const O=v(e,["responseJsonSchema"]);if(O!=null&&y(r,["responseJsonSchema"],O),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const C=v(e,["safetySettings"]);if(n!==void 0&&C!=null){let K=C;Array.isArray(K)&&(K=K.map(G=>Ace(G))),y(n,["safetySettings"],K)}const N=v(e,["tools"]);if(n!==void 0&&N!=null){let K=ql(N);Array.isArray(K)&&(K=K.map(G=>Oce($l(G)))),y(n,["tools"],K)}const R=v(e,["toolConfig"]);if(n!==void 0&&R!=null&&y(n,["toolConfig"],Cce(R)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=v(e,["cachedContent"]);n!==void 0&&P!=null&&y(n,["cachedContent"],Ki(t,P));const I=v(e,["responseModalities"]);I!=null&&y(r,["responseModalities"],I);const D=v(e,["mediaResolution"]);D!=null&&y(r,["mediaResolution"],D);const L=v(e,["speechConfig"]);if(L!=null&&y(r,["speechConfig"],wT(L)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const z=v(e,["thinkingConfig"]);z!=null&&y(r,["thinkingConfig"],z);const B=v(e,["imageConfig"]);B!=null&&y(r,["imageConfig"],gce(B));const J=v(e,["enableEnhancedCivicAnswers"]);return J!=null&&y(r,["enableEnhancedCivicAnswers"],J),r}function fce(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>Kue(f))),y(e,["candidates"],c)}const i=v(t,["modelVersion"]);i!=null&&y(e,["modelVersion"],i);const a=v(t,["promptFeedback"]);a!=null&&y(e,["promptFeedback"],a);const s=v(t,["responseId"]);s!=null&&y(e,["responseId"],s);const u=v(t,["usageMetadata"]);return u!=null&&y(e,["usageMetadata"],u),e}function dce(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],Bl(t,r)),n}function hce(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],Bl(t,r)),n}function pce(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function mce(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function gce(t){const e={},n=v(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=v(t,["imageSize"]);if(r!=null&&y(e,["imageSize"],r),v(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function vce(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["request","model"],Ye(t,r));const i=v(e,["contents"]);if(i!=null){let u=yr(i);Array.isArray(u)&&(u=u.map(c=>u3(c))),y(n,["request","contents"],u)}const a=v(e,["metadata"]);a!=null&&y(n,["metadata"],a);const s=v(e,["config"]);return s!=null&&y(n,["request","generationConfig"],cce(t,s,v(n,["request"],{}))),n}function yce(t){const e={},n=v(t,["response"]);n!=null&&y(e,["response"],fce(n));const r=v(t,["error"]);return r!=null&&y(e,["error"],r),e}function bce(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);if(e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),v(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function _ce(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);e!==void 0&&i!=null&&y(e,["_query","pageToken"],i);const a=v(t,["filter"]);return e!==void 0&&a!=null&&y(e,["_query","filter"],a),n}function xce(t){const e={},n=v(t,["config"]);return n!=null&&bce(n,e),e}function wce(t){const e={},n=v(t,["config"]);return n!=null&&_ce(n,e),e}function Sce(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=v(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Oh(s))),y(e,["batchJobs"],a)}return e}function Ece(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=v(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>US(s))),y(e,["batchJobs"],a)}return e}function Tce(t){const e={},n=v(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&y(e,["fileData"],sce(a));const s=v(t,["functionCall"]);s!=null&&y(e,["functionCall"],lce(s));const u=v(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const c=v(t,["inlineData"]);c!=null&&y(e,["inlineData"],Gue(c));const f=v(t,["text"]);f!=null&&y(e,["text"],f);const h=v(t,["thought"]);h!=null&&y(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&y(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&y(e,["videoMetadata"],g),e}function Ace(t){const e={},n=v(t,["category"]);if(n!=null&&y(e,["category"],n),v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(t,["threshold"]);return r!=null&&y(e,["threshold"],r),e}function Cce(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],uce(n));const r=v(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function Oce(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),y(e,["functionDeclarations"],h)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const a=v(t,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const s=v(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],pce(u));const c=v(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],mce(c));const f=v(t,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(qi||(qi={}));class Uo{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rce extends Fi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Uo(qi.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=WL(this.apiClient,e),r=n._url,i=pe("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,c=u.requests,f=[];for(const h of c){const p=Object.assign({},h);if(p.systemInstruction){const g=p.systemInstruction;delete p.systemInstruction;const b=p.request;b.systemInstruction=g,p.request=b}f.push(p)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),s=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Xue(this.apiClient,e);return u=pe("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>US(h))}else{const f=WL(this.apiClient,e);return u=pe("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>Oh(h))}}async createEmbeddingsInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Zue(this.apiClient,e);return a=pe("{model}:asyncBatchEmbedContent",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>Oh(c))}}async get(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=hce(this.apiClient,e);return u=pe("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>US(h))}else{const f=dce(this.apiClient,e);return u=pe("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>Oh(h))}}async cancel(e){var n,r,i,a;let s="",u={};if(this.apiClient.isVertexAI()){const c=Fue(this.apiClient,e);s=pe("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=Vue(this.apiClient,e);s=pe("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=wce(e);return u=pe("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Ece(h),g=new GL;return Object.assign(g,p),g})}else{const f=xce(e);return u=pe("batches",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Sce(h),g=new GL;return Object.assign(g,p),g})}}async delete(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=tce(this.apiClient,e);return u=pe("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>rce(h))}else{const f=ece(this.apiClient,e);return u=pe("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>nce(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nce(t){const e={},n=v(t,["data"]);if(n!=null&&y(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function YL(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Zce(a))),y(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&y(e,["role"],r),e}function Pce(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&y(e,["expireTime"],i);const a=v(t,["displayName"]);e!==void 0&&a!=null&&y(e,["displayName"],a);const s=v(t,["contents"]);if(e!==void 0&&s!=null){let h=yr(s);Array.isArray(h)&&(h=h.map(p=>YL(p))),y(e,["contents"],h)}const u=v(t,["systemInstruction"]);e!==void 0&&u!=null&&y(e,["systemInstruction"],YL(gn(u)));const c=v(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>tfe(p))),y(e,["tools"],h)}const f=v(t,["toolConfig"]);if(e!==void 0&&f!=null&&y(e,["toolConfig"],efe(f)),v(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Mce(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&y(e,["expireTime"],i);const a=v(t,["displayName"]);e!==void 0&&a!=null&&y(e,["displayName"],a);const s=v(t,["contents"]);if(e!==void 0&&s!=null){let p=yr(s);Array.isArray(p)&&(p=p.map(g=>g)),y(e,["contents"],p)}const u=v(t,["systemInstruction"]);e!==void 0&&u!=null&&y(e,["systemInstruction"],gn(u));const c=v(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>nfe(g))),y(e,["tools"],p)}const f=v(t,["toolConfig"]);e!==void 0&&f!=null&&y(e,["toolConfig"],f);const h=v(t,["kmsKeyName"]);return e!==void 0&&h!=null&&y(e,["encryption_spec","kmsKeyName"],h),n}function Ice(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["model"],X4(t,r));const i=v(e,["config"]);return i!=null&&Pce(i,n),n}function kce(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["model"],X4(t,r));const i=v(e,["config"]);return i!=null&&Mce(i,n),n}function Dce(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],Ki(t,r)),n}function Lce(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],Ki(t,r)),n}function jce(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function Uce(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function $ce(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function qce(t){const e={},n=v(t,["id"]);n!=null&&y(e,["id"],n);const r=v(t,["args"]);r!=null&&y(e,["args"],r);const i=v(t,["name"]);if(i!=null&&y(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Bce(t){const e={},n=v(t,["mode"]);n!=null&&y(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Hce(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&y(e,["description"],n);const r=v(t,["name"]);r!=null&&y(e,["name"],r);const i=v(t,["parameters"]);i!=null&&y(e,["parameters"],i);const a=v(t,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const s=v(t,["response"]);s!=null&&y(e,["response"],s);const u=v(t,["responseJsonSchema"]);return u!=null&&y(e,["responseJsonSchema"],u),e}function zce(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],Ki(t,r)),n}function Gce(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],Ki(t,r)),n}function Vce(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function Fce(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function Kce(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function Wce(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function Yce(t){const e={},n=v(t,["config"]);return n!=null&&Kce(n,e),e}function Jce(t){const e={},n=v(t,["config"]);return n!=null&&Wce(n,e),e}function Xce(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=v(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["cachedContents"],a)}return e}function Qce(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=v(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["cachedContents"],a)}return e}function Zce(t){const e={},n=v(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&y(e,["fileData"],$ce(a));const s=v(t,["functionCall"]);s!=null&&y(e,["functionCall"],qce(s));const u=v(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const c=v(t,["inlineData"]);c!=null&&y(e,["inlineData"],Nce(c));const f=v(t,["text"]);f!=null&&y(e,["text"],f);const h=v(t,["thought"]);h!=null&&y(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&y(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&y(e,["videoMetadata"],g),e}function efe(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],Bce(n));const r=v(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function tfe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),y(e,["functionDeclarations"],h)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const a=v(t,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const s=v(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],Vce(u));const c=v(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],Fce(c));const f=v(t,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}function nfe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>Hce(g))),y(e,["functionDeclarations"],p)}const r=v(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=v(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const a=v(t,["computerUse"]);if(a!=null&&y(e,["computerUse"],a),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=v(t,["codeExecution"]);s!=null&&y(e,["codeExecution"],s);const u=v(t,["enterpriseWebSearch"]);u!=null&&y(e,["enterpriseWebSearch"],u);const c=v(t,["googleMaps"]);c!=null&&y(e,["googleMaps"],c);const f=v(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],f);const h=v(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function rfe(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&y(e,["expireTime"],i),n}function ife(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&y(e,["expireTime"],i),n}function afe(t,e){const n={},r=v(e,["name"]);r!=null&&y(n,["_url","name"],Ki(t,r));const i=v(e,["config"]);return i!=null&&rfe(i,n),n}function ofe(t,e){const n={},r=v(e,["name"]);r!=null&&y(n,["_url","name"],Ki(t,r));const i=v(e,["config"]);return i!=null&&ife(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sfe extends Fi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Uo(qi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=kce(this.apiClient,e);return u=pe("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=Ice(this.apiClient,e);return u=pe("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Gce(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=zce(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Lce(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Uce(h),g=new HL;return Object.assign(g,p),g})}else{const f=Dce(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=jce(h),g=new HL;return Object.assign(g,p),g})}}async update(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=ofe(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=afe(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Jce(e);return u=pe("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Qce(h),g=new zL;return Object.assign(g,p),g})}else{const f=Yce(e);return u=pe("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Xce(h),g=new zL;return Object.assign(g,p),g})}}}function zp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function JL(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Re(t){return this instanceof Re?(this.v=t,this):new Re(t)}function $r(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(b){return function(S){return Promise.resolve(S).then(b,p)}}function u(b,S){r[b]&&(i[b]=function(E){return new Promise(function(x,A){a.push([b,E,x,A])>1||c(b,E)})},S&&(i[b]=S(i[b])))}function c(b,S){try{f(r[b](S))}catch(E){g(a[0][3],E)}}function f(b){b.value instanceof Re?Promise.resolve(b.value.v).then(h,p):g(a[0][2],b)}function h(b){c("next",b)}function p(b){c("throw",b)}function g(b,S){b(S),a.shift(),a.length&&c(a[0][0],a[0][1])}}function qr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof JL=="function"?JL(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(s){return new Promise(function(u,c){s=t[a](s),i(u,c,s.done,s.value)})}}function i(a,s,u,c){Promise.resolve(c).then(function(f){a({value:f,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lfe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:c3(n)}function c3(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function ufe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function XL(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!c3(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class cfe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new ffe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class ffe{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),ufe(a)}async sendMessage(e){var n;await this.sendPromise;const r=gn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,s,u;const c=await i,f=(s=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,h=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let g=[];h!=null&&(g=(u=h.slice(p))!==null&&u!==void 0?u:[]);const b=f?[f]:[];this.recordHistory(r,b,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=gn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?XL(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return $r(this,arguments,function*(){var i,a,s,u,c,f;const h=[];try{for(var p=!0,g=qr(e),b;b=yield Re(g.next()),i=b.done,!i;p=!0){u=b.value,p=!1;const S=u;if(lfe(S)){const E=(f=(c=S.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content;E!==void 0&&h.push(E)}yield yield Re(S)}}catch(S){a={error:S}}finally{try{!p&&!i&&(s=g.return)&&(yield Re(s.call(g)))}finally{if(a)throw a.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...XL(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class km extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,km.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dfe(t){const e={},n=v(t,["file"]);return n!=null&&y(e,["file"],n),e}function hfe(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function pfe(t){const e={},n=v(t,["name"]);return n!=null&&y(e,["_url","file"],r3(n)),e}function mfe(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function gfe(t){const e={},n=v(t,["name"]);return n!=null&&y(e,["_url","file"],r3(n)),e}function vfe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function yfe(t){const e={},n=v(t,["config"]);return n!=null&&vfe(n,e),e}function bfe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=v(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _fe extends Fi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Uo(qi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=yfe(e);return a=pe("files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=bfe(c),h=new Eue;return Object.assign(h,f),h})}}async createInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=dfe(e);return a=pe("upload/v1beta/files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=hfe(c),h=new Tue;return Object.assign(h,f),h})}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=gfe(e);return a=pe("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=pfe(e);return a=pe("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=mfe(c),h=new Aue;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rh(t){const e={},n=v(t,["data"]);if(n!=null&&y(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function xfe(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>jfe(a))),y(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&y(e,["role"],r),e}function wfe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Sfe(t){const e={},n=v(t,["id"]);n!=null&&y(e,["id"],n);const r=v(t,["args"]);r!=null&&y(e,["args"],r);const i=v(t,["name"]);if(i!=null&&y(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Efe(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&y(e,["description"],n);const r=v(t,["name"]);r!=null&&y(e,["name"],r);const i=v(t,["parameters"]);i!=null&&y(e,["parameters"],i);const a=v(t,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const s=v(t,["response"]);s!=null&&y(e,["response"],s);const u=v(t,["responseJsonSchema"]);return u!=null&&y(e,["responseJsonSchema"],u),e}function Tfe(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const r=v(t,["responseJsonSchema"]);r!=null&&y(e,["responseJsonSchema"],r);const i=v(t,["audioTimestamp"]);i!=null&&y(e,["audioTimestamp"],i);const a=v(t,["candidateCount"]);a!=null&&y(e,["candidateCount"],a);const s=v(t,["enableAffectiveDialog"]);s!=null&&y(e,["enableAffectiveDialog"],s);const u=v(t,["frequencyPenalty"]);u!=null&&y(e,["frequencyPenalty"],u);const c=v(t,["logprobs"]);c!=null&&y(e,["logprobs"],c);const f=v(t,["maxOutputTokens"]);f!=null&&y(e,["maxOutputTokens"],f);const h=v(t,["mediaResolution"]);h!=null&&y(e,["mediaResolution"],h);const p=v(t,["presencePenalty"]);p!=null&&y(e,["presencePenalty"],p);const g=v(t,["responseLogprobs"]);g!=null&&y(e,["responseLogprobs"],g);const b=v(t,["responseMimeType"]);b!=null&&y(e,["responseMimeType"],b);const S=v(t,["responseModalities"]);S!=null&&y(e,["responseModalities"],S);const E=v(t,["responseSchema"]);E!=null&&y(e,["responseSchema"],E);const x=v(t,["routingConfig"]);x!=null&&y(e,["routingConfig"],x);const A=v(t,["seed"]);A!=null&&y(e,["seed"],A);const O=v(t,["speechConfig"]);O!=null&&y(e,["speechConfig"],O);const C=v(t,["stopSequences"]);C!=null&&y(e,["stopSequences"],C);const N=v(t,["temperature"]);N!=null&&y(e,["temperature"],N);const R=v(t,["thinkingConfig"]);R!=null&&y(e,["thinkingConfig"],R);const P=v(t,["topK"]);P!=null&&y(e,["topK"],P);const I=v(t,["topP"]);if(I!=null&&y(e,["topP"],I),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Afe(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function Cfe(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function Ofe(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const a=v(t,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const s=v(t,["topP"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","topP"],s);const u=v(t,["topK"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topK"],u);const c=v(t,["maxOutputTokens"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","maxOutputTokens"],c);const f=v(t,["mediaResolution"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","mediaResolution"],f);const h=v(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const p=v(t,["speechConfig"]);e!==void 0&&p!=null&&y(e,["setup","generationConfig","speechConfig"],ST(p));const g=v(t,["thinkingConfig"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","thinkingConfig"],g);const b=v(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],b);const S=v(t,["systemInstruction"]);e!==void 0&&S!=null&&y(e,["setup","systemInstruction"],xfe(gn(S)));const E=v(t,["tools"]);if(e!==void 0&&E!=null){let P=ql(E);Array.isArray(P)&&(P=P.map(I=>$fe($l(I)))),y(e,["setup","tools"],P)}const x=v(t,["sessionResumption"]);e!==void 0&&x!=null&&y(e,["setup","sessionResumption"],Ufe(x));const A=v(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&y(e,["setup","inputAudioTranscription"],A);const O=v(t,["outputAudioTranscription"]);e!==void 0&&O!=null&&y(e,["setup","outputAudioTranscription"],O);const C=v(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&y(e,["setup","realtimeInputConfig"],C);const N=v(t,["contextWindowCompression"]);e!==void 0&&N!=null&&y(e,["setup","contextWindowCompression"],N);const R=v(t,["proactivity"]);if(e!==void 0&&R!=null&&y(e,["setup","proactivity"],R),v(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Rfe(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],Tfe(r));const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const a=v(t,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const s=v(t,["topP"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","topP"],s);const u=v(t,["topK"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topK"],u);const c=v(t,["maxOutputTokens"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","maxOutputTokens"],c);const f=v(t,["mediaResolution"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","mediaResolution"],f);const h=v(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const p=v(t,["speechConfig"]);e!==void 0&&p!=null&&y(e,["setup","generationConfig","speechConfig"],ST(p));const g=v(t,["thinkingConfig"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","thinkingConfig"],g);const b=v(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],b);const S=v(t,["systemInstruction"]);e!==void 0&&S!=null&&y(e,["setup","systemInstruction"],gn(S));const E=v(t,["tools"]);if(e!==void 0&&E!=null){let I=ql(E);Array.isArray(I)&&(I=I.map(D=>qfe($l(D)))),y(e,["setup","tools"],I)}const x=v(t,["sessionResumption"]);e!==void 0&&x!=null&&y(e,["setup","sessionResumption"],x);const A=v(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&y(e,["setup","inputAudioTranscription"],A);const O=v(t,["outputAudioTranscription"]);e!==void 0&&O!=null&&y(e,["setup","outputAudioTranscription"],O);const C=v(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&y(e,["setup","realtimeInputConfig"],C);const N=v(t,["contextWindowCompression"]);e!==void 0&&N!=null&&y(e,["setup","contextWindowCompression"],N);const R=v(t,["proactivity"]);e!==void 0&&R!=null&&y(e,["setup","proactivity"],R);const P=v(t,["explicitVadSignal"]);return e!==void 0&&P!=null&&y(e,["setup","explicitVadSignal"],P),n}function Nfe(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["setup","model"],Ye(t,r));const i=v(e,["config"]);return i!=null&&y(n,["config"],Ofe(i,n)),n}function Pfe(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["setup","model"],Ye(t,r));const i=v(e,["config"]);return i!=null&&y(n,["config"],Rfe(i,n)),n}function Mfe(t){const e={},n=v(t,["musicGenerationConfig"]);return n!=null&&y(e,["musicGenerationConfig"],n),e}function Ife(t){const e={},n=v(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["weightedPrompts"],r)}return e}function kfe(t){const e={},n=v(t,["media"]);if(n!=null){let f=Q4(n);Array.isArray(f)&&(f=f.map(h=>Rh(h))),y(e,["mediaChunks"],f)}const r=v(t,["audio"]);r!=null&&y(e,["audio"],Rh(e3(r)));const i=v(t,["audioStreamEnd"]);i!=null&&y(e,["audioStreamEnd"],i);const a=v(t,["video"]);a!=null&&y(e,["video"],Rh(Z4(a)));const s=v(t,["text"]);s!=null&&y(e,["text"],s);const u=v(t,["activityStart"]);u!=null&&y(e,["activityStart"],u);const c=v(t,["activityEnd"]);return c!=null&&y(e,["activityEnd"],c),e}function Dfe(t){const e={},n=v(t,["media"]);if(n!=null){let f=Q4(n);Array.isArray(f)&&(f=f.map(h=>h)),y(e,["mediaChunks"],f)}const r=v(t,["audio"]);r!=null&&y(e,["audio"],e3(r));const i=v(t,["audioStreamEnd"]);i!=null&&y(e,["audioStreamEnd"],i);const a=v(t,["video"]);a!=null&&y(e,["video"],Z4(a));const s=v(t,["text"]);s!=null&&y(e,["text"],s);const u=v(t,["activityStart"]);u!=null&&y(e,["activityStart"],u);const c=v(t,["activityEnd"]);return c!=null&&y(e,["activityEnd"],c),e}function Lfe(t){const e={},n=v(t,["setupComplete"]);n!=null&&y(e,["setupComplete"],n);const r=v(t,["serverContent"]);r!=null&&y(e,["serverContent"],r);const i=v(t,["toolCall"]);i!=null&&y(e,["toolCall"],i);const a=v(t,["toolCallCancellation"]);a!=null&&y(e,["toolCallCancellation"],a);const s=v(t,["usageMetadata"]);s!=null&&y(e,["usageMetadata"],Bfe(s));const u=v(t,["goAway"]);u!=null&&y(e,["goAway"],u);const c=v(t,["sessionResumptionUpdate"]);c!=null&&y(e,["sessionResumptionUpdate"],c);const f=v(t,["voiceActivityDetectionSignal"]);return f!=null&&y(e,["voiceActivityDetectionSignal"],f),e}function jfe(t){const e={},n=v(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&y(e,["fileData"],wfe(a));const s=v(t,["functionCall"]);s!=null&&y(e,["functionCall"],Sfe(s));const u=v(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const c=v(t,["inlineData"]);c!=null&&y(e,["inlineData"],Rh(c));const f=v(t,["text"]);f!=null&&y(e,["text"],f);const h=v(t,["thought"]);h!=null&&y(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&y(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&y(e,["videoMetadata"],g),e}function Ufe(t){const e={},n=v(t,["handle"]);if(n!=null&&y(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function $fe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),y(e,["functionDeclarations"],h)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const a=v(t,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const s=v(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],Afe(u));const c=v(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],Cfe(c));const f=v(t,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}function qfe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>Efe(g))),y(e,["functionDeclarations"],p)}const r=v(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=v(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const a=v(t,["computerUse"]);if(a!=null&&y(e,["computerUse"],a),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=v(t,["codeExecution"]);s!=null&&y(e,["codeExecution"],s);const u=v(t,["enterpriseWebSearch"]);u!=null&&y(e,["enterpriseWebSearch"],u);const c=v(t,["googleMaps"]);c!=null&&y(e,["googleMaps"],c);const f=v(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],f);const h=v(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function Bfe(t){const e={},n=v(t,["promptTokenCount"]);n!=null&&y(e,["promptTokenCount"],n);const r=v(t,["cachedContentTokenCount"]);r!=null&&y(e,["cachedContentTokenCount"],r);const i=v(t,["candidatesTokenCount"]);i!=null&&y(e,["responseTokenCount"],i);const a=v(t,["toolUsePromptTokenCount"]);a!=null&&y(e,["toolUsePromptTokenCount"],a);const s=v(t,["thoughtsTokenCount"]);s!=null&&y(e,["thoughtsTokenCount"],s);const u=v(t,["totalTokenCount"]);u!=null&&y(e,["totalTokenCount"],u);const c=v(t,["promptTokensDetails"]);if(c!=null){let b=c;Array.isArray(b)&&(b=b.map(S=>S)),y(e,["promptTokensDetails"],b)}const f=v(t,["cacheTokensDetails"]);if(f!=null){let b=f;Array.isArray(b)&&(b=b.map(S=>S)),y(e,["cacheTokensDetails"],b)}const h=v(t,["candidatesTokensDetails"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(S=>S)),y(e,["responseTokensDetails"],b)}const p=v(t,["toolUsePromptTokensDetails"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(S=>S)),y(e,["toolUsePromptTokensDetails"],b)}const g=v(t,["trafficType"]);return g!=null&&y(e,["trafficType"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hfe(t){const e={},n=v(t,["data"]);if(n!=null&&y(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function zfe(t){const e={},n=v(t,["content"]);n!=null&&y(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&y(e,["citationMetadata"],Gfe(r));const i=v(t,["tokenCount"]);i!=null&&y(e,["tokenCount"],i);const a=v(t,["finishReason"]);a!=null&&y(e,["finishReason"],a);const s=v(t,["avgLogprobs"]);s!=null&&y(e,["avgLogprobs"],s);const u=v(t,["groundingMetadata"]);u!=null&&y(e,["groundingMetadata"],u);const c=v(t,["index"]);c!=null&&y(e,["index"],c);const f=v(t,["logprobsResult"]);f!=null&&y(e,["logprobsResult"],f);const h=v(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(b=>b)),y(e,["safetyRatings"],g)}const p=v(t,["urlContextMetadata"]);return p!=null&&y(e,["urlContextMetadata"],p),e}function Gfe(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["citations"],r)}return e}function Vfe(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["contents"]);if(i!=null){let a=yr(i);Array.isArray(a)&&(a=a.map(s=>s)),y(n,["contents"],a)}return n}function Ffe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(e,["tokensInfo"],i)}return e}function Kfe(t){const e={},n=v(t,["values"]);n!=null&&y(e,["values"],n);const r=v(t,["statistics"]);return r!=null&&y(e,["statistics"],Wfe(r)),e}function Wfe(t){const e={},n=v(t,["truncated"]);n!=null&&y(e,["truncated"],n);const r=v(t,["token_count"]);return r!=null&&y(e,["tokenCount"],r),e}function Dm(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>rhe(a))),y(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&y(e,["role"],r),e}function Yfe(t){const e={},n=v(t,["controlType"]);n!=null&&y(e,["controlType"],n);const r=v(t,["enableControlImageComputation"]);return r!=null&&y(e,["computeControl"],r),e}function Jfe(t){const e={};if(v(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(v(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(v(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Xfe(t,e){const n={},r=v(t,["systemInstruction"]);e!==void 0&&r!=null&&y(e,["systemInstruction"],gn(r));const i=v(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>p3(u))),y(e,["tools"],s)}const a=v(t,["generationConfig"]);return e!==void 0&&a!=null&&y(e,["generationConfig"],Hde(a)),n}function Qfe(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["contents"]);if(i!=null){let s=yr(i);Array.isArray(s)&&(s=s.map(u=>Dm(u))),y(n,["contents"],s)}const a=v(e,["config"]);return a!=null&&Jfe(a),n}function Zfe(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["contents"]);if(i!=null){let s=yr(i);Array.isArray(s)&&(s=s.map(u=>u)),y(n,["contents"],s)}const a=v(e,["config"]);return a!=null&&Xfe(a,n),n}function ede(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["totalTokens"]);r!=null&&y(e,["totalTokens"],r);const i=v(t,["cachedContentTokenCount"]);return i!=null&&y(e,["cachedContentTokenCount"],i),e}function tde(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["totalTokens"]);return r!=null&&y(e,["totalTokens"],r),e}function nde(t,e){const n={},r=v(e,["model"]);return r!=null&&y(n,["_url","name"],Ye(t,r)),n}function rde(t,e){const n={},r=v(e,["model"]);return r!=null&&y(n,["_url","name"],Ye(t,r)),n}function ide(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function ade(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function ode(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=v(t,["negativePrompt"]);e!==void 0&&i!=null&&y(e,["parameters","negativePrompt"],i);const a=v(t,["numberOfImages"]);e!==void 0&&a!=null&&y(e,["parameters","sampleCount"],a);const s=v(t,["aspectRatio"]);e!==void 0&&s!=null&&y(e,["parameters","aspectRatio"],s);const u=v(t,["guidanceScale"]);e!==void 0&&u!=null&&y(e,["parameters","guidanceScale"],u);const c=v(t,["seed"]);e!==void 0&&c!=null&&y(e,["parameters","seed"],c);const f=v(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&y(e,["parameters","safetySetting"],f);const h=v(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const p=v(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&y(e,["parameters","includeSafetyAttributes"],p);const g=v(t,["includeRaiReason"]);e!==void 0&&g!=null&&y(e,["parameters","includeRaiReason"],g);const b=v(t,["language"]);e!==void 0&&b!=null&&y(e,["parameters","language"],b);const S=v(t,["outputMimeType"]);e!==void 0&&S!=null&&y(e,["parameters","outputOptions","mimeType"],S);const E=v(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&y(e,["parameters","outputOptions","compressionQuality"],E);const x=v(t,["addWatermark"]);e!==void 0&&x!=null&&y(e,["parameters","addWatermark"],x);const A=v(t,["labels"]);e!==void 0&&A!=null&&y(e,["labels"],A);const O=v(t,["editMode"]);e!==void 0&&O!=null&&y(e,["parameters","editMode"],O);const C=v(t,["baseSteps"]);return e!==void 0&&C!=null&&y(e,["parameters","editConfig","baseSteps"],C),n}function sde(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=v(e,["referenceImages"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>uhe(c))),y(n,["instances[0]","referenceImages"],u)}const s=v(e,["config"]);return s!=null&&ode(s,n),n}function lde(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Lm(a))),y(e,["generatedImages"],i)}return e}function ude(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&y(e,["requests[]","taskType"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&y(e,["requests[]","title"],i);const a=v(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&y(e,["requests[]","outputDimensionality"],a),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function cde(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&y(e,["instances[]","task_type"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&y(e,["instances[]","title"],i);const a=v(t,["outputDimensionality"]);e!==void 0&&a!=null&&y(e,["parameters","outputDimensionality"],a);const s=v(t,["mimeType"]);e!==void 0&&s!=null&&y(e,["instances[]","mimeType"],s);const u=v(t,["autoTruncate"]);return e!==void 0&&u!=null&&y(e,["parameters","autoTruncate"],u),n}function fde(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["contents"]);if(i!=null){let u=_T(t,i);Array.isArray(u)&&(u=u.map(c=>c)),y(n,["requests[]","content"],u)}const a=v(e,["config"]);a!=null&&ude(a,n);const s=v(e,["model"]);return s!==void 0&&y(n,["requests[]","model"],Ye(t,s)),n}function dde(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["contents"]);if(i!=null){let s=_T(t,i);Array.isArray(s)&&(s=s.map(u=>u)),y(n,["instances[]","content"],s)}const a=v(e,["config"]);return a!=null&&cde(a,n),n}function hde(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["embeddings"],a)}const i=v(t,["metadata"]);return i!=null&&y(e,["metadata"],i),e}function pde(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Kfe(s))),y(e,["embeddings"],a)}const i=v(t,["metadata"]);return i!=null&&y(e,["metadata"],i),e}function mde(t){const e={},n=v(t,["endpoint"]);n!=null&&y(e,["name"],n);const r=v(t,["deployedModelId"]);return r!=null&&y(e,["deployedModelId"],r),e}function gde(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function vde(t){const e={},n=v(t,["id"]);n!=null&&y(e,["id"],n);const r=v(t,["args"]);r!=null&&y(e,["args"],r);const i=v(t,["name"]);if(i!=null&&y(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function yde(t){const e={},n=v(t,["mode"]);n!=null&&y(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function bde(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&y(e,["description"],n);const r=v(t,["name"]);r!=null&&y(e,["name"],r);const i=v(t,["parameters"]);i!=null&&y(e,["parameters"],i);const a=v(t,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const s=v(t,["response"]);s!=null&&y(e,["response"],s);const u=v(t,["responseJsonSchema"]);return u!=null&&y(e,["responseJsonSchema"],u),e}function _de(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],Dm(gn(i)));const a=v(e,["temperature"]);a!=null&&y(r,["temperature"],a);const s=v(e,["topP"]);s!=null&&y(r,["topP"],s);const u=v(e,["topK"]);u!=null&&y(r,["topK"],u);const c=v(e,["candidateCount"]);c!=null&&y(r,["candidateCount"],c);const f=v(e,["maxOutputTokens"]);f!=null&&y(r,["maxOutputTokens"],f);const h=v(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const p=v(e,["responseLogprobs"]);p!=null&&y(r,["responseLogprobs"],p);const g=v(e,["logprobs"]);g!=null&&y(r,["logprobs"],g);const b=v(e,["presencePenalty"]);b!=null&&y(r,["presencePenalty"],b);const S=v(e,["frequencyPenalty"]);S!=null&&y(r,["frequencyPenalty"],S);const E=v(e,["seed"]);E!=null&&y(r,["seed"],E);const x=v(e,["responseMimeType"]);x!=null&&y(r,["responseMimeType"],x);const A=v(e,["responseSchema"]);A!=null&&y(r,["responseSchema"],xT(A));const O=v(e,["responseJsonSchema"]);if(O!=null&&y(r,["responseJsonSchema"],O),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const C=v(e,["safetySettings"]);if(n!==void 0&&C!=null){let K=C;Array.isArray(K)&&(K=K.map(G=>che(G))),y(n,["safetySettings"],K)}const N=v(e,["tools"]);if(n!==void 0&&N!=null){let K=ql(N);Array.isArray(K)&&(K=K.map(G=>vhe($l(G)))),y(n,["tools"],K)}const R=v(e,["toolConfig"]);if(n!==void 0&&R!=null&&y(n,["toolConfig"],ghe(R)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=v(e,["cachedContent"]);n!==void 0&&P!=null&&y(n,["cachedContent"],Ki(t,P));const I=v(e,["responseModalities"]);I!=null&&y(r,["responseModalities"],I);const D=v(e,["mediaResolution"]);D!=null&&y(r,["mediaResolution"],D);const L=v(e,["speechConfig"]);if(L!=null&&y(r,["speechConfig"],wT(L)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const z=v(e,["thinkingConfig"]);z!=null&&y(r,["thinkingConfig"],z);const B=v(e,["imageConfig"]);B!=null&&y(r,["imageConfig"],Kde(B));const J=v(e,["enableEnhancedCivicAnswers"]);return J!=null&&y(r,["enableEnhancedCivicAnswers"],J),r}function xde(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],gn(i));const a=v(e,["temperature"]);a!=null&&y(r,["temperature"],a);const s=v(e,["topP"]);s!=null&&y(r,["topP"],s);const u=v(e,["topK"]);u!=null&&y(r,["topK"],u);const c=v(e,["candidateCount"]);c!=null&&y(r,["candidateCount"],c);const f=v(e,["maxOutputTokens"]);f!=null&&y(r,["maxOutputTokens"],f);const h=v(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const p=v(e,["responseLogprobs"]);p!=null&&y(r,["responseLogprobs"],p);const g=v(e,["logprobs"]);g!=null&&y(r,["logprobs"],g);const b=v(e,["presencePenalty"]);b!=null&&y(r,["presencePenalty"],b);const S=v(e,["frequencyPenalty"]);S!=null&&y(r,["frequencyPenalty"],S);const E=v(e,["seed"]);E!=null&&y(r,["seed"],E);const x=v(e,["responseMimeType"]);x!=null&&y(r,["responseMimeType"],x);const A=v(e,["responseSchema"]);A!=null&&y(r,["responseSchema"],xT(A));const O=v(e,["responseJsonSchema"]);O!=null&&y(r,["responseJsonSchema"],O);const C=v(e,["routingConfig"]);C!=null&&y(r,["routingConfig"],C);const N=v(e,["modelSelectionConfig"]);N!=null&&y(r,["modelConfig"],N);const R=v(e,["safetySettings"]);if(n!==void 0&&R!=null){let j=R;Array.isArray(j)&&(j=j.map(F=>F)),y(n,["safetySettings"],j)}const P=v(e,["tools"]);if(n!==void 0&&P!=null){let j=ql(P);Array.isArray(j)&&(j=j.map(F=>p3($l(F)))),y(n,["tools"],j)}const I=v(e,["toolConfig"]);n!==void 0&&I!=null&&y(n,["toolConfig"],I);const D=v(e,["labels"]);n!==void 0&&D!=null&&y(n,["labels"],D);const L=v(e,["cachedContent"]);n!==void 0&&L!=null&&y(n,["cachedContent"],Ki(t,L));const z=v(e,["responseModalities"]);z!=null&&y(r,["responseModalities"],z);const B=v(e,["mediaResolution"]);B!=null&&y(r,["mediaResolution"],B);const J=v(e,["speechConfig"]);J!=null&&y(r,["speechConfig"],wT(J));const K=v(e,["audioTimestamp"]);K!=null&&y(r,["audioTimestamp"],K);const G=v(e,["thinkingConfig"]);G!=null&&y(r,["thinkingConfig"],G);const $=v(e,["imageConfig"]);if($!=null&&y(r,["imageConfig"],Wde($)),v(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function QL(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["contents"]);if(i!=null){let s=yr(i);Array.isArray(s)&&(s=s.map(u=>Dm(u))),y(n,["contents"],s)}const a=v(e,["config"]);return a!=null&&y(n,["generationConfig"],_de(t,a,n)),n}function ZL(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["contents"]);if(i!=null){let s=yr(i);Array.isArray(s)&&(s=s.map(u=>u)),y(n,["contents"],s)}const a=v(e,["config"]);return a!=null&&y(n,["generationConfig"],xde(t,a,n)),n}function ej(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>zfe(f))),y(e,["candidates"],c)}const i=v(t,["modelVersion"]);i!=null&&y(e,["modelVersion"],i);const a=v(t,["promptFeedback"]);a!=null&&y(e,["promptFeedback"],a);const s=v(t,["responseId"]);s!=null&&y(e,["responseId"],s);const u=v(t,["usageMetadata"]);return u!=null&&y(e,["usageMetadata"],u),e}function tj(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),y(e,["candidates"],f)}const i=v(t,["createTime"]);i!=null&&y(e,["createTime"],i);const a=v(t,["modelVersion"]);a!=null&&y(e,["modelVersion"],a);const s=v(t,["promptFeedback"]);s!=null&&y(e,["promptFeedback"],s);const u=v(t,["responseId"]);u!=null&&y(e,["responseId"],u);const c=v(t,["usageMetadata"]);return c!=null&&y(e,["usageMetadata"],c),e}function wde(t,e){const n={};if(v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=v(t,["aspectRatio"]);e!==void 0&&i!=null&&y(e,["parameters","aspectRatio"],i);const a=v(t,["guidanceScale"]);if(e!==void 0&&a!=null&&y(e,["parameters","guidanceScale"],a),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=v(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&y(e,["parameters","safetySetting"],s);const u=v(t,["personGeneration"]);e!==void 0&&u!=null&&y(e,["parameters","personGeneration"],u);const c=v(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&y(e,["parameters","includeSafetyAttributes"],c);const f=v(t,["includeRaiReason"]);e!==void 0&&f!=null&&y(e,["parameters","includeRaiReason"],f);const h=v(t,["language"]);e!==void 0&&h!=null&&y(e,["parameters","language"],h);const p=v(t,["outputMimeType"]);e!==void 0&&p!=null&&y(e,["parameters","outputOptions","mimeType"],p);const g=v(t,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&y(e,["parameters","outputOptions","compressionQuality"],g),v(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=v(t,["imageSize"]);if(e!==void 0&&b!=null&&y(e,["parameters","sampleImageSize"],b),v(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Sde(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=v(t,["negativePrompt"]);e!==void 0&&i!=null&&y(e,["parameters","negativePrompt"],i);const a=v(t,["numberOfImages"]);e!==void 0&&a!=null&&y(e,["parameters","sampleCount"],a);const s=v(t,["aspectRatio"]);e!==void 0&&s!=null&&y(e,["parameters","aspectRatio"],s);const u=v(t,["guidanceScale"]);e!==void 0&&u!=null&&y(e,["parameters","guidanceScale"],u);const c=v(t,["seed"]);e!==void 0&&c!=null&&y(e,["parameters","seed"],c);const f=v(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&y(e,["parameters","safetySetting"],f);const h=v(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const p=v(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&y(e,["parameters","includeSafetyAttributes"],p);const g=v(t,["includeRaiReason"]);e!==void 0&&g!=null&&y(e,["parameters","includeRaiReason"],g);const b=v(t,["language"]);e!==void 0&&b!=null&&y(e,["parameters","language"],b);const S=v(t,["outputMimeType"]);e!==void 0&&S!=null&&y(e,["parameters","outputOptions","mimeType"],S);const E=v(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&y(e,["parameters","outputOptions","compressionQuality"],E);const x=v(t,["addWatermark"]);e!==void 0&&x!=null&&y(e,["parameters","addWatermark"],x);const A=v(t,["labels"]);e!==void 0&&A!=null&&y(e,["labels"],A);const O=v(t,["imageSize"]);e!==void 0&&O!=null&&y(e,["parameters","sampleImageSize"],O);const C=v(t,["enhancePrompt"]);return e!==void 0&&C!=null&&y(e,["parameters","enhancePrompt"],C),n}function Ede(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=v(e,["config"]);return a!=null&&wde(a,n),n}function Tde(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=v(e,["config"]);return a!=null&&Sde(a,n),n}function Ade(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Ude(s))),y(e,["generatedImages"],a)}const i=v(t,["positivePromptSafetyAttributes"]);return i!=null&&y(e,["positivePromptSafetyAttributes"],d3(i)),e}function Cde(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Lm(s))),y(e,["generatedImages"],a)}const i=v(t,["positivePromptSafetyAttributes"]);return i!=null&&y(e,["positivePromptSafetyAttributes"],h3(i)),e}function Ode(t,e){const n={},r=v(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r),v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=v(t,["durationSeconds"]);if(e!==void 0&&i!=null&&y(e,["parameters","durationSeconds"],i),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=v(t,["aspectRatio"]);e!==void 0&&a!=null&&y(e,["parameters","aspectRatio"],a);const s=v(t,["resolution"]);e!==void 0&&s!=null&&y(e,["parameters","resolution"],s);const u=v(t,["personGeneration"]);if(e!==void 0&&u!=null&&y(e,["parameters","personGeneration"],u),v(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=v(t,["negativePrompt"]);e!==void 0&&c!=null&&y(e,["parameters","negativePrompt"],c);const f=v(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&y(e,["parameters","enhancePrompt"],f),v(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=v(t,["lastFrame"]);e!==void 0&&h!=null&&y(e,["instances[0]","lastFrame"],jm(h));const p=v(t,["referenceImages"]);if(e!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(b=>Nhe(b))),y(e,["instances[0]","referenceImages"],g)}if(v(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(v(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Rde(t,e){const n={},r=v(t,["numberOfVideos"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=v(t,["outputGcsUri"]);e!==void 0&&i!=null&&y(e,["parameters","storageUri"],i);const a=v(t,["fps"]);e!==void 0&&a!=null&&y(e,["parameters","fps"],a);const s=v(t,["durationSeconds"]);e!==void 0&&s!=null&&y(e,["parameters","durationSeconds"],s);const u=v(t,["seed"]);e!==void 0&&u!=null&&y(e,["parameters","seed"],u);const c=v(t,["aspectRatio"]);e!==void 0&&c!=null&&y(e,["parameters","aspectRatio"],c);const f=v(t,["resolution"]);e!==void 0&&f!=null&&y(e,["parameters","resolution"],f);const h=v(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const p=v(t,["pubsubTopic"]);e!==void 0&&p!=null&&y(e,["parameters","pubsubTopic"],p);const g=v(t,["negativePrompt"]);e!==void 0&&g!=null&&y(e,["parameters","negativePrompt"],g);const b=v(t,["enhancePrompt"]);e!==void 0&&b!=null&&y(e,["parameters","enhancePrompt"],b);const S=v(t,["generateAudio"]);e!==void 0&&S!=null&&y(e,["parameters","generateAudio"],S);const E=v(t,["lastFrame"]);e!==void 0&&E!=null&&y(e,["instances[0]","lastFrame"],Hr(E));const x=v(t,["referenceImages"]);if(e!==void 0&&x!=null){let C=x;Array.isArray(C)&&(C=C.map(N=>Phe(N))),y(e,["instances[0]","referenceImages"],C)}const A=v(t,["mask"]);e!==void 0&&A!=null&&y(e,["instances[0]","mask"],Rhe(A));const O=v(t,["compressionQuality"]);return e!==void 0&&O!=null&&y(e,["parameters","compressionQuality"],O),n}function Nde(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=v(t,["done"]);i!=null&&y(e,["done"],i);const a=v(t,["error"]);a!=null&&y(e,["error"],a);const s=v(t,["response","generateVideoResponse"]);return s!=null&&y(e,["response"],kde(s)),e}function Pde(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=v(t,["done"]);i!=null&&y(e,["done"],i);const a=v(t,["error"]);a!=null&&y(e,["error"],a);const s=v(t,["response"]);return s!=null&&y(e,["response"],Dde(s)),e}function Mde(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=v(e,["image"]);a!=null&&y(n,["instances[0]","image"],jm(a));const s=v(e,["video"]);s!=null&&y(n,["instances[0]","video"],m3(s));const u=v(e,["source"]);u!=null&&Lde(u,n);const c=v(e,["config"]);return c!=null&&Ode(c,n),n}function Ide(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=v(e,["image"]);a!=null&&y(n,["instances[0]","image"],Hr(a));const s=v(e,["video"]);s!=null&&y(n,["instances[0]","video"],g3(s));const u=v(e,["source"]);u!=null&&jde(u,n);const c=v(e,["config"]);return c!=null&&Rde(c,n),n}function kde(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>qde(s))),y(e,["generatedVideos"],a)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function Dde(t){const e={},n=v(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Bde(s))),y(e,["generatedVideos"],a)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function Lde(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],jm(i));const a=v(t,["video"]);return e!==void 0&&a!=null&&y(e,["instances[0]","video"],m3(a)),n}function jde(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],Hr(i));const a=v(t,["video"]);return e!==void 0&&a!=null&&y(e,["instances[0]","video"],g3(a)),n}function Ude(t){const e={},n=v(t,["_self"]);n!=null&&y(e,["image"],Yde(n));const r=v(t,["raiFilteredReason"]);r!=null&&y(e,["raiFilteredReason"],r);const i=v(t,["_self"]);return i!=null&&y(e,["safetyAttributes"],d3(i)),e}function Lm(t){const e={},n=v(t,["_self"]);n!=null&&y(e,["image"],f3(n));const r=v(t,["raiFilteredReason"]);r!=null&&y(e,["raiFilteredReason"],r);const i=v(t,["_self"]);i!=null&&y(e,["safetyAttributes"],h3(i));const a=v(t,["prompt"]);return a!=null&&y(e,["enhancedPrompt"],a),e}function $de(t){const e={},n=v(t,["_self"]);n!=null&&y(e,["mask"],f3(n));const r=v(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(e,["labels"],i)}return e}function qde(t){const e={},n=v(t,["video"]);return n!=null&&y(e,["video"],Che(n)),e}function Bde(t){const e={},n=v(t,["_self"]);return n!=null&&y(e,["video"],Ohe(n)),e}function Hde(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const r=v(t,["responseJsonSchema"]);r!=null&&y(e,["responseJsonSchema"],r);const i=v(t,["audioTimestamp"]);i!=null&&y(e,["audioTimestamp"],i);const a=v(t,["candidateCount"]);a!=null&&y(e,["candidateCount"],a);const s=v(t,["enableAffectiveDialog"]);s!=null&&y(e,["enableAffectiveDialog"],s);const u=v(t,["frequencyPenalty"]);u!=null&&y(e,["frequencyPenalty"],u);const c=v(t,["logprobs"]);c!=null&&y(e,["logprobs"],c);const f=v(t,["maxOutputTokens"]);f!=null&&y(e,["maxOutputTokens"],f);const h=v(t,["mediaResolution"]);h!=null&&y(e,["mediaResolution"],h);const p=v(t,["presencePenalty"]);p!=null&&y(e,["presencePenalty"],p);const g=v(t,["responseLogprobs"]);g!=null&&y(e,["responseLogprobs"],g);const b=v(t,["responseMimeType"]);b!=null&&y(e,["responseMimeType"],b);const S=v(t,["responseModalities"]);S!=null&&y(e,["responseModalities"],S);const E=v(t,["responseSchema"]);E!=null&&y(e,["responseSchema"],E);const x=v(t,["routingConfig"]);x!=null&&y(e,["routingConfig"],x);const A=v(t,["seed"]);A!=null&&y(e,["seed"],A);const O=v(t,["speechConfig"]);O!=null&&y(e,["speechConfig"],O);const C=v(t,["stopSequences"]);C!=null&&y(e,["stopSequences"],C);const N=v(t,["temperature"]);N!=null&&y(e,["temperature"],N);const R=v(t,["thinkingConfig"]);R!=null&&y(e,["thinkingConfig"],R);const P=v(t,["topK"]);P!=null&&y(e,["topK"],P);const I=v(t,["topP"]);if(I!=null&&y(e,["topP"],I),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function zde(t,e){const n={},r=v(e,["model"]);return r!=null&&y(n,["_url","name"],Ye(t,r)),n}function Gde(t,e){const n={},r=v(e,["model"]);return r!=null&&y(n,["_url","name"],Ye(t,r)),n}function Vde(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function Fde(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function Kde(t){const e={},n=v(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=v(t,["imageSize"]);if(r!=null&&y(e,["imageSize"],r),v(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Wde(t){const e={},n=v(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=v(t,["imageSize"]);r!=null&&y(e,["imageSize"],r);const i=v(t,["outputMimeType"]);i!=null&&y(e,["imageOutputOptions","mimeType"],i);const a=v(t,["outputCompressionQuality"]);return a!=null&&y(e,["imageOutputOptions","compressionQuality"],a),e}function Yde(t){const e={},n=v(t,["bytesBase64Encoded"]);n!=null&&y(e,["imageBytes"],La(n));const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function f3(t){const e={},n=v(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&y(e,["imageBytes"],La(r));const i=v(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function jm(t){const e={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=v(t,["imageBytes"]);n!=null&&y(e,["bytesBase64Encoded"],La(n));const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Hr(t){const e={},n=v(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const r=v(t,["imageBytes"]);r!=null&&y(e,["bytesBase64Encoded"],La(r));const i=v(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function Jde(t,e,n){const r={},i=v(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const a=v(e,["pageToken"]);n!==void 0&&a!=null&&y(n,["_query","pageToken"],a);const s=v(e,["filter"]);n!==void 0&&s!=null&&y(n,["_query","filter"],s);const u=v(e,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],i3(t,u)),r}function Xde(t,e,n){const r={},i=v(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const a=v(e,["pageToken"]);n!==void 0&&a!=null&&y(n,["_query","pageToken"],a);const s=v(e,["filter"]);n!==void 0&&s!=null&&y(n,["_query","filter"],s);const u=v(e,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],i3(t,u)),r}function Qde(t,e){const n={},r=v(e,["config"]);return r!=null&&Jde(t,r,n),n}function Zde(t,e){const n={},r=v(e,["config"]);return r!=null&&Xde(t,r,n),n}function ehe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=v(t,["_self"]);if(i!=null){let a=a3(i);Array.isArray(a)&&(a=a.map(s=>$S(s))),y(e,["models"],a)}return e}function the(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=v(t,["_self"]);if(i!=null){let a=a3(i);Array.isArray(a)&&(a=a.map(s=>qS(s))),y(e,["models"],a)}return e}function nhe(t){const e={},n=v(t,["maskMode"]);n!=null&&y(e,["maskMode"],n);const r=v(t,["segmentationClasses"]);r!=null&&y(e,["maskClasses"],r);const i=v(t,["maskDilation"]);return i!=null&&y(e,["dilation"],i),e}function $S(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=v(t,["description"]);i!=null&&y(e,["description"],i);const a=v(t,["version"]);a!=null&&y(e,["version"],a);const s=v(t,["_self"]);s!=null&&y(e,["tunedModelInfo"],yhe(s));const u=v(t,["inputTokenLimit"]);u!=null&&y(e,["inputTokenLimit"],u);const c=v(t,["outputTokenLimit"]);c!=null&&y(e,["outputTokenLimit"],c);const f=v(t,["supportedGenerationMethods"]);f!=null&&y(e,["supportedActions"],f);const h=v(t,["temperature"]);h!=null&&y(e,["temperature"],h);const p=v(t,["maxTemperature"]);p!=null&&y(e,["maxTemperature"],p);const g=v(t,["topP"]);g!=null&&y(e,["topP"],g);const b=v(t,["topK"]);b!=null&&y(e,["topK"],b);const S=v(t,["thinking"]);return S!=null&&y(e,["thinking"],S),e}function qS(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=v(t,["description"]);i!=null&&y(e,["description"],i);const a=v(t,["versionId"]);a!=null&&y(e,["version"],a);const s=v(t,["deployedModels"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>mde(g))),y(e,["endpoints"],p)}const u=v(t,["labels"]);u!=null&&y(e,["labels"],u);const c=v(t,["_self"]);c!=null&&y(e,["tunedModelInfo"],bhe(c));const f=v(t,["defaultCheckpointId"]);f!=null&&y(e,["defaultCheckpointId"],f);const h=v(t,["checkpoints"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(g=>g)),y(e,["checkpoints"],p)}return e}function rhe(t){const e={},n=v(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&y(e,["fileData"],gde(a));const s=v(t,["functionCall"]);s!=null&&y(e,["functionCall"],vde(s));const u=v(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const c=v(t,["inlineData"]);c!=null&&y(e,["inlineData"],Hfe(c));const f=v(t,["text"]);f!=null&&y(e,["text"],f);const h=v(t,["thought"]);h!=null&&y(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&y(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&y(e,["videoMetadata"],g),e}function ihe(t){const e={},n=v(t,["productImage"]);return n!=null&&y(e,["image"],Hr(n)),e}function ahe(t,e){const n={},r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=v(t,["baseSteps"]);e!==void 0&&i!=null&&y(e,["parameters","baseSteps"],i);const a=v(t,["outputGcsUri"]);e!==void 0&&a!=null&&y(e,["parameters","storageUri"],a);const s=v(t,["seed"]);e!==void 0&&s!=null&&y(e,["parameters","seed"],s);const u=v(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&y(e,["parameters","safetySetting"],u);const c=v(t,["personGeneration"]);e!==void 0&&c!=null&&y(e,["parameters","personGeneration"],c);const f=v(t,["addWatermark"]);e!==void 0&&f!=null&&y(e,["parameters","addWatermark"],f);const h=v(t,["outputMimeType"]);e!==void 0&&h!=null&&y(e,["parameters","outputOptions","mimeType"],h);const p=v(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&y(e,["parameters","outputOptions","compressionQuality"],p);const g=v(t,["enhancePrompt"]);e!==void 0&&g!=null&&y(e,["parameters","enhancePrompt"],g);const b=v(t,["labels"]);return e!==void 0&&b!=null&&y(e,["labels"],b),n}function ohe(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["source"]);i!=null&&lhe(i,n);const a=v(e,["config"]);return a!=null&&ahe(a,n),n}function she(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Lm(i))),y(e,["generatedImages"],r)}return e}function lhe(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=v(t,["personImage"]);e!==void 0&&i!=null&&y(e,["instances[0]","personImage","image"],Hr(i));const a=v(t,["productImages"]);if(e!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>ihe(u))),y(e,["instances[0]","productImages"],s)}return n}function uhe(t){const e={},n=v(t,["referenceImage"]);n!=null&&y(e,["referenceImage"],Hr(n));const r=v(t,["referenceId"]);r!=null&&y(e,["referenceId"],r);const i=v(t,["referenceType"]);i!=null&&y(e,["referenceType"],i);const a=v(t,["maskImageConfig"]);a!=null&&y(e,["maskImageConfig"],nhe(a));const s=v(t,["controlImageConfig"]);s!=null&&y(e,["controlImageConfig"],Yfe(s));const u=v(t,["styleImageConfig"]);u!=null&&y(e,["styleImageConfig"],u);const c=v(t,["subjectImageConfig"]);return c!=null&&y(e,["subjectImageConfig"],c),e}function d3(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&y(e,["scores"],r);const i=v(t,["contentType"]);return i!=null&&y(e,["contentType"],i),e}function h3(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&y(e,["scores"],r);const i=v(t,["contentType"]);return i!=null&&y(e,["contentType"],i),e}function che(t){const e={},n=v(t,["category"]);if(n!=null&&y(e,["category"],n),v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(t,["threshold"]);return r!=null&&y(e,["threshold"],r),e}function fhe(t){const e={},n=v(t,["image"]);return n!=null&&y(e,["image"],Hr(n)),e}function dhe(t,e){const n={},r=v(t,["mode"]);e!==void 0&&r!=null&&y(e,["parameters","mode"],r);const i=v(t,["maxPredictions"]);e!==void 0&&i!=null&&y(e,["parameters","maxPredictions"],i);const a=v(t,["confidenceThreshold"]);e!==void 0&&a!=null&&y(e,["parameters","confidenceThreshold"],a);const s=v(t,["maskDilation"]);e!==void 0&&s!=null&&y(e,["parameters","maskDilation"],s);const u=v(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&y(e,["parameters","binaryColorThreshold"],u);const c=v(t,["labels"]);return e!==void 0&&c!=null&&y(e,["labels"],c),n}function hhe(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["source"]);i!=null&&mhe(i,n);const a=v(e,["config"]);return a!=null&&dhe(a,n),n}function phe(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>$de(i))),y(e,["generatedMasks"],r)}return e}function mhe(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],Hr(i));const a=v(t,["scribbleImage"]);return e!==void 0&&a!=null&&y(e,["instances[0]","scribble"],fhe(a)),n}function ghe(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],yde(n));const r=v(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function vhe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),y(e,["functionDeclarations"],h)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const a=v(t,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const s=v(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],Vde(u));const c=v(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],Fde(c));const f=v(t,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}function p3(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>bde(g))),y(e,["functionDeclarations"],p)}const r=v(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=v(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const a=v(t,["computerUse"]);if(a!=null&&y(e,["computerUse"],a),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=v(t,["codeExecution"]);s!=null&&y(e,["codeExecution"],s);const u=v(t,["enterpriseWebSearch"]);u!=null&&y(e,["enterpriseWebSearch"],u);const c=v(t,["googleMaps"]);c!=null&&y(e,["googleMaps"],c);const f=v(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],f);const h=v(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function yhe(t){const e={},n=v(t,["baseModel"]);n!=null&&y(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&y(e,["createTime"],r);const i=v(t,["updateTime"]);return i!=null&&y(e,["updateTime"],i),e}function bhe(t){const e={},n=v(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&y(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&y(e,["createTime"],r);const i=v(t,["updateTime"]);return i!=null&&y(e,["updateTime"],i),e}function _he(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=v(t,["description"]);e!==void 0&&i!=null&&y(e,["description"],i);const a=v(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&y(e,["defaultCheckpointId"],a),n}function xhe(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=v(t,["description"]);e!==void 0&&i!=null&&y(e,["description"],i);const a=v(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&y(e,["defaultCheckpointId"],a),n}function whe(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","name"],Ye(t,r));const i=v(e,["config"]);return i!=null&&_he(i,n),n}function She(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["config"]);return i!=null&&xhe(i,n),n}function Ehe(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=v(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&y(e,["parameters","safetySetting"],i);const a=v(t,["personGeneration"]);e!==void 0&&a!=null&&y(e,["parameters","personGeneration"],a);const s=v(t,["includeRaiReason"]);e!==void 0&&s!=null&&y(e,["parameters","includeRaiReason"],s);const u=v(t,["outputMimeType"]);e!==void 0&&u!=null&&y(e,["parameters","outputOptions","mimeType"],u);const c=v(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&y(e,["parameters","outputOptions","compressionQuality"],c);const f=v(t,["enhanceInputImage"]);e!==void 0&&f!=null&&y(e,["parameters","upscaleConfig","enhanceInputImage"],f);const h=v(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&y(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const p=v(t,["labels"]);e!==void 0&&p!=null&&y(e,["labels"],p);const g=v(t,["numberOfImages"]);e!==void 0&&g!=null&&y(e,["parameters","sampleCount"],g);const b=v(t,["mode"]);return e!==void 0&&b!=null&&y(e,["parameters","mode"],b),n}function The(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["image"]);i!=null&&y(n,["instances[0]","image"],Hr(i));const a=v(e,["upscaleFactor"]);a!=null&&y(n,["parameters","upscaleConfig","upscaleFactor"],a);const s=v(e,["config"]);return s!=null&&Ehe(s,n),n}function Ahe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Lm(a))),y(e,["generatedImages"],i)}return e}function Che(t){const e={},n=v(t,["uri"]);n!=null&&y(e,["uri"],n);const r=v(t,["encodedVideo"]);r!=null&&y(e,["videoBytes"],La(r));const i=v(t,["encoding"]);return i!=null&&y(e,["mimeType"],i),e}function Ohe(t){const e={},n=v(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&y(e,["videoBytes"],La(r));const i=v(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function Rhe(t){const e={},n=v(t,["image"]);n!=null&&y(e,["_self"],Hr(n));const r=v(t,["maskMode"]);return r!=null&&y(e,["maskMode"],r),e}function Nhe(t){const e={},n=v(t,["image"]);n!=null&&y(e,["image"],jm(n));const r=v(t,["referenceType"]);return r!=null&&y(e,["referenceType"],r),e}function Phe(t){const e={},n=v(t,["image"]);n!=null&&y(e,["image"],Hr(n));const r=v(t,["referenceType"]);return r!=null&&y(e,["referenceType"],r),e}function m3(t){const e={},n=v(t,["uri"]);n!=null&&y(e,["uri"],n);const r=v(t,["videoBytes"]);r!=null&&y(e,["encodedVideo"],La(r));const i=v(t,["mimeType"]);return i!=null&&y(e,["encoding"],i),e}function g3(t){const e={},n=v(t,["uri"]);n!=null&&y(e,["gcsUri"],n);const r=v(t,["videoBytes"]);r!=null&&y(e,["bytesBase64Encoded"],La(r));const i=v(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mhe(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&y(e,["displayName"],r),n}function Ihe(t){const e={},n=v(t,["config"]);return n!=null&&Mhe(n,e),e}function khe(t,e){const n={},r=v(t,["force"]);return e!==void 0&&r!=null&&y(e,["_query","force"],r),n}function Dhe(t){const e={},n=v(t,["name"]);n!=null&&y(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&khe(r,e),e}function Lhe(t){const e={},n=v(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function jhe(t,e){const n={},r=v(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["customMetadata"],a)}const i=v(t,["chunkingConfig"]);return e!==void 0&&i!=null&&y(e,["chunkingConfig"],i),n}function Uhe(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=v(t,["done"]);i!=null&&y(e,["done"],i);const a=v(t,["error"]);a!=null&&y(e,["error"],a);const s=v(t,["response"]);return s!=null&&y(e,["response"],qhe(s)),e}function $he(t){const e={},n=v(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);const r=v(t,["fileName"]);r!=null&&y(e,["fileName"],r);const i=v(t,["config"]);return i!=null&&jhe(i,e),e}function qhe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&y(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function Bhe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function Hhe(t){const e={},n=v(t,["config"]);return n!=null&&Bhe(n,e),e}function zhe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=v(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["fileSearchStores"],a)}return e}function v3(t,e){const n={},r=v(t,["mimeType"]);e!==void 0&&r!=null&&y(e,["mimeType"],r);const i=v(t,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);const a=v(t,["customMetadata"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>c)),y(e,["customMetadata"],u)}const s=v(t,["chunkingConfig"]);return e!==void 0&&s!=null&&y(e,["chunkingConfig"],s),n}function Ghe(t){const e={},n=v(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);const r=v(t,["config"]);return r!=null&&v3(r,e),e}function Vhe(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fhe="Content-Type",Khe="X-Server-Timeout",Whe="User-Agent",BS="x-goog-api-client",Yhe="1.34.0",Jhe=`google-genai-sdk/${Yhe}`,Xhe="v1beta1",Qhe="v1beta";class Zhe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Xhe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Qhe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))i.searchParams.append(s,String(u));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const a=new AbortController,s=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>a.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=s}return n&&n.extraBody!==null&&epe(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await nj(i),new LS(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await nj(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return $r(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const u="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:h}=yield Re(i.read());if(f){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=a.decode(h,{stream:!0});try{const S=JSON.parse(p);if("error"in S){const E=JSON.parse(JSON.stringify(S.error)),x=E.status,A=E.code,O=`got status: ${x}. ${JSON.stringify(S)}`;if(A>=400&&A<600)throw new km({message:O,status:A})}}catch(S){if(S.name==="ApiError")throw S}s+=p;let g=-1,b=0;for(;;){g=-1,b=0;for(const x of c){const A=s.indexOf(x);A!==-1&&(g===-1||A<g)&&(g=A,b=x.length)}if(g===-1)break;const S=s.substring(0,g);s=s.substring(g+b);const E=S.trim();if(E.startsWith(u)){const x=E.substring(u.length).trim();try{const A=new Response(x,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Re(new LS(A))}catch(A){throw new Error(`exception parsing stream chunk ${x}. ${A}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Jhe+" "+this.clientOptions.userAgentExtra;return e[Whe]=n,e[BS]=n,e[Fhe]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))r.append(i,a);e.timeout&&e.timeout>0&&r.append(Khe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(e);i.sizeBytes=String(s.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c={file:i},f=this.getFileName(e),h=pe("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,f,c,n==null?void 0:n.httpOptions);return a.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,r){var i;const a=this.clientOptions.uploader,s=await a.stat(n),u=String(s.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),p={};r!=null&&v3(r,p);const g=await this.fetchUploadUrl(f,u,c,h,p,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,a,s){var u;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:c});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=f==null?void 0:f.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function nj(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new km({message:i,status:n}):new Error(i)}}function epe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,s){const u=Object.assign({},a);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const f=s[c],h=u[c];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?u[c]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),u[c]=f)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tpe="mcp_used/unknown";let npe=!1;function y3(t){for(const e of t)if(rpe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return npe}function b3(t){var e;const n=(e=t[BS])!==null&&e!==void 0?e:"";t[BS]=(n+` ${tpe}`).trimStart()}function rpe(t){return t!==null&&typeof t=="object"&&t instanceof ET}function ipe(t){return $r(this,arguments,function*(n,r=100){let i,a=0;for(;a<r;){const s=yield Re(n.listTools({cursor:i}));for(const u of s.tools)yield yield Re(u),a++;if(!s.nextCursor)break;i=s.nextCursor}})}class ET{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new ET(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const h of this.mcpClients)try{for(var u=!0,c=(n=void 0,qr(ipe(h))),f;f=await c.next(),e=f.done,!e;u=!0){i=f.value,u=!1;const p=i;s.push(p);const g=p.name;if(a[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);a[g]=h}}catch(p){n={error:p}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),Lue(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ape(t,e,n){const r=new Oue;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class ope{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=upe(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const h=new Promise(C=>{f=C}),p=e.callbacks,g=function(){f({})},b=this.apiClient,S={onopen:g,onmessage:C=>{ape(b,p.onmessage,C)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(C){}},E=this.webSocketFactory.create(c,lpe(s),S);E.connect(),await h;const O={setup:{model:Ye(this.apiClient,e.model)}};return E.send(JSON.stringify(O)),new spe(E,this.apiClient)}}class spe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Ife(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Mfe(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Gs.PLAY)}pause(){this.sendPlaybackControl(Gs.PAUSE)}stop(){this.sendPlaybackControl(Gs.STOP)}resetContext(){this.sendPlaybackControl(Gs.RESET_CONTEXT)}close(){this.conn.close()}}function lpe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function upe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cpe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function fpe(t,e,n){const r=new Cue;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const s=Lfe(a);Object.assign(r,s)}else Object.assign(r,a);e(r)}class dpe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new ope(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,s,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&y3(e.config.tools)&&b3(p);const g=gpe(p);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h);else{const L=this.apiClient.getApiKey();let z="BidiGenerateContent",B="key";L!=null&&L.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),z="BidiGenerateContentConstrained",B="access_token"),h=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${z}?${B}=${L}`}let b=()=>{};const S=new Promise(L=>{b=L}),E=e.callbacks,x=function(){var L;(L=E==null?void 0:E.onopen)===null||L===void 0||L.call(E),b({})},A=this.apiClient,O={onopen:x,onmessage:L=>{fpe(A,E.onmessage,L)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(L){},onclose:(r=E==null?void 0:E.onclose)!==null&&r!==void 0?r:function(L){}},C=this.webSocketFactory.create(h,mpe(g),O);C.connect(),await S;let N=Ye(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&N.startsWith("publishers/")){const L=this.apiClient.getProject(),z=this.apiClient.getLocation();N=`projects/${L}/locations/${z}/`+N}let R={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[qp.AUDIO]}:e.config.responseModalities=[qp.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const P=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],I=[];for(const L of P)if(this.isCallableTool(L)){const z=L;I.push(await z.tool())}else I.push(L);I.length>0&&(e.config.tools=I);const D={model:N,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?R=Pfe(this.apiClient,D):R=Nfe(this.apiClient,D),delete R.config,C.send(JSON.stringify(R)),new ppe(C,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const hpe={turnComplete:!0};class ppe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=yr(n.turns),e.isVertexAI()||(r=r.map(i=>Dm(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(cpe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},hpe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Dfe(e)}:n={realtimeInput:kfe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function mpe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function gpe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rj=10;function ij(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(el(s)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function el(t){return"callTool"in t&&typeof t.callTool=="function"}function vpe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>el(i)))!==null&&r!==void 0?r:!1}function aj(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(el(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function oj(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ype extends Fi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,s,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!vpe(n)||ij(n.config))return await this.generateContentInternal(c);const f=aj(n);if(f.length>0){const E=f.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let h,p;const g=yr(c.contents),b=(a=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:rj;let S=0;for(;S<b&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const E=h.candidates[0].content,x=[];for(const A of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(el(A)){const C=await A.callTool(h.functionCalls);x.push(...C)}S++,p={role:"user",parts:x},c.contents=yr(c.contents),c.contents.push(E),c.contents.push(p),oj(c.config)&&(g.push(E),g.push(p))}return oj(c.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async n=>{var r,i,a,s,u;if(this.maybeMoveToResponseJsonSchem(n),ij(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const c=aj(n);if(c.length>0){const p=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,h=(u=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(f&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const s=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c==null?void 0:c.safetyAttributes:s.push(c);let u;return a?u={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Uo(qi.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,s,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(a=n.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const s=await Promise.all(a.map(async c=>el(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&y3(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),b3(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(el(s)){const u=s,c=await u.tool();for(const f of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(a.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);a.set(f.name,u)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:rj;let s=!1,u=0;const c=await this.initAfcToolsMap(e);return(function(f,h,p){return $r(this,arguments,function*(){for(var g,b,S,E,x,A;u<a;){s&&(u++,s=!1);const R=yield Re(f.processParamsMaybeAddMcpUsage(p)),P=yield Re(f.generateContentStreamInternal(R)),I=[],D=[];try{for(var O=!0,C=(b=void 0,qr(P)),N;N=yield Re(C.next()),g=N.done,!g;O=!0){E=N.value,O=!1;const L=E;if(yield yield Re(L),L.candidates&&(!((x=L.candidates[0])===null||x===void 0)&&x.content)){D.push(L.candidates[0].content);for(const z of(A=L.candidates[0].content.parts)!==null&&A!==void 0?A:[])if(u<a&&z.functionCall){if(!z.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(z.functionCall.name)){const B=yield Re(h.get(z.functionCall.name).callTool([z.functionCall]));I.push(...B)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${z.functionCall.name}`)}}}}catch(L){b={error:L}}finally{try{!O&&!g&&(S=C.return)&&(yield Re(S.call(C)))}finally{if(b)throw b.error}}if(I.length>0){s=!0;const L=new Yu;L.candidates=[{content:{role:"user",parts:I}}],yield yield Re(L);const z=[];z.push(...D),z.push({role:"user",parts:I});const B=yr(p.contents).concat(z);p.contents=B}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=ZL(this.apiClient,e);return u=pe("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=tj(h),g=new Yu;return Object.assign(g,p),g})}else{const f=QL(this.apiClient,e);return u=pe("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=ej(h),g=new Yu;return Object.assign(g,p),g})}}async generateContentStreamInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=ZL(this.apiClient,e);return u=pe("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(p){return $r(this,arguments,function*(){var g,b,S,E;try{for(var x=!0,A=qr(p),O;O=yield Re(A.next()),g=O.done,!g;x=!0){E=O.value,x=!1;const C=E,N=tj(yield Re(C.json()));N.sdkHttpResponse={headers:C.headers};const R=new Yu;Object.assign(R,N),yield yield Re(R)}}catch(C){b={error:C}}finally{try{!x&&!g&&(S=A.return)&&(yield Re(S.call(A)))}finally{if(b)throw b.error}}})})}else{const f=QL(this.apiClient,e);return u=pe("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(p){return $r(this,arguments,function*(){var g,b,S,E;try{for(var x=!0,A=qr(p),O;O=yield Re(A.next()),g=O.done,!g;x=!0){E=O.value,x=!1;const C=E,N=ej(yield Re(C.json()));N.sdkHttpResponse={headers:C.headers};const R=new Yu;Object.assign(R,N),yield yield Re(R)}}catch(C){b={error:C}}finally{try{!x&&!g&&(S=A.return)&&(yield Re(S.call(A)))}finally{if(b)throw b.error}}})})}}async embedContent(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=dde(this.apiClient,e);return u=pe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=pde(h),g=new DL;return Object.assign(g,p),g})}else{const f=fde(this.apiClient,e);return u=pe("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=hde(h),g=new DL;return Object.assign(g,p),g})}}async generateImagesInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Tde(this.apiClient,e);return u=pe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Cde(h),g=new LL;return Object.assign(g,p),g})}else{const f=Ede(this.apiClient,e);return u=pe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Ade(h),g=new LL;return Object.assign(g,p),g})}}async editImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=sde(this.apiClient,e);return a=pe("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=lde(c),h=new gue;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=The(this.apiClient,e);return a=pe("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Ahe(c),h=new vue;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=ohe(this.apiClient,e);return a=pe("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=she(c),h=new yue;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=hhe(this.apiClient,e);return a=pe("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=phe(c),h=new bue;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Gde(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>qS(h))}else{const f=zde(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>$S(h))}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Zde(this.apiClient,e);return u=pe("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=the(h),g=new jL;return Object.assign(g,p),g})}else{const f=Qde(this.apiClient,e);return u=pe("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=ehe(h),g=new jL;return Object.assign(g,p),g})}}async update(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=She(this.apiClient,e);return u=pe("{model}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>qS(h))}else{const f=whe(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>$S(h))}}async delete(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=rde(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=ade(h),g=new UL;return Object.assign(g,p),g})}else{const f=nde(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=ide(h),g=new UL;return Object.assign(g,p),g})}}async countTokens(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Zfe(this.apiClient,e);return u=pe("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=tde(h),g=new $L;return Object.assign(g,p),g})}else{const f=Qfe(this.apiClient,e);return u=pe("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=ede(h),g=new $L;return Object.assign(g,p),g})}}async computeTokens(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=Vfe(this.apiClient,e);return a=pe("{model}:computeTokens",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Ffe(c),h=new _ue;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Ide(this.apiClient,e);return u=pe("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const p=Pde(h),g=new Bp;return Object.assign(g,p),g})}else{const f=Mde(this.apiClient,e);return u=pe("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>{const p=Nde(h),g=new Bp;return Object.assign(g,p),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bpe extends Fi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=cue(e);return u=pe("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}else{const f=uue(e);return u=pe("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=nue(e);return a=pe("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _pe(t){const e={},n=v(t,["data"]);if(n!=null&&y(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function xpe(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Npe(a))),y(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&y(e,["role"],r),e}function wpe(t,e,n){const r={},i=v(e,["expireTime"]);n!==void 0&&i!=null&&y(n,["expireTime"],i);const a=v(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&y(n,["newSessionExpireTime"],a);const s=v(e,["uses"]);n!==void 0&&s!=null&&y(n,["uses"],s);const u=v(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&y(n,["bidiGenerateContentSetup"],Rpe(t,u));const c=v(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&y(n,["fieldMask"],c),r}function Spe(t,e){const n={},r=v(e,["config"]);return r!=null&&y(n,["config"],wpe(t,r,n)),n}function Epe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Tpe(t){const e={},n=v(t,["id"]);n!=null&&y(e,["id"],n);const r=v(t,["args"]);r!=null&&y(e,["args"],r);const i=v(t,["name"]);if(i!=null&&y(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ape(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function Cpe(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function Ope(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const a=v(t,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const s=v(t,["topP"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","topP"],s);const u=v(t,["topK"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topK"],u);const c=v(t,["maxOutputTokens"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","maxOutputTokens"],c);const f=v(t,["mediaResolution"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","mediaResolution"],f);const h=v(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const p=v(t,["speechConfig"]);e!==void 0&&p!=null&&y(e,["setup","generationConfig","speechConfig"],ST(p));const g=v(t,["thinkingConfig"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","thinkingConfig"],g);const b=v(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],b);const S=v(t,["systemInstruction"]);e!==void 0&&S!=null&&y(e,["setup","systemInstruction"],xpe(gn(S)));const E=v(t,["tools"]);if(e!==void 0&&E!=null){let P=ql(E);Array.isArray(P)&&(P=P.map(I=>Mpe($l(I)))),y(e,["setup","tools"],P)}const x=v(t,["sessionResumption"]);e!==void 0&&x!=null&&y(e,["setup","sessionResumption"],Ppe(x));const A=v(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&y(e,["setup","inputAudioTranscription"],A);const O=v(t,["outputAudioTranscription"]);e!==void 0&&O!=null&&y(e,["setup","outputAudioTranscription"],O);const C=v(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&y(e,["setup","realtimeInputConfig"],C);const N=v(t,["contextWindowCompression"]);e!==void 0&&N!=null&&y(e,["setup","contextWindowCompression"],N);const R=v(t,["proactivity"]);if(e!==void 0&&R!=null&&y(e,["setup","proactivity"],R),v(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Rpe(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["setup","model"],Ye(t,r));const i=v(e,["config"]);return i!=null&&y(n,["config"],Ope(i,n)),n}function Npe(t){const e={},n=v(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&y(e,["fileData"],Epe(a));const s=v(t,["functionCall"]);s!=null&&y(e,["functionCall"],Tpe(s));const u=v(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const c=v(t,["inlineData"]);c!=null&&y(e,["inlineData"],_pe(c));const f=v(t,["text"]);f!=null&&y(e,["text"],f);const h=v(t,["thought"]);h!=null&&y(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&y(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&y(e,["videoMetadata"],g),e}function Ppe(t){const e={},n=v(t,["handle"]);if(n!=null&&y(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Mpe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),y(e,["functionDeclarations"],h)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const a=v(t,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const s=v(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],Ape(u));const c=v(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],Cpe(c));const f=v(t,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ipe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function kpe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=Ipe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>s.includes(f)?`generationConfig.${f}`:f));const c=[];a&&c.push(a),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Dpe extends Fi{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=Spe(this.apiClient,e);a=pe("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const c=kpe(u,e.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lpe(t,e){const n={},r=v(t,["force"]);return e!==void 0&&r!=null&&y(e,["_query","force"],r),n}function jpe(t){const e={},n=v(t,["name"]);n!=null&&y(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&Lpe(r,e),e}function Upe(t){const e={},n=v(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function $pe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function qpe(t){const e={},n=v(t,["parent"]);n!=null&&y(e,["_url","parent"],n);const r=v(t,["config"]);return r!=null&&$pe(r,e),e}function Bpe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=v(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hpe extends Fi{constructor(e){super(),this.apiClient=e,this.list=async n=>new Uo(qi.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Upe(e);return a=pe("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=jpe(e);i=pe("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=qpe(e);return a=pe("{parent}/documents",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Bpe(c),h=new xue;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zpe extends Fi{constructor(e,n=new Hpe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Uo(qi.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Ihe(e);return a=pe("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Lhe(e);return a=pe("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Dhe(e);i=pe("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Hhe(e);return a=pe("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=zhe(c),h=new wue;return Object.assign(h,f),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Ghe(e);return a=pe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Vhe(c),h=new Sue;return Object.assign(h,f),h})}}async importFile(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=$he(e);return a=pe("{file_search_store_name}:importFile",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Uhe(c),h=new yT;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let _3=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return _3=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Gpe=()=>_3();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HS(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const zS=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wr extends Error{}class En extends wr{constructor(e,n,r,i){super(`${En.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Um({message:r,cause:zS(n)});const a=n;return e===400?new w3(e,a,r,i):e===401?new S3(e,a,r,i):e===403?new E3(e,a,r,i):e===404?new T3(e,a,r,i):e===409?new A3(e,a,r,i):e===422?new C3(e,a,r,i):e===429?new O3(e,a,r,i):e>=500?new R3(e,a,r,i):new En(e,a,r,i)}}class GS extends En{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Um extends En{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class x3 extends Um{constructor({message:e}={}){super({message:e??"Request timed out."})}}class w3 extends En{}class S3 extends En{}class E3 extends En{}class T3 extends En{}class A3 extends En{}class C3 extends En{}class O3 extends En{}class R3 extends En{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vpe=/^[a-z][a-z0-9+.-]*:/i,Fpe=t=>Vpe.test(t);let VS=t=>(VS=Array.isArray,VS(t));const Kpe=VS;let Wpe=Kpe;const sj=Wpe;function Ype(t){if(!t)return!0;for(const e in t)return!1;return!0}function Jpe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const Xpe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new wr(`${t} must be an integer`);if(e<0)throw new wr(`${t} must be a positive integer`);return e},Qpe=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zpe=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ls="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eme(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const tme=()=>{var t,e,n,r,i;const a=eme();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ls,"X-Stainless-OS":uj(Deno.build.os),"X-Stainless-Arch":lj(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ls,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ls,"X-Stainless-OS":uj((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":lj((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=nme();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ls,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ls,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function nme(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${a}.${s}`}}}return null}const lj=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",uj=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let gh;const rme=()=>gh??(gh=tme());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ime(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function N3(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function ame(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return N3({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function P3(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function ome(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sme=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const M3=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Px(t,e,n){return M3(),new File(t,e??"unknown_file",n)}function lme(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const ume=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const I3=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",cme=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&I3(t),fme=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function dme(t,e,n){if(M3(),t=await t,cme(t))return t instanceof File?t:Px([await t.arrayBuffer()],t.name);if(fme(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Px(await FS(i),e,n)}const r=await FS(t);if(e||(e=lme(t)),!(n!=null&&n.type)){const i=r.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Px(r,e,n)}async function FS(t){var e,n,r,i,a;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(I3(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(ume(t))try{for(var u=!0,c=qr(t),f;f=await c.next(),e=f.done,!e;u=!0){i=f.value,u=!1;const h=i;s.push(...await FS(h))}}catch(h){n={error:h}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}else{const h=(a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${h?`; constructor: ${h}`:""}${hme(t)}`)}return s}function hme(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class k3{constructor(e){this._client=e}}k3._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D3(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const cj=Object.freeze(Object.create(null)),pme=(t=D3)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const a=[],s=n.reduce((h,p,g)=>{var b,S,E;/[?#]/.test(p)&&(i=!0);const x=r[g];let A=(i?encodeURIComponent:t)(""+x);return g!==r.length&&(x==null||typeof x=="object"&&x.toString===((E=Object.getPrototypeOf((S=Object.getPrototypeOf((b=x.hasOwnProperty)!==null&&b!==void 0?b:cj))!==null&&S!==void 0?S:cj))===null||E===void 0?void 0:E.toString))&&(A=x+"",a.push({start:h.length+p.length,length:A.length,error:`Value of type ${Object.prototype.toString.call(x).slice(8,-1)} is not a valid path parameter`})),h+p+(g===r.length?"":A)},""),u=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=c.exec(u))!==null;)a.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(a.sort((h,p)=>h.start-p.start),a.length>0){let h=0;const p=a.reduce((g,b)=>{const S=" ".repeat(b.start-h),E="^".repeat(b.length);return h=b.start+b.length,g+S+E},"");throw new wr(`Path parameters result in path with invalid segments:
${a.map(g=>g.error).join(`
`)}
${s}
${p}`)}return s}),vh=pme(D3);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L3 extends k3{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,a=zp(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new wr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new wr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(vh`/${i}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(vh`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(vh`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const a=n??{},{api_version:s=this._client.apiVersion}=a,u=zp(a,["api_version"]);return this._client.get(vh`/${s}/interactions/${e}`,Object.assign(Object.assign({query:u},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}L3._key=Object.freeze(["interactions"]);class j3 extends L3{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mme(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let yh;function TT(t){let e;return(yh??(e=new globalThis.TextEncoder,yh=e.encode.bind(e)))(t)}let bh;function fj(t){let e;return(bh??(e=new globalThis.TextDecoder,bh=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $m{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?TT(e):e;this.buffer=mme([this.buffer,n]);const r=[];let i;for(;(i=gme(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(fj(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=fj(this.buffer.subarray(0,a));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}$m.NEWLINE_CHARS=new Set([`
`,"\r"]);$m.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function gme(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function vme(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gp={off:0,error:200,warn:300,info:400,debug:500},dj=(t,e,n)=>{if(t){if(Jpe(Gp,t))return t;yn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Gp))}`)}};function sc(){}function _h(t,e,n){return!e||Gp[t]>Gp[n]?sc:e[t].bind(e)}const yme={error:sc,warn:sc,info:sc,debug:sc};let hj=new WeakMap;function yn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return yme;const i=hj.get(n);if(i&&i[0]===r)return i[1];const a={error:_h("error",n,r),warn:_h("warn",n,r),info:_h("info",n,r),debug:_h("debug",n,r)};return hj.set(n,[r,a]),a}const uo=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vs{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const a=r?yn(r):console;function s(){return $r(this,arguments,function*(){var c,f,h,p;if(i)throw new wr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var b=!0,S=qr(bme(e,n)),E;E=yield Re(S.next()),c=E.done,!c;b=!0){p=E.value,b=!1;const x=p;if(!g)if(x.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield Re(JSON.parse(x.data))}catch(A){throw a.error("Could not parse message into JSON:",x.data),a.error("From chunk:",x.raw),A}}}catch(x){f={error:x}}finally{try{!b&&!c&&(h=S.return)&&(yield Re(h.call(S)))}finally{if(f)throw f.error}}g=!0}catch(x){if(HS(x))return yield Re(void 0);throw x}finally{g||n.abort()}})}return new Vs(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function a(){return $r(this,arguments,function*(){var c,f,h,p;const g=new $m,b=P3(e);try{for(var S=!0,E=qr(b),x;x=yield Re(E.next()),c=x.done,!c;S=!0){p=x.value,S=!1;const A=p;for(const O of g.decode(A))yield yield Re(O)}}catch(A){f={error:A}}finally{try{!S&&!c&&(h=E.return)&&(yield Re(h.call(E)))}finally{if(f)throw f.error}}for(const A of g.flush())yield yield Re(A)})}function s(){return $r(this,arguments,function*(){var c,f,h,p;if(i)throw new wr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var b=!0,S=qr(a()),E;E=yield Re(S.next()),c=E.done,!c;b=!0){p=E.value,b=!1;const x=p;g||x&&(yield yield Re(JSON.parse(x)))}}catch(x){f={error:x}}finally{try{!b&&!c&&(h=S.return)&&(yield Re(h.call(S)))}finally{if(f)throw f.error}}g=!0}catch(x){if(HS(x))return yield Re(void 0);throw x}finally{g||n.abort()}})}return new Vs(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const s=r.next();e.push(s),n.push(s)}return a.shift()}});return[new Vs(()=>i(e),this.controller,this.client),new Vs(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return N3({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:a}=await n.next();if(a)return r.close();const s=TT(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function bme(t,e){return $r(this,arguments,function*(){var r,i,a,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new wr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new wr("Attempted to iterate over a response with no body");const u=new xme,c=new $m,f=P3(t.body);try{for(var h=!0,p=qr(_me(f)),g;g=yield Re(p.next()),r=g.done,!r;h=!0){s=g.value,h=!1;const b=s;for(const S of c.decode(b)){const E=u.decode(S);E&&(yield yield Re(E))}}}catch(b){i={error:b}}finally{try{!h&&!r&&(a=p.return)&&(yield Re(a.call(p)))}finally{if(i)throw i.error}}for(const b of c.flush()){const S=u.decode(b);S&&(yield yield Re(S))}})}function _me(t){return $r(this,arguments,function*(){var n,r,i,a;let s=new Uint8Array;try{for(var u=!0,c=qr(t),f;f=yield Re(c.next()),n=f.done,!n;u=!0){a=f.value,u=!1;const h=a;if(h==null)continue;const p=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?TT(h):h;let g=new Uint8Array(s.length+p.length);g.set(s),g.set(p,s.length),s=g;let b;for(;(b=vme(s))!==-1;)yield yield Re(s.slice(0,b)),s=s.slice(b)}}catch(h){r={error:h}}finally{try{!u&&!n&&(i=c.return)&&(yield Re(i.call(c)))}finally{if(r)throw r.error}}s.length>0&&(yield yield Re(s))})}class xme{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=wme(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function wme(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Sme(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:a}=e,s=await(async()=>{var u;if(e.options.stream)return yn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Vs.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),f=(u=c==null?void 0:c.split(";")[0])===null||u===void 0?void 0:u.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return yn(t).debug(`[${r}] response parsed`,uo({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-a})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AT extends Promise{constructor(e,n,r=Sme){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new AT(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const U3=Symbol("brand.privateNullableHeaders");function*Eme(t){if(!t)return;if(U3 in t){const{values:r,nulls:i}=t;yield*r.entries();for(const a of i)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():sj(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=sj(r[1])?r[1]:[r[1]];let s=!1;for(const u of a)u!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,u])}}const Ju=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[a,s]of Eme(r)){const u=a.toLowerCase();i.has(u)||(e.delete(a),i.add(u)),s===null?(e.delete(a),n.add(u)):(e.append(a,s),n.delete(u))}}return{[U3]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mx=t=>{var e,n,r,i,a,s;if(typeof globalThis.process<"u")return(r=(n=(e=Jle)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $3;class qm{constructor(e){var n,r,i,a,s,u,c,{baseURL:f=Mx("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=Mx("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=e,g=zp(e,["baseURL","apiKey","apiVersion"]);const b=Object.assign(Object.assign({apiKey:h,apiVersion:p},g),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=b.baseURL,this.timeout=(r=b.timeout)!==null&&r!==void 0?r:qm.DEFAULT_TIMEOUT,this.logger=(i=b.logger)!==null&&i!==void 0?i:console;const S="warn";this.logLevel=S,this.logLevel=(s=(a=dj(b.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:dj(Mx("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:S,this.fetchOptions=b.fetchOptions,this.maxRetries=(u=b.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(c=b.fetch)!==null&&c!==void 0?c:ime(),this.encoder=sme,this._options=b,this.apiKey=h,this.apiVersion=p,this.clientAdapter=b.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Ju([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Ju([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Ju([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new wr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ls}`}defaultIdempotencyKey(){return`stainless-node-retry-${Gpe()}`}makeStatusError(e,n,r,i){return En.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,a=Fpe(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return Ype(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new AT(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,a,s;const u=await e,c=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=c),await this.prepareOptions(u);const{req:f,url:h,timeout:p}=await this.buildRequest(u,{retryCount:c-n});await this.prepareRequest(f,{url:h,options:u});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=r===void 0?"":`, retryOf: ${r}`,S=Date.now();if(yn(this).debug(`[${g}] sending request`,uo({retryOfRequestLogID:r,method:u.method,url:h,options:u,headers:f.headers})),!((a=u.signal)===null||a===void 0)&&a.aborted)throw new GS;const E=new AbortController,x=await this.fetchWithTimeout(h,f,p,E).catch(zS),A=Date.now();if(x instanceof globalThis.Error){const C=`retrying, ${n} attempts remaining`;if(!((s=u.signal)===null||s===void 0)&&s.aborted)throw new GS;const N=HS(x)||/timed? ?out/i.test(String(x)+("cause"in x?String(x.cause):""));if(n)return yn(this).info(`[${g}] connection ${N?"timed out":"failed"} - ${C}`),yn(this).debug(`[${g}] connection ${N?"timed out":"failed"} (${C})`,uo({retryOfRequestLogID:r,url:h,durationMs:A-S,message:x.message})),this.retryRequest(u,n,r??g);throw yn(this).info(`[${g}] connection ${N?"timed out":"failed"} - error; no more retries left`),yn(this).debug(`[${g}] connection ${N?"timed out":"failed"} (error; no more retries left)`,uo({retryOfRequestLogID:r,url:h,durationMs:A-S,message:x.message})),N?new x3:new Um({cause:x})}const O=`[${g}${b}] ${f.method} ${h} ${x.ok?"succeeded":"failed"} with status ${x.status} in ${A-S}ms`;if(!x.ok){const C=await this.shouldRetry(x);if(n&&C){const L=`retrying, ${n} attempts remaining`;return await ome(x.body),yn(this).info(`${O} - ${L}`),yn(this).debug(`[${g}] response error (${L})`,uo({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,durationMs:A-S})),this.retryRequest(u,n,r??g,x.headers)}const N=C?"error; no more retries left":"error; not retryable";yn(this).info(`${O} - ${N}`);const R=await x.text().catch(L=>zS(L).message),P=Qpe(R),I=P?void 0:R;throw yn(this).debug(`[${g}] response error (${N})`,uo({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,message:I,durationMs:Date.now()-S})),this.makeStatusError(x.status,P,I,x.headers)}return yn(this).info(O),yn(this).debug(`[${g}] response start`,uo({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,durationMs:A-S})),{response:x,options:u,controller:E,requestLogID:g,retryOfRequestLogID:r,startTime:S}}async fetchWithTimeout(e,n,r,i){const a=n||{},{signal:s,method:u}=a,c=zp(a,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const f=setTimeout(()=>i.abort(),r),h=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,p=Object.assign(Object.assign(Object.assign({signal:i.signal},h?{duplex:"half"}:{}),{method:"GET"}),c);u&&(p.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,p)}finally{clearTimeout(f)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var a;let s;const u=i==null?void 0:i.get("retry-after-ms");if(u){const f=parseFloat(u);Number.isNaN(f)||(s=f)}const c=i==null?void 0:i.get("retry-after");if(c&&!s){const f=parseFloat(c);Number.isNaN(f)?s=Date.parse(c)-Date.now():s=f*1e3}if(!(s&&0<=s&&s<60*1e3)){const f=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,f)}return await Zpe(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,s=Math.min(.5*Math.pow(2,a),8),u=1-Math.random()*.25;return s*u*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,a;const s=Object.assign({},e),{method:u,path:c,query:f,defaultBaseURL:h}=s,p=this.buildURL(c,f,h);"timeout"in s&&Xpe("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:g,body:b}=this.buildBody({options:s}),S=await this.buildHeaders({options:e,method:u,bodyHeaders:g,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:S},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=s.fetchOptions)!==null&&a!==void 0?a:{}),url:p,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let u=Ju([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),rme()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Ju([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:ame(e)}:this.encoder({body:e,headers:r})}}qm.DEFAULT_TIMEOUT=6e4;class Zt extends qm{constructor(){super(...arguments),this.interactions=new j3(this)}}$3=Zt;Zt.GeminiNextGenAPIClient=$3;Zt.GeminiNextGenAPIClientError=wr;Zt.APIError=En;Zt.APIConnectionError=Um;Zt.APIConnectionTimeoutError=x3;Zt.APIUserAbortError=GS;Zt.NotFoundError=T3;Zt.ConflictError=A3;Zt.RateLimitError=O3;Zt.BadRequestError=w3;Zt.AuthenticationError=S3;Zt.InternalServerError=R3;Zt.PermissionDeniedError=E3;Zt.UnprocessableEntityError=C3;Zt.toFile=dme;Zt.Interactions=j3;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tme(t,e){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function Ame(t,e){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function Cme(t,e){const n={},r=v(t,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function Ome(t,e){const n={},r=v(t,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function Rme(t,e,n){const r={};if(v(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=v(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&y(e,["displayName"],i),v(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=v(t,["epochCount"]);e!==void 0&&a!=null&&y(e,["tuningTask","hyperparameters","epochCount"],a);const s=v(t,["learningRateMultiplier"]);if(s!=null&&y(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),v(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(v(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(v(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=v(t,["batchSize"]);e!==void 0&&u!=null&&y(e,["tuningTask","hyperparameters","batchSize"],u);const c=v(t,["learningRate"]);if(e!==void 0&&c!=null&&y(e,["tuningTask","hyperparameters","learningRate"],c),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(v(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Nme(t,e,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const b=v(t,["validationDataset"]);e!==void 0&&b!=null&&y(e,["supervisedTuningSpec"],pj(b))}else if(i==="PREFERENCE_TUNING"){const b=v(t,["validationDataset"]);e!==void 0&&b!=null&&y(e,["preferenceOptimizationSpec"],pj(b))}const a=v(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&y(e,["tunedModelDisplayName"],a);const s=v(t,["description"]);e!==void 0&&s!=null&&y(e,["description"],s);let u=v(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const b=v(t,["epochCount"]);e!==void 0&&b!=null&&y(e,["supervisedTuningSpec","hyperParameters","epochCount"],b)}else if(u==="PREFERENCE_TUNING"){const b=v(t,["epochCount"]);e!==void 0&&b!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],b)}let c=v(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const b=v(t,["learningRateMultiplier"]);e!==void 0&&b!=null&&y(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],b)}else if(c==="PREFERENCE_TUNING"){const b=v(t,["learningRateMultiplier"]);e!==void 0&&b!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],b)}let f=v(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const b=v(t,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&y(e,["supervisedTuningSpec","exportLastCheckpointOnly"],b)}else if(f==="PREFERENCE_TUNING"){const b=v(t,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&y(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],b)}let h=v(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const b=v(t,["adapterSize"]);e!==void 0&&b!=null&&y(e,["supervisedTuningSpec","hyperParameters","adapterSize"],b)}else if(h==="PREFERENCE_TUNING"){const b=v(t,["adapterSize"]);e!==void 0&&b!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],b)}if(v(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(v(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=v(t,["labels"]);e!==void 0&&p!=null&&y(e,["labels"],p);const g=v(t,["beta"]);return e!==void 0&&g!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function Pme(t,e){const n={},r=v(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=v(t,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const a=v(t,["trainingDataset"]);a!=null&&Hme(a);const s=v(t,["config"]);return s!=null&&Rme(s,n),n}function Mme(t,e){const n={},r=v(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=v(t,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const a=v(t,["trainingDataset"]);a!=null&&zme(a,n,e);const s=v(t,["config"]);return s!=null&&Nme(s,n,e),n}function Ime(t,e){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function kme(t,e){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function Dme(t,e,n){const r={},i=v(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const a=v(t,["pageToken"]);e!==void 0&&a!=null&&y(e,["_query","pageToken"],a);const s=v(t,["filter"]);return e!==void 0&&s!=null&&y(e,["_query","filter"],s),r}function Lme(t,e,n){const r={},i=v(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const a=v(t,["pageToken"]);e!==void 0&&a!=null&&y(e,["_query","pageToken"],a);const s=v(t,["filter"]);return e!==void 0&&s!=null&&y(e,["_query","filter"],s),r}function jme(t,e){const n={},r=v(t,["config"]);return r!=null&&Dme(r,n),n}function Ume(t,e){const n={},r=v(t,["config"]);return r!=null&&Lme(r,n),n}function $me(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const a=v(t,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>q3(u))),y(n,["tuningJobs"],s)}return n}function qme(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const a=v(t,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>KS(u))),y(n,["tuningJobs"],s)}return n}function Bme(t,e){const n={},r=v(t,["name"]);r!=null&&y(n,["model"],r);const i=v(t,["name"]);return i!=null&&y(n,["endpoint"],i),n}function Hme(t,e){const n={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=v(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(n,["examples","examples"],i)}return n}function zme(t,e,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=v(t,["gcsUri"]);e!==void 0&&s!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=v(t,["gcsUri"]);e!==void 0&&s!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let a=v(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=v(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=v(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(v(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function q3(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&y(n,["name"],i);const a=v(t,["state"]);a!=null&&y(n,["state"],n3(a));const s=v(t,["createTime"]);s!=null&&y(n,["createTime"],s);const u=v(t,["tuningTask","startTime"]);u!=null&&y(n,["startTime"],u);const c=v(t,["tuningTask","completeTime"]);c!=null&&y(n,["endTime"],c);const f=v(t,["updateTime"]);f!=null&&y(n,["updateTime"],f);const h=v(t,["description"]);h!=null&&y(n,["description"],h);const p=v(t,["baseModel"]);p!=null&&y(n,["baseModel"],p);const g=v(t,["_self"]);return g!=null&&y(n,["tunedModel"],Bme(g)),n}function KS(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&y(n,["name"],i);const a=v(t,["state"]);a!=null&&y(n,["state"],n3(a));const s=v(t,["createTime"]);s!=null&&y(n,["createTime"],s);const u=v(t,["startTime"]);u!=null&&y(n,["startTime"],u);const c=v(t,["endTime"]);c!=null&&y(n,["endTime"],c);const f=v(t,["updateTime"]);f!=null&&y(n,["updateTime"],f);const h=v(t,["error"]);h!=null&&y(n,["error"],h);const p=v(t,["description"]);p!=null&&y(n,["description"],p);const g=v(t,["baseModel"]);g!=null&&y(n,["baseModel"],g);const b=v(t,["tunedModel"]);b!=null&&y(n,["tunedModel"],b);const S=v(t,["preTunedModel"]);S!=null&&y(n,["preTunedModel"],S);const E=v(t,["supervisedTuningSpec"]);E!=null&&y(n,["supervisedTuningSpec"],E);const x=v(t,["preferenceOptimizationSpec"]);x!=null&&y(n,["preferenceOptimizationSpec"],x);const A=v(t,["tuningDataStats"]);A!=null&&y(n,["tuningDataStats"],A);const O=v(t,["encryptionSpec"]);O!=null&&y(n,["encryptionSpec"],O);const C=v(t,["partnerModelTuningSpec"]);C!=null&&y(n,["partnerModelTuningSpec"],C);const N=v(t,["customBaseModel"]);N!=null&&y(n,["customBaseModel"],N);const R=v(t,["experiment"]);R!=null&&y(n,["experiment"],R);const P=v(t,["labels"]);P!=null&&y(n,["labels"],P);const I=v(t,["outputUri"]);I!=null&&y(n,["outputUri"],I);const D=v(t,["pipelineJob"]);D!=null&&y(n,["pipelineJob"],D);const L=v(t,["serviceAccount"]);L!=null&&y(n,["serviceAccount"],L);const z=v(t,["tunedModelDisplayName"]);z!=null&&y(n,["tunedModelDisplayName"],z);const B=v(t,["veoTuningSpec"]);return B!=null&&y(n,["veoTuningSpec"],B),n}function Gme(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&y(n,["name"],i);const a=v(t,["metadata"]);a!=null&&y(n,["metadata"],a);const s=v(t,["done"]);s!=null&&y(n,["done"],s);const u=v(t,["error"]);return u!=null&&y(n,["error"],u),n}function pj(t,e){const n={},r=v(t,["gcsUri"]);r!=null&&y(n,["validationDatasetUri"],r);const i=v(t,["vertexDatasetResource"]);return i!=null&&y(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vme extends Fi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Uo(qi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:DS.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=kme(e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>KS(h))}else{const f=Ime(e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>q3(h))}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Ume(e);return u=pe("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=qme(h),g=new qL;return Object.assign(g,p),g})}else{const f=jme(e);return u=pe("tunedModels",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=$me(h),g=new qL;return Object.assign(g,p),g})}}async cancel(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Ame(e);return u=pe("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Ome(h),g=new BL;return Object.assign(g,p),g})}else{const f=Tme(e);return u=pe("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Cme(h),g=new BL;return Object.assign(g,p),g})}}async tuneInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=Mme(e,e);return a=pe("tuningJobs",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>KS(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Pme(e);return a=pe("tunedModels",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>Gme(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fme{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Kme=1024*1024*8,Wme=3,Yme=1e3,Jme=2,Vp="x-goog-upload-status";async function Xme(t,e,n){var r;const i=await B3(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Vp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function Qme(t,e,n){var r;const i=await B3(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Vp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=J4(a),u=new bT;return Object.assign(u,s),u}async function B3(t,e,n){var r,i;let a=0,s=0,u=new LS(new Response),c="upload";for(a=t.size;s<a;){const f=Math.min(Kme,a-s),h=t.slice(s,s+f);s+f>=a&&(c+=", finalize");let p=0,g=Yme;for(;p<Wme&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[Vp]));)p++,await ege(g),g=g*Jme;if(s+=f,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[Vp])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function Zme(t){return{size:t.size,type:t.type}}function ege(t){return new Promise(e=>setTimeout(e,t))}class tge{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Xme(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Qme(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Zme(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nge{create(e,n,r){return new rge(e,n,r)}}class rge{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mj="x-goog-api-key";class ige{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(mj)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(mj,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const age="gl-node/";class oge{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Zt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=eue(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new ige(this.apiKey);this.apiClient=new Zhe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:age+"web",uploader:new tge,downloader:new Fme}),this.models=new ype(this.apiClient),this.live=new dpe(this.apiClient,i,new nge),this.batches=new Rce(this.apiClient),this.chats=new cfe(this.models,this.apiClient),this.caches=new sfe(this.apiClient),this.files=new _fe(this.apiClient),this.operations=new bpe(this.apiClient),this.authTokens=new Dpe(this.apiClient),this.tunings=new Vme(this.apiClient),this.fileSearchStores=new zpe(this.apiClient)}}var sge={};const H3=()=>new oge({apiKey:sge.API_KEY||""}),lge=async(t,e)=>{const n=H3(),r=`Analiza el siguiente tema poltico de forma objetiva y proporciona un resumen equilibrado, 3 argumentos clave a favor y 3 argumentos clave en contra.
  Ttulo del tema: ${t}
  Contexto: ${e}
  
  Asegrate de que el tono sea neutral, educativo y evite sesgos partidistas. Responde exclusivamente en espaol y en formato JSON.`,i=await n.models.generateContent({model:"gemini-3-flash-preview",contents:r,config:{responseMimeType:"application/json",responseSchema:{type:pn.OBJECT,properties:{summary:{type:pn.STRING},pros:{type:pn.ARRAY,items:{type:pn.STRING}},cons:{type:pn.ARRAY,items:{type:pn.STRING}}},required:["summary","pros","cons"]}}});try{return JSON.parse(i.text.trim())}catch(a){throw console.error("Failed to parse AI response",a),new Error("Error al analizar el tema.")}},uge=async()=>{const n=await H3().models.generateContent({model:"gemini-3-flash-preview",contents:"Lista 5 temas actuales, populares y debatidos de la poltica o sociedad espaola que sean adecuados para una plataforma de votacin pblica. Devuelve un array JSON de strings en espaol.",config:{responseMimeType:"application/json",responseSchema:{type:pn.ARRAY,items:{type:pn.STRING}}}});return JSON.parse(n.text.trim())},cge=["AN","AR","AS","IB","CN","CB","CM","CL","CT","VC","EX","GA","MD","MC","NC","PV","RI","CE","ML"],fge=({onAddTopic:t})=>{const e=df(),[n,r]=q.useState(!1),[i,a]=q.useState([]),[s,u]=q.useState({title:"",description:"",category:"Economa"});q.useEffect(()=>{(async()=>{try{const h=await uge();a(h)}catch{console.error("Failed to fetch suggestions")}})()},[]);const c=async f=>{if(f.preventDefault(),!(!s.title||!s.description)){r(!0);try{const h=await lge(s.title,s.description),p={};cge.forEach(b=>{p[b]={support:0,oppose:0,neutral:0}});const g={id:Math.random().toString(36).substr(2,9),title:s.title,description:s.description,category:s.category,createdAt:Date.now(),votes:{support:0,oppose:0,neutral:0},regionalVotes:p,pros:h.pros,cons:h.cons,aiAnalysis:h.summary,type:"binary",options:["IS_PROPOSAL"],labelSupport:"Me Interesa",labelOppose:"Pasar"};t(g),e("/")}catch{alert("Error al analizar el tema. Por favor, revisa tu conexin o intntalo de nuevo.")}finally{r(!1)}}};return T.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:T.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 shadow-sm overflow-hidden",children:[T.jsxs("div",{className:"bg-indigo-600 px-8 py-10 text-white",children:[T.jsx("h1",{className:"text-3xl font-extrabold mb-2",children:"Proponer un Nuevo Debate"}),T.jsx("p",{className:"text-indigo-100",children:"La IA generar automticamente una lista equilibrada de argumentos y un anlisis para tu tema."})]}),T.jsxs("form",{onSubmit:c,className:"p-8 space-y-8",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Ttulo del Tema"}),T.jsx("input",{type:"text",required:!0,placeholder:"p.ej. Implementacin del voto obligatorio en elecciones generales",className:"w-full px-4 py-3 rounded-xl border border-gray-300 text-gray-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",value:s.title,onChange:f=>u({...s,title:f.target.value})}),i.length>0&&T.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[T.jsx("span",{className:"text-xs text-gray-400 self-center",children:"Sugerencias:"}),i.map(f=>T.jsx("button",{type:"button",onClick:()=>u({...s,title:f}),className:"text-xs bg-gray-100 hover:bg-indigo-50 hover:text-indigo-600 px-2 py-1 rounded transition",children:f},f))]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Categora"}),T.jsxs("select",{className:"w-full px-4 py-3 rounded-xl border border-gray-300 text-gray-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",value:s.category,onChange:f=>u({...s,category:f.target.value}),children:[T.jsx("option",{value:"Economa",className:"text-gray-900",children:"Economa"}),T.jsx("option",{value:"Medio Ambiente",className:"text-gray-900",children:"Medio Ambiente"}),T.jsx("option",{value:"Social",className:"text-gray-900",children:"Social"}),T.jsx("option",{value:"Legal",className:"text-gray-900",children:"Legal"}),T.jsx("option",{value:"Salud",className:"text-gray-900",children:"Salud"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Duracin de la Votacin"}),T.jsx("select",{disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-100 bg-gray-50 text-gray-400 cursor-not-allowed",children:T.jsx("option",{children:"7 Das (Estndar)"})})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Descripcin y Contexto"}),T.jsx("textarea",{required:!0,rows:4,placeholder:"Proporciona un breve resumen de por qu este tema es importante y qu se debera votar especficamente.",className:"w-full px-4 py-3 rounded-xl border border-gray-300 text-gray-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",value:s.description,onChange:f=>u({...s,description:f.target.value})})]}),T.jsxs("div",{className:"pt-4 border-t border-gray-100 flex justify-end items-center space-x-4",children:[T.jsx("button",{type:"button",onClick:()=>e("/"),className:"px-6 py-3 text-sm font-bold text-gray-600 hover:text-gray-900",children:"Cancelar"}),T.jsx("button",{type:"submit",disabled:n,className:`px-10 py-3 bg-indigo-600 text-white font-bold rounded-xl shadow-lg shadow-indigo-200 transition-all ${n?"opacity-50 cursor-not-allowed":"hover:bg-indigo-700 active:scale-95"}`,children:n?"Analizando...":"Proponer Tema"})]})]})]})})},dge=({isOpen:t,onClose:e})=>{const[n,r]=q.useState(!1),[i,a]=q.useState("password"),[s,u]=q.useState("signin"),[c,f]=q.useState(""),[h,p]=q.useState(""),[g,b]=q.useState(""),[S,E]=q.useState(""),[x,A]=q.useState(!1),[O,C]=q.useState(!1);q.useEffect(()=>{p(""),C(!1)},[s]);const N=async I=>{I.preventDefault(),r(!0);const{error:D}=await De.auth.signInWithOtp({email:c,options:{emailRedirectTo:window.location.origin}});D?alert("Error: "+D.message):A(!0),r(!1)},R=async I=>{r(!0);const{error:D}=await De.auth.signInWithOAuth({provider:I,options:{redirectTo:window.location.origin}});D&&(alert("Error con "+I+": "+D.message),r(!1))},P=async I=>{if(I.preventDefault(),r(!0),s==="signup"){if(!g){alert("Por favor, elige un nombre de usuario."),r(!1);return}const{data:D}=await De.from("profiles").select("username").eq("username",g).single();if(D){alert("Este nombre de usuario ya est cogido. Por favor elige otro."),r(!1);return}const{data:L,error:z}=await De.auth.signUp({email:c,password:h,options:{data:{username:g,region:S}}});z?z.message.includes("unique constraint")||z.message.includes("profiles_username_key")?alert("El nombre de usuario no est disponible."):alert("Error al registrarse: "+z.message):(alert("Usuario registrado! "+(L.session?"Sesin iniciada.":"Por favor revisa tu correo para confirmar.")),L.session&&e())}else{const{error:D}=await De.auth.signInWithPassword({email:c,password:h});D?alert("Error al entrar: "+D.message):e()}r(!1)};return t?T.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[T.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity",onClick:e}),T.jsx("div",{className:"relative bg-white w-full max-w-md rounded-3xl shadow-2xl overflow-hidden transform transition-all border border-gray-100",children:T.jsxs("div",{className:"p-8",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Acceso Ciudadano"}),T.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition p-1 hover:bg-gray-100 rounded-full",children:T.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),T.jsx("div",{className:"flex flex-col gap-3 mb-6",children:T.jsxs("button",{onClick:()=>R("google"),className:"flex items-center justify-center w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 transition",children:[T.jsxs("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[T.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),T.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),T.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),T.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continuar con Google"]})}),T.jsxs("div",{className:"relative mb-6",children:[T.jsx("div",{className:"absolute inset-0 flex items-center",children:T.jsx("div",{className:"w-full border-t border-gray-200"})}),T.jsx("div",{className:"relative flex justify-center text-sm",children:T.jsx("span",{className:"px-2 bg-white text-gray-500",children:"O usa tu correo"})})]}),T.jsxs("div",{className:"flex space-x-2 mb-6 bg-gray-100 p-1 rounded-lg",children:[T.jsx("button",{onClick:()=>a("password"),className:`flex - 1 py - 1.5 text - sm font - medium rounded - md transition - all ${i==="password"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"} `,children:"Contrasea"}),T.jsx("button",{onClick:()=>a("magic_link"),className:`flex - 1 py - 1.5 text - sm font - medium rounded - md transition - all ${i==="magic_link"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"} `,children:"Link Mgico"})]}),i==="magic_link"?x?T.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg border border-blue-100",children:[T.jsx("h3",{className:"text-lg font-medium text-blue-900",children:"Enlace enviado!"}),T.jsxs("p",{className:"mt-2 text-sm text-blue-600",children:["Revisa ",c]}),T.jsx("button",{onClick:e,className:"mt-4 text-sm font-medium text-blue-600 hover:text-blue-500",children:"Cerrar"})]}):T.jsxs("form",{onSubmit:N,className:"space-y-4",children:[T.jsx("p",{className:"text-gray-600 text-sm",children:"Te enviaremos un enlace a tu correo. Sin contraseas."}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Correo Electrnico"}),T.jsx("input",{type:"email",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"ejemplo@correo.com",value:c,onChange:I=>f(I.target.value)})]}),T.jsx("button",{type:"submit",disabled:n,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-full font-bold shadow-md disabled:opacity-50",children:n?"Enviando...":"Enviar Enlace Mgico "})]}):T.jsxs("form",{onSubmit:P,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Correo Electrnico"}),T.jsx("input",{type:"email",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"ejemplo@correo.com",value:c,onChange:I=>f(I.target.value)})]}),s==="signup"&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre de Usuario"}),T.jsx("input",{type:"text",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"usuario_unico",value:g,onChange:I=>b(I.target.value)})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Comunidad Autnoma"}),T.jsxs("select",{required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",value:S,onChange:I=>E(I.target.value),children:[T.jsx("option",{value:"",children:"Selecciona tu regin..."}),T.jsx("option",{value:"AN",children:"Andaluca"}),T.jsx("option",{value:"AR",children:"Aragn"}),T.jsx("option",{value:"AS",children:"Asturias"}),T.jsx("option",{value:"IB",children:"Baleares"}),T.jsx("option",{value:"CN",children:"Canarias"}),T.jsx("option",{value:"CB",children:"Cantabria"}),T.jsx("option",{value:"CM",children:"Castilla-La Mancha"}),T.jsx("option",{value:"CL",children:"Castilla y Len"}),T.jsx("option",{value:"CT",children:"Catalua"}),T.jsx("option",{value:"CE",children:"Ceuta"}),T.jsx("option",{value:"VC",children:"Comunidad Valenciana"}),T.jsx("option",{value:"EX",children:"Extremadura"}),T.jsx("option",{value:"GA",children:"Galicia"}),T.jsx("option",{value:"RI",children:"La Rioja"}),T.jsx("option",{value:"MD",children:"Madrid"}),T.jsx("option",{value:"ML",children:"Melilla"}),T.jsx("option",{value:"MC",children:"Murcia"}),T.jsx("option",{value:"NC",children:"Navarra"}),T.jsx("option",{value:"PV",children:"Pas Vasco"})]})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contrasea"}),s==="signup"?T.jsxs("div",{className:"relative mt-1",children:[T.jsx("input",{type:O?"text":"password",required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 pr-10",placeholder:"********",value:h,onChange:I=>p(I.target.value),autoComplete:"new-password"}),h.length>0&&T.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 focus:outline-none",onClick:()=>C(!O),children:O?T.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):T.jsxs("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}):T.jsx("input",{type:"password",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"********",value:h,onChange:I=>p(I.target.value)})]}),T.jsx("button",{type:"submit",disabled:n,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-full font-bold shadow-md disabled:opacity-50",children:n?"Procesando...":s==="signin"?"Iniciar Sesin":"Registrarse"}),T.jsx("div",{className:"text-center mt-4",children:T.jsx("button",{type:"button",className:"text-sm text-indigo-600 hover:text-indigo-500 font-medium",onClick:()=>u(s==="signin"?"signup":"signin"),children:s==="signin"?"No tienes cuenta? Regstrate":"Ya tienes cuenta? Inicia Sesin"})})]}),T.jsx("div",{className:"mt-8 text-center",children:T.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest font-bold",children:"Powered by Supabase Auth"})})]})})]}):null},gj="G-P4NBXBDES5",hge=()=>{const[t,e]=q.useState(!1);q.useEffect(()=>{const a=localStorage.getItem("cookie_consent");if(a==="accepted")n();else if(!a){const s=setTimeout(()=>e(!0),500);return()=>clearTimeout(s)}},[]);const n=()=>{if(document.getElementById("ga-script"))return;const a=document.createElement("script");a.id="ga-script",a.async=!0,a.src=`https://www.googletagmanager.com/gtag/js?id=${gj}`,document.head.appendChild(a);const s=document.createElement("script");s.innerHTML=`
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', '${gj}');
    `,document.head.appendChild(s)},r=()=>{localStorage.setItem("cookie_consent","accepted"),n(),e(!1)},i=()=>{localStorage.setItem("cookie_consent","rejected"),e(!1)};return t?T.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-[0_-4px_20px_rgba(0,0,0,0.1)] z-[200] p-4 md:p-6 animate-fade-in-up",children:T.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-4",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-1",children:" Poltica de Cookies"}),T.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Utilizamos cookies para analizar el trfico (Google Analytics) y mejorar la experiencia. Sin tu permiso, no cargaremos scripts de seguimiento. Solo almacenamos tu sesin tcnica."})]}),T.jsxs("div",{className:"flex w-full md:w-auto gap-3",children:[T.jsx("button",{onClick:i,className:"flex-1 md:flex-none px-4 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors",children:"Solo Esenciales"}),T.jsx("button",{onClick:r,className:"flex-1 md:flex-none px-6 py-2.5 text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 rounded-lg shadow-sm transition-colors",children:"Aceptar Todo"})]})]})}):null},pge=t=>{if(!/^\d{8}[A-Za-z]$/.test(t))return!1;const n=parseInt(t.substring(0,8),10),r=t.substring(8,9).toUpperCase(),a="TRWAGMYFPDXBNJZSQVHLCKE".charAt(n%23);return r===a},mge=[{code:"MD",name:"Madrid"},{code:"CT",name:"Catalua"},{code:"AN",name:"Andaluca"},{code:"VC",name:"Comunidad Valenciana"},{code:"GA",name:"Galicia"},{code:"PV",name:"Pas Vasco"},{code:"CL",name:"Castilla y Len"},{code:"CM",name:"Castilla-La Mancha"},{code:"AR",name:"Aragn"},{code:"EX",name:"Extremadura"},{code:"IB",name:"Baleares"},{code:"CN",name:"Canarias"},{code:"AS",name:"Asturias"},{code:"CB",name:"Cantabria"},{code:"NC",name:"Navarra"},{code:"MC",name:"Murcia"},{code:"RI",name:"La Rioja"},{code:"CE",name:"Ceuta"},{code:"ML",name:"Melilla"}],gge=["Estudiante","Desempleado","Trabajador Manual / Obrero","Trabajador Servicios / Administrativo","Profesional Tcnico / Autnomo","Directivo / Empresario","Jubilado","Otras"],vge=["Masculino","Femenino","Otro","Prefiero no decir"],yge=({user:t})=>{const[e,n]=q.useState(t.region||""),[r,i]=q.useState(""),[a,s]=q.useState(""),[u,c]=q.useState(""),[f,h]=q.useState(""),[p,g]=q.useState({dni:"",age:"",occupation:"",gender:""}),[b,S]=q.useState(!1),[E,x]=q.useState(null);q.useEffect(()=>{n(t.region||""),(async()=>{const{data:R}=await De.from("profiles").select("dni, avatar_url, age, occupation, gender").eq("id",t.id).single();if(R){const P=R.dni||"",I=R.age?R.age.toString():"",D=R.occupation||"",L=R.gender||"";i(P),s(I),c(D),h(L),g({dni:P,age:I,occupation:D,gender:L})}})()},[t.id,t.region]);const A=e!==(t.region||"")||r!==p.dni||a!==p.age||u!==p.occupation||f!==p.gender,O=async()=>{if(x(null),r&&!pge(r)){x({type:"error",text:"El DNI introducido no es vlido. Verifica la letra."});return}S(!0);try{await _n.updateUserProfile(t.id,{region:e,dni:r||void 0,avatar_url:"",age:a?parseInt(a):void 0,occupation:u||void 0,gender:f||void 0}),x({type:"success",text:"Perfil actualizado correctamente."}),g({dni:r,age:a,occupation:u,gender:f})}catch(N){x({type:"error",text:"Error al actualizar: "+N.message})}finally{S(!1)}},C=async()=>{if(window.confirm("Ests seguro de que quieres eliminar tu usuario? Esta accin borrar todos tus datos y no se puede deshacer.")){S(!0);try{const{error:N}=await De.from("profiles").delete().eq("id",t.id);if(N)throw N;await De.auth.signOut(),window.location.href="/"}catch(N){alert("Error al eliminar cuenta: "+N.message),S(!1)}}};return T.jsxs("div",{className:"max-w-2xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[T.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[T.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[T.jsx("h3",{className:"text-lg leading-6 font-bold text-gray-900",children:"Mi Perfil"}),T.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Detalles de tu cuenta en La Voz Del Pueblo."})]}),T.jsx("div",{className:"border-t border-gray-200",children:T.jsxs("dl",{children:[T.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[T.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Nombre de Usuario"}),T.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 font-medium flex items-center",children:t.name})]}),T.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[T.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Correo Electrnico"}),T.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:t.email})]}),T.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[T.jsx("dt",{className:"text-sm font-medium text-gray-500 pt-3",children:"Ocupacin / Clase"}),T.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:T.jsxs("select",{value:u,onChange:N=>c(N.target.value),className:"block w-full max-w-xs pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md border",children:[T.jsx("option",{value:"",disabled:!0,children:"Selecciona tu ocupacin..."}),gge.map(N=>T.jsx("option",{value:N,children:N},N))]})})]}),T.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[T.jsx("dt",{className:"text-sm font-medium text-gray-500 pt-3",children:"Datos Demogrficos"}),T.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:T.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-xs",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Edad"}),T.jsx("input",{type:"number",min:"16",max:"120",value:a,onChange:N=>s(N.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Gnero"}),T.jsxs("select",{value:f,onChange:N=>h(N.target.value),className:"block w-full pl-3 pr-8 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[T.jsx("option",{value:"",disabled:!0,children:"Selecciona..."}),vge.map(N=>T.jsx("option",{value:N,children:N},N))]})]})]})})]}),T.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[T.jsx("dt",{className:"text-sm font-medium text-gray-500 pt-3",children:"Comunidad Autnoma"}),T.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:T.jsxs("div",{className:"flex flex-col space-y-3",children:[T.jsxs("select",{value:e,onChange:N=>n(N.target.value),className:"block w-full max-w-xs pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md border",children:[T.jsx("option",{value:"",disabled:!0,children:"Selecciona tu CCAA..."}),mge.map(N=>T.jsx("option",{value:N.code,children:N.name},N.code))]}),T.jsx("p",{className:"text-xs text-gray-400",children:"Tu CCAA se utiliza para registrar tus votos automticamente."})]})})]})]})})]}),T.jsx("div",{className:"px-4 py-3 bg-gray-50 text-right sm:px-6 border-t border-gray-200",children:T.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[E&&T.jsx("span",{className:`text-sm font-medium ${E.type==="success"?"text-green-600":"text-red-600"}`,children:E.text}),T.jsx("button",{onClick:O,disabled:b||!A,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Guardando...":"Guardar Cambios"})]})}),T.jsxs("div",{className:"mt-10 bg-white shadow sm:rounded-lg overflow-hidden border border-red-200",children:[T.jsxs("div",{className:"px-4 py-5 sm:px-6 bg-red-50",children:[T.jsx("h3",{className:"text-lg leading-6 font-medium text-red-900",children:"Zona de Peligro"}),T.jsx("p",{className:"mt-1 max-w-2xl text-sm text-red-700",children:"Acciones irreversibles para tu cuenta."})]}),T.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[T.jsx("div",{className:"max-w-xl text-sm text-gray-500",children:T.jsx("p",{children:"Una vez que elimines tu cuenta, no hay vuelta atrs. Por favor, asegrate."})}),T.jsx("div",{className:"mt-5",children:T.jsx("button",{type:"button",onClick:C,className:"inline-flex items-center justify-center px-4 py-2 border border-transparent font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:text-sm",children:"Eliminar mi usuario"})})]})]})]})},bge=({userId:t})=>{const[e,n]=q.useState([]),[r,i]=q.useState(!0);q.useEffect(()=>{t&&(async()=>{try{const u=await _n.fetchUserVotes(t);n(u.filter(c=>{var f;return!((f=c.topic.options)!=null&&f.includes("IS_PROPOSAL"))}))}catch(u){console.error("Error loading votes:",u)}finally{i(!1)}})()},[t]);const a=(s,u)=>{if(u)return T.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800 border border-blue-200",children:u});switch(s){case"support":return T.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"A Favor"});case"oppose":return T.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"En Contra"});default:return T.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:"Neutral"})}};return r?T.jsx("div",{className:"p-8 text-center",children:"Cargando historial..."}):T.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Mis Votos"}),e.length===0?T.jsxs("div",{className:"text-center py-10 bg-gray-50 rounded-lg",children:[T.jsx("p",{className:"text-gray-500",children:"An no has votado en ningn tema."}),T.jsx(It,{to:"/",className:"mt-4 inline-block text-blue-600 hover:text-blue-500",children:"Ir a votar "})]}):T.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:T.jsx("ul",{className:"divide-y divide-gray-200",children:e.map(s=>T.jsx("li",{children:T.jsx(It,{to:`/topic/${s.topic_id}`,className:"block hover:bg-gray-50",children:T.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("p",{className:"text-sm font-medium text-blue-600 truncate",children:s.topic.title}),T.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:a(s.choice,s.choice_option)})]}),T.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[T.jsx("div",{className:"sm:flex",children:T.jsx("p",{className:"flex items-center text-sm text-gray-500",children:s.topic.category})}),T.jsx("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:T.jsxs("p",{children:["Votado el ",new Date(s.created_at).toLocaleDateString()]})})]})]})})},s.id))})})]})},_ge=({userId:t})=>{const[e,n]=q.useState([]),[r,i]=q.useState(!0);return q.useEffect(()=>{t&&(async()=>{try{const u=(await _n.fetchUserVotes(t)).filter(c=>{var f;return(f=c.topic.options)==null?void 0:f.includes("IS_PROPOSAL")});n(u)}catch(s){console.error("Error loading supports:",s)}finally{i(!1)}})()},[t]),r?T.jsx("div",{className:"p-8 text-center",children:"Cargando apoyos..."}):T.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Mis Apoyos"}),e.length===0?T.jsxs("div",{className:"text-center py-10 bg-gray-50 rounded-lg",children:[T.jsx("p",{className:"text-gray-500",children:"An no has apoyado ninguna propuesta."}),T.jsx(It,{to:"/new-topics",className:"mt-4 inline-block text-blue-600 hover:text-blue-500",children:"Ver propuestas recientes "})]}):T.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:T.jsx("ul",{className:"divide-y divide-gray-200",children:e.map(a=>T.jsx("li",{children:T.jsxs("div",{className:"px-4 py-4 sm:px-6 hover:bg-gray-50 transition",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("p",{className:"text-sm font-medium text-blue-600 truncate",children:a.topic.title}),T.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:" Apoyado"})]}),T.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[T.jsx("div",{className:"sm:flex",children:T.jsx("p",{className:"flex items-center text-sm text-gray-500",children:a.topic.category})}),T.jsx("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:T.jsxs("p",{children:["Apoyado el ",new Date(a.created_at).toLocaleDateString()]})})]})]})},a.id))})})]})},xge=[{id:"Poltica",name:"Poltica",icon:T.jsx("svg",{className:"w-12 h-12 drop-shadow-sm",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),description:"Debates sobre gobierno, leyes y derechos."},{id:"Economa",name:"Economa",icon:T.jsx("svg",{className:"w-12 h-12 drop-shadow-sm",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),description:"Impuestos, empleo, moneda y mercados."},{id:"Social",name:"Social",icon:T.jsx("svg",{className:"w-12 h-12 drop-shadow-sm",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),description:"Cuestiones sociales, igualdad y comunidad."},{id:"Medio Ambiente",name:"Medio Ambiente",icon:T.jsx("svg",{className:"w-12 h-12 drop-shadow-sm",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),description:"Cambio climtico, energa y naturaleza."},{id:"Tecnologa",name:"Tecnologa",icon:T.jsx("svg",{className:"w-12 h-12 drop-shadow-sm",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),description:"Innovacin, IA y privacidad digital."},{id:"Sanidad",name:"Sanidad",icon:T.jsx("svg",{className:"w-12 h-12 drop-shadow-sm",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),description:"Salud pblica, medicina y bienestar."},{id:"Educacin",name:"Educacin",icon:T.jsx("svg",{className:"w-12 h-12 drop-shadow-sm",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 14l9-5-9-5-9 5 9 5z M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"})}),description:"Sistema educativo, becas y docencia."},{id:"Ciencia",name:"Ciencia",icon:T.jsx("svg",{className:"w-12 h-12 drop-shadow-sm",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),description:"Investigacin, espacio y descubrimientos."},{id:"Entretenimiento",name:"Entretenimiento",icon:T.jsx("svg",{className:"w-12 h-12 drop-shadow-sm",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),description:"Cine, msica, cultura y ocio."}],wge=()=>{const[t,e]=q.useState(null),n=()=>{_n.fetchUserCount().then(r=>e(r))};return q.useEffect(()=>{n();const{data:{subscription:r}}=De.auth.onAuthStateChange(i=>{(i==="SIGNED_IN"||i==="SIGNED_OUT")&&setTimeout(n,1500)});return()=>r.unsubscribe()},[]),T.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[T.jsxs("div",{className:"text-center mb-16",children:[T.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 sm:text-5xl sm:tracking-tight lg:text-6xl",children:"Elige tu Campo de Batalla"}),t!==null&&T.jsxs("p",{className:"mt-2 text-sm text-blue-600 font-medium",children:["Ya somos ",T.jsx("span",{className:"font-bold text-lg",children:t.toLocaleString()})," ciudadanos registrados"]}),T.jsx("p",{className:"mt-5 max-w-xl mx-auto text-xl text-gray-500",children:"Selecciona una categora para explorar los debates activos y haz or tu voz."})]}),T.jsx("div",{className:"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:xge.map(r=>T.jsxs(It,{to:`/category/${r.id}`,className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-2xl shadow-sm hover:shadow-lg transition-all duration-200 border border-gray-100 flex flex-col items-center text-center",children:[T.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-20 w-20 rounded-full bg-gradient-to-br from-white via-gray-100 to-gray-200 shadow-[0_4px_10px_rgba(0,0,0,0.1)] border border-white text-gray-700 mb-6 group-hover:scale-105 transition-all duration-300",children:r.icon}),T.jsxs("div",{children:[T.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[T.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),r.name]}),T.jsx("p",{className:"mt-2 text-sm text-gray-500",children:r.description})]})]},r.id))}),T.jsx("div",{className:"mt-12 text-center",children:T.jsx(It,{to:"/latest",className:"text-blue-600 hover:text-blue-500 font-medium",children:"Ver Temas en Votacin "})})]})},Sge=({topics:t})=>{const{categoryId:e}=Lj(),n=e?decodeURIComponent(e):"",r=t.filter(i=>i.category===n);return T.jsx(sU,{topics:r,title:`Debates de ${n}`,showFilters:!1})},Ege=()=>T.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[T.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 mb-8",children:"Trminos y Condiciones de Uso"}),T.jsxs("div",{className:"prose prose-indigo text-gray-500",children:[T.jsx("p",{className:"mb-4",children:"Bienvenido a La Voz del Pueblo. Al acceder y utilizar nuestra plataforma, aceptas cumplir con los siguientes trminos y condiciones. Si no ests de acuerdo con alguna parte de estos trminos, por favor no utilices nuestros servicios."}),T.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"1. Uso de la Plataforma"}),T.jsx("p",{className:"mb-4",children:"Nuestra misin es fomentar el debate democrtico y la participacin ciudadana. Al usar la plataforma, te comprometes a:"}),T.jsxs("ul",{className:"list-disc pl-5 mb-4 space-y-2",children:[T.jsx("li",{children:"Mantener un tono respetuoso y constructivo en los debates."}),T.jsx("li",{children:"No publicar contenido ofensivo, discriminatorio o ilegal."}),T.jsx("li",{children:"Proporcionar informacin veraz en tu perfil de usuario."}),T.jsx("li",{children:"No intentar manipular las votaciones mediante el uso de bots o cuentas falsas (salvo las generadas por el sistema para demostraciones internas)."})]}),T.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"2. Registro y Seguridad"}),T.jsx("p",{className:"mb-4",children:"Para participar en las votaciones, es necesario registrarse. Eres responsable de mantener la confidencialidad de tus credenciales de acceso y de toda la actividad que ocurra bajo tu cuenta."}),T.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"3. Propiedad Intelectual"}),T.jsx("p",{className:"mb-4",children:"El contenido generado por los usuarios (comentarios, propuestas) es propiedad de sus respectivos autores, pero al publicarlo en La Voz del Pueblo, nos otorgas una licencia no exclusiva para mostrarlo y utilizarlo con fines estadsticos y analticos."}),T.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"4. Limitacin de Responsabilidad"}),T.jsx("p",{className:"mb-4",children:'La Voz del Pueblo ofrece esta plataforma "tal cual" para fines informativos y de participacin. No nos hacemos responsables de las opiniones vertidas por los usuarios ni garantizamos que los resultados de las votaciones sean vinculantes para ninguna institucin gubernamental.'}),T.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"5. Modificaciones"}),T.jsx("p",{className:"mb-4",children:"Nos reservamos el derecho de modificar estos trminos en cualquier momento. Te notificaremos sobre cambios significativos a travs de la plataforma."}),T.jsx("p",{className:"mt-8 text-sm text-gray-400",children:"ltima actualizacin: Enero 2026"})]})]}),Tge=()=>T.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[T.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 mb-8",children:"Poltica de Privacidad"}),T.jsxs("div",{className:"prose prose-indigo text-gray-500",children:[T.jsx("p",{className:"mb-4",children:"En La Voz del Pueblo, nos tomamos muy en serio tu privacidad. Esta poltica describe cmo recopilamos, usamos y protegemos tu informacin personal."}),T.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"1. Informacin que Recopilamos"}),T.jsxs("ul",{className:"list-disc pl-5 mb-4 space-y-2",children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Datos de Registro:"})," Correo electrnico, nombre de usuario y contrasea (cifrada)."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Perfil Demogrfico:"})," Edad, ocupacin, gnero y comunidad autnoma. Estos datos se utilizan para segmentar estadsticas."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Actividad:"})," Tu historial de votos y propuestas en la plataforma."]})]}),T.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"2. Uso de la Informacin"}),T.jsx("p",{className:"mb-4",children:"Utilizamos tus datos exclusivamente para:"}),T.jsxs("ul",{className:"list-disc pl-5 mb-4 space-y-2",children:[T.jsx("li",{children:"Gestionar tu cuenta y autenticacin."}),T.jsx("li",{children:'Generar estadsticas demogrficas annimas sobre las votaciones (ej. "Qu opinan los estudiantes en Madrid?").'}),T.jsx("li",{children:"Mejorar la experiencia de usuario en la plataforma."})]}),T.jsx("p",{className:"mb-4 font-semibold",children:"Nunca vendemos tus datos personales a terceros."}),T.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"3. Seguridad de los Datos"}),T.jsx("p",{className:"mb-4",children:"Utilizamos Supabase como proveedor de infraestructura, que implementa estndares de seguridad de la industria (cifrado en trnsito y en reposo) para proteger tu informacin."}),T.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"4. Tus Derechos"}),T.jsx("p",{className:"mb-4",children:'Tienes derecho a acceder, rectificar o eliminar tus datos personales en cualquier momento. Puedes gestionar tu perfil desde la seccin "Mi Perfil" o contactarnos para una eliminacin completa de la cuenta.'}),T.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"5. Cookies"}),T.jsx("p",{className:"mb-4",children:"Utilizamos cookies esenciales para mantener tu sesin iniciada. No utilizamos cookies de rastreo publicitario de terceros."}),T.jsx("p",{className:"mt-8 text-sm text-gray-400",children:"ltima actualizacin: Enero 2026"})]})]}),Age=({topics:t,user:e,onVote:n,onRemoveVote:r,onRequireAuth:i})=>{const a=df(),u=[...t.filter(h=>{var p;return(p=h.options)==null?void 0:p.includes("IS_PROPOSAL")})].sort((h,p)=>{var S,E;const g=((S=h.votes)==null?void 0:S.support)||0;return(((E=p.votes)==null?void 0:E.support)||0)-g}),c=(h,p)=>{if(h.stopPropagation(),h.preventDefault(),!e){i();return}if(!e.region){alert("Necesitas completar tu perfil con tu regin para votar.");return}n(p.id,"support",e.region)},f=(h,p)=>{h.stopPropagation(),h.preventDefault(),r(p.id)};return T.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[T.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8",children:[T.jsxs("div",{children:[T.jsx("h1",{className:"text-3xl font-extrabold text-gray-900",children:"Nuevos Temas Propuestos"}),T.jsx("p",{className:"text-gray-500 mt-2",children:"Apoya con un  los temas que te gustara ver en debate oficial."})]}),T.jsxs("button",{onClick:()=>a("/propose"),className:"mt-4 md:mt-0 px-6 py-3 bg-blue-600 text-white font-bold rounded-xl shadow-lg hover:bg-blue-700 transition flex items-center",children:[T.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Proponer Tema"]})]}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.map(h=>{var g;const p=((g=h.votes)==null?void 0:g.support)||0;return T.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 hover:shadow-xl transition-shadow duration-300 flex flex-col h-full group",children:[T.jsxs("div",{className:"flex justify-between items-start mb-4",children:[T.jsx("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-xs font-semibold bg-blue-50 text-blue-700",children:h.category}),T.jsx("span",{className:"text-gray-400 text-xs",children:new Date(h.createdAt).toLocaleDateString()})]}),T.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 line-clamp-2",children:h.title}),T.jsx("p",{className:"text-gray-600 text-sm line-clamp-3 mb-6 flex-grow",children:h.description}),T.jsxs("div",{className:"mt-auto pt-6 border-t border-gray-100 flex items-center justify-between",children:[T.jsxs("div",{className:"text-sm font-medium text-gray-500",children:[T.jsx("span",{className:"text-2xl font-bold text-gray-900 mr-1",children:p})," apoyos"]}),h.hasVoted?T.jsxs("button",{onClick:b=>f(b,h),className:"flex items-center space-x-2 px-6 py-2 bg-red-50 text-red-600 rounded-full font-bold hover:bg-red-100 transition active:scale-95 border border-red-100",children:[T.jsx("span",{children:""}),T.jsx("span",{children:"Quitar Apoyo"})]}):T.jsxs("button",{onClick:b=>c(b,h),className:"flex items-center space-x-2 px-6 py-2 bg-blue-50 text-blue-600 rounded-full font-bold hover:bg-blue-600 hover:text-white transition-all active:scale-95 group/btn shadow-sm",children:[T.jsx("span",{className:"group-hover/btn:scale-110 transition-transform",children:""}),T.jsx("span",{children:"Apoyar"})]})]})]},h.id)})}),u.length===0&&T.jsxs("div",{className:"text-center py-20 bg-white rounded-3xl border-2 border-dashed border-gray-300",children:[T.jsx("p",{className:"text-gray-500 text-lg",children:"No hay propuestas activas. S el primero en proponer un tema!"}),T.jsx("button",{onClick:()=>a("/propose"),className:"mt-4 text-blue-600 font-bold hover:underline",children:"Proponer ahora "})]})]})},Cge=t=>{if(!t)return"??";const n=t.replace(/[._-]/g," ").trim().split(/\s+/).filter(Boolean);return n.length===0?"??":n.length>=2?(n[0][0]+n[1][0]).toUpperCase():n[0].substring(0,2).toUpperCase()},Oge=({user:t,onLogin:e,onLogout:n})=>{const r=Na(),i=df(),a=p=>r.pathname===p,[s,u]=q.useState(!1),[c,f]=q.useState(!1),h=async()=>{u(!1),f(!1),await n(),i("/")};return T.jsxs("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:[T.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"flex justify-between h-16",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("div",{className:"-ml-2 mr-2 flex items-center sm:hidden",children:T.jsxs("button",{onClick:()=>f(!c),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 transition-colors",children:[T.jsx("span",{className:"sr-only",children:"Open main menu"}),T.jsx("svg",{className:`${c?"hidden":"block"} h-6 w-6`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),T.jsx("svg",{className:`${c?"block":"hidden"} h-6 w-6`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})}),T.jsxs(It,{to:"/",className:"flex items-center space-x-2",children:[T.jsx("div",{className:"bg-blue-600 text-white p-2 rounded-lg",children:T.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2-2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),T.jsxs("span",{className:"text-xl font-extrabold text-gray-900 tracking-tight",children:["La Voz Del ",T.jsx("span",{className:"text-blue-600",children:"Pueblo"})]})]})]}),T.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[T.jsx(It,{to:"/",className:`${a("/")?"border-blue-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium`,children:"Temas en Votacin"}),T.jsx(It,{to:"/new-topics",className:`${a("/new-topics")?"border-blue-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium`,children:"Nuevos Temas"})]}),T.jsx("div",{className:"flex items-center space-x-4",children:t?T.jsxs("div",{className:"flex items-center space-x-3 bg-gray-50 pr-1 pl-3 py-1 rounded-full border border-gray-200",children:[T.jsxs(It,{to:"/profile",className:"flex items-center space-x-2 hover:opacity-80",children:[T.jsx("span",{className:"text-xs font-bold text-gray-700",children:t.name}),T.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-700 font-bold text-xs border border-white shadow-sm",children:Cge(t.name)})]}),T.jsxs("div",{className:"relative",children:[T.jsx("button",{onClick:()=>u(!s),className:"p-1 text-gray-400 hover:text-gray-600 focus:outline-none rounded-full hover:bg-gray-100 transition-colors",children:T.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})}),s&&T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"fixed inset-0 z-10 w-full h-full",onClick:()=>u(!1)}),T.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 ring-1 ring-black ring-opacity-5 z-20",children:[T.jsx(It,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>u(!1),children:"Configuracin"}),T.jsx(It,{to:"/profile/votes",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>u(!1),children:"Mis Votos"}),T.jsx(It,{to:"/profile/supports",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>u(!1),children:"Mis Apoyos"}),T.jsx(It,{to:"/propose",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>u(!1),children:"Proponer Tema"}),T.jsx("button",{onClick:()=>{h(),u(!1)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-50 bg-red-50/10 border-t border-gray-100",children:"Cerrar Sesin"})]})]})]}),T.jsx("div",{className:"h-4 w-px bg-gray-300 mx-1"}),T.jsx("button",{onClick:h,className:"p-1.5 text-gray-400 hover:text-red-500 transition",title:"Cerrar Sesin",children:T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]}):T.jsx("button",{onClick:e,className:"bg-blue-600 text-white px-6 py-2 rounded-full text-sm font-bold shadow-lg shadow-blue-100 hover:bg-blue-700 transition active:scale-95",children:"Iniciar Sesin"})})]})}),c&&T.jsx("div",{className:"sm:hidden bg-white border-t border-gray-200",children:T.jsxs("div",{className:"pt-2 pb-3 space-y-1",children:[T.jsx(It,{to:"/",className:`${a("/")?"bg-blue-50 border-blue-500 text-blue-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700"} block pl-3 pr-4 py-2 border-l-4 text-base font-medium`,onClick:()=>f(!1),children:"Temas en Votacin"}),T.jsx(It,{to:"/new-topics",className:`${a("/new-topics")?"bg-blue-50 border-blue-500 text-blue-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700"} block pl-3 pr-4 py-2 border-l-4 text-base font-medium`,onClick:()=>f(!1),children:"Nuevos Temas"})]})})]})},Rge=()=>{const[t,e]=q.useState([]),[n,r]=q.useState(null),[i,a]=q.useState(!1),s=async()=>{try{const p=await _n.fetchTopics();if(n){const g=await _n.fetchUserVotes(n.id),b=new Set(g.map(E=>E.topic_id)),S=p.map(E=>({...E,hasVoted:b.has(E.id)}));e(S)}else e(p)}catch(p){console.error("Error fetching topics:",p)}};q.useEffect(()=>{s()},[n]),q.useEffect(()=>{De.auth.getSession().then(({data:{session:g}})=>{g!=null&&g.user&&u(g.user)});const{data:{subscription:p}}=De.auth.onAuthStateChange((g,b)=>{b!=null&&b.user?u(b.user):r(null)});return()=>{p.unsubscribe()}},[]);const u=async p=>{var S,E,x,A;const g=((S=p.user_metadata)==null?void 0:S.username)||((E=p.email)==null?void 0:E.split("@")[0])||"Ciudadano";let{data:b}=await De.from("profiles").select("region, is_fake, avatar_url").eq("id",p.id).single();if(!b){console.log("Profile missing for user. Attempting auto-repair...");try{const{error:O}=await De.from("profiles").insert({id:p.id,region:((x=p.user_metadata)==null?void 0:x.region)||"MD",is_fake:!1});if(O){console.error("Auto-repair failed:",O),await De.auth.signOut(),r(null);return}else{const{data:C}=await De.from("profiles").select("region, is_fake, avatar_url").eq("id",p.id).single();b=C}}catch(O){console.error("Auto-repair exception:",O),await De.auth.signOut(),r(null);return}}r({id:p.id,name:g,email:p.email||"",avatar:(b==null?void 0:b.avatar_url)||"",region:(b==null?void 0:b.region)||((A=p.user_metadata)==null?void 0:A.region),is_fake:b==null?void 0:b.is_fake})},c=async p=>{try{await _n.createTopic(p),await s()}catch(g){alert("Error creating topic: "+g.message)}},f=async(p,g,b,S)=>{if(!n){a(!0);return}try{await _n.castVote(p,g,b,S),await s()}catch(E){alert(E.message)}},h=async p=>{if(n)try{await _n.removeVote(p),await s()}catch(g){alert(g.message)}};return T.jsx(JS,{children:T.jsx(mH,{children:T.jsxs("div",{className:"min-h-screen flex flex-col relative",children:[T.jsx(Oge,{user:n,onLogin:()=>a(!0),onLogout:async()=>{await De.auth.signOut(),r(null)}}),T.jsx("main",{className:"flex-grow",children:T.jsxs(V8,{children:[T.jsx(fr,{path:"/",element:T.jsx(wge,{})}),T.jsx(fr,{path:"/latest",element:T.jsx(sU,{topics:t})}),T.jsx(fr,{path:"/category/:categoryId",element:T.jsx(Sge,{topics:t})}),T.jsx(fr,{path:"/topic/:id",element:T.jsx(Yle,{topics:t,onVote:f,user:n,onRequireAuth:()=>a(!0)})}),T.jsx(fr,{path:"/propose",element:T.jsx(fge,{onAddTopic:c})}),T.jsx(fr,{path:"/new-topics",element:T.jsx(Age,{topics:t,user:n,onVote:f,onRemoveVote:h,onRequireAuth:()=>a(!0)})}),n&&T.jsxs(T.Fragment,{children:[T.jsx(fr,{path:"/profile",element:T.jsx(yge,{user:n})}),T.jsx(fr,{path:"/profile/votes",element:T.jsx(bge,{userId:n.id})}),T.jsx(fr,{path:"/profile/supports",element:T.jsx(_ge,{userId:n.id})})]}),T.jsx(fr,{path:"/terms",element:T.jsx(Ege,{})}),T.jsx(fr,{path:"/privacy",element:T.jsx(Tge,{})})]})}),T.jsx(dge,{isOpen:i,onClose:()=>a(!1)}),T.jsx("footer",{className:"bg-white/80 backdrop-blur-sm border-t border-gray-200 py-12 mt-12",children:T.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center text-gray-500 text-sm",children:[T.jsx("p",{children:" 2026 LaVozDelPueblo.es. Todos los derechos reservados."}),T.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[T.jsx(It,{to:"/terms",className:"hover:text-blue-600 transition",children:"Trminos"}),T.jsx(It,{to:"/privacy",className:"hover:text-blue-600 transition",children:"Privacidad"})]})]})}),T.jsx(hge,{})]})})})},z3=document.getElementById("root");if(!z3)throw new Error("Could not find root element to mount to");const Nge=x6.createRoot(z3);Nge.render(T.jsx(V.StrictMode,{children:T.jsx(JS,{children:T.jsx(Rge,{})})}));
