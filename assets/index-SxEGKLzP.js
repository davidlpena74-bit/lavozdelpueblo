(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var av={exports:{}},ru={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c1;function Y3(){if(c1)return ru;c1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return ru.Fragment=e,ru.jsx=n,ru.jsxs=n,ru}var f1;function J3(){return f1||(f1=1,av.exports=Y3()),av.exports}var N=J3(),ov={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d1;function X3(){if(d1)return Oe;d1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function _(q){return q===null||typeof q!="object"?null:(q=v&&q[v]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,w={};function T(q,K,ae){this.props=q,this.context=K,this.refs=w,this.updater=ae||x}T.prototype.isReactComponent={},T.prototype.setState=function(q,K){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,K,"setState")},T.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function C(){}C.prototype=T.prototype;function A(q,K,ae){this.props=q,this.context=K,this.refs=w,this.updater=ae||x}var P=A.prototype=new C;P.constructor=A,E(P,T.prototype),P.isPureReactComponent=!0;var R=Array.isArray;function M(){}var I={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function U(q,K,ae){var fe=ae.ref;return{$$typeof:t,type:q,key:K,ref:fe!==void 0?fe:null,props:ae}}function V(q,K){return U(q.type,K,q.props)}function $(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function F(q){var K={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ae){return K[ae]})}var z=/\/+/g;function Q(q,K){return typeof q=="object"&&q!==null&&q.key!=null?F(""+q.key):K.toString(36)}function H(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(M,M):(q.status="pending",q.then(function(K){q.status==="pending"&&(q.status="fulfilled",q.value=K)},function(K){q.status==="pending"&&(q.status="rejected",q.reason=K)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function L(q,K,ae,fe,ve){var Te=typeof q;(Te==="undefined"||Te==="boolean")&&(q=null);var Le=!1;if(q===null)Le=!0;else switch(Te){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(q.$$typeof){case t:case e:Le=!0;break;case h:return Le=q._init,L(Le(q._payload),K,ae,fe,ve)}}if(Le)return ve=ve(q),Le=fe===""?"."+Q(q,0):fe,R(ve)?(ae="",Le!=null&&(ae=Le.replace(z,"$&/")+"/"),L(ve,K,ae,"",function(Ae){return Ae})):ve!=null&&($(ve)&&(ve=V(ve,ae+(ve.key==null||q&&q.key===ve.key?"":(""+ve.key).replace(z,"$&/")+"/")+Le)),K.push(ve)),1;Le=0;var Ye=fe===""?".":fe+":";if(R(q))for(var ce=0;ce<q.length;ce++)fe=q[ce],Te=Ye+Q(fe,ce),Le+=L(fe,K,ae,Te,ve);else if(ce=_(q),typeof ce=="function")for(q=ce.call(q),ce=0;!(fe=q.next()).done;)fe=fe.value,Te=Ye+Q(fe,ce++),Le+=L(fe,K,ae,Te,ve);else if(Te==="object"){if(typeof q.then=="function")return L(H(q),K,ae,fe,ve);throw K=String(q),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Le}function W(q,K,ae){if(q==null)return q;var fe=[],ve=0;return L(q,fe,"","",function(Te){return K.call(ae,Te,ve++)}),fe}function ne(q){if(q._status===-1){var K=q._result;K=K(),K.then(function(ae){(q._status===0||q._status===-1)&&(q._status=1,q._result=ae)},function(ae){(q._status===0||q._status===-1)&&(q._status=2,q._result=ae)}),q._status===-1&&(q._status=0,q._result=K)}if(q._status===1)return q._result.default;throw q._result}var le=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},de={map:W,forEach:function(q,K,ae){W(q,function(){K.apply(this,arguments)},ae)},count:function(q){var K=0;return W(q,function(){K++}),K},toArray:function(q){return W(q,function(K){return K})||[]},only:function(q){if(!$(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Oe.Activity=m,Oe.Children=de,Oe.Component=T,Oe.Fragment=n,Oe.Profiler=i,Oe.PureComponent=A,Oe.StrictMode=r,Oe.Suspense=c,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(q){return I.H.useMemoCache(q)}},Oe.cache=function(q){return function(){return q.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(q,K,ae){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var fe=E({},q.props),ve=q.key;if(K!=null)for(Te in K.key!==void 0&&(ve=""+K.key),K)!k.call(K,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&K.ref===void 0||(fe[Te]=K[Te]);var Te=arguments.length-2;if(Te===1)fe.children=ae;else if(1<Te){for(var Le=Array(Te),Ye=0;Ye<Te;Ye++)Le[Ye]=arguments[Ye+2];fe.children=Le}return U(q.type,ve,fe)},Oe.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:a,_context:q},q},Oe.createElement=function(q,K,ae){var fe,ve={},Te=null;if(K!=null)for(fe in K.key!==void 0&&(Te=""+K.key),K)k.call(K,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(ve[fe]=K[fe]);var Le=arguments.length-2;if(Le===1)ve.children=ae;else if(1<Le){for(var Ye=Array(Le),ce=0;ce<Le;ce++)Ye[ce]=arguments[ce+2];ve.children=Ye}if(q&&q.defaultProps)for(fe in Le=q.defaultProps,Le)ve[fe]===void 0&&(ve[fe]=Le[fe]);return U(q,Te,ve)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(q){return{$$typeof:u,render:q}},Oe.isValidElement=$,Oe.lazy=function(q){return{$$typeof:h,_payload:{_status:-1,_result:q},_init:ne}},Oe.memo=function(q,K){return{$$typeof:f,type:q,compare:K===void 0?null:K}},Oe.startTransition=function(q){var K=I.T,ae={};I.T=ae;try{var fe=q(),ve=I.S;ve!==null&&ve(ae,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(M,le)}catch(Te){le(Te)}finally{K!==null&&ae.types!==null&&(K.types=ae.types),I.T=K}},Oe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Oe.use=function(q){return I.H.use(q)},Oe.useActionState=function(q,K,ae){return I.H.useActionState(q,K,ae)},Oe.useCallback=function(q,K){return I.H.useCallback(q,K)},Oe.useContext=function(q){return I.H.useContext(q)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(q,K){return I.H.useDeferredValue(q,K)},Oe.useEffect=function(q,K){return I.H.useEffect(q,K)},Oe.useEffectEvent=function(q){return I.H.useEffectEvent(q)},Oe.useId=function(){return I.H.useId()},Oe.useImperativeHandle=function(q,K,ae){return I.H.useImperativeHandle(q,K,ae)},Oe.useInsertionEffect=function(q,K){return I.H.useInsertionEffect(q,K)},Oe.useLayoutEffect=function(q,K){return I.H.useLayoutEffect(q,K)},Oe.useMemo=function(q,K){return I.H.useMemo(q,K)},Oe.useOptimistic=function(q,K){return I.H.useOptimistic(q,K)},Oe.useReducer=function(q,K,ae){return I.H.useReducer(q,K,ae)},Oe.useRef=function(q){return I.H.useRef(q)},Oe.useState=function(q){return I.H.useState(q)},Oe.useSyncExternalStore=function(q,K,ae){return I.H.useSyncExternalStore(q,K,ae)},Oe.useTransition=function(){return I.H.useTransition()},Oe.version="19.2.3",Oe}var h1;function kw(){return h1||(h1=1,ov.exports=X3()),ov.exports}var B=kw();const J=tt(B);var sv={exports:{}},iu={},lv={exports:{}},uv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p1;function Q3(){return p1||(p1=1,(function(t){function e(L,W){var ne=L.length;L.push(W);e:for(;0<ne;){var le=ne-1>>>1,de=L[le];if(0<i(de,W))L[le]=W,L[ne]=de,ne=le;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var W=L[0],ne=L.pop();if(ne!==W){L[0]=ne;e:for(var le=0,de=L.length,q=de>>>1;le<q;){var K=2*(le+1)-1,ae=L[K],fe=K+1,ve=L[fe];if(0>i(ae,ne))fe<de&&0>i(ve,ae)?(L[le]=ve,L[fe]=ne,le=fe):(L[le]=ae,L[K]=ne,le=K);else if(fe<de&&0>i(ve,ne))L[le]=ve,L[fe]=ne,le=fe;else break e}}return W}function i(L,W){var ne=L.sortIndex-W.sortIndex;return ne!==0?ne:L.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],f=[],h=1,m=null,v=3,_=!1,x=!1,E=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function P(L){for(var W=n(f);W!==null;){if(W.callback===null)r(f);else if(W.startTime<=L)r(f),W.sortIndex=W.expirationTime,e(c,W);else break;W=n(f)}}function R(L){if(E=!1,P(L),!x)if(n(c)!==null)x=!0,M||(M=!0,F());else{var W=n(f);W!==null&&H(R,W.startTime-L)}}var M=!1,I=-1,k=5,U=-1;function V(){return w?!0:!(t.unstable_now()-U<k)}function $(){if(w=!1,M){var L=t.unstable_now();U=L;var W=!0;try{e:{x=!1,E&&(E=!1,C(I),I=-1),_=!0;var ne=v;try{t:{for(P(L),m=n(c);m!==null&&!(m.expirationTime>L&&V());){var le=m.callback;if(typeof le=="function"){m.callback=null,v=m.priorityLevel;var de=le(m.expirationTime<=L);if(L=t.unstable_now(),typeof de=="function"){m.callback=de,P(L),W=!0;break t}m===n(c)&&r(c),P(L)}else r(c);m=n(c)}if(m!==null)W=!0;else{var q=n(f);q!==null&&H(R,q.startTime-L),W=!1}}break e}finally{m=null,v=ne,_=!1}W=void 0}}finally{W?F():M=!1}}}var F;if(typeof A=="function")F=function(){A($)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Q=z.port2;z.port1.onmessage=$,F=function(){Q.postMessage(null)}}else F=function(){T($,0)};function H(L,W){I=T(function(){L(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(L){switch(v){case 1:case 2:case 3:var W=3;break;default:W=v}var ne=v;v=W;try{return L()}finally{v=ne}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(L,W){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ne=v;v=L;try{return W()}finally{v=ne}},t.unstable_scheduleCallback=function(L,W,ne){var le=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?le+ne:le):ne=le,L){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=ne+de,L={id:h++,callback:W,priorityLevel:L,startTime:ne,expirationTime:de,sortIndex:-1},ne>le?(L.sortIndex=ne,e(f,L),n(c)===null&&L===n(f)&&(E?(C(I),I=-1):E=!0,H(R,ne-le))):(L.sortIndex=de,e(c,L),x||_||(x=!0,M||(M=!0,F()))),L},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(L){var W=v;return function(){var ne=v;v=W;try{return L.apply(this,arguments)}finally{v=ne}}}})(uv)),uv}var m1;function Z3(){return m1||(m1=1,lv.exports=Q3()),lv.exports}var cv={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g1;function eH(){if(g1)return ln;g1=1;var t=kw();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,f,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:c,containerInfo:f,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ln.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(c,f,null,h)},ln.flushSync=function(c){var f=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=f,r.p=h,r.d.f()}},ln.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},ln.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},ln.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,m=u(h,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:_}):h==="script"&&r.d.X(c,{crossOrigin:m,integrity:v,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ln.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},ln.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,m=u(h,f.crossOrigin);r.d.L(c,h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ln.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=u(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},ln.requestFormReset=function(c){r.d.r(c)},ln.unstable_batchedUpdates=function(c,f){return c(f)},ln.useFormState=function(c,f,h){return s.H.useFormState(c,f,h)},ln.useFormStatus=function(){return s.H.useHostTransitionStatus()},ln.version="19.2.3",ln}var v1;function tH(){if(v1)return cv.exports;v1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),cv.exports=eH(),cv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y1;function nH(){if(y1)return iu;y1=1;var t=Z3(),e=kw(),n=tH();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(o.tag===31){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(r(188))}function f(o){var l=o.alternate;if(!l){if(l=a(o),l===null)throw Error(r(188));return l!==o?null:o}for(var d=o,p=l;;){var b=d.return;if(b===null)break;var S=b.alternate;if(S===null){if(p=b.return,p!==null){d=p;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===d)return c(b),o;if(S===p)return c(b),l;S=S.sibling}throw Error(r(188))}if(d.return!==p.return)d=b,p=S;else{for(var O=!1,D=b.child;D;){if(D===d){O=!0,d=b,p=S;break}if(D===p){O=!0,p=b,d=S;break}D=D.sibling}if(!O){for(D=S.child;D;){if(D===d){O=!0,d=S,p=b;break}if(D===p){O=!0,p=S,d=b;break}D=D.sibling}if(!O)throw Error(r(189))}}if(d.alternate!==p)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?o:l}function h(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=h(o),l!==null)return l;o=o.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),A=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function F(o){return o===null||typeof o!="object"?null:(o=$&&o[$]||o["@@iterator"],typeof o=="function"?o:null)}var z=Symbol.for("react.client.reference");function Q(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===z?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case E:return"Fragment";case T:return"Profiler";case w:return"StrictMode";case R:return"Suspense";case M:return"SuspenseList";case U:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case x:return"Portal";case A:return o.displayName||"Context";case C:return(o._context.displayName||"Context")+".Consumer";case P:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case I:return l=o.displayName||null,l!==null?l:Q(o.type)||"Memo";case k:l=o._payload,o=o._init;try{return Q(o(l))}catch{}}return null}var H=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},le=[],de=-1;function q(o){return{current:o}}function K(o){0>de||(o.current=le[de],le[de]=null,de--)}function ae(o,l){de++,le[de]=o.current,o.current=l}var fe=q(null),ve=q(null),Te=q(null),Le=q(null);function Ye(o,l){switch(ae(Te,l),ae(ve,o),ae(fe,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?IC(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=IC(l),o=DC(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}K(fe),ae(fe,o)}function ce(){K(fe),K(ve),K(Te)}function Ae(o){o.memoizedState!==null&&ae(Le,o);var l=fe.current,d=DC(l,o.type);l!==d&&(ae(ve,o),ae(fe,d))}function Re(o){ve.current===o&&(K(fe),K(ve)),Le.current===o&&(K(Le),Zl._currentValue=ne)}var ue,dt;function Ne(o){if(ue===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);ue=l&&l[1]||"",dt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+o+dt}var _t=!1;function St(o,l){if(!o||_t)return"";_t=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(te){var ee=te}Reflect.construct(o,[],se)}else{try{se.call()}catch(te){ee=te}o.call(se.prototype)}}else{try{throw Error()}catch(te){ee=te}(se=o())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=p.DetermineComponentFrameRoot(),O=S[0],D=S[1];if(O&&D){var j=O.split(`
`),Z=D.split(`
`);for(b=p=0;p<j.length&&!j[p].includes("DetermineComponentFrameRoot");)p++;for(;b<Z.length&&!Z[b].includes("DetermineComponentFrameRoot");)b++;if(p===j.length||b===Z.length)for(p=j.length-1,b=Z.length-1;1<=p&&0<=b&&j[p]!==Z[b];)b--;for(;1<=p&&0<=b;p--,b--)if(j[p]!==Z[b]){if(p!==1||b!==1)do if(p--,b--,0>b||j[p]!==Z[b]){var re=`
`+j[p].replace(" at new "," at ");return o.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",o.displayName)),re}while(1<=p&&0<=b);break}}}finally{_t=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?Ne(d):""}function on(o,l){switch(o.tag){case 26:case 27:case 5:return Ne(o.type);case 16:return Ne("Lazy");case 13:return o.child!==l&&l!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return St(o.type,!1);case 11:return St(o.type.render,!1);case 1:return St(o.type,!0);case 31:return Ne("Activity");default:return""}}function pr(o){try{var l="",d=null;do l+=on(o,d),d=o,o=o.return;while(o);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Mr=Object.prototype.hasOwnProperty,Ui=t.unstable_scheduleCallback,mr=t.unstable_cancelCallback,Yr=t.unstable_shouldYield,cl=t.unstable_requestPaint,sn=t.unstable_now,Lc=t.unstable_getCurrentPriorityLevel,fE=t.unstable_ImmediatePriority,dE=t.unstable_UserBlockingPriority,$c=t.unstable_NormalPriority,MB=t.unstable_LowPriority,hE=t.unstable_IdlePriority,NB=t.log,PB=t.unstable_setDisableYieldValue,fl=null,Cn=null;function Li(o){if(typeof NB=="function"&&PB(o),Cn&&typeof Cn.setStrictMode=="function")try{Cn.setStrictMode(fl,o)}catch{}}var Rn=Math.clz32?Math.clz32:kB,IB=Math.log,DB=Math.LN2;function kB(o){return o>>>=0,o===0?32:31-(IB(o)/DB|0)|0}var qc=256,Bc=262144,jc=4194304;function wa(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Hc(o,l,d){var p=o.pendingLanes;if(p===0)return 0;var b=0,S=o.suspendedLanes,O=o.pingedLanes;o=o.warmLanes;var D=p&134217727;return D!==0?(p=D&~S,p!==0?b=wa(p):(O&=D,O!==0?b=wa(O):d||(d=D&~o,d!==0&&(b=wa(d))))):(D=p&~S,D!==0?b=wa(D):O!==0?b=wa(O):d||(d=p&~o,d!==0&&(b=wa(d)))),b===0?0:l!==0&&l!==b&&(l&S)===0&&(S=b&-b,d=l&-l,S>=d||S===32&&(d&4194048)!==0)?l:b}function dl(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function UB(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pE(){var o=jc;return jc<<=1,(jc&62914560)===0&&(jc=4194304),o}function Kp(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function hl(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function LB(o,l,d,p,b,S){var O=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var D=o.entanglements,j=o.expirationTimes,Z=o.hiddenUpdates;for(d=O&~d;0<d;){var re=31-Rn(d),se=1<<re;D[re]=0,j[re]=-1;var ee=Z[re];if(ee!==null)for(Z[re]=null,re=0;re<ee.length;re++){var te=ee[re];te!==null&&(te.lane&=-536870913)}d&=~se}p!==0&&mE(o,p,0),S!==0&&b===0&&o.tag!==0&&(o.suspendedLanes|=S&~(O&~l))}function mE(o,l,d){o.pendingLanes|=l,o.suspendedLanes&=~l;var p=31-Rn(l);o.entangledLanes|=l,o.entanglements[p]=o.entanglements[p]|1073741824|d&261930}function gE(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var p=31-Rn(d),b=1<<p;b&l|o[p]&l&&(o[p]|=l),d&=~b}}function vE(o,l){var d=l&-l;return d=(d&42)!==0?1:Wp(d),(d&(o.suspendedLanes|l))!==0?0:d}function Wp(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Yp(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function yE(){var o=W.p;return o!==0?o:(o=window.event,o===void 0?32:r1(o.type))}function bE(o,l){var d=W.p;try{return W.p=o,l()}finally{W.p=d}}var $i=Math.random().toString(36).slice(2),Yt="__reactFiber$"+$i,vn="__reactProps$"+$i,vo="__reactContainer$"+$i,Jp="__reactEvents$"+$i,$B="__reactListeners$"+$i,qB="__reactHandles$"+$i,_E="__reactResources$"+$i,pl="__reactMarker$"+$i;function Xp(o){delete o[Yt],delete o[vn],delete o[Jp],delete o[$B],delete o[qB]}function yo(o){var l=o[Yt];if(l)return l;for(var d=o.parentNode;d;){if(l=d[vo]||d[Yt]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=jC(o);o!==null;){if(d=o[Yt])return d;o=jC(o)}return l}o=d,d=o.parentNode}return null}function bo(o){if(o=o[Yt]||o[vo]){var l=o.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return o}return null}function ml(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function _o(o){var l=o[_E];return l||(l=o[_E]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Vt(o){o[pl]=!0}var SE=new Set,wE={};function xa(o,l){So(o,l),So(o+"Capture",l)}function So(o,l){for(wE[o]=l,o=0;o<l.length;o++)SE.add(l[o])}var BB=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xE={},EE={};function jB(o){return Mr.call(EE,o)?!0:Mr.call(xE,o)?!1:BB.test(o)?EE[o]=!0:(xE[o]=!0,!1)}function Gc(o,l,d){if(jB(l))if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+d)}}function Vc(o,l,d){if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+d)}}function Jr(o,l,d,p){if(p===null)o.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(l,d,""+p)}}function Hn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function TE(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function HB(o,l,d){var p=Object.getOwnPropertyDescriptor(o.constructor.prototype,l);if(!o.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,S=p.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return b.call(this)},set:function(O){d=""+O,S.call(this,O)}}),Object.defineProperty(o,l,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(O){d=""+O},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Qp(o){if(!o._valueTracker){var l=TE(o)?"checked":"value";o._valueTracker=HB(o,l,""+o[l])}}function AE(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),p="";return o&&(p=TE(o)?o.checked?"true":"false":o.value),o=p,o!==d?(l.setValue(o),!0):!1}function zc(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var GB=/[\n"\\]/g;function Gn(o){return o.replace(GB,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Zp(o,l,d,p,b,S,O,D){o.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?o.type=O:o.removeAttribute("type"),l!=null?O==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+Hn(l)):o.value!==""+Hn(l)&&(o.value=""+Hn(l)):O!=="submit"&&O!=="reset"||o.removeAttribute("value"),l!=null?em(o,O,Hn(l)):d!=null?em(o,O,Hn(d)):p!=null&&o.removeAttribute("value"),b==null&&S!=null&&(o.defaultChecked=!!S),b!=null&&(o.checked=b&&typeof b!="function"&&typeof b!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?o.name=""+Hn(D):o.removeAttribute("name")}function CE(o,l,d,p,b,S,O,D){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(o.type=S),l!=null||d!=null){if(!(S!=="submit"&&S!=="reset"||l!=null)){Qp(o);return}d=d!=null?""+Hn(d):"",l=l!=null?""+Hn(l):d,D||l===o.value||(o.value=l),o.defaultValue=l}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=D?o.checked:!!p,o.defaultChecked=!!p,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(o.name=O),Qp(o)}function em(o,l,d){l==="number"&&zc(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function wo(o,l,d,p){if(o=o.options,l){l={};for(var b=0;b<d.length;b++)l["$"+d[b]]=!0;for(d=0;d<o.length;d++)b=l.hasOwnProperty("$"+o[d].value),o[d].selected!==b&&(o[d].selected=b),b&&p&&(o[d].defaultSelected=!0)}else{for(d=""+Hn(d),l=null,b=0;b<o.length;b++){if(o[b].value===d){o[b].selected=!0,p&&(o[b].defaultSelected=!0);return}l!==null||o[b].disabled||(l=o[b])}l!==null&&(l.selected=!0)}}function RE(o,l,d){if(l!=null&&(l=""+Hn(l),l!==o.value&&(o.value=l),d==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=d!=null?""+Hn(d):""}function OE(o,l,d,p){if(l==null){if(p!=null){if(d!=null)throw Error(r(92));if(H(p)){if(1<p.length)throw Error(r(93));p=p[0]}d=p}d==null&&(d=""),l=d}d=Hn(l),o.defaultValue=d,p=o.textContent,p===d&&p!==""&&p!==null&&(o.value=p),Qp(o)}function xo(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var VB=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ME(o,l,d){var p=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":p?o.setProperty(l,d):typeof d!="number"||d===0||VB.has(l)?l==="float"?o.cssFloat=d:o[l]=(""+d).trim():o[l]=d+"px"}function NE(o,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var b in l)p=l[b],l.hasOwnProperty(b)&&d[b]!==p&&ME(o,b,p)}else for(var S in l)l.hasOwnProperty(S)&&ME(o,S,l[S])}function tm(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zB=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),FB=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fc(o){return FB.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Xr(){}var nm=null;function rm(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Eo=null,To=null;function PE(o){var l=bo(o);if(l&&(o=l.stateNode)){var d=o[vn]||null;e:switch(o=l.stateNode,l.type){case"input":if(Zp(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Gn(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var p=d[l];if(p!==o&&p.form===o.form){var b=p[vn]||null;if(!b)throw Error(r(90));Zp(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<d.length;l++)p=d[l],p.form===o.form&&AE(p)}break e;case"textarea":RE(o,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&wo(o,!!d.multiple,l,!1)}}}var im=!1;function IE(o,l,d){if(im)return o(l,d);im=!0;try{var p=o(l);return p}finally{if(im=!1,(Eo!==null||To!==null)&&(Df(),Eo&&(l=Eo,o=To,To=Eo=null,PE(l),o)))for(l=0;l<o.length;l++)PE(o[l])}}function gl(o,l){var d=o.stateNode;if(d===null)return null;var p=d[vn]||null;if(p===null)return null;d=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var Qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),am=!1;if(Qr)try{var vl={};Object.defineProperty(vl,"passive",{get:function(){am=!0}}),window.addEventListener("test",vl,vl),window.removeEventListener("test",vl,vl)}catch{am=!1}var qi=null,om=null,Kc=null;function DE(){if(Kc)return Kc;var o,l=om,d=l.length,p,b="value"in qi?qi.value:qi.textContent,S=b.length;for(o=0;o<d&&l[o]===b[o];o++);var O=d-o;for(p=1;p<=O&&l[d-p]===b[S-p];p++);return Kc=b.slice(o,1<p?1-p:void 0)}function Wc(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Yc(){return!0}function kE(){return!1}function yn(o){function l(d,p,b,S,O){this._reactName=d,this._targetInst=b,this.type=p,this.nativeEvent=S,this.target=O,this.currentTarget=null;for(var D in o)o.hasOwnProperty(D)&&(d=o[D],this[D]=d?d(S):S[D]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Yc:kE,this.isPropagationStopped=kE,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Yc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Yc)},persist:function(){},isPersistent:Yc}),l}var Ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jc=yn(Ea),yl=m({},Ea,{view:0,detail:0}),KB=yn(yl),sm,lm,bl,Xc=m({},yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cm,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==bl&&(bl&&o.type==="mousemove"?(sm=o.screenX-bl.screenX,lm=o.screenY-bl.screenY):lm=sm=0,bl=o),sm)},movementY:function(o){return"movementY"in o?o.movementY:lm}}),UE=yn(Xc),WB=m({},Xc,{dataTransfer:0}),YB=yn(WB),JB=m({},yl,{relatedTarget:0}),um=yn(JB),XB=m({},Ea,{animationName:0,elapsedTime:0,pseudoElement:0}),QB=yn(XB),ZB=m({},Ea,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),ej=yn(ZB),tj=m({},Ea,{data:0}),LE=yn(tj),nj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ij={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aj(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=ij[o])?!!l[o]:!1}function cm(){return aj}var oj=m({},yl,{key:function(o){if(o.key){var l=nj[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Wc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?rj[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cm,charCode:function(o){return o.type==="keypress"?Wc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Wc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),sj=yn(oj),lj=m({},Xc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$E=yn(lj),uj=m({},yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cm}),cj=yn(uj),fj=m({},Ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),dj=yn(fj),hj=m({},Xc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),pj=yn(hj),mj=m({},Ea,{newState:0,oldState:0}),gj=yn(mj),vj=[9,13,27,32],fm=Qr&&"CompositionEvent"in window,_l=null;Qr&&"documentMode"in document&&(_l=document.documentMode);var yj=Qr&&"TextEvent"in window&&!_l,qE=Qr&&(!fm||_l&&8<_l&&11>=_l),BE=" ",jE=!1;function HE(o,l){switch(o){case"keyup":return vj.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GE(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ao=!1;function bj(o,l){switch(o){case"compositionend":return GE(l);case"keypress":return l.which!==32?null:(jE=!0,BE);case"textInput":return o=l.data,o===BE&&jE?null:o;default:return null}}function _j(o,l){if(Ao)return o==="compositionend"||!fm&&HE(o,l)?(o=DE(),Kc=om=qi=null,Ao=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return qE&&l.locale!=="ko"?null:l.data;default:return null}}var Sj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VE(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!Sj[o.type]:l==="textarea"}function zE(o,l,d,p){Eo?To?To.push(p):To=[p]:Eo=p,l=jf(l,"onChange"),0<l.length&&(d=new Jc("onChange","change",null,d,p),o.push({event:d,listeners:l}))}var Sl=null,wl=null;function wj(o){CC(o,0)}function Qc(o){var l=ml(o);if(AE(l))return o}function FE(o,l){if(o==="change")return l}var KE=!1;if(Qr){var dm;if(Qr){var hm="oninput"in document;if(!hm){var WE=document.createElement("div");WE.setAttribute("oninput","return;"),hm=typeof WE.oninput=="function"}dm=hm}else dm=!1;KE=dm&&(!document.documentMode||9<document.documentMode)}function YE(){Sl&&(Sl.detachEvent("onpropertychange",JE),wl=Sl=null)}function JE(o){if(o.propertyName==="value"&&Qc(wl)){var l=[];zE(l,wl,o,rm(o)),IE(wj,l)}}function xj(o,l,d){o==="focusin"?(YE(),Sl=l,wl=d,Sl.attachEvent("onpropertychange",JE)):o==="focusout"&&YE()}function Ej(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Qc(wl)}function Tj(o,l){if(o==="click")return Qc(l)}function Aj(o,l){if(o==="input"||o==="change")return Qc(l)}function Cj(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var On=typeof Object.is=="function"?Object.is:Cj;function xl(o,l){if(On(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),p=Object.keys(l);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var b=d[p];if(!Mr.call(l,b)||!On(o[b],l[b]))return!1}return!0}function XE(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function QE(o,l){var d=XE(o);o=0;for(var p;d;){if(d.nodeType===3){if(p=o+d.textContent.length,o<=l&&p>=l)return{node:d,offset:l-o};o=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=XE(d)}}function ZE(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?ZE(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function eT(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=zc(o.document);l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=zc(o.document)}return l}function pm(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var Rj=Qr&&"documentMode"in document&&11>=document.documentMode,Co=null,mm=null,El=null,gm=!1;function tT(o,l,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;gm||Co==null||Co!==zc(p)||(p=Co,"selectionStart"in p&&pm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),El&&xl(El,p)||(El=p,p=jf(mm,"onSelect"),0<p.length&&(l=new Jc("onSelect","select",null,l,d),o.push({event:l,listeners:p}),l.target=Co)))}function Ta(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var Ro={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionrun:Ta("Transition","TransitionRun"),transitionstart:Ta("Transition","TransitionStart"),transitioncancel:Ta("Transition","TransitionCancel"),transitionend:Ta("Transition","TransitionEnd")},vm={},nT={};Qr&&(nT=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function Aa(o){if(vm[o])return vm[o];if(!Ro[o])return o;var l=Ro[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in nT)return vm[o]=l[d];return o}var rT=Aa("animationend"),iT=Aa("animationiteration"),aT=Aa("animationstart"),Oj=Aa("transitionrun"),Mj=Aa("transitionstart"),Nj=Aa("transitioncancel"),oT=Aa("transitionend"),sT=new Map,ym="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ym.push("scrollEnd");function gr(o,l){sT.set(o,l),xa(l,[o])}var Zc=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Vn=[],Oo=0,bm=0;function ef(){for(var o=Oo,l=bm=Oo=0;l<o;){var d=Vn[l];Vn[l++]=null;var p=Vn[l];Vn[l++]=null;var b=Vn[l];Vn[l++]=null;var S=Vn[l];if(Vn[l++]=null,p!==null&&b!==null){var O=p.pending;O===null?b.next=b:(b.next=O.next,O.next=b),p.pending=b}S!==0&&lT(d,b,S)}}function tf(o,l,d,p){Vn[Oo++]=o,Vn[Oo++]=l,Vn[Oo++]=d,Vn[Oo++]=p,bm|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function _m(o,l,d,p){return tf(o,l,d,p),nf(o)}function Ca(o,l){return tf(o,null,null,l),nf(o)}function lT(o,l,d){o.lanes|=d;var p=o.alternate;p!==null&&(p.lanes|=d);for(var b=!1,S=o.return;S!==null;)S.childLanes|=d,p=S.alternate,p!==null&&(p.childLanes|=d),S.tag===22&&(o=S.stateNode,o===null||o._visibility&1||(b=!0)),o=S,S=S.return;return o.tag===3?(S=o.stateNode,b&&l!==null&&(b=31-Rn(d),o=S.hiddenUpdates,p=o[b],p===null?o[b]=[l]:p.push(l),l.lane=d|536870912),S):null}function nf(o){if(50<Fl)throw Fl=0,Og=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var Mo={};function Pj(o,l,d,p){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(o,l,d,p){return new Pj(o,l,d,p)}function Sm(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Zr(o,l){var d=o.alternate;return d===null?(d=Mn(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function uT(o,l){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,l=d.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function rf(o,l,d,p,b,S){var O=0;if(p=o,typeof o=="function")Sm(o)&&(O=1);else if(typeof o=="string")O=L3(o,d,fe.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case U:return o=Mn(31,d,l,b),o.elementType=U,o.lanes=S,o;case E:return Ra(d.children,b,S,l);case w:O=8,b|=24;break;case T:return o=Mn(12,d,l,b|2),o.elementType=T,o.lanes=S,o;case R:return o=Mn(13,d,l,b),o.elementType=R,o.lanes=S,o;case M:return o=Mn(19,d,l,b),o.elementType=M,o.lanes=S,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case A:O=10;break e;case C:O=9;break e;case P:O=11;break e;case I:O=14;break e;case k:O=16,p=null;break e}O=29,d=Error(r(130,o===null?"null":typeof o,"")),p=null}return l=Mn(O,d,l,b),l.elementType=o,l.type=p,l.lanes=S,l}function Ra(o,l,d,p){return o=Mn(7,o,p,l),o.lanes=d,o}function wm(o,l,d){return o=Mn(6,o,null,l),o.lanes=d,o}function cT(o){var l=Mn(18,null,null,0);return l.stateNode=o,l}function xm(o,l,d){return l=Mn(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var fT=new WeakMap;function zn(o,l){if(typeof o=="object"&&o!==null){var d=fT.get(o);return d!==void 0?d:(l={value:o,source:l,stack:pr(l)},fT.set(o,l),l)}return{value:o,source:l,stack:pr(l)}}var No=[],Po=0,af=null,Tl=0,Fn=[],Kn=0,Bi=null,Nr=1,Pr="";function ei(o,l){No[Po++]=Tl,No[Po++]=af,af=o,Tl=l}function dT(o,l,d){Fn[Kn++]=Nr,Fn[Kn++]=Pr,Fn[Kn++]=Bi,Bi=o;var p=Nr;o=Pr;var b=32-Rn(p)-1;p&=~(1<<b),d+=1;var S=32-Rn(l)+b;if(30<S){var O=b-b%5;S=(p&(1<<O)-1).toString(32),p>>=O,b-=O,Nr=1<<32-Rn(l)+b|d<<b|p,Pr=S+o}else Nr=1<<S|d<<b|p,Pr=o}function Em(o){o.return!==null&&(ei(o,1),dT(o,1,0))}function Tm(o){for(;o===af;)af=No[--Po],No[Po]=null,Tl=No[--Po],No[Po]=null;for(;o===Bi;)Bi=Fn[--Kn],Fn[Kn]=null,Pr=Fn[--Kn],Fn[Kn]=null,Nr=Fn[--Kn],Fn[Kn]=null}function hT(o,l){Fn[Kn++]=Nr,Fn[Kn++]=Pr,Fn[Kn++]=Bi,Nr=l.id,Pr=l.overflow,Bi=o}var Jt=null,ht=null,Be=!1,ji=null,Wn=!1,Am=Error(r(519));function Hi(o){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Al(zn(l,o)),Am}function pT(o){var l=o.stateNode,d=o.type,p=o.memoizedProps;switch(l[Yt]=o,l[vn]=p,d){case"dialog":Ue("cancel",l),Ue("close",l);break;case"iframe":case"object":case"embed":Ue("load",l);break;case"video":case"audio":for(d=0;d<Wl.length;d++)Ue(Wl[d],l);break;case"source":Ue("error",l);break;case"img":case"image":case"link":Ue("error",l),Ue("load",l);break;case"details":Ue("toggle",l);break;case"input":Ue("invalid",l),CE(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Ue("invalid",l);break;case"textarea":Ue("invalid",l),OE(l,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||p.suppressHydrationWarning===!0||NC(l.textContent,d)?(p.popover!=null&&(Ue("beforetoggle",l),Ue("toggle",l)),p.onScroll!=null&&Ue("scroll",l),p.onScrollEnd!=null&&Ue("scrollend",l),p.onClick!=null&&(l.onclick=Xr),l=!0):l=!1,l||Hi(o,!0)}function mT(o){for(Jt=o.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:Jt=Jt.return}}function Io(o){if(o!==Jt)return!1;if(!Be)return mT(o),Be=!0,!1;var l=o.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||Vg(o.type,o.memoizedProps)),d=!d),d&&ht&&Hi(o),mT(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));ht=BC(o)}else if(l===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));ht=BC(o)}else l===27?(l=ht,na(o.type)?(o=Yg,Yg=null,ht=o):ht=l):ht=Jt?Jn(o.stateNode.nextSibling):null;return!0}function Oa(){ht=Jt=null,Be=!1}function Cm(){var o=ji;return o!==null&&(wn===null?wn=o:wn.push.apply(wn,o),ji=null),o}function Al(o){ji===null?ji=[o]:ji.push(o)}var Rm=q(null),Ma=null,ti=null;function Gi(o,l,d){ae(Rm,l._currentValue),l._currentValue=d}function ni(o){o._currentValue=Rm.current,K(Rm)}function Om(o,l,d){for(;o!==null;){var p=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),o===d)break;o=o.return}}function Mm(o,l,d,p){var b=o.child;for(b!==null&&(b.return=o);b!==null;){var S=b.dependencies;if(S!==null){var O=b.child;S=S.firstContext;e:for(;S!==null;){var D=S;S=b;for(var j=0;j<l.length;j++)if(D.context===l[j]){S.lanes|=d,D=S.alternate,D!==null&&(D.lanes|=d),Om(S.return,d,o),p||(O=null);break e}S=D.next}}else if(b.tag===18){if(O=b.return,O===null)throw Error(r(341));O.lanes|=d,S=O.alternate,S!==null&&(S.lanes|=d),Om(O,d,o),O=null}else O=b.child;if(O!==null)O.return=b;else for(O=b;O!==null;){if(O===o){O=null;break}if(b=O.sibling,b!==null){b.return=O.return,O=b;break}O=O.return}b=O}}function Do(o,l,d,p){o=null;for(var b=l,S=!1;b!==null;){if(!S){if((b.flags&524288)!==0)S=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var O=b.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var D=b.type;On(b.pendingProps.value,O.value)||(o!==null?o.push(D):o=[D])}}else if(b===Le.current){if(O=b.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(o!==null?o.push(Zl):o=[Zl])}b=b.return}o!==null&&Mm(l,o,d,p),l.flags|=262144}function of(o){for(o=o.firstContext;o!==null;){if(!On(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Na(o){Ma=o,ti=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Xt(o){return gT(Ma,o)}function sf(o,l){return Ma===null&&Na(o),gT(o,l)}function gT(o,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},ti===null){if(o===null)throw Error(r(308));ti=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else ti=ti.next=l;return d}var Ij=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(d,p){o.push(p)}};this.abort=function(){l.aborted=!0,o.forEach(function(d){return d()})}},Dj=t.unstable_scheduleCallback,kj=t.unstable_NormalPriority,Pt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nm(){return{controller:new Ij,data:new Map,refCount:0}}function Cl(o){o.refCount--,o.refCount===0&&Dj(kj,function(){o.controller.abort()})}var Rl=null,Pm=0,ko=0,Uo=null;function Uj(o,l){if(Rl===null){var d=Rl=[];Pm=0,ko=kg(),Uo={status:"pending",value:void 0,then:function(p){d.push(p)}}}return Pm++,l.then(vT,vT),l}function vT(){if(--Pm===0&&Rl!==null){Uo!==null&&(Uo.status="fulfilled");var o=Rl;Rl=null,ko=0,Uo=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function Lj(o,l){var d=[],p={status:"pending",value:null,reason:null,then:function(b){d.push(b)}};return o.then(function(){p.status="fulfilled",p.value=l;for(var b=0;b<d.length;b++)(0,d[b])(l)},function(b){for(p.status="rejected",p.reason=b,b=0;b<d.length;b++)(0,d[b])(void 0)}),p}var yT=L.S;L.S=function(o,l){tC=sn(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&Uj(o,l),yT!==null&&yT(o,l)};var Pa=q(null);function Im(){var o=Pa.current;return o!==null?o:ot.pooledCache}function lf(o,l){l===null?ae(Pa,Pa.current):ae(Pa,l.pool)}function bT(){var o=Im();return o===null?null:{parent:Pt._currentValue,pool:o}}var Lo=Error(r(460)),Dm=Error(r(474)),uf=Error(r(542)),cf={then:function(){}};function _T(o){return o=o.status,o==="fulfilled"||o==="rejected"}function ST(o,l,d){switch(d=o[d],d===void 0?o.push(l):d!==l&&(l.then(Xr,Xr),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,xT(o),o;default:if(typeof l.status=="string")l.then(Xr,Xr);else{if(o=ot,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(p){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=p}},function(p){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,xT(o),o}throw Da=l,Lo}}function Ia(o){try{var l=o._init;return l(o._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Da=d,Lo):d}}var Da=null;function wT(){if(Da===null)throw Error(r(459));var o=Da;return Da=null,o}function xT(o){if(o===Lo||o===uf)throw Error(r(483))}var $o=null,Ol=0;function ff(o){var l=Ol;return Ol+=1,$o===null&&($o=[]),ST($o,o,l)}function Ml(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function df(o,l){throw l.$$typeof===v?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function ET(o){function l(Y,G){if(o){var X=Y.deletions;X===null?(Y.deletions=[G],Y.flags|=16):X.push(G)}}function d(Y,G){if(!o)return null;for(;G!==null;)l(Y,G),G=G.sibling;return null}function p(Y){for(var G=new Map;Y!==null;)Y.key!==null?G.set(Y.key,Y):G.set(Y.index,Y),Y=Y.sibling;return G}function b(Y,G){return Y=Zr(Y,G),Y.index=0,Y.sibling=null,Y}function S(Y,G,X){return Y.index=X,o?(X=Y.alternate,X!==null?(X=X.index,X<G?(Y.flags|=67108866,G):X):(Y.flags|=67108866,G)):(Y.flags|=1048576,G)}function O(Y){return o&&Y.alternate===null&&(Y.flags|=67108866),Y}function D(Y,G,X,oe){return G===null||G.tag!==6?(G=wm(X,Y.mode,oe),G.return=Y,G):(G=b(G,X),G.return=Y,G)}function j(Y,G,X,oe){var _e=X.type;return _e===E?re(Y,G,X.props.children,oe,X.key):G!==null&&(G.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===k&&Ia(_e)===G.type)?(G=b(G,X.props),Ml(G,X),G.return=Y,G):(G=rf(X.type,X.key,X.props,null,Y.mode,oe),Ml(G,X),G.return=Y,G)}function Z(Y,G,X,oe){return G===null||G.tag!==4||G.stateNode.containerInfo!==X.containerInfo||G.stateNode.implementation!==X.implementation?(G=xm(X,Y.mode,oe),G.return=Y,G):(G=b(G,X.children||[]),G.return=Y,G)}function re(Y,G,X,oe,_e){return G===null||G.tag!==7?(G=Ra(X,Y.mode,oe,_e),G.return=Y,G):(G=b(G,X),G.return=Y,G)}function se(Y,G,X){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=wm(""+G,Y.mode,X),G.return=Y,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case _:return X=rf(G.type,G.key,G.props,null,Y.mode,X),Ml(X,G),X.return=Y,X;case x:return G=xm(G,Y.mode,X),G.return=Y,G;case k:return G=Ia(G),se(Y,G,X)}if(H(G)||F(G))return G=Ra(G,Y.mode,X,null),G.return=Y,G;if(typeof G.then=="function")return se(Y,ff(G),X);if(G.$$typeof===A)return se(Y,sf(Y,G),X);df(Y,G)}return null}function ee(Y,G,X,oe){var _e=G!==null?G.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return _e!==null?null:D(Y,G,""+X,oe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case _:return X.key===_e?j(Y,G,X,oe):null;case x:return X.key===_e?Z(Y,G,X,oe):null;case k:return X=Ia(X),ee(Y,G,X,oe)}if(H(X)||F(X))return _e!==null?null:re(Y,G,X,oe,null);if(typeof X.then=="function")return ee(Y,G,ff(X),oe);if(X.$$typeof===A)return ee(Y,G,sf(Y,X),oe);df(Y,X)}return null}function te(Y,G,X,oe,_e){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Y=Y.get(X)||null,D(G,Y,""+oe,_e);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case _:return Y=Y.get(oe.key===null?X:oe.key)||null,j(G,Y,oe,_e);case x:return Y=Y.get(oe.key===null?X:oe.key)||null,Z(G,Y,oe,_e);case k:return oe=Ia(oe),te(Y,G,X,oe,_e)}if(H(oe)||F(oe))return Y=Y.get(X)||null,re(G,Y,oe,_e,null);if(typeof oe.then=="function")return te(Y,G,X,ff(oe),_e);if(oe.$$typeof===A)return te(Y,G,X,sf(G,oe),_e);df(G,oe)}return null}function ge(Y,G,X,oe){for(var _e=null,Ge=null,ye=G,Pe=G=0,qe=null;ye!==null&&Pe<X.length;Pe++){ye.index>Pe?(qe=ye,ye=null):qe=ye.sibling;var Ve=ee(Y,ye,X[Pe],oe);if(Ve===null){ye===null&&(ye=qe);break}o&&ye&&Ve.alternate===null&&l(Y,ye),G=S(Ve,G,Pe),Ge===null?_e=Ve:Ge.sibling=Ve,Ge=Ve,ye=qe}if(Pe===X.length)return d(Y,ye),Be&&ei(Y,Pe),_e;if(ye===null){for(;Pe<X.length;Pe++)ye=se(Y,X[Pe],oe),ye!==null&&(G=S(ye,G,Pe),Ge===null?_e=ye:Ge.sibling=ye,Ge=ye);return Be&&ei(Y,Pe),_e}for(ye=p(ye);Pe<X.length;Pe++)qe=te(ye,Y,Pe,X[Pe],oe),qe!==null&&(o&&qe.alternate!==null&&ye.delete(qe.key===null?Pe:qe.key),G=S(qe,G,Pe),Ge===null?_e=qe:Ge.sibling=qe,Ge=qe);return o&&ye.forEach(function(sa){return l(Y,sa)}),Be&&ei(Y,Pe),_e}function Se(Y,G,X,oe){if(X==null)throw Error(r(151));for(var _e=null,Ge=null,ye=G,Pe=G=0,qe=null,Ve=X.next();ye!==null&&!Ve.done;Pe++,Ve=X.next()){ye.index>Pe?(qe=ye,ye=null):qe=ye.sibling;var sa=ee(Y,ye,Ve.value,oe);if(sa===null){ye===null&&(ye=qe);break}o&&ye&&sa.alternate===null&&l(Y,ye),G=S(sa,G,Pe),Ge===null?_e=sa:Ge.sibling=sa,Ge=sa,ye=qe}if(Ve.done)return d(Y,ye),Be&&ei(Y,Pe),_e;if(ye===null){for(;!Ve.done;Pe++,Ve=X.next())Ve=se(Y,Ve.value,oe),Ve!==null&&(G=S(Ve,G,Pe),Ge===null?_e=Ve:Ge.sibling=Ve,Ge=Ve);return Be&&ei(Y,Pe),_e}for(ye=p(ye);!Ve.done;Pe++,Ve=X.next())Ve=te(ye,Y,Pe,Ve.value,oe),Ve!==null&&(o&&Ve.alternate!==null&&ye.delete(Ve.key===null?Pe:Ve.key),G=S(Ve,G,Pe),Ge===null?_e=Ve:Ge.sibling=Ve,Ge=Ve);return o&&ye.forEach(function(W3){return l(Y,W3)}),Be&&ei(Y,Pe),_e}function it(Y,G,X,oe){if(typeof X=="object"&&X!==null&&X.type===E&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case _:e:{for(var _e=X.key;G!==null;){if(G.key===_e){if(_e=X.type,_e===E){if(G.tag===7){d(Y,G.sibling),oe=b(G,X.props.children),oe.return=Y,Y=oe;break e}}else if(G.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===k&&Ia(_e)===G.type){d(Y,G.sibling),oe=b(G,X.props),Ml(oe,X),oe.return=Y,Y=oe;break e}d(Y,G);break}else l(Y,G);G=G.sibling}X.type===E?(oe=Ra(X.props.children,Y.mode,oe,X.key),oe.return=Y,Y=oe):(oe=rf(X.type,X.key,X.props,null,Y.mode,oe),Ml(oe,X),oe.return=Y,Y=oe)}return O(Y);case x:e:{for(_e=X.key;G!==null;){if(G.key===_e)if(G.tag===4&&G.stateNode.containerInfo===X.containerInfo&&G.stateNode.implementation===X.implementation){d(Y,G.sibling),oe=b(G,X.children||[]),oe.return=Y,Y=oe;break e}else{d(Y,G);break}else l(Y,G);G=G.sibling}oe=xm(X,Y.mode,oe),oe.return=Y,Y=oe}return O(Y);case k:return X=Ia(X),it(Y,G,X,oe)}if(H(X))return ge(Y,G,X,oe);if(F(X)){if(_e=F(X),typeof _e!="function")throw Error(r(150));return X=_e.call(X),Se(Y,G,X,oe)}if(typeof X.then=="function")return it(Y,G,ff(X),oe);if(X.$$typeof===A)return it(Y,G,sf(Y,X),oe);df(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,G!==null&&G.tag===6?(d(Y,G.sibling),oe=b(G,X),oe.return=Y,Y=oe):(d(Y,G),oe=wm(X,Y.mode,oe),oe.return=Y,Y=oe),O(Y)):d(Y,G)}return function(Y,G,X,oe){try{Ol=0;var _e=it(Y,G,X,oe);return $o=null,_e}catch(ye){if(ye===Lo||ye===uf)throw ye;var Ge=Mn(29,ye,null,Y.mode);return Ge.lanes=oe,Ge.return=Y,Ge}finally{}}}var ka=ET(!0),TT=ET(!1),Vi=!1;function km(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Um(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function zi(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Fi(o,l,d){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(We&2)!==0){var b=p.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),p.pending=l,l=nf(o),lT(o,null,d),l}return tf(o,p,l,d),nf(o)}function Nl(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var p=l.lanes;p&=o.pendingLanes,d|=p,l.lanes=d,gE(o,d)}}function Lm(o,l){var d=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var b=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var O={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};S===null?b=S=O:S=S.next=O,d=d.next}while(d!==null);S===null?b=S=l:S=S.next=l}else b=S=l;d={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:p.shared,callbacks:p.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}var $m=!1;function Pl(){if($m){var o=Uo;if(o!==null)throw o}}function Il(o,l,d,p){$m=!1;var b=o.updateQueue;Vi=!1;var S=b.firstBaseUpdate,O=b.lastBaseUpdate,D=b.shared.pending;if(D!==null){b.shared.pending=null;var j=D,Z=j.next;j.next=null,O===null?S=Z:O.next=Z,O=j;var re=o.alternate;re!==null&&(re=re.updateQueue,D=re.lastBaseUpdate,D!==O&&(D===null?re.firstBaseUpdate=Z:D.next=Z,re.lastBaseUpdate=j))}if(S!==null){var se=b.baseState;O=0,re=Z=j=null,D=S;do{var ee=D.lane&-536870913,te=ee!==D.lane;if(te?($e&ee)===ee:(p&ee)===ee){ee!==0&&ee===ko&&($m=!0),re!==null&&(re=re.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var ge=o,Se=D;ee=l;var it=d;switch(Se.tag){case 1:if(ge=Se.payload,typeof ge=="function"){se=ge.call(it,se,ee);break e}se=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Se.payload,ee=typeof ge=="function"?ge.call(it,se,ee):ge,ee==null)break e;se=m({},se,ee);break e;case 2:Vi=!0}}ee=D.callback,ee!==null&&(o.flags|=64,te&&(o.flags|=8192),te=b.callbacks,te===null?b.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:D.tag,payload:D.payload,callback:D.callback,next:null},re===null?(Z=re=te,j=se):re=re.next=te,O|=ee;if(D=D.next,D===null){if(D=b.shared.pending,D===null)break;te=D,D=te.next,te.next=null,b.lastBaseUpdate=te,b.shared.pending=null}}while(!0);re===null&&(j=se),b.baseState=j,b.firstBaseUpdate=Z,b.lastBaseUpdate=re,S===null&&(b.shared.lanes=0),Xi|=O,o.lanes=O,o.memoizedState=se}}function AT(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function CT(o,l){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)AT(d[o],l)}var qo=q(null),hf=q(0);function RT(o,l){o=fi,ae(hf,o),ae(qo,l),fi=o|l.baseLanes}function qm(){ae(hf,fi),ae(qo,qo.current)}function Bm(){fi=hf.current,K(qo),K(hf)}var Nn=q(null),Yn=null;function Ki(o){var l=o.alternate;ae(Mt,Mt.current&1),ae(Nn,o),Yn===null&&(l===null||qo.current!==null||l.memoizedState!==null)&&(Yn=o)}function jm(o){ae(Mt,Mt.current),ae(Nn,o),Yn===null&&(Yn=o)}function OT(o){o.tag===22?(ae(Mt,Mt.current),ae(Nn,o),Yn===null&&(Yn=o)):Wi()}function Wi(){ae(Mt,Mt.current),ae(Nn,Nn.current)}function Pn(o){K(Nn),Yn===o&&(Yn=null),K(Mt)}var Mt=q(0);function pf(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Kg(d)||Wg(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ri=0,Me=null,nt=null,It=null,mf=!1,Bo=!1,Ua=!1,gf=0,Dl=0,jo=null,$j=0;function Tt(){throw Error(r(321))}function Hm(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!On(o[d],l[d]))return!1;return!0}function Gm(o,l,d,p,b,S){return ri=S,Me=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,L.H=o===null||o.memoizedState===null?dA:ig,Ua=!1,S=d(p,b),Ua=!1,Bo&&(S=NT(l,d,p,b)),MT(o),S}function MT(o){L.H=Ll;var l=nt!==null&&nt.next!==null;if(ri=0,It=nt=Me=null,mf=!1,Dl=0,jo=null,l)throw Error(r(300));o===null||Dt||(o=o.dependencies,o!==null&&of(o)&&(Dt=!0))}function NT(o,l,d,p){Me=o;var b=0;do{if(Bo&&(jo=null),Dl=0,Bo=!1,25<=b)throw Error(r(301));if(b+=1,It=nt=null,o.updateQueue!=null){var S=o.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}L.H=hA,S=l(d,p)}while(Bo);return S}function qj(){var o=L.H,l=o.useState()[0];return l=typeof l.then=="function"?kl(l):l,o=o.useState()[0],(nt!==null?nt.memoizedState:null)!==o&&(Me.flags|=1024),l}function Vm(){var o=gf!==0;return gf=0,o}function zm(o,l,d){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~d}function Fm(o){if(mf){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}mf=!1}ri=0,It=nt=Me=null,Bo=!1,Dl=gf=0,jo=null}function fn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Me.memoizedState=It=o:It=It.next=o,It}function Nt(){if(nt===null){var o=Me.alternate;o=o!==null?o.memoizedState:null}else o=nt.next;var l=It===null?Me.memoizedState:It.next;if(l!==null)It=l,nt=o;else{if(o===null)throw Me.alternate===null?Error(r(467)):Error(r(310));nt=o,o={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},It===null?Me.memoizedState=It=o:It=It.next=o}return It}function vf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kl(o){var l=Dl;return Dl+=1,jo===null&&(jo=[]),o=ST(jo,o,l),l=Me,(It===null?l.memoizedState:It.next)===null&&(l=l.alternate,L.H=l===null||l.memoizedState===null?dA:ig),o}function yf(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return kl(o);if(o.$$typeof===A)return Xt(o)}throw Error(r(438,String(o)))}function Km(o){var l=null,d=Me.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var p=Me.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=vf(),Me.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(o),p=0;p<o;p++)d[p]=V;return l.index++,d}function ii(o,l){return typeof l=="function"?l(o):l}function bf(o){var l=Nt();return Wm(l,nt,o)}function Wm(o,l,d){var p=o.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=d;var b=o.baseQueue,S=p.pending;if(S!==null){if(b!==null){var O=b.next;b.next=S.next,S.next=O}l.baseQueue=b=S,p.pending=null}if(S=o.baseState,b===null)o.memoizedState=S;else{l=b.next;var D=O=null,j=null,Z=l,re=!1;do{var se=Z.lane&-536870913;if(se!==Z.lane?($e&se)===se:(ri&se)===se){var ee=Z.revertLane;if(ee===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),se===ko&&(re=!0);else if((ri&ee)===ee){Z=Z.next,ee===ko&&(re=!0);continue}else se={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},j===null?(D=j=se,O=S):j=j.next=se,Me.lanes|=ee,Xi|=ee;se=Z.action,Ua&&d(S,se),S=Z.hasEagerState?Z.eagerState:d(S,se)}else ee={lane:se,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},j===null?(D=j=ee,O=S):j=j.next=ee,Me.lanes|=se,Xi|=se;Z=Z.next}while(Z!==null&&Z!==l);if(j===null?O=S:j.next=D,!On(S,o.memoizedState)&&(Dt=!0,re&&(d=Uo,d!==null)))throw d;o.memoizedState=S,o.baseState=O,o.baseQueue=j,p.lastRenderedState=S}return b===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function Ym(o){var l=Nt(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var p=d.dispatch,b=d.pending,S=l.memoizedState;if(b!==null){d.pending=null;var O=b=b.next;do S=o(S,O.action),O=O.next;while(O!==b);On(S,l.memoizedState)||(Dt=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),d.lastRenderedState=S}return[S,p]}function PT(o,l,d){var p=Me,b=Nt(),S=Be;if(S){if(d===void 0)throw Error(r(407));d=d()}else d=l();var O=!On((nt||b).memoizedState,d);if(O&&(b.memoizedState=d,Dt=!0),b=b.queue,Qm(kT.bind(null,p,b,o),[o]),b.getSnapshot!==l||O||It!==null&&It.memoizedState.tag&1){if(p.flags|=2048,Ho(9,{destroy:void 0},DT.bind(null,p,b,d,l),null),ot===null)throw Error(r(349));S||(ri&127)!==0||IT(p,l,d)}return d}function IT(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=Me.updateQueue,l===null?(l=vf(),Me.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function DT(o,l,d,p){l.value=d,l.getSnapshot=p,UT(l)&&LT(o)}function kT(o,l,d){return d(function(){UT(l)&&LT(o)})}function UT(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!On(o,d)}catch{return!0}}function LT(o){var l=Ca(o,2);l!==null&&xn(l,o,2)}function Jm(o){var l=fn();if(typeof o=="function"){var d=o;if(o=d(),Ua){Li(!0);try{d()}finally{Li(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:o},l}function $T(o,l,d,p){return o.baseState=d,Wm(o,nt,typeof p=="function"?p:ii)}function Bj(o,l,d,p,b){if(wf(o))throw Error(r(485));if(o=l.action,o!==null){var S={payload:b,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){S.listeners.push(O)}};L.T!==null?d(!0):S.isTransition=!1,p(S),d=l.pending,d===null?(S.next=l.pending=S,qT(l,S)):(S.next=d.next,l.pending=d.next=S)}}function qT(o,l){var d=l.action,p=l.payload,b=o.state;if(l.isTransition){var S=L.T,O={};L.T=O;try{var D=d(b,p),j=L.S;j!==null&&j(O,D),BT(o,l,D)}catch(Z){Xm(o,l,Z)}finally{S!==null&&O.types!==null&&(S.types=O.types),L.T=S}}else try{S=d(b,p),BT(o,l,S)}catch(Z){Xm(o,l,Z)}}function BT(o,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){jT(o,l,p)},function(p){return Xm(o,l,p)}):jT(o,l,d)}function jT(o,l,d){l.status="fulfilled",l.value=d,HT(l),o.state=d,l=o.pending,l!==null&&(d=l.next,d===l?o.pending=null:(d=d.next,l.next=d,qT(o,d)))}function Xm(o,l,d){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=d,HT(l),l=l.next;while(l!==p)}o.action=null}function HT(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function GT(o,l){return l}function VT(o,l){if(Be){var d=ot.formState;if(d!==null){e:{var p=Me;if(Be){if(ht){t:{for(var b=ht,S=Wn;b.nodeType!==8;){if(!S){b=null;break t}if(b=Jn(b.nextSibling),b===null){b=null;break t}}S=b.data,b=S==="F!"||S==="F"?b:null}if(b){ht=Jn(b.nextSibling),p=b.data==="F!";break e}}Hi(p)}p=!1}p&&(l=d[0])}}return d=fn(),d.memoizedState=d.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:GT,lastRenderedState:l},d.queue=p,d=uA.bind(null,Me,p),p.dispatch=d,p=Jm(!1),S=rg.bind(null,Me,!1,p.queue),p=fn(),b={state:l,dispatch:null,action:o,pending:null},p.queue=b,d=Bj.bind(null,Me,b,S,d),b.dispatch=d,p.memoizedState=o,[l,d,!1]}function zT(o){var l=Nt();return FT(l,nt,o)}function FT(o,l,d){if(l=Wm(o,l,GT)[0],o=bf(ii)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=kl(l)}catch(O){throw O===Lo?uf:O}else p=l;l=Nt();var b=l.queue,S=b.dispatch;return d!==l.memoizedState&&(Me.flags|=2048,Ho(9,{destroy:void 0},jj.bind(null,b,d),null)),[p,S,o]}function jj(o,l){o.action=l}function KT(o){var l=Nt(),d=nt;if(d!==null)return FT(l,d,o);Nt(),l=l.memoizedState,d=Nt();var p=d.queue.dispatch;return d.memoizedState=o,[l,p,!1]}function Ho(o,l,d,p){return o={tag:o,create:d,deps:p,inst:l,next:null},l=Me.updateQueue,l===null&&(l=vf(),Me.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=o.next=o:(p=d.next,d.next=o,o.next=p,l.lastEffect=o),o}function WT(){return Nt().memoizedState}function _f(o,l,d,p){var b=fn();Me.flags|=o,b.memoizedState=Ho(1|l,{destroy:void 0},d,p===void 0?null:p)}function Sf(o,l,d,p){var b=Nt();p=p===void 0?null:p;var S=b.memoizedState.inst;nt!==null&&p!==null&&Hm(p,nt.memoizedState.deps)?b.memoizedState=Ho(l,S,d,p):(Me.flags|=o,b.memoizedState=Ho(1|l,S,d,p))}function YT(o,l){_f(8390656,8,o,l)}function Qm(o,l){Sf(2048,8,o,l)}function Hj(o){Me.flags|=4;var l=Me.updateQueue;if(l===null)l=vf(),Me.updateQueue=l,l.events=[o];else{var d=l.events;d===null?l.events=[o]:d.push(o)}}function JT(o){var l=Nt().memoizedState;return Hj({ref:l,nextImpl:o}),function(){if((We&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function XT(o,l){return Sf(4,2,o,l)}function QT(o,l){return Sf(4,4,o,l)}function ZT(o,l){if(typeof l=="function"){o=o();var d=l(o);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function eA(o,l,d){d=d!=null?d.concat([o]):null,Sf(4,4,ZT.bind(null,l,o),d)}function Zm(){}function tA(o,l){var d=Nt();l=l===void 0?null:l;var p=d.memoizedState;return l!==null&&Hm(l,p[1])?p[0]:(d.memoizedState=[o,l],o)}function nA(o,l){var d=Nt();l=l===void 0?null:l;var p=d.memoizedState;if(l!==null&&Hm(l,p[1]))return p[0];if(p=o(),Ua){Li(!0);try{o()}finally{Li(!1)}}return d.memoizedState=[p,l],p}function eg(o,l,d){return d===void 0||(ri&1073741824)!==0&&($e&261930)===0?o.memoizedState=l:(o.memoizedState=d,o=rC(),Me.lanes|=o,Xi|=o,d)}function rA(o,l,d,p){return On(d,l)?d:qo.current!==null?(o=eg(o,d,p),On(o,l)||(Dt=!0),o):(ri&42)===0||(ri&1073741824)!==0&&($e&261930)===0?(Dt=!0,o.memoizedState=d):(o=rC(),Me.lanes|=o,Xi|=o,l)}function iA(o,l,d,p,b){var S=W.p;W.p=S!==0&&8>S?S:8;var O=L.T,D={};L.T=D,rg(o,!1,l,d);try{var j=b(),Z=L.S;if(Z!==null&&Z(D,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var re=Lj(j,p);Ul(o,l,re,kn(o))}else Ul(o,l,p,kn(o))}catch(se){Ul(o,l,{then:function(){},status:"rejected",reason:se},kn())}finally{W.p=S,O!==null&&D.types!==null&&(O.types=D.types),L.T=O}}function Gj(){}function tg(o,l,d,p){if(o.tag!==5)throw Error(r(476));var b=aA(o).queue;iA(o,b,l,ne,d===null?Gj:function(){return oA(o),d(p)})}function aA(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:ne},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:d},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function oA(o){var l=aA(o);l.next===null&&(l=o.alternate.memoizedState),Ul(o,l.next.queue,{},kn())}function ng(){return Xt(Zl)}function sA(){return Nt().memoizedState}function lA(){return Nt().memoizedState}function Vj(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var d=kn();o=zi(d);var p=Fi(l,o,d);p!==null&&(xn(p,l,d),Nl(p,l,d)),l={cache:Nm()},o.payload=l;return}l=l.return}}function zj(o,l,d){var p=kn();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},wf(o)?cA(l,d):(d=_m(o,l,d,p),d!==null&&(xn(d,o,p),fA(d,l,p)))}function uA(o,l,d){var p=kn();Ul(o,l,d,p)}function Ul(o,l,d,p){var b={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(wf(o))cA(l,b);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var O=l.lastRenderedState,D=S(O,d);if(b.hasEagerState=!0,b.eagerState=D,On(D,O))return tf(o,l,b,0),ot===null&&ef(),!1}catch{}finally{}if(d=_m(o,l,b,p),d!==null)return xn(d,o,p),fA(d,l,p),!0}return!1}function rg(o,l,d,p){if(p={lane:2,revertLane:kg(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},wf(o)){if(l)throw Error(r(479))}else l=_m(o,d,p,2),l!==null&&xn(l,o,2)}function wf(o){var l=o.alternate;return o===Me||l!==null&&l===Me}function cA(o,l){Bo=mf=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function fA(o,l,d){if((d&4194048)!==0){var p=l.lanes;p&=o.pendingLanes,d|=p,l.lanes=d,gE(o,d)}}var Ll={readContext:Xt,use:yf,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};Ll.useEffectEvent=Tt;var dA={readContext:Xt,use:yf,useCallback:function(o,l){return fn().memoizedState=[o,l===void 0?null:l],o},useContext:Xt,useEffect:YT,useImperativeHandle:function(o,l,d){d=d!=null?d.concat([o]):null,_f(4194308,4,ZT.bind(null,l,o),d)},useLayoutEffect:function(o,l){return _f(4194308,4,o,l)},useInsertionEffect:function(o,l){_f(4,2,o,l)},useMemo:function(o,l){var d=fn();l=l===void 0?null:l;var p=o();if(Ua){Li(!0);try{o()}finally{Li(!1)}}return d.memoizedState=[p,l],p},useReducer:function(o,l,d){var p=fn();if(d!==void 0){var b=d(l);if(Ua){Li(!0);try{d(l)}finally{Li(!1)}}}else b=l;return p.memoizedState=p.baseState=b,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:b},p.queue=o,o=o.dispatch=zj.bind(null,Me,o),[p.memoizedState,o]},useRef:function(o){var l=fn();return o={current:o},l.memoizedState=o},useState:function(o){o=Jm(o);var l=o.queue,d=uA.bind(null,Me,l);return l.dispatch=d,[o.memoizedState,d]},useDebugValue:Zm,useDeferredValue:function(o,l){var d=fn();return eg(d,o,l)},useTransition:function(){var o=Jm(!1);return o=iA.bind(null,Me,o.queue,!0,!1),fn().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,d){var p=Me,b=fn();if(Be){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),ot===null)throw Error(r(349));($e&127)!==0||IT(p,l,d)}b.memoizedState=d;var S={value:d,getSnapshot:l};return b.queue=S,YT(kT.bind(null,p,S,o),[o]),p.flags|=2048,Ho(9,{destroy:void 0},DT.bind(null,p,S,d,l),null),d},useId:function(){var o=fn(),l=ot.identifierPrefix;if(Be){var d=Pr,p=Nr;d=(p&~(1<<32-Rn(p)-1)).toString(32)+d,l="_"+l+"R_"+d,d=gf++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=$j++,l="_"+l+"r_"+d.toString(32)+"_";return o.memoizedState=l},useHostTransitionStatus:ng,useFormState:VT,useActionState:VT,useOptimistic:function(o){var l=fn();l.memoizedState=l.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=rg.bind(null,Me,!0,d),d.dispatch=l,[o,l]},useMemoCache:Km,useCacheRefresh:function(){return fn().memoizedState=Vj.bind(null,Me)},useEffectEvent:function(o){var l=fn(),d={impl:o};return l.memoizedState=d,function(){if((We&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},ig={readContext:Xt,use:yf,useCallback:tA,useContext:Xt,useEffect:Qm,useImperativeHandle:eA,useInsertionEffect:XT,useLayoutEffect:QT,useMemo:nA,useReducer:bf,useRef:WT,useState:function(){return bf(ii)},useDebugValue:Zm,useDeferredValue:function(o,l){var d=Nt();return rA(d,nt.memoizedState,o,l)},useTransition:function(){var o=bf(ii)[0],l=Nt().memoizedState;return[typeof o=="boolean"?o:kl(o),l]},useSyncExternalStore:PT,useId:sA,useHostTransitionStatus:ng,useFormState:zT,useActionState:zT,useOptimistic:function(o,l){var d=Nt();return $T(d,nt,o,l)},useMemoCache:Km,useCacheRefresh:lA};ig.useEffectEvent=JT;var hA={readContext:Xt,use:yf,useCallback:tA,useContext:Xt,useEffect:Qm,useImperativeHandle:eA,useInsertionEffect:XT,useLayoutEffect:QT,useMemo:nA,useReducer:Ym,useRef:WT,useState:function(){return Ym(ii)},useDebugValue:Zm,useDeferredValue:function(o,l){var d=Nt();return nt===null?eg(d,o,l):rA(d,nt.memoizedState,o,l)},useTransition:function(){var o=Ym(ii)[0],l=Nt().memoizedState;return[typeof o=="boolean"?o:kl(o),l]},useSyncExternalStore:PT,useId:sA,useHostTransitionStatus:ng,useFormState:KT,useActionState:KT,useOptimistic:function(o,l){var d=Nt();return nt!==null?$T(d,nt,o,l):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:Km,useCacheRefresh:lA};hA.useEffectEvent=JT;function ag(o,l,d,p){l=o.memoizedState,d=d(p,l),d=d==null?l:m({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var og={enqueueSetState:function(o,l,d){o=o._reactInternals;var p=kn(),b=zi(p);b.payload=l,d!=null&&(b.callback=d),l=Fi(o,b,p),l!==null&&(xn(l,o,p),Nl(l,o,p))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var p=kn(),b=zi(p);b.tag=1,b.payload=l,d!=null&&(b.callback=d),l=Fi(o,b,p),l!==null&&(xn(l,o,p),Nl(l,o,p))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=kn(),p=zi(d);p.tag=2,l!=null&&(p.callback=l),l=Fi(o,p,d),l!==null&&(xn(l,o,d),Nl(l,o,d))}};function pA(o,l,d,p,b,S,O){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,S,O):l.prototype&&l.prototype.isPureReactComponent?!xl(d,p)||!xl(b,S):!0}function mA(o,l,d,p){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,p),l.state!==o&&og.enqueueReplaceState(l,l.state,null)}function La(o,l){var d=l;if("ref"in l){d={};for(var p in l)p!=="ref"&&(d[p]=l[p])}if(o=o.defaultProps){d===l&&(d=m({},d));for(var b in o)d[b]===void 0&&(d[b]=o[b])}return d}function gA(o){Zc(o)}function vA(o){console.error(o)}function yA(o){Zc(o)}function xf(o,l){try{var d=o.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function bA(o,l,d){try{var p=o.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function sg(o,l,d){return d=zi(d),d.tag=3,d.payload={element:null},d.callback=function(){xf(o,l)},d}function _A(o){return o=zi(o),o.tag=3,o}function SA(o,l,d,p){var b=d.type.getDerivedStateFromError;if(typeof b=="function"){var S=p.value;o.payload=function(){return b(S)},o.callback=function(){bA(l,d,p)}}var O=d.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(o.callback=function(){bA(l,d,p),typeof b!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var D=p.stack;this.componentDidCatch(p.value,{componentStack:D!==null?D:""})})}function Fj(o,l,d,p,b){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=d.alternate,l!==null&&Do(l,d,b,!0),d=Nn.current,d!==null){switch(d.tag){case 31:case 13:return Yn===null?kf():d.alternate===null&&At===0&&(At=3),d.flags&=-257,d.flags|=65536,d.lanes=b,p===cf?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([p]):l.add(p),Pg(o,p,b)),!1;case 22:return d.flags|=65536,p===cf?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([p]):d.add(p)),Pg(o,p,b)),!1}throw Error(r(435,d.tag))}return Pg(o,p,b),kf(),!1}if(Be)return l=Nn.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,p!==Am&&(o=Error(r(422),{cause:p}),Al(zn(o,d)))):(p!==Am&&(l=Error(r(423),{cause:p}),Al(zn(l,d))),o=o.current.alternate,o.flags|=65536,b&=-b,o.lanes|=b,p=zn(p,d),b=sg(o.stateNode,p,b),Lm(o,b),At!==4&&(At=2)),!1;var S=Error(r(520),{cause:p});if(S=zn(S,d),zl===null?zl=[S]:zl.push(S),At!==4&&(At=2),l===null)return!0;p=zn(p,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,o=b&-b,d.lanes|=o,o=sg(d.stateNode,p,o),Lm(d,o),!1;case 1:if(l=d.type,S=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Qi===null||!Qi.has(S))))return d.flags|=65536,b&=-b,d.lanes|=b,b=_A(b),SA(b,o,d,p),Lm(d,b),!1}d=d.return}while(d!==null);return!1}var lg=Error(r(461)),Dt=!1;function Qt(o,l,d,p){l.child=o===null?TT(l,null,d,p):ka(l,o.child,d,p)}function wA(o,l,d,p,b){d=d.render;var S=l.ref;if("ref"in p){var O={};for(var D in p)D!=="ref"&&(O[D]=p[D])}else O=p;return Na(l),p=Gm(o,l,d,O,S,b),D=Vm(),o!==null&&!Dt?(zm(o,l,b),ai(o,l,b)):(Be&&D&&Em(l),l.flags|=1,Qt(o,l,p,b),l.child)}function xA(o,l,d,p,b){if(o===null){var S=d.type;return typeof S=="function"&&!Sm(S)&&S.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=S,EA(o,l,S,p,b)):(o=rf(d.type,null,p,l,l.mode,b),o.ref=l.ref,o.return=l,l.child=o)}if(S=o.child,!gg(o,b)){var O=S.memoizedProps;if(d=d.compare,d=d!==null?d:xl,d(O,p)&&o.ref===l.ref)return ai(o,l,b)}return l.flags|=1,o=Zr(S,p),o.ref=l.ref,o.return=l,l.child=o}function EA(o,l,d,p,b){if(o!==null){var S=o.memoizedProps;if(xl(S,p)&&o.ref===l.ref)if(Dt=!1,l.pendingProps=p=S,gg(o,b))(o.flags&131072)!==0&&(Dt=!0);else return l.lanes=o.lanes,ai(o,l,b)}return ug(o,l,d,p,b)}function TA(o,l,d,p){var b=p.children,S=o!==null?o.memoizedState:null;if(o===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((l.flags&128)!==0){if(S=S!==null?S.baseLanes|d:d,o!==null){for(p=l.child=o.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~S}else p=0,l.child=null;return AA(o,l,S,d,p)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&lf(l,S!==null?S.cachePool:null),S!==null?RT(l,S):qm(),OT(l);else return p=l.lanes=536870912,AA(o,l,S!==null?S.baseLanes|d:d,d,p)}else S!==null?(lf(l,S.cachePool),RT(l,S),Wi(),l.memoizedState=null):(o!==null&&lf(l,null),qm(),Wi());return Qt(o,l,b,d),l.child}function $l(o,l){return o!==null&&o.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function AA(o,l,d,p,b){var S=Im();return S=S===null?null:{parent:Pt._currentValue,pool:S},l.memoizedState={baseLanes:d,cachePool:S},o!==null&&lf(l,null),qm(),OT(l),o!==null&&Do(o,l,p,!0),l.childLanes=b,null}function Ef(o,l){return l=Af({mode:l.mode,children:l.children},o.mode),l.ref=o.ref,o.child=l,l.return=o,l}function CA(o,l,d){return ka(l,o.child,null,d),o=Ef(l,l.pendingProps),o.flags|=2,Pn(l),l.memoizedState=null,o}function Kj(o,l,d){var p=l.pendingProps,b=(l.flags&128)!==0;if(l.flags&=-129,o===null){if(Be){if(p.mode==="hidden")return o=Ef(l,p),l.lanes=536870912,$l(null,o);if(jm(l),(o=ht)?(o=qC(o,Wn),o=o!==null&&o.data==="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Bi!==null?{id:Nr,overflow:Pr}:null,retryLane:536870912,hydrationErrors:null},d=cT(o),d.return=l,l.child=d,Jt=l,ht=null)):o=null,o===null)throw Hi(l);return l.lanes=536870912,null}return Ef(l,p)}var S=o.memoizedState;if(S!==null){var O=S.dehydrated;if(jm(l),b)if(l.flags&256)l.flags&=-257,l=CA(o,l,d);else if(l.memoizedState!==null)l.child=o.child,l.flags|=128,l=null;else throw Error(r(558));else if(Dt||Do(o,l,d,!1),b=(d&o.childLanes)!==0,Dt||b){if(p=ot,p!==null&&(O=vE(p,d),O!==0&&O!==S.retryLane))throw S.retryLane=O,Ca(o,O),xn(p,o,O),lg;kf(),l=CA(o,l,d)}else o=S.treeContext,ht=Jn(O.nextSibling),Jt=l,Be=!0,ji=null,Wn=!1,o!==null&&hT(l,o),l=Ef(l,p),l.flags|=4096;return l}return o=Zr(o.child,{mode:p.mode,children:p.children}),o.ref=l.ref,l.child=o,o.return=l,o}function Tf(o,l){var d=l.ref;if(d===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(o===null||o.ref!==d)&&(l.flags|=4194816)}}function ug(o,l,d,p,b){return Na(l),d=Gm(o,l,d,p,void 0,b),p=Vm(),o!==null&&!Dt?(zm(o,l,b),ai(o,l,b)):(Be&&p&&Em(l),l.flags|=1,Qt(o,l,d,b),l.child)}function RA(o,l,d,p,b,S){return Na(l),l.updateQueue=null,d=NT(l,p,d,b),MT(o),p=Vm(),o!==null&&!Dt?(zm(o,l,S),ai(o,l,S)):(Be&&p&&Em(l),l.flags|=1,Qt(o,l,d,S),l.child)}function OA(o,l,d,p,b){if(Na(l),l.stateNode===null){var S=Mo,O=d.contextType;typeof O=="object"&&O!==null&&(S=Xt(O)),S=new d(p,S),l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=og,l.stateNode=S,S._reactInternals=l,S=l.stateNode,S.props=p,S.state=l.memoizedState,S.refs={},km(l),O=d.contextType,S.context=typeof O=="object"&&O!==null?Xt(O):Mo,S.state=l.memoizedState,O=d.getDerivedStateFromProps,typeof O=="function"&&(ag(l,d,O,p),S.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(O=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),O!==S.state&&og.enqueueReplaceState(S,S.state,null),Il(l,p,S,b),Pl(),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(o===null){S=l.stateNode;var D=l.memoizedProps,j=La(d,D);S.props=j;var Z=S.context,re=d.contextType;O=Mo,typeof re=="object"&&re!==null&&(O=Xt(re));var se=d.getDerivedStateFromProps;re=typeof se=="function"||typeof S.getSnapshotBeforeUpdate=="function",D=l.pendingProps!==D,re||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D||Z!==O)&&mA(l,S,p,O),Vi=!1;var ee=l.memoizedState;S.state=ee,Il(l,p,S,b),Pl(),Z=l.memoizedState,D||ee!==Z||Vi?(typeof se=="function"&&(ag(l,d,se,p),Z=l.memoizedState),(j=Vi||pA(l,d,j,p,ee,Z,O))?(re||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(l.flags|=4194308)):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=Z),S.props=p,S.state=Z,S.context=O,p=j):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{S=l.stateNode,Um(o,l),O=l.memoizedProps,re=La(d,O),S.props=re,se=l.pendingProps,ee=S.context,Z=d.contextType,j=Mo,typeof Z=="object"&&Z!==null&&(j=Xt(Z)),D=d.getDerivedStateFromProps,(Z=typeof D=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==se||ee!==j)&&mA(l,S,p,j),Vi=!1,ee=l.memoizedState,S.state=ee,Il(l,p,S,b),Pl();var te=l.memoizedState;O!==se||ee!==te||Vi||o!==null&&o.dependencies!==null&&of(o.dependencies)?(typeof D=="function"&&(ag(l,d,D,p),te=l.memoizedState),(re=Vi||pA(l,d,re,p,ee,te,j)||o!==null&&o.dependencies!==null&&of(o.dependencies))?(Z||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,te,j),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,te,j)),typeof S.componentDidUpdate=="function"&&(l.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof S.componentDidUpdate!="function"||O===o.memoizedProps&&ee===o.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&ee===o.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=te),S.props=p,S.state=te,S.context=j,p=re):(typeof S.componentDidUpdate!="function"||O===o.memoizedProps&&ee===o.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&ee===o.memoizedState||(l.flags|=1024),p=!1)}return S=p,Tf(o,l),p=(l.flags&128)!==0,S||p?(S=l.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:S.render(),l.flags|=1,o!==null&&p?(l.child=ka(l,o.child,null,b),l.child=ka(l,null,d,b)):Qt(o,l,d,b),l.memoizedState=S.state,o=l.child):o=ai(o,l,b),o}function MA(o,l,d,p){return Oa(),l.flags|=256,Qt(o,l,d,p),l.child}var cg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fg(o){return{baseLanes:o,cachePool:bT()}}function dg(o,l,d){return o=o!==null?o.childLanes&~d:0,l&&(o|=Dn),o}function NA(o,l,d){var p=l.pendingProps,b=!1,S=(l.flags&128)!==0,O;if((O=S)||(O=o!==null&&o.memoizedState===null?!1:(Mt.current&2)!==0),O&&(b=!0,l.flags&=-129),O=(l.flags&32)!==0,l.flags&=-33,o===null){if(Be){if(b?Ki(l):Wi(),(o=ht)?(o=qC(o,Wn),o=o!==null&&o.data!=="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Bi!==null?{id:Nr,overflow:Pr}:null,retryLane:536870912,hydrationErrors:null},d=cT(o),d.return=l,l.child=d,Jt=l,ht=null)):o=null,o===null)throw Hi(l);return Wg(o)?l.lanes=32:l.lanes=536870912,null}var D=p.children;return p=p.fallback,b?(Wi(),b=l.mode,D=Af({mode:"hidden",children:D},b),p=Ra(p,b,d,null),D.return=l,p.return=l,D.sibling=p,l.child=D,p=l.child,p.memoizedState=fg(d),p.childLanes=dg(o,O,d),l.memoizedState=cg,$l(null,p)):(Ki(l),hg(l,D))}var j=o.memoizedState;if(j!==null&&(D=j.dehydrated,D!==null)){if(S)l.flags&256?(Ki(l),l.flags&=-257,l=pg(o,l,d)):l.memoizedState!==null?(Wi(),l.child=o.child,l.flags|=128,l=null):(Wi(),D=p.fallback,b=l.mode,p=Af({mode:"visible",children:p.children},b),D=Ra(D,b,d,null),D.flags|=2,p.return=l,D.return=l,p.sibling=D,l.child=p,ka(l,o.child,null,d),p=l.child,p.memoizedState=fg(d),p.childLanes=dg(o,O,d),l.memoizedState=cg,l=$l(null,p));else if(Ki(l),Wg(D)){if(O=D.nextSibling&&D.nextSibling.dataset,O)var Z=O.dgst;O=Z,p=Error(r(419)),p.stack="",p.digest=O,Al({value:p,source:null,stack:null}),l=pg(o,l,d)}else if(Dt||Do(o,l,d,!1),O=(d&o.childLanes)!==0,Dt||O){if(O=ot,O!==null&&(p=vE(O,d),p!==0&&p!==j.retryLane))throw j.retryLane=p,Ca(o,p),xn(O,o,p),lg;Kg(D)||kf(),l=pg(o,l,d)}else Kg(D)?(l.flags|=192,l.child=o.child,l=null):(o=j.treeContext,ht=Jn(D.nextSibling),Jt=l,Be=!0,ji=null,Wn=!1,o!==null&&hT(l,o),l=hg(l,p.children),l.flags|=4096);return l}return b?(Wi(),D=p.fallback,b=l.mode,j=o.child,Z=j.sibling,p=Zr(j,{mode:"hidden",children:p.children}),p.subtreeFlags=j.subtreeFlags&65011712,Z!==null?D=Zr(Z,D):(D=Ra(D,b,d,null),D.flags|=2),D.return=l,p.return=l,p.sibling=D,l.child=p,$l(null,p),p=l.child,D=o.child.memoizedState,D===null?D=fg(d):(b=D.cachePool,b!==null?(j=Pt._currentValue,b=b.parent!==j?{parent:j,pool:j}:b):b=bT(),D={baseLanes:D.baseLanes|d,cachePool:b}),p.memoizedState=D,p.childLanes=dg(o,O,d),l.memoizedState=cg,$l(o.child,p)):(Ki(l),d=o.child,o=d.sibling,d=Zr(d,{mode:"visible",children:p.children}),d.return=l,d.sibling=null,o!==null&&(O=l.deletions,O===null?(l.deletions=[o],l.flags|=16):O.push(o)),l.child=d,l.memoizedState=null,d)}function hg(o,l){return l=Af({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function Af(o,l){return o=Mn(22,o,null,l),o.lanes=0,o}function pg(o,l,d){return ka(l,o.child,null,d),o=hg(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function PA(o,l,d){o.lanes|=l;var p=o.alternate;p!==null&&(p.lanes|=l),Om(o.return,l,d)}function mg(o,l,d,p,b,S){var O=o.memoizedState;O===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:b,treeForkCount:S}:(O.isBackwards=l,O.rendering=null,O.renderingStartTime=0,O.last=p,O.tail=d,O.tailMode=b,O.treeForkCount=S)}function IA(o,l,d){var p=l.pendingProps,b=p.revealOrder,S=p.tail;p=p.children;var O=Mt.current,D=(O&2)!==0;if(D?(O=O&1|2,l.flags|=128):O&=1,ae(Mt,O),Qt(o,l,p,d),p=Be?Tl:0,!D&&o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&PA(o,d,l);else if(o.tag===19)PA(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(b){case"forwards":for(d=l.child,b=null;d!==null;)o=d.alternate,o!==null&&pf(o)===null&&(b=d),d=d.sibling;d=b,d===null?(b=l.child,l.child=null):(b=d.sibling,d.sibling=null),mg(l,!1,b,d,S,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,b=l.child,l.child=null;b!==null;){if(o=b.alternate,o!==null&&pf(o)===null){l.child=b;break}o=b.sibling,b.sibling=d,d=b,b=o}mg(l,!0,d,null,S,p);break;case"together":mg(l,!1,null,null,void 0,p);break;default:l.memoizedState=null}return l.child}function ai(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),Xi|=l.lanes,(d&l.childLanes)===0)if(o!==null){if(Do(o,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,d=Zr(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=Zr(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function gg(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&of(o)))}function Wj(o,l,d){switch(l.tag){case 3:Ye(l,l.stateNode.containerInfo),Gi(l,Pt,o.memoizedState.cache),Oa();break;case 27:case 5:Ae(l);break;case 4:Ye(l,l.stateNode.containerInfo);break;case 10:Gi(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,jm(l),null;break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(Ki(l),l.flags|=128,null):(d&l.child.childLanes)!==0?NA(o,l,d):(Ki(l),o=ai(o,l,d),o!==null?o.sibling:null);Ki(l);break;case 19:var b=(o.flags&128)!==0;if(p=(d&l.childLanes)!==0,p||(Do(o,l,d,!1),p=(d&l.childLanes)!==0),b){if(p)return IA(o,l,d);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ae(Mt,Mt.current),p)break;return null;case 22:return l.lanes=0,TA(o,l,d,l.pendingProps);case 24:Gi(l,Pt,o.memoizedState.cache)}return ai(o,l,d)}function DA(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps)Dt=!0;else{if(!gg(o,d)&&(l.flags&128)===0)return Dt=!1,Wj(o,l,d);Dt=(o.flags&131072)!==0}else Dt=!1,Be&&(l.flags&1048576)!==0&&dT(l,Tl,l.index);switch(l.lanes=0,l.tag){case 16:e:{var p=l.pendingProps;if(o=Ia(l.elementType),l.type=o,typeof o=="function")Sm(o)?(p=La(o,p),l.tag=1,l=OA(null,l,o,p,d)):(l.tag=0,l=ug(null,l,o,p,d));else{if(o!=null){var b=o.$$typeof;if(b===P){l.tag=11,l=wA(null,l,o,p,d);break e}else if(b===I){l.tag=14,l=xA(null,l,o,p,d);break e}}throw l=Q(o)||o,Error(r(306,l,""))}}return l;case 0:return ug(o,l,l.type,l.pendingProps,d);case 1:return p=l.type,b=La(p,l.pendingProps),OA(o,l,p,b,d);case 3:e:{if(Ye(l,l.stateNode.containerInfo),o===null)throw Error(r(387));p=l.pendingProps;var S=l.memoizedState;b=S.element,Um(o,l),Il(l,p,null,d);var O=l.memoizedState;if(p=O.cache,Gi(l,Pt,p),p!==S.cache&&Mm(l,[Pt],d,!0),Pl(),p=O.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:O.cache},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){l=MA(o,l,p,d);break e}else if(p!==b){b=zn(Error(r(424)),l),Al(b),l=MA(o,l,p,d);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(ht=Jn(o.firstChild),Jt=l,Be=!0,ji=null,Wn=!0,d=TT(l,null,p,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Oa(),p===b){l=ai(o,l,d);break e}Qt(o,l,p,d)}l=l.child}return l;case 26:return Tf(o,l),o===null?(d=zC(l.type,null,l.pendingProps,null))?l.memoizedState=d:Be||(d=l.type,o=l.pendingProps,p=Hf(Te.current).createElement(d),p[Yt]=l,p[vn]=o,Zt(p,d,o),Vt(p),l.stateNode=p):l.memoizedState=zC(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return Ae(l),o===null&&Be&&(p=l.stateNode=HC(l.type,l.pendingProps,Te.current),Jt=l,Wn=!0,b=ht,na(l.type)?(Yg=b,ht=Jn(p.firstChild)):ht=b),Qt(o,l,l.pendingProps.children,d),Tf(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&Be&&((b=p=ht)&&(p=E3(p,l.type,l.pendingProps,Wn),p!==null?(l.stateNode=p,Jt=l,ht=Jn(p.firstChild),Wn=!1,b=!0):b=!1),b||Hi(l)),Ae(l),b=l.type,S=l.pendingProps,O=o!==null?o.memoizedProps:null,p=S.children,Vg(b,S)?p=null:O!==null&&Vg(b,O)&&(l.flags|=32),l.memoizedState!==null&&(b=Gm(o,l,qj,null,null,d),Zl._currentValue=b),Tf(o,l),Qt(o,l,p,d),l.child;case 6:return o===null&&Be&&((o=d=ht)&&(d=T3(d,l.pendingProps,Wn),d!==null?(l.stateNode=d,Jt=l,ht=null,o=!0):o=!1),o||Hi(l)),null;case 13:return NA(o,l,d);case 4:return Ye(l,l.stateNode.containerInfo),p=l.pendingProps,o===null?l.child=ka(l,null,p,d):Qt(o,l,p,d),l.child;case 11:return wA(o,l,l.type,l.pendingProps,d);case 7:return Qt(o,l,l.pendingProps,d),l.child;case 8:return Qt(o,l,l.pendingProps.children,d),l.child;case 12:return Qt(o,l,l.pendingProps.children,d),l.child;case 10:return p=l.pendingProps,Gi(l,l.type,p.value),Qt(o,l,p.children,d),l.child;case 9:return b=l.type._context,p=l.pendingProps.children,Na(l),b=Xt(b),p=p(b),l.flags|=1,Qt(o,l,p,d),l.child;case 14:return xA(o,l,l.type,l.pendingProps,d);case 15:return EA(o,l,l.type,l.pendingProps,d);case 19:return IA(o,l,d);case 31:return Kj(o,l,d);case 22:return TA(o,l,d,l.pendingProps);case 24:return Na(l),p=Xt(Pt),o===null?(b=Im(),b===null&&(b=ot,S=Nm(),b.pooledCache=S,S.refCount++,S!==null&&(b.pooledCacheLanes|=d),b=S),l.memoizedState={parent:p,cache:b},km(l),Gi(l,Pt,b)):((o.lanes&d)!==0&&(Um(o,l),Il(l,null,null,d),Pl()),b=o.memoizedState,S=l.memoizedState,b.parent!==p?(b={parent:p,cache:p},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),Gi(l,Pt,p)):(p=S.cache,Gi(l,Pt,p),p!==b.cache&&Mm(l,[Pt],d,!0))),Qt(o,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function oi(o){o.flags|=4}function vg(o,l,d,p,b){if((l=(o.mode&32)!==0)&&(l=!1),l){if(o.flags|=16777216,(b&335544128)===b)if(o.stateNode.complete)o.flags|=8192;else if(sC())o.flags|=8192;else throw Da=cf,Dm}else o.flags&=-16777217}function kA(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!JC(l))if(sC())o.flags|=8192;else throw Da=cf,Dm}function Cf(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?pE():536870912,o.lanes|=l,Fo|=l)}function ql(o,l){if(!Be)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function pt(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,p=0;if(l)for(var b=o.child;b!==null;)d|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)d|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=p,o.childLanes=d,l}function Yj(o,l,d){var p=l.pendingProps;switch(Tm(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(l),null;case 1:return pt(l),null;case 3:return d=l.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),ni(Pt),ce(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(Io(l)?oi(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Cm())),pt(l),null;case 26:var b=l.type,S=l.memoizedState;return o===null?(oi(l),S!==null?(pt(l),kA(l,S)):(pt(l),vg(l,b,null,p,d))):S?S!==o.memoizedState?(oi(l),pt(l),kA(l,S)):(pt(l),l.flags&=-16777217):(o=o.memoizedProps,o!==p&&oi(l),pt(l),vg(l,b,o,p,d)),null;case 27:if(Re(l),d=Te.current,b=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==p&&oi(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return pt(l),null}o=fe.current,Io(l)?pT(l):(o=HC(b,p,d),l.stateNode=o,oi(l))}return pt(l),null;case 5:if(Re(l),b=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==p&&oi(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return pt(l),null}if(S=fe.current,Io(l))pT(l);else{var O=Hf(Te.current);switch(S){case 1:S=O.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:S=O.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":S=O.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":S=O.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":S=O.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof p.is=="string"?O.createElement("select",{is:p.is}):O.createElement("select"),p.multiple?S.multiple=!0:p.size&&(S.size=p.size);break;default:S=typeof p.is=="string"?O.createElement(b,{is:p.is}):O.createElement(b)}}S[Yt]=l,S[vn]=p;e:for(O=l.child;O!==null;){if(O.tag===5||O.tag===6)S.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===l)break e;for(;O.sibling===null;){if(O.return===null||O.return===l)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}l.stateNode=S;e:switch(Zt(S,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&oi(l)}}return pt(l),vg(l,l.type,o===null?null:o.memoizedProps,l.pendingProps,d),null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==p&&oi(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(r(166));if(o=Te.current,Io(l)){if(o=l.stateNode,d=l.memoizedProps,p=null,b=Jt,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}o[Yt]=l,o=!!(o.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||NC(o.nodeValue,d)),o||Hi(l,!0)}else o=Hf(o).createTextNode(p),o[Yt]=l,l.stateNode=o}return pt(l),null;case 31:if(d=l.memoizedState,o===null||o.memoizedState!==null){if(p=Io(l),d!==null){if(o===null){if(!p)throw Error(r(318));if(o=l.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[Yt]=l}else Oa(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;pt(l),o=!1}else d=Cm(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=d),o=!0;if(!o)return l.flags&256?(Pn(l),l):(Pn(l),null);if((l.flags&128)!==0)throw Error(r(558))}return pt(l),null;case 13:if(p=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(b=Io(l),p!==null&&p.dehydrated!==null){if(o===null){if(!b)throw Error(r(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[Yt]=l}else Oa(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;pt(l),b=!1}else b=Cm(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(Pn(l),l):(Pn(l),null)}return Pn(l),(l.flags&128)!==0?(l.lanes=d,l):(d=p!==null,o=o!==null&&o.memoizedState!==null,d&&(p=l.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),S=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),S!==b&&(p.flags|=2048)),d!==o&&d&&(l.child.flags|=8192),Cf(l,l.updateQueue),pt(l),null);case 4:return ce(),o===null&&qg(l.stateNode.containerInfo),pt(l),null;case 10:return ni(l.type),pt(l),null;case 19:if(K(Mt),p=l.memoizedState,p===null)return pt(l),null;if(b=(l.flags&128)!==0,S=p.rendering,S===null)if(b)ql(p,!1);else{if(At!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(S=pf(o),S!==null){for(l.flags|=128,ql(p,!1),o=S.updateQueue,l.updateQueue=o,Cf(l,o),l.subtreeFlags=0,o=d,d=l.child;d!==null;)uT(d,o),d=d.sibling;return ae(Mt,Mt.current&1|2),Be&&ei(l,p.treeForkCount),l.child}o=o.sibling}p.tail!==null&&sn()>Pf&&(l.flags|=128,b=!0,ql(p,!1),l.lanes=4194304)}else{if(!b)if(o=pf(S),o!==null){if(l.flags|=128,b=!0,o=o.updateQueue,l.updateQueue=o,Cf(l,o),ql(p,!0),p.tail===null&&p.tailMode==="hidden"&&!S.alternate&&!Be)return pt(l),null}else 2*sn()-p.renderingStartTime>Pf&&d!==536870912&&(l.flags|=128,b=!0,ql(p,!1),l.lanes=4194304);p.isBackwards?(S.sibling=l.child,l.child=S):(o=p.last,o!==null?o.sibling=S:l.child=S,p.last=S)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=sn(),o.sibling=null,d=Mt.current,ae(Mt,b?d&1|2:d&1),Be&&ei(l,p.treeForkCount),o):(pt(l),null);case 22:case 23:return Pn(l),Bm(),p=l.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(d&536870912)!==0&&(l.flags&128)===0&&(pt(l),l.subtreeFlags&6&&(l.flags|=8192)):pt(l),d=l.updateQueue,d!==null&&Cf(l,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048),o!==null&&K(Pa),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),ni(Pt),pt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function Jj(o,l){switch(Tm(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return ni(Pt),ce(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return Re(l),null;case 31:if(l.memoizedState!==null){if(Pn(l),l.alternate===null)throw Error(r(340));Oa()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 13:if(Pn(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Oa()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return K(Mt),null;case 4:return ce(),null;case 10:return ni(l.type),null;case 22:case 23:return Pn(l),Bm(),o!==null&&K(Pa),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return ni(Pt),null;case 25:return null;default:return null}}function UA(o,l){switch(Tm(l),l.tag){case 3:ni(Pt),ce();break;case 26:case 27:case 5:Re(l);break;case 4:ce();break;case 31:l.memoizedState!==null&&Pn(l);break;case 13:Pn(l);break;case 19:K(Mt);break;case 10:ni(l.type);break;case 22:case 23:Pn(l),Bm(),o!==null&&K(Pa);break;case 24:ni(Pt)}}function Bl(o,l){try{var d=l.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var b=p.next;d=b;do{if((d.tag&o)===o){p=void 0;var S=d.create,O=d.inst;p=S(),O.destroy=p}d=d.next}while(d!==b)}}catch(D){et(l,l.return,D)}}function Yi(o,l,d){try{var p=l.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var S=b.next;p=S;do{if((p.tag&o)===o){var O=p.inst,D=O.destroy;if(D!==void 0){O.destroy=void 0,b=l;var j=d,Z=D;try{Z()}catch(re){et(b,j,re)}}}p=p.next}while(p!==S)}}catch(re){et(l,l.return,re)}}function LA(o){var l=o.updateQueue;if(l!==null){var d=o.stateNode;try{CT(l,d)}catch(p){et(o,o.return,p)}}}function $A(o,l,d){d.props=La(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(p){et(o,l,p)}}function jl(o,l){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof d=="function"?o.refCleanup=d(p):d.current=p}}catch(b){et(o,l,b)}}function Ir(o,l){var d=o.ref,p=o.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(b){et(o,l,b)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(b){et(o,l,b)}else d.current=null}function qA(o){var l=o.type,d=o.memoizedProps,p=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(b){et(o,o.return,b)}}function yg(o,l,d){try{var p=o.stateNode;y3(p,o.type,d,l),p[vn]=l}catch(b){et(o,o.return,b)}}function BA(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&na(o.type)||o.tag===4}function bg(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||BA(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&na(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function _g(o,l,d){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(o),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Xr));else if(p!==4&&(p===27&&na(o.type)&&(d=o.stateNode,l=null),o=o.child,o!==null))for(_g(o,l,d),o=o.sibling;o!==null;)_g(o,l,d),o=o.sibling}function Rf(o,l,d){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(p!==4&&(p===27&&na(o.type)&&(d=o.stateNode),o=o.child,o!==null))for(Rf(o,l,d),o=o.sibling;o!==null;)Rf(o,l,d),o=o.sibling}function jA(o){var l=o.stateNode,d=o.memoizedProps;try{for(var p=o.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);Zt(l,p,d),l[Yt]=o,l[vn]=d}catch(S){et(o,o.return,S)}}var si=!1,kt=!1,Sg=!1,HA=typeof WeakSet=="function"?WeakSet:Set,zt=null;function Xj(o,l){if(o=o.containerInfo,Hg=Yf,o=eT(o),pm(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var b=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var O=0,D=-1,j=-1,Z=0,re=0,se=o,ee=null;t:for(;;){for(var te;se!==d||b!==0&&se.nodeType!==3||(D=O+b),se!==S||p!==0&&se.nodeType!==3||(j=O+p),se.nodeType===3&&(O+=se.nodeValue.length),(te=se.firstChild)!==null;)ee=se,se=te;for(;;){if(se===o)break t;if(ee===d&&++Z===b&&(D=O),ee===S&&++re===p&&(j=O),(te=se.nextSibling)!==null)break;se=ee,ee=se.parentNode}se=te}d=D===-1||j===-1?null:{start:D,end:j}}else d=null}d=d||{start:0,end:0}}else d=null;for(Gg={focusedElem:o,selectionRange:d},Yf=!1,zt=l;zt!==null;)if(l=zt,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,zt=o;else for(;zt!==null;){switch(l=zt,S=l.alternate,o=l.flags,l.tag){case 0:if((o&4)!==0&&(o=l.updateQueue,o=o!==null?o.events:null,o!==null))for(d=0;d<o.length;d++)b=o[d],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&S!==null){o=void 0,d=l,b=S.memoizedProps,S=S.memoizedState,p=d.stateNode;try{var ge=La(d.type,b);o=p.getSnapshotBeforeUpdate(ge,S),p.__reactInternalSnapshotBeforeUpdate=o}catch(Se){et(d,d.return,Se)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,d=o.nodeType,d===9)Fg(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Fg(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,zt=o;break}zt=l.return}}function GA(o,l,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:ui(o,d),p&4&&Bl(5,d);break;case 1:if(ui(o,d),p&4)if(o=d.stateNode,l===null)try{o.componentDidMount()}catch(O){et(d,d.return,O)}else{var b=La(d.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(b,l,o.__reactInternalSnapshotBeforeUpdate)}catch(O){et(d,d.return,O)}}p&64&&LA(d),p&512&&jl(d,d.return);break;case 3:if(ui(o,d),p&64&&(o=d.updateQueue,o!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{CT(o,l)}catch(O){et(d,d.return,O)}}break;case 27:l===null&&p&4&&jA(d);case 26:case 5:ui(o,d),l===null&&p&4&&qA(d),p&512&&jl(d,d.return);break;case 12:ui(o,d);break;case 31:ui(o,d),p&4&&FA(o,d);break;case 13:ui(o,d),p&4&&KA(o,d),p&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=o3.bind(null,d),A3(o,d))));break;case 22:if(p=d.memoizedState!==null||si,!p){l=l!==null&&l.memoizedState!==null||kt,b=si;var S=kt;si=p,(kt=l)&&!S?ci(o,d,(d.subtreeFlags&8772)!==0):ui(o,d),si=b,kt=S}break;case 30:break;default:ui(o,d)}}function VA(o){var l=o.alternate;l!==null&&(o.alternate=null,VA(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&Xp(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var gt=null,bn=!1;function li(o,l,d){for(d=d.child;d!==null;)zA(o,l,d),d=d.sibling}function zA(o,l,d){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(fl,d)}catch{}switch(d.tag){case 26:kt||Ir(d,l),li(o,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:kt||Ir(d,l);var p=gt,b=bn;na(d.type)&&(gt=d.stateNode,bn=!1),li(o,l,d),Jl(d.stateNode),gt=p,bn=b;break;case 5:kt||Ir(d,l);case 6:if(p=gt,b=bn,gt=null,li(o,l,d),gt=p,bn=b,gt!==null)if(bn)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(d.stateNode)}catch(S){et(d,l,S)}else try{gt.removeChild(d.stateNode)}catch(S){et(d,l,S)}break;case 18:gt!==null&&(bn?(o=gt,LC(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),es(o)):LC(gt,d.stateNode));break;case 4:p=gt,b=bn,gt=d.stateNode.containerInfo,bn=!0,li(o,l,d),gt=p,bn=b;break;case 0:case 11:case 14:case 15:Yi(2,d,l),kt||Yi(4,d,l),li(o,l,d);break;case 1:kt||(Ir(d,l),p=d.stateNode,typeof p.componentWillUnmount=="function"&&$A(d,l,p)),li(o,l,d);break;case 21:li(o,l,d);break;case 22:kt=(p=kt)||d.memoizedState!==null,li(o,l,d),kt=p;break;default:li(o,l,d)}}function FA(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{es(o)}catch(d){et(l,l.return,d)}}}function KA(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{es(o)}catch(d){et(l,l.return,d)}}function Qj(o){switch(o.tag){case 31:case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new HA),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new HA),l;default:throw Error(r(435,o.tag))}}function Of(o,l){var d=Qj(o);l.forEach(function(p){if(!d.has(p)){d.add(p);var b=s3.bind(null,o,p);p.then(b,b)}})}function _n(o,l){var d=l.deletions;if(d!==null)for(var p=0;p<d.length;p++){var b=d[p],S=o,O=l,D=O;e:for(;D!==null;){switch(D.tag){case 27:if(na(D.type)){gt=D.stateNode,bn=!1;break e}break;case 5:gt=D.stateNode,bn=!1;break e;case 3:case 4:gt=D.stateNode.containerInfo,bn=!0;break e}D=D.return}if(gt===null)throw Error(r(160));zA(S,O,b),gt=null,bn=!1,S=b.alternate,S!==null&&(S.return=null),b.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)WA(l,o),l=l.sibling}var vr=null;function WA(o,l){var d=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:_n(l,o),Sn(o),p&4&&(Yi(3,o,o.return),Bl(3,o),Yi(5,o,o.return));break;case 1:_n(l,o),Sn(o),p&512&&(kt||d===null||Ir(d,d.return)),p&64&&si&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var b=vr;if(_n(l,o),Sn(o),p&512&&(kt||d===null||Ir(d,d.return)),p&4){var S=d!==null?d.memoizedState:null;if(p=o.memoizedState,d===null)if(p===null)if(o.stateNode===null){e:{p=o.type,d=o.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":S=b.getElementsByTagName("title")[0],(!S||S[pl]||S[Yt]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=b.createElement(p),b.head.insertBefore(S,b.querySelector("head > title"))),Zt(S,p,d),S[Yt]=o,Vt(S),p=S;break e;case"link":var O=WC("link","href",b).get(p+(d.href||""));if(O){for(var D=0;D<O.length;D++)if(S=O[D],S.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&S.getAttribute("rel")===(d.rel==null?null:d.rel)&&S.getAttribute("title")===(d.title==null?null:d.title)&&S.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){O.splice(D,1);break t}}S=b.createElement(p),Zt(S,p,d),b.head.appendChild(S);break;case"meta":if(O=WC("meta","content",b).get(p+(d.content||""))){for(D=0;D<O.length;D++)if(S=O[D],S.getAttribute("content")===(d.content==null?null:""+d.content)&&S.getAttribute("name")===(d.name==null?null:d.name)&&S.getAttribute("property")===(d.property==null?null:d.property)&&S.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&S.getAttribute("charset")===(d.charSet==null?null:d.charSet)){O.splice(D,1);break t}}S=b.createElement(p),Zt(S,p,d),b.head.appendChild(S);break;default:throw Error(r(468,p))}S[Yt]=o,Vt(S),p=S}o.stateNode=p}else YC(b,o.type,o.stateNode);else o.stateNode=KC(b,p,o.memoizedProps);else S!==p?(S===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):S.count--,p===null?YC(b,o.type,o.stateNode):KC(b,p,o.memoizedProps)):p===null&&o.stateNode!==null&&yg(o,o.memoizedProps,d.memoizedProps)}break;case 27:_n(l,o),Sn(o),p&512&&(kt||d===null||Ir(d,d.return)),d!==null&&p&4&&yg(o,o.memoizedProps,d.memoizedProps);break;case 5:if(_n(l,o),Sn(o),p&512&&(kt||d===null||Ir(d,d.return)),o.flags&32){b=o.stateNode;try{xo(b,"")}catch(ge){et(o,o.return,ge)}}p&4&&o.stateNode!=null&&(b=o.memoizedProps,yg(o,b,d!==null?d.memoizedProps:b)),p&1024&&(Sg=!0);break;case 6:if(_n(l,o),Sn(o),p&4){if(o.stateNode===null)throw Error(r(162));p=o.memoizedProps,d=o.stateNode;try{d.nodeValue=p}catch(ge){et(o,o.return,ge)}}break;case 3:if(zf=null,b=vr,vr=Gf(l.containerInfo),_n(l,o),vr=b,Sn(o),p&4&&d!==null&&d.memoizedState.isDehydrated)try{es(l.containerInfo)}catch(ge){et(o,o.return,ge)}Sg&&(Sg=!1,YA(o));break;case 4:p=vr,vr=Gf(o.stateNode.containerInfo),_n(l,o),Sn(o),vr=p;break;case 12:_n(l,o),Sn(o);break;case 31:_n(l,o),Sn(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Of(o,p)));break;case 13:_n(l,o),Sn(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Nf=sn()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Of(o,p)));break;case 22:b=o.memoizedState!==null;var j=d!==null&&d.memoizedState!==null,Z=si,re=kt;if(si=Z||b,kt=re||j,_n(l,o),kt=re,si=Z,Sn(o),p&8192)e:for(l=o.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(d===null||j||si||kt||$a(o)),d=null,l=o;;){if(l.tag===5||l.tag===26){if(d===null){j=d=l;try{if(S=j.stateNode,b)O=S.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{D=j.stateNode;var se=j.memoizedProps.style,ee=se!=null&&se.hasOwnProperty("display")?se.display:null;D.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(ge){et(j,j.return,ge)}}}else if(l.tag===6){if(d===null){j=l;try{j.stateNode.nodeValue=b?"":j.memoizedProps}catch(ge){et(j,j.return,ge)}}}else if(l.tag===18){if(d===null){j=l;try{var te=j.stateNode;b?$C(te,!0):$C(j.stateNode,!1)}catch(ge){et(j,j.return,ge)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=o.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,Of(o,d))));break;case 19:_n(l,o),Sn(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Of(o,p)));break;case 30:break;case 21:break;default:_n(l,o),Sn(o)}}function Sn(o){var l=o.flags;if(l&2){try{for(var d,p=o.return;p!==null;){if(BA(p)){d=p;break}p=p.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var b=d.stateNode,S=bg(o);Rf(o,S,b);break;case 5:var O=d.stateNode;d.flags&32&&(xo(O,""),d.flags&=-33);var D=bg(o);Rf(o,D,O);break;case 3:case 4:var j=d.stateNode.containerInfo,Z=bg(o);_g(o,Z,j);break;default:throw Error(r(161))}}catch(re){et(o,o.return,re)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function YA(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;YA(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function ui(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)GA(o,l.alternate,l),l=l.sibling}function $a(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:Yi(4,l,l.return),$a(l);break;case 1:Ir(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&$A(l,l.return,d),$a(l);break;case 27:Jl(l.stateNode);case 26:case 5:Ir(l,l.return),$a(l);break;case 22:l.memoizedState===null&&$a(l);break;case 30:$a(l);break;default:$a(l)}o=o.sibling}}function ci(o,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,b=o,S=l,O=S.flags;switch(S.tag){case 0:case 11:case 15:ci(b,S,d),Bl(4,S);break;case 1:if(ci(b,S,d),p=S,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(Z){et(p,p.return,Z)}if(p=S,b=p.updateQueue,b!==null){var D=p.stateNode;try{var j=b.shared.hiddenCallbacks;if(j!==null)for(b.shared.hiddenCallbacks=null,b=0;b<j.length;b++)AT(j[b],D)}catch(Z){et(p,p.return,Z)}}d&&O&64&&LA(S),jl(S,S.return);break;case 27:jA(S);case 26:case 5:ci(b,S,d),d&&p===null&&O&4&&qA(S),jl(S,S.return);break;case 12:ci(b,S,d);break;case 31:ci(b,S,d),d&&O&4&&FA(b,S);break;case 13:ci(b,S,d),d&&O&4&&KA(b,S);break;case 22:S.memoizedState===null&&ci(b,S,d),jl(S,S.return);break;case 30:break;default:ci(b,S,d)}l=l.sibling}}function wg(o,l){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&Cl(d))}function xg(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Cl(o))}function yr(o,l,d,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)JA(o,l,d,p),l=l.sibling}function JA(o,l,d,p){var b=l.flags;switch(l.tag){case 0:case 11:case 15:yr(o,l,d,p),b&2048&&Bl(9,l);break;case 1:yr(o,l,d,p);break;case 3:yr(o,l,d,p),b&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Cl(o)));break;case 12:if(b&2048){yr(o,l,d,p),o=l.stateNode;try{var S=l.memoizedProps,O=S.id,D=S.onPostCommit;typeof D=="function"&&D(O,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(j){et(l,l.return,j)}}else yr(o,l,d,p);break;case 31:yr(o,l,d,p);break;case 13:yr(o,l,d,p);break;case 23:break;case 22:S=l.stateNode,O=l.alternate,l.memoizedState!==null?S._visibility&2?yr(o,l,d,p):Hl(o,l):S._visibility&2?yr(o,l,d,p):(S._visibility|=2,Go(o,l,d,p,(l.subtreeFlags&10256)!==0||!1)),b&2048&&wg(O,l);break;case 24:yr(o,l,d,p),b&2048&&xg(l.alternate,l);break;default:yr(o,l,d,p)}}function Go(o,l,d,p,b){for(b=b&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var S=o,O=l,D=d,j=p,Z=O.flags;switch(O.tag){case 0:case 11:case 15:Go(S,O,D,j,b),Bl(8,O);break;case 23:break;case 22:var re=O.stateNode;O.memoizedState!==null?re._visibility&2?Go(S,O,D,j,b):Hl(S,O):(re._visibility|=2,Go(S,O,D,j,b)),b&&Z&2048&&wg(O.alternate,O);break;case 24:Go(S,O,D,j,b),b&&Z&2048&&xg(O.alternate,O);break;default:Go(S,O,D,j,b)}l=l.sibling}}function Hl(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=o,p=l,b=p.flags;switch(p.tag){case 22:Hl(d,p),b&2048&&wg(p.alternate,p);break;case 24:Hl(d,p),b&2048&&xg(p.alternate,p);break;default:Hl(d,p)}l=l.sibling}}var Gl=8192;function Vo(o,l,d){if(o.subtreeFlags&Gl)for(o=o.child;o!==null;)XA(o,l,d),o=o.sibling}function XA(o,l,d){switch(o.tag){case 26:Vo(o,l,d),o.flags&Gl&&o.memoizedState!==null&&$3(d,vr,o.memoizedState,o.memoizedProps);break;case 5:Vo(o,l,d);break;case 3:case 4:var p=vr;vr=Gf(o.stateNode.containerInfo),Vo(o,l,d),vr=p;break;case 22:o.memoizedState===null&&(p=o.alternate,p!==null&&p.memoizedState!==null?(p=Gl,Gl=16777216,Vo(o,l,d),Gl=p):Vo(o,l,d));break;default:Vo(o,l,d)}}function QA(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function Vl(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];zt=p,eC(p,o)}QA(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)ZA(o),o=o.sibling}function ZA(o){switch(o.tag){case 0:case 11:case 15:Vl(o),o.flags&2048&&Yi(9,o,o.return);break;case 3:Vl(o);break;case 12:Vl(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,Mf(o)):Vl(o);break;default:Vl(o)}}function Mf(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];zt=p,eC(p,o)}QA(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:Yi(8,l,l.return),Mf(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,Mf(l));break;default:Mf(l)}o=o.sibling}}function eC(o,l){for(;zt!==null;){var d=zt;switch(d.tag){case 0:case 11:case 15:Yi(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Cl(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,zt=p;else e:for(d=o;zt!==null;){p=zt;var b=p.sibling,S=p.return;if(VA(p),p===d){zt=null;break e}if(b!==null){b.return=S,zt=b;break e}zt=S}}}var Zj={getCacheForType:function(o){var l=Xt(Pt),d=l.data.get(o);return d===void 0&&(d=o(),l.data.set(o,d)),d},cacheSignal:function(){return Xt(Pt).controller.signal}},e3=typeof WeakMap=="function"?WeakMap:Map,We=0,ot=null,ke=null,$e=0,Ze=0,In=null,Ji=!1,zo=!1,Eg=!1,fi=0,At=0,Xi=0,qa=0,Tg=0,Dn=0,Fo=0,zl=null,wn=null,Ag=!1,Nf=0,tC=0,Pf=1/0,If=null,Qi=null,qt=0,Zi=null,Ko=null,di=0,Cg=0,Rg=null,nC=null,Fl=0,Og=null;function kn(){return(We&2)!==0&&$e!==0?$e&-$e:L.T!==null?kg():yE()}function rC(){if(Dn===0)if(($e&536870912)===0||Be){var o=Bc;Bc<<=1,(Bc&3932160)===0&&(Bc=262144),Dn=o}else Dn=536870912;return o=Nn.current,o!==null&&(o.flags|=32),Dn}function xn(o,l,d){(o===ot&&(Ze===2||Ze===9)||o.cancelPendingCommit!==null)&&(Wo(o,0),ea(o,$e,Dn,!1)),hl(o,d),((We&2)===0||o!==ot)&&(o===ot&&((We&2)===0&&(qa|=d),At===4&&ea(o,$e,Dn,!1)),Dr(o))}function iC(o,l,d){if((We&6)!==0)throw Error(r(327));var p=!d&&(l&127)===0&&(l&o.expiredLanes)===0||dl(o,l),b=p?r3(o,l):Ng(o,l,!0),S=p;do{if(b===0){zo&&!p&&ea(o,l,0,!1);break}else{if(d=o.current.alternate,S&&!t3(d)){b=Ng(o,l,!1),S=!1;continue}if(b===2){if(S=l,o.errorRecoveryDisabledLanes&S)var O=0;else O=o.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){l=O;e:{var D=o;b=zl;var j=D.current.memoizedState.isDehydrated;if(j&&(Wo(D,O).flags|=256),O=Ng(D,O,!1),O!==2){if(Eg&&!j){D.errorRecoveryDisabledLanes|=S,qa|=S,b=4;break e}S=wn,wn=b,S!==null&&(wn===null?wn=S:wn.push.apply(wn,S))}b=O}if(S=!1,b!==2)continue}}if(b===1){Wo(o,0),ea(o,l,0,!0);break}e:{switch(p=o,S=b,S){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:ea(p,l,Dn,!Ji);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(b=Nf+300-sn(),10<b)){if(ea(p,l,Dn,!Ji),Hc(p,0,!0)!==0)break e;di=l,p.timeoutHandle=kC(aC.bind(null,p,d,wn,If,Ag,l,Dn,qa,Fo,Ji,S,"Throttled",-0,0),b);break e}aC(p,d,wn,If,Ag,l,Dn,qa,Fo,Ji,S,null,-0,0)}}break}while(!0);Dr(o)}function aC(o,l,d,p,b,S,O,D,j,Z,re,se,ee,te){if(o.timeoutHandle=-1,se=l.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xr},XA(l,S,se);var ge=(S&62914560)===S?Nf-sn():(S&4194048)===S?tC-sn():0;if(ge=q3(se,ge),ge!==null){di=S,o.cancelPendingCommit=ge(hC.bind(null,o,l,S,d,p,b,O,D,j,re,se,null,ee,te)),ea(o,S,O,!Z);return}}hC(o,l,S,d,p,b,O,D,j)}function t3(o){for(var l=o;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var b=d[p],S=b.getSnapshot;b=b.value;try{if(!On(S(),b))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ea(o,l,d,p){l&=~Tg,l&=~qa,o.suspendedLanes|=l,o.pingedLanes&=~l,p&&(o.warmLanes|=l),p=o.expirationTimes;for(var b=l;0<b;){var S=31-Rn(b),O=1<<S;p[S]=-1,b&=~O}d!==0&&mE(o,d,l)}function Df(){return(We&6)===0?(Kl(0),!1):!0}function Mg(){if(ke!==null){if(Ze===0)var o=ke.return;else o=ke,ti=Ma=null,Fm(o),$o=null,Ol=0,o=ke;for(;o!==null;)UA(o.alternate,o),o=o.return;ke=null}}function Wo(o,l){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,S3(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),di=0,Mg(),ot=o,ke=d=Zr(o.current,null),$e=l,Ze=0,In=null,Ji=!1,zo=dl(o,l),Eg=!1,Fo=Dn=Tg=qa=Xi=At=0,wn=zl=null,Ag=!1,(l&8)!==0&&(l|=l&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=l;0<p;){var b=31-Rn(p),S=1<<b;l|=o[b],p&=~S}return fi=l,ef(),d}function oC(o,l){Me=null,L.H=Ll,l===Lo||l===uf?(l=wT(),Ze=3):l===Dm?(l=wT(),Ze=4):Ze=l===lg?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,In=l,ke===null&&(At=1,xf(o,zn(l,o.current)))}function sC(){var o=Nn.current;return o===null?!0:($e&4194048)===$e?Yn===null:($e&62914560)===$e||($e&536870912)!==0?o===Yn:!1}function lC(){var o=L.H;return L.H=Ll,o===null?Ll:o}function uC(){var o=L.A;return L.A=Zj,o}function kf(){At=4,Ji||($e&4194048)!==$e&&Nn.current!==null||(zo=!0),(Xi&134217727)===0&&(qa&134217727)===0||ot===null||ea(ot,$e,Dn,!1)}function Ng(o,l,d){var p=We;We|=2;var b=lC(),S=uC();(ot!==o||$e!==l)&&(If=null,Wo(o,l)),l=!1;var O=At;e:do try{if(Ze!==0&&ke!==null){var D=ke,j=In;switch(Ze){case 8:Mg(),O=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(l=!0);var Z=Ze;if(Ze=0,In=null,Yo(o,D,j,Z),d&&zo){O=0;break e}break;default:Z=Ze,Ze=0,In=null,Yo(o,D,j,Z)}}n3(),O=At;break}catch(re){oC(o,re)}while(!0);return l&&o.shellSuspendCounter++,ti=Ma=null,We=p,L.H=b,L.A=S,ke===null&&(ot=null,$e=0,ef()),O}function n3(){for(;ke!==null;)cC(ke)}function r3(o,l){var d=We;We|=2;var p=lC(),b=uC();ot!==o||$e!==l?(If=null,Pf=sn()+500,Wo(o,l)):zo=dl(o,l);e:do try{if(Ze!==0&&ke!==null){l=ke;var S=In;t:switch(Ze){case 1:Ze=0,In=null,Yo(o,l,S,1);break;case 2:case 9:if(_T(S)){Ze=0,In=null,fC(l);break}l=function(){Ze!==2&&Ze!==9||ot!==o||(Ze=7),Dr(o)},S.then(l,l);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:_T(S)?(Ze=0,In=null,fC(l)):(Ze=0,In=null,Yo(o,l,S,7));break;case 5:var O=null;switch(ke.tag){case 26:O=ke.memoizedState;case 5:case 27:var D=ke;if(O?JC(O):D.stateNode.complete){Ze=0,In=null;var j=D.sibling;if(j!==null)ke=j;else{var Z=D.return;Z!==null?(ke=Z,Uf(Z)):ke=null}break t}}Ze=0,In=null,Yo(o,l,S,5);break;case 6:Ze=0,In=null,Yo(o,l,S,6);break;case 8:Mg(),At=6;break e;default:throw Error(r(462))}}i3();break}catch(re){oC(o,re)}while(!0);return ti=Ma=null,L.H=p,L.A=b,We=d,ke!==null?0:(ot=null,$e=0,ef(),At)}function i3(){for(;ke!==null&&!Yr();)cC(ke)}function cC(o){var l=DA(o.alternate,o,fi);o.memoizedProps=o.pendingProps,l===null?Uf(o):ke=l}function fC(o){var l=o,d=l.alternate;switch(l.tag){case 15:case 0:l=RA(d,l,l.pendingProps,l.type,void 0,$e);break;case 11:l=RA(d,l,l.pendingProps,l.type.render,l.ref,$e);break;case 5:Fm(l);default:UA(d,l),l=ke=uT(l,fi),l=DA(d,l,fi)}o.memoizedProps=o.pendingProps,l===null?Uf(o):ke=l}function Yo(o,l,d,p){ti=Ma=null,Fm(l),$o=null,Ol=0;var b=l.return;try{if(Fj(o,b,l,d,$e)){At=1,xf(o,zn(d,o.current)),ke=null;return}}catch(S){if(b!==null)throw ke=b,S;At=1,xf(o,zn(d,o.current)),ke=null;return}l.flags&32768?(Be||p===1?o=!0:zo||($e&536870912)!==0?o=!1:(Ji=o=!0,(p===2||p===9||p===3||p===6)&&(p=Nn.current,p!==null&&p.tag===13&&(p.flags|=16384))),dC(l,o)):Uf(l)}function Uf(o){var l=o;do{if((l.flags&32768)!==0){dC(l,Ji);return}o=l.return;var d=Yj(l.alternate,l,fi);if(d!==null){ke=d;return}if(l=l.sibling,l!==null){ke=l;return}ke=l=o}while(l!==null);At===0&&(At=5)}function dC(o,l){do{var d=Jj(o.alternate,o);if(d!==null){d.flags&=32767,ke=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(o=o.sibling,o!==null)){ke=o;return}ke=o=d}while(o!==null);At=6,ke=null}function hC(o,l,d,p,b,S,O,D,j){o.cancelPendingCommit=null;do Lf();while(qt!==0);if((We&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(S=l.lanes|l.childLanes,S|=bm,LB(o,d,S,O,D,j),o===ot&&(ke=ot=null,$e=0),Ko=l,Zi=o,di=d,Cg=S,Rg=b,nC=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,l3($c,function(){return yC(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=L.T,L.T=null,b=W.p,W.p=2,O=We,We|=4;try{Xj(o,l,d)}finally{We=O,W.p=b,L.T=p}}qt=1,pC(),mC(),gC()}}function pC(){if(qt===1){qt=0;var o=Zi,l=Ko,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=L.T,L.T=null;var p=W.p;W.p=2;var b=We;We|=4;try{WA(l,o);var S=Gg,O=eT(o.containerInfo),D=S.focusedElem,j=S.selectionRange;if(O!==D&&D&&D.ownerDocument&&ZE(D.ownerDocument.documentElement,D)){if(j!==null&&pm(D)){var Z=j.start,re=j.end;if(re===void 0&&(re=Z),"selectionStart"in D)D.selectionStart=Z,D.selectionEnd=Math.min(re,D.value.length);else{var se=D.ownerDocument||document,ee=se&&se.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),ge=D.textContent.length,Se=Math.min(j.start,ge),it=j.end===void 0?Se:Math.min(j.end,ge);!te.extend&&Se>it&&(O=it,it=Se,Se=O);var Y=QE(D,Se),G=QE(D,it);if(Y&&G&&(te.rangeCount!==1||te.anchorNode!==Y.node||te.anchorOffset!==Y.offset||te.focusNode!==G.node||te.focusOffset!==G.offset)){var X=se.createRange();X.setStart(Y.node,Y.offset),te.removeAllRanges(),Se>it?(te.addRange(X),te.extend(G.node,G.offset)):(X.setEnd(G.node,G.offset),te.addRange(X))}}}}for(se=[],te=D;te=te.parentNode;)te.nodeType===1&&se.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<se.length;D++){var oe=se[D];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Yf=!!Hg,Gg=Hg=null}finally{We=b,W.p=p,L.T=d}}o.current=l,qt=2}}function mC(){if(qt===2){qt=0;var o=Zi,l=Ko,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=L.T,L.T=null;var p=W.p;W.p=2;var b=We;We|=4;try{GA(o,l.alternate,l)}finally{We=b,W.p=p,L.T=d}}qt=3}}function gC(){if(qt===4||qt===3){qt=0,cl();var o=Zi,l=Ko,d=di,p=nC;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?qt=5:(qt=0,Ko=Zi=null,vC(o,o.pendingLanes));var b=o.pendingLanes;if(b===0&&(Qi=null),Yp(d),l=l.stateNode,Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(fl,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=L.T,b=W.p,W.p=2,L.T=null;try{for(var S=o.onRecoverableError,O=0;O<p.length;O++){var D=p[O];S(D.value,{componentStack:D.stack})}}finally{L.T=l,W.p=b}}(di&3)!==0&&Lf(),Dr(o),b=o.pendingLanes,(d&261930)!==0&&(b&42)!==0?o===Og?Fl++:(Fl=0,Og=o):Fl=0,Kl(0)}}function vC(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,Cl(l)))}function Lf(){return pC(),mC(),gC(),yC()}function yC(){if(qt!==5)return!1;var o=Zi,l=Cg;Cg=0;var d=Yp(di),p=L.T,b=W.p;try{W.p=32>d?32:d,L.T=null,d=Rg,Rg=null;var S=Zi,O=di;if(qt=0,Ko=Zi=null,di=0,(We&6)!==0)throw Error(r(331));var D=We;if(We|=4,ZA(S.current),JA(S,S.current,O,d),We=D,Kl(0,!1),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(fl,S)}catch{}return!0}finally{W.p=b,L.T=p,vC(o,l)}}function bC(o,l,d){l=zn(d,l),l=sg(o.stateNode,l,2),o=Fi(o,l,2),o!==null&&(hl(o,2),Dr(o))}function et(o,l,d){if(o.tag===3)bC(o,o,d);else for(;l!==null;){if(l.tag===3){bC(l,o,d);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Qi===null||!Qi.has(p))){o=zn(d,o),d=_A(2),p=Fi(l,d,2),p!==null&&(SA(d,p,l,o),hl(p,2),Dr(p));break}}l=l.return}}function Pg(o,l,d){var p=o.pingCache;if(p===null){p=o.pingCache=new e3;var b=new Set;p.set(l,b)}else b=p.get(l),b===void 0&&(b=new Set,p.set(l,b));b.has(d)||(Eg=!0,b.add(d),o=a3.bind(null,o,l,d),l.then(o,o))}function a3(o,l,d){var p=o.pingCache;p!==null&&p.delete(l),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,ot===o&&($e&d)===d&&(At===4||At===3&&($e&62914560)===$e&&300>sn()-Nf?(We&2)===0&&Wo(o,0):Tg|=d,Fo===$e&&(Fo=0)),Dr(o)}function _C(o,l){l===0&&(l=pE()),o=Ca(o,l),o!==null&&(hl(o,l),Dr(o))}function o3(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),_C(o,d)}function s3(o,l){var d=0;switch(o.tag){case 31:case 13:var p=o.stateNode,b=o.memoizedState;b!==null&&(d=b.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(l),_C(o,d)}function l3(o,l){return Ui(o,l)}var $f=null,Jo=null,Ig=!1,qf=!1,Dg=!1,ta=0;function Dr(o){o!==Jo&&o.next===null&&(Jo===null?$f=Jo=o:Jo=Jo.next=o),qf=!0,Ig||(Ig=!0,c3())}function Kl(o,l){if(!Dg&&qf){Dg=!0;do for(var d=!1,p=$f;p!==null;){if(o!==0){var b=p.pendingLanes;if(b===0)var S=0;else{var O=p.suspendedLanes,D=p.pingedLanes;S=(1<<31-Rn(42|o)+1)-1,S&=b&~(O&~D),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(d=!0,EC(p,S))}else S=$e,S=Hc(p,p===ot?S:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(S&3)===0||dl(p,S)||(d=!0,EC(p,S));p=p.next}while(d);Dg=!1}}function u3(){SC()}function SC(){qf=Ig=!1;var o=0;ta!==0&&_3()&&(o=ta);for(var l=sn(),d=null,p=$f;p!==null;){var b=p.next,S=wC(p,l);S===0?(p.next=null,d===null?$f=b:d.next=b,b===null&&(Jo=d)):(d=p,(o!==0||(S&3)!==0)&&(qf=!0)),p=b}qt!==0&&qt!==5||Kl(o),ta!==0&&(ta=0)}function wC(o,l){for(var d=o.suspendedLanes,p=o.pingedLanes,b=o.expirationTimes,S=o.pendingLanes&-62914561;0<S;){var O=31-Rn(S),D=1<<O,j=b[O];j===-1?((D&d)===0||(D&p)!==0)&&(b[O]=UB(D,l)):j<=l&&(o.expiredLanes|=D),S&=~D}if(l=ot,d=$e,d=Hc(o,o===l?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,d===0||o===l&&(Ze===2||Ze===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&mr(p),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||dl(o,d)){if(l=d&-d,l===o.callbackPriority)return l;switch(p!==null&&mr(p),Yp(d)){case 2:case 8:d=dE;break;case 32:d=$c;break;case 268435456:d=hE;break;default:d=$c}return p=xC.bind(null,o),d=Ui(d,p),o.callbackPriority=l,o.callbackNode=d,l}return p!==null&&p!==null&&mr(p),o.callbackPriority=2,o.callbackNode=null,2}function xC(o,l){if(qt!==0&&qt!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(Lf()&&o.callbackNode!==d)return null;var p=$e;return p=Hc(o,o===ot?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(iC(o,p,l),wC(o,sn()),o.callbackNode!=null&&o.callbackNode===d?xC.bind(null,o):null)}function EC(o,l){if(Lf())return null;iC(o,l,!0)}function c3(){w3(function(){(We&6)!==0?Ui(fE,u3):SC()})}function kg(){if(ta===0){var o=ko;o===0&&(o=qc,qc<<=1,(qc&261888)===0&&(qc=256)),ta=o}return ta}function TC(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Fc(""+o)}function AC(o,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,o.id&&d.setAttribute("form",o.id),l.parentNode.insertBefore(d,l),o=new FormData(o),d.parentNode.removeChild(d),o}function f3(o,l,d,p,b){if(l==="submit"&&d&&d.stateNode===b){var S=TC((b[vn]||null).action),O=p.submitter;O&&(l=(l=O[vn]||null)?TC(l.formAction):O.getAttribute("formAction"),l!==null&&(S=l,O=null));var D=new Jc("action","action",null,p,b);o.push({event:D,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ta!==0){var j=O?AC(b,O):new FormData(b);tg(d,{pending:!0,data:j,method:b.method,action:S},null,j)}}else typeof S=="function"&&(D.preventDefault(),j=O?AC(b,O):new FormData(b),tg(d,{pending:!0,data:j,method:b.method,action:S},S,j))},currentTarget:b}]})}}for(var Ug=0;Ug<ym.length;Ug++){var Lg=ym[Ug],d3=Lg.toLowerCase(),h3=Lg[0].toUpperCase()+Lg.slice(1);gr(d3,"on"+h3)}gr(rT,"onAnimationEnd"),gr(iT,"onAnimationIteration"),gr(aT,"onAnimationStart"),gr("dblclick","onDoubleClick"),gr("focusin","onFocus"),gr("focusout","onBlur"),gr(Oj,"onTransitionRun"),gr(Mj,"onTransitionStart"),gr(Nj,"onTransitionCancel"),gr(oT,"onTransitionEnd"),So("onMouseEnter",["mouseout","mouseover"]),So("onMouseLeave",["mouseout","mouseover"]),So("onPointerEnter",["pointerout","pointerover"]),So("onPointerLeave",["pointerout","pointerover"]),xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xa("onBeforeInput",["compositionend","keypress","textInput","paste"]),xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wl));function CC(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var p=o[d],b=p.event;p=p.listeners;e:{var S=void 0;if(l)for(var O=p.length-1;0<=O;O--){var D=p[O],j=D.instance,Z=D.currentTarget;if(D=D.listener,j!==S&&b.isPropagationStopped())break e;S=D,b.currentTarget=Z;try{S(b)}catch(re){Zc(re)}b.currentTarget=null,S=j}else for(O=0;O<p.length;O++){if(D=p[O],j=D.instance,Z=D.currentTarget,D=D.listener,j!==S&&b.isPropagationStopped())break e;S=D,b.currentTarget=Z;try{S(b)}catch(re){Zc(re)}b.currentTarget=null,S=j}}}}function Ue(o,l){var d=l[Jp];d===void 0&&(d=l[Jp]=new Set);var p=o+"__bubble";d.has(p)||(RC(l,o,2,!1),d.add(p))}function $g(o,l,d){var p=0;l&&(p|=4),RC(d,o,p,l)}var Bf="_reactListening"+Math.random().toString(36).slice(2);function qg(o){if(!o[Bf]){o[Bf]=!0,SE.forEach(function(d){d!=="selectionchange"&&(p3.has(d)||$g(d,!1,o),$g(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Bf]||(l[Bf]=!0,$g("selectionchange",!1,l))}}function RC(o,l,d,p){switch(r1(l)){case 2:var b=H3;break;case 8:b=G3;break;default:b=ev}d=b.bind(null,l,d,o),b=void 0,!am||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),p?b!==void 0?o.addEventListener(l,d,{capture:!0,passive:b}):o.addEventListener(l,d,!0):b!==void 0?o.addEventListener(l,d,{passive:b}):o.addEventListener(l,d,!1)}function Bg(o,l,d,p,b){var S=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var O=p.tag;if(O===3||O===4){var D=p.stateNode.containerInfo;if(D===b)break;if(O===4)for(O=p.return;O!==null;){var j=O.tag;if((j===3||j===4)&&O.stateNode.containerInfo===b)return;O=O.return}for(;D!==null;){if(O=yo(D),O===null)return;if(j=O.tag,j===5||j===6||j===26||j===27){p=S=O;continue e}D=D.parentNode}}p=p.return}IE(function(){var Z=S,re=rm(d),se=[];e:{var ee=sT.get(o);if(ee!==void 0){var te=Jc,ge=o;switch(o){case"keypress":if(Wc(d)===0)break e;case"keydown":case"keyup":te=sj;break;case"focusin":ge="focus",te=um;break;case"focusout":ge="blur",te=um;break;case"beforeblur":case"afterblur":te=um;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=UE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=YB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=cj;break;case rT:case iT:case aT:te=QB;break;case oT:te=dj;break;case"scroll":case"scrollend":te=KB;break;case"wheel":te=pj;break;case"copy":case"cut":case"paste":te=ej;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=$E;break;case"toggle":case"beforetoggle":te=gj}var Se=(l&4)!==0,it=!Se&&(o==="scroll"||o==="scrollend"),Y=Se?ee!==null?ee+"Capture":null:ee;Se=[];for(var G=Z,X;G!==null;){var oe=G;if(X=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||X===null||Y===null||(oe=gl(G,Y),oe!=null&&Se.push(Yl(G,oe,X))),it)break;G=G.return}0<Se.length&&(ee=new te(ee,ge,null,d,re),se.push({event:ee,listeners:Se}))}}if((l&7)===0){e:{if(ee=o==="mouseover"||o==="pointerover",te=o==="mouseout"||o==="pointerout",ee&&d!==nm&&(ge=d.relatedTarget||d.fromElement)&&(yo(ge)||ge[vo]))break e;if((te||ee)&&(ee=re.window===re?re:(ee=re.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(ge=d.relatedTarget||d.toElement,te=Z,ge=ge?yo(ge):null,ge!==null&&(it=a(ge),Se=ge.tag,ge!==it||Se!==5&&Se!==27&&Se!==6)&&(ge=null)):(te=null,ge=Z),te!==ge)){if(Se=UE,oe="onMouseLeave",Y="onMouseEnter",G="mouse",(o==="pointerout"||o==="pointerover")&&(Se=$E,oe="onPointerLeave",Y="onPointerEnter",G="pointer"),it=te==null?ee:ml(te),X=ge==null?ee:ml(ge),ee=new Se(oe,G+"leave",te,d,re),ee.target=it,ee.relatedTarget=X,oe=null,yo(re)===Z&&(Se=new Se(Y,G+"enter",ge,d,re),Se.target=X,Se.relatedTarget=it,oe=Se),it=oe,te&&ge)t:{for(Se=m3,Y=te,G=ge,X=0,oe=Y;oe;oe=Se(oe))X++;oe=0;for(var _e=G;_e;_e=Se(_e))oe++;for(;0<X-oe;)Y=Se(Y),X--;for(;0<oe-X;)G=Se(G),oe--;for(;X--;){if(Y===G||G!==null&&Y===G.alternate){Se=Y;break t}Y=Se(Y),G=Se(G)}Se=null}else Se=null;te!==null&&OC(se,ee,te,Se,!1),ge!==null&&it!==null&&OC(se,it,ge,Se,!0)}}e:{if(ee=Z?ml(Z):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var Ge=FE;else if(VE(ee))if(KE)Ge=Aj;else{Ge=Ej;var ye=xj}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&tm(Z.elementType)&&(Ge=FE):Ge=Tj;if(Ge&&(Ge=Ge(o,Z))){zE(se,Ge,d,re);break e}ye&&ye(o,ee,Z),o==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&em(ee,"number",ee.value)}switch(ye=Z?ml(Z):window,o){case"focusin":(VE(ye)||ye.contentEditable==="true")&&(Co=ye,mm=Z,El=null);break;case"focusout":El=mm=Co=null;break;case"mousedown":gm=!0;break;case"contextmenu":case"mouseup":case"dragend":gm=!1,tT(se,d,re);break;case"selectionchange":if(Rj)break;case"keydown":case"keyup":tT(se,d,re)}var Pe;if(fm)e:{switch(o){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Ao?HE(o,d)&&(qe="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(qe="onCompositionStart");qe&&(qE&&d.locale!=="ko"&&(Ao||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Ao&&(Pe=DE()):(qi=re,om="value"in qi?qi.value:qi.textContent,Ao=!0)),ye=jf(Z,qe),0<ye.length&&(qe=new LE(qe,o,null,d,re),se.push({event:qe,listeners:ye}),Pe?qe.data=Pe:(Pe=GE(d),Pe!==null&&(qe.data=Pe)))),(Pe=yj?bj(o,d):_j(o,d))&&(qe=jf(Z,"onBeforeInput"),0<qe.length&&(ye=new LE("onBeforeInput","beforeinput",null,d,re),se.push({event:ye,listeners:qe}),ye.data=Pe)),f3(se,o,Z,d,re)}CC(se,l)})}function Yl(o,l,d){return{instance:o,listener:l,currentTarget:d}}function jf(o,l){for(var d=l+"Capture",p=[];o!==null;){var b=o,S=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||S===null||(b=gl(o,d),b!=null&&p.unshift(Yl(o,b,S)),b=gl(o,l),b!=null&&p.push(Yl(o,b,S))),o.tag===3)return p;o=o.return}return[]}function m3(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function OC(o,l,d,p,b){for(var S=l._reactName,O=[];d!==null&&d!==p;){var D=d,j=D.alternate,Z=D.stateNode;if(D=D.tag,j!==null&&j===p)break;D!==5&&D!==26&&D!==27||Z===null||(j=Z,b?(Z=gl(d,S),Z!=null&&O.unshift(Yl(d,Z,j))):b||(Z=gl(d,S),Z!=null&&O.push(Yl(d,Z,j)))),d=d.return}O.length!==0&&o.push({event:l,listeners:O})}var g3=/\r\n?/g,v3=/\u0000|\uFFFD/g;function MC(o){return(typeof o=="string"?o:""+o).replace(g3,`
`).replace(v3,"")}function NC(o,l){return l=MC(l),MC(o)===l}function rt(o,l,d,p,b,S){switch(d){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||xo(o,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&xo(o,""+p);break;case"className":Vc(o,"class",p);break;case"tabIndex":Vc(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Vc(o,d,p);break;case"style":NE(o,p,S);break;case"data":if(l!=="object"){Vc(o,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||d!=="href")){o.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(d);break}p=Fc(""+p),o.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(d==="formAction"?(l!=="input"&&rt(o,l,"name",b.name,b,null),rt(o,l,"formEncType",b.formEncType,b,null),rt(o,l,"formMethod",b.formMethod,b,null),rt(o,l,"formTarget",b.formTarget,b,null)):(rt(o,l,"encType",b.encType,b,null),rt(o,l,"method",b.method,b,null),rt(o,l,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(d);break}p=Fc(""+p),o.setAttribute(d,p);break;case"onClick":p!=null&&(o.onclick=Xr);break;case"onScroll":p!=null&&Ue("scroll",o);break;case"onScrollEnd":p!=null&&Ue("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(b.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}d=Fc(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(d,""+p):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":p===!0?o.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(d,p):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(d,p):o.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(d):o.setAttribute(d,p);break;case"popover":Ue("beforetoggle",o),Ue("toggle",o),Gc(o,"popover",p);break;case"xlinkActuate":Jr(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Jr(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Jr(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Jr(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Jr(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Jr(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Jr(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Jr(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Jr(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Gc(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=zB.get(d)||d,Gc(o,d,p))}}function jg(o,l,d,p,b,S){switch(d){case"style":NE(o,p,S);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(b.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"children":typeof p=="string"?xo(o,p):(typeof p=="number"||typeof p=="bigint")&&xo(o,""+p);break;case"onScroll":p!=null&&Ue("scroll",o);break;case"onScrollEnd":p!=null&&Ue("scrollend",o);break;case"onClick":p!=null&&(o.onclick=Xr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wE.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(b=d.endsWith("Capture"),l=d.slice(2,b?d.length-7:void 0),S=o[vn]||null,S=S!=null?S[d]:null,typeof S=="function"&&o.removeEventListener(l,S,b),typeof p=="function")){typeof S!="function"&&S!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(l,p,b);break e}d in o?o[d]=p:p===!0?o.setAttribute(d,""):Gc(o,d,p)}}}function Zt(o,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",o),Ue("load",o);var p=!1,b=!1,S;for(S in d)if(d.hasOwnProperty(S)){var O=d[S];if(O!=null)switch(S){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:rt(o,l,S,O,d,null)}}b&&rt(o,l,"srcSet",d.srcSet,d,null),p&&rt(o,l,"src",d.src,d,null);return;case"input":Ue("invalid",o);var D=S=O=b=null,j=null,Z=null;for(p in d)if(d.hasOwnProperty(p)){var re=d[p];if(re!=null)switch(p){case"name":b=re;break;case"type":O=re;break;case"checked":j=re;break;case"defaultChecked":Z=re;break;case"value":S=re;break;case"defaultValue":D=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,l));break;default:rt(o,l,p,re,d,null)}}CE(o,S,D,j,Z,O,b,!1);return;case"select":Ue("invalid",o),p=O=S=null;for(b in d)if(d.hasOwnProperty(b)&&(D=d[b],D!=null))switch(b){case"value":S=D;break;case"defaultValue":O=D;break;case"multiple":p=D;default:rt(o,l,b,D,d,null)}l=S,d=O,o.multiple=!!p,l!=null?wo(o,!!p,l,!1):d!=null&&wo(o,!!p,d,!0);return;case"textarea":Ue("invalid",o),S=b=p=null;for(O in d)if(d.hasOwnProperty(O)&&(D=d[O],D!=null))switch(O){case"value":p=D;break;case"defaultValue":b=D;break;case"children":S=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:rt(o,l,O,D,d,null)}OE(o,p,b,S);return;case"option":for(j in d)if(d.hasOwnProperty(j)&&(p=d[j],p!=null))switch(j){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:rt(o,l,j,p,d,null)}return;case"dialog":Ue("beforetoggle",o),Ue("toggle",o),Ue("cancel",o),Ue("close",o);break;case"iframe":case"object":Ue("load",o);break;case"video":case"audio":for(p=0;p<Wl.length;p++)Ue(Wl[p],o);break;case"image":Ue("error",o),Ue("load",o);break;case"details":Ue("toggle",o);break;case"embed":case"source":case"link":Ue("error",o),Ue("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in d)if(d.hasOwnProperty(Z)&&(p=d[Z],p!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:rt(o,l,Z,p,d,null)}return;default:if(tm(l)){for(re in d)d.hasOwnProperty(re)&&(p=d[re],p!==void 0&&jg(o,l,re,p,d,void 0));return}}for(D in d)d.hasOwnProperty(D)&&(p=d[D],p!=null&&rt(o,l,D,p,d,null))}function y3(o,l,d,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,S=null,O=null,D=null,j=null,Z=null,re=null;for(te in d){var se=d[te];if(d.hasOwnProperty(te)&&se!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":j=se;default:p.hasOwnProperty(te)||rt(o,l,te,null,p,se)}}for(var ee in p){var te=p[ee];if(se=d[ee],p.hasOwnProperty(ee)&&(te!=null||se!=null))switch(ee){case"type":S=te;break;case"name":b=te;break;case"checked":Z=te;break;case"defaultChecked":re=te;break;case"value":O=te;break;case"defaultValue":D=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,l));break;default:te!==se&&rt(o,l,ee,te,p,se)}}Zp(o,O,D,j,Z,re,S,b);return;case"select":te=O=D=ee=null;for(S in d)if(j=d[S],d.hasOwnProperty(S)&&j!=null)switch(S){case"value":break;case"multiple":te=j;default:p.hasOwnProperty(S)||rt(o,l,S,null,p,j)}for(b in p)if(S=p[b],j=d[b],p.hasOwnProperty(b)&&(S!=null||j!=null))switch(b){case"value":ee=S;break;case"defaultValue":D=S;break;case"multiple":O=S;default:S!==j&&rt(o,l,b,S,p,j)}l=D,d=O,p=te,ee!=null?wo(o,!!d,ee,!1):!!p!=!!d&&(l!=null?wo(o,!!d,l,!0):wo(o,!!d,d?[]:"",!1));return;case"textarea":te=ee=null;for(D in d)if(b=d[D],d.hasOwnProperty(D)&&b!=null&&!p.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:rt(o,l,D,null,p,b)}for(O in p)if(b=p[O],S=d[O],p.hasOwnProperty(O)&&(b!=null||S!=null))switch(O){case"value":ee=b;break;case"defaultValue":te=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==S&&rt(o,l,O,b,p,S)}RE(o,ee,te);return;case"option":for(var ge in d)if(ee=d[ge],d.hasOwnProperty(ge)&&ee!=null&&!p.hasOwnProperty(ge))switch(ge){case"selected":o.selected=!1;break;default:rt(o,l,ge,null,p,ee)}for(j in p)if(ee=p[j],te=d[j],p.hasOwnProperty(j)&&ee!==te&&(ee!=null||te!=null))switch(j){case"selected":o.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:rt(o,l,j,ee,p,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in d)ee=d[Se],d.hasOwnProperty(Se)&&ee!=null&&!p.hasOwnProperty(Se)&&rt(o,l,Se,null,p,ee);for(Z in p)if(ee=p[Z],te=d[Z],p.hasOwnProperty(Z)&&ee!==te&&(ee!=null||te!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,l));break;default:rt(o,l,Z,ee,p,te)}return;default:if(tm(l)){for(var it in d)ee=d[it],d.hasOwnProperty(it)&&ee!==void 0&&!p.hasOwnProperty(it)&&jg(o,l,it,void 0,p,ee);for(re in p)ee=p[re],te=d[re],!p.hasOwnProperty(re)||ee===te||ee===void 0&&te===void 0||jg(o,l,re,ee,p,te);return}}for(var Y in d)ee=d[Y],d.hasOwnProperty(Y)&&ee!=null&&!p.hasOwnProperty(Y)&&rt(o,l,Y,null,p,ee);for(se in p)ee=p[se],te=d[se],!p.hasOwnProperty(se)||ee===te||ee==null&&te==null||rt(o,l,se,ee,p,te)}function PC(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function b3(){if(typeof performance.getEntriesByType=="function"){for(var o=0,l=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var b=d[p],S=b.transferSize,O=b.initiatorType,D=b.duration;if(S&&D&&PC(O)){for(O=0,D=b.responseEnd,p+=1;p<d.length;p++){var j=d[p],Z=j.startTime;if(Z>D)break;var re=j.transferSize,se=j.initiatorType;re&&PC(se)&&(j=j.responseEnd,O+=re*(j<D?1:(D-Z)/(j-Z)))}if(--p,l+=8*(S+O)/(b.duration/1e3),o++,10<o)break}}if(0<o)return l/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Hg=null,Gg=null;function Hf(o){return o.nodeType===9?o:o.ownerDocument}function IC(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function DC(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function Vg(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var zg=null;function _3(){var o=window.event;return o&&o.type==="popstate"?o===zg?!1:(zg=o,!0):(zg=null,!1)}var kC=typeof setTimeout=="function"?setTimeout:void 0,S3=typeof clearTimeout=="function"?clearTimeout:void 0,UC=typeof Promise=="function"?Promise:void 0,w3=typeof queueMicrotask=="function"?queueMicrotask:typeof UC<"u"?function(o){return UC.resolve(null).then(o).catch(x3)}:kC;function x3(o){setTimeout(function(){throw o})}function na(o){return o==="head"}function LC(o,l){var d=l,p=0;do{var b=d.nextSibling;if(o.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"||d==="/&"){if(p===0){o.removeChild(b),es(l);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")Jl(o.ownerDocument.documentElement);else if(d==="head"){d=o.ownerDocument.head,Jl(d);for(var S=d.firstChild;S;){var O=S.nextSibling,D=S.nodeName;S[pl]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&S.rel.toLowerCase()==="stylesheet"||d.removeChild(S),S=O}}else d==="body"&&Jl(o.ownerDocument.body);d=b}while(d);es(l)}function $C(o,l){var d=o;o=0;do{var p=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(o===0)break;o--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||o++;d=p}while(d)}function Fg(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Fg(d),Xp(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function E3(o,l,d,p){for(;o.nodeType===1;){var b=d;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[pl])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(S=o.getAttribute("rel"),S==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(S!==b.rel||o.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||o.getAttribute("title")!==(b.title==null?null:b.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(S=o.getAttribute("src"),(S!==(b.src==null?null:b.src)||o.getAttribute("type")!==(b.type==null?null:b.type)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&S&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var S=b.name==null?null:""+b.name;if(b.type==="hidden"&&o.getAttribute("name")===S)return o}else return o;if(o=Jn(o.nextSibling),o===null)break}return null}function T3(o,l,d){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=Jn(o.nextSibling),o===null))return null;return o}function qC(o,l){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=Jn(o.nextSibling),o===null))return null;return o}function Kg(o){return o.data==="$?"||o.data==="$~"}function Wg(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function A3(o,l){var d=o.ownerDocument;if(o.data==="$~")o._reactRetry=l;else if(o.data!=="$?"||d.readyState!=="loading")l();else{var p=function(){l(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function Jn(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return o}var Yg=null;function BC(o){o=o.nextSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"||d==="/&"){if(l===0)return Jn(o.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}o=o.nextSibling}return null}function jC(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return o;l--}else d!=="/$"&&d!=="/&"||l++}o=o.previousSibling}return null}function HC(o,l,d){switch(l=Hf(d),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Jl(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);Xp(o)}var Xn=new Map,GC=new Set;function Gf(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var hi=W.d;W.d={f:C3,r:R3,D:O3,C:M3,L:N3,m:P3,X:D3,S:I3,M:k3};function C3(){var o=hi.f(),l=Df();return o||l}function R3(o){var l=bo(o);l!==null&&l.tag===5&&l.type==="form"?oA(l):hi.r(o)}var Xo=typeof document>"u"?null:document;function VC(o,l,d){var p=Xo;if(p&&typeof l=="string"&&l){var b=Gn(l);b='link[rel="'+o+'"][href="'+b+'"]',typeof d=="string"&&(b+='[crossorigin="'+d+'"]'),GC.has(b)||(GC.add(b),o={rel:o,crossOrigin:d,href:l},p.querySelector(b)===null&&(l=p.createElement("link"),Zt(l,"link",o),Vt(l),p.head.appendChild(l)))}}function O3(o){hi.D(o),VC("dns-prefetch",o,null)}function M3(o,l){hi.C(o,l),VC("preconnect",o,l)}function N3(o,l,d){hi.L(o,l,d);var p=Xo;if(p&&o&&l){var b='link[rel="preload"][as="'+Gn(l)+'"]';l==="image"&&d&&d.imageSrcSet?(b+='[imagesrcset="'+Gn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(b+='[imagesizes="'+Gn(d.imageSizes)+'"]')):b+='[href="'+Gn(o)+'"]';var S=b;switch(l){case"style":S=Qo(o);break;case"script":S=Zo(o)}Xn.has(S)||(o=m({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:o,as:l},d),Xn.set(S,o),p.querySelector(b)!==null||l==="style"&&p.querySelector(Xl(S))||l==="script"&&p.querySelector(Ql(S))||(l=p.createElement("link"),Zt(l,"link",o),Vt(l),p.head.appendChild(l)))}}function P3(o,l){hi.m(o,l);var d=Xo;if(d&&o){var p=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+Gn(p)+'"][href="'+Gn(o)+'"]',S=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Zo(o)}if(!Xn.has(S)&&(o=m({rel:"modulepreload",href:o},l),Xn.set(S,o),d.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Ql(S)))return}p=d.createElement("link"),Zt(p,"link",o),Vt(p),d.head.appendChild(p)}}}function I3(o,l,d){hi.S(o,l,d);var p=Xo;if(p&&o){var b=_o(p).hoistableStyles,S=Qo(o);l=l||"default";var O=b.get(S);if(!O){var D={loading:0,preload:null};if(O=p.querySelector(Xl(S)))D.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":l},d),(d=Xn.get(S))&&Jg(o,d);var j=O=p.createElement("link");Vt(j),Zt(j,"link",o),j._p=new Promise(function(Z,re){j.onload=Z,j.onerror=re}),j.addEventListener("load",function(){D.loading|=1}),j.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Vf(O,l,p)}O={type:"stylesheet",instance:O,count:1,state:D},b.set(S,O)}}}function D3(o,l){hi.X(o,l);var d=Xo;if(d&&o){var p=_o(d).hoistableScripts,b=Zo(o),S=p.get(b);S||(S=d.querySelector(Ql(b)),S||(o=m({src:o,async:!0},l),(l=Xn.get(b))&&Xg(o,l),S=d.createElement("script"),Vt(S),Zt(S,"link",o),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(b,S))}}function k3(o,l){hi.M(o,l);var d=Xo;if(d&&o){var p=_o(d).hoistableScripts,b=Zo(o),S=p.get(b);S||(S=d.querySelector(Ql(b)),S||(o=m({src:o,async:!0,type:"module"},l),(l=Xn.get(b))&&Xg(o,l),S=d.createElement("script"),Vt(S),Zt(S,"link",o),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(b,S))}}function zC(o,l,d,p){var b=(b=Te.current)?Gf(b):null;if(!b)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Qo(d.href),d=_o(b).hoistableStyles,p=d.get(l),p||(p={type:"style",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=Qo(d.href);var S=_o(b).hoistableStyles,O=S.get(o);if(O||(b=b.ownerDocument||b,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(o,O),(S=b.querySelector(Xl(o)))&&!S._p&&(O.instance=S,O.state.loading=5),Xn.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Xn.set(o,d),S||U3(b,o,d,O.state))),l&&p===null)throw Error(r(528,""));return O}if(l&&p!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Zo(d),d=_o(b).hoistableScripts,p=d.get(l),p||(p={type:"script",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Qo(o){return'href="'+Gn(o)+'"'}function Xl(o){return'link[rel="stylesheet"]['+o+"]"}function FC(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function U3(o,l,d,p){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=o.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),Zt(l,"link",d),Vt(l),o.head.appendChild(l))}function Zo(o){return'[src="'+Gn(o)+'"]'}function Ql(o){return"script[async]"+o}function KC(o,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var p=o.querySelector('style[data-href~="'+Gn(d.href)+'"]');if(p)return l.instance=p,Vt(p),p;var b=m({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),Vt(p),Zt(p,"style",b),Vf(p,d.precedence,o),l.instance=p;case"stylesheet":b=Qo(d.href);var S=o.querySelector(Xl(b));if(S)return l.state.loading|=4,l.instance=S,Vt(S),S;p=FC(d),(b=Xn.get(b))&&Jg(p,b),S=(o.ownerDocument||o).createElement("link"),Vt(S);var O=S;return O._p=new Promise(function(D,j){O.onload=D,O.onerror=j}),Zt(S,"link",p),l.state.loading|=4,Vf(S,d.precedence,o),l.instance=S;case"script":return S=Zo(d.src),(b=o.querySelector(Ql(S)))?(l.instance=b,Vt(b),b):(p=d,(b=Xn.get(S))&&(p=m({},d),Xg(p,b)),o=o.ownerDocument||o,b=o.createElement("script"),Vt(b),Zt(b,"link",p),o.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,Vf(p,d.precedence,o));return l.instance}function Vf(o,l,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,S=b,O=0;O<p.length;O++){var D=p[O];if(D.dataset.precedence===l)S=D;else if(S!==b)break}S?S.parentNode.insertBefore(o,S.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(o,l.firstChild))}function Jg(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function Xg(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var zf=null;function WC(o,l,d){if(zf===null){var p=new Map,b=zf=new Map;b.set(d,p)}else b=zf,p=b.get(d),p||(p=new Map,b.set(d,p));if(p.has(o))return p;for(p.set(o,null),d=d.getElementsByTagName(o),b=0;b<d.length;b++){var S=d[b];if(!(S[pl]||S[Yt]||o==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var O=S.getAttribute(l)||"";O=o+O;var D=p.get(O);D?D.push(S):p.set(O,[S])}}return p}function YC(o,l,d){o=o.ownerDocument||o,o.head.insertBefore(d,l==="title"?o.querySelector("head > title"):null)}function L3(o,l,d){if(d===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function JC(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function $3(o,l,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var b=Qo(p.href),S=l.querySelector(Xl(b));if(S){l=S._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(o.count++,o=Ff.bind(o),l.then(o,o)),d.state.loading|=4,d.instance=S,Vt(S);return}S=l.ownerDocument||l,p=FC(p),(b=Xn.get(b))&&Jg(p,b),S=S.createElement("link"),Vt(S);var O=S;O._p=new Promise(function(D,j){O.onload=D,O.onerror=j}),Zt(S,"link",p),d.instance=S}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(o.count++,d=Ff.bind(o),l.addEventListener("load",d),l.addEventListener("error",d))}}var Qg=0;function q3(o,l){return o.stylesheets&&o.count===0&&Wf(o,o.stylesheets),0<o.count||0<o.imgCount?function(d){var p=setTimeout(function(){if(o.stylesheets&&Wf(o,o.stylesheets),o.unsuspend){var S=o.unsuspend;o.unsuspend=null,S()}},6e4+l);0<o.imgBytes&&Qg===0&&(Qg=62500*b3());var b=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Wf(o,o.stylesheets),o.unsuspend)){var S=o.unsuspend;o.unsuspend=null,S()}},(o.imgBytes>Qg?50:800)+l);return o.unsuspend=d,function(){o.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function Ff(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wf(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Kf=null;function Wf(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Kf=new Map,l.forEach(B3,o),Kf=null,Ff.call(o))}function B3(o,l){if(!(l.state.loading&4)){var d=Kf.get(o);if(d)var p=d.get(null);else{d=new Map,Kf.set(o,d);for(var b=o.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<b.length;S++){var O=b[S];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(d.set(O.dataset.precedence,O),p=O)}p&&d.set(null,p)}b=l.instance,O=b.getAttribute("data-precedence"),S=d.get(O)||p,S===p&&d.set(null,b),d.set(O,b),this.count++,p=Ff.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),S?S.parentNode.insertBefore(b,S.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(b,o.firstChild)),l.state.loading|=4}}var Zl={$$typeof:A,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function j3(o,l,d,p,b,S,O,D,j){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kp(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kp(0),this.hiddenUpdates=Kp(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=S,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function XC(o,l,d,p,b,S,O,D,j,Z,re,se){return o=new j3(o,l,d,O,j,Z,re,se,D),l=1,S===!0&&(l|=24),S=Mn(3,null,null,l),o.current=S,S.stateNode=o,l=Nm(),l.refCount++,o.pooledCache=l,l.refCount++,S.memoizedState={element:p,isDehydrated:d,cache:l},km(S),o}function QC(o){return o?(o=Mo,o):Mo}function ZC(o,l,d,p,b,S){b=QC(b),p.context===null?p.context=b:p.pendingContext=b,p=zi(l),p.payload={element:d},S=S===void 0?null:S,S!==null&&(p.callback=S),d=Fi(o,p,l),d!==null&&(xn(d,o,l),Nl(d,o,l))}function e1(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function Zg(o,l){e1(o,l),(o=o.alternate)&&e1(o,l)}function t1(o){if(o.tag===13||o.tag===31){var l=Ca(o,67108864);l!==null&&xn(l,o,67108864),Zg(o,67108864)}}function n1(o){if(o.tag===13||o.tag===31){var l=kn();l=Wp(l);var d=Ca(o,l);d!==null&&xn(d,o,l),Zg(o,l)}}var Yf=!0;function H3(o,l,d,p){var b=L.T;L.T=null;var S=W.p;try{W.p=2,ev(o,l,d,p)}finally{W.p=S,L.T=b}}function G3(o,l,d,p){var b=L.T;L.T=null;var S=W.p;try{W.p=8,ev(o,l,d,p)}finally{W.p=S,L.T=b}}function ev(o,l,d,p){if(Yf){var b=tv(p);if(b===null)Bg(o,l,p,Jf,d),i1(o,p);else if(z3(b,o,l,d,p))p.stopPropagation();else if(i1(o,p),l&4&&-1<V3.indexOf(o)){for(;b!==null;){var S=bo(b);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var O=wa(S.pendingLanes);if(O!==0){var D=S;for(D.pendingLanes|=2,D.entangledLanes|=2;O;){var j=1<<31-Rn(O);D.entanglements[1]|=j,O&=~j}Dr(S),(We&6)===0&&(Pf=sn()+500,Kl(0))}}break;case 31:case 13:D=Ca(S,2),D!==null&&xn(D,S,2),Df(),Zg(S,2)}if(S=tv(p),S===null&&Bg(o,l,p,Jf,d),S===b)break;b=S}b!==null&&p.stopPropagation()}else Bg(o,l,p,null,d)}}function tv(o){return o=rm(o),nv(o)}var Jf=null;function nv(o){if(Jf=null,o=yo(o),o!==null){var l=a(o);if(l===null)o=null;else{var d=l.tag;if(d===13){if(o=s(l),o!==null)return o;o=null}else if(d===31){if(o=u(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return Jf=o,null}function r1(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lc()){case fE:return 2;case dE:return 8;case $c:case MB:return 32;case hE:return 268435456;default:return 32}default:return 32}}var rv=!1,ra=null,ia=null,aa=null,eu=new Map,tu=new Map,oa=[],V3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i1(o,l){switch(o){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":aa=null;break;case"pointerover":case"pointerout":eu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(l.pointerId)}}function nu(o,l,d,p,b,S){return o===null||o.nativeEvent!==S?(o={blockedOn:l,domEventName:d,eventSystemFlags:p,nativeEvent:S,targetContainers:[b]},l!==null&&(l=bo(l),l!==null&&t1(l)),o):(o.eventSystemFlags|=p,l=o.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),o)}function z3(o,l,d,p,b){switch(l){case"focusin":return ra=nu(ra,o,l,d,p,b),!0;case"dragenter":return ia=nu(ia,o,l,d,p,b),!0;case"mouseover":return aa=nu(aa,o,l,d,p,b),!0;case"pointerover":var S=b.pointerId;return eu.set(S,nu(eu.get(S)||null,o,l,d,p,b)),!0;case"gotpointercapture":return S=b.pointerId,tu.set(S,nu(tu.get(S)||null,o,l,d,p,b)),!0}return!1}function a1(o){var l=yo(o.target);if(l!==null){var d=a(l);if(d!==null){if(l=d.tag,l===13){if(l=s(d),l!==null){o.blockedOn=l,bE(o.priority,function(){n1(d)});return}}else if(l===31){if(l=u(d),l!==null){o.blockedOn=l,bE(o.priority,function(){n1(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Xf(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=tv(o.nativeEvent);if(d===null){d=o.nativeEvent;var p=new d.constructor(d.type,d);nm=p,d.target.dispatchEvent(p),nm=null}else return l=bo(d),l!==null&&t1(l),o.blockedOn=d,!1;l.shift()}return!0}function o1(o,l,d){Xf(o)&&d.delete(l)}function F3(){rv=!1,ra!==null&&Xf(ra)&&(ra=null),ia!==null&&Xf(ia)&&(ia=null),aa!==null&&Xf(aa)&&(aa=null),eu.forEach(o1),tu.forEach(o1)}function Qf(o,l){o.blockedOn===l&&(o.blockedOn=null,rv||(rv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,F3)))}var Zf=null;function s1(o){Zf!==o&&(Zf=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Zf===o&&(Zf=null);for(var l=0;l<o.length;l+=3){var d=o[l],p=o[l+1],b=o[l+2];if(typeof p!="function"){if(nv(p||d)===null)continue;break}var S=bo(d);S!==null&&(o.splice(l,3),l-=3,tg(S,{pending:!0,data:b,method:d.method,action:p},p,b))}}))}function es(o){function l(j){return Qf(j,o)}ra!==null&&Qf(ra,o),ia!==null&&Qf(ia,o),aa!==null&&Qf(aa,o),eu.forEach(l),tu.forEach(l);for(var d=0;d<oa.length;d++){var p=oa[d];p.blockedOn===o&&(p.blockedOn=null)}for(;0<oa.length&&(d=oa[0],d.blockedOn===null);)a1(d),d.blockedOn===null&&oa.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var b=d[p],S=d[p+1],O=b[vn]||null;if(typeof S=="function")O||s1(d);else if(O){var D=null;if(S&&S.hasAttribute("formAction")){if(b=S,O=S[vn]||null)D=O.formAction;else if(nv(b)!==null)continue}else D=O.action;typeof D=="function"?d[p+1]=D:(d.splice(p,3),p-=3),s1(d)}}}function l1(){function o(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(O){return b=O})},focusReset:"manual",scroll:"manual"})}function l(){b!==null&&(b(),b=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),b!==null&&(b(),b=null)}}}function iv(o){this._internalRoot=o}ed.prototype.render=iv.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,p=kn();ZC(d,p,o,l,null,null)},ed.prototype.unmount=iv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;ZC(o.current,2,null,o,null,null),Df(),l[vo]=null}};function ed(o){this._internalRoot=o}ed.prototype.unstable_scheduleHydration=function(o){if(o){var l=yE();o={blockedOn:null,target:o,priority:l};for(var d=0;d<oa.length&&l!==0&&l<oa[d].priority;d++);oa.splice(d,0,o),d===0&&a1(o)}};var u1=e.version;if(u1!=="19.2.3")throw Error(r(527,u1,"19.2.3"));W.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(l),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var K3={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!td.isDisabled&&td.supportsFiber)try{fl=td.inject(K3),Cn=td}catch{}}return iu.createRoot=function(o,l){if(!i(o))throw Error(r(299));var d=!1,p="",b=gA,S=vA,O=yA;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError)),l=XC(o,1,!1,null,null,d,p,null,b,S,O,l1),o[vo]=l.current,qg(o),new iv(l)},iu.hydrateRoot=function(o,l,d){if(!i(o))throw Error(r(299));var p=!1,b="",S=gA,O=vA,D=yA,j=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(O=d.onCaughtError),d.onRecoverableError!==void 0&&(D=d.onRecoverableError),d.formState!==void 0&&(j=d.formState)),l=XC(o,1,!0,l,d??null,p,b,j,S,O,D,l1),l.context=QC(null),d=l.current,p=kn(),p=Wp(p),b=zi(p),b.callback=null,Fi(d,b,p),d=p,l.current.lanes=d,hl(l,d),Dr(l),o[vo]=l.current,qg(o),new ed(l)},iu.version="19.2.3",iu}var b1;function rH(){if(b1)return sv.exports;b1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sv.exports=nH(),sv.exports}var iH=rH();const aH=tt(iH);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _1="popstate";function oH(t={}){function e(i,a){let{pathname:s="/",search:u="",hash:c=""}=co(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),N_("",{pathname:s,search:u,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),u="";if(s&&s.getAttribute("href")){let c=i.location.href,f=c.indexOf("#");u=f===-1?c:c.slice(0,f)}return u+"#"+(typeof a=="string"?a:ku(a))}function r(i,a){lr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return lH(e,n,r,t)}function Et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sH(){return Math.random().toString(36).substring(2,10)}function S1(t,e){return{usr:t.state,key:t.key,idx:e}}function N_(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?co(e):e,state:n,key:e&&e.key||r||sH()}}function ku({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function co(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function lH(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,u="POP",c=null,f=h();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function h(){return(s.state||{idx:null}).idx}function m(){u="POP";let w=h(),T=w==null?null:w-f;f=w,c&&c({action:u,location:E.location,delta:T})}function v(w,T){u="PUSH";let C=N_(E.location,w,T);n&&n(C,w),f=h()+1;let A=S1(C,f),P=E.createHref(C);try{s.pushState(A,"",P)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(P)}a&&c&&c({action:u,location:E.location,delta:1})}function _(w,T){u="REPLACE";let C=N_(E.location,w,T);n&&n(C,w),f=h();let A=S1(C,f),P=E.createHref(C);s.replaceState(A,"",P),a&&c&&c({action:u,location:E.location,delta:0})}function x(w){return uH(w)}let E={get action(){return u},get location(){return t(i,s)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(_1,m),c=w,()=>{i.removeEventListener(_1,m),c=null}},createHref(w){return e(i,w)},createURL:x,encodeLocation(w){let T=x(w);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:v,replace:_,go(w){return s.go(w)}};return E}function uH(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Et(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ku(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function k2(t,e,n="/"){return cH(t,e,n,!1)}function cH(t,e,n,r){let i=typeof e=="string"?co(e):e,a=Ei(i.pathname||"/",n);if(a==null)return null;let s=U2(t);fH(s);let u=null;for(let c=0;u==null&&c<s.length;++c){let f=wH(a);u=_H(s[c],f,r)}return u}function U2(t,e=[],n=[],r="",i=!1){let a=(s,u,c=i,f)=>{let h={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:u,route:s};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&c)return;Et(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let m=_i([r,h.relativePath]),v=n.concat(h);s.children&&s.children.length>0&&(Et(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),U2(s.children,e,v,m,c)),!(s.path==null&&!s.index)&&e.push({path:m,score:yH(m,s.index),routesMeta:v})};return t.forEach((s,u)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))a(s,u);else for(let f of L2(s.path))a(s,u,!0,f)}),e}function L2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=L2(r.join("/")),u=[];return u.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&u.push(...s),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function fH(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:bH(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var dH=/^:[\w-]+$/,hH=3,pH=2,mH=1,gH=10,vH=-2,w1=t=>t==="*";function yH(t,e){let n=t.split("/"),r=n.length;return n.some(w1)&&(r+=vH),e&&(r+=pH),n.filter(i=>!w1(i)).reduce((i,a)=>i+(dH.test(a)?hH:a===""?mH:gH),r)}function bH(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function _H(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let u=0;u<r.length;++u){let c=r[u],f=u===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",m=Gd({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),v=c.route;if(!m&&f&&n&&!r[r.length-1].route.index&&(m=Gd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(i,m.params),s.push({params:i,pathname:_i([a,m.pathname]),pathnameBase:AH(_i([a,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(a=_i([a,m.pathnameBase]))}return s}function Gd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=SH(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:h,isOptional:m},v)=>{if(h==="*"){let x=u[v]||"";s=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const _=u[v];return m&&!_?f[h]=void 0:f[h]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:t}}function SH(t,e=!1,n=!0){lr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function wH(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ei(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var $2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xH=t=>$2.test(t);function EH(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?co(t):t,a;if(n)if(xH(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),lr(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?a=x1(n.substring(1),"/"):a=x1(n,e)}else a=e;return{pathname:a,search:CH(r),hash:RH(i)}}function x1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function fv(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TH(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function q2(t){let e=TH(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function B2(t,e,n,r=!1){let i;typeof t=="string"?i=co(t):(i={...t},Et(!i.pathname||!i.pathname.includes("?"),fv("?","pathname","search",i)),Et(!i.pathname||!i.pathname.includes("#"),fv("#","pathname","hash",i)),Et(!i.search||!i.search.includes("#"),fv("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,u;if(s==null)u=n;else{let m=e.length-1;if(!r&&s.startsWith("..")){let v=s.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}u=m>=0?e[m]:"/"}let c=EH(i,u),f=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}var _i=t=>t.join("/").replace(/\/\/+/g,"/"),AH=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CH=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RH=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,OH=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function MH(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function NH(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var j2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function H2(t,e){let n=t;if(typeof n!="string"||!$2.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(j2)try{let a=new URL(window.location.href),s=n.startsWith("//")?new URL(a.protocol+n):new URL(n),u=Ei(s.pathname,e);s.origin===a.origin&&u!=null?n=u+s.search+s.hash:i=!0}catch{lr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var G2=["POST","PUT","PATCH","DELETE"];new Set(G2);var PH=["GET",...G2];new Set(PH);var el=B.createContext(null);el.displayName="DataRouter";var Qh=B.createContext(null);Qh.displayName="DataRouterState";var IH=B.createContext(!1),V2=B.createContext({isTransitioning:!1});V2.displayName="ViewTransition";var DH=B.createContext(new Map);DH.displayName="Fetchers";var kH=B.createContext(null);kH.displayName="Await";var dr=B.createContext(null);dr.displayName="Navigation";var Tc=B.createContext(null);Tc.displayName="Location";var Fr=B.createContext({outlet:null,matches:[],isDataRoute:!1});Fr.displayName="Route";var Uw=B.createContext(null);Uw.displayName="RouteError";var z2="REACT_ROUTER_ERROR",UH="REDIRECT",LH="ROUTE_ERROR_RESPONSE";function $H(t){if(t.startsWith(`${z2}:${UH}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function qH(t){if(t.startsWith(`${z2}:${LH}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new OH(e.status,e.statusText,e.data)}catch{}}function BH(t,{relative:e}={}){Et(Ac(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=B.useContext(dr),{hash:i,pathname:a,search:s}=Cc(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:_i([n,a])),r.createHref({pathname:u,search:s,hash:i})}function Ac(){return B.useContext(Tc)!=null}function ma(){return Et(Ac(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Tc).location}var F2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function K2(t){B.useContext(dr).static||B.useLayoutEffect(t)}function Lw(){let{isDataRoute:t}=B.useContext(Fr);return t?ZH():jH()}function jH(){Et(Ac(),"useNavigate() may be used only in the context of a <Router> component.");let t=B.useContext(el),{basename:e,navigator:n}=B.useContext(dr),{matches:r}=B.useContext(Fr),{pathname:i}=ma(),a=JSON.stringify(q2(r)),s=B.useRef(!1);return K2(()=>{s.current=!0}),B.useCallback((c,f={})=>{if(lr(s.current,F2),!s.current)return;if(typeof c=="number"){n.go(c);return}let h=B2(c,JSON.parse(a),i,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:_i([e,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[e,n,a,i,t])}B.createContext(null);function W2(){let{matches:t}=B.useContext(Fr),e=t[t.length-1];return e?e.params:{}}function Cc(t,{relative:e}={}){let{matches:n}=B.useContext(Fr),{pathname:r}=ma(),i=JSON.stringify(q2(n));return B.useMemo(()=>B2(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function HH(t,e){return Y2(t,e)}function Y2(t,e,n,r,i){var C;Et(Ac(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=B.useContext(dr),{matches:s}=B.useContext(Fr),u=s[s.length-1],c=u?u.params:{},f=u?u.pathname:"/",h=u?u.pathnameBase:"/",m=u&&u.route;{let A=m&&m.path||"";X2(f,!m||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let v=ma(),_;if(e){let A=typeof e=="string"?co(e):e;Et(h==="/"||((C=A.pathname)==null?void 0:C.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${A.pathname}" was given in the \`location\` prop.`),_=A}else _=v;let x=_.pathname||"/",E=x;if(h!=="/"){let A=h.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(A.length).join("/")}let w=k2(t,{pathname:E});lr(m||w!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),lr(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=KH(w&&w.map(A=>Object.assign({},A,{params:Object.assign({},c,A.params),pathname:_i([h,a.encodeLocation?a.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?h:_i([h,a.encodeLocation?a.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),s,n,r,i);return e&&T?B.createElement(Tc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},T):T}function GH(){let t=QH(),e=MH(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:a},"ErrorBoundary")," or"," ",B.createElement("code",{style:a},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:i},n):null,s)}var VH=B.createElement(GH,null),J2=class extends B.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=qH(t.digest);n&&(t=n)}let e=t!==void 0?B.createElement(Fr.Provider,{value:this.props.routeContext},B.createElement(Uw.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?B.createElement(zH,{error:t},e):e}};J2.contextType=IH;var dv=new WeakMap;function zH({children:t,error:e}){let{basename:n}=B.useContext(dr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=$H(e.digest);if(r){let i=dv.get(e);if(i)throw i;let a=H2(r.location,n);if(j2&&!dv.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw dv.set(e,s),s}return B.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function FH({routeContext:t,match:e,children:n}){let r=B.useContext(el);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Fr.Provider,{value:t},n)}function KH(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n==null?void 0:n.errors;if(s!=null){let h=a.findIndex(m=>m.route.id&&(s==null?void 0:s[m.route.id])!==void 0);Et(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,c=-1;if(n)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=h),m.route.id){let{loaderData:v,errors:_}=n,x=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||x){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}let f=n&&r?(h,m)=>{var v,_;r(h,{location:n.location,params:((_=(v=n.matches)==null?void 0:v[0])==null?void 0:_.params)??{},unstable_pattern:NH(n.matches),errorInfo:m})}:void 0;return a.reduceRight((h,m,v)=>{let _,x=!1,E=null,w=null;n&&(_=s&&m.route.id?s[m.route.id]:void 0,E=m.route.errorElement||VH,u&&(c<0&&v===0?(X2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,w=null):c===v&&(x=!0,w=m.route.hydrateFallbackElement||null)));let T=e.concat(a.slice(0,v+1)),C=()=>{let A;return _?A=E:x?A=w:m.route.Component?A=B.createElement(m.route.Component,null):m.route.element?A=m.route.element:A=h,B.createElement(FH,{match:m,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:A})};return n&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?B.createElement(J2,{location:n.location,revalidation:n.revalidation,component:E,error:_,children:C(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:f}):C()},null)}function $w(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WH(t){let e=B.useContext(el);return Et(e,$w(t)),e}function YH(t){let e=B.useContext(Qh);return Et(e,$w(t)),e}function JH(t){let e=B.useContext(Fr);return Et(e,$w(t)),e}function qw(t){let e=JH(t),n=e.matches[e.matches.length-1];return Et(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function XH(){return qw("useRouteId")}function QH(){var r;let t=B.useContext(Uw),e=YH("useRouteError"),n=qw("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function ZH(){let{router:t}=WH("useNavigate"),e=qw("useNavigate"),n=B.useRef(!1);return K2(()=>{n.current=!0}),B.useCallback(async(i,a={})=>{lr(n.current,F2),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var E1={};function X2(t,e,n){!e&&!E1[t]&&(E1[t]=!0,lr(!1,n))}B.memo(eG);function eG({routes:t,future:e,state:n,onError:r}){return Y2(t,void 0,n,r,e)}function kr(t){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tG({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){Et(!Ac(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),c=B.useMemo(()=>({basename:u,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[u,i,a,s]);typeof n=="string"&&(n=co(n));let{pathname:f="/",search:h="",hash:m="",state:v=null,key:_="default"}=n,x=B.useMemo(()=>{let E=Ei(f,u);return E==null?null:{location:{pathname:E,search:h,hash:m,state:v,key:_},navigationType:r}},[u,f,h,m,v,_,r]);return lr(x!=null,`<Router basename="${u}"> is not able to match the URL "${f}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:B.createElement(dr.Provider,{value:c},B.createElement(Tc.Provider,{children:e,value:x}))}function nG({children:t,location:e}){return HH(P_(t),e)}function P_(t,e=[]){let n=[];return B.Children.forEach(t,(r,i)=>{if(!B.isValidElement(r))return;let a=[...e,i];if(r.type===B.Fragment){n.push.apply(n,P_(r.props.children,a));return}Et(r.type===kr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=P_(r.props.children,a)),n.push(s)}),n}var Ud="get",Ld="application/x-www-form-urlencoded";function Zh(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function rG(t){return Zh(t)&&t.tagName.toLowerCase()==="button"}function iG(t){return Zh(t)&&t.tagName.toLowerCase()==="form"}function aG(t){return Zh(t)&&t.tagName.toLowerCase()==="input"}function oG(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sG(t,e){return t.button===0&&(!e||e==="_self")&&!oG(t)}var rd=null;function lG(){if(rd===null)try{new FormData(document.createElement("form"),0),rd=!1}catch{rd=!0}return rd}var uG=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hv(t){return t!=null&&!uG.has(t)?(lr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ld}"`),null):t}function cG(t,e){let n,r,i,a,s;if(iG(t)){let u=t.getAttribute("action");r=u?Ei(u,e):null,n=t.getAttribute("method")||Ud,i=hv(t.getAttribute("enctype"))||Ld,a=new FormData(t)}else if(rG(t)||aG(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||u.getAttribute("action");if(r=c?Ei(c,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Ud,i=hv(t.getAttribute("formenctype"))||hv(u.getAttribute("enctype"))||Ld,a=new FormData(u,t),!lG()){let{name:f,type:h,value:m}=t;if(h==="image"){let v=f?`${f}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else f&&a.append(f,m)}}else{if(Zh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ud,r=null,i=Ld,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bw(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fG(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ei(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function dG(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hG(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function pG(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await dG(a,n);return s.links?s.links():[]}return[]}));return yG(r.flat(1).filter(hG).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function T1(t,e,n,r,i,a){let s=(c,f)=>n[f]?c.route.id!==n[f].route.id:!0,u=(c,f)=>{var h;return n[f].pathname!==c.pathname||((h=n[f].route.path)==null?void 0:h.endsWith("*"))&&n[f].params["*"]!==c.params["*"]};return a==="assets"?e.filter((c,f)=>s(c,f)||u(c,f)):a==="data"?e.filter((c,f)=>{var m;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(s(c,f)||u(c,f))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function mG(t,e,{includeHydrateFallback:n}={}){return gG(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function gG(t){return[...new Set(t)]}function vG(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function yG(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(vG(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function Q2(){let t=B.useContext(el);return Bw(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function bG(){let t=B.useContext(Qh);return Bw(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var jw=B.createContext(void 0);jw.displayName="FrameworkContext";function Z2(){let t=B.useContext(jw);return Bw(t,"You must render this element inside a <HydratedRouter> element"),t}function _G(t,e){let n=B.useContext(jw),[r,i]=B.useState(!1),[a,s]=B.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:f,onMouseLeave:h,onTouchStart:m}=e,v=B.useRef(null);B.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let E=T=>{T.forEach(C=>{s(C.isIntersecting)})},w=new IntersectionObserver(E,{threshold:.5});return v.current&&w.observe(v.current),()=>{w.disconnect()}}},[t]),B.useEffect(()=>{if(r){let E=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(E)}}},[r]);let _=()=>{i(!0)},x=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,v,{}]:[a,v,{onFocus:au(u,_),onBlur:au(c,x),onMouseEnter:au(f,_),onMouseLeave:au(h,x),onTouchStart:au(m,_)}]:[!1,v,{}]}function au(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function SG({page:t,...e}){let{router:n}=Q2(),r=B.useMemo(()=>k2(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?B.createElement(xG,{page:t,matches:r,...e}):null}function wG(t){let{manifest:e,routeModules:n}=Z2(),[r,i]=B.useState([]);return B.useEffect(()=>{let a=!1;return pG(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function xG({page:t,matches:e,...n}){let r=ma(),{manifest:i,routeModules:a}=Z2(),{basename:s}=Q2(),{loaderData:u,matches:c}=bG(),f=B.useMemo(()=>T1(t,e,c,i,r,"data"),[t,e,c,i,r]),h=B.useMemo(()=>T1(t,e,c,i,r,"assets"),[t,e,c,i,r]),m=B.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,E=!1;if(e.forEach(T=>{var A;let C=i.routes[T.route.id];!C||!C.hasLoader||(!f.some(P=>P.route.id===T.route.id)&&T.route.id in u&&((A=a[T.route.id])!=null&&A.shouldRevalidate)||C.hasClientLoader?E=!0:x.add(T.route.id))}),x.size===0)return[];let w=fG(t,s,"data");return E&&x.size>0&&w.searchParams.set("_routes",e.filter(T=>x.has(T.route.id)).map(T=>T.route.id).join(",")),[w.pathname+w.search]},[s,u,r,i,f,e,t,a]),v=B.useMemo(()=>mG(h,i),[h,i]),_=wG(h);return B.createElement(B.Fragment,null,m.map(x=>B.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),v.map(x=>B.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),_.map(({key:x,link:E})=>B.createElement("link",{key:x,nonce:n.nonce,...E})))}function EG(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var TG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{TG&&(window.__reactRouterVersion="7.11.0")}catch{}function AG({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=B.useRef();i.current==null&&(i.current=oH({window:r,v5Compat:!0}));let a=i.current,[s,u]=B.useState({action:a.action,location:a.location}),c=B.useCallback(f=>{n===!1?u(f):B.startTransition(()=>u(f))},[n]);return B.useLayoutEffect(()=>a.listen(c),[a,c]),B.createElement(tG,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:n})}var eU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pn=B.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:u,target:c,to:f,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:v,..._},x){let{basename:E,unstable_useTransitions:w}=B.useContext(dr),T=typeof f=="string"&&eU.test(f),C=H2(f,E);f=C.to;let A=BH(f,{relative:i}),[P,R,M]=_G(r,_),I=MG(f,{replace:s,state:u,target:c,preventScrollReset:h,relative:i,viewTransition:m,unstable_defaultShouldRevalidate:v,unstable_useTransitions:w});function k(V){e&&e(V),V.defaultPrevented||I(V)}let U=B.createElement("a",{..._,...M,href:C.absoluteURL||A,onClick:C.isExternal||a?e:k,ref:EG(x,R),target:c,"data-discover":!T&&n==="render"?"true":void 0});return P&&!T?B.createElement(B.Fragment,null,U,B.createElement(SG,{page:A})):U});pn.displayName="Link";var CG=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:u,children:c,...f},h){let m=Cc(s,{relative:f.relative}),v=ma(),_=B.useContext(Qh),{navigator:x,basename:E}=B.useContext(dr),w=_!=null&&kG(m)&&u===!0,T=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,C=v.pathname,A=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(C=C.toLowerCase(),A=A?A.toLowerCase():null,T=T.toLowerCase()),A&&E&&(A=Ei(A,E)||A);const P=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let R=C===T||!i&&C.startsWith(T)&&C.charAt(P)==="/",M=A!=null&&(A===T||!i&&A.startsWith(T)&&A.charAt(T.length)==="/"),I={isActive:R,isPending:M,isTransitioning:w},k=R?e:void 0,U;typeof r=="function"?U=r(I):U=[r,R?"active":null,M?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(I):a;return B.createElement(pn,{...f,"aria-current":k,className:U,ref:h,style:V,to:s,viewTransition:u},typeof c=="function"?c(I):c)});CG.displayName="NavLink";var RG=B.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=Ud,action:u,onSubmit:c,relative:f,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:v,..._},x)=>{let{unstable_useTransitions:E}=B.useContext(dr),w=IG(),T=DG(u,{relative:f}),C=s.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&eU.test(u),P=R=>{if(c&&c(R),R.defaultPrevented)return;R.preventDefault();let M=R.nativeEvent.submitter,I=(M==null?void 0:M.getAttribute("formmethod"))||s,k=()=>w(M||R.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:i,state:a,relative:f,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:v});E&&n!==!1?B.startTransition(()=>k()):k()};return B.createElement("form",{ref:x,method:C,action:T,onSubmit:r?c:P,..._,"data-discover":!A&&t==="render"?"true":void 0})});RG.displayName="Form";function OG(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tU(t){let e=B.useContext(el);return Et(e,OG(t)),e}function MG(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:u,unstable_useTransitions:c}={}){let f=Lw(),h=ma(),m=Cc(t,{relative:a});return B.useCallback(v=>{if(sG(v,e)){v.preventDefault();let _=n!==void 0?n:ku(h)===ku(m),x=()=>f(t,{replace:_,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:u});c?B.startTransition(()=>x()):x()}},[h,f,m,n,r,e,t,i,a,s,u,c])}var NG=0,PG=()=>`__${String(++NG)}__`;function IG(){let{router:t}=tU("useSubmit"),{basename:e}=B.useContext(dr),n=XH(),r=t.fetch,i=t.navigate;return B.useCallback(async(a,s={})=>{let{action:u,method:c,encType:f,formData:h,body:m}=cG(a,e);if(s.navigate===!1){let v=s.fetcherKey||PG();await r(v,n,s.action||u,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:h,body:m,formMethod:s.method||c,formEncType:s.encType||f,flushSync:s.flushSync})}else await i(s.action||u,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:h,body:m,formMethod:s.method||c,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,e,n])}function DG(t,{relative:e}={}){let{basename:n}=B.useContext(dr),r=B.useContext(Fr);Et(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Cc(t||".",{relative:e})},s=ma();if(t==null){a.search=s.search;let u=new URLSearchParams(a.search),c=u.getAll("index");if(c.some(h=>h==="")){u.delete("index"),c.filter(m=>m).forEach(m=>u.append("index",m));let h=u.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:_i([n,a.pathname])),ku(a)}function kG(t,{relative:e}={}){let n=B.useContext(V2);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=tU("useViewTransitionState"),i=Cc(t,{relative:e});if(!n.isTransitioning)return!1;let a=Ei(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Ei(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Gd(i.pathname,s)!=null||Gd(i.pathname,a)!=null}function ep(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function UG(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function u(h){try{f(r.next(h))}catch(m){s(m)}}function c(h){try{f(r.throw(h))}catch(m){s(m)}}function f(h){h.done?a(h.value):i(h.value).then(u,c)}f((r=r.apply(t,e||[])).next())})}const LG=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Hw extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class $G extends Hw{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class A1 extends Hw{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class C1 extends Hw{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var I_;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(I_||(I_={}));class qG{constructor(e,{headers:n={},customFetch:r,region:i=I_.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=LG(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return UG(this,arguments,void 0,function*(n,r={}){var i;let a,s;try{const{headers:u,method:c,body:f,signal:h,timeout:m}=r;let v={},{region:_}=r;_||(_=this.region);const x=new URL(`${this.url}/${n}`);_&&_!=="any"&&(v["x-region"]=_,x.searchParams.set("forceFunctionRegion",_));let E;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",E=f):typeof f=="string"?(v["Content-Type"]="text/plain",E=f):typeof FormData<"u"&&f instanceof FormData?E=f:(v["Content-Type"]="application/json",E=JSON.stringify(f)):E=f;let w=h;m&&(s=new AbortController,a=setTimeout(()=>s.abort(),m),h?(w=s.signal,h.addEventListener("abort",()=>s.abort())):w=s.signal);const T=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),u),body:E,signal:w}).catch(R=>{throw new $G(R)}),C=T.headers.get("x-relay-error");if(C&&C==="true")throw new A1(T);if(!T.ok)throw new C1(T);let A=((i=T.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),P;return A==="application/json"?P=yield T.json():A==="application/octet-stream"||A==="application/pdf"?P=yield T.blob():A==="text/event-stream"?P=T:A==="multipart/form-data"?P=yield T.formData():P=yield T.text(),{data:P,error:null,response:T}}catch(u){return{data:null,error:u,response:u instanceof C1||u instanceof A1?u.context:void 0}}finally{a&&clearTimeout(a)}})}}var BG=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},jG=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let s=null,u=null,c=null,f=a.status,h=a.statusText;if(a.ok){var m,v;if(n.method!=="HEAD"){var _;const T=await a.text();T===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((_=n.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?u=T:u=JSON.parse(T))}const E=(m=n.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),w=(v=a.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");E&&w&&w.length>1&&(c=parseInt(w[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(u)&&(u.length>1?(s={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,c=null,f=406,h="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var x;const E=await a.text();try{s=JSON.parse(E),Array.isArray(s)&&a.status===404&&(u=[],s=null,f=200,h="OK")}catch{a.status===404&&E===""?(f=204,h="No Content"):s={message:E}}if(s&&n.isMaybeSingle&&(!(s==null||(x=s.details)===null||x===void 0)&&x.includes("0 rows"))&&(s=null,f=200,h="OK"),s&&n.shouldThrowOnError)throw new BG(s)}return{error:s,data:u,count:c,status:f,statusText:h}});return this.shouldThrowOnError||(i=i.catch(a=>{var s;let u="";const c=a==null?void 0:a.cause;if(c){var f,h,m,v;const x=(f=c==null?void 0:c.message)!==null&&f!==void 0?f:"",E=(h=c==null?void 0:c.code)!==null&&h!==void 0?h:"";u=`${(m=a==null?void 0:a.name)!==null&&m!==void 0?m:"FetchError"}: ${a==null?void 0:a.message}`,u+=`

Caused by: ${(v=c==null?void 0:c.name)!==null&&v!==void 0?v:"Error"}: ${x}`,E&&(u+=` (${E})`),c!=null&&c.stack&&(u+=`
${c.stack}`)}else{var _;u=(_=a==null?void 0:a.stack)!==null&&_!==void 0?_:""}return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},HG=class extends jG{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:a="text"}={}){var s;const u=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${u};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const R1=new RegExp("[,()]");var us=class extends HG{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&R1.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&R1.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},GG=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let a=!1;const s=(t??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",s),r&&this.headers.append("Prefer",`count=${r}`),new us({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((s,u)=>s.concat(Object.keys(u)),[]);if(a.length>0){const s=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",s.join(","))}}return new us({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var a;const s="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(u.length>0){const c=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",c.join(","))}}return new us({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:e}={}){var n;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new us({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new us({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},VG=class nU{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new GG(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new nU(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:a}={}){var s;let u;const c=new URL(`${this.url}/rpc/${e}`);let f;r||i?(u=r?"HEAD":"GET",Object.entries(n).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{c.searchParams.append(m,v)})):(u="POST",f=n);const h=new Headers(this.headers);return a&&h.set("Prefer",`count=${a}`),new us({method:u,url:c,headers:h,schema:this.schemaName,body:f,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};class zG{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const FG="2.89.0",KG=`realtime-js/${FG}`,rU="1.0.0",WG="2.0.0",O1=rU,D_=1e4,YG=1e3,JG=100;var la;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(la||(la={}));var jt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(jt||(jt={}));var xr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(xr||(xr={}));var k_;(function(t){t.websocket="websocket"})(k_||(k_={}));var Ya;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ya||(Ya={}));class XG{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(e,n,r){var i,a;const s=e.topic,u=(i=e.ref)!==null&&i!==void 0?i:"",c=(a=e.join_ref)!==null&&a!==void 0?a:"",f=e.payload.event,h=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(h).length===0?"":JSON.stringify(h);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+u.length+s.length+f.length+m.length,_=new ArrayBuffer(this.HEADER_LENGTH+v);let x=new DataView(_),E=0;x.setUint8(E++,this.KINDS.userBroadcastPush),x.setUint8(E++,c.length),x.setUint8(E++,u.length),x.setUint8(E++,s.length),x.setUint8(E++,f.length),x.setUint8(E++,m.length),x.setUint8(E++,n),Array.from(c,T=>x.setUint8(E++,T.charCodeAt(0))),Array.from(u,T=>x.setUint8(E++,T.charCodeAt(0))),Array.from(s,T=>x.setUint8(E++,T.charCodeAt(0))),Array.from(f,T=>x.setUint8(E++,T.charCodeAt(0))),Array.from(m,T=>x.setUint8(E++,T.charCodeAt(0)));var w=new Uint8Array(_.byteLength+r.byteLength);return w.set(new Uint8Array(_),0),w.set(new Uint8Array(r),_.byteLength),w.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,a,s,u,c]=r;return n({join_ref:i,ref:a,topic:s,event:u,payload:c})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2),s=n.getUint8(3),u=n.getUint8(4);let c=this.HEADER_LENGTH+4;const f=r.decode(e.slice(c,c+i));c=c+i;const h=r.decode(e.slice(c,c+a));c=c+a;const m=r.decode(e.slice(c,c+s));c=c+s;const v=e.slice(c,e.byteLength),_=u===this.JSON_ENCODING?JSON.parse(r.decode(v)):v,x={type:this.BROADCAST_EVENT,event:h,payload:_};return s>0&&(x.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class iU{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var lt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(lt||(lt={}));const M1=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,s)=>(a[s]=QG(s,t,e,i),a),{}):{}},QG=(t,e,n,r)=>{const i=e.find(u=>u.name===t),a=i==null?void 0:i.type,s=n[t];return a&&!r.includes(a)?aU(a,s):U_(s)},aU=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return n4(e,n)}switch(t){case lt.bool:return ZG(e);case lt.float4:case lt.float8:case lt.int2:case lt.int4:case lt.int8:case lt.numeric:case lt.oid:return e4(e);case lt.json:case lt.jsonb:return t4(e);case lt.timestamp:return r4(e);case lt.abstime:case lt.date:case lt.daterange:case lt.int4range:case lt.int8range:case lt.money:case lt.reltime:case lt.text:case lt.time:case lt.timestamptz:case lt.timetz:case lt.tsrange:case lt.tstzrange:return U_(e);default:return U_(e)}},U_=t=>t,ZG=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},e4=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},t4=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},n4=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const s=t.slice(1,n);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(u=>aU(e,u))}return t},r4=t=>typeof t=="string"?t.replace(" ","T"):t,oU=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class pv{constructor(e,n,r={},i=D_){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var N1;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(N1||(N1={}));class Ru{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:s,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ru.syncState(this.state,i,a,s),this.pendingDiffs.forEach(c=>{this.state=Ru.syncDiff(this.state,c,a,s)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ru.syncDiff(this.state,i,a,s),u())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),s=this.transformState(n),u={},c={};return this.map(a,(f,h)=>{s[f]||(c[f]=h)}),this.map(s,(f,h)=>{const m=a[f];if(m){const v=h.map(w=>w.presence_ref),_=m.map(w=>w.presence_ref),x=h.filter(w=>_.indexOf(w.presence_ref)<0),E=m.filter(w=>v.indexOf(w.presence_ref)<0);x.length>0&&(u[f]=x),E.length>0&&(c[f]=E)}else u[f]=h}),this.syncDiff(a,{joins:u,leaves:c},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(u,c)=>{var f;const h=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(c),h.length>0){const m=e[u].map(_=>_.presence_ref),v=h.filter(_=>m.indexOf(_.presence_ref)<0);e[u].unshift(...v)}r(u,h,c)}),this.map(s,(u,c)=>{let f=e[u];if(!f)return;const h=c.map(m=>m.presence_ref);f=f.filter(m=>h.indexOf(m.presence_ref)<0),e[u]=f,i(u,f,c),f.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var P1;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(P1||(P1={}));var Ou;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ou||(Ou={}));var mi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(mi||(mi={}));class ps{constructor(e,n={config:{}},r){var i,a;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new pv(this,xr.join,this.params,this.timeout),this.rejoinTimer=new iU(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xr.reply,{},(s,u)=>{this._trigger(this._replyEventName(u),s)}),this.presence=new Ru(this),this.broadcastEndpointURL=oU(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==jt.closed){const{config:{broadcast:s,presence:u,private:c}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(_=>_.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Ou.PRESENCE]&&this.bindings[Ou.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},v={broadcast:s,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:f,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(_=>e==null?void 0:e(mi.CHANNEL_ERROR,_)),this._onClose(()=>e==null?void 0:e(mi.CLOSED)),this.updateJoinPayload(Object.assign({config:v},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){e==null||e(mi.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,w=(x=E==null?void 0:E.length)!==null&&x!==void 0?x:0,T=[];for(let C=0;C<w;C++){const A=E[C],{filter:{event:P,schema:R,table:M,filter:I}}=A,k=_&&_[C];if(k&&k.event===P&&ps.isFilterValueEqual(k.schema,R)&&ps.isFilterValueEqual(k.table,M)&&ps.isFilterValueEqual(k.filter,I))T.push(Object.assign(Object.assign({},A),{id:k.id}));else{this.unsubscribe(),this.state=jt.errored,e==null||e(mi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(mi.SUBSCRIBED);return}}).receive("error",_=>{this.state=jt.errored,e==null||e(mi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(mi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===jt.joined&&e===Ou.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let c=u.statusText;try{const f=await u.json();c=f.error||f.message||c}catch{}return Promise.reject(new Error(c))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=e,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,u,c;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(u=(s=this.params)===null||s===void 0?void 0:s.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=jt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new pv(this,xr.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=jt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new pv(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>JG){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const s=e.toLocaleLowerCase(),{close:u,error:c,leave:f,join:h}=xr;if(r&&[u,c,f,h].indexOf(s)>=0&&r!==this._joinRef())return;let v=this._onMessage(s,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(_=>{var x,E,w;return((x=_.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(E=_.filter)===null||E===void 0?void 0:E.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===s}).map(_=>_.callback(v,r)):(a=this.bindings[s])===null||a===void 0||a.filter(_=>{var x,E,w,T,C,A;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in _){const P=_.id,R=(x=_.filter)===null||x===void 0?void 0:x.event;return P&&((E=n.ids)===null||E===void 0?void 0:E.includes(P))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const P=(C=(T=_==null?void 0:_.filter)===null||T===void 0?void 0:T.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return P==="*"||P===((A=n==null?void 0:n.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===s}).map(_=>{if(typeof v=="object"&&"ids"in v){const x=v.data,{schema:E,table:w,commit_timestamp:T,type:C,errors:A}=x;v=Object.assign(Object.assign({},{schema:E,table:w,commit_timestamp:T,eventType:C,new:{},old:{},errors:A}),this._getPayloadRecords(x))}_.callback(v,r)})}_isClosed(){return this.state===jt.closed}_isJoined(){return this.state===jt.joined}_isJoining(){return this.state===jt.joining}_isLeaving(){return this.state===jt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&ps.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(xr.close,{},e)}_onError(e){this._on(xr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=M1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=M1(e.columns,e.old_record)),n}}const mv=()=>{},id={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},i4=[1e3,2e3,5e3,1e4],a4=1e4,o4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class s4{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=D_,this.transport=null,this.heartbeatIntervalMs=id.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=mv,this.ref=0,this.reconnectTimer=null,this.vsn=O1,this.logger=mv,this.conn=null,this.sendBuffer=[],this.serializer=new XG,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${k_.websocket}`,this.httpEndpoint=oU(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=zG.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case la.connecting:return Ya.Connecting;case la.open:return Ya.Open;case la.closing:return Ya.Closing;default:return Ya.Closed}}isConnected(){return this.connectionState()===Ya.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new ps(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,s=()=>{this.encode(e,u=>{var c;(c=this.conn)===null||c===void 0||c.send(u)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(YG,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},id.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:s}=n,u=s?`(${s})`:"",c=a.status||"";this.log("receive",`${c} ${r} ${i} ${u}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,a,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===la.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===la.open||this.conn.readyState===la.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(xr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([o4],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const a={access_token:n,version:KG};n&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(xr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new iU(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},id.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,a,s,u,c,f,h,m,v,_;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:D_,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:id.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=e==null?void 0:e.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:mv,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:O1,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:(x=>i4[x-1]||a4),this.vsn){case rU:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:((x,E)=>E(JSON.stringify(x))),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:((x,E)=>E(JSON.parse(x)));break;case WG:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Uu=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function l4(t,e,n){const r=new URL(e,t);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function u4(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function c4(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:s}){const u=l4(t.baseUrl,r,i),c=await u4(t.auth),f=await e(u,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...c,...s},body:a?JSON.stringify(a):void 0}),h=await f.text(),m=(f.headers.get("content-type")||"").includes("application/json"),v=m&&h?JSON.parse(h):h;if(!f.ok){const _=m?v:void 0,x=_==null?void 0:_.error;throw new Uu((x==null?void 0:x.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:_})}return{status:f.status,headers:f.headers,data:v}}}}function ad(t){return t.join("")}var f4=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:ad(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ad(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ad(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ad(t.namespace)}`}),!0}catch(e){if(e instanceof Uu&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Uu&&n.status===409)return;throw n}}};function ts(t){return t.join("")}var d4=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ts(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ts(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ts(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ts(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ts(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ts(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Uu&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Uu&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},h4=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=c4({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new f4(this.client,e),this.tableOps=new d4(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},tp=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function wt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var p4=class extends tp{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},L_=class extends tp{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Gw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),m4=()=>Response,$_=t=>{if(Array.isArray(t))return t.map(n=>$_(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=$_(r)}),e},g4=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},v4=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}function y4(t,e){if(Lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b4(t){var e=y4(t,"string");return Lu(e)=="symbol"?e:e+""}function _4(t,e,n){return(e=b4(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I1(Object(n),!0).forEach(function(r){_4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const gv=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},S4=async(t,e,n)=>{t instanceof await m4()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const i=t.status||500,a=(r==null?void 0:r.statusCode)||i+"";e(new p4(gv(r),i,a))}).catch(r=>{e(new L_(gv(r),r))}):e(new L_(gv(t),t))},w4=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(g4(r)?(i.headers=Ee({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Ee(Ee({},i),n))};async function Rc(t,e,n,r,i,a){return new Promise((s,u)=>{t(n,w4(e,r,i,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>S4(c,u,r))})}async function $u(t,e,n,r){return Rc(t,"GET",e,n,r)}async function wr(t,e,n,r,i){return Rc(t,"POST",e,r,i,n)}async function q_(t,e,n,r,i){return Rc(t,"PUT",e,r,i,n)}async function x4(t,e,n,r){return Rc(t,"HEAD",e,Ee(Ee({},n),{},{noResolveJson:!0}),r)}async function Vw(t,e,n,r,i){return Rc(t,"DELETE",e,r,i,n)}var E4=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(wt(e))return{data:null,error:e};throw e}}};let sU;sU=Symbol.toStringTag;var T4=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[sU]="BlobDownloadBuilder",this.promise=null}asStream(){return new E4(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(wt(e))return{data:null,error:e};throw e}}};const A4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},D1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var C4=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=Gw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var i=this;try{let a;const s=Ee(Ee({},D1),r);let u=Ee(Ee({},i.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",i.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),c&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(c))):(a=n,u["cache-control"]=`max-age=${s.cacheControl}`,u["content-type"]=s.contentType,c&&(u["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),r!=null&&r.headers&&(u=Ee(Ee({},u),r.headers));const f=i._removeEmptyFolders(e),h=i._getFinalPath(f),m=await(t=="PUT"?q_:wr)(i.fetch,`${i.url}/object/${h}`,a,Ee({headers:u},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:f,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(wt(a))return{data:null,error:a};throw a}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const a=i._removeEmptyFolders(t),s=i._getFinalPath(a),u=new URL(i.url+`/object/upload/sign/${s}`);u.searchParams.set("token",e);try{let c;const f=Ee({upsert:D1.upsert},r),h=Ee(Ee({},i.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",f.cacheControl)):(c=n,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType),{data:{path:a,fullPath:(await q_(i.fetch,u.toString(),c,{headers:h})).Key},error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(wt(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const i=Ee({},n.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const a=await wr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(n.url+a.url),u=s.searchParams.get("token");if(!u)throw new tp("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:u},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await wr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(wt(i))return{data:null,error:i};throw i}}async copy(t,e,n){var r=this;try{return{data:{path:(await wr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(wt(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var r=this;try{let i=r._getFinalPath(t),a=await wr(r.fetch,`${r.url}/object/sign/${i}`,Ee({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${r.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(wt(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var r=this;try{const i=await wr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Ee(Ee({},s),{},{signedUrl:s.signedURL?encodeURI(`${r.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(wt(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=r?`?${r}`:"",a=this._getFinalPath(t),s=()=>$u(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new T4(s,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:$_(await $u(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await x4(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wt(r)&&r instanceof L_){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const a=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});s!==""&&r.push(s);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}async remove(t){var e=this;try{return{data:await Vw(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const i=Ee(Ee(Ee({},A4),e),{},{prefix:t||""});return{data:await wr(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(wt(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const r=Ee({},t);return{data:await wr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const lU="2.89.0",uU={"X-Client-Info":`storage-js/${lU}`};var R4=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Ee(Ee({},uU),e),this.fetch=Gw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await $u(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await $u(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await wr(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await q_(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await wr(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Vw(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},O4=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ee(Ee({},uU),e),this.fetch=Gw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await wr(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await $u(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Vw(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!v4(t))throw new tp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new h4({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,a){const s=i[a];return typeof s!="function"?s:async(...u)=>{try{return{data:await s.apply(i,u),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}};const zw={"X-Client-Info":`storage-js/${lU}`,"Content-Type":"application/json"};var cU=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function $n(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var vv=class extends cU{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},M4=class extends cU{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Fw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),N4=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},k1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),P4=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,i=t;if(typeof i.json=="function")i.json().then(a=>{const s=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||r+"";e(new vv(k1(a),r,s))}).catch(()=>{const a=r+"";e(new vv(i.statusText||`HTTP ${r} error`,r,a))});else{const a=r+"";e(new vv(i.statusText||`HTTP ${r} error`,r,a))}}else e(new M4(k1(t),t))},I4=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(N4(r)?(i.headers=Ee({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Ee(Ee({},i),n)):i};async function D4(t,e,n,r,i,a){return new Promise((s,u)=>{t(n,I4(e,r,i,a)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const f=c.headers.get("content-type");return!f||!f.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>P4(c,u,r))})}async function qn(t,e,n,r,i){return D4(t,"POST",e,r,i,n)}var k4=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ee(Ee({},zw),e),this.fetch=Fw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await qn(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($n(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await qn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($n(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await qn(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($n(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await qn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($n(r))return{data:null,error:r};throw r}}},U4=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ee(Ee({},zw),e),this.fetch=Fw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await qn(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($n(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await qn(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($n(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await qn(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($n(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await qn(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($n(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await qn(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($n(n))return{data:null,error:n};throw n}}},L4=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ee(Ee({},zw),e),this.fetch=Fw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await qn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($n(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await qn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($n(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await qn(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($n(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await qn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($n(n))return{data:null,error:n};throw n}}},$4=class extends L4{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new q4(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},q4=class extends k4{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,Ee(Ee({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,Ee(Ee({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new B4(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},B4=class extends U4{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,Ee(Ee({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,Ee(Ee({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,Ee(Ee({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,Ee(Ee({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,Ee(Ee({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},j4=class extends R4{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new C4(this.url,this.headers,t,this.fetch)}get vectors(){return new $4(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new O4(this.url+"/iceberg",this.headers,this.fetch)}};const fU="2.89.0",cs=30*1e3,B_=3,yv=B_*cs,H4="http://localhost:9999",G4="supabase.auth.token",V4={"X-Client-Info":`gotrue-js/${fU}`},j_="X-Supabase-Api-Version",dU={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},z4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,F4=600*1e3;class qu extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function be(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class K4 extends qu{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function W4(t){return be(t)&&t.name==="AuthApiError"}class Ja extends qu{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Oi extends qu{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Un extends Oi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Y4(t){return be(t)&&t.name==="AuthSessionMissingError"}class ns extends Oi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class od extends Oi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class sd extends Oi{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function J4(t){return be(t)&&t.name==="AuthImplicitGrantRedirectError"}class U1 extends Oi{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class X4 extends Oi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class H_ extends Oi{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function bv(t){return be(t)&&t.name==="AuthRetryableFetchError"}class L1 extends Oi{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class G_ extends Oi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$1=` 	
\r=`.split(""),Q4=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<$1.length;e+=1)t[$1[e].charCodeAt(0)]=-2;for(let e=0;e<Vd.length;e+=1)t[Vd[e].charCodeAt(0)]=e;return t})();function q1(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Vd[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Vd[r]),e.queuedBits-=6}}function hU(t,e,n){const r=Q4[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function B1(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{tV(s,r,n)};for(let s=0;s<t.length;s+=1)hU(t.charCodeAt(s),i,a);return e.join("")}function Z4(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function eV(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Z4(r,e)}}function tV(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ws(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)hU(t.charCodeAt(i),n,r);return new Uint8Array(e)}function nV(t){const e=[];return eV(t,n=>e.push(n)),new Uint8Array(e)}function Za(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>q1(i,n,r)),q1(null,n,r),e.join("")}function rV(t){return Math.round(Date.now()/1e3)+t}function iV(){return Symbol("auth-callback")}const tn=()=>typeof window<"u"&&typeof document<"u",Ba={tested:!1,writable:!1},pU=()=>{if(!tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ba.tested)return Ba.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ba.tested=!0,Ba.writable=!0}catch{Ba.tested=!0,Ba.writable=!1}return Ba.writable};function aV(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const mU=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),oV=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",fs=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ja=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},en=async(t,e)=>{await t.removeItem(e)};class np{constructor(){this.promise=new np.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}np.promiseConstructor=Promise;function _v(t){const e=t.split(".");if(e.length!==3)throw new G_("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!z4.test(e[r]))throw new G_("JWT not in base64url format");return{header:JSON.parse(B1(e[0])),payload:JSON.parse(B1(e[1])),signature:ws(e[2]),raw:{header:e[0],payload:e[1]}}}async function sV(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function lV(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){r(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function uV(t){return("0"+t.toString(16)).substr(-2)}function cV(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,uV).join("")}async function fV(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function dV(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await fV(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function rs(t,e,n=!1){const r=cV();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await fs(t,`${e}-code-verifier`,i);const a=await dV(r);return[a,r===a?"plain":"s256"]}const hV=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pV(t){const e=t.headers.get(j_);if(!e||!e.match(hV))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function mV(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function gV(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vV=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function is(t){if(!vV.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Sv(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yV(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function j1(t){return JSON.parse(JSON.stringify(t))}const za=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bV=[502,503,504];async function H1(t){var e;if(!oV(t))throw new H_(za(t),0);if(bV.includes(t.status))throw new H_(za(t),t.status);let n;try{n=await t.json()}catch(a){throw new Ja(za(a),a)}let r;const i=pV(t);if(i&&i.getTime()>=dU["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new L1(za(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Un}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new L1(za(n),t.status,n.weak_password.reasons);throw new K4(za(n),t.status||500,r)}const _V=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function xe(t,e,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[j_]||(a[j_]=dU["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const s=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const u=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await SV(t,e,n+u,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function SV(t,e,n,r,i,a){const s=_V(e,r,i,a);let u;try{u=await t(n,Object.assign({},s))}catch(c){throw console.error(c),new H_(za(c),0)}if(u.ok||await H1(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(c){await H1(c)}}function _r(t){var e;let n=null;EV(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=rV(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function G1(t){const e=_r(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ca(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function wV(t){return{data:t,error:null}}function xV(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,s=ep(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},c=Object.assign({},s);return{data:{properties:u,user:c},error:null}}function V1(t){return t}function EV(t){return t.access_token&&t.refresh_token&&t.expires_in}const wv=["global","local","others"];class TV{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=mU(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=wv[0]){if(wv.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wv.join(", ")}`);try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ca})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=ep(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:xV,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(be(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ca})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,s,u,c;try{const f={nextPage:null,lastPage:0,total:0},h=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:V1});if(h.error)throw h.error;const m=await h.json(),v=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,_=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return _.length>0&&(_.forEach(x=>{const E=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);f[`${w}Page`]=E}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(be(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){is(e);try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ca})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){is(e);try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ca})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){is(e);try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ca})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){is(e.userId);try{const{data:n,error:r}=await xe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _deleteFactor(e){is(e.userId),is(e.id);try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,a,s,u,c;try{const f={nextPage:null,lastPage:0,total:0},h=await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:V1});if(h.error)throw h.error;const m=await h.json(),v=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,_=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return _.length>0&&(_.forEach(x=>{const E=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);f[`${w}Page`]=E}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(be(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await xe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await xe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}}function z1(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const as={debug:!!(globalThis&&pU()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gU extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class AV extends gU{}async function CV(t,e,n){as.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),as.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){as.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{as.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw as.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new AV(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(as.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function RV(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function vU(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function OV(t){return parseInt(t,16)}function MV(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function NV(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:u,requestId:c,resources:f,scheme:h,uri:m,version:v}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const _=vU(t.address),x=h?`${h}://${r}`:r,E=t.statement?`${t.statement}
`:"",w=`${x} wants you to sign in with your Ethereum account:
${_}

${E}`;let T=`URI: ${m}
Version: ${v}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(T+=`
Expiration Time: ${i.toISOString()}`),u&&(T+=`
Not Before: ${u.toISOString()}`),c&&(T+=`
Request ID: ${c}`),f){let C=`
Resources:`;for(const A of f){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);C+=`
- ${A}`}T+=C}return`${w}
${T}`}class Ut extends Error{constructor({message:e,code:n,cause:r,name:i}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class zd extends Ut{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function PV({error:t,options:e}){var n,r,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ut({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ut({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ut({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ut({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ut({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ut({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Ut({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ut({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(yU(s)){if(a.rp.id!==s)return new Ut({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Ut({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ut({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function IV({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ut({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ut({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(yU(r)){if(n.rpId!==r)return new Ut({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ut({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class DV{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const kV=new DV;function UV(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=ep(t,["challenge","user","excludeCredentials"]),a=ws(e).buffer,s=Object.assign(Object.assign({},n),{id:ws(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:a,user:s});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const f=r[c];u.excludeCredentials[c]=Object.assign(Object.assign({},f),{id:ws(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function LV(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=ep(t,["challenge","allowCredentials"]),i=ws(e).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const u=n[s];a.allowCredentials[s]=Object.assign(Object.assign({},u),{id:ws(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function $V(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Za(new Uint8Array(t.response.attestationObject)),clientDataJSON:Za(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function qV(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Za(new Uint8Array(i.authenticatorData)),clientDataJSON:Za(new Uint8Array(i.clientDataJSON)),signature:Za(new Uint8Array(i.signature)),userHandle:i.userHandle?Za(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function yU(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function F1(){var t,e;return!!(tn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function BV(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new zd("Browser returned unexpected credential type",e)}:{data:null,error:new zd("Empty credential response",e)}}catch(e){return{data:null,error:PV({error:e,options:t})}}}async function jV(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new zd("Browser returned unexpected credential type",e)}:{data:null,error:new zd("Empty credential response",e)}}catch(e){return{data:null,error:IV({error:e,options:t})}}}const HV={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},GV={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Fd(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))r[a]=s;else if(n(s))r[a]=s;else if(e(s)){const u=r[a];e(u)?r[a]=Fd(u,s):r[a]=Fd(s)}else r[a]=s}return r}function VV(t,e){return Fd(HV,t,e||{})}function zV(t,e){return Fd(GV,t,e||{})}class FV{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},a){try{const{data:s,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!s)return{data:null,error:u};const c=i??kV.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:f}=s.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(s.webauthn.type){case"create":{const f=VV(s.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:h,error:m}=await BV({publicKey:f,signal:c});return h?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}case"request":{const f=zV(s.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:h,error:m}=await jV(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:f,signal:c}));return h?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}}}catch(s){return be(s)?{data:null,error:s}:{data:null,error:new Ja("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new qu("rpId is required for WebAuthn authentication")};try{if(!F1())return{data:null,error:new Ja("Browser does not support WebAuthn",null)};const{data:s,error:u}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!s)return{data:null,error:u};const{webauthn:c}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(s){return be(s)?{data:null,error:s}:{data:null,error:new Ja("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new qu("rpId is required for WebAuthn registration")};try{if(!F1())return{data:null,error:new Ja("Browser does not support WebAuthn",null)};const{data:s,error:u}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(h=>{var m;return(m=h.data)===null||m===void 0?void 0:m.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:c,error:f}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:f}}catch(s){return be(s)?{data:null,error:s}:{data:null,error:new Ja("Unexpected error in register",s)}}}}RV();const KV={url:H4,storageKey:G4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:V4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function K1(t,e,n){return await n()}const os={};class Bu{get jwks(){var e,n;return(n=(e=os[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){os[this.storageKey]=Object.assign(Object.assign({},os[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=os[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){os[this.storageKey]=Object.assign(Object.assign({},os[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},KV),e);if(this.storageKey=a.storageKey,this.instanceID=(n=Bu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Bu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&tn()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new TV({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=mU(a.fetch),this.lock=a.lock||K1,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&tn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=CV:this.lock=K1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new FV(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:pU()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=z1(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=z1(this.memoryStorage)),tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${fU}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(tn()&&(n=aV(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),tn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),J4(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",u),await this._saveSession(s),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return be(n)?this._returnResult({error:n}):this._returnResult({error:new Ja("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:_r}),{data:s,error:u}=a;if(u||!s)return this._returnResult({data:{user:null,session:null},error:u});const c=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(a){if(be(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:h,password:m,options:v}=e;let _=null,x=null;this.flowType==="pkce"&&([_,x]=await rs(this.storage,this.storageKey)),a=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:h,password:m,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:_,code_challenge_method:x},xform:_r})}else if("phone"in e){const{phone:h,password:m,options:v}=e;a=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:_r})}else throw new od("You must provide either an email or phone number and a password");const{data:s,error:u}=a;if(u||!s)return await en(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const c=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(a){if(await en(this.storage,`${this.storageKey}-code-verifier`),be(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:s,options:u}=e;n=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:G1})}else if("phone"in e){const{phone:a,password:s,options:u}=e;n=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:G1})}else throw new od("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new ns;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,a,s,u,c,f,h,m,v;let _,x;if("message"in e)_=e.message,x=e.signature;else{const{chain:E,wallet:w,statement:T,options:C}=e;let A;if(tn())if(typeof w=="object")A=w;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")A=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=w}const P=new URL((n=C==null?void 0:C.url)!==null&&n!==void 0?n:window.location.href),R=await A.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=vU(R[0]);let I=(r=C==null?void 0:C.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!I){const U=await A.request({method:"eth_chainId"});I=OV(U)}const k={domain:P.host,address:M,statement:T,uri:P.href,version:"1",chainId:I,nonce:(i=C==null?void 0:C.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=C==null?void 0:C.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(u=C==null?void 0:C.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(c=C==null?void 0:C.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(f=C==null?void 0:C.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(h=C==null?void 0:C.signInWithEthereum)===null||h===void 0?void 0:h.resources};_=NV(k),x=await A.request({method:"personal_sign",params:[MV(_),M]})}try{const{data:E,error:w}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:x},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:_r});if(w)throw w;if(!E||!E.session||!E.user){const T=new ns;return this._returnResult({data:{user:null,session:null},error:T})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:w})}catch(E){if(be(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var n,r,i,a,s,u,c,f,h,m,v,_;let x,E;if("message"in e)x=e.message,E=e.signature;else{const{chain:w,wallet:T,statement:C,options:A}=e;let P;if(tn())if(typeof T=="object")P=T;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))P=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=T}const R=new URL((n=A==null?void 0:A.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const M=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),C?{statement:C}:null));let I;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")I=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)I=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)x=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),E=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${R.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(i=(r=A==null?void 0:A.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=A==null?void 0:A.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((s=A==null?void 0:A.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((u=A==null?void 0:A.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((c=A==null?void 0:A.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((f=A==null?void 0:A.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((m=(h=A==null?void 0:A.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...A.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const M=await P.signMessage(new TextEncoder().encode(x),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=M}}try{const{data:w,error:T}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Za(E)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:_r});if(T)throw T;if(!w||!w.session||!w.user){const C=new ns;return this._returnResult({data:{user:null,session:null},error:C})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:T})}catch(w){if(be(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(e){const n=await ja(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new X4;const{data:a,error:s}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:_r});if(await en(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const u=new ns;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(await en(this.storage,`${this.storageKey}-code-verifier`),be(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:s}=e,u=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:_r}),{data:c,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!c||!c.session||!c.user){const h=new ns;return this._returnResult({data:{user:null,session:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:f})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,a,s;try{if("email"in e){const{email:u,options:c}=e;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await rs(this.storage,this.storageKey));const{error:m}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:u,options:c}=e,{data:f,error:h}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h})}throw new od("You must provide either an email or phone number.")}catch(u){if(await en(this.storage,`${this.storageKey}-code-verifier`),be(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:u}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:_r});if(u)throw u;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,f=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(i){if(be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,a,s;try{let u=null,c=null;this.flowType==="pkce"&&([u,c]=await rs(this.storage,this.storageKey));const f=await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:c}),headers:this.headers,xform:wV});return!((a=f.data)===null||a===void 0)&&a.url&&tn()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await en(this.storage,`${this.storageKey}-code-verifier`),be(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Un;const{error:i}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(be(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:s}=await xe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:s,error:u}=await xe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:u})}throw new od("You must provide either an email or phone number and a type")}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ja(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<yv:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const s=await ja(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=Sv()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};e.user=yV(e.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ca}):await this._useSession(async n=>{var r,i,a;const{data:s,error:u}=n;if(u)throw u;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Un}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:ca})})}catch(n){if(be(n))return Y4(n)&&(await this._removeSession(),await en(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Un;const s=i.session;let u=null,c=null;this.flowType==="pkce"&&e.email!=null&&([u,c]=await rs(this.storage,this.storageKey));const{data:f,error:h}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:c}),jwt:s.access_token,xform:ca});if(h)throw h;return s.user=f.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(r){if(await en(this.storage,`${this.storageKey}-code-verifier`),be(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Un;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:s}=_v(e.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{data:u,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(be(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:u}=n;if(u)throw u;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Un;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!tn())throw new sd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new sd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new U1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new sd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new U1("No code detected.");const{data:C,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:u,expires_at:c,token_type:f}=e;if(!a||!u||!s||!f)throw new sd("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(u);let v=h+m;c&&(v=parseInt(c));const _=v-h;_*1e3<=cs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${m}s`);const x=v-m;h-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,v,h):h-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,v,h);const{data:E,error:w}=await this._getUser(a);if(w)throw w;const T={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:v,refresh_token:s,token_type:f,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:e.type},error:null})}catch(r){if(be(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ja(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:u}=await this.admin.signOut(s,e);if(u&&!(W4(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await en(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=iV(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await rs(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await en(this.storage,`${this.storageKey}-code-verifier`),be(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var s,u,c,f,h;const{data:m,error:v}=a;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",_,{headers:this.headers,jwt:(h=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return tn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(be(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:s,provider:u,token:c,access_token:f,nonce:h}=e,m=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:c,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:_r}),{data:v,error:_}=m;return _?this._returnResult({data:{user:null,session:null},error:_}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new ns}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:_}))}catch(i){if(await en(this.storage,`${this.storageKey}-code-verifier`),be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)throw s;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await lV(async i=>(i>0&&await sV(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_r})),(i,a)=>{const s=200*Math.pow(2,i);return a&&bv(a)&&Date.now()+s-r<cs})}catch(r){if(this._debug(n,"error",r),be(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),tn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await ja(this.storage,this.storageKey);if(i&&this.userStorage){let s=await ja(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await fs(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:Sv()}else if(i&&!i.user&&!i.user){const s=await ja(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await en(this.storage,this.storageKey+"-user"),await fs(this.storage,this.storageKey,i)):i.user=Sv()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<yv;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${yv}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),bv(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:u}=await this._getUser(i.access_token);!u&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Un;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new np;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new Un;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(i,"error",a),be(a)){const s={data:null,error:a};return bv(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(c){a.push(c)}});if(await Promise.all(s),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await en(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await fs(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=j1(i);await fs(this.storage,this.storageKey,a)}else{const i=j1(n);await fs(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await en(this.storage,this.storageKey),await en(this.storage,this.storageKey+"-code-verifier"),await en(this.storage,this.storageKey+"-user"),this.userStorage&&await en(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&tn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),cs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/cs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${cs}ms, refresh threshold is ${B_} ticks`),i<=B_&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof gU)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,s]=await rs(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await xe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)return this._returnResult({data:null,error:s});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:f}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?$V(e.webauthn.credential_response):qV(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:c}=await xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:c}))})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=await xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(s.error)return s;const{data:u}=s;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:UV(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:LV(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=_v(r.access_token);let s=null;a.aal&&(s=a.aal);let u=s;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const f=a.amr||[];return{data:{currentLevel:s,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await xe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Un})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Un});const s=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return s.data&&s.data.redirect_url&&tn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Un});const s=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return s.data&&s.data.redirect_url&&tn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await xe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Un})})}catch(e){if(be(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await xe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Un})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(u=>u.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===e),r&&this.jwks_cached_at+F4>i)return r;const{data:a,error:s}=await xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(u=>u.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:_,error:x}=await this.getSession();if(x||!_.session)return this._returnResult({data:null,error:x});r=_.session.access_token}const{header:i,payload:a,signature:s,raw:{header:u,payload:c}}=_v(r);n!=null&&n.allowExpired||mV(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:a,header:i,signature:s},error:null}}const h=gV(i.alg),m=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,s,nV(`${u}.${c}`)))throw new G_("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}}Bu.nextInstanceID={};const WV=Bu,YV="2.89.0";let gu="";typeof Deno<"u"?gu="deno":typeof document<"u"?gu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gu="react-native":gu="node";const JV={"X-Client-Info":`supabase-js-${gu}/${YV}`},XV={headers:JV},QV={schema:"public"},ZV={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ez={};function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function tz(t,e){if(ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nz(t){var e=tz(t,"string");return ju(e)=="symbol"?e:e+""}function rz(t,e,n){return(e=nz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W1(Object(n),!0).forEach(function(r){rz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const iz=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),az=()=>Headers,oz=(t,e,n)=>{const r=iz(n),i=az();return async(a,s)=>{var u;const c=(u=await e())!==null&&u!==void 0?u:t;let f=new i(s==null?void 0:s.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${c}`),r(a,Ct(Ct({},s),{},{headers:f}))}};function sz(t){return t.endsWith("/")?t:t+"/"}function lz(t,e){var n,r;const{db:i,auth:a,realtime:s,global:u}=t,{db:c,auth:f,realtime:h,global:m}=e,v={db:Ct(Ct({},c),i),auth:Ct(Ct({},f),a),realtime:Ct(Ct({},h),s),storage:{},global:Ct(Ct(Ct({},m),u),{},{headers:Ct(Ct({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function uz(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(sz(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var cz=class extends WV{constructor(t){super(t)}},fz=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const a=uz(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const s=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:QV,realtime:ez,auth:Ct(Ct({},ZV),{},{storageKey:s}),global:XV},c=lz(n??{},u);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=c.auth)!==null&&f!==void 0?f:{},this.headers,c.global.fetch)}this.fetch=oz(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Ct({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new VG(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new j4(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new qG(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:a,flowType:s,lock:u,debug:c,throwOnError:f},h,m){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new cz({url:this.authUrl.href,headers:Ct(Ct({},v),h),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:s,lock:u,debug:c,throwOnError:f,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new s4(this.realtimeUrl.href,Ct(Ct({},t),{},{params:Ct(Ct({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const dz=(t,e,n)=>new fz(t,e,n);function hz(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}hz()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const pz="https://dwbvegnxmyvpolvofkfn.supabase.co",mz="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR3YnZlZ254bXl2cG9sdm9ma2ZuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc1Mzg1NTUsImV4cCI6MjA4MzExNDU1NX0.eT5ZSce8H8Yk8pWKyLUYChU0HtmZljywP4eEQd5FkOI",rn=dz(pz,mz),gz=t=>({id:t.id,title:t.title,category:t.category,description:t.description,createdAt:new Date(t.created_at).getTime(),votes:{support:t.support_count||0,oppose:t.oppose_count||0,neutral:t.neutral_count||0},regionalVotes:t.regionalVotes||{},pros:t.pros||[],cons:t.cons||[],aiAnalysis:t.ai_analysis,hasVoted:t.hasVoted,labelSupport:t.label_support,labelOppose:t.label_oppose}),fa={async fetchComments(t){const{data:e,error:n}=await rn.from("comments").select(`
                id,
                content,
                created_at,
                user_id,
                profiles:user_id (
                    region,
                    avatar_url
                 )
            `).eq("topic_id",t).order("created_at",{ascending:!1});if(n)throw n;return e.map(r=>{var s;let i="Ciudadano "+r.user_id.slice(0,4);const a=(s=r.profiles)==null?void 0:s.avatar_url;if(a&&a.includes("seed="))try{const u=a.split("seed=")[1];i=decodeURIComponent(u)}catch{}return{id:r.id,topicId:t,userId:r.user_id,userName:i,userAvatar:a||`https://api.dicebear.com/7.x/avataaars/svg?seed=${r.user_id}`,content:r.content,createdAt:new Date(r.created_at).getTime()}})},async postComment(t,e,n){const{data:r,error:i}=await rn.from("comments").insert({topic_id:t,user_id:n,content:e}).select().single();if(i)throw i;return r},async fetchTopics(t){let e=rn.from("topics_with_stats").select("*").order("created_at",{ascending:!1});t&&(e=e.eq("category",t));const{data:n,error:r}=await e;if(r)throw r;return n.map(gz)},async createTopic(t){const{data:e,error:n}=await rn.from("topics").insert({title:t.title,category:t.category,description:t.description,pros:t.pros,cons:t.cons,ai_analysis:t.aiAnalysis,label_support:t.labelSupport,label_oppose:t.labelOppose}).select().single();if(n)throw n;return e},async castVote(t,e,n){const{error:r}=await rn.from("votes").insert({topic_id:t,choice:e,region:n});if(r)throw r.code==="23505"?new Error("Ya has votado en este tema."):r;return!0},async fetchUserVotes(t){const{data:e,error:n}=await rn.from("votes").select(`
                *,
                topic:topics (title, category)
            `).eq("user_id",t).order("created_at",{ascending:!1});if(n)throw n;return e},async updateUserProfile(t,e){const{error:n}=await rn.from("profiles").update(e).eq("id",t);if(n)throw n;return!0},async fetchUserCount(){const{count:t,error:e}=await rn.from("profiles").select("*",{count:"exact",head:!0});if(e)throw e;return t||0}},vz=({topic:t})=>{const e=t.votes.support+t.votes.oppose+t.votes.neutral,n=e>0?Math.round(t.votes.support/e*100):0;return N.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 hover:shadow-xl transition-shadow duration-300 group",children:[N.jsxs("div",{className:"flex justify-between items-start mb-4",children:[N.jsx("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-xs font-semibold bg-indigo-50 text-indigo-700",children:t.category}),N.jsx("span",{className:"text-gray-400 text-xs",children:new Date(t.createdAt).toLocaleDateString()})]}),N.jsx(pn,{to:`/topic/${t.id}`,children:N.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-indigo-600 transition-colors mb-2",children:t.title})}),N.jsx("p",{className:"text-gray-600 line-clamp-3 mb-6 text-sm",children:t.description}),N.jsxs("div",{className:"space-y-2",children:[N.jsxs("div",{className:"flex justify-between text-xs font-semibold text-gray-500",children:[N.jsxs("span",{children:[e.toLocaleString()," Votos"]}),N.jsxs("span",{children:[n,"% A favor"]})]}),N.jsxs("div",{className:"h-2 w-full bg-gray-100 rounded-full overflow-hidden flex",children:[N.jsx("div",{className:"bg-green-500 h-full",style:{width:`${t.votes.support/e*100}%`}}),N.jsx("div",{className:"bg-red-500 h-full",style:{width:`${t.votes.oppose/e*100}%`}}),N.jsx("div",{className:"bg-gray-400 h-full",style:{width:`${t.votes.neutral/e*100}%`}})]})]}),N.jsx(pn,{to:`/topic/${t.id}`,className:"mt-6 block w-full text-center py-2.5 px-4 bg-gray-50 text-gray-900 font-bold rounded-xl hover:bg-gray-100 transition-colors",children:"Ver Anlisis"})]})},bU=({topics:t,title:e="Temas en Tendencia",showFilters:n=!0})=>N.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[N.jsxs("header",{className:"mb-12 text-center",children:[N.jsxs("h1",{className:"text-4xl sm:text-5xl font-extrabold text-gray-900 mb-4 tracking-tight",children:["Democracia impulsada por ",N.jsx("span",{className:"text-indigo-600",children:"Inteligencia Popular"})]}),N.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Explora los debates polticos actuales, emite tu voto y obtn anlisis equilibrados potenciados por IA avanzada."})]}),N.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 space-y-4 md:space-y-0",children:[N.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e}),n&&N.jsx("div",{className:"flex flex-wrap gap-2",children:["Todos","Economa","Medio Ambiente","Social","Legal"].map(r=>N.jsx("button",{className:"px-4 py-2 rounded-full text-sm font-medium text-gray-600 hover:bg-gray-100 transition border border-gray-200",children:r},r))})]}),N.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(r=>N.jsx(vz,{topic:r},r.id))}),t.length===0&&N.jsx("div",{className:"text-center py-20 bg-white rounded-3xl border-2 border-dashed border-gray-300",children:N.jsx("p",{className:"text-gray-500 text-lg",children:"No hay temas activos. Por qu no propones uno?"})})]});function _U(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=_U(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ze(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=_U(t))&&(r&&(r+=" "),r+=e);return r}var xv,Y1;function An(){if(Y1)return xv;Y1=1;var t=Array.isArray;return xv=t,xv}var Ev,J1;function SU(){if(J1)return Ev;J1=1;var t=typeof nd=="object"&&nd&&nd.Object===Object&&nd;return Ev=t,Ev}var Tv,X1;function Kr(){if(X1)return Tv;X1=1;var t=SU(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Tv=n,Tv}var Av,Q1;function Oc(){if(Q1)return Av;Q1=1;var t=Kr(),e=t.Symbol;return Av=e,Av}var Cv,Z1;function yz(){if(Z1)return Cv;Z1=1;var t=Oc(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(s){var u=n.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var h=r.call(s);return f&&(u?s[i]=c:delete s[i]),h}return Cv=a,Cv}var Rv,eR;function bz(){if(eR)return Rv;eR=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Rv=n,Rv}var Ov,tR;function Mi(){if(tR)return Ov;tR=1;var t=Oc(),e=yz(),n=bz(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(u){return u==null?u===void 0?i:r:a&&a in Object(u)?e(u):n(u)}return Ov=s,Ov}var Mv,nR;function Ni(){if(nR)return Mv;nR=1;function t(e){return e!=null&&typeof e=="object"}return Mv=t,Mv}var Nv,rR;function tl(){if(rR)return Nv;rR=1;var t=Mi(),e=Ni(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return Nv=r,Nv}var Pv,iR;function Kw(){if(iR)return Pv;iR=1;var t=An(),e=tl(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){if(t(a))return!1;var u=typeof a;return u=="number"||u=="symbol"||u=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||s!=null&&a in Object(s)}return Pv=i,Pv}var Iv,aR;function ga(){if(aR)return Iv;aR=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Iv=t,Iv}var Dv,oR;function Ww(){if(oR)return Dv;oR=1;var t=Mi(),e=ga(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(u){if(!e(u))return!1;var c=t(u);return c==r||c==i||c==n||c==a}return Dv=s,Dv}var kv,sR;function _z(){if(sR)return kv;sR=1;var t=Kr(),e=t["__core-js_shared__"];return kv=e,kv}var Uv,lR;function Sz(){if(lR)return Uv;lR=1;var t=_z(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return Uv=n,Uv}var Lv,uR;function wU(){if(uR)return Lv;uR=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Lv=n,Lv}var $v,cR;function wz(){if(cR)return $v;cR=1;var t=Ww(),e=Sz(),n=ga(),r=wU(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,c=s.toString,f=u.hasOwnProperty,h=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(v){if(!n(v)||e(v))return!1;var _=t(v)?h:a;return _.test(r(v))}return $v=m,$v}var qv,fR;function xz(){if(fR)return qv;fR=1;function t(e,n){return e==null?void 0:e[n]}return qv=t,qv}var Bv,dR;function fo(){if(dR)return Bv;dR=1;var t=wz(),e=xz();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return Bv=n,Bv}var jv,hR;function rp(){if(hR)return jv;hR=1;var t=fo(),e=t(Object,"create");return jv=e,jv}var Hv,pR;function Ez(){if(pR)return Hv;pR=1;var t=rp();function e(){this.__data__=t?t(null):{},this.size=0}return Hv=e,Hv}var Gv,mR;function Tz(){if(mR)return Gv;mR=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Gv=t,Gv}var Vv,gR;function Az(){if(gR)return Vv;gR=1;var t=rp(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var s=this.__data__;if(t){var u=s[a];return u===e?void 0:u}return r.call(s,a)?s[a]:void 0}return Vv=i,Vv}var zv,vR;function Cz(){if(vR)return zv;vR=1;var t=rp(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return zv=r,zv}var Fv,yR;function Rz(){if(yR)return Fv;yR=1;var t=rp(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return Fv=n,Fv}var Kv,bR;function Oz(){if(bR)return Kv;bR=1;var t=Ez(),e=Tz(),n=Az(),r=Cz(),i=Rz();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Kv=a,Kv}var Wv,_R;function Mz(){if(_R)return Wv;_R=1;function t(){this.__data__=[],this.size=0}return Wv=t,Wv}var Yv,SR;function Yw(){if(SR)return Yv;SR=1;function t(e,n){return e===n||e!==e&&n!==n}return Yv=t,Yv}var Jv,wR;function ip(){if(wR)return Jv;wR=1;var t=Yw();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return Jv=e,Jv}var Xv,xR;function Nz(){if(xR)return Xv;xR=1;var t=ip(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var u=a.length-1;return s==u?a.pop():n.call(a,s,1),--this.size,!0}return Xv=r,Xv}var Qv,ER;function Pz(){if(ER)return Qv;ER=1;var t=ip();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Qv=e,Qv}var Zv,TR;function Iz(){if(TR)return Zv;TR=1;var t=ip();function e(n){return t(this.__data__,n)>-1}return Zv=e,Zv}var ey,AR;function Dz(){if(AR)return ey;AR=1;var t=ip();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return ey=e,ey}var ty,CR;function ap(){if(CR)return ty;CR=1;var t=Mz(),e=Nz(),n=Pz(),r=Iz(),i=Dz();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,ty=a,ty}var ny,RR;function Jw(){if(RR)return ny;RR=1;var t=fo(),e=Kr(),n=t(e,"Map");return ny=n,ny}var ry,OR;function kz(){if(OR)return ry;OR=1;var t=Oz(),e=ap(),n=Jw();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return ry=r,ry}var iy,MR;function Uz(){if(MR)return iy;MR=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return iy=t,iy}var ay,NR;function op(){if(NR)return ay;NR=1;var t=Uz();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return ay=e,ay}var oy,PR;function Lz(){if(PR)return oy;PR=1;var t=op();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return oy=e,oy}var sy,IR;function $z(){if(IR)return sy;IR=1;var t=op();function e(n){return t(this,n).get(n)}return sy=e,sy}var ly,DR;function qz(){if(DR)return ly;DR=1;var t=op();function e(n){return t(this,n).has(n)}return ly=e,ly}var uy,kR;function Bz(){if(kR)return uy;kR=1;var t=op();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return uy=e,uy}var cy,UR;function Xw(){if(UR)return cy;UR=1;var t=kz(),e=Lz(),n=$z(),r=qz(),i=Bz();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,cy=a,cy}var fy,LR;function xU(){if(LR)return fy;LR=1;var t=Xw(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,u=i?i.apply(this,s):s[0],c=a.cache;if(c.has(u))return c.get(u);var f=r.apply(this,s);return a.cache=c.set(u,f)||c,f};return a.cache=new(n.Cache||t),a}return n.Cache=t,fy=n,fy}var dy,$R;function jz(){if($R)return dy;$R=1;var t=xU(),e=500;function n(r){var i=t(r,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return dy=n,dy}var hy,qR;function Hz(){if(qR)return hy;qR=1;var t=jz(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,u,c,f){a.push(c?f.replace(n,"$1"):u||s)}),a});return hy=r,hy}var py,BR;function Qw(){if(BR)return py;BR=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return py=t,py}var my,jR;function Gz(){if(jR)return my;jR=1;var t=Oc(),e=Qw(),n=An(),r=tl(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(u){if(typeof u=="string")return u;if(n(u))return e(u,s)+"";if(r(u))return a?a.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}return my=s,my}var gy,HR;function EU(){if(HR)return gy;HR=1;var t=Gz();function e(n){return n==null?"":t(n)}return gy=e,gy}var vy,GR;function TU(){if(GR)return vy;GR=1;var t=An(),e=Kw(),n=Hz(),r=EU();function i(a,s){return t(a)?a:e(a,s)?[a]:n(r(a))}return vy=i,vy}var yy,VR;function sp(){if(VR)return yy;VR=1;var t=tl();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return yy=e,yy}var by,zR;function Zw(){if(zR)return by;zR=1;var t=TU(),e=sp();function n(r,i){i=t(i,r);for(var a=0,s=i.length;r!=null&&a<s;)r=r[e(i[a++])];return a&&a==s?r:void 0}return by=n,by}var _y,FR;function AU(){if(FR)return _y;FR=1;var t=Zw();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return _y=e,_y}var Vz=AU();const Tr=tt(Vz);var Sy,KR;function zz(){if(KR)return Sy;KR=1;function t(e){return e==null}return Sy=t,Sy}var Fz=zz();const He=tt(Fz);var wy,WR;function Kz(){if(WR)return wy;WR=1;var t=Mi(),e=An(),n=Ni(),r="[object String]";function i(a){return typeof a=="string"||!e(a)&&n(a)&&t(a)==r}return wy=i,wy}var Wz=Kz();const Mc=tt(Wz);var Yz=Ww();const De=tt(Yz);var Jz=ga();const nl=tt(Jz);var xy={exports:{}},Je={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YR;function Xz(){if(YR)return Je;YR=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function E(w){if(typeof w=="object"&&w!==null){var T=w.$$typeof;switch(T){case t:switch(w=w.type,w){case n:case i:case r:case f:case h:return w;default:switch(w=w&&w.$$typeof,w){case u:case s:case c:case v:case m:case a:return w;default:return T}}case e:return T}}}return Je.ContextConsumer=s,Je.ContextProvider=a,Je.Element=t,Je.ForwardRef=c,Je.Fragment=n,Je.Lazy=v,Je.Memo=m,Je.Portal=e,Je.Profiler=i,Je.StrictMode=r,Je.Suspense=f,Je.SuspenseList=h,Je.isAsyncMode=function(){return!1},Je.isConcurrentMode=function(){return!1},Je.isContextConsumer=function(w){return E(w)===s},Je.isContextProvider=function(w){return E(w)===a},Je.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},Je.isForwardRef=function(w){return E(w)===c},Je.isFragment=function(w){return E(w)===n},Je.isLazy=function(w){return E(w)===v},Je.isMemo=function(w){return E(w)===m},Je.isPortal=function(w){return E(w)===e},Je.isProfiler=function(w){return E(w)===i},Je.isStrictMode=function(w){return E(w)===r},Je.isSuspense=function(w){return E(w)===f},Je.isSuspenseList=function(w){return E(w)===h},Je.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===f||w===h||w===_||typeof w=="object"&&w!==null&&(w.$$typeof===v||w.$$typeof===m||w.$$typeof===a||w.$$typeof===s||w.$$typeof===c||w.$$typeof===x||w.getModuleId!==void 0)},Je.typeOf=E,Je}var JR;function Qz(){return JR||(JR=1,xy.exports=Xz()),xy.exports}var Zz=Qz(),Ey,XR;function CU(){if(XR)return Ey;XR=1;var t=Mi(),e=Ni(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return Ey=r,Ey}var Ty,QR;function eF(){if(QR)return Ty;QR=1;var t=CU();function e(n){return t(n)&&n!=+n}return Ty=e,Ty}var tF=eF();const Nc=tt(tF);var nF=CU();const rF=tt(nF);var ir=function(e){return e===0?0:e>0?1:-1},eo=function(e){return Mc(e)&&e.indexOf("%")===e.length-1},pe=function(e){return rF(e)&&!Nc(e)},Ht=function(e){return pe(e)||Mc(e)},iF=0,lp=function(e){var n=++iF;return"".concat(e||"").concat(n)},En=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pe(e)&&!Mc(e))return r;var a;if(eo(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Nc(a)&&(a=r),i&&a>n&&(a=n),a},ds=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},aF=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},ZR=function(e,n){return pe(e)&&pe(n)?function(r){return e+r*(n-e)}:function(){return n}};function V_(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Tr(r,e))===n})}function z_(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function F_(t){"@babel/helpers - typeof";return F_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F_(t)}var oF=["viewBox","children"],sF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],eO=["points","pathLength"],Ay={svg:oF,polygon:eO,polyline:eO},ex=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Kd=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(B.isValidElement(e)&&(r=e.props),!nl(r))return null;var i={};return Object.keys(r).forEach(function(a){ex.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},lF=function(e,n,r){return function(i){return e(n,r,i),null}},up=function(e,n,r){if(!nl(e)||F_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];ex.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=lF(s,n,r))}),i},uF=["children"],cF=["children"];function tO(t,e){if(t==null)return{};var n=fF(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var nO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Si=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},rO=null,Cy=null,tx=function t(e){if(e===rO&&Array.isArray(Cy))return Cy;var n=[];return B.Children.forEach(e,function(r){He(r)||(Zz.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Cy=n,rO=e,n};function Hr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Si(i)}):r=[Si(e)],tx(t).forEach(function(i){var a=Tr(i,"type.displayName")||Tr(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function tr(t,e){var n=Hr(t,e);return n&&n[0]}var iO=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!pe(r)||r<=0||!pe(i)||i<=0)},dF=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],hF=function(e){return e&&e.type&&Mc(e.type)&&dF.indexOf(e.type)>=0},pF=function(e,n,r,i){var a,s=(a=Ay==null?void 0:Ay[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!De(e)&&(i&&s.includes(n)||sF.includes(n))||r&&ex.includes(n)},Ie=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(B.isValidElement(e)&&(i=e.props),!nl(i))return null;var a={};return Object.keys(i).forEach(function(s){var u;pF((u=i)===null||u===void 0?void 0:u[s],s,n,r)&&(a[s]=i[s])}),a},K_=function t(e,n){if(e===n)return!0;var r=B.Children.count(e);if(r!==B.Children.count(n))return!1;if(r===0)return!0;if(r===1)return aO(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!aO(a,s))return!1}return!0},aO=function(e,n){if(He(e)&&He(n))return!0;if(!He(e)&&!He(n)){var r=e.props||{},i=r.children,a=tO(r,uF),s=n.props||{},u=s.children,c=tO(s,cF);return i&&u?z_(a,c)&&K_(i,u):!i&&!u?z_(a,c):!1}return!1},oO=function(e,n){var r=[],i={};return tx(e).forEach(function(a,s){if(hF(a))r.push(a);else if(a){var u=Si(a.type),c=n[u]||{},f=c.handler,h=c.once;if(f&&(!h||!i[u])){var m=f(a,u,s);r.push(m),i[u]=!0}}}),r},mF=function(e){var n=e&&e.type;return n&&nO[n]?nO[n]:null},gF=function(e,n){return tx(n).indexOf(e)},vF=["children","width","height","viewBox","className","style","title","desc"];function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W_.apply(this,arguments)}function yF(t,e){if(t==null)return{};var n=bF(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Y_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,u=t.title,c=t.desc,f=yF(t,vF),h=i||{width:n,height:r,x:0,y:0},m=ze("recharts-surface",a);return J.createElement("svg",W_({},Ie(f,!0,"svg"),{className:m,width:n,height:r,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),J.createElement("title",null,u),J.createElement("desc",null,c),e)}var _F=["children","className"];function J_(){return J_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J_.apply(this,arguments)}function SF(t,e){if(t==null)return{};var n=wF(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ot=J.forwardRef(function(t,e){var n=t.children,r=t.className,i=SF(t,_F),a=ze("recharts-layer",r);return J.createElement("g",J_({className:a},Ie(i,!0),{ref:e}),n)}),wi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},Ry,sO;function xF(){if(sO)return Ry;sO=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+n];return s}return Ry=t,Ry}var Oy,lO;function EF(){if(lO)return Oy;lO=1;var t=xF();function e(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:t(n,r,i)}return Oy=e,Oy}var My,uO;function RU(){if(uO)return My;uO=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",s="\\u200d",u=RegExp("["+s+t+i+a+"]");function c(f){return u.test(f)}return My=c,My}var Ny,cO;function TF(){if(cO)return Ny;cO=1;function t(e){return e.split("")}return Ny=t,Ny}var Py,fO;function AF(){if(fO)return Py;fO=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",s="["+t+"]",u="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+c+")",h="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",_="\\u200d",x=f+"?",E="["+a+"]?",w="(?:"+_+"(?:"+[h,m,v].join("|")+")"+E+x+")*",T=E+x+w,C="(?:"+[h+u+"?",u,m,v,s].join("|")+")",A=RegExp(c+"(?="+c+")|"+C+T,"g");function P(R){return R.match(A)||[]}return Py=P,Py}var Iy,dO;function CF(){if(dO)return Iy;dO=1;var t=TF(),e=RU(),n=AF();function r(i){return e(i)?n(i):t(i)}return Iy=r,Iy}var Dy,hO;function RF(){if(hO)return Dy;hO=1;var t=EF(),e=RU(),n=CF(),r=EU();function i(a){return function(s){s=r(s);var u=e(s)?n(s):void 0,c=u?u[0]:s.charAt(0),f=u?t(u,1).join(""):s.slice(1);return c[a]()+f}}return Dy=i,Dy}var ky,pO;function OF(){if(pO)return ky;pO=1;var t=RF(),e=t("toUpperCase");return ky=e,ky}var MF=OF();const cp=tt(MF);function ct(t){return function(){return t}}const OU=Math.cos,Wd=Math.sin,Rr=Math.sqrt,Yd=Math.PI,fp=2*Yd,X_=Math.PI,Q_=2*X_,Fa=1e-6,NF=Q_-Fa;function MU(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function PF(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return MU;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class nx{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?MU:PF(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,u=this._y1,c=r-e,f=i-n,h=s-e,m=u-n,v=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>Fa)if(!(Math.abs(m*c-f*h)>Fa)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-s,x=i-u,E=c*c+f*f,w=_*_+x*x,T=Math.sqrt(E),C=Math.sqrt(v),A=a*Math.tan((X_-Math.acos((E+v-w)/(2*T*C)))/2),P=A/C,R=A/T;Math.abs(P-1)>Fa&&this._append`L${e+P*h},${n+P*m}`,this._append`A${a},${a},0,0,${+(m*_>h*x)},${this._x1=e+R*c},${this._y1=n+R*f}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),f=e+u,h=n+c,m=1^s,v=s?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Fa||Math.abs(this._y1-h)>Fa)&&this._append`L${f},${h}`,r&&(v<0&&(v=v%Q_+Q_),v>NF?this._append`A${r},${r},0,1,${m},${e-u},${n-c}A${r},${r},0,1,${m},${this._x1=f},${this._y1=h}`:v>Fa&&this._append`A${r},${r},0,${+(v>=X_)},${m},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function NU(){return new nx}NU.prototype=nx.prototype;function rx(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new nx(e)}function ix(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function PU(t){this._context=t}PU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function dp(t){return new PU(t)}function IU(t){return t[0]}function DU(t){return t[1]}function kU(t,e){var n=ct(!0),r=null,i=dp,a=null,s=rx(u);t=typeof t=="function"?t:t===void 0?IU:ct(t),e=typeof e=="function"?e:e===void 0?DU:ct(e);function u(c){var f,h=(c=ix(c)).length,m,v=!1,_;for(r==null&&(a=i(_=s())),f=0;f<=h;++f)!(f<h&&n(m=c[f],f,c))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(m,f,c),+e(m,f,c));if(_)return a=null,_+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:ct(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:ct(+c),u):e},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:ct(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),u):r},u}function ld(t,e,n){var r=null,i=ct(!0),a=null,s=dp,u=null,c=rx(f);t=typeof t=="function"?t:t===void 0?IU:ct(+t),e=typeof e=="function"?e:ct(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?DU:ct(+n);function f(m){var v,_,x,E=(m=ix(m)).length,w,T=!1,C,A=new Array(E),P=new Array(E);for(a==null&&(u=s(C=c())),v=0;v<=E;++v){if(!(v<E&&i(w=m[v],v,m))===T)if(T=!T)_=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),x=v-1;x>=_;--x)u.point(A[x],P[x]);u.lineEnd(),u.areaEnd()}T&&(A[v]=+t(w,v,m),P[v]=+e(w,v,m),u.point(r?+r(w,v,m):A[v],n?+n(w,v,m):P[v]))}if(C)return u=null,C+""||null}function h(){return kU().defined(i).curve(s).context(a)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:ct(+m),r=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:ct(+m),f):t},f.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:ct(+m),f):r},f.y=function(m){return arguments.length?(e=typeof m=="function"?m:ct(+m),n=null,f):e},f.y0=function(m){return arguments.length?(e=typeof m=="function"?m:ct(+m),f):e},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:ct(+m),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:ct(!!m),f):i},f.curve=function(m){return arguments.length?(s=m,a!=null&&(u=s(a)),f):s},f.context=function(m){return arguments.length?(m==null?a=u=null:u=s(a=m),f):a},f}class UU{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function IF(t){return new UU(t,!0)}function DF(t){return new UU(t,!1)}const ax={draw(t,e){const n=Rr(e/Yd);t.moveTo(n,0),t.arc(0,0,n,0,fp)}},kF={draw(t,e){const n=Rr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},LU=Rr(1/3),UF=LU*2,LF={draw(t,e){const n=Rr(e/UF),r=n*LU;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},$F={draw(t,e){const n=Rr(e),r=-n/2;t.rect(r,r,n,n)}},qF=.8908130915292852,$U=Wd(Yd/10)/Wd(7*Yd/10),BF=Wd(fp/10)*$U,jF=-OU(fp/10)*$U,HF={draw(t,e){const n=Rr(e*qF),r=BF*n,i=jF*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=fp*a/5,u=OU(s),c=Wd(s);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},Uy=Rr(3),GF={draw(t,e){const n=-Rr(e/(Uy*3));t.moveTo(0,n*2),t.lineTo(-Uy*n,-n),t.lineTo(Uy*n,-n),t.closePath()}},Qn=-.5,Zn=Rr(3)/2,Z_=1/Rr(12),VF=(Z_/2+1)*3,zF={draw(t,e){const n=Rr(e/VF),r=n/2,i=n*Z_,a=r,s=n*Z_+n,u=-a,c=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(u,c),t.lineTo(Qn*r-Zn*i,Zn*r+Qn*i),t.lineTo(Qn*a-Zn*s,Zn*a+Qn*s),t.lineTo(Qn*u-Zn*c,Zn*u+Qn*c),t.lineTo(Qn*r+Zn*i,Qn*i-Zn*r),t.lineTo(Qn*a+Zn*s,Qn*s-Zn*a),t.lineTo(Qn*u+Zn*c,Qn*c-Zn*u),t.closePath()}};function FF(t,e){let n=null,r=rx(i);t=typeof t=="function"?t:ct(t||ax),e=typeof e=="function"?e:ct(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:ct(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:ct(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Jd(){}function Xd(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function qU(t){this._context=t}qU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function KF(t){return new qU(t)}function BU(t){this._context=t}BU.prototype={areaStart:Jd,areaEnd:Jd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Xd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function WF(t){return new BU(t)}function jU(t){this._context=t}jU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Xd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function YF(t){return new jU(t)}function HU(t){this._context=t}HU.prototype={areaStart:Jd,areaEnd:Jd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function JF(t){return new HU(t)}function mO(t){return t<0?-1:1}function gO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),u=(a*i+s*r)/(r+i);return(mO(a)+mO(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(u))||0}function vO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ly(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,s-u*n,a,s)}function Qd(t){this._context=t}Qd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ly(this,this._t0,vO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ly(this,vO(this,n=gO(this,t,e)),n);break;default:Ly(this,this._t0,n=gO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function GU(t){this._context=new VU(t)}(GU.prototype=Object.create(Qd.prototype)).point=function(t,e){Qd.prototype.point.call(this,e,t)};function VU(t){this._context=t}VU.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function XF(t){return new Qd(t)}function QF(t){return new GU(t)}function zU(t){this._context=t}zU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=yO(t),i=yO(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function yO(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function ZF(t){return new zU(t)}function hp(t,e){this._context=t,this._t=e}hp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function e5(t){return new hp(t,.5)}function t5(t){return new hp(t,0)}function n5(t){return new hp(t,1)}function Rs(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,u=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function eS(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function r5(t,e){return t[e]}function i5(t){const e=[];return e.key=t,e}function a5(){var t=ct([]),e=eS,n=Rs,r=r5;function i(a){var s=Array.from(t.apply(this,arguments),i5),u,c=s.length,f=-1,h;for(const m of a)for(u=0,++f;u<c;++u)(s[u][f]=[0,+r(m,s[u].key,f,a)]).data=m;for(u=0,h=ix(e(s));u<c;++u)s[h[u]].index=u;return n(s,h),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:ct(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:ct(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?eS:typeof a=="function"?a:ct(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Rs,i):n},i}function o5(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Rs(t,e)}}function s5(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,u=0;s<i;++s)u+=t[s][n][1]||0;r[n][1]+=r[n][0]=-u/2}Rs(t,e)}}function l5(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var u=0,c=0,f=0;u<s;++u){for(var h=t[e[u]],m=h[r][1]||0,v=h[r-1][1]||0,_=(m-v)/2,x=0;x<u;++x){var E=t[e[x]],w=E[r][1]||0,T=E[r-1][1]||0;_+=w-T}c+=m,f+=_*m}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,Rs(t,e)}}function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}var u5=["type","size","sizeType"];function tS(){return tS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tS.apply(this,arguments)}function bO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(n),!0).forEach(function(r){c5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c5(t,e,n){return e=f5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f5(t){var e=d5(t,"string");return Hu(e)=="symbol"?e:e+""}function d5(t,e){if(Hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h5(t,e){if(t==null)return{};var n=p5(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p5(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var FU={symbolCircle:ax,symbolCross:kF,symbolDiamond:LF,symbolSquare:$F,symbolStar:HF,symbolTriangle:GF,symbolWye:zF},m5=Math.PI/180,g5=function(e){var n="symbol".concat(cp(e));return FU[n]||ax},v5=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*m5;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},y5=function(e,n){FU["symbol".concat(cp(e))]=n},ox=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,u=s===void 0?"area":s,c=h5(e,u5),f=_O(_O({},c),{},{type:r,size:a,sizeType:u}),h=function(){var w=g5(r),T=FF().type(w).size(v5(a,u,r));return T()},m=f.className,v=f.cx,_=f.cy,x=Ie(f,!0);return v===+v&&_===+_&&a===+a?J.createElement("path",tS({},x,{className:ze("recharts-symbols",m),transform:"translate(".concat(v,", ").concat(_,")"),d:h()})):null};ox.registerSymbol=y5;function Os(t){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Os(t)}function nS(){return nS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nS.apply(this,arguments)}function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(r){Gu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WU(r.key),r)}}function w5(t,e,n){return e&&S5(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function x5(t,e,n){return e=Zd(e),E5(t,KU()?Reflect.construct(e,n||[],Zd(t).constructor):e.apply(t,n))}function E5(t,e){if(e&&(Os(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T5(t)}function T5(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KU=function(){return!!t})()}function Zd(t){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zd(t)}function A5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rS(t,e)}function rS(t,e){return rS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rS(t,e)}function Gu(t,e,n){return e=WU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WU(t){var e=C5(t,"string");return Os(e)=="symbol"?e:e+""}function C5(t,e){if(Os(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Os(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var er=32,sx=(function(t){function e(){return _5(this,e),x5(this,e,arguments)}return A5(e,t),w5(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=er/2,s=er/6,u=er/3,c=r.inactive?i:r.color;if(r.type==="plainline")return J.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:er,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return J.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(u,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*u,",").concat(a,`
            H`).concat(er,"M").concat(2*u,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(u,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return J.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(er/8,"h").concat(er,"v").concat(er*3/4,"h").concat(-er,"z"),className:"recharts-legend-icon"});if(J.isValidElement(r.legendIcon)){var f=b5({},r);return delete f.legendIcon,J.cloneElement(r.legendIcon,f)}return J.createElement(ox,{fill:c,cx:a,cy:a,size:er,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,u=i.layout,c=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:er,height:er},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(_,x){var E=_.formatter||c,w=ze(Gu(Gu({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",_.inactive));if(_.type==="none")return null;var T=De(_.value)?null:_.value;wi(!De(_.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=_.inactive?f:_.color;return J.createElement("li",nS({className:w,style:m,key:"legend-item-".concat(x)},up(r.props,_,x)),J.createElement(Y_,{width:s,height:s,viewBox:h,style:v},r.renderIcon(_)),J.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},E?E(T,_,x):T))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return J.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(B.PureComponent);Gu(sx,"displayName","Legend");Gu(sx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var $y,wO;function R5(){if(wO)return $y;wO=1;var t=ap();function e(){this.__data__=new t,this.size=0}return $y=e,$y}var qy,xO;function O5(){if(xO)return qy;xO=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return qy=t,qy}var By,EO;function M5(){if(EO)return By;EO=1;function t(e){return this.__data__.get(e)}return By=t,By}var jy,TO;function N5(){if(TO)return jy;TO=1;function t(e){return this.__data__.has(e)}return jy=t,jy}var Hy,AO;function P5(){if(AO)return Hy;AO=1;var t=ap(),e=Jw(),n=Xw(),r=200;function i(a,s){var u=this.__data__;if(u instanceof t){var c=u.__data__;if(!e||c.length<r-1)return c.push([a,s]),this.size=++u.size,this;u=this.__data__=new n(c)}return u.set(a,s),this.size=u.size,this}return Hy=i,Hy}var Gy,CO;function YU(){if(CO)return Gy;CO=1;var t=ap(),e=R5(),n=O5(),r=M5(),i=N5(),a=P5();function s(u){var c=this.__data__=new t(u);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=a,Gy=s,Gy}var Vy,RO;function I5(){if(RO)return Vy;RO=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return Vy=e,Vy}var zy,OO;function D5(){if(OO)return zy;OO=1;function t(e){return this.__data__.has(e)}return zy=t,zy}var Fy,MO;function JU(){if(MO)return Fy;MO=1;var t=Xw(),e=I5(),n=D5();function r(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,Fy=r,Fy}var Ky,NO;function XU(){if(NO)return Ky;NO=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return Ky=t,Ky}var Wy,PO;function QU(){if(PO)return Wy;PO=1;function t(e,n){return e.has(n)}return Wy=t,Wy}var Yy,IO;function ZU(){if(IO)return Yy;IO=1;var t=JU(),e=XU(),n=QU(),r=1,i=2;function a(s,u,c,f,h,m){var v=c&r,_=s.length,x=u.length;if(_!=x&&!(v&&x>_))return!1;var E=m.get(s),w=m.get(u);if(E&&w)return E==u&&w==s;var T=-1,C=!0,A=c&i?new t:void 0;for(m.set(s,u),m.set(u,s);++T<_;){var P=s[T],R=u[T];if(f)var M=v?f(R,P,T,u,s,m):f(P,R,T,s,u,m);if(M!==void 0){if(M)continue;C=!1;break}if(A){if(!e(u,function(I,k){if(!n(A,k)&&(P===I||h(P,I,c,f,m)))return A.push(k)})){C=!1;break}}else if(!(P===R||h(P,R,c,f,m))){C=!1;break}}return m.delete(s),m.delete(u),C}return Yy=a,Yy}var Jy,DO;function k5(){if(DO)return Jy;DO=1;var t=Kr(),e=t.Uint8Array;return Jy=e,Jy}var Xy,kO;function U5(){if(kO)return Xy;kO=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return Xy=t,Xy}var Qy,UO;function lx(){if(UO)return Qy;UO=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return Qy=t,Qy}var Zy,LO;function L5(){if(LO)return Zy;LO=1;var t=Oc(),e=k5(),n=Yw(),r=ZU(),i=U5(),a=lx(),s=1,u=2,c="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Map]",v="[object Number]",_="[object RegExp]",x="[object Set]",E="[object String]",w="[object Symbol]",T="[object ArrayBuffer]",C="[object DataView]",A=t?t.prototype:void 0,P=A?A.valueOf:void 0;function R(M,I,k,U,V,$,F){switch(k){case C:if(M.byteLength!=I.byteLength||M.byteOffset!=I.byteOffset)return!1;M=M.buffer,I=I.buffer;case T:return!(M.byteLength!=I.byteLength||!$(new e(M),new e(I)));case c:case f:case v:return n(+M,+I);case h:return M.name==I.name&&M.message==I.message;case _:case E:return M==I+"";case m:var z=i;case x:var Q=U&s;if(z||(z=a),M.size!=I.size&&!Q)return!1;var H=F.get(M);if(H)return H==I;U|=u,F.set(M,I);var L=r(z(M),z(I),U,V,$,F);return F.delete(M),L;case w:if(P)return P.call(M)==P.call(I)}return!1}return Zy=R,Zy}var e0,$O;function eL(){if($O)return e0;$O=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return e0=t,e0}var t0,qO;function $5(){if(qO)return t0;qO=1;var t=eL(),e=An();function n(r,i,a){var s=i(r);return e(r)?s:t(s,a(r))}return t0=n,t0}var n0,BO;function q5(){if(BO)return n0;BO=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,s=[];++r<i;){var u=e[r];n(u,r,e)&&(s[a++]=u)}return s}return n0=t,n0}var r0,jO;function B5(){if(jO)return r0;jO=1;function t(){return[]}return r0=t,r0}var i0,HO;function j5(){if(HO)return i0;HO=1;var t=q5(),e=B5(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(u){return r.call(s,u)}))}:e;return i0=a,i0}var a0,GO;function H5(){if(GO)return a0;GO=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return a0=t,a0}var o0,VO;function G5(){if(VO)return o0;VO=1;var t=Mi(),e=Ni(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return o0=r,o0}var s0,zO;function ux(){if(zO)return s0;zO=1;var t=G5(),e=Ni(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return s0=a,s0}var vu={exports:{}},l0,FO;function V5(){if(FO)return l0;FO=1;function t(){return!1}return l0=t,l0}vu.exports;var KO;function tL(){return KO||(KO=1,(function(t,e){var n=Kr(),r=V5(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,u=s?n.Buffer:void 0,c=u?u.isBuffer:void 0,f=c||r;t.exports=f})(vu,vu.exports)),vu.exports}var u0,WO;function cx(){if(WO)return u0;WO=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return u0=n,u0}var c0,YO;function fx(){if(YO)return c0;YO=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return c0=e,c0}var f0,JO;function z5(){if(JO)return f0;JO=1;var t=Mi(),e=fx(),n=Ni(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",u="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",m="[object Object]",v="[object RegExp]",_="[object Set]",x="[object String]",E="[object WeakMap]",w="[object ArrayBuffer]",T="[object DataView]",C="[object Float32Array]",A="[object Float64Array]",P="[object Int8Array]",R="[object Int16Array]",M="[object Int32Array]",I="[object Uint8Array]",k="[object Uint8ClampedArray]",U="[object Uint16Array]",V="[object Uint32Array]",$={};$[C]=$[A]=$[P]=$[R]=$[M]=$[I]=$[k]=$[U]=$[V]=!0,$[r]=$[i]=$[w]=$[a]=$[T]=$[s]=$[u]=$[c]=$[f]=$[h]=$[m]=$[v]=$[_]=$[x]=$[E]=!1;function F(z){return n(z)&&e(z.length)&&!!$[t(z)]}return f0=F,f0}var d0,XO;function nL(){if(XO)return d0;XO=1;function t(e){return function(n){return e(n)}}return d0=t,d0}var yu={exports:{}};yu.exports;var QO;function F5(){return QO||(QO=1,(function(t,e){var n=SU(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,u=(function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();t.exports=u})(yu,yu.exports)),yu.exports}var h0,ZO;function rL(){if(ZO)return h0;ZO=1;var t=z5(),e=nL(),n=F5(),r=n&&n.isTypedArray,i=r?e(r):t;return h0=i,h0}var p0,eM;function K5(){if(eM)return p0;eM=1;var t=H5(),e=ux(),n=An(),r=tL(),i=cx(),a=rL(),s=Object.prototype,u=s.hasOwnProperty;function c(f,h){var m=n(f),v=!m&&e(f),_=!m&&!v&&r(f),x=!m&&!v&&!_&&a(f),E=m||v||_||x,w=E?t(f.length,String):[],T=w.length;for(var C in f)(h||u.call(f,C))&&!(E&&(C=="length"||_&&(C=="offset"||C=="parent")||x&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||i(C,T)))&&w.push(C);return w}return p0=c,p0}var m0,tM;function W5(){if(tM)return m0;tM=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return m0=e,m0}var g0,nM;function iL(){if(nM)return g0;nM=1;function t(e,n){return function(r){return e(n(r))}}return g0=t,g0}var v0,rM;function Y5(){if(rM)return v0;rM=1;var t=iL(),e=t(Object.keys,Object);return v0=e,v0}var y0,iM;function J5(){if(iM)return y0;iM=1;var t=W5(),e=Y5(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var u in Object(a))r.call(a,u)&&u!="constructor"&&s.push(u);return s}return y0=i,y0}var b0,aM;function Pc(){if(aM)return b0;aM=1;var t=Ww(),e=fx();function n(r){return r!=null&&e(r.length)&&!t(r)}return b0=n,b0}var _0,oM;function pp(){if(oM)return _0;oM=1;var t=K5(),e=J5(),n=Pc();function r(i){return n(i)?t(i):e(i)}return _0=r,_0}var S0,sM;function X5(){if(sM)return S0;sM=1;var t=$5(),e=j5(),n=pp();function r(i){return t(i,n,e)}return S0=r,S0}var w0,lM;function Q5(){if(lM)return w0;lM=1;var t=X5(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,s,u,c,f,h){var m=u&e,v=t(a),_=v.length,x=t(s),E=x.length;if(_!=E&&!m)return!1;for(var w=_;w--;){var T=v[w];if(!(m?T in s:r.call(s,T)))return!1}var C=h.get(a),A=h.get(s);if(C&&A)return C==s&&A==a;var P=!0;h.set(a,s),h.set(s,a);for(var R=m;++w<_;){T=v[w];var M=a[T],I=s[T];if(c)var k=m?c(I,M,T,s,a,h):c(M,I,T,a,s,h);if(!(k===void 0?M===I||f(M,I,u,c,h):k)){P=!1;break}R||(R=T=="constructor")}if(P&&!R){var U=a.constructor,V=s.constructor;U!=V&&"constructor"in a&&"constructor"in s&&!(typeof U=="function"&&U instanceof U&&typeof V=="function"&&V instanceof V)&&(P=!1)}return h.delete(a),h.delete(s),P}return w0=i,w0}var x0,uM;function Z5(){if(uM)return x0;uM=1;var t=fo(),e=Kr(),n=t(e,"DataView");return x0=n,x0}var E0,cM;function e6(){if(cM)return E0;cM=1;var t=fo(),e=Kr(),n=t(e,"Promise");return E0=n,E0}var T0,fM;function aL(){if(fM)return T0;fM=1;var t=fo(),e=Kr(),n=t(e,"Set");return T0=n,T0}var A0,dM;function t6(){if(dM)return A0;dM=1;var t=fo(),e=Kr(),n=t(e,"WeakMap");return A0=n,A0}var C0,hM;function n6(){if(hM)return C0;hM=1;var t=Z5(),e=Jw(),n=e6(),r=aL(),i=t6(),a=Mi(),s=wU(),u="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",m="[object WeakMap]",v="[object DataView]",_=s(t),x=s(e),E=s(n),w=s(r),T=s(i),C=a;return(t&&C(new t(new ArrayBuffer(1)))!=v||e&&C(new e)!=u||n&&C(n.resolve())!=f||r&&C(new r)!=h||i&&C(new i)!=m)&&(C=function(A){var P=a(A),R=P==c?A.constructor:void 0,M=R?s(R):"";if(M)switch(M){case _:return v;case x:return u;case E:return f;case w:return h;case T:return m}return P}),C0=C,C0}var R0,pM;function r6(){if(pM)return R0;pM=1;var t=YU(),e=ZU(),n=L5(),r=Q5(),i=n6(),a=An(),s=tL(),u=rL(),c=1,f="[object Arguments]",h="[object Array]",m="[object Object]",v=Object.prototype,_=v.hasOwnProperty;function x(E,w,T,C,A,P){var R=a(E),M=a(w),I=R?h:i(E),k=M?h:i(w);I=I==f?m:I,k=k==f?m:k;var U=I==m,V=k==m,$=I==k;if($&&s(E)){if(!s(w))return!1;R=!0,U=!1}if($&&!U)return P||(P=new t),R||u(E)?e(E,w,T,C,A,P):n(E,w,I,T,C,A,P);if(!(T&c)){var F=U&&_.call(E,"__wrapped__"),z=V&&_.call(w,"__wrapped__");if(F||z){var Q=F?E.value():E,H=z?w.value():w;return P||(P=new t),A(Q,H,T,C,P)}}return $?(P||(P=new t),r(E,w,T,C,A,P)):!1}return R0=x,R0}var O0,mM;function dx(){if(mM)return O0;mM=1;var t=r6(),e=Ni();function n(r,i,a,s,u){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,s,n,u)}return O0=n,O0}var M0,gM;function i6(){if(gM)return M0;gM=1;var t=YU(),e=dx(),n=1,r=2;function i(a,s,u,c){var f=u.length,h=f,m=!c;if(a==null)return!h;for(a=Object(a);f--;){var v=u[f];if(m&&v[2]?v[1]!==a[v[0]]:!(v[0]in a))return!1}for(;++f<h;){v=u[f];var _=v[0],x=a[_],E=v[1];if(m&&v[2]){if(x===void 0&&!(_ in a))return!1}else{var w=new t;if(c)var T=c(x,E,_,a,s,w);if(!(T===void 0?e(E,x,n|r,c,w):T))return!1}}return!0}return M0=i,M0}var N0,vM;function oL(){if(vM)return N0;vM=1;var t=ga();function e(n){return n===n&&!t(n)}return N0=e,N0}var P0,yM;function a6(){if(yM)return P0;yM=1;var t=oL(),e=pp();function n(r){for(var i=e(r),a=i.length;a--;){var s=i[a],u=r[s];i[a]=[s,u,t(u)]}return i}return P0=n,P0}var I0,bM;function sL(){if(bM)return I0;bM=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return I0=t,I0}var D0,_M;function o6(){if(_M)return D0;_M=1;var t=i6(),e=a6(),n=sL();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return D0=r,D0}var k0,SM;function s6(){if(SM)return k0;SM=1;function t(e,n){return e!=null&&n in Object(e)}return k0=t,k0}var U0,wM;function l6(){if(wM)return U0;wM=1;var t=TU(),e=ux(),n=An(),r=cx(),i=fx(),a=sp();function s(u,c,f){c=t(c,u);for(var h=-1,m=c.length,v=!1;++h<m;){var _=a(c[h]);if(!(v=u!=null&&f(u,_)))break;u=u[_]}return v||++h!=m?v:(m=u==null?0:u.length,!!m&&i(m)&&r(_,m)&&(n(u)||e(u)))}return U0=s,U0}var L0,xM;function u6(){if(xM)return L0;xM=1;var t=s6(),e=l6();function n(r,i){return r!=null&&e(r,i,t)}return L0=n,L0}var $0,EM;function c6(){if(EM)return $0;EM=1;var t=dx(),e=AU(),n=u6(),r=Kw(),i=oL(),a=sL(),s=sp(),u=1,c=2;function f(h,m){return r(h)&&i(m)?a(s(h),m):function(v){var _=e(v,h);return _===void 0&&_===m?n(v,h):t(m,_,u|c)}}return $0=f,$0}var q0,TM;function rl(){if(TM)return q0;TM=1;function t(e){return e}return q0=t,q0}var B0,AM;function f6(){if(AM)return B0;AM=1;function t(e){return function(n){return n==null?void 0:n[e]}}return B0=t,B0}var j0,CM;function d6(){if(CM)return j0;CM=1;var t=Zw();function e(n){return function(r){return t(r,n)}}return j0=e,j0}var H0,RM;function h6(){if(RM)return H0;RM=1;var t=f6(),e=d6(),n=Kw(),r=sp();function i(a){return n(a)?t(r(a)):e(a)}return H0=i,H0}var G0,OM;function Wr(){if(OM)return G0;OM=1;var t=o6(),e=c6(),n=rl(),r=An(),i=h6();function a(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):i(s)}return G0=a,G0}var V0,MM;function lL(){if(MM)return V0;MM=1;function t(e,n,r,i){for(var a=e.length,s=r+(i?1:-1);i?s--:++s<a;)if(n(e[s],s,e))return s;return-1}return V0=t,V0}var z0,NM;function p6(){if(NM)return z0;NM=1;function t(e){return e!==e}return z0=t,z0}var F0,PM;function m6(){if(PM)return F0;PM=1;function t(e,n,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===n)return i;return-1}return F0=t,F0}var K0,IM;function g6(){if(IM)return K0;IM=1;var t=lL(),e=p6(),n=m6();function r(i,a,s){return a===a?n(i,a,s):t(i,e,s)}return K0=r,K0}var W0,DM;function v6(){if(DM)return W0;DM=1;var t=g6();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return W0=e,W0}var Y0,kM;function y6(){if(kM)return Y0;kM=1;function t(e,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(n,e[i]))return!0;return!1}return Y0=t,Y0}var J0,UM;function b6(){if(UM)return J0;UM=1;function t(){}return J0=t,J0}var X0,LM;function _6(){if(LM)return X0;LM=1;var t=aL(),e=b6(),n=lx(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(a){return new t(a)}:e;return X0=i,X0}var Q0,$M;function S6(){if($M)return Q0;$M=1;var t=JU(),e=v6(),n=y6(),r=QU(),i=_6(),a=lx(),s=200;function u(c,f,h){var m=-1,v=e,_=c.length,x=!0,E=[],w=E;if(h)x=!1,v=n;else if(_>=s){var T=f?null:i(c);if(T)return a(T);x=!1,v=r,w=new t}else w=f?[]:E;e:for(;++m<_;){var C=c[m],A=f?f(C):C;if(C=h||C!==0?C:0,x&&A===A){for(var P=w.length;P--;)if(w[P]===A)continue e;f&&w.push(A),E.push(C)}else v(w,A,h)||(w!==E&&w.push(A),E.push(C))}return E}return Q0=u,Q0}var Z0,qM;function w6(){if(qM)return Z0;qM=1;var t=Wr(),e=S6();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return Z0=n,Z0}var x6=w6();const BM=tt(x6);function uL(t,e,n){return e===!0?BM(t,n):De(e)?BM(t,e):t}function Ms(t){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(t)}var E6=["ref"];function jM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(n),!0).forEach(function(r){mp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fL(r.key),r)}}function A6(t,e,n){return e&&HM(t.prototype,e),n&&HM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function C6(t,e,n){return e=eh(e),R6(t,cL()?Reflect.construct(e,n||[],eh(t).constructor):e.apply(t,n))}function R6(t,e){if(e&&(Ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O6(t)}function O6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cL=function(){return!!t})()}function eh(t){return eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eh(t)}function M6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iS(t,e)}function iS(t,e){return iS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iS(t,e)}function mp(t,e,n){return e=fL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fL(t){var e=N6(t,"string");return Ms(e)=="symbol"?e:e+""}function N6(t,e){if(Ms(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function P6(t,e){if(t==null)return{};var n=I6(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function I6(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function D6(t){return t.value}function k6(t,e){if(J.isValidElement(t))return J.cloneElement(t,e);if(typeof t=="function")return J.createElement(t,e);e.ref;var n=P6(e,E6);return J.createElement(sx,n)}var GM=1,ro=(function(t){function e(){var n;T6(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=C6(this,e,[].concat(i)),mp(n,"lastBoundingBox",{width:-1,height:-1}),n}return M6(e,t),A6(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>GM||Math.abs(i.height-this.lastBoundingBox.height)>GM)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?pi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,u=i.verticalAlign,c=i.margin,f=i.chartWidth,h=i.chartHeight,m,v;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var _=this.getBBoxSnapshot();m={left:((f||0)-_.width)/2}}else m=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(u==="middle"){var x=this.getBBoxSnapshot();v={top:((h||0)-x.height)/2}}else v=u==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return pi(pi({},m),v)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,u=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,m=pi(pi({position:"absolute",width:s||"auto",height:u||"auto"},this.getDefaultPosition(c)),c);return J.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(_){r.wrapperNode=_}},k6(a,pi(pi({},this.props),{},{payload:uL(h,f,D6)})))}}],[{key:"getWithHeight",value:function(r,i){var a=pi(pi({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&pe(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])})(B.PureComponent);mp(ro,"displayName","Legend");mp(ro,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var eb,VM;function U6(){if(VM)return eb;VM=1;var t=Oc(),e=ux(),n=An(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return eb=i,eb}var tb,zM;function dL(){if(zM)return tb;zM=1;var t=eL(),e=U6();function n(r,i,a,s,u){var c=-1,f=r.length;for(a||(a=e),u||(u=[]);++c<f;){var h=r[c];i>0&&a(h)?i>1?n(h,i-1,a,s,u):t(u,h):s||(u[u.length]=h)}return u}return tb=n,tb}var nb,FM;function L6(){if(FM)return nb;FM=1;function t(e){return function(n,r,i){for(var a=-1,s=Object(n),u=i(n),c=u.length;c--;){var f=u[e?c:++a];if(r(s[f],f,s)===!1)break}return n}}return nb=t,nb}var rb,KM;function $6(){if(KM)return rb;KM=1;var t=L6(),e=t();return rb=e,rb}var ib,WM;function hL(){if(WM)return ib;WM=1;var t=$6(),e=pp();function n(r,i){return r&&t(r,i,e)}return ib=n,ib}var ab,YM;function q6(){if(YM)return ab;YM=1;var t=Pc();function e(n,r){return function(i,a){if(i==null)return i;if(!t(i))return n(i,a);for(var s=i.length,u=r?s:-1,c=Object(i);(r?u--:++u<s)&&a(c[u],u,c)!==!1;);return i}}return ab=e,ab}var ob,JM;function hx(){if(JM)return ob;JM=1;var t=hL(),e=q6(),n=e(t);return ob=n,ob}var sb,XM;function pL(){if(XM)return sb;XM=1;var t=hx(),e=Pc();function n(r,i){var a=-1,s=e(r)?Array(r.length):[];return t(r,function(u,c,f){s[++a]=i(u,c,f)}),s}return sb=n,sb}var lb,QM;function B6(){if(QM)return lb;QM=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return lb=t,lb}var ub,ZM;function j6(){if(ZM)return ub;ZM=1;var t=tl();function e(n,r){if(n!==r){var i=n!==void 0,a=n===null,s=n===n,u=t(n),c=r!==void 0,f=r===null,h=r===r,m=t(r);if(!f&&!m&&!u&&n>r||u&&c&&h&&!f&&!m||a&&c&&h||!i&&h||!s)return 1;if(!a&&!u&&!m&&n<r||m&&i&&s&&!a&&!u||f&&i&&s||!c&&s||!h)return-1}return 0}return ub=e,ub}var cb,eN;function H6(){if(eN)return cb;eN=1;var t=j6();function e(n,r,i){for(var a=-1,s=n.criteria,u=r.criteria,c=s.length,f=i.length;++a<c;){var h=t(s[a],u[a]);if(h){if(a>=f)return h;var m=i[a];return h*(m=="desc"?-1:1)}}return n.index-r.index}return cb=e,cb}var fb,tN;function G6(){if(tN)return fb;tN=1;var t=Qw(),e=Zw(),n=Wr(),r=pL(),i=B6(),a=nL(),s=H6(),u=rl(),c=An();function f(h,m,v){m.length?m=t(m,function(E){return c(E)?function(w){return e(w,E.length===1?E[0]:E)}:E}):m=[u];var _=-1;m=t(m,a(n));var x=r(h,function(E,w,T){var C=t(m,function(A){return A(E)});return{criteria:C,index:++_,value:E}});return i(x,function(E,w){return s(E,w,v)})}return fb=f,fb}var db,nN;function V6(){if(nN)return db;nN=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return db=t,db}var hb,rN;function z6(){if(rN)return hb;rN=1;var t=V6(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var s=arguments,u=-1,c=e(s.length-i,0),f=Array(c);++u<c;)f[u]=s[i+u];u=-1;for(var h=Array(i+1);++u<i;)h[u]=s[u];return h[i]=a(f),t(r,this,h)}}return hb=n,hb}var pb,iN;function F6(){if(iN)return pb;iN=1;function t(e){return function(){return e}}return pb=t,pb}var mb,aN;function mL(){if(aN)return mb;aN=1;var t=fo(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return mb=e,mb}var gb,oN;function K6(){if(oN)return gb;oN=1;var t=F6(),e=mL(),n=rl(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return gb=r,gb}var vb,sN;function W6(){if(sN)return vb;sN=1;var t=800,e=16,n=Date.now;function r(i){var a=0,s=0;return function(){var u=n(),c=e-(u-s);if(s=u,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return vb=r,vb}var yb,lN;function Y6(){if(lN)return yb;lN=1;var t=K6(),e=W6(),n=e(t);return yb=n,yb}var bb,uN;function J6(){if(uN)return bb;uN=1;var t=rl(),e=z6(),n=Y6();function r(i,a){return n(e(i,a,t),i+"")}return bb=r,bb}var _b,cN;function gp(){if(cN)return _b;cN=1;var t=Yw(),e=Pc(),n=cx(),r=ga();function i(a,s,u){if(!r(u))return!1;var c=typeof s;return(c=="number"?e(u)&&n(s,u.length):c=="string"&&s in u)?t(u[s],a):!1}return _b=i,_b}var Sb,fN;function X6(){if(fN)return Sb;fN=1;var t=dL(),e=G6(),n=J6(),r=gp(),i=n(function(a,s){if(a==null)return[];var u=s.length;return u>1&&r(a,s[0],s[1])?s=[]:u>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])});return Sb=i,Sb}var Q6=X6();const px=tt(Q6);function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function aS(){return aS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aS.apply(this,arguments)}function Z6(t,e){return r8(t)||n8(t,e)||t8(t,e)||e8()}function e8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t8(t,e){if(t){if(typeof t=="string")return dN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dN(t,e)}}function dN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n8(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function r8(t){if(Array.isArray(t))return t}function hN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hN(Object(n),!0).forEach(function(r){i8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i8(t,e,n){return e=a8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a8(t){var e=o8(t,"string");return Vu(e)=="symbol"?e:e+""}function o8(t,e){if(Vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s8(t){return Array.isArray(t)&&Ht(t[0])&&Ht(t[1])?t.join(" ~ "):t}var l8=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,u=s===void 0?{}:s,c=e.labelStyle,f=c===void 0?{}:c,h=e.payload,m=e.formatter,v=e.itemSorter,_=e.wrapperClassName,x=e.labelClassName,E=e.label,w=e.labelFormatter,T=e.accessibilityLayer,C=T===void 0?!1:T,A=function(){if(h&&h.length){var F={padding:0,margin:0},z=(v?px(h,v):h).map(function(Q,H){if(Q.type==="none")return null;var L=wb({display:"block",paddingTop:4,paddingBottom:4,color:Q.color||"#000"},u),W=Q.formatter||m||s8,ne=Q.value,le=Q.name,de=ne,q=le;if(W&&de!=null&&q!=null){var K=W(ne,le,Q,H,h);if(Array.isArray(K)){var ae=Z6(K,2);de=ae[0],q=ae[1]}else de=K}return J.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:L},Ht(q)?J.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Ht(q)?J.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,J.createElement("span",{className:"recharts-tooltip-item-value"},de),J.createElement("span",{className:"recharts-tooltip-item-unit"},Q.unit||""))});return J.createElement("ul",{className:"recharts-tooltip-item-list",style:F},z)}return null},P=wb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),R=wb({margin:0},f),M=!He(E),I=M?E:"",k=ze("recharts-default-tooltip",_),U=ze("recharts-tooltip-label",x);M&&w&&h!==void 0&&h!==null&&(I=w(E,h));var V=C?{role:"status","aria-live":"assertive"}:{};return J.createElement("div",aS({className:k,style:P},V),J.createElement("p",{className:U,style:R},J.isValidElement(I)?I:"".concat(I)),A())};function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}function ud(t,e,n){return e=u8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u8(t){var e=c8(t,"string");return zu(e)=="symbol"?e:e+""}function c8(t,e){if(zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ou="recharts-tooltip-wrapper",f8={visibility:"hidden"};function d8(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ze(ou,ud(ud(ud(ud({},"".concat(ou,"-right"),pe(n)&&e&&pe(e.x)&&n>=e.x),"".concat(ou,"-left"),pe(n)&&e&&pe(e.x)&&n<e.x),"".concat(ou,"-bottom"),pe(r)&&e&&pe(e.y)&&r>=e.y),"".concat(ou,"-top"),pe(r)&&e&&pe(e.y)&&r<e.y))}function pN(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,u=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(a&&pe(a[r]))return a[r];var h=n[r]-u-i,m=n[r]+i;if(e[r])return s[r]?h:m;if(s[r]){var v=h,_=c[r];return v<_?Math.max(m,c[r]):Math.max(h,c[r])}var x=m+u,E=c[r]+f;return x>E?Math.max(h,c[r]):Math.max(m,c[r])}function h8(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function p8(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,u=t.useTranslate3d,c=t.viewBox,f,h,m;return s.height>0&&s.width>0&&n?(h=pN({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),m=pN({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=h8({translateX:h,translateY:m,useTranslate3d:u})):f=f8,{cssProperties:f,cssClasses:d8({translateX:h,translateY:m,coordinate:n})}}function Ns(t){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ns(t)}function mN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mN(Object(n),!0).forEach(function(r){sS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vL(r.key),r)}}function v8(t,e,n){return e&&g8(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function y8(t,e,n){return e=th(e),b8(t,gL()?Reflect.construct(e,n||[],th(t).constructor):e.apply(t,n))}function b8(t,e){if(e&&(Ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _8(t)}function _8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gL=function(){return!!t})()}function th(t){return th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},th(t)}function S8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oS(t,e)}function oS(t,e){return oS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oS(t,e)}function sS(t,e,n){return e=vL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vL(t){var e=w8(t,"string");return Ns(e)=="symbol"?e:e+""}function w8(t,e){if(Ns(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ns(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vN=1,x8=(function(t){function e(){var n;m8(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=y8(this,e,[].concat(i)),sS(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),sS(n,"handleKeyDown",function(s){if(s.key==="Escape"){var u,c,f,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&u!==void 0?u:0,y:(f=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),n}return S8(e,t),v8(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>vN||Math.abs(r.height-this.state.lastBoundingBox.height)>vN)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.children,h=i.coordinate,m=i.hasPayload,v=i.isAnimationActive,_=i.offset,x=i.position,E=i.reverseDirection,w=i.useTranslate3d,T=i.viewBox,C=i.wrapperStyle,A=p8({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:_,position:x,reverseDirection:E,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:T}),P=A.cssClasses,R=A.cssProperties,M=gN(gN({transition:v&&a?"transform ".concat(u,"ms ").concat(c):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&m?"visible":"hidden",position:"absolute",top:0,left:0},C);return J.createElement("div",{tabIndex:-1,className:P,style:M,ref:function(k){r.wrapperNode=k}},f)}}])})(B.PureComponent),E8=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},vp={isSsr:E8()};function Ps(t){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ps(t)}function yN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yN(Object(n),!0).forEach(function(r){mx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bL(r.key),r)}}function C8(t,e,n){return e&&A8(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function R8(t,e,n){return e=nh(e),O8(t,yL()?Reflect.construct(e,n||[],nh(t).constructor):e.apply(t,n))}function O8(t,e){if(e&&(Ps(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M8(t)}function M8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yL=function(){return!!t})()}function nh(t){return nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nh(t)}function N8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lS(t,e)}function lS(t,e){return lS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lS(t,e)}function mx(t,e,n){return e=bL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bL(t){var e=P8(t,"string");return Ps(e)=="symbol"?e:e+""}function P8(t,e){if(Ps(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ps(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function I8(t){return t.dataKey}function D8(t,e){return J.isValidElement(t)?J.cloneElement(t,e):typeof t=="function"?J.createElement(t,e):J.createElement(l8,e)}var Ur=(function(t){function e(){return T8(this,e),R8(this,e,arguments)}return N8(e,t),C8(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.content,h=i.coordinate,m=i.filterNull,v=i.isAnimationActive,_=i.offset,x=i.payload,E=i.payloadUniqBy,w=i.position,T=i.reverseDirection,C=i.useTranslate3d,A=i.viewBox,P=i.wrapperStyle,R=x??[];m&&R.length&&(R=uL(x.filter(function(I){return I.value!=null&&(I.hide!==!0||r.props.includeHidden)}),E,I8));var M=R.length>0;return J.createElement(x8,{allowEscapeViewBox:s,animationDuration:u,animationEasing:c,isAnimationActive:v,active:a,coordinate:h,hasPayload:M,offset:_,position:w,reverseDirection:T,useTranslate3d:C,viewBox:A,wrapperStyle:P},D8(f,bN(bN({},this.props),{},{payload:R})))}}])})(B.PureComponent);mx(Ur,"displayName","Tooltip");mx(Ur,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!vp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var xb,_N;function k8(){if(_N)return xb;_N=1;var t=Kr(),e=function(){return t.Date.now()};return xb=e,xb}var Eb,SN;function U8(){if(SN)return Eb;SN=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return Eb=e,Eb}var Tb,wN;function L8(){if(wN)return Tb;wN=1;var t=U8(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return Tb=n,Tb}var Ab,xN;function _L(){if(xN)return Ab;xN=1;var t=L8(),e=ga(),n=tl(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;function c(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var m=a.test(f);return m||s.test(f)?u(f.slice(2),m?2:8):i.test(f)?r:+f}return Ab=c,Ab}var Cb,EN;function $8(){if(EN)return Cb;EN=1;var t=ga(),e=k8(),n=_L(),r="Expected a function",i=Math.max,a=Math.min;function s(u,c,f){var h,m,v,_,x,E,w=0,T=!1,C=!1,A=!0;if(typeof u!="function")throw new TypeError(r);c=n(c)||0,t(f)&&(T=!!f.leading,C="maxWait"in f,v=C?i(n(f.maxWait)||0,c):v,A="trailing"in f?!!f.trailing:A);function P(z){var Q=h,H=m;return h=m=void 0,w=z,_=u.apply(H,Q),_}function R(z){return w=z,x=setTimeout(k,c),T?P(z):_}function M(z){var Q=z-E,H=z-w,L=c-Q;return C?a(L,v-H):L}function I(z){var Q=z-E,H=z-w;return E===void 0||Q>=c||Q<0||C&&H>=v}function k(){var z=e();if(I(z))return U(z);x=setTimeout(k,M(z))}function U(z){return x=void 0,A&&h?P(z):(h=m=void 0,_)}function V(){x!==void 0&&clearTimeout(x),w=0,h=E=m=x=void 0}function $(){return x===void 0?_:U(e())}function F(){var z=e(),Q=I(z);if(h=arguments,m=this,E=z,Q){if(x===void 0)return R(E);if(C)return clearTimeout(x),x=setTimeout(k,c),P(E)}return x===void 0&&(x=setTimeout(k,c)),_}return F.cancel=V,F.flush=$,F}return Cb=s,Cb}var Rb,TN;function q8(){if(TN)return Rb;TN=1;var t=$8(),e=ga(),n="Expected a function";function r(i,a,s){var u=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(s)&&(u="leading"in s?!!s.leading:u,c="trailing"in s?!!s.trailing:c),t(i,a,{leading:u,maxWait:a,trailing:c})}return Rb=r,Rb}var B8=q8();const SL=tt(B8);function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function AN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(n),!0).forEach(function(r){j8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j8(t,e,n){return e=H8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H8(t){var e=G8(t,"string");return Fu(e)=="symbol"?e:e+""}function G8(t,e){if(Fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V8(t,e){return W8(t)||K8(t,e)||F8(t,e)||z8()}function z8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F8(t,e){if(t){if(typeof t=="string")return CN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CN(t,e)}}function CN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function K8(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function W8(t){if(Array.isArray(t))return t}var Y8=B.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,u=t.height,c=u===void 0?"100%":u,f=t.minWidth,h=f===void 0?0:f,m=t.minHeight,v=t.maxHeight,_=t.children,x=t.debounce,E=x===void 0?0:x,w=t.id,T=t.className,C=t.onResize,A=t.style,P=A===void 0?{}:A,R=B.useRef(null),M=B.useRef();M.current=C,B.useImperativeHandle(e,function(){return Object.defineProperty(R.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),R.current},configurable:!0})});var I=B.useState({containerWidth:i.width,containerHeight:i.height}),k=V8(I,2),U=k[0],V=k[1],$=B.useCallback(function(z,Q){V(function(H){var L=Math.round(z),W=Math.round(Q);return H.containerWidth===L&&H.containerHeight===W?H:{containerWidth:L,containerHeight:W}})},[]);B.useEffect(function(){var z=function(le){var de,q=le[0].contentRect,K=q.width,ae=q.height;$(K,ae),(de=M.current)===null||de===void 0||de.call(M,K,ae)};E>0&&(z=SL(z,E,{trailing:!0,leading:!1}));var Q=new ResizeObserver(z),H=R.current.getBoundingClientRect(),L=H.width,W=H.height;return $(L,W),Q.observe(R.current),function(){Q.disconnect()}},[$,E]);var F=B.useMemo(function(){var z=U.containerWidth,Q=U.containerHeight;if(z<0||Q<0)return null;wi(eo(s)||eo(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),wi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var H=eo(s)?z:s,L=eo(c)?Q:c;n&&n>0&&(H?L=H/n:L&&(H=L*n),v&&L>v&&(L=v)),wi(H>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,L,s,c,h,m,n);var W=!Array.isArray(_)&&Si(_.type).endsWith("Chart");return J.Children.map(_,function(ne){return J.isValidElement(ne)?B.cloneElement(ne,cd({width:H,height:L},W?{style:cd({height:"100%",width:"100%",maxHeight:L,maxWidth:H},ne.props.style)}:{})):ne})},[n,_,c,v,m,h,U,s]);return J.createElement("div",{id:w?"".concat(w):void 0,className:ze("recharts-responsive-container",T),style:cd(cd({},P),{},{width:s,height:c,minWidth:h,minHeight:m,maxHeight:v}),ref:R},F)}),gx=function(e){return null};gx.displayName="Cell";function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function RN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RN(Object(n),!0).forEach(function(r){J8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J8(t,e,n){return e=X8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X8(t){var e=Q8(t,"string");return Ku(e)=="symbol"?e:e+""}function Q8(t,e){if(Ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ss={widthCache:{},cacheCount:0},Z8=2e3,e9={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ON="recharts_measurement_span";function t9(t){var e=uS({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var MN=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||vp.isSsr)return{width:0,height:0};var r=t9(n),i=JSON.stringify({text:e,copyStyle:r});if(ss.widthCache[i])return ss.widthCache[i];try{var a=document.getElementById(ON);a||(a=document.createElement("span"),a.setAttribute("id",ON),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=uS(uS({},e9),r);Object.assign(a.style,s),a.textContent="".concat(e);var u=a.getBoundingClientRect(),c={width:u.width,height:u.height};return ss.widthCache[i]=c,++ss.cacheCount>Z8&&(ss.cacheCount=0,ss.widthCache={}),c}catch{return{width:0,height:0}}},n9=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function rh(t,e){return o9(t)||a9(t,e)||i9(t,e)||r9()}function r9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i9(t,e){if(t){if(typeof t=="string")return NN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NN(t,e)}}function NN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function o9(t){if(Array.isArray(t))return t}function s9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u9(r.key),r)}}function l9(t,e,n){return e&&PN(t.prototype,e),n&&PN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function u9(t){var e=c9(t,"string");return Wu(e)=="symbol"?e:e+""}function c9(t,e){if(Wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var IN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,f9=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,d9=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,wL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},h9=Object.keys(wL),ms="NaN";function p9(t,e){return t*wL[e]}var fd=(function(){function t(e,n){s9(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!f9.test(n)&&(this.num=NaN,this.unit=""),h9.includes(n)&&(this.num=p9(e,n),this.unit="px")}return l9(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=d9.exec(n))!==null&&r!==void 0?r:[],a=rh(i,3),s=a[1],u=a[2];return new t(parseFloat(s),u??"")}}])})();function xL(t){if(t.includes(ms))return ms;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=IN.exec(e))!==null&&n!==void 0?n:[],i=rh(r,4),a=i[1],s=i[2],u=i[3],c=fd.parse(a??""),f=fd.parse(u??""),h=s==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return ms;e=e.replace(IN,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,v=(m=DN.exec(e))!==null&&m!==void 0?m:[],_=rh(v,4),x=_[1],E=_[2],w=_[3],T=fd.parse(x??""),C=fd.parse(w??""),A=E==="+"?T.add(C):T.subtract(C);if(A.isNaN())return ms;e=e.replace(DN,A.toString())}return e}var kN=/\(([^()]*)\)/;function m9(t){for(var e=t;e.includes("(");){var n=kN.exec(e),r=rh(n,2),i=r[1];e=e.replace(kN,xL(i))}return e}function g9(t){var e=t.replace(/\s+/g,"");return e=m9(e),e=xL(e),e}function v9(t){try{return g9(t)}catch{return ms}}function Ob(t){var e=v9(t.slice(5,-1));return e===ms?"":e}var y9=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],b9=["dx","dy","angle","className","breakAll"];function cS(){return cS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cS.apply(this,arguments)}function UN(t,e){if(t==null)return{};var n=_9(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LN(t,e){return E9(t)||x9(t,e)||w9(t,e)||S9()}function S9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w9(t,e){if(t){if(typeof t=="string")return $N(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $N(t,e)}}function $N(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function x9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function E9(t){if(Array.isArray(t))return t}var EL=/[ \f\n\r\t\v\u2028\u2029]+/,TL=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];He(n)||(r?a=n.toString().split(""):a=n.toString().split(EL));var s=a.map(function(c){return{word:c,width:MN(c,i).width}}),u=r?0:MN("",i).width;return{wordsWithComputedWidth:s,spaceWidth:u}}catch{return null}},T9=function(e,n,r,i,a){var s=e.maxLines,u=e.children,c=e.style,f=e.breakAll,h=pe(s),m=u,v=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(L,W){var ne=W.word,le=W.width,de=L[L.length-1];if(de&&(i==null||a||de.width+le+r<Number(i)))de.words.push(ne),de.width+=le+r;else{var q={words:[ne],width:le};L.push(q)}return L},[])},_=v(n),x=function(H){return H.reduce(function(L,W){return L.width>W.width?L:W})};if(!h)return _;for(var E="",w=function(H){var L=m.slice(0,H),W=TL({breakAll:f,style:c,children:L+E}).wordsWithComputedWidth,ne=v(W),le=ne.length>s||x(ne).width>Number(i);return[le,ne]},T=0,C=m.length-1,A=0,P;T<=C&&A<=m.length-1;){var R=Math.floor((T+C)/2),M=R-1,I=w(M),k=LN(I,2),U=k[0],V=k[1],$=w(R),F=LN($,1),z=F[0];if(!U&&!z&&(T=R+1),U&&z&&(C=R-1),!U&&z){P=V;break}A++}return P||_},qN=function(e){var n=He(e)?[]:e.toString().split(EL);return[{words:n}]},A9=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,u=e.maxLines;if((n||r)&&!vp.isSsr){var c,f,h=TL({breakAll:s,children:i,style:a});if(h){var m=h.wordsWithComputedWidth,v=h.spaceWidth;c=m,f=v}else return qN(i);return T9({breakAll:s,children:i,maxLines:u,style:a},c,f,n,r)}return qN(i)},BN="#808080",Is=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,u=s===void 0?"1em":s,c=e.capHeight,f=c===void 0?"0.71em":c,h=e.scaleToFit,m=h===void 0?!1:h,v=e.textAnchor,_=v===void 0?"start":v,x=e.verticalAnchor,E=x===void 0?"end":x,w=e.fill,T=w===void 0?BN:w,C=UN(e,y9),A=B.useMemo(function(){return A9({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:m,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,m,C.style,C.width]),P=C.dx,R=C.dy,M=C.angle,I=C.className,k=C.breakAll,U=UN(C,b9);if(!Ht(r)||!Ht(a))return null;var V=r+(pe(P)?P:0),$=a+(pe(R)?R:0),F;switch(E){case"start":F=Ob("calc(".concat(f,")"));break;case"middle":F=Ob("calc(".concat((A.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:F=Ob("calc(".concat(A.length-1," * -").concat(u,")"));break}var z=[];if(m){var Q=A[0].width,H=C.width;z.push("scale(".concat((pe(H)?H/Q:1)/Q,")"))}return M&&z.push("rotate(".concat(M,", ").concat(V,", ").concat($,")")),z.length&&(U.transform=z.join(" ")),J.createElement("text",cS({},Ie(U,!0),{x:V,y:$,className:ze("recharts-text",I),textAnchor:_,fill:T.includes("url")?BN:T}),A.map(function(L,W){var ne=L.words.join(k?"":" ");return J.createElement("tspan",{x:V,dy:W===0?F:u,key:"".concat(ne,"-").concat(W)},ne)}))};function da(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function C9(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vx(t){let e,n,r;t.length!==2?(e=da,n=(u,c)=>da(t(u),c),r=(u,c)=>t(u)-c):(e=t===da||t===C9?t:R9,n=t,r=t);function i(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;n(u[m],c)<0?f=m+1:h=m}while(f<h)}return f}function a(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;n(u[m],c)<=0?f=m+1:h=m}while(f<h)}return f}function s(u,c,f=0,h=u.length){const m=i(u,c,f,h-1);return m>f&&r(u[m-1],c)>-r(u[m],c)?m-1:m}return{left:i,center:s,right:a}}function R9(){return 0}function AL(t){return t===null?NaN:+t}function*O9(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const M9=vx(da),Ic=M9.right;vx(AL).center;class so{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=e+a,u=Math.abs(e)<Math.abs(a)?e-(s-a):a-(s-e);u&&(n[r++]=u),e=s}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=e[--n];n>0&&(r=s,i=e[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}}class jN extends Map{constructor(e,n=I9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(HN(this,e))}has(e){return super.has(HN(this,e))}set(e,n){return super.set(N9(this,e),n)}delete(e){return super.delete(P9(this,e))}}function HN({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function N9({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function P9({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function I9(t){return t!==null&&typeof t=="object"?t.valueOf():t}function D9(t=da){if(t===da)return CL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function CL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const k9=Math.sqrt(50),U9=Math.sqrt(10),L9=Math.sqrt(2);function ih(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=k9?10:a>=U9?5:a>=L9?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/s,u=Math.round(t*f),c=Math.round(e*f),u/f<t&&++u,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,u=Math.round(t/f),c=Math.round(e/f),u*f<t&&++u,c*f>e&&--c),c<u&&.5<=n&&n<2?ih(t,e,n*2):[u,c,f]}function fS(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?ih(e,t,n):ih(t,e,n);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(r)if(s<0)for(let f=0;f<u;++f)c[f]=(a-f)/-s;else for(let f=0;f<u;++f)c[f]=(a-f)*s;else if(s<0)for(let f=0;f<u;++f)c[f]=(i+f)/-s;else for(let f=0;f<u;++f)c[f]=(i+f)*s;return c}function dS(t,e,n){return e=+e,t=+t,n=+n,ih(t,e,n)[2]}function hS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?dS(e,t,n):dS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function GN(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function VN(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function RL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?CL:D9(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),m=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*m*(c-m)/c)*(f-c/2<0?-1:1),_=Math.max(n,Math.floor(e-f*m/c+v)),x=Math.min(r,Math.floor(e+(c-f)*m/c+v));RL(t,e,_,x,i)}const a=t[e];let s=n,u=r;for(su(t,n,e),i(t[r],a)>0&&su(t,n,r);s<u;){for(su(t,s,u),++s,--u;i(t[s],a)<0;)++s;for(;i(t[u],a)>0;)--u}i(t[n],a)===0?su(t,n,u):(++u,su(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function su(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function $9(t,e,n){if(t=Float64Array.from(O9(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return VN(t);if(e>=1)return GN(t);var r,i=(r-1)*e,a=Math.floor(i),s=GN(RL(t,a).subarray(0,a+1)),u=VN(t.subarray(a+1));return s+(u-s)*(i-a)}}function q9(t,e,n=AL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return s+(u-s)*(i-a)}}function*B9(t){for(const e of t)yield*e}function OL(t){return Array.from(B9(t))}function j9(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function hr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Pi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const pS=Symbol("implicit");function yx(){var t=new jN,e=[],n=[],r=pS;function i(a){let s=t.get(a);if(s===void 0){if(r!==pS)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new jN;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return yx(e,n).unknown(r)},hr.apply(i,arguments),i}function Yu(){var t=yx().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,u=!1,c=0,f=0,h=.5;delete t.unknown;function m(){var v=e().length,_=i<r,x=_?i:r,E=_?r:i;a=(E-x)/Math.max(1,v-c+f*2),u&&(a=Math.floor(a)),x+=(E-x-a*(v-c))*h,s=a*(1-c),u&&(x=Math.round(x),s=Math.round(s));var w=j9(v).map(function(T){return x+a*T});return n(_?w.reverse():w)}return t.domain=function(v){return arguments.length?(e(v),m()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,u=!0,m()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(v){return arguments.length?(u=!!v,m()):u},t.padding=function(v){return arguments.length?(c=Math.min(1,f=+v),m()):c},t.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),m()):c},t.paddingOuter=function(v){return arguments.length?(f=+v,m()):f},t.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),m()):h},t.copy=function(){return Yu(e(),[r,i]).round(u).paddingInner(c).paddingOuter(f).align(h)},hr.apply(m(),arguments)}function ML(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ML(e())},t}function Mu(){return ML(Yu.apply(null,arguments).paddingInner(1))}function bx(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function NL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Dc(){}var Ju=.7,ah=1/Ju,xs="\\s*([+-]?\\d+)\\s*",Xu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",H9=/^#([0-9a-f]{3,8})$/,G9=new RegExp(`^rgb\\(${xs},${xs},${xs}\\)$`),V9=new RegExp(`^rgb\\(${Gr},${Gr},${Gr}\\)$`),z9=new RegExp(`^rgba\\(${xs},${xs},${xs},${Xu}\\)$`),F9=new RegExp(`^rgba\\(${Gr},${Gr},${Gr},${Xu}\\)$`),K9=new RegExp(`^hsl\\(${Xu},${Gr},${Gr}\\)$`),W9=new RegExp(`^hsla\\(${Xu},${Gr},${Gr},${Xu}\\)$`),zN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bx(Dc,Qu,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:FN,formatHex:FN,formatHex8:Y9,formatHsl:J9,formatRgb:KN,toString:KN});function FN(){return this.rgb().formatHex()}function Y9(){return this.rgb().formatHex8()}function J9(){return PL(this).formatHsl()}function KN(){return this.rgb().formatRgb()}function Qu(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=H9.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?WN(e):n===3?new Tn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?dd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?dd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=G9.exec(t))?new Tn(e[1],e[2],e[3],1):(e=V9.exec(t))?new Tn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=z9.exec(t))?dd(e[1],e[2],e[3],e[4]):(e=F9.exec(t))?dd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=K9.exec(t))?XN(e[1],e[2]/100,e[3]/100,1):(e=W9.exec(t))?XN(e[1],e[2]/100,e[3]/100,e[4]):zN.hasOwnProperty(t)?WN(zN[t]):t==="transparent"?new Tn(NaN,NaN,NaN,0):null}function WN(t){return new Tn(t>>16&255,t>>8&255,t&255,1)}function dd(t,e,n,r){return r<=0&&(t=e=n=NaN),new Tn(t,e,n,r)}function X9(t){return t instanceof Dc||(t=Qu(t)),t?(t=t.rgb(),new Tn(t.r,t.g,t.b,t.opacity)):new Tn}function mS(t,e,n,r){return arguments.length===1?X9(t):new Tn(t,e,n,r??1)}function Tn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}bx(Tn,mS,NL(Dc,{brighter(t){return t=t==null?ah:Math.pow(ah,t),new Tn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ju:Math.pow(Ju,t),new Tn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Tn(io(this.r),io(this.g),io(this.b),oh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:YN,formatHex:YN,formatHex8:Q9,formatRgb:JN,toString:JN}));function YN(){return`#${to(this.r)}${to(this.g)}${to(this.b)}`}function Q9(){return`#${to(this.r)}${to(this.g)}${to(this.b)}${to((isNaN(this.opacity)?1:this.opacity)*255)}`}function JN(){const t=oh(this.opacity);return`${t===1?"rgb(":"rgba("}${io(this.r)}, ${io(this.g)}, ${io(this.b)}${t===1?")":`, ${t})`}`}function oh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function io(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function to(t){return t=io(t),(t<16?"0":"")+t.toString(16)}function XN(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Er(t,e,n,r)}function PL(t){if(t instanceof Er)return new Er(t.h,t.s,t.l,t.opacity);if(t instanceof Dc||(t=Qu(t)),!t)return new Er;if(t instanceof Er)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,u=a-i,c=(a+i)/2;return u?(e===a?s=(n-r)/u+(n<r)*6:n===a?s=(r-e)/u+2:s=(e-n)/u+4,u/=c<.5?a+i:2-a-i,s*=60):u=c>0&&c<1?0:s,new Er(s,u,c,t.opacity)}function Z9(t,e,n,r){return arguments.length===1?PL(t):new Er(t,e,n,r??1)}function Er(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}bx(Er,Z9,NL(Dc,{brighter(t){return t=t==null?ah:Math.pow(ah,t),new Er(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ju:Math.pow(Ju,t),new Er(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Tn(Mb(t>=240?t-240:t+120,i,r),Mb(t,i,r),Mb(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Er(QN(this.h),hd(this.s),hd(this.l),oh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=oh(this.opacity);return`${t===1?"hsl(":"hsla("}${QN(this.h)}, ${hd(this.s)*100}%, ${hd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function QN(t){return t=(t||0)%360,t<0?t+360:t}function hd(t){return Math.max(0,Math.min(1,t||0))}function Mb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const _x=t=>()=>t;function eK(t,e){return function(n){return t+n*e}}function tK(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function nK(t){return(t=+t)==1?IL:function(e,n){return n-e?tK(e,n,t):_x(isNaN(e)?n:e)}}function IL(t,e){var n=e-t;return n?eK(t,n):_x(isNaN(t)?e:t)}const ZN=(function t(e){var n=nK(e);function r(i,a){var s=n((i=mS(i)).r,(a=mS(a)).r),u=n(i.g,a.g),c=n(i.b,a.b),f=IL(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=u(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function rK(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function iK(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function aK(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=il(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(u){for(s=0;s<r;++s)a[s]=i[s](u);return a}}function oK(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function sh(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function sK(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=il(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var gS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nb=new RegExp(gS.source,"g");function lK(t){return function(){return t}}function uK(t){return function(e){return t(e)+""}}function cK(t,e){var n=gS.lastIndex=Nb.lastIndex=0,r,i,a,s=-1,u=[],c=[];for(t=t+"",e=e+"";(r=gS.exec(t))&&(i=Nb.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[s]?u[s]+=a:u[++s]=a),(r=r[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:sh(r,i)})),n=Nb.lastIndex;return n<e.length&&(a=e.slice(n),u[s]?u[s]+=a:u[++s]=a),u.length<2?c[0]?uK(c[0].x):lK(e):(e=c.length,function(f){for(var h=0,m;h<e;++h)u[(m=c[h]).i]=m.x(f);return u.join("")})}function il(t,e){var n=typeof e,r;return e==null||n==="boolean"?_x(e):(n==="number"?sh:n==="string"?(r=Qu(e))?(e=r,ZN):cK:e instanceof Qu?ZN:e instanceof Date?oK:iK(e)?rK:Array.isArray(e)?aK:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?sK:sh)(t,e)}function Sx(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function fK(t,e){e===void 0&&(e=t,t=il);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var u=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[u](s-u)}}function dK(t){return function(){return t}}function lh(t){return+t}var eP=[0,1];function mn(t){return t}function vS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:dK(isNaN(e)?NaN:.5)}function hK(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function pK(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=vS(i,r),a=n(s,a)):(r=vS(r,i),a=n(a,s)),function(u){return a(r(u))}}function mK(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=vS(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(u){var c=Ic(t,u,1,r)-1;return a[c](i[c](u))}}function kc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function yp(){var t=eP,e=eP,n=il,r,i,a,s=mn,u,c,f;function h(){var v=Math.min(t.length,e.length);return s!==mn&&(s=hK(t[0],t[v-1])),u=v>2?mK:pK,c=f=null,m}function m(v){return v==null||isNaN(v=+v)?a:(c||(c=u(t.map(r),e,n)))(r(s(v)))}return m.invert=function(v){return s(i((f||(f=u(e,t.map(r),sh)))(v)))},m.domain=function(v){return arguments.length?(t=Array.from(v,lh),h()):t.slice()},m.range=function(v){return arguments.length?(e=Array.from(v),h()):e.slice()},m.rangeRound=function(v){return e=Array.from(v),n=Sx,h()},m.clamp=function(v){return arguments.length?(s=v?!0:mn,h()):s!==mn},m.interpolate=function(v){return arguments.length?(n=v,h()):n},m.unknown=function(v){return arguments.length?(a=v,m):a},function(v,_){return r=v,i=_,h()}}function wx(){return yp()(mn,mn)}function gK(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function uh(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ds(t){return t=uh(Math.abs(t)),t?t[1]:NaN}function vK(t,e){return function(n,r){for(var i=n.length,a=[],s=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),a.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[s=(s+1)%t.length];return a.reverse().join(e)}}function yK(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var bK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zu(t){if(!(e=bK.exec(t)))throw new Error("invalid format: "+t);var e;return new xx({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Zu.prototype=xx.prototype;function xx(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}xx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _K(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var DL;function SK(t,e){var n=uh(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(DL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+uh(t,Math.max(0,e+a-1))[0]}function tP(t,e){var n=uh(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const nP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:gK,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>tP(t*100,e),r:tP,s:SK,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function rP(t){return t}var iP=Array.prototype.map,aP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function wK(t){var e=t.grouping===void 0||t.thousands===void 0?rP:vK(iP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?rP:yK(iP.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(m){m=Zu(m);var v=m.fill,_=m.align,x=m.sign,E=m.symbol,w=m.zero,T=m.width,C=m.comma,A=m.precision,P=m.trim,R=m.type;R==="n"?(C=!0,R="g"):nP[R]||(A===void 0&&(A=12),P=!0,R="g"),(w||v==="0"&&_==="=")&&(w=!0,v="0",_="=");var M=E==="$"?n:E==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",I=E==="$"?r:/[%p]/.test(R)?s:"",k=nP[R],U=/[defgprs%]/.test(R);A=A===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function V($){var F=M,z=I,Q,H,L;if(R==="c")z=k($)+z,$="";else{$=+$;var W=$<0||1/$<0;if($=isNaN($)?c:k(Math.abs($),A),P&&($=_K($)),W&&+$==0&&x!=="+"&&(W=!1),F=(W?x==="("?x:u:x==="-"||x==="("?"":x)+F,z=(R==="s"?aP[8+DL/3]:"")+z+(W&&x==="("?")":""),U){for(Q=-1,H=$.length;++Q<H;)if(L=$.charCodeAt(Q),48>L||L>57){z=(L===46?i+$.slice(Q+1):$.slice(Q))+z,$=$.slice(0,Q);break}}}C&&!w&&($=e($,1/0));var ne=F.length+$.length+z.length,le=ne<T?new Array(T-ne+1).join(v):"";switch(C&&w&&($=e(le+$,le.length?T-z.length:1/0),le=""),_){case"<":$=F+$+z+le;break;case"=":$=F+le+$+z;break;case"^":$=le.slice(0,ne=le.length>>1)+F+$+z+le.slice(ne);break;default:$=le+F+$+z;break}return a($)}return V.toString=function(){return m+""},V}function h(m,v){var _=f((m=Zu(m),m.type="f",m)),x=Math.max(-8,Math.min(8,Math.floor(Ds(v)/3)))*3,E=Math.pow(10,-x),w=aP[8+x/3];return function(T){return _(E*T)+w}}return{format:f,formatPrefix:h}}var pd,Ex,kL;xK({thousands:",",grouping:[3],currency:["$",""]});function xK(t){return pd=wK(t),Ex=pd.format,kL=pd.formatPrefix,pd}function EK(t){return Math.max(0,-Ds(Math.abs(t)))}function TK(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ds(e)/3)))*3-Ds(Math.abs(t)))}function AK(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ds(e)-Ds(t))+1}function UL(t,e,n,r){var i=hS(t,e,n),a;switch(r=Zu(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=TK(i,s))&&(r.precision=a),kL(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=AK(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=EK(i))&&(r.precision=a-(r.type==="%")*2);break}}return Ex(r)}function va(t){var e=t.domain;return t.ticks=function(n){var r=e();return fS(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return UL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],u=r[a],c,f,h=10;for(u<s&&(f=s,s=u,u=f,f=i,i=a,a=f);h-- >0;){if(f=dS(s,u,n),f===c)return r[i]=s,r[a]=u,e(r);if(f>0)s=Math.floor(s/f)*f,u=Math.ceil(u/f)*f;else if(f<0)s=Math.ceil(s*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function ch(){var t=wx();return t.copy=function(){return kc(t,ch())},hr.apply(t,arguments),va(t)}function LL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,lh),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return LL(t).unknown(e)},t=arguments.length?Array.from(t,lh):[0,1],va(n)}function $L(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function oP(t){return Math.log(t)}function sP(t){return Math.exp(t)}function CK(t){return-Math.log(-t)}function RK(t){return-Math.exp(-t)}function OK(t){return isFinite(t)?+("1e"+t):t<0?0:t}function MK(t){return t===10?OK:t===Math.E?Math.exp:e=>Math.pow(t,e)}function NK(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function lP(t){return(e,n)=>-t(-e,n)}function Tx(t){const e=t(oP,sP),n=e.domain;let r=10,i,a;function s(){return i=NK(r),a=MK(r),n()[0]<0?(i=lP(i),a=lP(a),t(CK,RK)):t(oP,sP),e}return e.base=function(u){return arguments.length?(r=+u,s()):r},e.domain=function(u){return arguments.length?(n(u),s()):n()},e.ticks=u=>{const c=n();let f=c[0],h=c[c.length-1];const m=h<f;m&&([f,h]=[h,f]);let v=i(f),_=i(h),x,E;const w=u==null?10:+u;let T=[];if(!(r%1)&&_-v<w){if(v=Math.floor(v),_=Math.ceil(_),f>0){for(;v<=_;++v)for(x=1;x<r;++x)if(E=v<0?x/a(-v):x*a(v),!(E<f)){if(E>h)break;T.push(E)}}else for(;v<=_;++v)for(x=r-1;x>=1;--x)if(E=v>0?x/a(-v):x*a(v),!(E<f)){if(E>h)break;T.push(E)}T.length*2<w&&(T=fS(f,h,w))}else T=fS(v,_,Math.min(_-v,w)).map(a);return m?T.reverse():T},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Zu(c)).precision==null&&(c.trim=!0),c=Ex(c)),u===1/0)return c;const f=Math.max(1,r*u/e.ticks().length);return h=>{let m=h/a(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=f?c(h):""}},e.nice=()=>n($L(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function qL(){const t=Tx(yp()).domain([1,10]);return t.copy=()=>kc(t,qL()).base(t.base()),hr.apply(t,arguments),t}function uP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function cP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Ax(t){var e=1,n=t(uP(e),cP(e));return n.constant=function(r){return arguments.length?t(uP(e=+r),cP(e)):e},va(n)}function BL(){var t=Ax(yp());return t.copy=function(){return kc(t,BL()).constant(t.constant())},hr.apply(t,arguments)}function fP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function PK(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function IK(t){return t<0?-t*t:t*t}function Cx(t){var e=t(mn,mn),n=1;function r(){return n===1?t(mn,mn):n===.5?t(PK,IK):t(fP(n),fP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},va(e)}function Rx(){var t=Cx(yp());return t.copy=function(){return kc(t,Rx()).exponent(t.exponent())},hr.apply(t,arguments),t}function DK(){return Rx.apply(null,arguments).exponent(.5)}function dP(t){return Math.sign(t)*t*t}function kK(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function jL(){var t=wx(),e=[0,1],n=!1,r;function i(a){var s=kK(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(dP(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,lh)).map(dP)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return jL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},hr.apply(i,arguments),va(i)}function HL(){var t=[],e=[],n=[],r;function i(){var s=0,u=Math.max(1,e.length);for(n=new Array(u-1);++s<u;)n[s-1]=q9(t,s/u);return a}function a(s){return s==null||isNaN(s=+s)?r:e[Ic(n,s)]}return a.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(da),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return HL().domain(t).range(e).unknown(r)},hr.apply(a,arguments)}function GL(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[Ic(r,c,0,n)]:a}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return GL().domain([t,e]).range(i).unknown(a)},hr.apply(va(s),arguments)}function VL(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Ic(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return VL().domain(t).range(e).unknown(n)},hr.apply(i,arguments)}const Pb=new Date,Ib=new Date;function Gt(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),u=i.ceil(a);return a-s<u-a?s:u},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,u)=>{const c=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<s)||!(u>0))return c;let f;do c.push(f=new Date(+a)),e(a,u),t(a);while(f<a&&a<s);return c},i.filter=a=>Gt(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!a(s););else for(;--u>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(Pb.setTime(+a),Ib.setTime(+s),t(Pb),t(Ib),Math.floor(n(Pb,Ib))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const fh=Gt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);fh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Gt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):fh);fh.range;const yi=1e3,ar=yi*60,bi=ar*60,Ti=bi*24,Ox=Ti*7,hP=Ti*30,Db=Ti*365,no=Gt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*yi)},(t,e)=>(e-t)/yi,t=>t.getUTCSeconds());no.range;const Mx=Gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yi)},(t,e)=>{t.setTime(+t+e*ar)},(t,e)=>(e-t)/ar,t=>t.getMinutes());Mx.range;const Nx=Gt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ar)},(t,e)=>(e-t)/ar,t=>t.getUTCMinutes());Nx.range;const Px=Gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yi-t.getMinutes()*ar)},(t,e)=>{t.setTime(+t+e*bi)},(t,e)=>(e-t)/bi,t=>t.getHours());Px.range;const Ix=Gt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*bi)},(t,e)=>(e-t)/bi,t=>t.getUTCHours());Ix.range;const Uc=Gt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ar)/Ti,t=>t.getDate()-1);Uc.range;const bp=Gt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ti,t=>t.getUTCDate()-1);bp.range;const zL=Gt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ti,t=>Math.floor(t/Ti));zL.range;function ho(t){return Gt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ar)/Ox)}const _p=ho(0),dh=ho(1),UK=ho(2),LK=ho(3),ks=ho(4),$K=ho(5),qK=ho(6);_p.range;dh.range;UK.range;LK.range;ks.range;$K.range;qK.range;function po(t){return Gt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Ox)}const Sp=po(0),hh=po(1),BK=po(2),jK=po(3),Us=po(4),HK=po(5),GK=po(6);Sp.range;hh.range;BK.range;jK.range;Us.range;HK.range;GK.range;const Dx=Gt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Dx.range;const kx=Gt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());kx.range;const Ai=Gt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ai.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Gt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ai.range;const Ci=Gt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ci.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Gt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ci.range;function FL(t,e,n,r,i,a){const s=[[no,1,yi],[no,5,5*yi],[no,15,15*yi],[no,30,30*yi],[a,1,ar],[a,5,5*ar],[a,15,15*ar],[a,30,30*ar],[i,1,bi],[i,3,3*bi],[i,6,6*bi],[i,12,12*bi],[r,1,Ti],[r,2,2*Ti],[n,1,Ox],[e,1,hP],[e,3,3*hP],[t,1,Db]];function u(f,h,m){const v=h<f;v&&([f,h]=[h,f]);const _=m&&typeof m.range=="function"?m:c(f,h,m),x=_?_.range(f,+h+1):[];return v?x.reverse():x}function c(f,h,m){const v=Math.abs(h-f)/m,_=vx(([,,w])=>w).right(s,v);if(_===s.length)return t.every(hS(f/Db,h/Db,m));if(_===0)return fh.every(Math.max(hS(f,h,m),1));const[x,E]=s[v/s[_-1][2]<s[_][2]/v?_-1:_];return x.every(E)}return[u,c]}const[VK,zK]=FL(Ci,kx,Sp,zL,Ix,Nx),[FK,KK]=FL(Ai,Dx,_p,Uc,Px,Mx);function kb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ub(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function lu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function WK(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,u=t.months,c=t.shortMonths,f=uu(i),h=cu(i),m=uu(a),v=cu(a),_=uu(s),x=cu(s),E=uu(u),w=cu(u),T=uu(c),C=cu(c),A={a:W,A:ne,b:le,B:de,c:null,d:bP,e:bP,f:vW,g:CW,G:OW,H:pW,I:mW,j:gW,L:KL,m:yW,M:bW,p:q,q:K,Q:wP,s:xP,S:_W,u:SW,U:wW,V:xW,w:EW,W:TW,x:null,X:null,y:AW,Y:RW,Z:MW,"%":SP},P={a:ae,A:fe,b:ve,B:Te,c:null,d:_P,e:_P,f:DW,g:VW,G:FW,H:NW,I:PW,j:IW,L:YL,m:kW,M:UW,p:Le,q:Ye,Q:wP,s:xP,S:LW,u:$W,U:qW,V:BW,w:jW,W:HW,x:null,X:null,y:GW,Y:zW,Z:KW,"%":SP},R={a:V,A:$,b:F,B:z,c:Q,d:vP,e:vP,f:cW,g:gP,G:mP,H:yP,I:yP,j:oW,L:uW,m:aW,M:sW,p:U,q:iW,Q:dW,s:hW,S:lW,u:ZK,U:eW,V:tW,w:QK,W:nW,x:H,X:L,y:gP,Y:mP,Z:rW,"%":fW};A.x=M(n,A),A.X=M(r,A),A.c=M(e,A),P.x=M(n,P),P.X=M(r,P),P.c=M(e,P);function M(ce,Ae){return function(Re){var ue=[],dt=-1,Ne=0,_t=ce.length,St,on,pr;for(Re instanceof Date||(Re=new Date(+Re));++dt<_t;)ce.charCodeAt(dt)===37&&(ue.push(ce.slice(Ne,dt)),(on=pP[St=ce.charAt(++dt)])!=null?St=ce.charAt(++dt):on=St==="e"?" ":"0",(pr=Ae[St])&&(St=pr(Re,on)),ue.push(St),Ne=dt+1);return ue.push(ce.slice(Ne,dt)),ue.join("")}}function I(ce,Ae){return function(Re){var ue=lu(1900,void 0,1),dt=k(ue,ce,Re+="",0),Ne,_t;if(dt!=Re.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(Ae&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(Ne=Ub(lu(ue.y,0,1)),_t=Ne.getUTCDay(),Ne=_t>4||_t===0?hh.ceil(Ne):hh(Ne),Ne=bp.offset(Ne,(ue.V-1)*7),ue.y=Ne.getUTCFullYear(),ue.m=Ne.getUTCMonth(),ue.d=Ne.getUTCDate()+(ue.w+6)%7):(Ne=kb(lu(ue.y,0,1)),_t=Ne.getDay(),Ne=_t>4||_t===0?dh.ceil(Ne):dh(Ne),Ne=Uc.offset(Ne,(ue.V-1)*7),ue.y=Ne.getFullYear(),ue.m=Ne.getMonth(),ue.d=Ne.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),_t="Z"in ue?Ub(lu(ue.y,0,1)).getUTCDay():kb(lu(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(_t+5)%7:ue.w+ue.U*7-(_t+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,Ub(ue)):kb(ue)}}function k(ce,Ae,Re,ue){for(var dt=0,Ne=Ae.length,_t=Re.length,St,on;dt<Ne;){if(ue>=_t)return-1;if(St=Ae.charCodeAt(dt++),St===37){if(St=Ae.charAt(dt++),on=R[St in pP?Ae.charAt(dt++):St],!on||(ue=on(ce,Re,ue))<0)return-1}else if(St!=Re.charCodeAt(ue++))return-1}return ue}function U(ce,Ae,Re){var ue=f.exec(Ae.slice(Re));return ue?(ce.p=h.get(ue[0].toLowerCase()),Re+ue[0].length):-1}function V(ce,Ae,Re){var ue=_.exec(Ae.slice(Re));return ue?(ce.w=x.get(ue[0].toLowerCase()),Re+ue[0].length):-1}function $(ce,Ae,Re){var ue=m.exec(Ae.slice(Re));return ue?(ce.w=v.get(ue[0].toLowerCase()),Re+ue[0].length):-1}function F(ce,Ae,Re){var ue=T.exec(Ae.slice(Re));return ue?(ce.m=C.get(ue[0].toLowerCase()),Re+ue[0].length):-1}function z(ce,Ae,Re){var ue=E.exec(Ae.slice(Re));return ue?(ce.m=w.get(ue[0].toLowerCase()),Re+ue[0].length):-1}function Q(ce,Ae,Re){return k(ce,e,Ae,Re)}function H(ce,Ae,Re){return k(ce,n,Ae,Re)}function L(ce,Ae,Re){return k(ce,r,Ae,Re)}function W(ce){return s[ce.getDay()]}function ne(ce){return a[ce.getDay()]}function le(ce){return c[ce.getMonth()]}function de(ce){return u[ce.getMonth()]}function q(ce){return i[+(ce.getHours()>=12)]}function K(ce){return 1+~~(ce.getMonth()/3)}function ae(ce){return s[ce.getUTCDay()]}function fe(ce){return a[ce.getUTCDay()]}function ve(ce){return c[ce.getUTCMonth()]}function Te(ce){return u[ce.getUTCMonth()]}function Le(ce){return i[+(ce.getUTCHours()>=12)]}function Ye(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var Ae=M(ce+="",A);return Ae.toString=function(){return ce},Ae},parse:function(ce){var Ae=I(ce+="",!1);return Ae.toString=function(){return ce},Ae},utcFormat:function(ce){var Ae=M(ce+="",P);return Ae.toString=function(){return ce},Ae},utcParse:function(ce){var Ae=I(ce+="",!0);return Ae.toString=function(){return ce},Ae}}}var pP={"-":"",_:" ",0:"0"},Kt=/^\s*\d+/,YK=/^%/,JK=/[\\^$*+?|[\]().{}]/g;function Fe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function XK(t){return t.replace(JK,"\\$&")}function uu(t){return new RegExp("^(?:"+t.map(XK).join("|")+")","i")}function cu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function QK(t,e,n){var r=Kt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ZK(t,e,n){var r=Kt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function eW(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function tW(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function nW(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function mP(t,e,n){var r=Kt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function gP(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function rW(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function iW(t,e,n){var r=Kt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function aW(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function vP(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function oW(t,e,n){var r=Kt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function yP(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function sW(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function lW(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function uW(t,e,n){var r=Kt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function cW(t,e,n){var r=Kt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function fW(t,e,n){var r=YK.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function dW(t,e,n){var r=Kt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function hW(t,e,n){var r=Kt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function bP(t,e){return Fe(t.getDate(),e,2)}function pW(t,e){return Fe(t.getHours(),e,2)}function mW(t,e){return Fe(t.getHours()%12||12,e,2)}function gW(t,e){return Fe(1+Uc.count(Ai(t),t),e,3)}function KL(t,e){return Fe(t.getMilliseconds(),e,3)}function vW(t,e){return KL(t,e)+"000"}function yW(t,e){return Fe(t.getMonth()+1,e,2)}function bW(t,e){return Fe(t.getMinutes(),e,2)}function _W(t,e){return Fe(t.getSeconds(),e,2)}function SW(t){var e=t.getDay();return e===0?7:e}function wW(t,e){return Fe(_p.count(Ai(t)-1,t),e,2)}function WL(t){var e=t.getDay();return e>=4||e===0?ks(t):ks.ceil(t)}function xW(t,e){return t=WL(t),Fe(ks.count(Ai(t),t)+(Ai(t).getDay()===4),e,2)}function EW(t){return t.getDay()}function TW(t,e){return Fe(dh.count(Ai(t)-1,t),e,2)}function AW(t,e){return Fe(t.getFullYear()%100,e,2)}function CW(t,e){return t=WL(t),Fe(t.getFullYear()%100,e,2)}function RW(t,e){return Fe(t.getFullYear()%1e4,e,4)}function OW(t,e){var n=t.getDay();return t=n>=4||n===0?ks(t):ks.ceil(t),Fe(t.getFullYear()%1e4,e,4)}function MW(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Fe(e/60|0,"0",2)+Fe(e%60,"0",2)}function _P(t,e){return Fe(t.getUTCDate(),e,2)}function NW(t,e){return Fe(t.getUTCHours(),e,2)}function PW(t,e){return Fe(t.getUTCHours()%12||12,e,2)}function IW(t,e){return Fe(1+bp.count(Ci(t),t),e,3)}function YL(t,e){return Fe(t.getUTCMilliseconds(),e,3)}function DW(t,e){return YL(t,e)+"000"}function kW(t,e){return Fe(t.getUTCMonth()+1,e,2)}function UW(t,e){return Fe(t.getUTCMinutes(),e,2)}function LW(t,e){return Fe(t.getUTCSeconds(),e,2)}function $W(t){var e=t.getUTCDay();return e===0?7:e}function qW(t,e){return Fe(Sp.count(Ci(t)-1,t),e,2)}function JL(t){var e=t.getUTCDay();return e>=4||e===0?Us(t):Us.ceil(t)}function BW(t,e){return t=JL(t),Fe(Us.count(Ci(t),t)+(Ci(t).getUTCDay()===4),e,2)}function jW(t){return t.getUTCDay()}function HW(t,e){return Fe(hh.count(Ci(t)-1,t),e,2)}function GW(t,e){return Fe(t.getUTCFullYear()%100,e,2)}function VW(t,e){return t=JL(t),Fe(t.getUTCFullYear()%100,e,2)}function zW(t,e){return Fe(t.getUTCFullYear()%1e4,e,4)}function FW(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Us(t):Us.ceil(t),Fe(t.getUTCFullYear()%1e4,e,4)}function KW(){return"+0000"}function SP(){return"%"}function wP(t){return+t}function xP(t){return Math.floor(+t/1e3)}var ls,XL,QL;WW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function WW(t){return ls=WK(t),XL=ls.format,ls.parse,QL=ls.utcFormat,ls.utcParse,ls}function YW(t){return new Date(t)}function JW(t){return t instanceof Date?+t:+new Date(+t)}function Ux(t,e,n,r,i,a,s,u,c,f){var h=wx(),m=h.invert,v=h.domain,_=f(".%L"),x=f(":%S"),E=f("%I:%M"),w=f("%I %p"),T=f("%a %d"),C=f("%b %d"),A=f("%B"),P=f("%Y");function R(M){return(c(M)<M?_:u(M)<M?x:s(M)<M?E:a(M)<M?w:r(M)<M?i(M)<M?T:C:n(M)<M?A:P)(M)}return h.invert=function(M){return new Date(m(M))},h.domain=function(M){return arguments.length?v(Array.from(M,JW)):v().map(YW)},h.ticks=function(M){var I=v();return t(I[0],I[I.length-1],M??10)},h.tickFormat=function(M,I){return I==null?R:f(I)},h.nice=function(M){var I=v();return(!M||typeof M.range!="function")&&(M=e(I[0],I[I.length-1],M??10)),M?v($L(I,M)):h},h.copy=function(){return kc(h,Ux(t,e,n,r,i,a,s,u,c,f))},h}function XW(){return hr.apply(Ux(FK,KK,Ai,Dx,_p,Uc,Px,Mx,no,XL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function QW(){return hr.apply(Ux(VK,zK,Ci,kx,Sp,bp,Ix,Nx,no,QL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function wp(){var t=0,e=1,n,r,i,a,s=mn,u=!1,c;function f(m){return m==null||isNaN(m=+m)?c:s(i===0?.5:(m=(a(m)-n)*i,u?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(m){return arguments.length?(u=!!m,f):u},f.interpolator=function(m){return arguments.length?(s=m,f):s};function h(m){return function(v){var _,x;return arguments.length?([_,x]=v,s=m(_,x),f):[s(0),s(1)]}}return f.range=h(il),f.rangeRound=h(Sx),f.unknown=function(m){return arguments.length?(c=m,f):c},function(m){return a=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),f}}function ya(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function ZL(){var t=va(wp()(mn));return t.copy=function(){return ya(t,ZL())},Pi.apply(t,arguments)}function e$(){var t=Tx(wp()).domain([1,10]);return t.copy=function(){return ya(t,e$()).base(t.base())},Pi.apply(t,arguments)}function t$(){var t=Ax(wp());return t.copy=function(){return ya(t,t$()).constant(t.constant())},Pi.apply(t,arguments)}function Lx(){var t=Cx(wp());return t.copy=function(){return ya(t,Lx()).exponent(t.exponent())},Pi.apply(t,arguments)}function ZW(){return Lx.apply(null,arguments).exponent(.5)}function n$(){var t=[],e=mn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Ic(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(da),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>$9(t,a/r))},n.copy=function(){return n$(e).domain(t)},Pi.apply(n,arguments)}function xp(){var t=0,e=.5,n=1,r=1,i,a,s,u,c,f=mn,h,m=!1,v;function _(E){return isNaN(E=+E)?v:(E=.5+((E=+h(E))-a)*(r*E<r*a?u:c),f(m?Math.max(0,Math.min(1,E)):E))}_.domain=function(E){return arguments.length?([t,e,n]=E,i=h(t=+t),a=h(e=+e),s=h(n=+n),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,_):[t,e,n]},_.clamp=function(E){return arguments.length?(m=!!E,_):m},_.interpolator=function(E){return arguments.length?(f=E,_):f};function x(E){return function(w){var T,C,A;return arguments.length?([T,C,A]=w,f=fK(E,[T,C,A]),_):[f(0),f(.5),f(1)]}}return _.range=x(il),_.rangeRound=x(Sx),_.unknown=function(E){return arguments.length?(v=E,_):v},function(E){return h=E,i=E(t),a=E(e),s=E(n),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,_}}function r$(){var t=va(xp()(mn));return t.copy=function(){return ya(t,r$())},Pi.apply(t,arguments)}function i$(){var t=Tx(xp()).domain([.1,1,10]);return t.copy=function(){return ya(t,i$()).base(t.base())},Pi.apply(t,arguments)}function a$(){var t=Ax(xp());return t.copy=function(){return ya(t,a$()).constant(t.constant())},Pi.apply(t,arguments)}function $x(){var t=Cx(xp());return t.copy=function(){return ya(t,$x()).exponent(t.exponent())},Pi.apply(t,arguments)}function eY(){return $x.apply(null,arguments).exponent(.5)}const EP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Yu,scaleDiverging:r$,scaleDivergingLog:i$,scaleDivergingPow:$x,scaleDivergingSqrt:eY,scaleDivergingSymlog:a$,scaleIdentity:LL,scaleImplicit:pS,scaleLinear:ch,scaleLog:qL,scaleOrdinal:yx,scalePoint:Mu,scalePow:Rx,scaleQuantile:HL,scaleQuantize:GL,scaleRadial:jL,scaleSequential:ZL,scaleSequentialLog:e$,scaleSequentialPow:Lx,scaleSequentialQuantile:n$,scaleSequentialSqrt:ZW,scaleSequentialSymlog:t$,scaleSqrt:DK,scaleSymlog:BL,scaleThreshold:VL,scaleTime:XW,scaleUtc:QW,tickFormat:UL},Symbol.toStringTag,{value:"Module"}));var Lb,TP;function Ep(){if(TP)return Lb;TP=1;var t=tl();function e(n,r,i){for(var a=-1,s=n.length;++a<s;){var u=n[a],c=r(u);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,h=u}return h}return Lb=e,Lb}var $b,AP;function o$(){if(AP)return $b;AP=1;function t(e,n){return e>n}return $b=t,$b}var qb,CP;function tY(){if(CP)return qb;CP=1;var t=Ep(),e=o$(),n=rl();function r(i){return i&&i.length?t(i,n,e):void 0}return qb=r,qb}var nY=tY();const Tp=tt(nY);var Bb,RP;function s$(){if(RP)return Bb;RP=1;function t(e,n){return e<n}return Bb=t,Bb}var jb,OP;function rY(){if(OP)return jb;OP=1;var t=Ep(),e=s$(),n=rl();function r(i){return i&&i.length?t(i,n,e):void 0}return jb=r,jb}var iY=rY();const Ap=tt(iY);var Hb,MP;function aY(){if(MP)return Hb;MP=1;var t=Qw(),e=Wr(),n=pL(),r=An();function i(a,s){var u=r(a)?t:n;return u(a,e(s,3))}return Hb=i,Hb}var Gb,NP;function oY(){if(NP)return Gb;NP=1;var t=dL(),e=aY();function n(r,i){return t(e(r,i),1)}return Gb=n,Gb}var sY=oY();const lY=tt(sY);var Vb,PP;function uY(){if(PP)return Vb;PP=1;var t=dx();function e(n,r){return t(n,r)}return Vb=e,Vb}var cY=uY();const qx=tt(cY);var al=1e9,fY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},jx,yt=!0,ur="[DecimalError] ",ao=ur+"Invalid argument: ",Bx=ur+"Exponent out of range: ",ol=Math.floor,Ka=Math.pow,dY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Bn,Ft=1e7,mt=7,l$=9007199254740991,ph=ol(l$/mt),me={};me.absoluteValue=me.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};me.comparedTo=me.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};me.decimalPlaces=me.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*mt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};me.dividedBy=me.div=function(t){return xi(this,new this.constructor(t))};me.dividedToIntegerBy=me.idiv=function(t){var e=this,n=e.constructor;return st(xi(e,new n(t),0,1),n.precision)};me.equals=me.eq=function(t){return!this.cmp(t)};me.exponent=function(){return $t(this)};me.greaterThan=me.gt=function(t){return this.cmp(t)>0};me.greaterThanOrEqualTo=me.gte=function(t){return this.cmp(t)>=0};me.isInteger=me.isint=function(){return this.e>this.d.length-2};me.isNegative=me.isneg=function(){return this.s<0};me.isPositive=me.ispos=function(){return this.s>0};me.isZero=function(){return this.s===0};me.lessThan=me.lt=function(t){return this.cmp(t)<0};me.lessThanOrEqualTo=me.lte=function(t){return this.cmp(t)<1};me.logarithm=me.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Bn))throw Error(ur+"NaN");if(n.s<1)throw Error(ur+(n.s?"NaN":"-Infinity"));return n.eq(Bn)?new r(0):(yt=!1,e=xi(ec(n,a),ec(t,a),a),yt=!0,st(e,i))};me.minus=me.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?f$(e,t):u$(e,(t.s=-t.s,t))};me.modulo=me.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ur+"NaN");return n.s?(yt=!1,e=xi(n,t,0,1).times(t),yt=!0,n.minus(e)):st(new r(n),i)};me.naturalExponential=me.exp=function(){return c$(this)};me.naturalLogarithm=me.ln=function(){return ec(this)};me.negated=me.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};me.plus=me.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?u$(e,t):f$(e,(t.s=-t.s,t))};me.precision=me.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ao+t);if(e=$t(i)+1,r=i.d.length-1,n=r*mt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};me.squareRoot=me.sqrt=function(){var t,e,n,r,i,a,s,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(ur+"NaN")}for(t=$t(u),yt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=jr(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ol((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(xi(u,a,s+2)).times(.5),jr(a.d).slice(0,s)===(e=jr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(st(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(e!="9999")break;s+=4}return yt=!0,st(r,n)};me.times=me.mul=function(t){var e,n,r,i,a,s,u,c,f,h=this,m=h.constructor,v=h.d,_=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,n=h.e+t.e,c=v.length,f=_.length,c<f&&(a=v,v=_,_=a,s=c,c=f,f=s),a=[],s=c+f,r=s;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)u=a[i]+_[r]*v[i-r-1]+e,a[i--]=u%Ft|0,e=u/Ft|0;a[i]=(a[i]+e)%Ft|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,yt?st(t,m.precision):t};me.toDecimalPlaces=me.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(zr(t,0,al),e===void 0?e=r.rounding:zr(e,0,8),st(n,t+$t(n)+1,e))};me.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=lo(r,!0):(zr(t,0,al),e===void 0?e=i.rounding:zr(e,0,8),r=st(new i(r),t+1,e),n=lo(r,!0,t+1)),n};me.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?lo(i):(zr(t,0,al),e===void 0?e=a.rounding:zr(e,0,8),r=st(new a(i),t+$t(i)+1,e),n=lo(r.abs(),!1,t+$t(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};me.toInteger=me.toint=function(){var t=this,e=t.constructor;return st(new e(t),$t(t)+1,e.rounding)};me.toNumber=function(){return+this};me.toPower=me.pow=function(t){var e,n,r,i,a,s,u=this,c=u.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(Bn);if(u=new c(u),!u.s){if(t.s<1)throw Error(ur+"Infinity");return u}if(u.eq(Bn))return u;if(r=c.precision,t.eq(Bn))return st(u,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=u.s,s){if((n=h<0?-h:h)<=l$){for(i=new c(Bn),e=Math.ceil(r/mt+4),yt=!1;n%2&&(i=i.times(u),DP(i.d,e)),n=ol(n/2),n!==0;)u=u.times(u),DP(u.d,e);return yt=!0,t.s<0?new c(Bn).div(i):st(i,r)}}else if(a<0)throw Error(ur+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,yt=!1,i=t.times(ec(u,r+f)),yt=!0,i=c$(i),i.s=a,i};me.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=$t(i),r=lo(i,n<=a.toExpNeg||n>=a.toExpPos)):(zr(t,1,al),e===void 0?e=a.rounding:zr(e,0,8),i=st(new a(i),t,e),n=$t(i),r=lo(i,t<=n||n<=a.toExpNeg,t)),r};me.toSignificantDigits=me.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(zr(t,1,al),e===void 0?e=r.rounding:zr(e,0,8)),st(new r(n),t,e)};me.toString=me.valueOf=me.val=me.toJSON=me[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=$t(t),n=t.constructor;return lo(t,e<=n.toExpNeg||e>=n.toExpPos)};function u$(t,e){var n,r,i,a,s,u,c,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),yt?st(e,m):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,u=f.length):(r=f,i=s,u=c.length),s=Math.ceil(m/mt),u=s>u?s+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=c.length,a=f.length,u-a<0&&(a=u,r=f,f=c,c=r),n=0;a;)n=(c[--a]=c[a]+f[a]+n)/Ft|0,c[a]%=Ft;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,yt?st(e,m):e}function zr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ao+t)}function jr(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=mt-r.length,n&&(a+=ua(n)),a+=r;s=t[e],r=s+"",n=mt-r.length,n&&(a+=ua(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var xi=(function(){function t(r,i){var a,s=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+s,r[u]=a%Ft|0,s=a/Ft|0;return s&&r.unshift(s),r}function e(r,i,a,s){var u,c;if(a!=s)c=a>s?1:-1;else for(u=c=0;u<a;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Ft+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var u,c,f,h,m,v,_,x,E,w,T,C,A,P,R,M,I,k,U=r.constructor,V=r.s==i.s?1:-1,$=r.d,F=i.d;if(!r.s)return new U(r);if(!i.s)throw Error(ur+"Division by zero");for(c=r.e-i.e,I=F.length,R=$.length,_=new U(V),x=_.d=[],f=0;F[f]==($[f]||0);)++f;if(F[f]>($[f]||0)&&--c,a==null?C=a=U.precision:s?C=a+($t(r)-$t(i))+1:C=a,C<0)return new U(0);if(C=C/mt+2|0,f=0,I==1)for(h=0,F=F[0],C++;(f<R||h)&&C--;f++)A=h*Ft+($[f]||0),x[f]=A/F|0,h=A%F|0;else{for(h=Ft/(F[0]+1)|0,h>1&&(F=t(F,h),$=t($,h),I=F.length,R=$.length),P=I,E=$.slice(0,I),w=E.length;w<I;)E[w++]=0;k=F.slice(),k.unshift(0),M=F[0],F[1]>=Ft/2&&++M;do h=0,u=e(F,E,I,w),u<0?(T=E[0],I!=w&&(T=T*Ft+(E[1]||0)),h=T/M|0,h>1?(h>=Ft&&(h=Ft-1),m=t(F,h),v=m.length,w=E.length,u=e(m,E,v,w),u==1&&(h--,n(m,I<v?k:F,v))):(h==0&&(u=h=1),m=F.slice()),v=m.length,v<w&&m.unshift(0),n(E,m,w),u==-1&&(w=E.length,u=e(F,E,I,w),u<1&&(h++,n(E,I<w?k:F,w))),w=E.length):u===0&&(h++,E=[0]),x[f++]=h,u&&E[0]?E[w++]=$[P]||0:(E=[$[P]],w=1);while((P++<R||E[0]!==void 0)&&C--)}return x[0]||x.shift(),_.e=c,st(_,s?a+$t(_)+1:a)}})();function c$(t,e){var n,r,i,a,s,u,c=0,f=0,h=t.constructor,m=h.precision;if($t(t)>16)throw Error(Bx+$t(t));if(!t.s)return new h(Bn);for(yt=!1,u=m,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(r=Math.log(Ka(2,f))/Math.LN10*2+5|0,u+=r,n=i=a=new h(Bn),h.precision=u;;){if(i=st(i.times(t),u),n=n.times(++c),s=a.plus(xi(i,n,u)),jr(s.d).slice(0,u)===jr(a.d).slice(0,u)){for(;f--;)a=st(a.times(a),u);return h.precision=m,e==null?(yt=!0,st(a,m)):a}a=s}}function $t(t){for(var e=t.e*mt,n=t.d[0];n>=10;n/=10)e++;return e}function zb(t,e,n){if(e>t.LN10.sd())throw yt=!0,n&&(t.precision=n),Error(ur+"LN10 precision limit exceeded");return st(new t(t.LN10),e)}function ua(t){for(var e="";t--;)e+="0";return e}function ec(t,e){var n,r,i,a,s,u,c,f,h,m=1,v=10,_=t,x=_.d,E=_.constructor,w=E.precision;if(_.s<1)throw Error(ur+(_.s?"NaN":"-Infinity"));if(_.eq(Bn))return new E(0);if(e==null?(yt=!1,f=w):f=e,_.eq(10))return e==null&&(yt=!0),zb(E,f);if(f+=v,E.precision=f,n=jr(x),r=n.charAt(0),a=$t(_),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=jr(_.d),r=n.charAt(0),m++;a=$t(_),r>1?(_=new E("0."+n),a++):_=new E(r+"."+n.slice(1))}else return c=zb(E,f+2,w).times(a+""),_=ec(new E(r+"."+n.slice(1)),f-v).plus(c),E.precision=w,e==null?(yt=!0,st(_,w)):_;for(u=s=_=xi(_.minus(Bn),_.plus(Bn),f),h=st(_.times(_),f),i=3;;){if(s=st(s.times(h),f),c=u.plus(xi(s,new E(i),f)),jr(c.d).slice(0,f)===jr(u.d).slice(0,f))return u=u.times(2),a!==0&&(u=u.plus(zb(E,f+2,w).times(a+""))),u=xi(u,new E(m),f),E.precision=w,e==null?(yt=!0,st(u,w)):u;u=c,i+=2}}function IP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=ol(n/mt),t.d=[],r=(n+1)%mt,n<0&&(r+=mt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=mt;r<i;)t.d.push(+e.slice(r,r+=mt));e=e.slice(r),r=mt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),yt&&(t.e>ph||t.e<-ph))throw Error(Bx+n)}else t.s=0,t.e=0,t.d=[0];return t}function st(t,e,n){var r,i,a,s,u,c,f,h,m=t.d;for(s=1,a=m[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=mt,i=e,f=m[h=0];else{if(h=Math.ceil((r+1)/mt),a=m.length,h>=a)return t;for(f=a=m[h],s=1;a>=10;a/=10)s++;r%=mt,i=r-mt+s}if(n!==void 0&&(a=Ka(10,s-i-1),u=f/a%10|0,c=e<0||m[h+1]!==void 0||f%a,c=n<4?(u||c)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?f/Ka(10,s-i):0:m[h-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return c?(a=$t(t),m.length=1,e=e-a-1,m[0]=Ka(10,(mt-e%mt)%mt),t.e=ol(-e/mt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=h,a=1,h--):(m.length=h+1,a=Ka(10,mt-r),m[h]=i>0?(f/Ka(10,s-i)%Ka(10,i)|0)*a:0),c)for(;;)if(h==0){(m[0]+=a)==Ft&&(m[0]=1,++t.e);break}else{if(m[h]+=a,m[h]!=Ft)break;m[h--]=0,a=1}for(r=m.length;m[--r]===0;)m.pop();if(yt&&(t.e>ph||t.e<-ph))throw Error(Bx+$t(t));return t}function f$(t,e){var n,r,i,a,s,u,c,f,h,m,v=t.constructor,_=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),yt?st(e,_):e;if(c=t.d,m=e.d,r=e.e,f=t.e,c=c.slice(),s=f-r,s){for(h=s<0,h?(n=c,s=-s,u=m.length):(n=m,r=f,u=c.length),i=Math.max(Math.ceil(_/mt),u)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=m[i]){h=c[i]<m[i];break}s=0}for(h&&(n=c,c=m,m=n,e.s=-e.s),u=c.length,i=m.length-u;i>0;--i)c[u++]=0;for(i=m.length;i>s;){if(c[--i]<m[i]){for(a=i;a&&c[--a]===0;)c[a]=Ft-1;--c[a],c[i]+=Ft}c[i]-=m[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,yt?st(e,_):e):new v(0)}function lo(t,e,n){var r,i=$t(t),a=jr(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+ua(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ua(-i-1)+a,n&&(r=n-s)>0&&(a+=ua(r))):i>=s?(a+=ua(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+ua(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=ua(r))),t.s<0?"-"+a:a}function DP(t,e){if(t.length>e)return t.length=e,!0}function d$(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ao+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return IP(s,a.toString())}else if(typeof a!="string")throw Error(ao+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,dY.test(a))IP(s,a);else throw Error(ao+a)}if(i.prototype=me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=d$,i.config=i.set=hY,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function hY(t){if(!t||typeof t!="object")throw Error(ur+"Object expected");var e,n,r,i=["precision",1,al,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(ol(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ao+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ao+n+": "+r);return this}var jx=d$(fY);Bn=new jx(1);const at=jx;function pY(t){return yY(t)||vY(t)||gY(t)||mY()}function mY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gY(t,e){if(t){if(typeof t=="string")return yS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yS(t,e)}}function vY(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function yY(t){if(Array.isArray(t))return yS(t)}function yS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var bY=function(e){return e},h$={},p$=function(e){return e===h$},kP=function(e){return function n(){return arguments.length===0||arguments.length===1&&p$(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},_Y=function t(e,n){return e===1?n:kP(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(u){return u!==h$}).length;return s>=e?n.apply(void 0,i):t(e-s,kP(function(){for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];var h=i.map(function(m){return p$(m)?c.shift():m});return n.apply(void 0,pY(h).concat(c))}))})},Cp=function(e){return _Y(e.length,e)},bS=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},SY=Cp(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),wY=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return bY;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(u,c){return c(u)},a.apply(void 0,arguments))}},_S=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},m$=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(u,c){return u===n[c]})||(n=a,r=e.apply(void 0,a)),r}};function xY(t){var e;return t===0?e=1:e=Math.floor(new at(t).abs().log(10).toNumber())+1,e}function EY(t,e,n){for(var r=new at(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var TY=Cp(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),AY=Cp(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),CY=Cp(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Rp={rangeStep:EY,getDigitCount:xY,interpolateNumber:TY,uninterpolateNumber:AY,uninterpolateTruncation:CY};function SS(t){return MY(t)||OY(t)||g$(t)||RY()}function RY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OY(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function MY(t){if(Array.isArray(t))return wS(t)}function tc(t,e){return IY(t)||PY(t,e)||g$(t,e)||NY()}function NY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g$(t,e){if(t){if(typeof t=="string")return wS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wS(t,e)}}function wS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PY(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),u;!(r=(u=s.next()).done)&&(n.push(u.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function IY(t){if(Array.isArray(t))return t}function v$(t){var e=tc(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function y$(t,e,n){if(t.lte(0))return new at(0);var r=Rp.getDigitCount(t.toNumber()),i=new at(10).pow(r),a=t.div(i),s=r!==1?.05:.1,u=new at(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=u.mul(i);return e?c:new at(Math.ceil(c))}function DY(t,e,n){var r=1,i=new at(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new at(10).pow(Rp.getDigitCount(t)-1),i=new at(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new at(Math.floor(t)))}else t===0?i=new at(Math.floor((e-1)/2)):n||(i=new at(Math.floor(t)));var s=Math.floor((e-1)/2),u=wY(SY(function(c){return i.add(new at(c-s).mul(r)).toNumber()}),bS);return u(0,e)}function b$(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new at(0),tickMin:new at(0),tickMax:new at(0)};var a=y$(new at(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new at(0):(s=new at(t).add(e).div(2),s=s.sub(new at(s).mod(a)));var u=Math.ceil(s.sub(t).div(a).toNumber()),c=Math.ceil(new at(e).sub(s).div(a).toNumber()),f=u+c+1;return f>n?b$(t,e,n,r,i+1):(f<n&&(c=e>0?c+(n-f):c,u=e>0?u:u+(n-f)),{step:a,tickMin:s.sub(new at(u).mul(a)),tickMax:s.add(new at(c).mul(a))})}function kY(t){var e=tc(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),u=v$([n,r]),c=tc(u,2),f=c[0],h=c[1];if(f===-1/0||h===1/0){var m=h===1/0?[f].concat(SS(bS(0,i-1).map(function(){return 1/0}))):[].concat(SS(bS(0,i-1).map(function(){return-1/0})),[h]);return n>r?_S(m):m}if(f===h)return DY(f,i,a);var v=b$(f,h,s,a),_=v.step,x=v.tickMin,E=v.tickMax,w=Rp.rangeStep(x,E.add(new at(.1).mul(_)),_);return n>r?_S(w):w}function UY(t,e){var n=tc(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=v$([r,i]),u=tc(s,2),c=u[0],f=u[1];if(c===-1/0||f===1/0)return[r,i];if(c===f)return[c];var h=Math.max(e,2),m=y$(new at(f).sub(c).div(h-1),a,0),v=[].concat(SS(Rp.rangeStep(new at(c),new at(f).sub(new at(.99).mul(m)),m)),[f]);return r>i?_S(v):v}var LY=m$(kY),$Y=m$(UY),qY="Invariant failed";function Ls(t,e){throw new Error(qY)}var BY=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function $s(t){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function mh(){return mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mh.apply(this,arguments)}function jY(t,e){return zY(t)||VY(t,e)||GY(t,e)||HY()}function HY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GY(t,e){if(t){if(typeof t=="string")return UP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UP(t,e)}}function UP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function zY(t){if(Array.isArray(t))return t}function FY(t,e){if(t==null)return{};var n=KY(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function WY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w$(r.key),r)}}function JY(t,e,n){return e&&YY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XY(t,e,n){return e=gh(e),QY(t,_$()?Reflect.construct(e,n||[],gh(t).constructor):e.apply(t,n))}function QY(t,e){if(e&&($s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZY(t)}function ZY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_$=function(){return!!t})()}function gh(t){return gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gh(t)}function eJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xS(t,e)}function xS(t,e){return xS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xS(t,e)}function S$(t,e,n){return e=w$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w$(t){var e=tJ(t,"string");return $s(e)=="symbol"?e:e+""}function tJ(t,e){if($s(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hx=(function(t){function e(){return WY(this,e),XY(this,e,arguments)}return eJ(e,t),JY(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,u=r.dataKey,c=r.data,f=r.dataPointFormatter,h=r.xAxis,m=r.yAxis,v=FY(r,BY),_=Ie(v,!1);this.props.direction==="x"&&h.type!=="number"&&Ls();var x=c.map(function(E){var w=f(E,u),T=w.x,C=w.y,A=w.value,P=w.errorVal;if(!P)return null;var R=[],M,I;if(Array.isArray(P)){var k=jY(P,2);M=k[0],I=k[1]}else M=I=P;if(a==="vertical"){var U=h.scale,V=C+i,$=V+s,F=V-s,z=U(A-M),Q=U(A+I);R.push({x1:Q,y1:$,x2:Q,y2:F}),R.push({x1:z,y1:V,x2:Q,y2:V}),R.push({x1:z,y1:$,x2:z,y2:F})}else if(a==="horizontal"){var H=m.scale,L=T+i,W=L-s,ne=L+s,le=H(A-M),de=H(A+I);R.push({x1:W,y1:de,x2:ne,y2:de}),R.push({x1:L,y1:le,x2:L,y2:de}),R.push({x1:W,y1:le,x2:ne,y2:le})}return J.createElement(Ot,mh({className:"recharts-errorBar",key:"bar-".concat(R.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},_),R.map(function(q){return J.createElement("line",mh({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return J.createElement(Ot,{className:"recharts-errorBars"},x)}}])})(J.Component);S$(Hx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});S$(Hx,"displayName","ErrorBar");function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function LP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ha(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(n),!0).forEach(function(r){nJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nJ(t,e,n){return e=rJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rJ(t){var e=iJ(t,"string");return nc(e)=="symbol"?e:e+""}function iJ(t,e){if(nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x$=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=tr(n,ro);if(!s)return null;var u=ro.defaultProps,c=u!==void 0?Ha(Ha({},u),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:a==="children"?f=(r||[]).reduce(function(h,m){var v=m.item,_=m.props,x=_.sectors||_.data||[];return h.concat(x.map(function(E){return{type:s.props.iconType||v.props.legendType,value:E.name,color:E.fill,payload:E}}))},[]):f=(r||[]).map(function(h){var m=h.item,v=m.type.defaultProps,_=v!==void 0?Ha(Ha({},v),m.props):{},x=_.dataKey,E=_.name,w=_.legendType,T=_.hide;return{inactive:T,dataKey:x,type:c.iconType||w||"square",color:Gx(m),value:E||x,payload:_}}),Ha(Ha(Ha({},c),ro.getWithHeight(s,i)),{},{payload:f,item:s})};function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function $P(t){return lJ(t)||sJ(t)||oJ(t)||aJ()}function aJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oJ(t,e){if(t){if(typeof t=="string")return ES(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ES(t,e)}}function sJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lJ(t){if(Array.isArray(t))return ES(t)}function ES(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){Es(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Es(t,e,n){return e=uJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uJ(t){var e=cJ(t,"string");return rc(e)=="symbol"?e:e+""}function cJ(t,e){if(rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jn(t,e,n){return He(t)||He(e)?n:Ht(e)?Tr(t,e,n):De(e)?e(t):n}function Nu(t,e,n,r){var i=lY(t,function(u){return jn(u,e)});if(n==="number"){var a=i.filter(function(u){return pe(u)||parseFloat(u)});return a.length?[Ap(a),Tp(a)]:[1/0,-1/0]}var s=r?i.filter(function(u){return!He(u)}):i;return s.map(function(u){return Ht(u)||u instanceof Date?u:""})}var fJ=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,u=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(u<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,f=0;f<u;f++){var h=f>0?i[f-1].coordinate:i[u-1].coordinate,m=i[f].coordinate,v=f>=u-1?i[0].coordinate:i[f+1].coordinate,_=void 0;if(ir(m-h)!==ir(v-m)){var x=[];if(ir(v-m)===ir(c[1]-c[0])){_=v;var E=m+c[1]-c[0];x[0]=Math.min(E,(E+h)/2),x[1]=Math.max(E,(E+h)/2)}else{_=h;var w=v+c[1]-c[0];x[0]=Math.min(m,(w+m)/2),x[1]=Math.max(m,(w+m)/2)}var T=[Math.min(m,(_+m)/2),Math.max(m,(_+m)/2)];if(e>T[0]&&e<=T[1]||e>=x[0]&&e<=x[1]){s=i[f].index;break}}else{var C=Math.min(h,v),A=Math.max(h,v);if(e>(C+m)/2&&e<=(A+m)/2){s=i[f].index;break}}}else for(var P=0;P<u;P++)if(P===0&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P>0&&P<u-1&&e>(r[P].coordinate+r[P-1].coordinate)/2&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P===u-1&&e>(r[P].coordinate+r[P-1].coordinate)/2){s=r[P].index;break}return s},Gx=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Rt(Rt({},e.type.defaultProps),e.props):e.props,s=a.stroke,u=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:u;break;default:c=u;break}return c},dJ=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},u=Object.keys(a),c=0,f=u.length;c<f;c++)for(var h=a[u[c]].stackGroups,m=Object.keys(h),v=0,_=m.length;v<_;v++){var x=h[m[v]],E=x.items,w=x.cateAxisId,T=E.filter(function(I){return Si(I.type).indexOf("Bar")>=0});if(T&&T.length){var C=T[0].type.defaultProps,A=C!==void 0?Rt(Rt({},C),T[0].props):T[0].props,P=A.barSize,R=A[w];s[R]||(s[R]=[]);var M=He(P)?n:P;s[R].push({item:T[0],stackList:T.slice(1),barSize:He(M)?void 0:En(M,r,0)})}}return s},hJ=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,u=e.maxBarSize,c=s.length;if(c<1)return null;var f=En(n,i,0,!0),h,m=[];if(s[0].barSize===+s[0].barSize){var v=!1,_=i/c,x=s.reduce(function(P,R){return P+R.barSize||0},0);x+=(c-1)*f,x>=i&&(x-=(c-1)*f,f=0),x>=i&&_>0&&(v=!0,_*=.9,x=c*_);var E=(i-x)/2>>0,w={offset:E-f,size:0};h=s.reduce(function(P,R){var M={item:R.item,position:{offset:w.offset+w.size+f,size:v?_:R.barSize}},I=[].concat($P(P),[M]);return w=I[I.length-1].position,R.stackList&&R.stackList.length&&R.stackList.forEach(function(k){I.push({item:k,position:w})}),I},m)}else{var T=En(r,i,0,!0);i-2*T-(c-1)*f<=0&&(f=0);var C=(i-2*T-(c-1)*f)/c;C>1&&(C>>=0);var A=u===+u?Math.min(C,u):C;h=s.reduce(function(P,R,M){var I=[].concat($P(P),[{item:R.item,position:{offset:T+(C+f)*M+(C-A)/2,size:A}}]);return R.stackList&&R.stackList.length&&R.stackList.forEach(function(k){I.push({item:k,position:I[I.length-1].position})}),I},m)}return h},pJ=function(e,n,r,i){var a=r.children,s=r.width,u=r.margin,c=s-(u.left||0)-(u.right||0),f=x$({children:a,legendWidth:c});if(f){var h=i||{},m=h.width,v=h.height,_=f.align,x=f.verticalAlign,E=f.layout;if((E==="vertical"||E==="horizontal"&&x==="middle")&&_!=="center"&&pe(e[_]))return Rt(Rt({},e),{},Es({},_,e[_]+(m||0)));if((E==="horizontal"||E==="vertical"&&_==="center")&&x!=="middle"&&pe(e[x]))return Rt(Rt({},e),{},Es({},x,e[x]+(v||0)))}return e},mJ=function(e,n,r){return He(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},E$=function(e,n,r,i,a){var s=n.props.children,u=Hr(s,Hx).filter(function(f){return mJ(i,a,f.props.direction)});if(u&&u.length){var c=u.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var m=jn(h,r);if(He(m))return f;var v=Array.isArray(m)?[Ap(m),Tp(m)]:[m,m],_=c.reduce(function(x,E){var w=jn(h,E,0),T=v[0]-Math.abs(Array.isArray(w)?w[0]:w),C=v[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(T,x[0]),Math.max(C,x[1])]},[1/0,-1/0]);return[Math.min(_[0],f[0]),Math.max(_[1],f[1])]},[1/0,-1/0])}return null},gJ=function(e,n,r,i,a){var s=n.map(function(u){return E$(e,u,r,a,i)}).filter(function(u){return!He(u)});return s&&s.length?s.reduce(function(u,c){return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]):null},T$=function(e,n,r,i,a){var s=n.map(function(c){var f=c.props.dataKey;return r==="number"&&f&&E$(e,c,f,i)||Nu(e,f,r,a)});if(r==="number")return s.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var u={};return s.reduce(function(c,f){for(var h=0,m=f.length;h<m;h++)u[f[h]]||(u[f[h]]=!0,c.push(f[h]));return c},[])},A$=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},bu=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,u=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?ir(u[0]-u[1])*2*f:f,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(m){var v=a?a.indexOf(m):m;return{coordinate:i(v)+f,value:m,offset:f}});return h.filter(function(m){return!Nc(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,v){return{coordinate:i(m)+f,value:m,index:v,offset:f}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+f,value:m,offset:f}}):i.domain().map(function(m,v){return{coordinate:i(m)+f,value:a?a[m]:m,index:v,offset:f}})},Fb=new WeakMap,md=function(e,n){if(typeof n!="function")return e;Fb.has(e)||Fb.set(e,new WeakMap);var r=Fb.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},vJ=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,u=e.axisType;if(i==="auto")return s==="radial"&&u==="radiusAxis"?{scale:Yu(),realScaleType:"band"}:s==="radial"&&u==="angleAxis"?{scale:ch(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0)?{scale:Mu(),realScaleType:"point"}:a==="category"?{scale:Yu(),realScaleType:"band"}:{scale:ch(),realScaleType:"linear"};if(Mc(i)){var c="scale".concat(cp(i));return{scale:(EP[c]||Mu)(),realScaleType:EP[c]?c:"point"}}return De(i)?{scale:i}:{scale:Mu(),realScaleType:"point"}},BP=1e-4,yJ=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-BP,s=Math.max(i[0],i[1])+BP,u=e(n[0]),c=e(n[r-1]);(u<a||u>s||c<a||c>s)&&e.domain([n[0],n[r-1]])}},bJ=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,u=0;u<n;++u){var c=Nc(e[u][r][1])?e[u][r][0]:e[u][r][1];c>=0?(e[u][r][0]=a,e[u][r][1]=a+c,a=e[u][r][1]):(e[u][r][0]=s,e[u][r][1]=s+c,s=e[u][r][1])}},_J=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var u=Nc(e[s][r][1])?e[s][r][0]:e[s][r][1];u>=0?(e[s][r][0]=a,e[s][r][1]=a+u,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},SJ={sign:bJ,expand:o5,none:Rs,silhouette:s5,wiggle:l5,positive:_J},wJ=function(e,n,r){var i=n.map(function(u){return u.props.dataKey}),a=SJ[r],s=a5().keys(i).value(function(u,c){return+jn(u,c,0)}).order(eS).offset(a);return s(e)},xJ=function(e,n,r,i,a,s){if(!e)return null;var u=s?n.reverse():n,c={},f=u.reduce(function(m,v){var _,x=(_=v.type)!==null&&_!==void 0&&_.defaultProps?Rt(Rt({},v.type.defaultProps),v.props):v.props,E=x.stackId,w=x.hide;if(w)return m;var T=x[r],C=m[T]||{hasStack:!1,stackGroups:{}};if(Ht(E)){var A=C.stackGroups[E]||{numericAxisId:r,cateAxisId:i,items:[]};A.items.push(v),C.hasStack=!0,C.stackGroups[E]=A}else C.stackGroups[lp("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[v]};return Rt(Rt({},m),{},Es({},T,C))},c),h={};return Object.keys(f).reduce(function(m,v){var _=f[v];if(_.hasStack){var x={};_.stackGroups=Object.keys(_.stackGroups).reduce(function(E,w){var T=_.stackGroups[w];return Rt(Rt({},E),{},Es({},w,{numericAxisId:r,cateAxisId:i,items:T.items,stackedData:wJ(e,T.items,a)}))},x)}return Rt(Rt({},m),{},Es({},v,_))},h)},EJ=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,u=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=LY(f,a,u);return e.domain([Ap(h),Tp(h)]),{niceTicks:h}}if(a&&i==="number"){var m=e.domain(),v=$Y(m,a,u);return{niceTicks:v}}return null},TJ=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Rt(Rt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Ht(a)){var s=n[a];if(s){var u=s.items.indexOf(e);return u>=0?s.stackedData[u]:null}}return null},AJ=function(e){return e.reduce(function(n,r){return[Ap(r.concat([n[0]]).filter(pe)),Tp(r.concat([n[1]]).filter(pe))]},[1/0,-1/0])},C$=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],u=s.stackedData,c=u.reduce(function(f,h){var m=AJ(h.slice(n,r+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},jP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TS=function(e,n,r){if(De(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(pe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(jP.test(e[0])){var a=+jP.exec(e[0])[1];i[0]=n[0]-a}else De(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(pe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(HP.test(e[1])){var s=+HP.exec(e[1])[1];i[1]=n[1]+s}else De(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},AS=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=px(n,function(m){return m.coordinate}),s=1/0,u=1,c=a.length;u<c;u++){var f=a[u],h=a[u-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},GP=function(e,n,r){return!e||!e.length||qx(e,Tr(r,"type.defaultProps.domain"))?n:e},CJ=function(e,n){var r=e.type.defaultProps?Rt(Rt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,u=r.formatter,c=r.tooltipType,f=r.chartType,h=r.hide;return Rt(Rt({},Ie(e,!1)),{},{dataKey:i,unit:s,formatter:u,name:a||i,color:Gx(e),value:jn(n,i),type:c,payload:n,chartType:f,hide:h})};function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function VP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VP(Object(n),!0).forEach(function(r){R$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R$(t,e,n){return e=RJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RJ(t){var e=OJ(t,"string");return ic(e)=="symbol"?e:e+""}function OJ(t,e){if(ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MJ(t,e){return DJ(t)||IJ(t,e)||PJ(t,e)||NJ()}function NJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PJ(t,e){if(t){if(typeof t=="string")return zP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zP(t,e)}}function zP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function DJ(t){if(Array.isArray(t))return t}var vh=Math.PI/180,kJ=function(e){return e*180/Math.PI},ft=function(e,n,r,i){return{x:e+Math.cos(-vh*i)*r,y:n+Math.sin(-vh*i)*r}},O$=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},UJ=function(e,n,r,i,a){var s=e.width,u=e.height,c=e.startAngle,f=e.endAngle,h=En(e.cx,s,s/2),m=En(e.cy,u,u/2),v=O$(s,u,r),_=En(e.innerRadius,v,0),x=En(e.outerRadius,v,v*.8),E=Object.keys(n);return E.reduce(function(w,T){var C=n[T],A=C.domain,P=C.reversed,R;if(He(C.range))i==="angleAxis"?R=[c,f]:i==="radiusAxis"&&(R=[_,x]),P&&(R=[R[1],R[0]]);else{R=C.range;var M=R,I=MJ(M,2);c=I[0],f=I[1]}var k=vJ(C,a),U=k.realScaleType,V=k.scale;V.domain(A).range(R),yJ(V);var $=EJ(V,gi(gi({},C),{},{realScaleType:U})),F=gi(gi(gi({},C),$),{},{range:R,radius:x,realScaleType:U,scale:V,cx:h,cy:m,innerRadius:_,outerRadius:x,startAngle:c,endAngle:f});return gi(gi({},w),{},R$({},T,F))},{})},LJ=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},$J=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,u=LJ({x:r,y:i},{x:a,y:s});if(u<=0)return{radius:u};var c=(r-a)/u,f=Math.acos(c);return i>s&&(f=2*Math.PI-f),{radius:u,angle:kJ(f),angleInRadian:f}},qJ=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},BJ=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),u=Math.min(a,s);return e+u*360},FP=function(e,n){var r=e.x,i=e.y,a=$J({x:r,y:i},n),s=a.radius,u=a.angle,c=n.innerRadius,f=n.outerRadius;if(s<c||s>f)return!1;if(s===0)return!0;var h=qJ(n),m=h.startAngle,v=h.endAngle,_=u,x;if(m<=v){for(;_>v;)_-=360;for(;_<m;)_+=360;x=_>=m&&_<=v}else{for(;_>m;)_-=360;for(;_<v;)_+=360;x=_>=v&&_<=m}return x?gi(gi({},n),{},{radius:s,angle:BJ(_,n)}):null},M$=function(e){return!B.isValidElement(e)&&!De(e)&&typeof e!="boolean"?e.className:""};function ac(t){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(t)}var jJ=["offset"];function HJ(t){return FJ(t)||zJ(t)||VJ(t)||GJ()}function GJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VJ(t,e){if(t){if(typeof t=="string")return CS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CS(t,e)}}function zJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FJ(t){if(Array.isArray(t))return CS(t)}function CS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KJ(t,e){if(t==null)return{};var n=WJ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){YJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YJ(t,e,n){return e=JJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JJ(t){var e=XJ(t,"string");return ac(e)=="symbol"?e:e+""}function XJ(t,e){if(ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oc(){return oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oc.apply(this,arguments)}var QJ=function(e){var n=e.value,r=e.formatter,i=He(e.children)?n:e.children;return De(r)?r(i):i},ZJ=function(e,n){var r=ir(n-e),i=Math.min(Math.abs(n-e),360);return r*i},e7=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,u=e.className,c=a,f=c.cx,h=c.cy,m=c.innerRadius,v=c.outerRadius,_=c.startAngle,x=c.endAngle,E=c.clockWise,w=(m+v)/2,T=ZJ(_,x),C=T>=0?1:-1,A,P;i==="insideStart"?(A=_+C*s,P=E):i==="insideEnd"?(A=x-C*s,P=!E):i==="end"&&(A=x+C*s,P=E),P=T<=0?P:!P;var R=ft(f,h,w,A),M=ft(f,h,w,A+(P?1:-1)*359),I="M".concat(R.x,",").concat(R.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(P?0:1,`,
    `).concat(M.x,",").concat(M.y),k=He(e.id)?lp("recharts-radial-line-"):e.id;return J.createElement("text",oc({},r,{dominantBaseline:"central",className:ze("recharts-radial-bar-label",u)}),J.createElement("defs",null,J.createElement("path",{id:k,d:I})),J.createElement("textPath",{xlinkHref:"#".concat(k)},n))},t7=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,u=a.cy,c=a.innerRadius,f=a.outerRadius,h=a.startAngle,m=a.endAngle,v=(h+m)/2;if(i==="outside"){var _=ft(s,u,f+r,v),x=_.x,E=_.y;return{x,y:E,textAnchor:x>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"end"};var w=(c+f)/2,T=ft(s,u,w,v),C=T.x,A=T.y;return{x:C,y:A,textAnchor:"middle",verticalAnchor:"middle"}},n7=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,u=s.x,c=s.y,f=s.width,h=s.height,m=h>=0?1:-1,v=m*i,_=m>0?"end":"start",x=m>0?"start":"end",E=f>=0?1:-1,w=E*i,T=E>0?"end":"start",C=E>0?"start":"end";if(a==="top"){var A={x:u+f/2,y:c-m*i,textAnchor:"middle",verticalAnchor:_};return Bt(Bt({},A),r?{height:Math.max(c-r.y,0),width:f}:{})}if(a==="bottom"){var P={x:u+f/2,y:c+h+v,textAnchor:"middle",verticalAnchor:x};return Bt(Bt({},P),r?{height:Math.max(r.y+r.height-(c+h),0),width:f}:{})}if(a==="left"){var R={x:u-w,y:c+h/2,textAnchor:T,verticalAnchor:"middle"};return Bt(Bt({},R),r?{width:Math.max(R.x-r.x,0),height:h}:{})}if(a==="right"){var M={x:u+f+w,y:c+h/2,textAnchor:C,verticalAnchor:"middle"};return Bt(Bt({},M),r?{width:Math.max(r.x+r.width-M.x,0),height:h}:{})}var I=r?{width:f,height:h}:{};return a==="insideLeft"?Bt({x:u+w,y:c+h/2,textAnchor:C,verticalAnchor:"middle"},I):a==="insideRight"?Bt({x:u+f-w,y:c+h/2,textAnchor:T,verticalAnchor:"middle"},I):a==="insideTop"?Bt({x:u+f/2,y:c+v,textAnchor:"middle",verticalAnchor:x},I):a==="insideBottom"?Bt({x:u+f/2,y:c+h-v,textAnchor:"middle",verticalAnchor:_},I):a==="insideTopLeft"?Bt({x:u+w,y:c+v,textAnchor:C,verticalAnchor:x},I):a==="insideTopRight"?Bt({x:u+f-w,y:c+v,textAnchor:T,verticalAnchor:x},I):a==="insideBottomLeft"?Bt({x:u+w,y:c+h-v,textAnchor:C,verticalAnchor:_},I):a==="insideBottomRight"?Bt({x:u+f-w,y:c+h-v,textAnchor:T,verticalAnchor:_},I):nl(a)&&(pe(a.x)||eo(a.x))&&(pe(a.y)||eo(a.y))?Bt({x:u+En(a.x,f),y:c+En(a.y,h),textAnchor:"end",verticalAnchor:"end"},I):Bt({x:u+f/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},I)},r7=function(e){return"cx"in e&&pe(e.cx)};function an(t){var e=t.offset,n=e===void 0?5:e,r=KJ(t,jJ),i=Bt({offset:n},r),a=i.viewBox,s=i.position,u=i.value,c=i.children,f=i.content,h=i.className,m=h===void 0?"":h,v=i.textBreakAll;if(!a||He(u)&&He(c)&&!B.isValidElement(f)&&!De(f))return null;if(B.isValidElement(f))return B.cloneElement(f,i);var _;if(De(f)){if(_=B.createElement(f,i),B.isValidElement(_))return _}else _=QJ(i);var x=r7(a),E=Ie(i,!0);if(x&&(s==="insideStart"||s==="insideEnd"||s==="end"))return e7(i,_,E);var w=x?t7(i):n7(i);return J.createElement(Is,oc({className:ze("recharts-label",m)},E,w,{breakAll:v}),_)}an.displayName="Label";var N$=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,u=e.r,c=e.radius,f=e.innerRadius,h=e.outerRadius,m=e.x,v=e.y,_=e.top,x=e.left,E=e.width,w=e.height,T=e.clockWise,C=e.labelViewBox;if(C)return C;if(pe(E)&&pe(w)){if(pe(m)&&pe(v))return{x:m,y:v,width:E,height:w};if(pe(_)&&pe(x))return{x:_,y:x,width:E,height:w}}return pe(m)&&pe(v)?{x:m,y:v,width:0,height:0}:pe(n)&&pe(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:h||c||u||0,clockWise:T}:e.viewBox?e.viewBox:{}},i7=function(e,n){return e?e===!0?J.createElement(an,{key:"label-implicit",viewBox:n}):Ht(e)?J.createElement(an,{key:"label-implicit",viewBox:n,value:e}):B.isValidElement(e)?e.type===an?B.cloneElement(e,{key:"label-implicit",viewBox:n}):J.createElement(an,{key:"label-implicit",content:e,viewBox:n}):De(e)?J.createElement(an,{key:"label-implicit",content:e,viewBox:n}):nl(e)?J.createElement(an,oc({viewBox:n},e,{key:"label-implicit"})):null:null},a7=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=N$(e),s=Hr(i,an).map(function(c,f){return B.cloneElement(c,{viewBox:n||a,key:"label-".concat(f)})});if(!r)return s;var u=i7(e.label,n||a);return[u].concat(HJ(s))};an.parseViewBox=N$;an.renderCallByParent=a7;var Kb,WP;function o7(){if(WP)return Kb;WP=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return Kb=t,Kb}var s7=o7();const l7=tt(s7);function sc(t){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}var u7=["valueAccessor"],c7=["data","dataKey","clockWise","id","textBreakAll"];function f7(t){return m7(t)||p7(t)||h7(t)||d7()}function d7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h7(t,e){if(t){if(typeof t=="string")return RS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RS(t,e)}}function p7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function m7(t){if(Array.isArray(t))return RS(t)}function RS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yh(){return yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yh.apply(this,arguments)}function YP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(n),!0).forEach(function(r){g7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g7(t,e,n){return e=v7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v7(t){var e=y7(t,"string");return sc(e)=="symbol"?e:e+""}function y7(t,e){if(sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XP(t,e){if(t==null)return{};var n=b7(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function b7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var _7=function(e){return Array.isArray(e.value)?l7(e.value):e.value};function oo(t){var e=t.valueAccessor,n=e===void 0?_7:e,r=XP(t,u7),i=r.data,a=r.dataKey,s=r.clockWise,u=r.id,c=r.textBreakAll,f=XP(r,c7);return!i||!i.length?null:J.createElement(Ot,{className:"recharts-label-list"},i.map(function(h,m){var v=He(a)?n(h,m):jn(h&&h.payload,a),_=He(u)?{}:{id:"".concat(u,"-").concat(m)};return J.createElement(an,yh({},Ie(h,!0),f,_,{parentViewBox:h.parentViewBox,value:v,textBreakAll:c,viewBox:an.parseViewBox(He(s)?h:JP(JP({},h),{},{clockWise:s})),key:"label-".concat(m),index:m}))}))}oo.displayName="LabelList";function S7(t,e){return t?t===!0?J.createElement(oo,{key:"labelList-implicit",data:e}):J.isValidElement(t)||De(t)?J.createElement(oo,{key:"labelList-implicit",data:e,content:t}):nl(t)?J.createElement(oo,yh({data:e},t,{key:"labelList-implicit"})):null:null}function w7(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Hr(r,oo).map(function(s,u){return B.cloneElement(s,{data:e,key:"labelList-".concat(u)})});if(!n)return i;var a=S7(t.label,e);return[a].concat(f7(i))}oo.renderCallByParent=w7;function lc(t){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(t)}function OS(){return OS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OS.apply(this,arguments)}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){x7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x7(t,e,n){return e=E7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E7(t){var e=T7(t,"string");return lc(e)=="symbol"?e:e+""}function T7(t,e){if(lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A7=function(e,n){var r=ir(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},gd=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,u=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,h=c*(u?1:-1)+i,m=Math.asin(c/h)/vh,v=f?a:a+s*m,_=ft(n,r,h,v),x=ft(n,r,i,v),E=f?a-s*m:a,w=ft(n,r,h*Math.cos(m*vh),E);return{center:_,circleTangency:x,lineTangency:w,theta:m}},P$=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,u=e.endAngle,c=A7(s,u),f=s+c,h=ft(n,r,a,s),m=ft(n,r,a,f),v="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var _=ft(n,r,i,s),x=ft(n,r,i,f);v+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(_.x,",").concat(_.y," Z")}else v+="L ".concat(n,",").concat(r," Z");return v},C7=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,u=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,m=ir(h-f),v=gd({cx:n,cy:r,radius:a,angle:f,sign:m,cornerRadius:s,cornerIsExternal:c}),_=v.circleTangency,x=v.lineTangency,E=v.theta,w=gd({cx:n,cy:r,radius:a,angle:h,sign:-m,cornerRadius:s,cornerIsExternal:c}),T=w.circleTangency,C=w.lineTangency,A=w.theta,P=c?Math.abs(f-h):Math.abs(f-h)-E-A;if(P<0)return u?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):P$({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h});var R="M ".concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(P>180),",").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(C.x,",").concat(C.y,`
  `);if(i>0){var M=gd({cx:n,cy:r,radius:i,angle:f,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),I=M.circleTangency,k=M.lineTangency,U=M.theta,V=gd({cx:n,cy:r,radius:i,angle:h,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),$=V.circleTangency,F=V.lineTangency,z=V.theta,Q=c?Math.abs(f-h):Math.abs(f-h)-U-z;if(Q<0&&s===0)return"".concat(R,"L").concat(n,",").concat(r,"Z");R+="L".concat(F.x,",").concat(F.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat($.x,",").concat($.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Q>180),",").concat(+(m>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(k.x,",").concat(k.y,"Z")}else R+="L".concat(n,",").concat(r,"Z");return R},R7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},I$=function(e){var n=ZP(ZP({},R7),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,u=n.cornerRadius,c=n.forceCornerRadius,f=n.cornerIsExternal,h=n.startAngle,m=n.endAngle,v=n.className;if(s<a||h===m)return null;var _=ze("recharts-sector",v),x=s-a,E=En(u,x,0,!0),w;return E>0&&Math.abs(h-m)<360?w=C7({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(E,x/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:m}):w=P$({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:h,endAngle:m}),J.createElement("path",OS({},Ie(n,!0),{className:_,d:w,role:"img"}))};function uc(t){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(t)}function MS(){return MS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MS.apply(this,arguments)}function eI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eI(Object(n),!0).forEach(function(r){O7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O7(t,e,n){return e=M7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M7(t){var e=N7(t,"string");return uc(e)=="symbol"?e:e+""}function N7(t,e){if(uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nI={curveBasisClosed:WF,curveBasisOpen:YF,curveBasis:KF,curveBumpX:IF,curveBumpY:DF,curveLinearClosed:JF,curveLinear:dp,curveMonotoneX:XF,curveMonotoneY:QF,curveNatural:ZF,curveStep:e5,curveStepAfter:n5,curveStepBefore:t5},vd=function(e){return e.x===+e.x&&e.y===+e.y},fu=function(e){return e.x},du=function(e){return e.y},P7=function(e,n){if(De(e))return e;var r="curve".concat(cp(e));return(r==="curveMonotone"||r==="curveBump")&&n?nI["".concat(r).concat(n==="vertical"?"Y":"X")]:nI[r]||dp},I7=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,u=e.layout,c=e.connectNulls,f=c===void 0?!1:c,h=P7(r,u),m=f?a.filter(function(E){return vd(E)}):a,v;if(Array.isArray(s)){var _=f?s.filter(function(E){return vd(E)}):s,x=m.map(function(E,w){return tI(tI({},E),{},{base:_[w]})});return u==="vertical"?v=ld().y(du).x1(fu).x0(function(E){return E.base.x}):v=ld().x(fu).y1(du).y0(function(E){return E.base.y}),v.defined(vd).curve(h),v(x)}return u==="vertical"&&pe(s)?v=ld().y(du).x1(fu).x0(s):pe(s)?v=ld().x(fu).y1(du).y0(s):v=kU().x(fu).y(du),v.defined(vd).curve(h),v(m)},NS=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?I7(e):i;return B.createElement("path",MS({},Ie(e,!1),Kd(e),{className:ze("recharts-curve",n),d:s,ref:a}))},Wb={exports:{}},Yb,rI;function D7(){if(rI)return Yb;rI=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Yb=t,Yb}var Jb,iI;function k7(){if(iI)return Jb;iI=1;var t=D7();function e(){}function n(){}return n.resetWarningCache=e,Jb=function(){function r(s,u,c,f,h,m){if(m!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},Jb}var aI;function U7(){return aI||(aI=1,Wb.exports=k7()()),Wb.exports}var L7=U7();const Xe=tt(L7),{getOwnPropertyNames:$7,getOwnPropertySymbols:q7}=Object,{hasOwnProperty:B7}=Object.prototype;function Xb(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function yd(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,s=a.get(n),u=a.get(r);if(s&&u)return s===r&&u===n;a.set(n,r),a.set(r,n);const c=t(n,r,i);return a.delete(n),a.delete(r),c}}function j7(t){return t!=null?t[Symbol.toStringTag]:void 0}function oI(t){return $7(t).concat(q7(t))}const H7=Object.hasOwn||((t,e)=>B7.call(t,e));function mo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const G7="__v",V7="__o",z7="_owner",{getOwnPropertyDescriptor:sI,keys:lI}=Object;function F7(t,e){return t.byteLength===e.byteLength&&bh(new Uint8Array(t),new Uint8Array(e))}function K7(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function W7(t,e){return t.byteLength===e.byteLength&&bh(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Y7(t,e){return mo(t.getTime(),e.getTime())}function J7(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function X7(t,e){return t===e}function uI(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let s,u,c=0;for(;(s=a.next())&&!s.done;){const f=e.entries();let h=!1,m=0;for(;(u=f.next())&&!u.done;){if(i[m]){m++;continue}const v=s.value,_=u.value;if(n.equals(v[0],_[0],c,m,t,e,n)&&n.equals(v[1],_[1],v[0],_[0],t,e,n)){h=i[m]=!0;break}m++}if(!h)return!1;c++}return!0}const Q7=mo;function Z7(t,e,n){const r=lI(t);let i=r.length;if(lI(e).length!==i)return!1;for(;i-- >0;)if(!D$(t,e,n,r[i]))return!1;return!0}function hu(t,e,n){const r=oI(t);let i=r.length;if(oI(e).length!==i)return!1;let a,s,u;for(;i-- >0;)if(a=r[i],!D$(t,e,n,a)||(s=sI(t,a),u=sI(e,a),(s||u)&&(!s||!u||s.configurable!==u.configurable||s.enumerable!==u.enumerable||s.writable!==u.writable)))return!1;return!0}function eX(t,e){return mo(t.valueOf(),e.valueOf())}function tX(t,e){return t.source===e.source&&t.flags===e.flags}function cI(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let s,u;for(;(s=a.next())&&!s.done;){const c=e.values();let f=!1,h=0;for(;(u=c.next())&&!u.done;){if(!i[h]&&n.equals(s.value,u.value,s.value,u.value,t,e,n)){f=i[h]=!0;break}h++}if(!f)return!1}return!0}function bh(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function nX(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function D$(t,e,n,r){return(r===z7||r===V7||r===G7)&&(t.$$typeof||e.$$typeof)?!0:H7(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const rX="[object ArrayBuffer]",iX="[object Arguments]",aX="[object Boolean]",oX="[object DataView]",sX="[object Date]",lX="[object Error]",uX="[object Map]",cX="[object Number]",fX="[object Object]",dX="[object RegExp]",hX="[object Set]",pX="[object String]",mX={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},gX="[object URL]",vX=Object.prototype.toString;function yX({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:u,areObjectsEqual:c,arePrimitiveWrappersEqual:f,areRegExpsEqual:h,areSetsEqual:m,areTypedArraysEqual:v,areUrlsEqual:_,unknownTagComparators:x}){return function(w,T,C){if(w===T)return!0;if(w==null||T==null)return!1;const A=typeof w;if(A!==typeof T)return!1;if(A!=="object")return A==="number"?u(w,T,C):A==="function"?a(w,T,C):!1;const P=w.constructor;if(P!==T.constructor)return!1;if(P===Object)return c(w,T,C);if(Array.isArray(w))return e(w,T,C);if(P===Date)return r(w,T,C);if(P===RegExp)return h(w,T,C);if(P===Map)return s(w,T,C);if(P===Set)return m(w,T,C);const R=vX.call(w);if(R===sX)return r(w,T,C);if(R===dX)return h(w,T,C);if(R===uX)return s(w,T,C);if(R===hX)return m(w,T,C);if(R===fX)return typeof w.then!="function"&&typeof T.then!="function"&&c(w,T,C);if(R===gX)return _(w,T,C);if(R===lX)return i(w,T,C);if(R===iX)return c(w,T,C);if(mX[R])return v(w,T,C);if(R===rX)return t(w,T,C);if(R===oX)return n(w,T,C);if(R===aX||R===cX||R===pX)return f(w,T,C);if(x){let M=x[R];if(!M){const I=j7(w);I&&(M=x[I])}if(M)return M(w,T,C)}return!1}}function bX({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:F7,areArraysEqual:n?hu:K7,areDataViewsEqual:W7,areDatesEqual:Y7,areErrorsEqual:J7,areFunctionsEqual:X7,areMapsEqual:n?Xb(uI,hu):uI,areNumbersEqual:Q7,areObjectsEqual:n?hu:Z7,arePrimitiveWrappersEqual:eX,areRegExpsEqual:tX,areSetsEqual:n?Xb(cI,hu):cI,areTypedArraysEqual:n?Xb(bh,hu):bh,areUrlsEqual:nX,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=yd(r.areArraysEqual),a=yd(r.areMapsEqual),s=yd(r.areObjectsEqual),u=yd(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:u})}return r}function _X(t){return function(e,n,r,i,a,s,u){return t(e,n,u)}}function SX({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(u,c){const{cache:f=t?new WeakMap:void 0,meta:h}=n();return e(u,c,{cache:f,equals:r,meta:h,strict:i})};if(t)return function(u,c){return e(u,c,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(u,c){return e(u,c,a)}}const wX=ba();ba({strict:!0});ba({circular:!0});ba({circular:!0,strict:!0});ba({createInternalComparator:()=>mo});ba({strict:!0,createInternalComparator:()=>mo});ba({circular:!0,createInternalComparator:()=>mo});ba({circular:!0,createInternalComparator:()=>mo,strict:!0});function ba(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=bX(t),s=yX(a),u=n?n(s):_X(s);return SX({circular:e,comparator:s,createState:r,equals:u,strict:i})}function xX(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function fI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):xX(i)};requestAnimationFrame(r)}function PS(t){"@babel/helpers - typeof";return PS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PS(t)}function EX(t){return RX(t)||CX(t)||AX(t)||TX()}function TX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AX(t,e){if(t){if(typeof t=="string")return dI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dI(t,e)}}function dI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RX(t){if(Array.isArray(t))return t}function OX(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,u=EX(s),c=u[0],f=u.slice(1);if(typeof c=="number"){fI(i.bind(null,f),c);return}i(c),fI(i.bind(null,f));return}PS(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function cc(t){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cc(t)}function hI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hI(Object(n),!0).forEach(function(r){k$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k$(t,e,n){return e=MX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MX(t){var e=NX(t,"string");return cc(e)==="symbol"?e:String(e)}function NX(t,e){if(cc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PX=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},IX=function(e){return e},DX=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Pu=function(e,n){return Object.keys(n).reduce(function(r,i){return pI(pI({},r),{},k$({},i,e(i,n[i])))},{})},mI=function(e,n,r){return e.map(function(i){return"".concat(DX(i)," ").concat(n,"ms ").concat(r)}).join(",")};function kX(t,e){return $X(t)||LX(t,e)||U$(t,e)||UX()}function UX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function $X(t){if(Array.isArray(t))return t}function qX(t){return HX(t)||jX(t)||U$(t)||BX()}function BX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U$(t,e){if(t){if(typeof t=="string")return IS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IS(t,e)}}function jX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HX(t){if(Array.isArray(t))return IS(t)}function IS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _h=1e-4,L$=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},$$=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},gI=function(e,n){return function(r){var i=L$(e,n);return $$(i,r)}},GX=function(e,n){return function(r){var i=L$(e,n),a=[].concat(qX(i.map(function(s,u){return s*u}).slice(1)),[0]);return $$(a,r)}},vI=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],u=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,u=1;break;case"ease":i=.25,a=.1,s=.25,u=1;break;case"ease-in":i=.42,a=0,s=1,u=1;break;case"ease-out":i=.42,a=0,s=.58,u=1;break;case"ease-in-out":i=0,a=0,s=.58,u=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),h=kX(f,4);i=h[0],a=h[1],s=h[2],u=h[3]}}}var m=gI(i,s),v=gI(a,u),_=GX(i,s),x=function(T){return T>1?1:T<0?0:T},E=function(T){for(var C=T>1?1:T,A=C,P=0;P<8;++P){var R=m(A)-C,M=_(A);if(Math.abs(R-C)<_h||M<_h)return v(A);A=x(A-R/M)}return v(A)};return E.isStepper=!1,E},VX=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,u=s===void 0?17:s,c=function(h,m,v){var _=-(h-m)*r,x=v*a,E=v+(_-x)*u/1e3,w=v*u/1e3+h;return Math.abs(w-m)<_h&&Math.abs(E)<_h?[m,0]:[w,E]};return c.isStepper=!0,c.dt=u,c},zX=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return vI(i);case"spring":return VX();default:if(i.split("(")[0]==="cubic-bezier")return vI(i)}return typeof i=="function"?i:null};function fc(t){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(t)}function yI(t){return WX(t)||KX(t)||q$(t)||FX()}function FX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WX(t){if(Array.isArray(t))return kS(t)}function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){DS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DS(t,e,n){return e=YX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YX(t){var e=JX(t,"string");return fc(e)==="symbol"?e:String(e)}function JX(t,e){if(fc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XX(t,e){return eQ(t)||ZX(t,e)||q$(t,e)||QX()}function QX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q$(t,e){if(t){if(typeof t=="string")return kS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kS(t,e)}}function kS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function eQ(t){if(Array.isArray(t))return t}var Sh=function(e,n,r){return e+(n-e)*r},US=function(e){var n=e.from,r=e.to;return n!==r},tQ=function t(e,n,r){var i=Pu(function(a,s){if(US(s)){var u=e(s.from,s.to,s.velocity),c=XX(u,2),f=c[0],h=c[1];return nn(nn({},s),{},{from:f,velocity:h})}return s},n);return r<1?Pu(function(a,s){return US(s)?nn(nn({},s),{},{velocity:Sh(s.velocity,i[a].velocity,r),from:Sh(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const nQ=(function(t,e,n,r,i){var a=PX(t,e),s=a.reduce(function(w,T){return nn(nn({},w),{},DS({},T,[t[T],e[T]]))},{}),u=a.reduce(function(w,T){return nn(nn({},w),{},DS({},T,{from:t[T],velocity:0,to:e[T]}))},{}),c=-1,f,h,m=function(){return null},v=function(){return Pu(function(T,C){return C.from},u)},_=function(){return!Object.values(u).filter(US).length},x=function(T){f||(f=T);var C=T-f,A=C/n.dt;u=tQ(n,u,A),i(nn(nn(nn({},t),e),v())),f=T,_()||(c=requestAnimationFrame(m))},E=function(T){h||(h=T);var C=(T-h)/r,A=Pu(function(R,M){return Sh.apply(void 0,yI(M).concat([n(C)]))},s);if(i(nn(nn(nn({},t),e),A)),C<1)c=requestAnimationFrame(m);else{var P=Pu(function(R,M){return Sh.apply(void 0,yI(M).concat([n(1)]))},s);i(nn(nn(nn({},t),e),P))}};return m=n.isStepper?x:E,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function qs(t){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(t)}var rQ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function iQ(t,e){if(t==null)return{};var n=aQ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Qb(t){return uQ(t)||lQ(t)||sQ(t)||oQ()}function oQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sQ(t,e){if(t){if(typeof t=="string")return LS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LS(t,e)}}function lQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uQ(t){if(Array.isArray(t))return LS(t)}function LS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(n),!0).forEach(function(r){_u(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _u(t,e,n){return e=B$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B$(r.key),r)}}function dQ(t,e,n){return e&&fQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function B$(t){var e=hQ(t,"string");return qs(e)==="symbol"?e:String(e)}function hQ(t,e){if(qs(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$S(t,e)}function $S(t,e){return $S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$S(t,e)}function mQ(t){var e=gQ();return function(){var r=wh(t),i;if(e){var a=wh(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return qS(this,i)}}function qS(t,e){if(e&&(qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BS(t)}function BS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wh(t){return wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wh(t)}var ha=(function(t){pQ(n,t);var e=mQ(n);function n(r,i){var a;cQ(this,n),a=e.call(this,r,i);var s=a.props,u=s.isActive,c=s.attributeName,f=s.from,h=s.to,m=s.steps,v=s.children,_=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(BS(a)),a.changeStyle=a.changeStyle.bind(BS(a)),!u||_<=0)return a.state={style:{}},typeof v=="function"&&(a.state={style:h}),qS(a);if(m&&m.length)a.state={style:m[0].style};else if(f){if(typeof v=="function")return a.state={style:f},qS(a);a.state={style:c?_u({},c,f):f}}else a.state={style:{}};return a}return dQ(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,u=a.canBegin,c=a.attributeName,f=a.shouldReAnimate,h=a.to,m=a.from,v=this.state.style;if(u){if(!s){var _={style:c?_u({},c,h):h};this.state&&v&&(c&&v[c]!==h||!c&&v!==h)&&this.setState(_);return}if(!(wX(i.to,h)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var E=x||f?m:i.to;if(this.state&&v){var w={style:c?_u({},c,E):E};(c&&v[c]!==E||!c&&v!==E)&&this.setState(w)}this.runAnimation(br(br({},this.props),{},{from:E,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,u=i.to,c=i.duration,f=i.easing,h=i.begin,m=i.onAnimationEnd,v=i.onAnimationStart,_=nQ(s,u,zX(f),c,this.changeStyle),x=function(){a.stopJSAnimation=_()};this.manager.start([v,h,x,c,m])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,u=i.begin,c=i.onAnimationStart,f=s[0],h=f.style,m=f.duration,v=m===void 0?0:m,_=function(E,w,T){if(T===0)return E;var C=w.duration,A=w.easing,P=A===void 0?"ease":A,R=w.style,M=w.properties,I=w.onAnimationEnd,k=T>0?s[T-1]:w,U=M||Object.keys(R);if(typeof P=="function"||P==="spring")return[].concat(Qb(E),[a.runJSAnimation.bind(a,{from:k.style,to:R,duration:C,easing:P}),C]);var V=mI(U,C,P),$=br(br(br({},k.style),R),{},{transition:V});return[].concat(Qb(E),[$,C,I]).filter(IX)};return this.manager.start([c].concat(Qb(s.reduce(_,[h,Math.max(v,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=OX());var a=i.begin,s=i.duration,u=i.attributeName,c=i.to,f=i.easing,h=i.onAnimationStart,m=i.onAnimationEnd,v=i.steps,_=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof f=="function"||typeof _=="function"||f==="spring"){this.runJSAnimation(i);return}if(v.length>1){this.runStepAnimation(i);return}var E=u?_u({},u,c):c,w=mI(Object.keys(E),s,f);x.start([h,a,br(br({},E),{},{transition:w}),s,m])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=iQ(i,rQ),f=B.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!u||f===0||s<=0)return a;var m=function(_){var x=_.props,E=x.style,w=E===void 0?{}:E,T=x.className,C=B.cloneElement(_,br(br({},c),{},{style:br(br({},w),h),className:T}));return C};return f===1?m(B.Children.only(a)):J.createElement("div",null,B.Children.map(a,function(v){return m(v)}))}}]),n})(B.PureComponent);ha.displayName="Animate";ha.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ha.propTypes={from:Xe.oneOfType([Xe.object,Xe.string]),to:Xe.oneOfType([Xe.object,Xe.string]),attributeName:Xe.string,duration:Xe.number,begin:Xe.number,easing:Xe.oneOfType([Xe.string,Xe.func]),steps:Xe.arrayOf(Xe.shape({duration:Xe.number.isRequired,style:Xe.object.isRequired,easing:Xe.oneOfType([Xe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Xe.func]),properties:Xe.arrayOf("string"),onAnimationEnd:Xe.func})),children:Xe.oneOfType([Xe.node,Xe.func]),isActive:Xe.bool,canBegin:Xe.bool,onAnimationEnd:Xe.func,shouldReAnimate:Xe.bool,onAnimationStart:Xe.func,onAnimationReStart:Xe.func};function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function xh(){return xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xh.apply(this,arguments)}function vQ(t,e){return SQ(t)||_Q(t,e)||bQ(t,e)||yQ()}function yQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bQ(t,e){if(t){if(typeof t=="string")return SI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SI(t,e)}}function SI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _Q(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function SQ(t){if(Array.isArray(t))return t}function wI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wI(Object(n),!0).forEach(function(r){wQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wQ(t,e,n){return e=xQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xQ(t){var e=EQ(t,"string");return dc(e)=="symbol"?e:e+""}function EQ(t,e){if(dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EI=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),u=i>=0?1:-1,c=r>=0?1:-1,f=i>=0&&r>=0||i<0&&r<0?1:0,h;if(s>0&&a instanceof Array){for(var m=[0,0,0,0],v=0,_=4;v<_;v++)m[v]=a[v]>s?s:a[v];h="M".concat(e,",").concat(n+u*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(e+c*m[0],",").concat(n)),h+="L ".concat(e+r-c*m[1],",").concat(n),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(n+u*m[1])),h+="L ".concat(e+r,",").concat(n+i-u*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(e+r-c*m[2],",").concat(n+i)),h+="L ".concat(e+c*m[3],",").concat(n+i),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(n+i-u*m[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var x=Math.min(s,a);h="M ".concat(e,",").concat(n+u*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+c*x,",").concat(n,`
            L `).concat(e+r-c*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+r,",").concat(n+u*x,`
            L `).concat(e+r,",").concat(n+i-u*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+r-c*x,",").concat(n+i,`
            L `).concat(e+c*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e,",").concat(n+i-u*x," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},TQ=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,u=n.width,c=n.height;if(Math.abs(u)>0&&Math.abs(c)>0){var f=Math.min(a,a+u),h=Math.max(a,a+u),m=Math.min(s,s+c),v=Math.max(s,s+c);return r>=f&&r<=h&&i>=m&&i<=v}return!1},AQ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Vx=function(e){var n=xI(xI({},AQ),e),r=B.useRef(),i=B.useState(-1),a=vQ(i,2),s=a[0],u=a[1];B.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&u(P)}catch{}},[]);var c=n.x,f=n.y,h=n.width,m=n.height,v=n.radius,_=n.className,x=n.animationEasing,E=n.animationDuration,w=n.animationBegin,T=n.isAnimationActive,C=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||m!==+m||h===0||m===0)return null;var A=ze("recharts-rectangle",_);return C?J.createElement(ha,{canBegin:s>0,from:{width:h,height:m,x:c,y:f},to:{width:h,height:m,x:c,y:f},duration:E,animationEasing:x,isActive:C},function(P){var R=P.width,M=P.height,I=P.x,k=P.y;return J.createElement(ha,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:E,isActive:T,easing:x},J.createElement("path",xh({},Ie(n,!0),{className:A,d:EI(I,k,R,M,v),ref:r})))}):J.createElement("path",xh({},Ie(n,!0),{className:A,d:EI(c,f,h,m,v)}))},CQ=["points","className","baseLinePoints","connectNulls"];function gs(){return gs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gs.apply(this,arguments)}function RQ(t,e){if(t==null)return{};var n=OQ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function TI(t){return IQ(t)||PQ(t)||NQ(t)||MQ()}function MQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NQ(t,e){if(t){if(typeof t=="string")return jS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jS(t,e)}}function PQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function IQ(t){if(Array.isArray(t))return jS(t)}function jS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var AI=function(e){return e&&e.x===+e.x&&e.y===+e.y},DQ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){AI(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),AI(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Iu=function(e,n){var r=DQ(e);n&&(r=[r.reduce(function(a,s){return[].concat(TI(a),TI(s))},[])]);var i=r.map(function(a){return a.reduce(function(s,u,c){return"".concat(s).concat(c===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},kQ=function(e,n,r){var i=Iu(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Iu(n.reverse(),r).slice(1))},UQ=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,s=RQ(e,CQ);if(!n||!n.length)return null;var u=ze("recharts-polygon",r);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",f=kQ(n,i,a);return J.createElement("g",{className:u},J.createElement("path",gs({},Ie(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),c?J.createElement("path",gs({},Ie(s,!0),{fill:"none",d:Iu(n,a)})):null,c?J.createElement("path",gs({},Ie(s,!0),{fill:"none",d:Iu(i,a)})):null)}var h=Iu(n,a);return J.createElement("path",gs({},Ie(s,!0),{fill:h.slice(-1)==="Z"?s.fill:"none",className:u,d:h}))};function HS(){return HS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HS.apply(this,arguments)}var zx=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=ze("recharts-dot",a);return n===+n&&r===+r&&i===+i?B.createElement("circle",HS({},Ie(e,!1),Kd(e),{className:s,cx:n,cy:r,r:i})):null};function hc(t){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(t)}var LQ=["x","y","top","left","width","height","className"];function GS(){return GS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GS.apply(this,arguments)}function CI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $Q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(r){qQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qQ(t,e,n){return e=BQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BQ(t){var e=jQ(t,"string");return hc(e)=="symbol"?e:e+""}function jQ(t,e){if(hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HQ(t,e){if(t==null)return{};var n=GQ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var VQ=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},zQ=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,u=s===void 0?0:s,c=e.left,f=c===void 0?0:c,h=e.width,m=h===void 0?0:h,v=e.height,_=v===void 0?0:v,x=e.className,E=HQ(e,LQ),w=$Q({x:r,y:a,top:u,left:f,width:m,height:_},E);return!pe(r)||!pe(a)||!pe(m)||!pe(_)||!pe(u)||!pe(f)?null:J.createElement("path",GS({},Ie(w,!0),{className:ze("recharts-cross",x),d:VQ(r,a,m,_,u,f)}))},Zb,RI;function FQ(){if(RI)return Zb;RI=1;var t=Ep(),e=o$(),n=Wr();function r(i,a){return i&&i.length?t(i,n(a,2),e):void 0}return Zb=r,Zb}var KQ=FQ();const WQ=tt(KQ);var e_,OI;function YQ(){if(OI)return e_;OI=1;var t=Ep(),e=Wr(),n=s$();function r(i,a){return i&&i.length?t(i,e(a,2),n):void 0}return e_=r,e_}var JQ=YQ();const XQ=tt(JQ);var QQ=["cx","cy","angle","ticks","axisLine"],ZQ=["ticks","tick","angle","tickFormatter","stroke"];function Bs(t){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bs(t)}function Du(){return Du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Du.apply(this,arguments)}function MI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ga(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(n),!0).forEach(function(r){Op(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NI(t,e){if(t==null)return{};var n=eZ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H$(r.key),r)}}function nZ(t,e,n){return e&&PI(t.prototype,e),n&&PI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rZ(t,e,n){return e=Eh(e),iZ(t,j$()?Reflect.construct(e,n||[],Eh(t).constructor):e.apply(t,n))}function iZ(t,e){if(e&&(Bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aZ(t)}function aZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j$=function(){return!!t})()}function Eh(t){return Eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eh(t)}function oZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VS(t,e)}function VS(t,e){return VS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VS(t,e)}function Op(t,e,n){return e=H$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H$(t){var e=sZ(t,"string");return Bs(e)=="symbol"?e:e+""}function sZ(t,e){if(Bs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mp=(function(t){function e(){return tZ(this,e),rZ(this,e,arguments)}return oZ(e,t),nZ(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,s=a.angle,u=a.cx,c=a.cy;return ft(u,c,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,u=r.ticks,c=WQ(u,function(h){return h.coordinate||0}),f=XQ(u,function(h){return h.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:f.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,u=r.ticks,c=r.axisLine,f=NI(r,QQ),h=u.reduce(function(x,E){return[Math.min(x[0],E.coordinate),Math.max(x[1],E.coordinate)]},[1/0,-1/0]),m=ft(i,a,h[0],s),v=ft(i,a,h[1],s),_=Ga(Ga(Ga({},Ie(f,!1)),{},{fill:"none"},Ie(c,!1)),{},{x1:m.x,y1:m.y,x2:v.x,y2:v.y});return J.createElement("line",Du({className:"recharts-polar-radius-axis-line"},_))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,u=i.angle,c=i.tickFormatter,f=i.stroke,h=NI(i,ZQ),m=this.getTickTextAnchor(),v=Ie(h,!1),_=Ie(s,!1),x=a.map(function(E,w){var T=r.getTickValueCoord(E),C=Ga(Ga(Ga(Ga({textAnchor:m,transform:"rotate(".concat(90-u,", ").concat(T.x,", ").concat(T.y,")")},v),{},{stroke:"none",fill:f},_),{},{index:w},T),{},{payload:E});return J.createElement(Ot,Du({className:ze("recharts-polar-radius-axis-tick",M$(s)),key:"tick-".concat(E.coordinate)},up(r.props,E,w)),e.renderTickItem(s,C,c?c(E.value,w):E.value))});return J.createElement(Ot,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,s=r.tick;return!i||!i.length?null:J.createElement(Ot,{className:ze("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),an.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return J.isValidElement(r)?s=J.cloneElement(r,i):De(r)?s=r(i):s=J.createElement(Is,Du({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])})(B.PureComponent);Op(Mp,"displayName","PolarRadiusAxis");Op(Mp,"axisType","radiusAxis");Op(Mp,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function js(t){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},js(t)}function Xa(){return Xa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xa.apply(this,arguments)}function II(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Va(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?II(Object(n),!0).forEach(function(r){Np(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V$(r.key),r)}}function uZ(t,e,n){return e&&DI(t.prototype,e),n&&DI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cZ(t,e,n){return e=Th(e),fZ(t,G$()?Reflect.construct(e,n||[],Th(t).constructor):e.apply(t,n))}function fZ(t,e){if(e&&(js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dZ(t)}function dZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G$=function(){return!!t})()}function Th(t){return Th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Th(t)}function hZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zS(t,e)}function zS(t,e){return zS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zS(t,e)}function Np(t,e,n){return e=V$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V$(t){var e=pZ(t,"string");return js(e)=="symbol"?e:e+""}function pZ(t,e){if(js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mZ=Math.PI/180,kI=1e-5,Pp=(function(t){function e(){return lZ(this,e),cZ(this,e,arguments)}return hZ(e,t),uZ(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,s=i.cy,u=i.radius,c=i.orientation,f=i.tickSize,h=f||8,m=ft(a,s,u,r.coordinate),v=ft(a,s,u+(c==="inner"?-1:1)*h,r.coordinate);return{x1:m.x,y1:m.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*mZ),s;return a>kI?s=i==="outer"?"start":"end":a<-kI?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.radius,u=r.axisLine,c=r.axisLineType,f=Va(Va({},Ie(this.props,!1)),{},{fill:"none"},Ie(u,!1));if(c==="circle")return J.createElement(zx,Xa({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:a,r:s}));var h=this.props.ticks,m=h.map(function(v){return ft(i,a,s,v.coordinate)});return J.createElement(UQ,Xa({className:"recharts-polar-angle-axis-line"},f,{points:m}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,u=i.tickLine,c=i.tickFormatter,f=i.stroke,h=Ie(this.props,!1),m=Ie(s,!1),v=Va(Va({},h),{},{fill:"none"},Ie(u,!1)),_=a.map(function(x,E){var w=r.getTickLineCoord(x),T=r.getTickTextAnchor(x),C=Va(Va(Va({textAnchor:T},h),{},{stroke:"none",fill:f},m),{},{index:E,payload:x,x:w.x2,y:w.y2});return J.createElement(Ot,Xa({className:ze("recharts-polar-angle-axis-tick",M$(s)),key:"tick-".concat(x.coordinate)},up(r.props,x,E)),u&&J.createElement("line",Xa({className:"recharts-polar-angle-axis-tick-line"},v,w)),s&&e.renderTickItem(s,C,c?c(x.value,E):x.value))});return J.createElement(Ot,{className:"recharts-polar-angle-axis-ticks"},_)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,s=r.axisLine;return a<=0||!i||!i.length?null:J.createElement(Ot,{className:ze("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var s;return J.isValidElement(r)?s=J.cloneElement(r,i):De(r)?s=r(i):s=J.createElement(Is,Xa({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])})(B.PureComponent);Np(Pp,"displayName","PolarAngleAxis");Np(Pp,"axisType","angleAxis");Np(Pp,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var t_,UI;function gZ(){if(UI)return t_;UI=1;var t=iL(),e=t(Object.getPrototypeOf,Object);return t_=e,t_}var n_,LI;function vZ(){if(LI)return n_;LI=1;var t=Mi(),e=gZ(),n=Ni(),r="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,u=a.hasOwnProperty,c=s.call(Object);function f(h){if(!n(h)||t(h)!=r)return!1;var m=e(h);if(m===null)return!0;var v=u.call(m,"constructor")&&m.constructor;return typeof v=="function"&&v instanceof v&&s.call(v)==c}return n_=f,n_}var yZ=vZ();const bZ=tt(yZ);var r_,$I;function _Z(){if($I)return r_;$I=1;var t=Mi(),e=Ni(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return r_=r,r_}var SZ=_Z();const wZ=tt(SZ);function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function Ah(){return Ah=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ah.apply(this,arguments)}function xZ(t,e){return CZ(t)||AZ(t,e)||TZ(t,e)||EZ()}function EZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TZ(t,e){if(t){if(typeof t=="string")return qI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qI(t,e)}}function qI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function CZ(t){if(Array.isArray(t))return t}function BI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(n),!0).forEach(function(r){RZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RZ(t,e,n){return e=OZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OZ(t){var e=MZ(t,"string");return pc(e)=="symbol"?e:e+""}function MZ(t,e){if(pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HI=function(e,n,r,i,a){var s=r-i,u;return u="M ".concat(e,",").concat(n),u+="L ".concat(e+r,",").concat(n),u+="L ".concat(e+r-s/2,",").concat(n+a),u+="L ".concat(e+r-s/2-i,",").concat(n+a),u+="L ".concat(e,",").concat(n," Z"),u},NZ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PZ=function(e){var n=jI(jI({},NZ),e),r=B.useRef(),i=B.useState(-1),a=xZ(i,2),s=a[0],u=a[1];B.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&u(A)}catch{}},[]);var c=n.x,f=n.y,h=n.upperWidth,m=n.lowerWidth,v=n.height,_=n.className,x=n.animationEasing,E=n.animationDuration,w=n.animationBegin,T=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||m!==+m||v!==+v||h===0&&m===0||v===0)return null;var C=ze("recharts-trapezoid",_);return T?J.createElement(ha,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:v,x:c,y:f},to:{upperWidth:h,lowerWidth:m,height:v,x:c,y:f},duration:E,animationEasing:x,isActive:T},function(A){var P=A.upperWidth,R=A.lowerWidth,M=A.height,I=A.x,k=A.y;return J.createElement(ha,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:E,easing:x},J.createElement("path",Ah({},Ie(n,!0),{className:C,d:HI(I,k,P,R,M),ref:r})))}):J.createElement("g",null,J.createElement("path",Ah({},Ie(n,!0),{className:C,d:HI(c,f,h,m,v)})))},IZ=["option","shapeType","propTransformer","activeClassName","isActive"];function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function DZ(t,e){if(t==null)return{};var n=kZ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ch(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){UZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UZ(t,e,n){return e=LZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LZ(t){var e=$Z(t,"string");return mc(e)=="symbol"?e:e+""}function $Z(t,e){if(mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qZ(t,e){return Ch(Ch({},e),t)}function BZ(t,e){return t==="symbols"}function VI(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return J.createElement(Vx,n);case"trapezoid":return J.createElement(PZ,n);case"sector":return J.createElement(I$,n);case"symbols":if(BZ(e))return J.createElement(ox,n);break;default:return null}}function jZ(t){return B.isValidElement(t)?t.props:t}function HZ(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?qZ:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,u=t.isActive,c=DZ(t,IZ),f;if(B.isValidElement(e))f=B.cloneElement(e,Ch(Ch({},c),jZ(e)));else if(De(e))f=e(c);else if(bZ(e)&&!wZ(e)){var h=i(e,c);f=J.createElement(VI,{shapeType:n,elementProps:h})}else{var m=c;f=J.createElement(VI,{shapeType:n,elementProps:m})}return u?J.createElement(Ot,{className:s},f):f}function Ip(t,e){return e!=null&&"trapezoids"in t.props}function Dp(t,e){return e!=null&&"sectors"in t.props}function gc(t,e){return e!=null&&"points"in t.props}function GZ(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function VZ(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function zZ(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function FZ(t,e){var n;return Ip(t,e)?n=GZ:Dp(t,e)?n=VZ:gc(t,e)&&(n=zZ),n}function KZ(t,e){var n;return Ip(t,e)?n="trapezoids":Dp(t,e)?n="sectors":gc(t,e)&&(n="points"),n}function WZ(t,e){if(Ip(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Dp(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return gc(t,e)?e.payload:{}}function YZ(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=KZ(n,e),a=WZ(n,e),s=r.filter(function(c,f){var h=qx(a,c),m=n.props[i].filter(function(x){var E=FZ(n,e);return E(x,e)}),v=n.props[i].indexOf(m[m.length-1]),_=f===v;return h&&_}),u=r.indexOf(s[s.length-1]);return u}var $d;function Hs(t){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(t)}function vs(){return vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vs.apply(this,arguments)}function zI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(n),!0).forEach(function(r){nr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F$(r.key),r)}}function XZ(t,e,n){return e&&FI(t.prototype,e),n&&FI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function QZ(t,e,n){return e=Rh(e),ZZ(t,z$()?Reflect.construct(e,n||[],Rh(t).constructor):e.apply(t,n))}function ZZ(t,e){if(e&&(Hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eee(t)}function eee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z$=function(){return!!t})()}function Rh(t){return Rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rh(t)}function tee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FS(t,e)}function FS(t,e){return FS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FS(t,e)}function nr(t,e,n){return e=F$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F$(t){var e=nee(t,"string");return Hs(e)=="symbol"?e:e+""}function nee(t,e){if(Hs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ii=(function(t){function e(n){var r;return JZ(this,e),r=QZ(this,e,[n]),nr(r,"pieRef",null),nr(r,"sectorRefs",[]),nr(r,"id",lp("recharts-pie-")),nr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),De(i)&&i()}),nr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),De(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return tee(e,t),XZ(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,u=a.labelLine,c=a.dataKey,f=a.valueKey,h=Ie(this.props,!1),m=Ie(s,!1),v=Ie(u,!1),_=s&&s.offsetRadius||20,x=r.map(function(E,w){var T=(E.startAngle+E.endAngle)/2,C=ft(E.cx,E.cy,E.outerRadius+_,T),A=ut(ut(ut(ut({},h),E),{},{stroke:"none"},m),{},{index:w,textAnchor:e.getTextAnchor(C.x,E.cx)},C),P=ut(ut(ut(ut({},h),E),{},{fill:"none",stroke:E.fill},v),{},{index:w,points:[ft(E.cx,E.cy,E.outerRadius,T),C]}),R=c;return He(c)&&He(f)?R="value":He(c)&&(R=f),J.createElement(Ot,{key:"label-".concat(E.startAngle,"-").concat(E.endAngle,"-").concat(E.midAngle,"-").concat(w)},u&&e.renderLabelLineItem(u,P,"line"),e.renderLabelItem(s,A,jn(E,R)))});return J.createElement(Ot,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,s=a.activeShape,u=a.blendStroke,c=a.inactiveShape;return r.map(function(f,h){if((f==null?void 0:f.startAngle)===0&&(f==null?void 0:f.endAngle)===0&&r.length!==1)return null;var m=i.isActiveIndex(h),v=c&&i.hasActiveIndex()?c:null,_=m?s:v,x=ut(ut({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return J.createElement(Ot,vs({ref:function(w){w&&!i.sectorRefs.includes(w)&&i.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},up(i.props,f,h),{key:"sector-".concat(f==null?void 0:f.startAngle,"-").concat(f==null?void 0:f.endAngle,"-").concat(f.midAngle,"-").concat(h)}),J.createElement(HZ,vs({option:_,isActive:m,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,s=i.isAnimationActive,u=i.animationBegin,c=i.animationDuration,f=i.animationEasing,h=i.animationId,m=this.state,v=m.prevSectors,_=m.prevIsAnimationActive;return J.createElement(ha,{begin:u,duration:c,isActive:s,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(_),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var E=x.t,w=[],T=a&&a[0],C=T.startAngle;return a.forEach(function(A,P){var R=v&&v[P],M=P>0?Tr(A,"paddingAngle",0):0;if(R){var I=ZR(R.endAngle-R.startAngle,A.endAngle-A.startAngle),k=ut(ut({},A),{},{startAngle:C+M,endAngle:C+I(E)+M});w.push(k),C=k.endAngle}else{var U=A.endAngle,V=A.startAngle,$=ZR(0,U-V),F=$(E),z=ut(ut({},A),{},{startAngle:C+M,endAngle:C+F+M});w.push(z),C=z.endAngle}}),J.createElement(Ot,null,r.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!qx(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,s=i.sectors,u=i.className,c=i.label,f=i.cx,h=i.cy,m=i.innerRadius,v=i.outerRadius,_=i.isAnimationActive,x=this.state.isAnimationFinished;if(a||!s||!s.length||!pe(f)||!pe(h)||!pe(m)||!pe(v))return null;var E=ze("recharts-pie",u);return J.createElement(Ot,{tabIndex:this.props.rootTabIndex,className:E,ref:function(T){r.pieRef=T}},this.renderSectors(),c&&this.renderLabels(s),an.renderCallByParent(this.props,null,!1),(!_||x)&&oo.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(J.isValidElement(r))return J.cloneElement(r,i);if(De(r))return r(i);var s=ze("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return J.createElement(NS,vs({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,a){if(J.isValidElement(r))return J.cloneElement(r,i);var s=a;if(De(r)&&(s=r(i),J.isValidElement(s)))return s;var u=ze("recharts-pie-label-text",typeof r!="boolean"&&!De(r)?r.className:"");return J.createElement(Is,vs({},i,{alignmentBaseline:"middle",className:u}),s)}}])})(B.PureComponent);$d=Ii;nr(Ii,"displayName","Pie");nr(Ii,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!vp.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});nr(Ii,"parseDeltaAngle",function(t,e){var n=ir(e-t),r=Math.min(Math.abs(e-t),360);return n*r});nr(Ii,"getRealPieData",function(t){var e=t.data,n=t.children,r=Ie(t,!1),i=Hr(n,gx);return e&&e.length?e.map(function(a,s){return ut(ut(ut({payload:a},r),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return ut(ut({},r),a.props)}):[]});nr(Ii,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,s=O$(i,a),u=r+En(t.cx,i,i/2),c=n+En(t.cy,a,a/2),f=En(t.innerRadius,s,0),h=En(t.outerRadius,s,s*.8),m=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:u,cy:c,innerRadius:f,outerRadius:h,maxRadius:m}});nr(Ii,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?ut(ut({},e.type.defaultProps),e.props):e.props,i=$d.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,s=r.startAngle,u=r.endAngle,c=r.paddingAngle,f=r.dataKey,h=r.nameKey,m=r.valueKey,v=r.tooltipType,_=Math.abs(r.minAngle),x=$d.parseCoordinateOfPie(r,n),E=$d.parseDeltaAngle(s,u),w=Math.abs(E),T=f;He(f)&&He(m)?(wi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),T="value"):He(f)&&(wi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),T=m);var C=i.filter(function(k){return jn(k,T,0)!==0}).length,A=(w>=360?C:C-1)*c,P=w-C*_-A,R=i.reduce(function(k,U){var V=jn(U,T,0);return k+(pe(V)?V:0)},0),M;if(R>0){var I;M=i.map(function(k,U){var V=jn(k,T,0),$=jn(k,h,U),F=(pe(V)?V:0)/R,z;U?z=I.endAngle+ir(E)*c*(V!==0?1:0):z=s;var Q=z+ir(E)*((V!==0?_:0)+F*P),H=(z+Q)/2,L=(x.innerRadius+x.outerRadius)/2,W=[{name:$,value:V,payload:k,dataKey:T,type:v}],ne=ft(x.cx,x.cy,L,H);return I=ut(ut(ut({percent:F,cornerRadius:a,name:$,tooltipPayload:W,midAngle:H,middleRadius:L,tooltipPosition:ne},k),x),{},{value:jn(k,T),startAngle:z,endAngle:Q,payload:k,paddingAngle:ir(E)*c}),I})}return ut(ut({},x),{},{sectors:M,data:i})});var i_,KI;function ree(){if(KI)return i_;KI=1;var t=Math.ceil,e=Math.max;function n(r,i,a,s){for(var u=-1,c=e(t((i-r)/(a||1)),0),f=Array(c);c--;)f[s?c:++u]=r,r+=a;return f}return i_=n,i_}var a_,WI;function K$(){if(WI)return a_;WI=1;var t=_L(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*n}return i===i?i:0}return a_=r,a_}var o_,YI;function iee(){if(YI)return o_;YI=1;var t=ree(),e=gp(),n=K$();function r(i){return function(a,s,u){return u&&typeof u!="number"&&e(a,s,u)&&(s=u=void 0),a=n(a),s===void 0?(s=a,a=0):s=n(s),u=u===void 0?a<s?1:-1:n(u),t(a,s,u,i)}}return o_=r,o_}var s_,JI;function aee(){if(JI)return s_;JI=1;var t=iee(),e=t();return s_=e,s_}var oee=aee();const Oh=tt(oee);function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function XI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(n),!0).forEach(function(r){W$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W$(t,e,n){return e=see(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function see(t){var e=lee(t,"string");return vc(e)=="symbol"?e:e+""}function lee(t,e){if(vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uee=["Webkit","Moz","O","ms"],cee=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=uee.reduce(function(a,s){return QI(QI({},a),{},W$({},s+r,n))},{});return i[e]=n,i};function Gs(t){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gs(t)}function Mh(){return Mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mh.apply(this,arguments)}function ZI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(n),!0).forEach(function(r){Ln(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J$(r.key),r)}}function dee(t,e,n){return e&&eD(t.prototype,e),n&&eD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hee(t,e,n){return e=Nh(e),pee(t,Y$()?Reflect.construct(e,n||[],Nh(t).constructor):e.apply(t,n))}function pee(t,e){if(e&&(Gs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mee(t)}function mee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y$=function(){return!!t})()}function Nh(t){return Nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nh(t)}function gee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KS(t,e)}function KS(t,e){return KS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KS(t,e)}function Ln(t,e,n){return e=J$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J$(t){var e=vee(t,"string");return Gs(e)=="symbol"?e:e+""}function vee(t,e){if(Gs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yee=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,u=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,f=Mu().domain(Oh(0,c)).range([a,a+s-u]),h=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(i),scale:f,scaleValues:h}},tD=function(e){return e.changedTouches&&!!e.changedTouches.length},Vs=(function(t){function e(n){var r;return fee(this,e),r=hee(this,e,[n]),Ln(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ln(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ln(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,u=i.startIndex;s==null||s({endIndex:a,startIndex:u})}),r.detachDragEndListener()}),Ln(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ln(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ln(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ln(r,"handleSlideDragStart",function(i){var a=tD(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return gee(e,t),dee(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,u=this.props,c=u.gap,f=u.data,h=f.length-1,m=Math.min(i,a),v=Math.max(i,a),_=e.getIndexInRange(s,m),x=e.getIndexInRange(s,v);return{startIndex:_-_%c,endIndex:x===h?h:x-x%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,u=i.dataKey,c=jn(a[r],u,r);return De(s)?s(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,u=i.endX,c=this.props,f=c.x,h=c.width,m=c.travellerWidth,v=c.startIndex,_=c.endIndex,x=c.onChange,E=r.pageX-a;E>0?E=Math.min(E,f+h-m-u,f+h-m-s):E<0&&(E=Math.max(E,f-s,f-u));var w=this.getIndex({startX:s+E,endX:u+E});(w.startIndex!==v||w.endIndex!==_)&&x&&x(w),this.setState({startX:s+E,endX:u+E,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=tD(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,u=i.endX,c=i.startX,f=this.state[s],h=this.props,m=h.x,v=h.width,_=h.travellerWidth,x=h.onChange,E=h.gap,w=h.data,T={startX:this.state.startX,endX:this.state.endX},C=r.pageX-a;C>0?C=Math.min(C,m+v-_-f):C<0&&(C=Math.max(C,m-f)),T[s]=f+C;var A=this.getIndex(T),P=A.startIndex,R=A.endIndex,M=function(){var k=w.length-1;return s==="startX"&&(u>c?P%E===0:R%E===0)||u<c&&R===k||s==="endX"&&(u>c?R%E===0:P%E===0)||u>c&&R===k};this.setState(Ln(Ln({},s,f+C),"brushMoveStartX",r.pageX),function(){x&&M()&&x(A)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,u=s.scaleValues,c=s.startX,f=s.endX,h=this.state[i],m=u.indexOf(h);if(m!==-1){var v=m+r;if(!(v===-1||v>=u.length)){var _=u[v];i==="startX"&&_>=f||i==="endX"&&_<=c||this.setState(Ln({},i,_),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,u=r.height,c=r.fill,f=r.stroke;return J.createElement("rect",{stroke:f,fill:c,x:i,y:a,width:s,height:u})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,u=r.height,c=r.data,f=r.children,h=r.padding,m=B.Children.only(f);return m?J.cloneElement(m,{x:i,y:a,width:s,height:u,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,u=this,c=this.props,f=c.y,h=c.travellerWidth,m=c.height,v=c.traveller,_=c.ariaLabel,x=c.data,E=c.startIndex,w=c.endIndex,T=Math.max(r,this.props.x),C=l_(l_({},Ie(this.props,!1)),{},{x:T,y:f,width:h,height:m}),A=_||"Min value: ".concat((a=x[E])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=x[w])===null||s===void 0?void 0:s.name);return J.createElement(Ot,{tabIndex:0,role:"slider","aria-label":A,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(R){["ArrowLeft","ArrowRight"].includes(R.key)&&(R.preventDefault(),R.stopPropagation(),u.handleTravellerMoveKeyboard(R.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,C))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,u=a.height,c=a.stroke,f=a.travellerWidth,h=Math.min(r,i)+f,m=Math.max(Math.abs(i-r)-f,0);return J.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:s,width:m,height:u})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,u=r.height,c=r.travellerWidth,f=r.stroke,h=this.state,m=h.startX,v=h.endX,_=5,x={pointerEvents:"none",fill:f};return J.createElement(Ot,{className:"recharts-brush-texts"},J.createElement(Is,Mh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,v)-_,y:s+u/2},x),this.getTextOfTick(i)),J.createElement(Is,Mh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,v)+c+_,y:s+u/2},x),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,u=r.x,c=r.y,f=r.width,h=r.height,m=r.alwaysShowText,v=this.state,_=v.startX,x=v.endX,E=v.isTextActive,w=v.isSlideMoving,T=v.isTravellerMoving,C=v.isTravellerFocused;if(!i||!i.length||!pe(u)||!pe(c)||!pe(f)||!pe(h)||f<=0||h<=0)return null;var A=ze("recharts-brush",a),P=J.Children.count(s)===1,R=cee("userSelect","none");return J.createElement(Ot,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:R},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(_,x),this.renderTravellerLayer(_,"startX"),this.renderTravellerLayer(x,"endX"),(E||w||T||C||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,u=r.height,c=r.stroke,f=Math.floor(a+u/2)-1;return J.createElement(J.Fragment,null,J.createElement("rect",{x:i,y:a,width:s,height:u,fill:c,stroke:"none"}),J.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),J.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return J.isValidElement(r)?a=J.cloneElement(r,i):De(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,u=r.x,c=r.travellerWidth,f=r.updateId,h=r.startIndex,m=r.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return l_({prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:s},a&&a.length?yee({data:a,width:s,x:u,travellerWidth:c,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||u!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([u,u+s-c]);var v=i.scale.domain().map(function(_){return i.scale(_)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,u=a-1;u-s>1;){var c=Math.floor((s+u)/2);r[c]>i?u=c:s=c}return i>=r[u]?u:s}}])})(B.PureComponent);Ln(Vs,"displayName","Brush");Ln(Vs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var u_,nD;function bee(){if(nD)return u_;nD=1;var t=hx();function e(n,r){var i;return t(n,function(a,s,u){return i=r(a,s,u),!i}),!!i}return u_=e,u_}var c_,rD;function _ee(){if(rD)return c_;rD=1;var t=XU(),e=Wr(),n=bee(),r=An(),i=gp();function a(s,u,c){var f=r(s)?t:n;return c&&i(s,u,c)&&(u=void 0),f(s,e(u,3))}return c_=a,c_}var See=_ee();const wee=tt(See);var Vr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},f_,iD;function xee(){if(iD)return f_;iD=1;var t=mL();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return f_=e,f_}var d_,aD;function Eee(){if(aD)return d_;aD=1;var t=xee(),e=hL(),n=Wr();function r(i,a){var s={};return a=n(a,3),e(i,function(u,c,f){t(s,c,a(u,c,f))}),s}return d_=r,d_}var Tee=Eee();const Aee=tt(Tee);var h_,oD;function Cee(){if(oD)return h_;oD=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return h_=t,h_}var p_,sD;function Ree(){if(sD)return p_;sD=1;var t=hx();function e(n,r){var i=!0;return t(n,function(a,s,u){return i=!!r(a,s,u),i}),i}return p_=e,p_}var m_,lD;function Oee(){if(lD)return m_;lD=1;var t=Cee(),e=Ree(),n=Wr(),r=An(),i=gp();function a(s,u,c){var f=r(s)?t:e;return c&&i(s,u,c)&&(u=void 0),f(s,n(u,3))}return m_=a,m_}var Mee=Oee();const Nee=tt(Mee);function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}function Pee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X$(r.key),r)}}function Iee(t,e,n){return e&&uD(t.prototype,e),n&&uD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cD(Object(n),!0).forEach(function(r){Fx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fx(t,e,n){return e=X$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X$(t){var e=Dee(t,"string");return yc(e)=="symbol"?e:e+""}function Dee(t,e){if(yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q$=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},kee=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return Q$({x:n,y:r},{x:i,y:a})},Z$=(function(){function t(e){Pee(this,t),this.scale=e}return Iee(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(n)+u}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();Fx(Z$,"EPS",1e-4);var Kx=function(e){var n=Object.keys(e).reduce(function(r,i){return bd(bd({},r),{},Fx({},i,Z$.create(e[i])))},{});return bd(bd({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,u=a.position;return Aee(i,function(c,f){return n[f].apply(c,{bandAware:s,position:u})})},isInRange:function(i){return Nee(i,function(a,s){return n[s].isInRange(a)})}})},g_,fD;function Uee(){if(fD)return g_;fD=1;var t=Wr(),e=Pc(),n=pp();function r(i){return function(a,s,u){var c=Object(a);if(!e(a)){var f=t(s,3);a=n(a),s=function(m){return f(c[m],m,c)}}var h=i(a,s,u);return h>-1?c[f?a[h]:h]:void 0}}return g_=r,g_}var v_,dD;function Lee(){if(dD)return v_;dD=1;var t=K$();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return v_=e,v_}var y_,hD;function $ee(){if(hD)return y_;hD=1;var t=lL(),e=Wr(),n=Lee(),r=Math.max;function i(a,s,u){var c=a==null?0:a.length;if(!c)return-1;var f=u==null?0:n(u);return f<0&&(f=r(c+f,0)),t(a,e(s,3),f)}return y_=i,y_}var b_,pD;function qee(){if(pD)return b_;pD=1;var t=Uee(),e=$ee(),n=t(e);return b_=n,b_}qee();var Bee=xU();const jee=tt(Bee);var Hee=jee(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),eq=B.createContext(void 0),tq=B.createContext(void 0),nq=B.createContext(void 0),Gee=B.createContext({}),rq=B.createContext(void 0),Vee=B.createContext(0),zee=B.createContext(0),mD=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,u=e.children,c=e.width,f=e.height,h=Hee(a);return J.createElement(eq.Provider,{value:r},J.createElement(tq.Provider,{value:i},J.createElement(Gee.Provider,{value:a},J.createElement(nq.Provider,{value:h},J.createElement(rq.Provider,{value:s},J.createElement(Vee.Provider,{value:f},J.createElement(zee.Provider,{value:c},u)))))))},Fee=function(){return B.useContext(rq)},Kee=function(e){var n=B.useContext(eq);n==null&&Ls();var r=n[e];return r==null&&Ls(),r},Wee=function(e){var n=B.useContext(tq);n==null&&Ls();var r=n[e];return r==null&&Ls(),r},Yee=function(){var e=B.useContext(nq);return e};function zs(t){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zs(t)}function Jee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aq(r.key),r)}}function Qee(t,e,n){return e&&Xee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zee(t,e,n){return e=Ph(e),ete(t,iq()?Reflect.construct(e,n||[],Ph(t).constructor):e.apply(t,n))}function ete(t,e){if(e&&(zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tte(t)}function tte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iq=function(){return!!t})()}function Ph(t){return Ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ph(t)}function nte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WS(t,e)}function WS(t,e){return WS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WS(t,e)}function gD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(n),!0).forEach(function(r){Wx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wx(t,e,n){return e=aq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aq(t){var e=rte(t,"string");return zs(e)=="symbol"?e:e+""}function rte(t,e){if(zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ite(t,e){return lte(t)||ste(t,e)||ote(t,e)||ate()}function ate(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ote(t,e){if(t){if(typeof t=="string")return yD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yD(t,e)}}function yD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ste(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function lte(t){if(Array.isArray(t))return t}function YS(){return YS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YS.apply(this,arguments)}var ute=function(e,n){var r;return J.isValidElement(e)?r=J.cloneElement(e,n):De(e)?r=e(n):r=J.createElement("line",YS({},n,{className:"recharts-reference-line-line"})),r},cte=function(e,n,r,i,a,s,u,c,f){var h=a.x,m=a.y,v=a.width,_=a.height;if(r){var x=f.y,E=e.y.apply(x,{position:s});if(Vr(f,"discard")&&!e.y.isInRange(E))return null;var w=[{x:h+v,y:E},{x:h,y:E}];return c==="left"?w.reverse():w}if(n){var T=f.x,C=e.x.apply(T,{position:s});if(Vr(f,"discard")&&!e.x.isInRange(C))return null;var A=[{x:C,y:m+_},{x:C,y:m}];return u==="top"?A.reverse():A}if(i){var P=f.segment,R=P.map(function(M){return e.apply(M,{position:s})});return Vr(f,"discard")&&wee(R,function(M){return!e.isInRange(M)})?null:R}return null};function fte(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,u=t.className,c=t.alwaysShow,f=Fee(),h=Kee(i),m=Wee(a),v=Yee();if(!f||!v)return null;wi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var _=Kx({x:h.scale,y:m.scale}),x=Ht(e),E=Ht(n),w=r&&r.length===2,T=cte(_,x,E,w,v,t.position,h.orientation,m.orientation,t);if(!T)return null;var C=ite(T,2),A=C[0],P=A.x,R=A.y,M=C[1],I=M.x,k=M.y,U=Vr(t,"hidden")?"url(#".concat(f,")"):void 0,V=vD(vD({clipPath:U},Ie(t,!0)),{},{x1:P,y1:R,x2:I,y2:k});return J.createElement(Ot,{className:ze("recharts-reference-line",u)},ute(s,V),an.renderCallByParent(t,kee({x1:P,y1:R,x2:I,y2:k})))}var Yx=(function(t){function e(){return Jee(this,e),Zee(this,e,arguments)}return nte(e,t),Qee(e,[{key:"render",value:function(){return J.createElement(fte,this.props)}}])})(J.Component);Wx(Yx,"displayName","ReferenceLine");Wx(Yx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function JS(){return JS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JS.apply(this,arguments)}function Fs(t){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(t)}function bD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _D(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bD(Object(n),!0).forEach(function(r){kp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sq(r.key),r)}}function pte(t,e,n){return e&&hte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mte(t,e,n){return e=Ih(e),gte(t,oq()?Reflect.construct(e,n||[],Ih(t).constructor):e.apply(t,n))}function gte(t,e){if(e&&(Fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vte(t)}function vte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oq=function(){return!!t})()}function Ih(t){return Ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ih(t)}function yte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XS(t,e)}function XS(t,e){return XS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XS(t,e)}function kp(t,e,n){return e=sq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sq(t){var e=bte(t,"string");return Fs(e)=="symbol"?e:e+""}function bte(t,e){if(Fs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _te=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=Kx({x:i.scale,y:a.scale}),u=s.apply({x:n,y:r},{bandAware:!0});return Vr(e,"discard")&&!s.isInRange(u)?null:u},Up=(function(t){function e(){return dte(this,e),mte(this,e,arguments)}return yte(e,t),pte(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,u=r.alwaysShow,c=r.clipPathId,f=Ht(i),h=Ht(a);if(wi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var m=_te(this.props);if(!m)return null;var v=m.x,_=m.y,x=this.props,E=x.shape,w=x.className,T=Vr(this.props,"hidden")?"url(#".concat(c,")"):void 0,C=_D(_D({clipPath:T},Ie(this.props,!0)),{},{cx:v,cy:_});return J.createElement(Ot,{className:ze("recharts-reference-dot",w)},e.renderDot(E,C),an.renderCallByParent(this.props,{x:v-s,y:_-s,width:2*s,height:2*s}))}}])})(J.Component);kp(Up,"displayName","ReferenceDot");kp(Up,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});kp(Up,"renderDot",function(t,e){var n;return J.isValidElement(t)?n=J.cloneElement(t,e):De(t)?n=t(e):n=J.createElement(zx,JS({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function QS(){return QS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QS.apply(this,arguments)}function Ks(t){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(t)}function SD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SD(Object(n),!0).forEach(function(r){Lp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ste(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uq(r.key),r)}}function xte(t,e,n){return e&&wte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ete(t,e,n){return e=Dh(e),Tte(t,lq()?Reflect.construct(e,n||[],Dh(t).constructor):e.apply(t,n))}function Tte(t,e){if(e&&(Ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ate(t)}function Ate(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lq=function(){return!!t})()}function Dh(t){return Dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dh(t)}function Cte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZS(t,e)}function ZS(t,e){return ZS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZS(t,e)}function Lp(t,e,n){return e=uq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uq(t){var e=Rte(t,"string");return Ks(e)=="symbol"?e:e+""}function Rte(t,e){if(Ks(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ote=function(e,n,r,i,a){var s=a.x1,u=a.x2,c=a.y1,f=a.y2,h=a.xAxis,m=a.yAxis;if(!h||!m)return null;var v=Kx({x:h.scale,y:m.scale}),_={x:e?v.x.apply(s,{position:"start"}):v.x.rangeMin,y:r?v.y.apply(c,{position:"start"}):v.y.rangeMin},x={x:n?v.x.apply(u,{position:"end"}):v.x.rangeMax,y:i?v.y.apply(f,{position:"end"}):v.y.rangeMax};return Vr(a,"discard")&&(!v.isInRange(_)||!v.isInRange(x))?null:Q$(_,x)},$p=(function(t){function e(){return Ste(this,e),Ete(this,e,arguments)}return Cte(e,t),xte(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,u=r.y2,c=r.className,f=r.alwaysShow,h=r.clipPathId;wi(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Ht(i),v=Ht(a),_=Ht(s),x=Ht(u),E=this.props.shape;if(!m&&!v&&!_&&!x&&!E)return null;var w=Ote(m,v,_,x,this.props);if(!w&&!E)return null;var T=Vr(this.props,"hidden")?"url(#".concat(h,")"):void 0;return J.createElement(Ot,{className:ze("recharts-reference-area",c)},e.renderRect(E,wD(wD({clipPath:T},Ie(this.props,!0)),w)),an.renderCallByParent(this.props,w))}}])})(J.Component);Lp($p,"displayName","ReferenceArea");Lp($p,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Lp($p,"renderRect",function(t,e){var n;return J.isValidElement(t)?n=J.cloneElement(t,e):De(t)?n=t(e):n=J.createElement(Vx,QS({},e,{className:"recharts-reference-area-rect"})),n});function xD(t){return Ite(t)||Pte(t)||Nte(t)||Mte()}function Mte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nte(t,e){if(t){if(typeof t=="string")return ew(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ew(t,e)}}function Pte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ite(t){if(Array.isArray(t))return ew(t)}function ew(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tw=function(e,n,r,i,a){var s=Hr(e,Yx),u=Hr(e,Up),c=[].concat(xD(s),xD(u)),f=Hr(e,$p),h="".concat(i,"Id"),m=i[0],v=n;if(c.length&&(v=c.reduce(function(E,w){if(w.props[h]===r&&Vr(w.props,"extendDomain")&&pe(w.props[m])){var T=w.props[m];return[Math.min(E[0],T),Math.max(E[1],T)]}return E},v)),f.length){var _="".concat(m,"1"),x="".concat(m,"2");v=f.reduce(function(E,w){if(w.props[h]===r&&Vr(w.props,"extendDomain")&&pe(w.props[_])&&pe(w.props[x])){var T=w.props[_],C=w.props[x];return[Math.min(E[0],T,C),Math.max(E[1],T,C)]}return E},v)}return a&&a.length&&(v=a.reduce(function(E,w){return pe(w)?[Math.min(E[0],w),Math.max(E[1],w)]:E},v)),v},__={exports:{}},ED;function Dte(){return ED||(ED=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function a(c,f,h,m,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var _=new i(h,m||c,v),x=n?n+f:f;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],_]:c._events[x].push(_):(c._events[x]=_,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)e.call(h,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=n?n+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,_=m.length,x=new Array(_);v<_;v++)x[v]=m[v].fn;return x},u.prototype.listenerCount=function(f){var h=n?n+f:f,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(f,h,m,v,_,x){var E=n?n+f:f;if(!this._events[E])return!1;var w=this._events[E],T=arguments.length,C,A;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),T){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,m),!0;case 4:return w.fn.call(w.context,h,m,v),!0;case 5:return w.fn.call(w.context,h,m,v,_),!0;case 6:return w.fn.call(w.context,h,m,v,_,x),!0}for(A=1,C=new Array(T-1);A<T;A++)C[A-1]=arguments[A];w.fn.apply(w.context,C)}else{var P=w.length,R;for(A=0;A<P;A++)switch(w[A].once&&this.removeListener(f,w[A].fn,void 0,!0),T){case 1:w[A].fn.call(w[A].context);break;case 2:w[A].fn.call(w[A].context,h);break;case 3:w[A].fn.call(w[A].context,h,m);break;case 4:w[A].fn.call(w[A].context,h,m,v);break;default:if(!C)for(R=1,C=new Array(T-1);R<T;R++)C[R-1]=arguments[R];w[A].fn.apply(w[A].context,C)}}return!0},u.prototype.on=function(f,h,m){return a(this,f,h,m,!1)},u.prototype.once=function(f,h,m){return a(this,f,h,m,!0)},u.prototype.removeListener=function(f,h,m,v){var _=n?n+f:f;if(!this._events[_])return this;if(!h)return s(this,_),this;var x=this._events[_];if(x.fn)x.fn===h&&(!v||x.once)&&(!m||x.context===m)&&s(this,_);else{for(var E=0,w=[],T=x.length;E<T;E++)(x[E].fn!==h||v&&!x[E].once||m&&x[E].context!==m)&&w.push(x[E]);w.length?this._events[_]=w.length===1?w[0]:w:s(this,_)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(__)),__.exports}var kte=Dte();const Ute=tt(kte);var S_=new Ute,w_="recharts.syncMouseEvents";function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}function Lte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $te(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cq(r.key),r)}}function qte(t,e,n){return e&&$te(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function x_(t,e,n){return e=cq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cq(t){var e=Bte(t,"string");return bc(e)=="symbol"?e:e+""}function Bte(t,e){if(bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jte=(function(){function t(){Lte(this,t),x_(this,"activeIndex",0),x_(this,"coordinateList",[]),x_(this,"layout","horizontal")}return qte(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,u=s===void 0?null:s,c=n.layout,f=c===void 0?null:c,h=n.offset,m=h===void 0?null:h,v=n.mouseHandlerCallback,_=v===void 0?null:v;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=_??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,u=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=a+c+f,v=s+this.offset.top+u/2+h;this.mouseHandlerCallback({pageX:m,pageY:v})}}}])})();function Hte(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&pe(r)&&pe(i))return!0}return!1}function Gte(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function fq(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=ft(e,n,r,i),u=ft(e,n,r,a);return{points:[s,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Vte(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,c=e.cy,f=e.innerRadius,h=e.outerRadius,m=e.angle,v=ft(u,c,f,m),_=ft(u,c,h,m);r=v.x,i=v.y,a=_.x,s=_.y}else return fq(e);return[{x:r,y:i},{x:a,y:s}]}function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function TD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _d(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TD(Object(n),!0).forEach(function(r){zte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zte(t,e,n){return e=Fte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fte(t){var e=Kte(t,"string");return _c(e)=="symbol"?e:e+""}function Kte(t,e){if(_c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wte(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,u=t.activePayload,c=t.offset,f=t.activeTooltipIndex,h=t.tooltipAxisBandSize,m=t.layout,v=t.chartName,_=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!_||!a||!s||v!=="ScatterChart"&&i!=="axis")return null;var x,E=NS;if(v==="ScatterChart")x=s,E=zQ;else if(v==="BarChart")x=Gte(m,s,c,h),E=Vx;else if(m==="radial"){var w=fq(s),T=w.cx,C=w.cy,A=w.radius,P=w.startAngle,R=w.endAngle;x={cx:T,cy:C,startAngle:P,endAngle:R,innerRadius:A,outerRadius:A},E=I$}else x={points:Vte(m,s,c)},E=NS;var M=_d(_d(_d(_d({stroke:"#ccc",pointerEvents:"none"},c),x),Ie(_,!1)),{},{payload:u,payloadIndex:f,className:ze("recharts-tooltip-cursor",_.className)});return B.isValidElement(_)?B.cloneElement(_,M):B.createElement(E,M)}var Yte=["item"],Jte=["children","className","width","height","style","compact","title","desc"];function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function ys(){return ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ys.apply(this,arguments)}function AD(t,e){return Zte(t)||Qte(t,e)||hq(t,e)||Xte()}function Xte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function Zte(t){if(Array.isArray(t))return t}function CD(t,e){if(t==null)return{};var n=ene(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ene(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pq(r.key),r)}}function rne(t,e,n){return e&&nne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ine(t,e,n){return e=kh(e),ane(t,dq()?Reflect.construct(e,n||[],kh(t).constructor):e.apply(t,n))}function ane(t,e){if(e&&(Ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return one(t)}function one(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dq=function(){return!!t})()}function kh(t){return kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kh(t)}function sne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nw(t,e)}function nw(t,e){return nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nw(t,e)}function Ys(t){return cne(t)||une(t)||hq(t)||lne()}function lne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hq(t,e){if(t){if(typeof t=="string")return rw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rw(t,e)}}function une(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cne(t){if(Array.isArray(t))return rw(t)}function rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RD(Object(n),!0).forEach(function(r){we(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function we(t,e,n){return e=pq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pq(t){var e=fne(t,"string");return Ws(e)=="symbol"?e:e+""}function fne(t,e){if(Ws(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dne={xAxis:["bottom","top"],yAxis:["left","right"]},hne={width:"100%",height:"100%"},mq={x:0,y:0};function Sd(t){return t}var pne=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},mne=function(e,n,r,i){var a=n.find(function(h){return h&&h.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,u=i.radius;return ie(ie(ie({},i),ft(i.cx,i.cy,u,s)),{},{angle:s,radius:u})}var c=a.coordinate,f=i.angle;return ie(ie(ie({},i),ft(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return mq},qp=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(u,c){var f=c.props.data;return f&&f.length?[].concat(Ys(u),Ys(f)):u},[]);return s.length>0?s:e&&e.length&&pe(i)&&pe(a)?e.slice(i,a+1):[]};function gq(t){return t==="number"?[0,"auto"]:void 0}var iw=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,u=qp(n,e);return r<0||!a||!a.length||r>=u.length?null:a.reduce(function(c,f){var h,m=(h=f.props.data)!==null&&h!==void 0?h:n;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(s.dataKey&&!s.allowDuplicatedCategory){var _=m===void 0?u:m;v=V_(_,s.dataKey,i)}else v=m&&m[r]||u[r];return v?[].concat(Ys(c),[CJ(f,v)]):c},[])},OD=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=pne(a,r),u=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,h=fJ(s,u,f,c);if(h>=0&&f){var m=f[h]&&f[h].value,v=iw(e,n,h,m),_=mne(r,u,h,a);return{activeTooltipIndex:h,activeLabel:m,activePayload:v,activeCoordinate:_}}return null},gne=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,u=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,m=e.children,v=e.stackOffset,_=A$(h,a);return r.reduce(function(x,E){var w,T=E.type.defaultProps!==void 0?ie(ie({},E.type.defaultProps),E.props):E.props,C=T.type,A=T.dataKey,P=T.allowDataOverflow,R=T.allowDuplicatedCategory,M=T.scale,I=T.ticks,k=T.includeHidden,U=T[s];if(x[U])return x;var V=qp(e.data,{graphicalItems:i.filter(function(K){var ae,fe=s in K.props?K.props[s]:(ae=K.type.defaultProps)===null||ae===void 0?void 0:ae[s];return fe===U}),dataStartIndex:c,dataEndIndex:f}),$=V.length,F,z,Q;Hte(T.domain,P,C)&&(F=TS(T.domain,null,P),_&&(C==="number"||M!=="auto")&&(Q=Nu(V,A,"category")));var H=gq(C);if(!F||F.length===0){var L,W=(L=T.domain)!==null&&L!==void 0?L:H;if(A){if(F=Nu(V,A,C),C==="category"&&_){var ne=aF(F);R&&ne?(z=F,F=Oh(0,$)):R||(F=GP(W,F,E).reduce(function(K,ae){return K.indexOf(ae)>=0?K:[].concat(Ys(K),[ae])},[]))}else if(C==="category")R?F=F.filter(function(K){return K!==""&&!He(K)}):F=GP(W,F,E).reduce(function(K,ae){return K.indexOf(ae)>=0||ae===""||He(ae)?K:[].concat(Ys(K),[ae])},[]);else if(C==="number"){var le=gJ(V,i.filter(function(K){var ae,fe,ve=s in K.props?K.props[s]:(ae=K.type.defaultProps)===null||ae===void 0?void 0:ae[s],Te="hide"in K.props?K.props.hide:(fe=K.type.defaultProps)===null||fe===void 0?void 0:fe.hide;return ve===U&&(k||!Te)}),A,a,h);le&&(F=le)}_&&(C==="number"||M!=="auto")&&(Q=Nu(V,A,"category"))}else _?F=Oh(0,$):u&&u[U]&&u[U].hasStack&&C==="number"?F=v==="expand"?[0,1]:C$(u[U].stackGroups,c,f):F=T$(V,i.filter(function(K){var ae=s in K.props?K.props[s]:K.type.defaultProps[s],fe="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return ae===U&&(k||!fe)}),C,h,!0);if(C==="number")F=tw(m,F,U,a,I),W&&(F=TS(W,F,P));else if(C==="category"&&W){var de=W,q=F.every(function(K){return de.indexOf(K)>=0});q&&(F=de)}}return ie(ie({},x),{},we({},U,ie(ie({},T),{},{axisType:a,domain:F,categoricalDomain:Q,duplicateDomain:z,originalDomain:(w=T.domain)!==null&&w!==void 0?w:H,isCategorical:_,layout:h})))},{})},vne=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,u=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,m=e.children,v=qp(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:f}),_=v.length,x=A$(h,a),E=-1;return r.reduce(function(w,T){var C=T.type.defaultProps!==void 0?ie(ie({},T.type.defaultProps),T.props):T.props,A=C[s],P=gq("number");if(!w[A]){E++;var R;return x?R=Oh(0,_):u&&u[A]&&u[A].hasStack?(R=C$(u[A].stackGroups,c,f),R=tw(m,R,A,a)):(R=TS(P,T$(v,r.filter(function(M){var I,k,U=s in M.props?M.props[s]:(I=M.type.defaultProps)===null||I===void 0?void 0:I[s],V="hide"in M.props?M.props.hide:(k=M.type.defaultProps)===null||k===void 0?void 0:k.hide;return U===A&&!V}),"number",h),i.defaultProps.allowDataOverflow),R=tw(m,R,A,a)),ie(ie({},w),{},we({},A,ie(ie({axisType:a},i.defaultProps),{},{hide:!0,orientation:Tr(dne,"".concat(a,".").concat(E%2),null),domain:R,originalDomain:P,isCategorical:x,layout:h})))}return w},{})},yne=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,u=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.children,m="".concat(i,"Id"),v=Hr(h,a),_={};return v&&v.length?_=gne(e,{axes:v,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:u,dataStartIndex:c,dataEndIndex:f}):s&&s.length&&(_=vne(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:u,dataStartIndex:c,dataEndIndex:f})),_},bne=function(e){var n=ds(e),r=bu(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:px(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:AS(n,r)}},MD=function(e){var n=e.children,r=e.defaultShowTooltip,i=tr(n,Vs),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},_ne=function(e){return!e||!e.length?!1:e.some(function(n){var r=Si(n&&n.type);return r&&r.indexOf("Bar")>=0})},ND=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Sne=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,u=e.yAxisMap,c=u===void 0?{}:u,f=r.width,h=r.height,m=r.children,v=r.margin||{},_=tr(m,Vs),x=tr(m,ro),E=Object.keys(c).reduce(function(R,M){var I=c[M],k=I.orientation;return!I.mirror&&!I.hide?ie(ie({},R),{},we({},k,R[k]+I.width)):R},{left:v.left||0,right:v.right||0}),w=Object.keys(s).reduce(function(R,M){var I=s[M],k=I.orientation;return!I.mirror&&!I.hide?ie(ie({},R),{},we({},k,Tr(R,"".concat(k))+I.height)):R},{top:v.top||0,bottom:v.bottom||0}),T=ie(ie({},w),E),C=T.bottom;_&&(T.bottom+=_.props.height||Vs.defaultProps.height),x&&n&&(T=pJ(T,i,r,n));var A=f-T.left-T.right,P=h-T.top-T.bottom;return ie(ie({brushBottom:C},T),{},{width:Math.max(A,0),height:Math.max(P,0)})},wne=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},xne=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,u=s===void 0?["axis"]:s,c=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,m=e.defaultProps,v=function(T,C){var A=C.graphicalItems,P=C.stackGroups,R=C.offset,M=C.updateId,I=C.dataStartIndex,k=C.dataEndIndex,U=T.barSize,V=T.layout,$=T.barGap,F=T.barCategoryGap,z=T.maxBarSize,Q=ND(V),H=Q.numericAxisName,L=Q.cateAxisName,W=_ne(A),ne=[];return A.forEach(function(le,de){var q=qp(T.data,{graphicalItems:[le],dataStartIndex:I,dataEndIndex:k}),K=le.type.defaultProps!==void 0?ie(ie({},le.type.defaultProps),le.props):le.props,ae=K.dataKey,fe=K.maxBarSize,ve=K["".concat(H,"Id")],Te=K["".concat(L,"Id")],Le={},Ye=c.reduce(function(mr,Yr){var cl=C["".concat(Yr.axisType,"Map")],sn=K["".concat(Yr.axisType,"Id")];cl&&cl[sn]||Yr.axisType==="zAxis"||Ls();var Lc=cl[sn];return ie(ie({},mr),{},we(we({},Yr.axisType,Lc),"".concat(Yr.axisType,"Ticks"),bu(Lc)))},Le),ce=Ye[L],Ae=Ye["".concat(L,"Ticks")],Re=P&&P[ve]&&P[ve].hasStack&&TJ(le,P[ve].stackGroups),ue=Si(le.type).indexOf("Bar")>=0,dt=AS(ce,Ae),Ne=[],_t=W&&dJ({barSize:U,stackGroups:P,totalSize:wne(Ye,L)});if(ue){var St,on,pr=He(fe)?z:fe,Mr=(St=(on=AS(ce,Ae,!0))!==null&&on!==void 0?on:pr)!==null&&St!==void 0?St:0;Ne=hJ({barGap:$,barCategoryGap:F,bandSize:Mr!==dt?Mr:dt,sizeList:_t[Te],maxBarSize:pr}),Mr!==dt&&(Ne=Ne.map(function(mr){return ie(ie({},mr),{},{position:ie(ie({},mr.position),{},{offset:mr.position.offset-Mr/2})})}))}var Ui=le&&le.type&&le.type.getComposedData;Ui&&ne.push({props:ie(ie({},Ui(ie(ie({},Ye),{},{displayedData:q,props:T,dataKey:ae,item:le,bandSize:dt,barPosition:Ne,offset:R,stackedData:Re,layout:V,dataStartIndex:I,dataEndIndex:k}))),{},we(we(we({key:le.key||"item-".concat(de)},H,Ye[H]),L,Ye[L]),"animationId",M)),childIndex:gF(le,T.children),item:le})}),ne},_=function(T,C){var A=T.props,P=T.dataStartIndex,R=T.dataEndIndex,M=T.updateId;if(!iO({props:A}))return null;var I=A.children,k=A.layout,U=A.stackOffset,V=A.data,$=A.reverseStackOrder,F=ND(k),z=F.numericAxisName,Q=F.cateAxisName,H=Hr(I,r),L=xJ(V,H,"".concat(z,"Id"),"".concat(Q,"Id"),U,$),W=c.reduce(function(K,ae){var fe="".concat(ae.axisType,"Map");return ie(ie({},K),{},we({},fe,yne(A,ie(ie({},ae),{},{graphicalItems:H,stackGroups:ae.axisType===z&&L,dataStartIndex:P,dataEndIndex:R}))))},{}),ne=Sne(ie(ie({},W),{},{props:A,graphicalItems:H}),C==null?void 0:C.legendBBox);Object.keys(W).forEach(function(K){W[K]=h(A,W[K],ne,K.replace("Map",""),n)});var le=W["".concat(Q,"Map")],de=bne(le),q=v(A,ie(ie({},W),{},{dataStartIndex:P,dataEndIndex:R,updateId:M,graphicalItems:H,stackGroups:L,offset:ne}));return ie(ie({formattedGraphicalItems:q,graphicalItems:H,offset:ne,stackGroups:L},de),W)},x=(function(w){function T(C){var A,P,R;return tne(this,T),R=ine(this,T,[C]),we(R,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),we(R,"accessibilityManager",new jte),we(R,"handleLegendBBoxUpdate",function(M){if(M){var I=R.state,k=I.dataStartIndex,U=I.dataEndIndex,V=I.updateId;R.setState(ie({legendBBox:M},_({props:R.props,dataStartIndex:k,dataEndIndex:U,updateId:V},ie(ie({},R.state),{},{legendBBox:M}))))}}),we(R,"handleReceiveSyncEvent",function(M,I,k){if(R.props.syncId===M){if(k===R.eventEmitterSymbol&&typeof R.props.syncMethod!="function")return;R.applySyncEvent(I)}}),we(R,"handleBrushChange",function(M){var I=M.startIndex,k=M.endIndex;if(I!==R.state.dataStartIndex||k!==R.state.dataEndIndex){var U=R.state.updateId;R.setState(function(){return ie({dataStartIndex:I,dataEndIndex:k},_({props:R.props,dataStartIndex:I,dataEndIndex:k,updateId:U},R.state))}),R.triggerSyncEvent({dataStartIndex:I,dataEndIndex:k})}}),we(R,"handleMouseEnter",function(M){var I=R.getMouseInfo(M);if(I){var k=ie(ie({},I),{},{isTooltipActive:!0});R.setState(k),R.triggerSyncEvent(k);var U=R.props.onMouseEnter;De(U)&&U(k,M)}}),we(R,"triggeredAfterMouseMove",function(M){var I=R.getMouseInfo(M),k=I?ie(ie({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};R.setState(k),R.triggerSyncEvent(k);var U=R.props.onMouseMove;De(U)&&U(k,M)}),we(R,"handleItemMouseEnter",function(M){R.setState(function(){return{isTooltipActive:!0,activeItem:M,activePayload:M.tooltipPayload,activeCoordinate:M.tooltipPosition||{x:M.cx,y:M.cy}}})}),we(R,"handleItemMouseLeave",function(){R.setState(function(){return{isTooltipActive:!1}})}),we(R,"handleMouseMove",function(M){M.persist(),R.throttleTriggeredAfterMouseMove(M)}),we(R,"handleMouseLeave",function(M){R.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};R.setState(I),R.triggerSyncEvent(I);var k=R.props.onMouseLeave;De(k)&&k(I,M)}),we(R,"handleOuterEvent",function(M){var I=mF(M),k=Tr(R.props,"".concat(I));if(I&&De(k)){var U,V;/.*touch.*/i.test(I)?V=R.getMouseInfo(M.changedTouches[0]):V=R.getMouseInfo(M),k((U=V)!==null&&U!==void 0?U:{},M)}}),we(R,"handleClick",function(M){var I=R.getMouseInfo(M);if(I){var k=ie(ie({},I),{},{isTooltipActive:!0});R.setState(k),R.triggerSyncEvent(k);var U=R.props.onClick;De(U)&&U(k,M)}}),we(R,"handleMouseDown",function(M){var I=R.props.onMouseDown;if(De(I)){var k=R.getMouseInfo(M);I(k,M)}}),we(R,"handleMouseUp",function(M){var I=R.props.onMouseUp;if(De(I)){var k=R.getMouseInfo(M);I(k,M)}}),we(R,"handleTouchMove",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&R.throttleTriggeredAfterMouseMove(M.changedTouches[0])}),we(R,"handleTouchStart",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&R.handleMouseDown(M.changedTouches[0])}),we(R,"handleTouchEnd",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&R.handleMouseUp(M.changedTouches[0])}),we(R,"handleDoubleClick",function(M){var I=R.props.onDoubleClick;if(De(I)){var k=R.getMouseInfo(M);I(k,M)}}),we(R,"handleContextMenu",function(M){var I=R.props.onContextMenu;if(De(I)){var k=R.getMouseInfo(M);I(k,M)}}),we(R,"triggerSyncEvent",function(M){R.props.syncId!==void 0&&S_.emit(w_,R.props.syncId,M,R.eventEmitterSymbol)}),we(R,"applySyncEvent",function(M){var I=R.props,k=I.layout,U=I.syncMethod,V=R.state.updateId,$=M.dataStartIndex,F=M.dataEndIndex;if(M.dataStartIndex!==void 0||M.dataEndIndex!==void 0)R.setState(ie({dataStartIndex:$,dataEndIndex:F},_({props:R.props,dataStartIndex:$,dataEndIndex:F,updateId:V},R.state)));else if(M.activeTooltipIndex!==void 0){var z=M.chartX,Q=M.chartY,H=M.activeTooltipIndex,L=R.state,W=L.offset,ne=L.tooltipTicks;if(!W)return;if(typeof U=="function")H=U(ne,M);else if(U==="value"){H=-1;for(var le=0;le<ne.length;le++)if(ne[le].value===M.activeLabel){H=le;break}}var de=ie(ie({},W),{},{x:W.left,y:W.top}),q=Math.min(z,de.x+de.width),K=Math.min(Q,de.y+de.height),ae=ne[H]&&ne[H].value,fe=iw(R.state,R.props.data,H),ve=ne[H]?{x:k==="horizontal"?ne[H].coordinate:q,y:k==="horizontal"?K:ne[H].coordinate}:mq;R.setState(ie(ie({},M),{},{activeLabel:ae,activeCoordinate:ve,activePayload:fe,activeTooltipIndex:H}))}else R.setState(M)}),we(R,"renderCursor",function(M){var I,k=R.state,U=k.isTooltipActive,V=k.activeCoordinate,$=k.activePayload,F=k.offset,z=k.activeTooltipIndex,Q=k.tooltipAxisBandSize,H=R.getTooltipEventType(),L=(I=M.props.active)!==null&&I!==void 0?I:U,W=R.props.layout,ne=M.key||"_recharts-cursor";return J.createElement(Wte,{key:ne,activeCoordinate:V,activePayload:$,activeTooltipIndex:z,chartName:n,element:M,isActive:L,layout:W,offset:F,tooltipAxisBandSize:Q,tooltipEventType:H})}),we(R,"renderPolarAxis",function(M,I,k){var U=Tr(M,"type.axisType"),V=Tr(R.state,"".concat(U,"Map")),$=M.type.defaultProps,F=$!==void 0?ie(ie({},$),M.props):M.props,z=V&&V[F["".concat(U,"Id")]];return B.cloneElement(M,ie(ie({},z),{},{className:ze(U,z.className),key:M.key||"".concat(I,"-").concat(k),ticks:bu(z,!0)}))}),we(R,"renderPolarGrid",function(M){var I=M.props,k=I.radialLines,U=I.polarAngles,V=I.polarRadius,$=R.state,F=$.radiusAxisMap,z=$.angleAxisMap,Q=ds(F),H=ds(z),L=H.cx,W=H.cy,ne=H.innerRadius,le=H.outerRadius;return B.cloneElement(M,{polarAngles:Array.isArray(U)?U:bu(H,!0).map(function(de){return de.coordinate}),polarRadius:Array.isArray(V)?V:bu(Q,!0).map(function(de){return de.coordinate}),cx:L,cy:W,innerRadius:ne,outerRadius:le,key:M.key||"polar-grid",radialLines:k})}),we(R,"renderLegend",function(){var M=R.state.formattedGraphicalItems,I=R.props,k=I.children,U=I.width,V=I.height,$=R.props.margin||{},F=U-($.left||0)-($.right||0),z=x$({children:k,formattedGraphicalItems:M,legendWidth:F,legendContent:f});if(!z)return null;var Q=z.item,H=CD(z,Yte);return B.cloneElement(Q,ie(ie({},H),{},{chartWidth:U,chartHeight:V,margin:$,onBBoxUpdate:R.handleLegendBBoxUpdate}))}),we(R,"renderTooltip",function(){var M,I=R.props,k=I.children,U=I.accessibilityLayer,V=tr(k,Ur);if(!V)return null;var $=R.state,F=$.isTooltipActive,z=$.activeCoordinate,Q=$.activePayload,H=$.activeLabel,L=$.offset,W=(M=V.props.active)!==null&&M!==void 0?M:F;return B.cloneElement(V,{viewBox:ie(ie({},L),{},{x:L.left,y:L.top}),active:W,label:H,payload:W?Q:[],coordinate:z,accessibilityLayer:U})}),we(R,"renderBrush",function(M){var I=R.props,k=I.margin,U=I.data,V=R.state,$=V.offset,F=V.dataStartIndex,z=V.dataEndIndex,Q=V.updateId;return B.cloneElement(M,{key:M.key||"_recharts-brush",onChange:md(R.handleBrushChange,M.props.onChange),data:U,x:pe(M.props.x)?M.props.x:$.left,y:pe(M.props.y)?M.props.y:$.top+$.height+$.brushBottom-(k.bottom||0),width:pe(M.props.width)?M.props.width:$.width,startIndex:F,endIndex:z,updateId:"brush-".concat(Q)})}),we(R,"renderReferenceElement",function(M,I,k){if(!M)return null;var U=R,V=U.clipPathId,$=R.state,F=$.xAxisMap,z=$.yAxisMap,Q=$.offset,H=M.type.defaultProps||{},L=M.props,W=L.xAxisId,ne=W===void 0?H.xAxisId:W,le=L.yAxisId,de=le===void 0?H.yAxisId:le;return B.cloneElement(M,{key:M.key||"".concat(I,"-").concat(k),xAxis:F[ne],yAxis:z[de],viewBox:{x:Q.left,y:Q.top,width:Q.width,height:Q.height},clipPathId:V})}),we(R,"renderActivePoints",function(M){var I=M.item,k=M.activePoint,U=M.basePoint,V=M.childIndex,$=M.isRange,F=[],z=I.props.key,Q=I.item.type.defaultProps!==void 0?ie(ie({},I.item.type.defaultProps),I.item.props):I.item.props,H=Q.activeDot,L=Q.dataKey,W=ie(ie({index:V,dataKey:L,cx:k.x,cy:k.y,r:4,fill:Gx(I.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},Ie(H,!1)),Kd(H));return F.push(T.renderActiveDot(H,W,"".concat(z,"-activePoint-").concat(V))),U?F.push(T.renderActiveDot(H,ie(ie({},W),{},{cx:U.x,cy:U.y}),"".concat(z,"-basePoint-").concat(V))):$&&F.push(null),F}),we(R,"renderGraphicChild",function(M,I,k){var U=R.filterFormatItem(M,I,k);if(!U)return null;var V=R.getTooltipEventType(),$=R.state,F=$.isTooltipActive,z=$.tooltipAxis,Q=$.activeTooltipIndex,H=$.activeLabel,L=R.props.children,W=tr(L,Ur),ne=U.props,le=ne.points,de=ne.isRange,q=ne.baseLine,K=U.item.type.defaultProps!==void 0?ie(ie({},U.item.type.defaultProps),U.item.props):U.item.props,ae=K.activeDot,fe=K.hide,ve=K.activeBar,Te=K.activeShape,Le=!!(!fe&&F&&W&&(ae||ve||Te)),Ye={};V!=="axis"&&W&&W.props.trigger==="click"?Ye={onClick:md(R.handleItemMouseEnter,M.props.onClick)}:V!=="axis"&&(Ye={onMouseLeave:md(R.handleItemMouseLeave,M.props.onMouseLeave),onMouseEnter:md(R.handleItemMouseEnter,M.props.onMouseEnter)});var ce=B.cloneElement(M,ie(ie({},U.props),Ye));function Ae(Yr){return typeof z.dataKey=="function"?z.dataKey(Yr.payload):null}if(Le)if(Q>=0){var Re,ue;if(z.dataKey&&!z.allowDuplicatedCategory){var dt=typeof z.dataKey=="function"?Ae:"payload.".concat(z.dataKey.toString());Re=V_(le,dt,H),ue=de&&q&&V_(q,dt,H)}else Re=le==null?void 0:le[Q],ue=de&&q&&q[Q];if(Te||ve){var Ne=M.props.activeIndex!==void 0?M.props.activeIndex:Q;return[B.cloneElement(M,ie(ie(ie({},U.props),Ye),{},{activeIndex:Ne})),null,null]}if(!He(Re))return[ce].concat(Ys(R.renderActivePoints({item:U,activePoint:Re,basePoint:ue,childIndex:Q,isRange:de})))}else{var _t,St=(_t=R.getItemByXY(R.state.activeCoordinate))!==null&&_t!==void 0?_t:{graphicalItem:ce},on=St.graphicalItem,pr=on.item,Mr=pr===void 0?M:pr,Ui=on.childIndex,mr=ie(ie(ie({},U.props),Ye),{},{activeIndex:Ui});return[B.cloneElement(Mr,mr),null,null]}return de?[ce,null,null]:[ce,null]}),we(R,"renderCustomized",function(M,I,k){return B.cloneElement(M,ie(ie({key:"recharts-customized-".concat(k)},R.props),R.state))}),we(R,"renderMap",{CartesianGrid:{handler:Sd,once:!0},ReferenceArea:{handler:R.renderReferenceElement},ReferenceLine:{handler:Sd},ReferenceDot:{handler:R.renderReferenceElement},XAxis:{handler:Sd},YAxis:{handler:Sd},Brush:{handler:R.renderBrush,once:!0},Bar:{handler:R.renderGraphicChild},Line:{handler:R.renderGraphicChild},Area:{handler:R.renderGraphicChild},Radar:{handler:R.renderGraphicChild},RadialBar:{handler:R.renderGraphicChild},Scatter:{handler:R.renderGraphicChild},Pie:{handler:R.renderGraphicChild},Funnel:{handler:R.renderGraphicChild},Tooltip:{handler:R.renderCursor,once:!0},PolarGrid:{handler:R.renderPolarGrid,once:!0},PolarAngleAxis:{handler:R.renderPolarAxis},PolarRadiusAxis:{handler:R.renderPolarAxis},Customized:{handler:R.renderCustomized}}),R.clipPathId="".concat((A=C.id)!==null&&A!==void 0?A:lp("recharts"),"-clip"),R.throttleTriggeredAfterMouseMove=SL(R.triggeredAfterMouseMove,(P=C.throttleDelay)!==null&&P!==void 0?P:1e3/60),R.state={},R}return sne(T,w),rne(T,[{key:"componentDidMount",value:function(){var A,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var A=this.props,P=A.children,R=A.data,M=A.height,I=A.layout,k=tr(P,Ur);if(k){var U=k.props.defaultIndex;if(!(typeof U!="number"||U<0||U>this.state.tooltipTicks.length-1)){var V=this.state.tooltipTicks[U]&&this.state.tooltipTicks[U].value,$=iw(this.state,R,U,V),F=this.state.tooltipTicks[U].coordinate,z=(this.state.offset.top+M)/2,Q=I==="horizontal",H=Q?{x:F,y:z}:{y:F,x:z},L=this.state.formattedGraphicalItems.find(function(ne){var le=ne.item;return le.type.name==="Scatter"});L&&(H=ie(ie({},H),L.props.points[U].tooltipPosition),$=L.props.points[U].tooltipPayload);var W={activeTooltipIndex:U,isTooltipActive:!0,activeLabel:V,activePayload:$,activeCoordinate:H};this.setState(W),this.renderCursor(k),this.accessibilityManager.setIndex(U)}}}},{key:"getSnapshotBeforeUpdate",value:function(A,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==A.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==A.margin){var R,M;this.accessibilityManager.setDetails({offset:{left:(R=this.props.margin.left)!==null&&R!==void 0?R:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0}})}return null}},{key:"componentDidUpdate",value:function(A){K_([tr(A.children,Ur)],[tr(this.props.children,Ur)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var A=tr(this.props.children,Ur);if(A&&typeof A.props.shared=="boolean"){var P=A.props.shared?"axis":"item";return u.indexOf(P)>=0?P:a}return a}},{key:"getMouseInfo",value:function(A){if(!this.container)return null;var P=this.container,R=P.getBoundingClientRect(),M=n9(R),I={chartX:Math.round(A.pageX-M.left),chartY:Math.round(A.pageY-M.top)},k=R.width/P.offsetWidth||1,U=this.inRange(I.chartX,I.chartY,k);if(!U)return null;var V=this.state,$=V.xAxisMap,F=V.yAxisMap,z=this.getTooltipEventType(),Q=OD(this.state,this.props.data,this.props.layout,U);if(z!=="axis"&&$&&F){var H=ds($).scale,L=ds(F).scale,W=H&&H.invert?H.invert(I.chartX):null,ne=L&&L.invert?L.invert(I.chartY):null;return ie(ie({},I),{},{xValue:W,yValue:ne},Q)}return Q?ie(ie({},I),Q):null}},{key:"inRange",value:function(A,P){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,M=this.props.layout,I=A/R,k=P/R;if(M==="horizontal"||M==="vertical"){var U=this.state.offset,V=I>=U.left&&I<=U.left+U.width&&k>=U.top&&k<=U.top+U.height;return V?{x:I,y:k}:null}var $=this.state,F=$.angleAxisMap,z=$.radiusAxisMap;if(F&&z){var Q=ds(F);return FP({x:I,y:k},Q)}return null}},{key:"parseEventsOfWrapper",value:function(){var A=this.props.children,P=this.getTooltipEventType(),R=tr(A,Ur),M={};R&&P==="axis"&&(R.props.trigger==="click"?M={onClick:this.handleClick}:M={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var I=Kd(this.props,this.handleOuterEvent);return ie(ie({},I),M)}},{key:"addListener",value:function(){S_.on(w_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){S_.removeListener(w_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(A,P,R){for(var M=this.state.formattedGraphicalItems,I=0,k=M.length;I<k;I++){var U=M[I];if(U.item===A||U.props.key===A.key||P===Si(U.item.type)&&R===U.childIndex)return U}return null}},{key:"renderClipPath",value:function(){var A=this.clipPathId,P=this.state.offset,R=P.left,M=P.top,I=P.height,k=P.width;return J.createElement("defs",null,J.createElement("clipPath",{id:A},J.createElement("rect",{x:R,y:M,height:I,width:k})))}},{key:"getXScales",value:function(){var A=this.state.xAxisMap;return A?Object.entries(A).reduce(function(P,R){var M=AD(R,2),I=M[0],k=M[1];return ie(ie({},P),{},we({},I,k.scale))},{}):null}},{key:"getYScales",value:function(){var A=this.state.yAxisMap;return A?Object.entries(A).reduce(function(P,R){var M=AD(R,2),I=M[0],k=M[1];return ie(ie({},P),{},we({},I,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(A){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[A])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(A){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[A])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(A){var P=this.state,R=P.formattedGraphicalItems,M=P.activeItem;if(R&&R.length)for(var I=0,k=R.length;I<k;I++){var U=R[I],V=U.props,$=U.item,F=$.type.defaultProps!==void 0?ie(ie({},$.type.defaultProps),$.props):$.props,z=Si($.type);if(z==="Bar"){var Q=(V.data||[]).find(function(ne){return TQ(A,ne)});if(Q)return{graphicalItem:U,payload:Q}}else if(z==="RadialBar"){var H=(V.data||[]).find(function(ne){return FP(A,ne)});if(H)return{graphicalItem:U,payload:H}}else if(Ip(U,M)||Dp(U,M)||gc(U,M)){var L=YZ({graphicalItem:U,activeTooltipItem:M,itemData:F.data}),W=F.activeIndex===void 0?L:F.activeIndex;return{graphicalItem:ie(ie({},U),{},{childIndex:W}),payload:gc(U,M)?F.data[L]:U.props.data[L]}}}return null}},{key:"render",value:function(){var A=this;if(!iO(this))return null;var P=this.props,R=P.children,M=P.className,I=P.width,k=P.height,U=P.style,V=P.compact,$=P.title,F=P.desc,z=CD(P,Jte),Q=Ie(z,!1);if(V)return J.createElement(mD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},J.createElement(Y_,ys({},Q,{width:I,height:k,title:$,desc:F}),this.renderClipPath(),oO(R,this.renderMap)));if(this.props.accessibilityLayer){var H,L;Q.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,Q.role=(L=this.props.role)!==null&&L!==void 0?L:"application",Q.onKeyDown=function(ne){A.accessibilityManager.keyboardEvent(ne)},Q.onFocus=function(){A.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return J.createElement(mD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},J.createElement("div",ys({className:ze("recharts-wrapper",M),style:ie({position:"relative",cursor:"default",width:I,height:k},U)},W,{ref:function(le){A.container=le}}),J.createElement(Y_,ys({},Q,{width:I,height:k,title:$,desc:F,style:hne}),this.renderClipPath(),oO(R,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(B.Component);we(x,"displayName",n),we(x,"defaultProps",ie({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),we(x,"getDerivedStateFromProps",function(w,T){var C=w.dataKey,A=w.data,P=w.children,R=w.width,M=w.height,I=w.layout,k=w.stackOffset,U=w.margin,V=T.dataStartIndex,$=T.dataEndIndex;if(T.updateId===void 0){var F=MD(w);return ie(ie(ie({},F),{},{updateId:0},_(ie(ie({props:w},F),{},{updateId:0}),T)),{},{prevDataKey:C,prevData:A,prevWidth:R,prevHeight:M,prevLayout:I,prevStackOffset:k,prevMargin:U,prevChildren:P})}if(C!==T.prevDataKey||A!==T.prevData||R!==T.prevWidth||M!==T.prevHeight||I!==T.prevLayout||k!==T.prevStackOffset||!z_(U,T.prevMargin)){var z=MD(w),Q={chartX:T.chartX,chartY:T.chartY,isTooltipActive:T.isTooltipActive},H=ie(ie({},OD(T,A,I)),{},{updateId:T.updateId+1}),L=ie(ie(ie({},z),Q),H);return ie(ie(ie({},L),_(ie({props:w},L),T)),{},{prevDataKey:C,prevData:A,prevWidth:R,prevHeight:M,prevLayout:I,prevStackOffset:k,prevMargin:U,prevChildren:P})}if(!K_(P,T.prevChildren)){var W,ne,le,de,q=tr(P,Vs),K=q&&(W=(ne=q.props)===null||ne===void 0?void 0:ne.startIndex)!==null&&W!==void 0?W:V,ae=q&&(le=(de=q.props)===null||de===void 0?void 0:de.endIndex)!==null&&le!==void 0?le:$,fe=K!==V||ae!==$,ve=!He(A),Te=ve&&!fe?T.updateId:T.updateId+1;return ie(ie({updateId:Te},_(ie(ie({props:w},T),{},{updateId:Te,dataStartIndex:K,dataEndIndex:ae}),T)),{},{prevChildren:P,dataStartIndex:K,dataEndIndex:ae})}return null}),we(x,"renderActiveDot",function(w,T,C){var A;return B.isValidElement(w)?A=B.cloneElement(w,T):De(w)?A=w(T):A=J.createElement(zx,T),J.createElement(Ot,{className:"recharts-active-dot",key:C},A)});var E=B.forwardRef(function(T,C){return J.createElement(x,ys({},T,{ref:C}))});return E.displayName=x.displayName,E},Ene=xne({chartName:"PieChart",GraphicalChild:Ii,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Pp},{axisType:"radiusAxis",AxisComp:Mp}],formatAxisMap:UJ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Tne=({votes:t,labelSupport:e,labelOppose:n})=>{const r=[{name:e||"A favor",value:t.support,color:"#22c55e"},{name:n||"En contra",value:t.oppose,color:"#ef4444"},{name:"Neutral",value:t.neutral,color:"#94a3b8"}].filter(i=>i.value>0);return N.jsx("div",{className:"h-64 w-full",children:N.jsx(Y8,{width:"100%",height:"100%",children:N.jsxs(Ene,{children:[N.jsx(Ii,{data:r,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:r.map((i,a)=>N.jsx(gx,{fill:i.color},`cell-${a}`))}),N.jsx(Ur,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)"}}),N.jsx(ro,{verticalAlign:"bottom",height:36})]})})})};var Qe=1e-6,je=Math.PI,Lt=je/2,PD=je/4,cr=je*2,Sr=180/je,hn=je/180,bt=Math.abs,Jx=Math.atan,Js=Math.atan2,vt=Math.cos,Ane=Math.exp,aw=Math.log,E_=Math.pow,xt=Math.sin,Su=Math.sign||function(t){return t>0?1:t<0?-1:0},_a=Math.sqrt,vq=Math.tan;function Cne(t){return t>1?0:t<-1?je:Math.acos(t)}function Sc(t){return t>1?Lt:t<-1?-Lt:Math.asin(t)}function or(){}function Uh(t,e){t&&DD.hasOwnProperty(t.type)&&DD[t.type](t,e)}var ID={Feature:function(t,e){Uh(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Uh(n[r].geometry,e)}},DD={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){ow(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)ow(n[r],e,0)},Polygon:function(t,e){kD(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)kD(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Uh(n[r],e)}};function ow(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function kD(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)ow(t[n],e,1);e.polygonEnd()}function Qa(t,e){t&&ID.hasOwnProperty(t.type)?ID[t.type](t,e):Uh(t,e)}function sw(t){return[Js(t[1],t[0]),Sc(t[2])]}function Xs(t){var e=t[0],n=t[1],r=vt(n);return[r*vt(e),r*xt(e),xt(n)]}function wd(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Lh(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function T_(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function xd(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function lw(t){var e=_a(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function uw(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function cw(t,e){return bt(t)>je&&(t-=Math.round(t/cr)*cr),[t,e]}cw.invert=cw;function Rne(t,e,n){return(t%=cr)?e||n?uw(LD(t),$D(e,n)):LD(t):e||n?$D(e,n):cw}function UD(t){return function(e,n){return e+=t,bt(e)>je&&(e-=Math.round(e/cr)*cr),[e,n]}}function LD(t){var e=UD(t);return e.invert=UD(-t),e}function $D(t,e){var n=vt(t),r=xt(t),i=vt(e),a=xt(e);function s(u,c){var f=vt(c),h=vt(u)*f,m=xt(u)*f,v=xt(c),_=v*n+h*r;return[Js(m*i-_*a,h*n-v*r),Sc(_*i+m*a)]}return s.invert=function(u,c){var f=vt(c),h=vt(u)*f,m=xt(u)*f,v=xt(c),_=v*i-m*a;return[Js(m*i+v*a,h*n+_*r),Sc(_*n-h*r)]},s}function One(t,e,n,r,i,a){if(n){var s=vt(e),u=xt(e),c=r*n;i==null?(i=e+r*cr,a=e-c/2):(i=qD(s,i),a=qD(s,a),(r>0?i<a:i>a)&&(i+=r*cr));for(var f,h=i;r>0?h>a:h<a;h-=c)f=sw([s,-u*vt(h),-u*xt(h)]),t.point(f[0],f[1])}}function qD(t,e){e=Xs(e),e[0]-=t,lw(e);var n=Cne(-e[1]);return((-e[2]<0?-n:n)+cr-Qe)%cr}function yq(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:or,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function qd(t,e){return bt(t[0]-e[0])<Qe&&bt(t[1]-e[1])<Qe}function Ed(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function bq(t,e,n,r,i){var a=[],s=[],u,c;if(t.forEach(function(x){if(!((E=x.length-1)<=0)){var E,w=x[0],T=x[E],C;if(qd(w,T)){if(!w[2]&&!T[2]){for(i.lineStart(),u=0;u<E;++u)i.point((w=x[u])[0],w[1]);i.lineEnd();return}T[0]+=2*Qe}a.push(C=new Ed(w,x,null,!0)),s.push(C.o=new Ed(w,null,C,!1)),a.push(C=new Ed(T,x,null,!1)),s.push(C.o=new Ed(T,null,C,!0))}}),!!a.length){for(s.sort(e),BD(a),BD(s),u=0,c=s.length;u<c;++u)s[u].e=n=!n;for(var f=a[0],h,m;;){for(var v=f,_=!0;v.v;)if((v=v.n)===f)return;h=v.z,i.lineStart();do{if(v.v=v.o.v=!0,v.e){if(_)for(u=0,c=h.length;u<c;++u)i.point((m=h[u])[0],m[1]);else r(v.x,v.n.x,1,i);v=v.n}else{if(_)for(h=v.p.z,u=h.length-1;u>=0;--u)i.point((m=h[u])[0],m[1]);else r(v.x,v.p.x,-1,i);v=v.p}v=v.o,h=v.z,_=!_}while(!v.v);i.lineEnd()}}}function BD(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function A_(t){return bt(t[0])<=je?t[0]:Su(t[0])*((bt(t[0])+je)%cr-je)}function Mne(t,e){var n=A_(e),r=e[1],i=xt(r),a=[xt(n),-vt(n),0],s=0,u=0,c=new so;i===1?r=Lt+Qe:i===-1&&(r=-Lt-Qe);for(var f=0,h=t.length;f<h;++f)if(v=(m=t[f]).length)for(var m,v,_=m[v-1],x=A_(_),E=_[1]/2+PD,w=xt(E),T=vt(E),C=0;C<v;++C,x=P,w=M,T=I,_=A){var A=m[C],P=A_(A),R=A[1]/2+PD,M=xt(R),I=vt(R),k=P-x,U=k>=0?1:-1,V=U*k,$=V>je,F=w*M;if(c.add(Js(F*U*xt(V),T*I+F*vt(V))),s+=$?k+U*cr:k,$^x>=n^P>=n){var z=Lh(Xs(_),Xs(A));lw(z);var Q=Lh(a,z);lw(Q);var H=($^k>=0?-1:1)*Sc(Q[2]);(r>H||r===H&&(z[0]||z[1]))&&(u+=$^k>=0?1:-1)}}return(s<-Qe||s<Qe&&c<-1e-12)^u&1}function _q(t,e,n,r){return function(i){var a=e(i),s=yq(),u=e(s),c=!1,f,h,m,v={point:_,lineStart:E,lineEnd:w,polygonStart:function(){v.point=T,v.lineStart=C,v.lineEnd=A,h=[],f=[]},polygonEnd:function(){v.point=_,v.lineStart=E,v.lineEnd=w,h=OL(h);var P=Mne(f,r);h.length?(c||(i.polygonStart(),c=!0),bq(h,Pne,P,n,i)):P&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),h=f=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function _(P,R){t(P,R)&&i.point(P,R)}function x(P,R){a.point(P,R)}function E(){v.point=x,a.lineStart()}function w(){v.point=_,a.lineEnd()}function T(P,R){m.push([P,R]),u.point(P,R)}function C(){u.lineStart(),m=[]}function A(){T(m[0][0],m[0][1]),u.lineEnd();var P=u.clean(),R=s.result(),M,I=R.length,k,U,V;if(m.pop(),f.push(m),m=null,!!I){if(P&1){if(U=R[0],(k=U.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),M=0;M<k;++M)i.point((V=U[M])[0],V[1]);i.lineEnd()}return}I>1&&P&2&&R.push(R.pop().concat(R.shift())),h.push(R.filter(Nne))}}return v}}function Nne(t){return t.length>1}function Pne(t,e){return((t=t.x)[0]<0?t[1]-Lt-Qe:Lt-t[1])-((e=e.x)[0]<0?e[1]-Lt-Qe:Lt-e[1])}const jD=_q(function(){return!0},Ine,kne,[-je,-Lt]);function Ine(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,s){var u=a>0?je:-je,c=bt(a-e);bt(c-je)<Qe?(t.point(e,n=(n+s)/2>0?Lt:-Lt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(u,n),t.point(a,n),i=0):r!==u&&c>=je&&(bt(e-r)<Qe&&(e-=r*Qe),bt(a-u)<Qe&&(a-=u*Qe),n=Dne(e,n,a,s),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(u,n),i=0),t.point(e=a,n=s),r=u},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function Dne(t,e,n,r){var i,a,s=xt(t-n);return bt(s)>Qe?Jx((xt(e)*(a=vt(r))*xt(n)-xt(r)*(i=vt(e))*xt(t))/(i*a*s)):(e+r)/2}function kne(t,e,n,r){var i;if(t==null)i=n*Lt,r.point(-je,i),r.point(0,i),r.point(je,i),r.point(je,0),r.point(je,-i),r.point(0,-i),r.point(-je,-i),r.point(-je,0),r.point(-je,i);else if(bt(t[0]-e[0])>Qe){var a=t[0]<e[0]?je:-je;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function Une(t){var e=vt(t),n=2*hn,r=e>0,i=bt(e)>Qe;function a(h,m,v,_){One(_,t,n,v,h,m)}function s(h,m){return vt(h)*vt(m)>e}function u(h){var m,v,_,x,E;return{lineStart:function(){x=_=!1,E=1},point:function(w,T){var C=[w,T],A,P=s(w,T),R=r?P?0:f(w,T):P?f(w+(w<0?je:-je),T):0;if(!m&&(x=_=P)&&h.lineStart(),P!==_&&(A=c(m,C),(!A||qd(m,A)||qd(C,A))&&(C[2]=1)),P!==_)E=0,P?(h.lineStart(),A=c(C,m),h.point(A[0],A[1])):(A=c(m,C),h.point(A[0],A[1],2),h.lineEnd()),m=A;else if(i&&m&&r^P){var M;!(R&v)&&(M=c(C,m,!0))&&(E=0,r?(h.lineStart(),h.point(M[0][0],M[0][1]),h.point(M[1][0],M[1][1]),h.lineEnd()):(h.point(M[1][0],M[1][1]),h.lineEnd(),h.lineStart(),h.point(M[0][0],M[0][1],3)))}P&&(!m||!qd(m,C))&&h.point(C[0],C[1]),m=C,_=P,v=R},lineEnd:function(){_&&h.lineEnd(),m=null},clean:function(){return E|(x&&_)<<1}}}function c(h,m,v){var _=Xs(h),x=Xs(m),E=[1,0,0],w=Lh(_,x),T=wd(w,w),C=w[0],A=T-C*C;if(!A)return!v&&h;var P=e*T/A,R=-e*C/A,M=Lh(E,w),I=xd(E,P),k=xd(w,R);T_(I,k);var U=M,V=wd(I,U),$=wd(U,U),F=V*V-$*(wd(I,I)-1);if(!(F<0)){var z=_a(F),Q=xd(U,(-V-z)/$);if(T_(Q,I),Q=sw(Q),!v)return Q;var H=h[0],L=m[0],W=h[1],ne=m[1],le;L<H&&(le=H,H=L,L=le);var de=L-H,q=bt(de-je)<Qe,K=q||de<Qe;if(!q&&ne<W&&(le=W,W=ne,ne=le),K?q?W+ne>0^Q[1]<(bt(Q[0]-H)<Qe?W:ne):W<=Q[1]&&Q[1]<=ne:de>je^(H<=Q[0]&&Q[0]<=L)){var ae=xd(U,(-V+z)/$);return T_(ae,I),[Q,sw(ae)]}}}function f(h,m){var v=r?t:je-t,_=0;return h<-v?_|=1:h>v&&(_|=2),m<-v?_|=4:m>v&&(_|=8),_}return _q(s,u,a,r?[0,-t]:[-je,t-je])}function Lne(t,e,n,r,i,a){var s=t[0],u=t[1],c=e[0],f=e[1],h=0,m=1,v=c-s,_=f-u,x;if(x=n-s,!(!v&&x>0)){if(x/=v,v<0){if(x<h)return;x<m&&(m=x)}else if(v>0){if(x>m)return;x>h&&(h=x)}if(x=i-s,!(!v&&x<0)){if(x/=v,v<0){if(x>m)return;x>h&&(h=x)}else if(v>0){if(x<h)return;x<m&&(m=x)}if(x=r-u,!(!_&&x>0)){if(x/=_,_<0){if(x<h)return;x<m&&(m=x)}else if(_>0){if(x>m)return;x>h&&(h=x)}if(x=a-u,!(!_&&x<0)){if(x/=_,_<0){if(x>m)return;x>h&&(h=x)}else if(_>0){if(x<h)return;x<m&&(m=x)}return h>0&&(t[0]=s+h*v,t[1]=u+h*_),m<1&&(e[0]=s+m*v,e[1]=u+m*_),!0}}}}}var wu=1e9,Td=-wu;function $ne(t,e,n,r){function i(f,h){return t<=f&&f<=n&&e<=h&&h<=r}function a(f,h,m,v){var _=0,x=0;if(f==null||(_=s(f,m))!==(x=s(h,m))||c(f,h)<0^m>0)do v.point(_===0||_===3?t:n,_>1?r:e);while((_=(_+m+4)%4)!==x);else v.point(h[0],h[1])}function s(f,h){return bt(f[0]-t)<Qe?h>0?0:3:bt(f[0]-n)<Qe?h>0?2:1:bt(f[1]-e)<Qe?h>0?1:0:h>0?3:2}function u(f,h){return c(f.x,h.x)}function c(f,h){var m=s(f,1),v=s(h,1);return m!==v?m-v:m===0?h[1]-f[1]:m===1?f[0]-h[0]:m===2?f[1]-h[1]:h[0]-f[0]}return function(f){var h=f,m=yq(),v,_,x,E,w,T,C,A,P,R,M,I={point:k,lineStart:F,lineEnd:z,polygonStart:V,polygonEnd:$};function k(H,L){i(H,L)&&h.point(H,L)}function U(){for(var H=0,L=0,W=_.length;L<W;++L)for(var ne=_[L],le=1,de=ne.length,q=ne[0],K,ae,fe=q[0],ve=q[1];le<de;++le)K=fe,ae=ve,q=ne[le],fe=q[0],ve=q[1],ae<=r?ve>r&&(fe-K)*(r-ae)>(ve-ae)*(t-K)&&++H:ve<=r&&(fe-K)*(r-ae)<(ve-ae)*(t-K)&&--H;return H}function V(){h=m,v=[],_=[],M=!0}function $(){var H=U(),L=M&&H,W=(v=OL(v)).length;(L||W)&&(f.polygonStart(),L&&(f.lineStart(),a(null,null,1,f),f.lineEnd()),W&&bq(v,u,H,a,f),f.polygonEnd()),h=f,v=_=x=null}function F(){I.point=Q,_&&_.push(x=[]),R=!0,P=!1,C=A=NaN}function z(){v&&(Q(E,w),T&&P&&m.rejoin(),v.push(m.result())),I.point=k,P&&h.lineEnd()}function Q(H,L){var W=i(H,L);if(_&&x.push([H,L]),R)E=H,w=L,T=W,R=!1,W&&(h.lineStart(),h.point(H,L));else if(W&&P)h.point(H,L);else{var ne=[C=Math.max(Td,Math.min(wu,C)),A=Math.max(Td,Math.min(wu,A))],le=[H=Math.max(Td,Math.min(wu,H)),L=Math.max(Td,Math.min(wu,L))];Lne(ne,le,t,e,n,r)?(P||(h.lineStart(),h.point(ne[0],ne[1])),h.point(le[0],le[1]),W||h.lineEnd(),M=!1):W&&(h.lineStart(),h.point(H,L),M=!1)}C=H,A=L,P=W}return I}}const fw=t=>t;var C_=new so,dw=new so,Sq,wq,hw,pw,vi={point:or,lineStart:or,lineEnd:or,polygonStart:function(){vi.lineStart=qne,vi.lineEnd=jne},polygonEnd:function(){vi.lineStart=vi.lineEnd=vi.point=or,C_.add(bt(dw)),dw=new so},result:function(){var t=C_/2;return C_=new so,t}};function qne(){vi.point=Bne}function Bne(t,e){vi.point=xq,Sq=hw=t,wq=pw=e}function xq(t,e){dw.add(pw*t-hw*e),hw=t,pw=e}function jne(){xq(Sq,wq)}var Qs=1/0,$h=Qs,wc=-Qs,qh=wc,Bh={point:Hne,lineStart:or,lineEnd:or,polygonStart:or,polygonEnd:or,result:function(){var t=[[Qs,$h],[wc,qh]];return wc=qh=-($h=Qs=1/0),t}};function Hne(t,e){t<Qs&&(Qs=t),t>wc&&(wc=t),e<$h&&($h=e),e>qh&&(qh=e)}var mw=0,gw=0,xu=0,jh=0,Hh=0,bs=0,vw=0,yw=0,Eu=0,Eq,Tq,Lr,$r,rr={point:uo,lineStart:HD,lineEnd:GD,polygonStart:function(){rr.lineStart=zne,rr.lineEnd=Fne},polygonEnd:function(){rr.point=uo,rr.lineStart=HD,rr.lineEnd=GD},result:function(){var t=Eu?[vw/Eu,yw/Eu]:bs?[jh/bs,Hh/bs]:xu?[mw/xu,gw/xu]:[NaN,NaN];return mw=gw=xu=jh=Hh=bs=vw=yw=Eu=0,t}};function uo(t,e){mw+=t,gw+=e,++xu}function HD(){rr.point=Gne}function Gne(t,e){rr.point=Vne,uo(Lr=t,$r=e)}function Vne(t,e){var n=t-Lr,r=e-$r,i=_a(n*n+r*r);jh+=i*(Lr+t)/2,Hh+=i*($r+e)/2,bs+=i,uo(Lr=t,$r=e)}function GD(){rr.point=uo}function zne(){rr.point=Kne}function Fne(){Aq(Eq,Tq)}function Kne(t,e){rr.point=Aq,uo(Eq=Lr=t,Tq=$r=e)}function Aq(t,e){var n=t-Lr,r=e-$r,i=_a(n*n+r*r);jh+=i*(Lr+t)/2,Hh+=i*($r+e)/2,bs+=i,i=$r*t-Lr*e,vw+=i*(Lr+t),yw+=i*($r+e),Eu+=i*3,uo(Lr=t,$r=e)}function Cq(t){this._context=t}Cq.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,cr);break}}},result:or};var bw=new so,R_,Rq,Oq,Tu,Au,xc={point:or,lineStart:function(){xc.point=Wne},lineEnd:function(){R_&&Mq(Rq,Oq),xc.point=or},polygonStart:function(){R_=!0},polygonEnd:function(){R_=null},result:function(){var t=+bw;return bw=new so,t}};function Wne(t,e){xc.point=Mq,Rq=Tu=t,Oq=Au=e}function Mq(t,e){Tu-=t,Au-=e,bw.add(_a(Tu*Tu+Au*Au)),Tu=t,Au=e}let VD,Gh,zD,FD;class KD{constructor(e){this._append=e==null?Nq:Yne(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==zD||this._append!==Gh){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,zD=r,Gh=this._append,FD=this._,this._=i}this._+=FD;break}}}result(){const e=this._;return this._="",e.length?e:null}}function Nq(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Yne(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return Nq;if(e!==VD){const n=10**e;VD=e,Gh=function(i){let a=1;this._+=i[0];for(const s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return Gh}function Jne(t,e){let n=3,r=4.5,i,a;function s(u){return u&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),Qa(u,i(a))),a.result()}return s.area=function(u){return Qa(u,i(vi)),vi.result()},s.measure=function(u){return Qa(u,i(xc)),xc.result()},s.bounds=function(u){return Qa(u,i(Bh)),Bh.result()},s.centroid=function(u){return Qa(u,i(rr)),rr.result()},s.projection=function(u){return arguments.length?(i=u==null?(t=null,fw):(t=u).stream,s):t},s.context=function(u){return arguments.length?(a=u==null?(e=null,new KD(n)):new Cq(e=u),typeof r!="function"&&a.pointRadius(r),s):e},s.pointRadius=function(u){return arguments.length?(r=typeof u=="function"?u:(a.pointRadius(+u),+u),s):r},s.digits=function(u){if(!arguments.length)return n;if(u==null)n=null;else{const c=Math.floor(u);if(!(c>=0))throw new RangeError(`invalid digits: ${u}`);n=c}return e===null&&(a=new KD(n)),s},s.projection(t).digits(n).context(e)}function Xx(t){return function(e){var n=new _w;for(var r in t)n[r]=t[r];return n.stream=e,n}}function _w(){}_w.prototype={constructor:_w,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Qx(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Qa(n,t.stream(Bh)),e(Bh.result()),r!=null&&t.clipExtent(r),t}function Pq(t,e,n){return Qx(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),u=+e[0][0]+(i-s*(r[1][0]+r[0][0]))/2,c=+e[0][1]+(a-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([u,c])},n)}function Xne(t,e,n){return Pq(t,[[0,0],e],n)}function Qne(t,e,n){return Qx(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,u=-a*r[0][1];t.scale(150*a).translate([s,u])},n)}function Zne(t,e,n){return Qx(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],u=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,u])},n)}var WD=16,ere=vt(30*hn);function YD(t,e){return+e?nre(t,e):tre(t)}function tre(t){return Xx({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function nre(t,e){function n(r,i,a,s,u,c,f,h,m,v,_,x,E,w){var T=f-r,C=h-i,A=T*T+C*C;if(A>4*e&&E--){var P=s+v,R=u+_,M=c+x,I=_a(P*P+R*R+M*M),k=Sc(M/=I),U=bt(bt(M)-1)<Qe||bt(a-m)<Qe?(a+m)/2:Js(R,P),V=t(U,k),$=V[0],F=V[1],z=$-r,Q=F-i,H=C*z-T*Q;(H*H/A>e||bt((T*z+C*Q)/A-.5)>.3||s*v+u*_+c*x<ere)&&(n(r,i,a,s,u,c,$,F,U,P/=I,R/=I,M,E,w),w.point($,F),n($,F,U,P,R,M,f,h,m,v,_,x,E,w))}}return function(r){var i,a,s,u,c,f,h,m,v,_,x,E,w={point:T,lineStart:C,lineEnd:P,polygonStart:function(){r.polygonStart(),w.lineStart=R},polygonEnd:function(){r.polygonEnd(),w.lineStart=C}};function T(k,U){k=t(k,U),r.point(k[0],k[1])}function C(){m=NaN,w.point=A,r.lineStart()}function A(k,U){var V=Xs([k,U]),$=t(k,U);n(m,v,h,_,x,E,m=$[0],v=$[1],h=k,_=V[0],x=V[1],E=V[2],WD,r),r.point(m,v)}function P(){w.point=T,r.lineEnd()}function R(){C(),w.point=M,w.lineEnd=I}function M(k,U){A(i=k,U),a=m,s=v,u=_,c=x,f=E,w.point=A}function I(){n(m,v,h,_,x,E,a,s,i,u,c,f,WD,r),w.lineEnd=P,P()}return w}}var rre=Xx({point:function(t,e){this.stream.point(t*hn,e*hn)}});function ire(t){return Xx({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function are(t,e,n,r,i){function a(s,u){return s*=r,u*=i,[e+t*s,n-t*u]}return a.invert=function(s,u){return[(s-e)/t*r,(n-u)/t*i]},a}function JD(t,e,n,r,i,a){if(!a)return are(t,e,n,r,i);var s=vt(a),u=xt(a),c=s*t,f=u*t,h=s/t,m=u/t,v=(u*n-s*e)/t,_=(u*e+s*n)/t;function x(E,w){return E*=r,w*=i,[c*E-f*w+e,n-f*E-c*w]}return x.invert=function(E,w){return[r*(h*E-m*w+v),i*(_-m*E-h*w)]},x}function ore(t){var e,n=150,r=480,i=250,a=0,s=0,u=0,c=0,f=0,h,m=0,v=1,_=1,x=null,E=jD,w=null,T,C,A,P=fw,R=.5,M,I,k,U,V;function $(H){return k(H[0]*hn,H[1]*hn)}function F(H){return H=k.invert(H[0],H[1]),H&&[H[0]*Sr,H[1]*Sr]}$.stream=function(H){return U&&V===H?U:U=rre(ire(h)(E(M(P(V=H)))))},$.preclip=function(H){return arguments.length?(E=H,x=void 0,Q()):E},$.postclip=function(H){return arguments.length?(P=H,w=T=C=A=null,Q()):P},$.clipAngle=function(H){return arguments.length?(E=+H?Une(x=H*hn):(x=null,jD),Q()):x*Sr},$.clipExtent=function(H){return arguments.length?(P=H==null?(w=T=C=A=null,fw):$ne(w=+H[0][0],T=+H[0][1],C=+H[1][0],A=+H[1][1]),Q()):w==null?null:[[w,T],[C,A]]},$.scale=function(H){return arguments.length?(n=+H,z()):n},$.translate=function(H){return arguments.length?(r=+H[0],i=+H[1],z()):[r,i]},$.center=function(H){return arguments.length?(a=H[0]%360*hn,s=H[1]%360*hn,z()):[a*Sr,s*Sr]},$.rotate=function(H){return arguments.length?(u=H[0]%360*hn,c=H[1]%360*hn,f=H.length>2?H[2]%360*hn:0,z()):[u*Sr,c*Sr,f*Sr]},$.angle=function(H){return arguments.length?(m=H%360*hn,z()):m*Sr},$.reflectX=function(H){return arguments.length?(v=H?-1:1,z()):v<0},$.reflectY=function(H){return arguments.length?(_=H?-1:1,z()):_<0},$.precision=function(H){return arguments.length?(M=YD(I,R=H*H),Q()):_a(R)},$.fitExtent=function(H,L){return Pq($,H,L)},$.fitSize=function(H,L){return Xne($,H,L)},$.fitWidth=function(H,L){return Qne($,H,L)},$.fitHeight=function(H,L){return Zne($,H,L)};function z(){var H=JD(n,0,0,v,_,m).apply(null,e(a,s)),L=JD(n,r-H[0],i-H[1],v,_,m);return h=Rne(u,c,f),I=uw(e,L),k=uw(h,I),M=YD(I,R),Q()}function Q(){return U=V=null,$}return function(){return e=t.apply(this,arguments),$.invert=e.invert&&F,z()}}function sre(t){var e=0,n=je/3,r=ore(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*hn,n=a[1]*hn):[e*Sr,n*Sr]},i}function Iq(t,e){return[t,aw(vq((Lt+e)/2))]}Iq.invert=function(t,e){return[t,2*Jx(Ane(e))-Lt]};function Ad(t){return vq((Lt+t)/2)}function lre(t,e){var n=vt(t),r=t===e?xt(t):aw(n/vt(e))/aw(Ad(e)/Ad(t)),i=n*E_(Ad(t),r)/r;if(!r)return Iq;function a(s,u){i>0?u<-Lt+Qe&&(u=-Lt+Qe):u>Lt-Qe&&(u=Lt-Qe);var c=i/E_(Ad(u),r);return[c*xt(r*s),i-c*vt(r*s)]}return a.invert=function(s,u){var c=i-u,f=Su(r)*_a(s*s+c*c),h=Js(s,bt(c))*Su(c);return c*r<0&&(h-=je*Su(s)*Su(c)),[h/r,2*Jx(E_(i/f,1/r))-Lt]},a}function XD(){return sre(lre).scale(109.5).parallels([30,30])}var Cd=1e-6;function Rd(){}var Zs=1/0,Vh=Zs,Ec=-Zs,zh=Ec,QD={point:ure,lineStart:Rd,lineEnd:Rd,polygonStart:Rd,polygonEnd:Rd,result:function(){var t=[[Zs,Vh],[Ec,zh]];return Ec=zh=-(Vh=Zs=1/0),t}};function ure(t,e){t<Zs&&(Zs=t),t>Ec&&(Ec=t),e<Vh&&(Vh=e),e>zh&&(zh=e)}function Dq(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],a=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),a!=null&&t.clipExtent(null),Qa(n,t.stream(QD));var s=QD.result(),u=Math.min(r/(s[1][0]-s[0][0]),i/(s[1][1]-s[0][1])),c=+e[0][0]+(r-u*(s[1][0]+s[0][0]))/2,f=+e[0][1]+(i-u*(s[1][1]+s[0][1]))/2;return a!=null&&t.clipExtent(a),t.scale(u*150).translate([c,f])}function cre(t,e,n){return Dq(t,[[0,0],e],n)}function fre(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function dre(){var t,e,n=XD().rotate([5,-38.6]).parallels([0,60]),r,i=XD().rotate([5,-38.6]).parallels([0,60]),a,s,u={point:function(h,m){s=[h,m]}};function c(h){var m=h[0],v=h[1];return s=null,r.point(m,v),s||(a.point(m,v),s)}c.invert=function(h){var m=n.scale(),v=n.translate(),_=(h[0]-v[0])/m,x=(h[1]-v[1])/m;return(x>=.05346&&x<.0897&&_>=-.13388&&_<-.0322?i:n).invert(h)},c.stream=function(h){return t&&e===h?t:t=fre([n.stream(e=h),i.stream(h)])},c.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),f()):n.precision()},c.scale=function(h){return arguments.length?(n.scale(h),i.scale(h),c.translate(n.translate())):n.scale()},c.translate=function(h){if(!arguments.length)return n.translate();var m=n.scale(),v=+h[0],_=+h[1];return r=n.translate(h).clipExtent([[v-.06857*m,_-.1288*m],[v+.13249*m,_+.06*m]]).stream(u),a=i.translate([v+.1*m,_-.094*m]).clipExtent([[v-.1331*m+Cd,_+.053457*m+Cd],[v-.0354*m-Cd,_+.08969*m-Cd]]).stream(u),f()},c.fitExtent=function(h,m){return Dq(c,h,m)},c.fitSize=function(h,m){return cre(c,h,m)};function f(){return t=e=null,c}return c.drawCompositionBorders=function(h){var m=n([-14.034675,34.965007]),v=n([-7.4208899,35.536988]),_=n([-7.3148275,33.54359]);h.moveTo(m[0],m[1]),h.lineTo(v[0],v[1]),h.lineTo(_[0],_[1])},c.getCompositionBorders=function(){var h=NU();return this.drawCompositionBorders(h),h.toString()},c.scale(2700)}const Od={Andalucia:"AN",Andaluca:"AN",Aragon:"AR",Aragn:"AR",Asturias:"AS","Principado de Asturias":"AS",Baleares:"IB","Islas Baleares":"IB","Illes Balears":"IB",Canarias:"CN","Islas Canarias":"CN",Cantabria:"CB","Castilla-La Mancha":"CM","Castilla La Mancha":"CM","Castilla-Leon":"CL","Castilla y Leon":"CL","Castilla y Len":"CL",Cataluna:"CT",Catalua:"CT",Catalunya:"CT",Ceuta:"CE",Madrid:"MD","Comunidad de Madrid":"MD",Navarra:"NC","Comunidad Foral de Navarra":"NC","Nafarroako Foru Komunitatea":"NC",Valencia:"VC","Comunidad Valenciana":"VC","Comunitat Valenciana":"VC",Extremadura:"EX",Galicia:"GA",Rioja:"RI","La Rioja":"RI",Melilla:"ML",Murcia:"MC","Region de Murcia":"MC","Regin de Murcia":"MC","Pais Vasco":"PV","Pas Vasco":"PV",Euskadi:"PV"},hre=({regionalVotes:t,labelSupport:e="A favor",labelOppose:n="En contra"})=>{const[r,i]=B.useState(null);B.useEffect(()=>{fetch("/spain-communities.json").then(h=>h.json()).then(h=>i(h)).catch(h=>console.error("Error loading map data:",h))},[]);const a=B.useMemo(()=>dre().scale(2500).translate([400,280]),[]),s=B.useMemo(()=>Jne().projection(a),[a]),u=h=>{var m,v;return((m=h.properties)==null?void 0:m.name)||((v=h.properties)==null?void 0:v.noml_ccaa)||"Unknown"},c=h=>{const m=u(h);if(Od[m])return Od[m];const v=Object.keys(Od).find(_=>m.includes(_));return v?Od[v]:void 0},f=h=>{const m=c(h);if(!m)return"#e2e8f0";const v=t[m];if(!v||v.support===0&&v.oppose===0&&v.neutral===0)return"#e2e8f0";const{support:_,oppose:x,neutral:E}=v,w=Math.max(_,x,E);return w===0?"#e2e8f0":_===w&&_>x&&_>E?"#22c55e":x===w&&x>_&&x>E?"#ef4444":"#94a3b8"};return r?N.jsxs("div",{className:"w-full bg-white rounded-2xl p-6 border border-gray-100 shadow-lg",children:[N.jsxs("div",{className:"flex flex-wrap justify-center mb-6 gap-6 text-xs font-bold uppercase tracking-wider text-gray-500",children:[N.jsxs("div",{className:"flex items-center",children:[N.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-2 shadow-sm"}),e]}),N.jsxs("div",{className:"flex items-center",children:[N.jsx("span",{className:"w-3 h-3 bg-red-500 rounded-full mr-2 shadow-sm"}),n]}),N.jsxs("div",{className:"flex items-center",children:[N.jsx("span",{className:"w-3 h-3 bg-slate-400 rounded-full mr-2 shadow-sm"}),"Neutral / Empate"]}),N.jsxs("div",{className:"flex items-center",children:[N.jsx("span",{className:"w-3 h-3 bg-slate-200 rounded-full mr-2 shadow-sm"}),"Sin Datos"]})]}),N.jsx("div",{className:"relative mx-auto w-full aspect-[5/3]",children:N.jsx("svg",{viewBox:"0 0 800 500",className:"w-full h-full drop-shadow-sm",children:N.jsx("g",{children:r.features.map((h,m)=>{const v=c(h),_=u(h),x=v?t[v]:void 0;return N.jsx("path",{d:s(h)||"",fill:f(h),stroke:"#ffffff",strokeWidth:"0.5",className:"transition-all duration-300 hover:opacity-80 cursor-pointer focus:outline-none hover:stroke-indigo-400 hover:stroke-2",children:N.jsxs("title",{children:[_,`:
`,e,": ",(x==null?void 0:x.support)||0,`
`,n,": ",(x==null?void 0:x.oppose)||0,`
Neutral: `,(x==null?void 0:x.neutral)||0]})},m)})})})}),N.jsx("p",{className:"text-center text-xs text-gray-400 mt-4",children:"Mapa oficial por Comunidades Autnomas"})]}):N.jsx("div",{className:"h-96 w-full bg-slate-50 rounded-2xl animate-pulse flex items-center justify-center text-slate-400",children:"Cargando Mapa..."})},Md=43200,ZD=1440,ek=Symbol.for("constructDateFrom");function Zx(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&ek in t?t[ek](e):t instanceof Date?new t.constructor(e):new Date(e)}function pa(t,e){return Zx(t,t)}let pre={};function mre(){return pre}function tk(t){const e=pa(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function eE(t,...e){const n=Zx.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function Bd(t,e){const n=+pa(t)-+pa(e);return n<0?-1:n>0?1:n}function gre(t){return Zx(t,Date.now())}function vre(t,e,n){const[r,i]=eE(n==null?void 0:n.in,t,e),a=r.getFullYear()-i.getFullYear(),s=r.getMonth()-i.getMonth();return a*12+s}function yre(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function bre(t,e){return+pa(t)-+pa(e)}function _re(t,e){const n=pa(t);return n.setHours(23,59,59,999),n}function Sre(t,e){const n=pa(t),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function wre(t,e){const n=pa(t);return+_re(n)==+Sre(n)}function xre(t,e,n){const[r,i,a]=eE(n==null?void 0:n.in,t,t,e),s=Bd(i,a),u=Math.abs(vre(i,a));if(u<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-s*u);let c=Bd(i,a)===-s;wre(r)&&u===1&&Bd(r,a)===1&&(c=!1);const f=s*(u-+c);return f===0?0:f}function Ere(t,e,n){const r=bre(t,e)/1e3;return yre(n==null?void 0:n.roundingMethod)(r)}const Tre={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Are=(t,e,n)=>{let r;const i=Tre[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ts(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Cre={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Rre={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ore={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Mre={date:Ts({formats:Cre,defaultWidth:"full"}),time:Ts({formats:Rre,defaultWidth:"full"}),dateTime:Ts({formats:Ore,defaultWidth:"full"})},Nre={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Pre=(t,e,n,r)=>Nre[t];function qr(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):s;i=t.formattingValues[u]||t.formattingValues[s]}else{const s=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[u]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const Ire={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Dre={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kre={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ure={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Lre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$re={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},qre=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Bre={ordinalNumber:qre,era:qr({values:Ire,defaultWidth:"wide"}),quarter:qr({values:Dre,defaultWidth:"wide",argumentCallback:t=>t-1}),month:qr({values:kre,defaultWidth:"wide"}),day:qr({values:Ure,defaultWidth:"wide"}),dayPeriod:qr({values:Lre,defaultWidth:"wide",formattingValues:$re,defaultFormattingWidth:"wide"})};function Br(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(u)?Hre(u,m=>m.test(s)):jre(u,m=>m.test(s));let f;f=t.valueCallback?t.valueCallback(c):c,f=n.valueCallback?n.valueCallback(f):f;const h=e.slice(s.length);return{value:f,rest:h}}}function jre(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Hre(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function kq(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const u=e.slice(i.length);return{value:s,rest:u}}}const Gre=/^(\d+)(th|st|nd|rd)?/i,Vre=/\d+/i,zre={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Fre={any:[/^b/i,/^(a|c)/i]},Kre={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Wre={any:[/1/i,/2/i,/3/i,/4/i]},Yre={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Jre={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Xre={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Qre={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Zre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},eie={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},tie={ordinalNumber:kq({matchPattern:Gre,parsePattern:Vre,valueCallback:t=>parseInt(t,10)}),era:Br({matchPatterns:zre,defaultMatchWidth:"wide",parsePatterns:Fre,defaultParseWidth:"any"}),quarter:Br({matchPatterns:Kre,defaultMatchWidth:"wide",parsePatterns:Wre,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Br({matchPatterns:Yre,defaultMatchWidth:"wide",parsePatterns:Jre,defaultParseWidth:"any"}),day:Br({matchPatterns:Xre,defaultMatchWidth:"wide",parsePatterns:Qre,defaultParseWidth:"any"}),dayPeriod:Br({matchPatterns:Zre,defaultMatchWidth:"any",parsePatterns:eie,defaultParseWidth:"any"})},nie={code:"en-US",formatDistance:Are,formatLong:Mre,formatRelative:Pre,localize:Bre,match:tie,options:{weekStartsOn:0,firstWeekContainsDate:1}};function rie(t,e,n){const r=mre(),i=(n==null?void 0:n.locale)??r.locale??nie,a=2520,s=Bd(t,e);if(isNaN(s))throw new RangeError("Invalid time value");const u=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:s}),[c,f]=eE(n==null?void 0:n.in,...s>0?[e,t]:[t,e]),h=Ere(f,c),m=(tk(f)-tk(c))/1e3,v=Math.round((h-m)/60);let _;if(v<2)return n!=null&&n.includeSeconds?h<5?i.formatDistance("lessThanXSeconds",5,u):h<10?i.formatDistance("lessThanXSeconds",10,u):h<20?i.formatDistance("lessThanXSeconds",20,u):h<40?i.formatDistance("halfAMinute",0,u):h<60?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",1,u):v===0?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",v,u);if(v<45)return i.formatDistance("xMinutes",v,u);if(v<90)return i.formatDistance("aboutXHours",1,u);if(v<ZD){const x=Math.round(v/60);return i.formatDistance("aboutXHours",x,u)}else{if(v<a)return i.formatDistance("xDays",1,u);if(v<Md){const x=Math.round(v/ZD);return i.formatDistance("xDays",x,u)}else if(v<Md*2)return _=Math.round(v/Md),i.formatDistance("aboutXMonths",_,u)}if(_=xre(f,c),_<12){const x=Math.round(v/Md);return i.formatDistance("xMonths",x,u)}else{const x=_%12,E=Math.trunc(_/12);return x<3?i.formatDistance("aboutXYears",E,u):x<9?i.formatDistance("overXYears",E,u):i.formatDistance("almostXYears",E+1,u)}}function iie(t,e){return rie(t,gre(t),e)}const aie={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},oie=(t,e,n)=>{let r;const i=aie[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},sie={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},lie={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},uie={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cie={date:Ts({formats:sie,defaultWidth:"full"}),time:Ts({formats:lie,defaultWidth:"full"}),dateTime:Ts({formats:uie,defaultWidth:"full"})},fie={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},die={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},hie=(t,e,n,r)=>e.getHours()!==1?die[t]:fie[t],pie={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},mie={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},gie={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},vie={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},yie={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},bie={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},_ie=(t,e)=>Number(t)+"",Sie={ordinalNumber:_ie,era:qr({values:pie,defaultWidth:"wide"}),quarter:qr({values:mie,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:qr({values:gie,defaultWidth:"wide"}),day:qr({values:vie,defaultWidth:"wide"}),dayPeriod:qr({values:yie,defaultWidth:"wide",formattingValues:bie,defaultFormattingWidth:"wide"})},wie=/^(\d+)()?/i,xie=/\d+/i,Eie={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},Tie={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},Aie={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Cie={any:[/1/i,/2/i,/3/i,/4/i]},Rie={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},Oie={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},Mie={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},Nie={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Pie={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},Iie={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Die={ordinalNumber:kq({matchPattern:wie,parsePattern:xie,valueCallback:function(t){return parseInt(t,10)}}),era:Br({matchPatterns:Eie,defaultMatchWidth:"wide",parsePatterns:Tie,defaultParseWidth:"any"}),quarter:Br({matchPatterns:Aie,defaultMatchWidth:"wide",parsePatterns:Cie,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Br({matchPatterns:Rie,defaultMatchWidth:"wide",parsePatterns:Oie,defaultParseWidth:"any"}),day:Br({matchPatterns:Mie,defaultMatchWidth:"wide",parsePatterns:Nie,defaultParseWidth:"any"}),dayPeriod:Br({matchPatterns:Pie,defaultMatchWidth:"any",parsePatterns:Iie,defaultParseWidth:"any"})},kie={code:"es",formatDistance:oie,formatLong:cie,formatRelative:hie,localize:Sie,match:Die,options:{weekStartsOn:1,firstWeekContainsDate:1}},Uie=({topicId:t,user:e,onRequireAuth:n})=>{const[r,i]=B.useState([]),[a,s]=B.useState(""),[u,c]=B.useState(!0),[f,h]=B.useState(!1),m=async()=>{try{const _=await fa.fetchComments(t);i(_)}catch(_){console.error("Error loading comments:",_)}finally{c(!1)}};B.useEffect(()=>{m()},[t]);const v=async _=>{if(_.preventDefault(),!e){n();return}if(a.trim()){h(!0);try{await fa.postComment(t,a,e.id),s(""),await m()}catch(x){console.error("Error posting comment:",x),alert("Error al publicar comentario")}finally{h(!1)}}};return N.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-8 shadow-sm",children:[N.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[N.jsx("svg",{className:"w-6 h-6 mr-2 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})}),"Debate Ciudadano (",r.length,")"]}),N.jsx("div",{className:"mb-10",children:e?N.jsxs("form",{onSubmit:v,className:"flex flex-col gap-4",children:[N.jsxs("div",{className:"flex gap-4",children:[N.jsx("img",{src:e.avatar,className:"w-10 h-10 rounded-full border border-gray-200 shadow-sm",alt:"Tu avatar"}),N.jsx("textarea",{value:a,onChange:_=>s(_.target.value),placeholder:"Comparte tu opinin con respeto...",className:"flex-grow p-4 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 min-h-[100px] resize-y",disabled:f})]}),N.jsx("div",{className:"flex justify-end",children:N.jsx("button",{type:"submit",disabled:f||!a.trim(),className:"px-6 py-2 bg-indigo-600 text-white font-bold rounded-full hover:bg-indigo-700 transition disabled:opacity-50 shadow-md shadow-indigo-200",children:f?"Publicando...":"Publicar Comentario"})})]}):N.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl text-center border border-slate-200",children:[N.jsx("p",{className:"text-slate-600 mb-3",children:"Inicia sesin para participar en el debate."}),N.jsx("button",{onClick:n,className:"text-indigo-600 font-bold hover:underline",children:"Iniciar sesin ahora"})]})}),N.jsx("div",{className:"space-y-6",children:u?N.jsx("div",{className:"text-center py-10 text-gray-400",children:"Cargando comentarios..."}):r.length===0?N.jsx("div",{className:"text-center py-10 text-gray-400 italic",children:"An no hay comentarios. S el primero en opinar!"}):r.map(_=>N.jsxs("div",{className:"flex gap-4 group",children:[N.jsx("div",{className:"flex-shrink-0",children:N.jsx("img",{src:_.userAvatar,className:"w-10 h-10 rounded-full border border-gray-100 shadow-sm",alt:_.userName})}),N.jsx("div",{className:"flex-grow",children:N.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl rounded-tl-none border border-slate-100 group-hover:border-indigo-100 transition-colors",children:[N.jsxs("div",{className:"flex justify-between items-baseline mb-2",children:[N.jsx("span",{className:"font-bold text-gray-900 text-sm",children:_.userName}),N.jsx("span",{className:"text-xs text-gray-500",children:iie(_.createdAt,{addSuffix:!0,locale:kie})})]}),N.jsx("p",{className:"text-gray-700 text-sm leading-relaxed whitespace-pre-wrap",children:_.content})]})})]},_.id))})]})},Lie=[{code:"MD",name:"Madrid"},{code:"CT",name:"Catalua"},{code:"AN",name:"Andaluca"},{code:"VC",name:"Comunidad Valenciana"},{code:"GA",name:"Galicia"},{code:"PV",name:"Pas Vasco"},{code:"CL",name:"Castilla y Len"},{code:"CM",name:"Castilla-La Mancha"},{code:"AR",name:"Aragn"},{code:"EX",name:"Extremadura"},{code:"IB",name:"Baleares"},{code:"CN",name:"Canarias"},{code:"AS",name:"Asturias"},{code:"CB",name:"Cantabria"},{code:"NC",name:"Navarra"},{code:"MC",name:"Murcia"},{code:"RI",name:"La Rioja"},{code:"CE",name:"Ceuta"},{code:"ML",name:"Melilla"}],$ie=({topics:t,onVote:e,user:n,onRequireAuth:r})=>{var h;const{id:i}=W2(),a=Lw(),s=t.find(m=>m.id===i),[u,c]=B.useState(!1);if(!s)return N.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[N.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Tema no encontrado"}),N.jsx("button",{onClick:()=>a("/"),className:"mt-4 text-indigo-600 hover:underline font-bold",children:"Volver al panel principal"})]});const f=m=>{if(!n){r();return}if(!n.region){alert("Tu perfil no tiene una comunidad autnoma asignada. Por favor, actualiza tu perfil.");return}e(s.id,m,n.region),c(!0)};return N.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:N.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[N.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[N.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-8 shadow-sm",children:[N.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[N.jsx("span",{className:"px-3 py-1 bg-indigo-50 text-indigo-600 text-xs font-bold rounded-full uppercase tracking-wider",children:s.category}),N.jsx("span",{className:"text-gray-400 text-sm",children:" Encuesta Activa"})]}),N.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 mb-6 leading-tight",children:s.title}),N.jsx("p",{className:"text-lg text-gray-600 leading-relaxed mb-8",children:s.description}),N.jsxs("div",{className:"bg-slate-50 rounded-3xl p-8 border border-slate-100",children:[N.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Emite tu Voto"}),u?N.jsxs("div",{className:"text-center py-10 bg-indigo-50/50 rounded-2xl text-indigo-700 font-bold border border-indigo-100 animate-pulse",children:[N.jsx("svg",{className:"w-12 h-12 mx-auto mb-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Voto registrado! Gracias por participar desde ",(h=Lie.find(m=>m.code===n.region))==null?void 0:h.name,"."]}):N.jsxs("div",{className:"space-y-8",children:[N.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[N.jsxs("button",{onClick:()=>f("support"),className:`flex flex-col items-center p-6 bg-white border-2 border-gray-100 hover:border-green-500 rounded-2xl transition-all group shadow-sm hover:shadow-md ${!(n!=null&&n.region)&&"opacity-60 grayscale-[0.5]"}`,disabled:!(n!=null&&n.region)&&!!n,children:[N.jsx("div",{className:"w-14 h-14 bg-green-50 text-green-600 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:N.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:N.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),N.jsx("span",{className:"font-bold text-gray-900 uppercase tracking-wide text-sm",children:s.labelSupport||"A favor"})]}),N.jsxs("button",{onClick:()=>f("oppose"),className:`flex flex-col items-center p-6 bg-white border-2 border-gray-100 hover:border-red-500 rounded-2xl transition-all group shadow-sm hover:shadow-md ${!(n!=null&&n.region)&&"opacity-60 grayscale-[0.5]"}`,disabled:!(n!=null&&n.region)&&!!n,children:[N.jsx("div",{className:"w-14 h-14 bg-red-50 text-red-600 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:N.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:N.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),N.jsx("span",{className:"font-bold text-gray-900 uppercase tracking-wide text-sm",children:s.labelOppose||"En contra"})]}),N.jsxs("button",{onClick:()=>f("neutral"),className:`flex flex-col items-center p-6 bg-white border-2 border-gray-100 hover:border-gray-500 rounded-2xl transition-all group shadow-sm hover:shadow-md ${!(n!=null&&n.region)&&"opacity-60 grayscale-[0.5]"}`,disabled:!(n!=null&&n.region)&&!!n,children:[N.jsx("div",{className:"w-14 h-14 bg-gray-100 text-gray-600 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:N.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:N.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),N.jsx("span",{className:"font-bold text-gray-900 uppercase tracking-wide text-sm",children:"Neutral"})]})]}),n?n.region?null:N.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg border border-yellow-200 text-yellow-800 text-sm",children:[N.jsx("p",{className:"font-bold",children:"Perfil incompleto"}),N.jsx("p",{children:"Necesitamos saber tu Comunidad Autnoma para registrar el voto."}),N.jsx("p",{className:"mt-2 text-xs",children:"Por favor, cierra sesin y regstrate de nuevo (o espera a que implementemos 'Editar Perfil')."})]}):N.jsxs("div",{className:"text-center",children:[N.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"Es necesario estar identificado para votar"}),N.jsx("button",{onClick:r,className:"text-indigo-600 font-bold hover:text-indigo-700 underline text-sm",children:"Iniciar sesin ahora"})]})]})]})]}),N.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-8 shadow-sm",children:[N.jsxs("div",{className:"flex justify-between items-center mb-6",children:[N.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Distribucin Geogrfica"}),N.jsxs("div",{className:"flex space-x-2",children:[N.jsx("div",{className:"h-3 w-10 bg-green-500 rounded-full"}),N.jsx("div",{className:"h-3 w-10 bg-red-500 rounded-full"})]})]}),N.jsx(hre,{regionalVotes:s.regionalVotes,labelSupport:s.labelSupport,labelOppose:s.labelOppose})]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[N.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-8 shadow-sm group hover:border-green-100 transition-colors",children:[N.jsxs("h3",{className:"text-lg font-bold text-green-600 mb-6 flex items-center",children:[N.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Argumentos A Favor"]}),N.jsx("ul",{className:"space-y-4",children:s.pros.map((m,v)=>N.jsxs("li",{className:"flex items-start text-gray-600 text-sm leading-relaxed",children:[N.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-1.5 mr-3 flex-shrink-0"}),m]},v))})]}),N.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-8 shadow-sm group hover:border-red-100 transition-colors",children:[N.jsxs("h3",{className:"text-lg font-bold text-red-600 mb-6 flex items-center",children:[N.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Argumentos En Contra"]}),N.jsx("ul",{className:"space-y-4",children:s.cons.map((m,v)=>N.jsxs("li",{className:"flex items-start text-gray-600 text-sm leading-relaxed",children:[N.jsx("span",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mt-1.5 mr-3 flex-shrink-0"}),m]},v))})]})]}),N.jsx(Uie,{topicId:s.id,user:n,onRequireAuth:r})]}),N.jsx("div",{className:"space-y-8",children:N.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-8 shadow-sm sticky top-24",children:[N.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6 border-b border-gray-100 pb-2",children:"Estadsticas en Tiempo Real"}),N.jsx(Tne,{votes:s.votes,labelSupport:s.labelSupport,labelOppose:s.labelOppose}),N.jsxs("div",{className:"mt-8 space-y-4",children:[N.jsxs("div",{className:"flex justify-between items-center text-sm p-3 bg-green-50 rounded-xl",children:[N.jsx("span",{className:"text-green-700 font-medium",children:s.labelSupport||"A favor"}),N.jsx("span",{className:"font-extrabold text-green-700",children:s.votes.support})]}),N.jsxs("div",{className:"flex justify-between items-center text-sm p-3 bg-red-50 rounded-xl",children:[N.jsx("span",{className:"text-red-700 font-medium",children:s.labelOppose||"En contra"}),N.jsx("span",{className:"font-extrabold text-red-700",children:s.votes.oppose})]}),N.jsxs("div",{className:"flex justify-between items-center text-sm p-3 bg-slate-100 rounded-xl",children:[N.jsx("span",{className:"text-slate-600 font-medium",children:"Neutral"}),N.jsx("span",{className:"font-extrabold text-slate-700",children:s.votes.neutral})]})]}),N.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-br from-indigo-600 to-blue-700 rounded-2xl shadow-lg text-white",children:[N.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[N.jsx("div",{className:"p-1 bg-white/20 rounded-lg",children:N.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),N.jsx("h3",{className:"font-bold text-sm uppercase tracking-wider",children:"Perspectiva IA"})]}),N.jsxs("p",{className:"text-indigo-50 leading-relaxed text-sm italic font-light",children:['"',s.aiAnalysis||"Analizando el pulso social...",'"']})]})]})})]})})};var qie={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Bie,jie;function Hie(){return{geminiUrl:Bie,vertexUrl:jie}}function Gie(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const s=Hie();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(a=s.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Di{}function he(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function y(t,e,n){for(let a=0;a<e.length-1;a++){const s=e[a];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let f=0;f<c.length;f++){const h=c[f];y(h,e.slice(a+1),n[f])}else for(const f of c)y(f,e.slice(a+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];y(c[0],e.slice(a+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function g(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const s=t[a];return Array.isArray(s)?s.map(u=>g(u,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Vie(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),a=r.split("."),s=new Set;let u=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){u=c;break}if(u!==-1&&a.length>u)for(let c=u;c<a.length;c++){const f=a[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&s.add(f)}Sw(t,i,a,0,s)}}function Sw(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const s=a.slice(0,-2),u=t;if(s in u&&Array.isArray(u[s]))for(const c of u[s])Sw(c,e,n,r+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,u=Object.keys(s).filter(f=>!f.startsWith("_")&&!i.has(f)),c={};for(const f of u)c[f]=s[f];for(const[f,h]of Object.entries(c)){const m=[];for(const v of n.slice(r))v==="*"?m.push(f):m.push(v);y(s,m,h)}for(const f of u)delete s[f]}}else{const s=t;a in s&&Sw(s[a],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tE(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zie(t){const e={},n=g(t,["operationName"]);n!=null&&y(e,["operationName"],n);const r=g(t,["resourceName"]);return r!=null&&y(e,["_url","resourceName"],r),e}function Fie(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const a=g(t,["error"]);a!=null&&y(e,["error"],a);const s=g(t,["response","generateVideoResponse"]);return s!=null&&y(e,["response"],Wie(s)),e}function Kie(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const a=g(t,["error"]);a!=null&&y(e,["error"],a);const s=g(t,["response"]);return s!=null&&y(e,["response"],Yie(s)),e}function Wie(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Jie(s))),y(e,["generatedVideos"],a)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function Yie(t){const e={},n=g(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Xie(s))),y(e,["generatedVideos"],a)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function Jie(t){const e={},n=g(t,["video"]);return n!=null&&y(e,["video"],rae(n)),e}function Xie(t){const e={},n=g(t,["_self"]);return n!=null&&y(e,["video"],iae(n)),e}function Qie(t){const e={},n=g(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function Zie(t){const e={},n=g(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function eae(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const a=g(t,["error"]);a!=null&&y(e,["error"],a);const s=g(t,["response"]);return s!=null&&y(e,["response"],tae(s)),e}function tae(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&y(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function Uq(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const a=g(t,["error"]);a!=null&&y(e,["error"],a);const s=g(t,["response"]);return s!=null&&y(e,["response"],nae(s)),e}function nae(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&y(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function rae(t){const e={},n=g(t,["uri"]);n!=null&&y(e,["uri"],n);const r=g(t,["encodedVideo"]);r!=null&&y(e,["videoBytes"],tE(r));const i=g(t,["encoding"]);return i!=null&&y(e,["mimeType"],i),e}function iae(t){const e={},n=g(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&y(e,["videoBytes"],tE(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var nk;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(nk||(nk={}));var rk;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(rk||(rk={}));var ik;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(ik||(ik={}));var un;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(un||(un={}));var ak;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(ak||(ak={}));var ok;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ok||(ok={}));var sk;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(sk||(sk={}));var lk;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(lk||(lk={}));var uk;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(uk||(uk={}));var ck;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(ck||(ck={}));var fk;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(fk||(fk={}));var dk;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(dk||(dk={}));var hk;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(hk||(hk={}));var pk;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(pk||(pk={}));var mk;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(mk||(mk={}));var gk;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(gk||(gk={}));var vk;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(vk||(vk={}));var yk;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(yk||(yk={}));var bk;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(bk||(bk={}));var Fh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Fh||(Fh={}));var _k;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(_k||(_k={}));var Sk;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Sk||(Sk={}));var wk;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(wk||(wk={}));var ww;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ww||(ww={}));var xk;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(xk||(xk={}));var Ek;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Ek||(Ek={}));var Tk;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Tk||(Tk={}));var Ak;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Ak||(Ak={}));var Ck;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Ck||(Ck={}));var Rk;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Rk||(Rk={}));var Ok;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Ok||(Ok={}));var Mk;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Mk||(Mk={}));var Nk;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Nk||(Nk={}));var Pk;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Pk||(Pk={}));var Ik;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ik||(Ik={}));var Dk;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Dk||(Dk={}));var kk;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(kk||(kk={}));var Uk;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Uk||(Uk={}));var Lk;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Lk||(Lk={}));var $k;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})($k||($k={}));var qk;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(qk||(qk={}));var Bk;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Bk||(Bk={}));var jk;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(jk||(jk={}));var Hk;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Hk||(Hk={}));var Gk;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Gk||(Gk={}));var Vk;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Vk||(Vk={}));var zk;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(zk||(zk={}));var Fk;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Fk||(Fk={}));var Kk;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Kk||(Kk={}));var Wk;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Wk||(Wk={}));var Yk;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Yk||(Yk={}));var Jk;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Jk||(Jk={}));var Xk;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Xk||(Xk={}));var Qk;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Qk||(Qk={}));var Zk;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Zk||(Zk={}));var _s;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(_s||(_s={}));class xw{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class pu{get text(){var e,n,r,i,a,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const m=[];for(const v of(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[_,x]of Object.entries(v))_!=="text"&&_!=="thought"&&_!=="thoughtSignature"&&(x!==null||x!==void 0)&&m.push(_);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;h=!0,f+=v.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,n,r,i,a,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const m of(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[v,_]of Object.entries(m))v!=="inlineData"&&(_!==null||_!==void 0)&&h.push(v);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,a,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,i,a,s,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,a,s,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class e2{}class t2{}class aae{}class oae{}class sae{}class lae{}class n2{}class r2{}class i2{}class uae{}class Kh{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Kh;let i;const a=e;return n?i=Kie(a):i=Fie(a),Object.assign(r,i),r}}class a2{}class o2{}class s2{}class l2{}class cae{}class fae{}class dae{}class nE{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new nE,a=eae(e);return Object.assign(r,a),r}}class hae{}class pae{}class mae{}class u2{}class gae{get text(){var e,n,r;let i="",a=!1;const s=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&s.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;a=!0,i+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(s))u!=="inlineData"&&c!==null&&a.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class vae{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class rE{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new rE,a=Uq(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ke(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Lq(t,e){const n=Ke(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function $q(t){return Array.isArray(t)?t.map(e=>Wh(e)):[Wh(t)]}function Wh(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function qq(t){const e=Wh(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Bq(t){const e=Wh(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function c2(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function jq(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>c2(e)):[c2(t)]}function Ew(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function f2(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function d2(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function cn(t){if(t==null)throw new Error("ContentUnion is required");return Ew(t)?t:{role:"user",parts:jq(t)}}function iE(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=cn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=cn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>cn(n)):[cn(e)]}function sr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(f2(t)||d2(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[cn(t)]}const e=[],n=[],r=Ew(t[0]);for(const i of t){const a=Ew(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(f2(i)||d2(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:jq(n)}),e}function yae(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(un).includes(n[0].toUpperCase())?n[0].toUpperCase():un.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(un).includes(r.toUpperCase())?r.toUpperCase():un.TYPE_UNSPECIFIED})}}function As(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&yae(t.type,e);for(const[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(un).includes(u.toUpperCase())?u.toUpperCase():un.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=As(u);else if(r.includes(s)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(As(f))}e[s]=c}else if(i.includes(s)){const c={};for(const[f,h]of Object.entries(u))c[f]=As(h);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=u}return e}function aE(t){return As(t)}function oE(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function sE(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function sl(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=As(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=As(e.response));return t}function ll(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function bae(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function ki(t,e){if(typeof e!="string")throw new Error("name must be a string");return bae(t,e,"cachedContents")}function Hq(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Sa(t){return tE(t)}function _ae(t){return t!=null&&typeof t=="object"&&"name"in t}function Sae(t){return t!=null&&typeof t=="object"&&"video"in t}function wae(t){return t!=null&&typeof t=="object"&&"uri"in t}function Gq(t){var e;let n;if(_ae(t)&&(n=t.name),!(wae(t)&&(n=t.uri,n===void 0))&&!(Sae(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Vq(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function zq(t){for(const e of["models","tunedModels","publisherModels"])if(xae(t,e))return t[e];return[]}function xae(t,e){return t!==null&&typeof t=="object"&&e in t}function Eae(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Tae(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const s=Eae(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function Fq(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Aae(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Kq(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function ul(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Wq(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cae(t){const e={},n=g(t,["responsesFile"]);n!=null&&y(e,["fileName"],n);const r=g(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>soe(s))),y(e,["inlinedResponses"],a)}const i=g(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["inlinedEmbedContentResponses"],a)}return e}function Rae(t){const e={},n=g(t,["predictionsFormat"]);n!=null&&y(e,["format"],n);const r=g(t,["gcsDestination","outputUriPrefix"]);r!=null&&y(e,["gcsUri"],r);const i=g(t,["bigqueryDestination","outputUri"]);return i!=null&&y(e,["bigqueryUri"],i),e}function Oae(t){const e={},n=g(t,["format"]);n!=null&&y(e,["predictionsFormat"],n);const r=g(t,["gcsUri"]);r!=null&&y(e,["gcsDestination","outputUriPrefix"],r);const i=g(t,["bigqueryUri"]);if(i!=null&&y(e,["bigqueryDestination","outputUri"],i),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(g(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function jd(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata","displayName"]);r!=null&&y(e,["displayName"],r);const i=g(t,["metadata","state"]);i!=null&&y(e,["state"],Wq(i));const a=g(t,["metadata","createTime"]);a!=null&&y(e,["createTime"],a);const s=g(t,["metadata","endTime"]);s!=null&&y(e,["endTime"],s);const u=g(t,["metadata","updateTime"]);u!=null&&y(e,["updateTime"],u);const c=g(t,["metadata","model"]);c!=null&&y(e,["model"],c);const f=g(t,["metadata","output"]);return f!=null&&y(e,["dest"],Cae(Kq(f))),e}function Tw(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=g(t,["state"]);i!=null&&y(e,["state"],Wq(i));const a=g(t,["error"]);a!=null&&y(e,["error"],a);const s=g(t,["createTime"]);s!=null&&y(e,["createTime"],s);const u=g(t,["startTime"]);u!=null&&y(e,["startTime"],u);const c=g(t,["endTime"]);c!=null&&y(e,["endTime"],c);const f=g(t,["updateTime"]);f!=null&&y(e,["updateTime"],f);const h=g(t,["model"]);h!=null&&y(e,["model"],h);const m=g(t,["inputConfig"]);m!=null&&y(e,["src"],Mae(m));const v=g(t,["outputConfig"]);v!=null&&y(e,["dest"],Rae(Kq(v)));const _=g(t,["completionStats"]);return _!=null&&y(e,["completionStats"],_),e}function Mae(t){const e={},n=g(t,["instancesFormat"]);n!=null&&y(e,["format"],n);const r=g(t,["gcsSource","uris"]);r!=null&&y(e,["gcsUri"],r);const i=g(t,["bigquerySource","inputUri"]);return i!=null&&y(e,["bigqueryUri"],i),e}function Nae(t,e){const n={};if(g(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=g(e,["fileName"]);r!=null&&y(n,["fileName"],r);const i=g(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>ooe(t,s))),y(n,["requests","requests"],a)}return n}function Pae(t){const e={},n=g(t,["format"]);n!=null&&y(e,["instancesFormat"],n);const r=g(t,["gcsUri"]);r!=null&&y(e,["gcsSource","uris"],r);const i=g(t,["bigqueryUri"]);if(i!=null&&y(e,["bigquerySource","inputUri"],i),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Iae(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Dae(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],ul(t,r)),n}function kae(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],ul(t,r)),n}function Uae(t){const e={},n=g(t,["content"]);n!=null&&y(e,["content"],n);const r=g(t,["citationMetadata"]);r!=null&&y(e,["citationMetadata"],Lae(r));const i=g(t,["tokenCount"]);i!=null&&y(e,["tokenCount"],i);const a=g(t,["finishReason"]);a!=null&&y(e,["finishReason"],a);const s=g(t,["avgLogprobs"]);s!=null&&y(e,["avgLogprobs"],s);const u=g(t,["groundingMetadata"]);u!=null&&y(e,["groundingMetadata"],u);const c=g(t,["index"]);c!=null&&y(e,["index"],c);const f=g(t,["logprobsResult"]);f!=null&&y(e,["logprobsResult"],f);const h=g(t,["safetyRatings"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(_=>_)),y(e,["safetyRatings"],v)}const m=g(t,["urlContextMetadata"]);return m!=null&&y(e,["urlContextMetadata"],m),e}function Lae(t){const e={},n=g(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["citations"],r)}return e}function Yq(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>poe(a))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function $ae(t,e){const n={},r=g(t,["displayName"]);if(e!==void 0&&r!=null&&y(e,["batch","displayName"],r),g(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function qae(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=g(t,["dest"]);return e!==void 0&&i!=null&&y(e,["outputConfig"],Oae(Aae(i))),n}function h2(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],Ke(t,r));const i=g(e,["src"]);i!=null&&y(n,["batch","inputConfig"],Nae(t,Fq(t,i)));const a=g(e,["config"]);return a!=null&&$ae(a,n),n}function Bae(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["model"],Ke(t,r));const i=g(e,["src"]);i!=null&&y(n,["inputConfig"],Pae(Fq(t,i)));const a=g(e,["config"]);return a!=null&&qae(a,n),n}function jae(t,e){const n={},r=g(t,["displayName"]);return e!==void 0&&r!=null&&y(e,["batch","displayName"],r),n}function Hae(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],Ke(t,r));const i=g(e,["src"]);i!=null&&y(n,["batch","inputConfig"],Yae(t,i));const a=g(e,["config"]);return a!=null&&jae(a,n),n}function Gae(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],ul(t,r)),n}function Vae(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],ul(t,r)),n}function zae(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const a=g(t,["error"]);return a!=null&&y(e,["error"],a),e}function Fae(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const a=g(t,["error"]);return a!=null&&y(e,["error"],a),e}function Kae(t,e){const n={},r=g(e,["contents"]);if(r!=null){let a=iE(t,r);Array.isArray(a)&&(a=a.map(s=>s)),y(n,["requests[]","request","content"],a)}const i=g(e,["config"]);return i!=null&&(y(n,["_self"],Wae(i,n)),Vie(n,{"requests[].*":"requests[].request.*"})),n}function Wae(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&y(e,["requests[]","taskType"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&y(e,["requests[]","title"],i);const a=g(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&y(e,["requests[]","outputDimensionality"],a),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Yae(t,e){const n={},r=g(e,["fileName"]);r!=null&&y(n,["file_name"],r);const i=g(e,["inlinedRequests"]);return i!=null&&y(n,["requests"],Kae(t,i)),n}function Jae(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Xae(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Qae(t){const e={},n=g(t,["mode"]);n!=null&&y(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Zae(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],Yq(cn(i)));const a=g(e,["temperature"]);a!=null&&y(r,["temperature"],a);const s=g(e,["topP"]);s!=null&&y(r,["topP"],s);const u=g(e,["topK"]);u!=null&&y(r,["topK"],u);const c=g(e,["candidateCount"]);c!=null&&y(r,["candidateCount"],c);const f=g(e,["maxOutputTokens"]);f!=null&&y(r,["maxOutputTokens"],f);const h=g(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const v=g(e,["logprobs"]);v!=null&&y(r,["logprobs"],v);const _=g(e,["presencePenalty"]);_!=null&&y(r,["presencePenalty"],_);const x=g(e,["frequencyPenalty"]);x!=null&&y(r,["frequencyPenalty"],x);const E=g(e,["seed"]);E!=null&&y(r,["seed"],E);const w=g(e,["responseMimeType"]);w!=null&&y(r,["responseMimeType"],w);const T=g(e,["responseSchema"]);T!=null&&y(r,["responseSchema"],aE(T));const C=g(e,["responseJsonSchema"]);if(C!=null&&y(r,["responseJsonSchema"],C),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=g(e,["safetySettings"]);if(n!==void 0&&A!=null){let z=A;Array.isArray(z)&&(z=z.map(Q=>moe(Q))),y(n,["safetySettings"],z)}const P=g(e,["tools"]);if(n!==void 0&&P!=null){let z=ll(P);Array.isArray(z)&&(z=z.map(Q=>voe(sl(Q)))),y(n,["tools"],z)}const R=g(e,["toolConfig"]);if(n!==void 0&&R!=null&&y(n,["toolConfig"],goe(R)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=g(e,["cachedContent"]);n!==void 0&&M!=null&&y(n,["cachedContent"],ki(t,M));const I=g(e,["responseModalities"]);I!=null&&y(r,["responseModalities"],I);const k=g(e,["mediaResolution"]);k!=null&&y(r,["mediaResolution"],k);const U=g(e,["speechConfig"]);if(U!=null&&y(r,["speechConfig"],oE(U)),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=g(e,["thinkingConfig"]);V!=null&&y(r,["thinkingConfig"],V);const $=g(e,["imageConfig"]);$!=null&&y(r,["imageConfig"],aoe($));const F=g(e,["enableEnhancedCivicAnswers"]);return F!=null&&y(r,["enableEnhancedCivicAnswers"],F),r}function eoe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>Uae(f))),y(e,["candidates"],c)}const i=g(t,["modelVersion"]);i!=null&&y(e,["modelVersion"],i);const a=g(t,["promptFeedback"]);a!=null&&y(e,["promptFeedback"],a);const s=g(t,["responseId"]);s!=null&&y(e,["responseId"],s);const u=g(t,["usageMetadata"]);return u!=null&&y(e,["usageMetadata"],u),e}function toe(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],ul(t,r)),n}function noe(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],ul(t,r)),n}function roe(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function ioe(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function aoe(t){const e={},n=g(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=g(t,["imageSize"]);if(r!=null&&y(e,["imageSize"],r),g(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function ooe(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["request","model"],Ke(t,r));const i=g(e,["contents"]);if(i!=null){let u=sr(i);Array.isArray(u)&&(u=u.map(c=>Yq(c))),y(n,["request","contents"],u)}const a=g(e,["metadata"]);a!=null&&y(n,["metadata"],a);const s=g(e,["config"]);return s!=null&&y(n,["request","generationConfig"],Zae(t,s,g(n,["request"],{}))),n}function soe(t){const e={},n=g(t,["response"]);n!=null&&y(e,["response"],eoe(n));const r=g(t,["error"]);return r!=null&&y(e,["error"],r),e}function loe(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);if(e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),g(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function uoe(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);e!==void 0&&i!=null&&y(e,["_query","pageToken"],i);const a=g(t,["filter"]);return e!==void 0&&a!=null&&y(e,["_query","filter"],a),n}function coe(t){const e={},n=g(t,["config"]);return n!=null&&loe(n,e),e}function foe(t){const e={},n=g(t,["config"]);return n!=null&&uoe(n,e),e}function doe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>jd(s))),y(e,["batchJobs"],a)}return e}function hoe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Tw(s))),y(e,["batchJobs"],a)}return e}function poe(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const a=g(t,["fileData"]);a!=null&&y(e,["fileData"],Jae(a));const s=g(t,["functionCall"]);s!=null&&y(e,["functionCall"],Xae(s));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const c=g(t,["inlineData"]);c!=null&&y(e,["inlineData"],Iae(c));const f=g(t,["text"]);f!=null&&y(e,["text"],f);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const v=g(t,["videoMetadata"]);return v!=null&&y(e,["videoMetadata"],v),e}function moe(t){const e={},n=g(t,["category"]);if(n!=null&&y(e,["category"],n),g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(t,["threshold"]);return r!=null&&y(e,["threshold"],r),e}function goe(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],Qae(n));const r=g(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function voe(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const a=g(t,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const s=g(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],roe(u));const c=g(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],ioe(c));const f=g(t,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ri;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Ri||(Ri={}));class go{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yoe extends Di{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new go(Ri.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=h2(this.apiClient,e),r=n._url,i=he("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,c=u.requests,f=[];for(const h of c){const m=Object.assign({},h);if(m.systemInstruction){const v=m.systemInstruction;delete m.systemInstruction;const _=m.request;_.systemInstruction=v,m.request=_}f.push(m)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),s=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Bae(this.apiClient,e);return u=he("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Tw(h))}else{const f=h2(this.apiClient,e);return u=he("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>jd(h))}}async createEmbeddingsInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Hae(this.apiClient,e);return a=he("{model}:asyncBatchEmbedContent",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>jd(c))}}async get(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=noe(this.apiClient,e);return u=he("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Tw(h))}else{const f=toe(this.apiClient,e);return u=he("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>jd(h))}}async cancel(e){var n,r,i,a;let s="",u={};if(this.apiClient.isVertexAI()){const c=kae(this.apiClient,e);s=he("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=Dae(this.apiClient,e);s=he("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=foe(e);return u=he("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=hoe(h),v=new u2;return Object.assign(v,m),v})}else{const f=coe(e);return u=he("batches",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=doe(h),v=new u2;return Object.assign(v,m),v})}}async delete(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Vae(this.apiClient,e);return u=he("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>Fae(h))}else{const f=Gae(this.apiClient,e);return u=he("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>zae(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function boe(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function p2(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Hoe(a))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function _oe(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=g(t,["expireTime"]);e!==void 0&&i!=null&&y(e,["expireTime"],i);const a=g(t,["displayName"]);e!==void 0&&a!=null&&y(e,["displayName"],a);const s=g(t,["contents"]);if(e!==void 0&&s!=null){let h=sr(s);Array.isArray(h)&&(h=h.map(m=>p2(m))),y(e,["contents"],h)}const u=g(t,["systemInstruction"]);e!==void 0&&u!=null&&y(e,["systemInstruction"],p2(cn(u)));const c=g(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>Voe(m))),y(e,["tools"],h)}const f=g(t,["toolConfig"]);if(e!==void 0&&f!=null&&y(e,["toolConfig"],Goe(f)),g(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Soe(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=g(t,["expireTime"]);e!==void 0&&i!=null&&y(e,["expireTime"],i);const a=g(t,["displayName"]);e!==void 0&&a!=null&&y(e,["displayName"],a);const s=g(t,["contents"]);if(e!==void 0&&s!=null){let m=sr(s);Array.isArray(m)&&(m=m.map(v=>v)),y(e,["contents"],m)}const u=g(t,["systemInstruction"]);e!==void 0&&u!=null&&y(e,["systemInstruction"],cn(u));const c=g(t,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(v=>zoe(v))),y(e,["tools"],m)}const f=g(t,["toolConfig"]);e!==void 0&&f!=null&&y(e,["toolConfig"],f);const h=g(t,["kmsKeyName"]);return e!==void 0&&h!=null&&y(e,["encryption_spec","kmsKeyName"],h),n}function woe(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["model"],Lq(t,r));const i=g(e,["config"]);return i!=null&&_oe(i,n),n}function xoe(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["model"],Lq(t,r));const i=g(e,["config"]);return i!=null&&Soe(i,n),n}function Eoe(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],ki(t,r)),n}function Toe(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],ki(t,r)),n}function Aoe(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function Coe(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function Roe(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Ooe(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Moe(t){const e={},n=g(t,["mode"]);n!=null&&y(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Noe(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&y(e,["description"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["parameters"]);i!=null&&y(e,["parameters"],i);const a=g(t,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const s=g(t,["response"]);s!=null&&y(e,["response"],s);const u=g(t,["responseJsonSchema"]);return u!=null&&y(e,["responseJsonSchema"],u),e}function Poe(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],ki(t,r)),n}function Ioe(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],ki(t,r)),n}function Doe(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function koe(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function Uoe(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function Loe(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function $oe(t){const e={},n=g(t,["config"]);return n!=null&&Uoe(n,e),e}function qoe(t){const e={},n=g(t,["config"]);return n!=null&&Loe(n,e),e}function Boe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["cachedContents"],a)}return e}function joe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["cachedContents"],a)}return e}function Hoe(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const a=g(t,["fileData"]);a!=null&&y(e,["fileData"],Roe(a));const s=g(t,["functionCall"]);s!=null&&y(e,["functionCall"],Ooe(s));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const c=g(t,["inlineData"]);c!=null&&y(e,["inlineData"],boe(c));const f=g(t,["text"]);f!=null&&y(e,["text"],f);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const v=g(t,["videoMetadata"]);return v!=null&&y(e,["videoMetadata"],v),e}function Goe(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],Moe(n));const r=g(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function Voe(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const a=g(t,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const s=g(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],Doe(u));const c=g(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],koe(c));const f=g(t,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}function zoe(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>Noe(v))),y(e,["functionDeclarations"],m)}const r=g(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const a=g(t,["computerUse"]);if(a!=null&&y(e,["computerUse"],a),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=g(t,["codeExecution"]);s!=null&&y(e,["codeExecution"],s);const u=g(t,["enterpriseWebSearch"]);u!=null&&y(e,["enterpriseWebSearch"],u);const c=g(t,["googleMaps"]);c!=null&&y(e,["googleMaps"],c);const f=g(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],f);const h=g(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function Foe(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=g(t,["expireTime"]);return e!==void 0&&i!=null&&y(e,["expireTime"],i),n}function Koe(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=g(t,["expireTime"]);return e!==void 0&&i!=null&&y(e,["expireTime"],i),n}function Woe(t,e){const n={},r=g(e,["name"]);r!=null&&y(n,["_url","name"],ki(t,r));const i=g(e,["config"]);return i!=null&&Foe(i,n),n}function Yoe(t,e){const n={},r=g(e,["name"]);r!=null&&y(n,["_url","name"],ki(t,r));const i=g(e,["config"]);return i!=null&&Koe(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Joe extends Di{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new go(Ri.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=xoe(this.apiClient,e);return u=he("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=woe(this.apiClient,e);return u=he("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Ioe(this.apiClient,e);return u=he("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=Poe(this.apiClient,e);return u=he("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Toe(this.apiClient,e);return u=he("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=Coe(h),v=new s2;return Object.assign(v,m),v})}else{const f=Eoe(this.apiClient,e);return u=he("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=Aoe(h),v=new s2;return Object.assign(v,m),v})}}async update(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Yoe(this.apiClient,e);return u=he("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=Woe(this.apiClient,e);return u=he("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=qoe(e);return u=he("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=joe(h),v=new l2;return Object.assign(v,m),v})}else{const f=$oe(e);return u=he("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=Boe(h),v=new l2;return Object.assign(v,m),v})}}}function Yh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function m2(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ce(t){return this instanceof Ce?(this.v=t,this):new Ce(t)}function Ar(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(_){return function(x){return Promise.resolve(x).then(_,m)}}function u(_,x){r[_]&&(i[_]=function(E){return new Promise(function(w,T){a.push([_,E,w,T])>1||c(_,E)})},x&&(i[_]=x(i[_])))}function c(_,x){try{f(r[_](x))}catch(E){v(a[0][3],E)}}function f(_){_.value instanceof Ce?Promise.resolve(_.value.v).then(h,m):v(a[0][2],_)}function h(_){c("next",_)}function m(_){c("throw",_)}function v(_,x){_(x),a.shift(),a.length&&c(a[0][0],a[0][1])}}function Cr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof m2=="function"?m2(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(s){return new Promise(function(u,c){s=t[a](s),i(u,c,s.done,s.value)})}}function i(a,s,u,c){Promise.resolve(c).then(function(f){a({value:f,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xoe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Jq(n)}function Jq(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Qoe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function g2(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!Jq(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class Zoe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new ese(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class ese{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),Qoe(a)}async sendMessage(e){var n;await this.sendPromise;const r=cn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,s,u;const c=await i,f=(s=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,h=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let v=[];h!=null&&(v=(u=h.slice(m))!==null&&u!==void 0?u:[]);const _=f?[f]:[];this.recordHistory(r,_,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=cn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?g2(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Ar(this,arguments,function*(){var i,a,s,u,c,f;const h=[];try{for(var m=!0,v=Cr(e),_;_=yield Ce(v.next()),i=_.done,!i;m=!0){u=_.value,m=!1;const x=u;if(Xoe(x)){const E=(f=(c=x.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content;E!==void 0&&h.push(E)}yield yield Ce(x)}}catch(x){a={error:x}}finally{try{!m&&!i&&(s=v.return)&&(yield Ce(s.call(v)))}finally{if(a)throw a.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...g2(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bp extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Bp.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tse(t){const e={},n=g(t,["file"]);return n!=null&&y(e,["file"],n),e}function nse(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function rse(t){const e={},n=g(t,["name"]);return n!=null&&y(e,["_url","file"],Gq(n)),e}function ise(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function ase(t){const e={},n=g(t,["name"]);return n!=null&&y(e,["_url","file"],Gq(n)),e}function ose(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function sse(t){const e={},n=g(t,["config"]);return n!=null&&ose(n,e),e}function lse(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class use extends Di{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new go(Ri.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=sse(e);return a=he("files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=lse(c),h=new hae;return Object.assign(h,f),h})}}async createInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=tse(e);return a=he("upload/v1beta/files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=nse(c),h=new pae;return Object.assign(h,f),h})}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ase(e);return a=he("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=rse(e);return a=he("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=ise(c),h=new mae;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hd(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function cse(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Ase(a))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function fse(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function dse(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function hse(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&y(e,["description"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["parameters"]);i!=null&&y(e,["parameters"],i);const a=g(t,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const s=g(t,["response"]);s!=null&&y(e,["response"],s);const u=g(t,["responseJsonSchema"]);return u!=null&&y(e,["responseJsonSchema"],u),e}function pse(t){const e={},n=g(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const r=g(t,["responseJsonSchema"]);r!=null&&y(e,["responseJsonSchema"],r);const i=g(t,["audioTimestamp"]);i!=null&&y(e,["audioTimestamp"],i);const a=g(t,["candidateCount"]);a!=null&&y(e,["candidateCount"],a);const s=g(t,["enableAffectiveDialog"]);s!=null&&y(e,["enableAffectiveDialog"],s);const u=g(t,["frequencyPenalty"]);u!=null&&y(e,["frequencyPenalty"],u);const c=g(t,["logprobs"]);c!=null&&y(e,["logprobs"],c);const f=g(t,["maxOutputTokens"]);f!=null&&y(e,["maxOutputTokens"],f);const h=g(t,["mediaResolution"]);h!=null&&y(e,["mediaResolution"],h);const m=g(t,["presencePenalty"]);m!=null&&y(e,["presencePenalty"],m);const v=g(t,["responseLogprobs"]);v!=null&&y(e,["responseLogprobs"],v);const _=g(t,["responseMimeType"]);_!=null&&y(e,["responseMimeType"],_);const x=g(t,["responseModalities"]);x!=null&&y(e,["responseModalities"],x);const E=g(t,["responseSchema"]);E!=null&&y(e,["responseSchema"],E);const w=g(t,["routingConfig"]);w!=null&&y(e,["routingConfig"],w);const T=g(t,["seed"]);T!=null&&y(e,["seed"],T);const C=g(t,["speechConfig"]);C!=null&&y(e,["speechConfig"],C);const A=g(t,["stopSequences"]);A!=null&&y(e,["stopSequences"],A);const P=g(t,["temperature"]);P!=null&&y(e,["temperature"],P);const R=g(t,["thinkingConfig"]);R!=null&&y(e,["thinkingConfig"],R);const M=g(t,["topK"]);M!=null&&y(e,["topK"],M);const I=g(t,["topP"]);if(I!=null&&y(e,["topP"],I),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function mse(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function gse(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function vse(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],r);const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const a=g(t,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const s=g(t,["topP"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","topP"],s);const u=g(t,["topK"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topK"],u);const c=g(t,["maxOutputTokens"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","maxOutputTokens"],c);const f=g(t,["mediaResolution"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","mediaResolution"],f);const h=g(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&y(e,["setup","generationConfig","speechConfig"],sE(m));const v=g(t,["thinkingConfig"]);e!==void 0&&v!=null&&y(e,["setup","generationConfig","thinkingConfig"],v);const _=g(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],_);const x=g(t,["systemInstruction"]);e!==void 0&&x!=null&&y(e,["setup","systemInstruction"],cse(cn(x)));const E=g(t,["tools"]);if(e!==void 0&&E!=null){let M=ll(E);Array.isArray(M)&&(M=M.map(I=>Rse(sl(I)))),y(e,["setup","tools"],M)}const w=g(t,["sessionResumption"]);e!==void 0&&w!=null&&y(e,["setup","sessionResumption"],Cse(w));const T=g(t,["inputAudioTranscription"]);e!==void 0&&T!=null&&y(e,["setup","inputAudioTranscription"],T);const C=g(t,["outputAudioTranscription"]);e!==void 0&&C!=null&&y(e,["setup","outputAudioTranscription"],C);const A=g(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&y(e,["setup","realtimeInputConfig"],A);const P=g(t,["contextWindowCompression"]);e!==void 0&&P!=null&&y(e,["setup","contextWindowCompression"],P);const R=g(t,["proactivity"]);if(e!==void 0&&R!=null&&y(e,["setup","proactivity"],R),g(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function yse(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],pse(r));const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const a=g(t,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const s=g(t,["topP"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","topP"],s);const u=g(t,["topK"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topK"],u);const c=g(t,["maxOutputTokens"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","maxOutputTokens"],c);const f=g(t,["mediaResolution"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","mediaResolution"],f);const h=g(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&y(e,["setup","generationConfig","speechConfig"],sE(m));const v=g(t,["thinkingConfig"]);e!==void 0&&v!=null&&y(e,["setup","generationConfig","thinkingConfig"],v);const _=g(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],_);const x=g(t,["systemInstruction"]);e!==void 0&&x!=null&&y(e,["setup","systemInstruction"],cn(x));const E=g(t,["tools"]);if(e!==void 0&&E!=null){let I=ll(E);Array.isArray(I)&&(I=I.map(k=>Ose(sl(k)))),y(e,["setup","tools"],I)}const w=g(t,["sessionResumption"]);e!==void 0&&w!=null&&y(e,["setup","sessionResumption"],w);const T=g(t,["inputAudioTranscription"]);e!==void 0&&T!=null&&y(e,["setup","inputAudioTranscription"],T);const C=g(t,["outputAudioTranscription"]);e!==void 0&&C!=null&&y(e,["setup","outputAudioTranscription"],C);const A=g(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&y(e,["setup","realtimeInputConfig"],A);const P=g(t,["contextWindowCompression"]);e!==void 0&&P!=null&&y(e,["setup","contextWindowCompression"],P);const R=g(t,["proactivity"]);e!==void 0&&R!=null&&y(e,["setup","proactivity"],R);const M=g(t,["explicitVadSignal"]);return e!==void 0&&M!=null&&y(e,["setup","explicitVadSignal"],M),n}function bse(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["setup","model"],Ke(t,r));const i=g(e,["config"]);return i!=null&&y(n,["config"],vse(i,n)),n}function _se(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["setup","model"],Ke(t,r));const i=g(e,["config"]);return i!=null&&y(n,["config"],yse(i,n)),n}function Sse(t){const e={},n=g(t,["musicGenerationConfig"]);return n!=null&&y(e,["musicGenerationConfig"],n),e}function wse(t){const e={},n=g(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["weightedPrompts"],r)}return e}function xse(t){const e={},n=g(t,["media"]);if(n!=null){let f=$q(n);Array.isArray(f)&&(f=f.map(h=>Hd(h))),y(e,["mediaChunks"],f)}const r=g(t,["audio"]);r!=null&&y(e,["audio"],Hd(Bq(r)));const i=g(t,["audioStreamEnd"]);i!=null&&y(e,["audioStreamEnd"],i);const a=g(t,["video"]);a!=null&&y(e,["video"],Hd(qq(a)));const s=g(t,["text"]);s!=null&&y(e,["text"],s);const u=g(t,["activityStart"]);u!=null&&y(e,["activityStart"],u);const c=g(t,["activityEnd"]);return c!=null&&y(e,["activityEnd"],c),e}function Ese(t){const e={},n=g(t,["media"]);if(n!=null){let f=$q(n);Array.isArray(f)&&(f=f.map(h=>h)),y(e,["mediaChunks"],f)}const r=g(t,["audio"]);r!=null&&y(e,["audio"],Bq(r));const i=g(t,["audioStreamEnd"]);i!=null&&y(e,["audioStreamEnd"],i);const a=g(t,["video"]);a!=null&&y(e,["video"],qq(a));const s=g(t,["text"]);s!=null&&y(e,["text"],s);const u=g(t,["activityStart"]);u!=null&&y(e,["activityStart"],u);const c=g(t,["activityEnd"]);return c!=null&&y(e,["activityEnd"],c),e}function Tse(t){const e={},n=g(t,["setupComplete"]);n!=null&&y(e,["setupComplete"],n);const r=g(t,["serverContent"]);r!=null&&y(e,["serverContent"],r);const i=g(t,["toolCall"]);i!=null&&y(e,["toolCall"],i);const a=g(t,["toolCallCancellation"]);a!=null&&y(e,["toolCallCancellation"],a);const s=g(t,["usageMetadata"]);s!=null&&y(e,["usageMetadata"],Mse(s));const u=g(t,["goAway"]);u!=null&&y(e,["goAway"],u);const c=g(t,["sessionResumptionUpdate"]);c!=null&&y(e,["sessionResumptionUpdate"],c);const f=g(t,["voiceActivityDetectionSignal"]);return f!=null&&y(e,["voiceActivityDetectionSignal"],f),e}function Ase(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const a=g(t,["fileData"]);a!=null&&y(e,["fileData"],fse(a));const s=g(t,["functionCall"]);s!=null&&y(e,["functionCall"],dse(s));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const c=g(t,["inlineData"]);c!=null&&y(e,["inlineData"],Hd(c));const f=g(t,["text"]);f!=null&&y(e,["text"],f);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const v=g(t,["videoMetadata"]);return v!=null&&y(e,["videoMetadata"],v),e}function Cse(t){const e={},n=g(t,["handle"]);if(n!=null&&y(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Rse(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const a=g(t,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const s=g(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],mse(u));const c=g(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],gse(c));const f=g(t,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}function Ose(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>hse(v))),y(e,["functionDeclarations"],m)}const r=g(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const a=g(t,["computerUse"]);if(a!=null&&y(e,["computerUse"],a),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=g(t,["codeExecution"]);s!=null&&y(e,["codeExecution"],s);const u=g(t,["enterpriseWebSearch"]);u!=null&&y(e,["enterpriseWebSearch"],u);const c=g(t,["googleMaps"]);c!=null&&y(e,["googleMaps"],c);const f=g(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],f);const h=g(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function Mse(t){const e={},n=g(t,["promptTokenCount"]);n!=null&&y(e,["promptTokenCount"],n);const r=g(t,["cachedContentTokenCount"]);r!=null&&y(e,["cachedContentTokenCount"],r);const i=g(t,["candidatesTokenCount"]);i!=null&&y(e,["responseTokenCount"],i);const a=g(t,["toolUsePromptTokenCount"]);a!=null&&y(e,["toolUsePromptTokenCount"],a);const s=g(t,["thoughtsTokenCount"]);s!=null&&y(e,["thoughtsTokenCount"],s);const u=g(t,["totalTokenCount"]);u!=null&&y(e,["totalTokenCount"],u);const c=g(t,["promptTokensDetails"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(x=>x)),y(e,["promptTokensDetails"],_)}const f=g(t,["cacheTokensDetails"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(x=>x)),y(e,["cacheTokensDetails"],_)}const h=g(t,["candidatesTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(x=>x)),y(e,["responseTokensDetails"],_)}const m=g(t,["toolUsePromptTokensDetails"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(x=>x)),y(e,["toolUsePromptTokensDetails"],_)}const v=g(t,["trafficType"]);return v!=null&&y(e,["trafficType"],v),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nse(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Pse(t){const e={},n=g(t,["content"]);n!=null&&y(e,["content"],n);const r=g(t,["citationMetadata"]);r!=null&&y(e,["citationMetadata"],Ise(r));const i=g(t,["tokenCount"]);i!=null&&y(e,["tokenCount"],i);const a=g(t,["finishReason"]);a!=null&&y(e,["finishReason"],a);const s=g(t,["avgLogprobs"]);s!=null&&y(e,["avgLogprobs"],s);const u=g(t,["groundingMetadata"]);u!=null&&y(e,["groundingMetadata"],u);const c=g(t,["index"]);c!=null&&y(e,["index"],c);const f=g(t,["logprobsResult"]);f!=null&&y(e,["logprobsResult"],f);const h=g(t,["safetyRatings"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(_=>_)),y(e,["safetyRatings"],v)}const m=g(t,["urlContextMetadata"]);return m!=null&&y(e,["urlContextMetadata"],m),e}function Ise(t){const e={},n=g(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["citations"],r)}return e}function Dse(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],Ke(t,r));const i=g(e,["contents"]);if(i!=null){let a=sr(i);Array.isArray(a)&&(a=a.map(s=>s)),y(n,["contents"],a)}return n}function kse(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(e,["tokensInfo"],i)}return e}function Use(t){const e={},n=g(t,["values"]);n!=null&&y(e,["values"],n);const r=g(t,["statistics"]);return r!=null&&y(e,["statistics"],Lse(r)),e}function Lse(t){const e={},n=g(t,["truncated"]);n!=null&&y(e,["truncated"],n);const r=g(t,["token_count"]);return r!=null&&y(e,["tokenCount"],r),e}function jp(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Fle(a))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function $se(t){const e={},n=g(t,["controlType"]);n!=null&&y(e,["controlType"],n);const r=g(t,["enableControlImageComputation"]);return r!=null&&y(e,["computeControl"],r),e}function qse(t){const e={};if(g(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Bse(t,e){const n={},r=g(t,["systemInstruction"]);e!==void 0&&r!=null&&y(e,["systemInstruction"],cn(r));const i=g(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>eB(u))),y(e,["tools"],s)}const a=g(t,["generationConfig"]);return e!==void 0&&a!=null&&y(e,["generationConfig"],Nle(a)),n}function jse(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],Ke(t,r));const i=g(e,["contents"]);if(i!=null){let s=sr(i);Array.isArray(s)&&(s=s.map(u=>jp(u))),y(n,["contents"],s)}const a=g(e,["config"]);return a!=null&&qse(a),n}function Hse(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],Ke(t,r));const i=g(e,["contents"]);if(i!=null){let s=sr(i);Array.isArray(s)&&(s=s.map(u=>u)),y(n,["contents"],s)}const a=g(e,["config"]);return a!=null&&Bse(a,n),n}function Gse(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["totalTokens"]);r!=null&&y(e,["totalTokens"],r);const i=g(t,["cachedContentTokenCount"]);return i!=null&&y(e,["cachedContentTokenCount"],i),e}function Vse(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["totalTokens"]);return r!=null&&y(e,["totalTokens"],r),e}function zse(t,e){const n={},r=g(e,["model"]);return r!=null&&y(n,["_url","name"],Ke(t,r)),n}function Fse(t,e){const n={},r=g(e,["model"]);return r!=null&&y(n,["_url","name"],Ke(t,r)),n}function Kse(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function Wse(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function Yse(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=g(t,["negativePrompt"]);e!==void 0&&i!=null&&y(e,["parameters","negativePrompt"],i);const a=g(t,["numberOfImages"]);e!==void 0&&a!=null&&y(e,["parameters","sampleCount"],a);const s=g(t,["aspectRatio"]);e!==void 0&&s!=null&&y(e,["parameters","aspectRatio"],s);const u=g(t,["guidanceScale"]);e!==void 0&&u!=null&&y(e,["parameters","guidanceScale"],u);const c=g(t,["seed"]);e!==void 0&&c!=null&&y(e,["parameters","seed"],c);const f=g(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&y(e,["parameters","safetySetting"],f);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const m=g(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&y(e,["parameters","includeSafetyAttributes"],m);const v=g(t,["includeRaiReason"]);e!==void 0&&v!=null&&y(e,["parameters","includeRaiReason"],v);const _=g(t,["language"]);e!==void 0&&_!=null&&y(e,["parameters","language"],_);const x=g(t,["outputMimeType"]);e!==void 0&&x!=null&&y(e,["parameters","outputOptions","mimeType"],x);const E=g(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&y(e,["parameters","outputOptions","compressionQuality"],E);const w=g(t,["addWatermark"]);e!==void 0&&w!=null&&y(e,["parameters","addWatermark"],w);const T=g(t,["labels"]);e!==void 0&&T!=null&&y(e,["labels"],T);const C=g(t,["editMode"]);e!==void 0&&C!=null&&y(e,["parameters","editMode"],C);const A=g(t,["baseSteps"]);return e!==void 0&&A!=null&&y(e,["parameters","editConfig","baseSteps"],A),n}function Jse(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],Ke(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=g(e,["referenceImages"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>Qle(c))),y(n,["instances[0]","referenceImages"],u)}const s=g(e,["config"]);return s!=null&&Yse(s,n),n}function Xse(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Hp(a))),y(e,["generatedImages"],i)}return e}function Qse(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&y(e,["requests[]","taskType"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&y(e,["requests[]","title"],i);const a=g(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&y(e,["requests[]","outputDimensionality"],a),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Zse(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&y(e,["instances[]","task_type"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&y(e,["instances[]","title"],i);const a=g(t,["outputDimensionality"]);e!==void 0&&a!=null&&y(e,["parameters","outputDimensionality"],a);const s=g(t,["mimeType"]);e!==void 0&&s!=null&&y(e,["instances[]","mimeType"],s);const u=g(t,["autoTruncate"]);return e!==void 0&&u!=null&&y(e,["parameters","autoTruncate"],u),n}function ele(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],Ke(t,r));const i=g(e,["contents"]);if(i!=null){let u=iE(t,i);Array.isArray(u)&&(u=u.map(c=>c)),y(n,["requests[]","content"],u)}const a=g(e,["config"]);a!=null&&Qse(a,n);const s=g(e,["model"]);return s!==void 0&&y(n,["requests[]","model"],Ke(t,s)),n}function tle(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],Ke(t,r));const i=g(e,["contents"]);if(i!=null){let s=iE(t,i);Array.isArray(s)&&(s=s.map(u=>u)),y(n,["instances[]","content"],s)}const a=g(e,["config"]);return a!=null&&Zse(a,n),n}function nle(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["embeddings"],a)}const i=g(t,["metadata"]);return i!=null&&y(e,["metadata"],i),e}function rle(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Use(s))),y(e,["embeddings"],a)}const i=g(t,["metadata"]);return i!=null&&y(e,["metadata"],i),e}function ile(t){const e={},n=g(t,["endpoint"]);n!=null&&y(e,["name"],n);const r=g(t,["deployedModelId"]);return r!=null&&y(e,["deployedModelId"],r),e}function ale(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function ole(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sle(t){const e={},n=g(t,["mode"]);n!=null&&y(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function lle(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&y(e,["description"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["parameters"]);i!=null&&y(e,["parameters"],i);const a=g(t,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const s=g(t,["response"]);s!=null&&y(e,["response"],s);const u=g(t,["responseJsonSchema"]);return u!=null&&y(e,["responseJsonSchema"],u),e}function ule(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],jp(cn(i)));const a=g(e,["temperature"]);a!=null&&y(r,["temperature"],a);const s=g(e,["topP"]);s!=null&&y(r,["topP"],s);const u=g(e,["topK"]);u!=null&&y(r,["topK"],u);const c=g(e,["candidateCount"]);c!=null&&y(r,["candidateCount"],c);const f=g(e,["maxOutputTokens"]);f!=null&&y(r,["maxOutputTokens"],f);const h=g(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const v=g(e,["logprobs"]);v!=null&&y(r,["logprobs"],v);const _=g(e,["presencePenalty"]);_!=null&&y(r,["presencePenalty"],_);const x=g(e,["frequencyPenalty"]);x!=null&&y(r,["frequencyPenalty"],x);const E=g(e,["seed"]);E!=null&&y(r,["seed"],E);const w=g(e,["responseMimeType"]);w!=null&&y(r,["responseMimeType"],w);const T=g(e,["responseSchema"]);T!=null&&y(r,["responseSchema"],aE(T));const C=g(e,["responseJsonSchema"]);if(C!=null&&y(r,["responseJsonSchema"],C),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=g(e,["safetySettings"]);if(n!==void 0&&A!=null){let z=A;Array.isArray(z)&&(z=z.map(Q=>Zle(Q))),y(n,["safetySettings"],z)}const P=g(e,["tools"]);if(n!==void 0&&P!=null){let z=ll(P);Array.isArray(z)&&(z=z.map(Q=>oue(sl(Q)))),y(n,["tools"],z)}const R=g(e,["toolConfig"]);if(n!==void 0&&R!=null&&y(n,["toolConfig"],aue(R)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=g(e,["cachedContent"]);n!==void 0&&M!=null&&y(n,["cachedContent"],ki(t,M));const I=g(e,["responseModalities"]);I!=null&&y(r,["responseModalities"],I);const k=g(e,["mediaResolution"]);k!=null&&y(r,["mediaResolution"],k);const U=g(e,["speechConfig"]);if(U!=null&&y(r,["speechConfig"],oE(U)),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=g(e,["thinkingConfig"]);V!=null&&y(r,["thinkingConfig"],V);const $=g(e,["imageConfig"]);$!=null&&y(r,["imageConfig"],Ule($));const F=g(e,["enableEnhancedCivicAnswers"]);return F!=null&&y(r,["enableEnhancedCivicAnswers"],F),r}function cle(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],cn(i));const a=g(e,["temperature"]);a!=null&&y(r,["temperature"],a);const s=g(e,["topP"]);s!=null&&y(r,["topP"],s);const u=g(e,["topK"]);u!=null&&y(r,["topK"],u);const c=g(e,["candidateCount"]);c!=null&&y(r,["candidateCount"],c);const f=g(e,["maxOutputTokens"]);f!=null&&y(r,["maxOutputTokens"],f);const h=g(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const v=g(e,["logprobs"]);v!=null&&y(r,["logprobs"],v);const _=g(e,["presencePenalty"]);_!=null&&y(r,["presencePenalty"],_);const x=g(e,["frequencyPenalty"]);x!=null&&y(r,["frequencyPenalty"],x);const E=g(e,["seed"]);E!=null&&y(r,["seed"],E);const w=g(e,["responseMimeType"]);w!=null&&y(r,["responseMimeType"],w);const T=g(e,["responseSchema"]);T!=null&&y(r,["responseSchema"],aE(T));const C=g(e,["responseJsonSchema"]);C!=null&&y(r,["responseJsonSchema"],C);const A=g(e,["routingConfig"]);A!=null&&y(r,["routingConfig"],A);const P=g(e,["modelSelectionConfig"]);P!=null&&y(r,["modelConfig"],P);const R=g(e,["safetySettings"]);if(n!==void 0&&R!=null){let L=R;Array.isArray(L)&&(L=L.map(W=>W)),y(n,["safetySettings"],L)}const M=g(e,["tools"]);if(n!==void 0&&M!=null){let L=ll(M);Array.isArray(L)&&(L=L.map(W=>eB(sl(W)))),y(n,["tools"],L)}const I=g(e,["toolConfig"]);n!==void 0&&I!=null&&y(n,["toolConfig"],I);const k=g(e,["labels"]);n!==void 0&&k!=null&&y(n,["labels"],k);const U=g(e,["cachedContent"]);n!==void 0&&U!=null&&y(n,["cachedContent"],ki(t,U));const V=g(e,["responseModalities"]);V!=null&&y(r,["responseModalities"],V);const $=g(e,["mediaResolution"]);$!=null&&y(r,["mediaResolution"],$);const F=g(e,["speechConfig"]);F!=null&&y(r,["speechConfig"],oE(F));const z=g(e,["audioTimestamp"]);z!=null&&y(r,["audioTimestamp"],z);const Q=g(e,["thinkingConfig"]);Q!=null&&y(r,["thinkingConfig"],Q);const H=g(e,["imageConfig"]);if(H!=null&&y(r,["imageConfig"],Lle(H)),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function v2(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],Ke(t,r));const i=g(e,["contents"]);if(i!=null){let s=sr(i);Array.isArray(s)&&(s=s.map(u=>jp(u))),y(n,["contents"],s)}const a=g(e,["config"]);return a!=null&&y(n,["generationConfig"],ule(t,a,n)),n}function y2(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],Ke(t,r));const i=g(e,["contents"]);if(i!=null){let s=sr(i);Array.isArray(s)&&(s=s.map(u=>u)),y(n,["contents"],s)}const a=g(e,["config"]);return a!=null&&y(n,["generationConfig"],cle(t,a,n)),n}function b2(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>Pse(f))),y(e,["candidates"],c)}const i=g(t,["modelVersion"]);i!=null&&y(e,["modelVersion"],i);const a=g(t,["promptFeedback"]);a!=null&&y(e,["promptFeedback"],a);const s=g(t,["responseId"]);s!=null&&y(e,["responseId"],s);const u=g(t,["usageMetadata"]);return u!=null&&y(e,["usageMetadata"],u),e}function _2(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),y(e,["candidates"],f)}const i=g(t,["createTime"]);i!=null&&y(e,["createTime"],i);const a=g(t,["modelVersion"]);a!=null&&y(e,["modelVersion"],a);const s=g(t,["promptFeedback"]);s!=null&&y(e,["promptFeedback"],s);const u=g(t,["responseId"]);u!=null&&y(e,["responseId"],u);const c=g(t,["usageMetadata"]);return c!=null&&y(e,["usageMetadata"],c),e}function fle(t,e){const n={};if(g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=g(t,["numberOfImages"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=g(t,["aspectRatio"]);e!==void 0&&i!=null&&y(e,["parameters","aspectRatio"],i);const a=g(t,["guidanceScale"]);if(e!==void 0&&a!=null&&y(e,["parameters","guidanceScale"],a),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=g(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&y(e,["parameters","safetySetting"],s);const u=g(t,["personGeneration"]);e!==void 0&&u!=null&&y(e,["parameters","personGeneration"],u);const c=g(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&y(e,["parameters","includeSafetyAttributes"],c);const f=g(t,["includeRaiReason"]);e!==void 0&&f!=null&&y(e,["parameters","includeRaiReason"],f);const h=g(t,["language"]);e!==void 0&&h!=null&&y(e,["parameters","language"],h);const m=g(t,["outputMimeType"]);e!==void 0&&m!=null&&y(e,["parameters","outputOptions","mimeType"],m);const v=g(t,["outputCompressionQuality"]);if(e!==void 0&&v!=null&&y(e,["parameters","outputOptions","compressionQuality"],v),g(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=g(t,["imageSize"]);if(e!==void 0&&_!=null&&y(e,["parameters","sampleImageSize"],_),g(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function dle(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=g(t,["negativePrompt"]);e!==void 0&&i!=null&&y(e,["parameters","negativePrompt"],i);const a=g(t,["numberOfImages"]);e!==void 0&&a!=null&&y(e,["parameters","sampleCount"],a);const s=g(t,["aspectRatio"]);e!==void 0&&s!=null&&y(e,["parameters","aspectRatio"],s);const u=g(t,["guidanceScale"]);e!==void 0&&u!=null&&y(e,["parameters","guidanceScale"],u);const c=g(t,["seed"]);e!==void 0&&c!=null&&y(e,["parameters","seed"],c);const f=g(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&y(e,["parameters","safetySetting"],f);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const m=g(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&y(e,["parameters","includeSafetyAttributes"],m);const v=g(t,["includeRaiReason"]);e!==void 0&&v!=null&&y(e,["parameters","includeRaiReason"],v);const _=g(t,["language"]);e!==void 0&&_!=null&&y(e,["parameters","language"],_);const x=g(t,["outputMimeType"]);e!==void 0&&x!=null&&y(e,["parameters","outputOptions","mimeType"],x);const E=g(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&y(e,["parameters","outputOptions","compressionQuality"],E);const w=g(t,["addWatermark"]);e!==void 0&&w!=null&&y(e,["parameters","addWatermark"],w);const T=g(t,["labels"]);e!==void 0&&T!=null&&y(e,["labels"],T);const C=g(t,["imageSize"]);e!==void 0&&C!=null&&y(e,["parameters","sampleImageSize"],C);const A=g(t,["enhancePrompt"]);return e!==void 0&&A!=null&&y(e,["parameters","enhancePrompt"],A),n}function hle(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],Ke(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=g(e,["config"]);return a!=null&&fle(a,n),n}function ple(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],Ke(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=g(e,["config"]);return a!=null&&dle(a,n),n}function mle(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Cle(s))),y(e,["generatedImages"],a)}const i=g(t,["positivePromptSafetyAttributes"]);return i!=null&&y(e,["positivePromptSafetyAttributes"],Qq(i)),e}function gle(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Hp(s))),y(e,["generatedImages"],a)}const i=g(t,["positivePromptSafetyAttributes"]);return i!=null&&y(e,["positivePromptSafetyAttributes"],Zq(i)),e}function vle(t,e){const n={},r=g(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r),g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=g(t,["durationSeconds"]);if(e!==void 0&&i!=null&&y(e,["parameters","durationSeconds"],i),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=g(t,["aspectRatio"]);e!==void 0&&a!=null&&y(e,["parameters","aspectRatio"],a);const s=g(t,["resolution"]);e!==void 0&&s!=null&&y(e,["parameters","resolution"],s);const u=g(t,["personGeneration"]);if(e!==void 0&&u!=null&&y(e,["parameters","personGeneration"],u),g(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=g(t,["negativePrompt"]);e!==void 0&&c!=null&&y(e,["parameters","negativePrompt"],c);const f=g(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&y(e,["parameters","enhancePrompt"],f),g(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=g(t,["lastFrame"]);e!==void 0&&h!=null&&y(e,["instances[0]","lastFrame"],Gp(h));const m=g(t,["referenceImages"]);if(e!==void 0&&m!=null){let v=m;Array.isArray(v)&&(v=v.map(_=>bue(_))),y(e,["instances[0]","referenceImages"],v)}if(g(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(g(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function yle(t,e){const n={},r=g(t,["numberOfVideos"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=g(t,["outputGcsUri"]);e!==void 0&&i!=null&&y(e,["parameters","storageUri"],i);const a=g(t,["fps"]);e!==void 0&&a!=null&&y(e,["parameters","fps"],a);const s=g(t,["durationSeconds"]);e!==void 0&&s!=null&&y(e,["parameters","durationSeconds"],s);const u=g(t,["seed"]);e!==void 0&&u!=null&&y(e,["parameters","seed"],u);const c=g(t,["aspectRatio"]);e!==void 0&&c!=null&&y(e,["parameters","aspectRatio"],c);const f=g(t,["resolution"]);e!==void 0&&f!=null&&y(e,["parameters","resolution"],f);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const m=g(t,["pubsubTopic"]);e!==void 0&&m!=null&&y(e,["parameters","pubsubTopic"],m);const v=g(t,["negativePrompt"]);e!==void 0&&v!=null&&y(e,["parameters","negativePrompt"],v);const _=g(t,["enhancePrompt"]);e!==void 0&&_!=null&&y(e,["parameters","enhancePrompt"],_);const x=g(t,["generateAudio"]);e!==void 0&&x!=null&&y(e,["parameters","generateAudio"],x);const E=g(t,["lastFrame"]);e!==void 0&&E!=null&&y(e,["instances[0]","lastFrame"],Or(E));const w=g(t,["referenceImages"]);if(e!==void 0&&w!=null){let A=w;Array.isArray(A)&&(A=A.map(P=>_ue(P))),y(e,["instances[0]","referenceImages"],A)}const T=g(t,["mask"]);e!==void 0&&T!=null&&y(e,["instances[0]","mask"],yue(T));const C=g(t,["compressionQuality"]);return e!==void 0&&C!=null&&y(e,["parameters","compressionQuality"],C),n}function ble(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const a=g(t,["error"]);a!=null&&y(e,["error"],a);const s=g(t,["response","generateVideoResponse"]);return s!=null&&y(e,["response"],xle(s)),e}function _le(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const a=g(t,["error"]);a!=null&&y(e,["error"],a);const s=g(t,["response"]);return s!=null&&y(e,["response"],Ele(s)),e}function Sle(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],Ke(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=g(e,["image"]);a!=null&&y(n,["instances[0]","image"],Gp(a));const s=g(e,["video"]);s!=null&&y(n,["instances[0]","video"],tB(s));const u=g(e,["source"]);u!=null&&Tle(u,n);const c=g(e,["config"]);return c!=null&&vle(c,n),n}function wle(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],Ke(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=g(e,["image"]);a!=null&&y(n,["instances[0]","image"],Or(a));const s=g(e,["video"]);s!=null&&y(n,["instances[0]","video"],nB(s));const u=g(e,["source"]);u!=null&&Ale(u,n);const c=g(e,["config"]);return c!=null&&yle(c,n),n}function xle(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Ole(s))),y(e,["generatedVideos"],a)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function Ele(t){const e={},n=g(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Mle(s))),y(e,["generatedVideos"],a)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function Tle(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],Gp(i));const a=g(t,["video"]);return e!==void 0&&a!=null&&y(e,["instances[0]","video"],tB(a)),n}function Ale(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],Or(i));const a=g(t,["video"]);return e!==void 0&&a!=null&&y(e,["instances[0]","video"],nB(a)),n}function Cle(t){const e={},n=g(t,["_self"]);n!=null&&y(e,["image"],$le(n));const r=g(t,["raiFilteredReason"]);r!=null&&y(e,["raiFilteredReason"],r);const i=g(t,["_self"]);return i!=null&&y(e,["safetyAttributes"],Qq(i)),e}function Hp(t){const e={},n=g(t,["_self"]);n!=null&&y(e,["image"],Xq(n));const r=g(t,["raiFilteredReason"]);r!=null&&y(e,["raiFilteredReason"],r);const i=g(t,["_self"]);i!=null&&y(e,["safetyAttributes"],Zq(i));const a=g(t,["prompt"]);return a!=null&&y(e,["enhancedPrompt"],a),e}function Rle(t){const e={},n=g(t,["_self"]);n!=null&&y(e,["mask"],Xq(n));const r=g(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(e,["labels"],i)}return e}function Ole(t){const e={},n=g(t,["video"]);return n!=null&&y(e,["video"],gue(n)),e}function Mle(t){const e={},n=g(t,["_self"]);return n!=null&&y(e,["video"],vue(n)),e}function Nle(t){const e={},n=g(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const r=g(t,["responseJsonSchema"]);r!=null&&y(e,["responseJsonSchema"],r);const i=g(t,["audioTimestamp"]);i!=null&&y(e,["audioTimestamp"],i);const a=g(t,["candidateCount"]);a!=null&&y(e,["candidateCount"],a);const s=g(t,["enableAffectiveDialog"]);s!=null&&y(e,["enableAffectiveDialog"],s);const u=g(t,["frequencyPenalty"]);u!=null&&y(e,["frequencyPenalty"],u);const c=g(t,["logprobs"]);c!=null&&y(e,["logprobs"],c);const f=g(t,["maxOutputTokens"]);f!=null&&y(e,["maxOutputTokens"],f);const h=g(t,["mediaResolution"]);h!=null&&y(e,["mediaResolution"],h);const m=g(t,["presencePenalty"]);m!=null&&y(e,["presencePenalty"],m);const v=g(t,["responseLogprobs"]);v!=null&&y(e,["responseLogprobs"],v);const _=g(t,["responseMimeType"]);_!=null&&y(e,["responseMimeType"],_);const x=g(t,["responseModalities"]);x!=null&&y(e,["responseModalities"],x);const E=g(t,["responseSchema"]);E!=null&&y(e,["responseSchema"],E);const w=g(t,["routingConfig"]);w!=null&&y(e,["routingConfig"],w);const T=g(t,["seed"]);T!=null&&y(e,["seed"],T);const C=g(t,["speechConfig"]);C!=null&&y(e,["speechConfig"],C);const A=g(t,["stopSequences"]);A!=null&&y(e,["stopSequences"],A);const P=g(t,["temperature"]);P!=null&&y(e,["temperature"],P);const R=g(t,["thinkingConfig"]);R!=null&&y(e,["thinkingConfig"],R);const M=g(t,["topK"]);M!=null&&y(e,["topK"],M);const I=g(t,["topP"]);if(I!=null&&y(e,["topP"],I),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Ple(t,e){const n={},r=g(e,["model"]);return r!=null&&y(n,["_url","name"],Ke(t,r)),n}function Ile(t,e){const n={},r=g(e,["model"]);return r!=null&&y(n,["_url","name"],Ke(t,r)),n}function Dle(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function kle(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function Ule(t){const e={},n=g(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=g(t,["imageSize"]);if(r!=null&&y(e,["imageSize"],r),g(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Lle(t){const e={},n=g(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=g(t,["imageSize"]);r!=null&&y(e,["imageSize"],r);const i=g(t,["outputMimeType"]);i!=null&&y(e,["imageOutputOptions","mimeType"],i);const a=g(t,["outputCompressionQuality"]);return a!=null&&y(e,["imageOutputOptions","compressionQuality"],a),e}function $le(t){const e={},n=g(t,["bytesBase64Encoded"]);n!=null&&y(e,["imageBytes"],Sa(n));const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Xq(t){const e={},n=g(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&y(e,["imageBytes"],Sa(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function Gp(t){const e={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=g(t,["imageBytes"]);n!=null&&y(e,["bytesBase64Encoded"],Sa(n));const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Or(t){const e={},n=g(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const r=g(t,["imageBytes"]);r!=null&&y(e,["bytesBase64Encoded"],Sa(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function qle(t,e,n){const r={},i=g(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const a=g(e,["pageToken"]);n!==void 0&&a!=null&&y(n,["_query","pageToken"],a);const s=g(e,["filter"]);n!==void 0&&s!=null&&y(n,["_query","filter"],s);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],Vq(t,u)),r}function Ble(t,e,n){const r={},i=g(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const a=g(e,["pageToken"]);n!==void 0&&a!=null&&y(n,["_query","pageToken"],a);const s=g(e,["filter"]);n!==void 0&&s!=null&&y(n,["_query","filter"],s);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],Vq(t,u)),r}function jle(t,e){const n={},r=g(e,["config"]);return r!=null&&qle(t,r,n),n}function Hle(t,e){const n={},r=g(e,["config"]);return r!=null&&Ble(t,r,n),n}function Gle(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["_self"]);if(i!=null){let a=zq(i);Array.isArray(a)&&(a=a.map(s=>Aw(s))),y(e,["models"],a)}return e}function Vle(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["_self"]);if(i!=null){let a=zq(i);Array.isArray(a)&&(a=a.map(s=>Cw(s))),y(e,["models"],a)}return e}function zle(t){const e={},n=g(t,["maskMode"]);n!=null&&y(e,["maskMode"],n);const r=g(t,["segmentationClasses"]);r!=null&&y(e,["maskClasses"],r);const i=g(t,["maskDilation"]);return i!=null&&y(e,["dilation"],i),e}function Aw(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=g(t,["description"]);i!=null&&y(e,["description"],i);const a=g(t,["version"]);a!=null&&y(e,["version"],a);const s=g(t,["_self"]);s!=null&&y(e,["tunedModelInfo"],sue(s));const u=g(t,["inputTokenLimit"]);u!=null&&y(e,["inputTokenLimit"],u);const c=g(t,["outputTokenLimit"]);c!=null&&y(e,["outputTokenLimit"],c);const f=g(t,["supportedGenerationMethods"]);f!=null&&y(e,["supportedActions"],f);const h=g(t,["temperature"]);h!=null&&y(e,["temperature"],h);const m=g(t,["maxTemperature"]);m!=null&&y(e,["maxTemperature"],m);const v=g(t,["topP"]);v!=null&&y(e,["topP"],v);const _=g(t,["topK"]);_!=null&&y(e,["topK"],_);const x=g(t,["thinking"]);return x!=null&&y(e,["thinking"],x),e}function Cw(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=g(t,["description"]);i!=null&&y(e,["description"],i);const a=g(t,["versionId"]);a!=null&&y(e,["version"],a);const s=g(t,["deployedModels"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(v=>ile(v))),y(e,["endpoints"],m)}const u=g(t,["labels"]);u!=null&&y(e,["labels"],u);const c=g(t,["_self"]);c!=null&&y(e,["tunedModelInfo"],lue(c));const f=g(t,["defaultCheckpointId"]);f!=null&&y(e,["defaultCheckpointId"],f);const h=g(t,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(v=>v)),y(e,["checkpoints"],m)}return e}function Fle(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const a=g(t,["fileData"]);a!=null&&y(e,["fileData"],ale(a));const s=g(t,["functionCall"]);s!=null&&y(e,["functionCall"],ole(s));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const c=g(t,["inlineData"]);c!=null&&y(e,["inlineData"],Nse(c));const f=g(t,["text"]);f!=null&&y(e,["text"],f);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const v=g(t,["videoMetadata"]);return v!=null&&y(e,["videoMetadata"],v),e}function Kle(t){const e={},n=g(t,["productImage"]);return n!=null&&y(e,["image"],Or(n)),e}function Wle(t,e){const n={},r=g(t,["numberOfImages"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=g(t,["baseSteps"]);e!==void 0&&i!=null&&y(e,["parameters","baseSteps"],i);const a=g(t,["outputGcsUri"]);e!==void 0&&a!=null&&y(e,["parameters","storageUri"],a);const s=g(t,["seed"]);e!==void 0&&s!=null&&y(e,["parameters","seed"],s);const u=g(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&y(e,["parameters","safetySetting"],u);const c=g(t,["personGeneration"]);e!==void 0&&c!=null&&y(e,["parameters","personGeneration"],c);const f=g(t,["addWatermark"]);e!==void 0&&f!=null&&y(e,["parameters","addWatermark"],f);const h=g(t,["outputMimeType"]);e!==void 0&&h!=null&&y(e,["parameters","outputOptions","mimeType"],h);const m=g(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&y(e,["parameters","outputOptions","compressionQuality"],m);const v=g(t,["enhancePrompt"]);e!==void 0&&v!=null&&y(e,["parameters","enhancePrompt"],v);const _=g(t,["labels"]);return e!==void 0&&_!=null&&y(e,["labels"],_),n}function Yle(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],Ke(t,r));const i=g(e,["source"]);i!=null&&Xle(i,n);const a=g(e,["config"]);return a!=null&&Wle(a,n),n}function Jle(t){const e={},n=g(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Hp(i))),y(e,["generatedImages"],r)}return e}function Xle(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=g(t,["personImage"]);e!==void 0&&i!=null&&y(e,["instances[0]","personImage","image"],Or(i));const a=g(t,["productImages"]);if(e!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>Kle(u))),y(e,["instances[0]","productImages"],s)}return n}function Qle(t){const e={},n=g(t,["referenceImage"]);n!=null&&y(e,["referenceImage"],Or(n));const r=g(t,["referenceId"]);r!=null&&y(e,["referenceId"],r);const i=g(t,["referenceType"]);i!=null&&y(e,["referenceType"],i);const a=g(t,["maskImageConfig"]);a!=null&&y(e,["maskImageConfig"],zle(a));const s=g(t,["controlImageConfig"]);s!=null&&y(e,["controlImageConfig"],$se(s));const u=g(t,["styleImageConfig"]);u!=null&&y(e,["styleImageConfig"],u);const c=g(t,["subjectImageConfig"]);return c!=null&&y(e,["subjectImageConfig"],c),e}function Qq(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const r=g(t,["safetyAttributes","scores"]);r!=null&&y(e,["scores"],r);const i=g(t,["contentType"]);return i!=null&&y(e,["contentType"],i),e}function Zq(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const r=g(t,["safetyAttributes","scores"]);r!=null&&y(e,["scores"],r);const i=g(t,["contentType"]);return i!=null&&y(e,["contentType"],i),e}function Zle(t){const e={},n=g(t,["category"]);if(n!=null&&y(e,["category"],n),g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(t,["threshold"]);return r!=null&&y(e,["threshold"],r),e}function eue(t){const e={},n=g(t,["image"]);return n!=null&&y(e,["image"],Or(n)),e}function tue(t,e){const n={},r=g(t,["mode"]);e!==void 0&&r!=null&&y(e,["parameters","mode"],r);const i=g(t,["maxPredictions"]);e!==void 0&&i!=null&&y(e,["parameters","maxPredictions"],i);const a=g(t,["confidenceThreshold"]);e!==void 0&&a!=null&&y(e,["parameters","confidenceThreshold"],a);const s=g(t,["maskDilation"]);e!==void 0&&s!=null&&y(e,["parameters","maskDilation"],s);const u=g(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&y(e,["parameters","binaryColorThreshold"],u);const c=g(t,["labels"]);return e!==void 0&&c!=null&&y(e,["labels"],c),n}function nue(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],Ke(t,r));const i=g(e,["source"]);i!=null&&iue(i,n);const a=g(e,["config"]);return a!=null&&tue(a,n),n}function rue(t){const e={},n=g(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Rle(i))),y(e,["generatedMasks"],r)}return e}function iue(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],Or(i));const a=g(t,["scribbleImage"]);return e!==void 0&&a!=null&&y(e,["instances[0]","scribble"],eue(a)),n}function aue(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],sle(n));const r=g(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function oue(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const a=g(t,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const s=g(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],Dle(u));const c=g(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],kle(c));const f=g(t,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}function eB(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>lle(v))),y(e,["functionDeclarations"],m)}const r=g(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const a=g(t,["computerUse"]);if(a!=null&&y(e,["computerUse"],a),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=g(t,["codeExecution"]);s!=null&&y(e,["codeExecution"],s);const u=g(t,["enterpriseWebSearch"]);u!=null&&y(e,["enterpriseWebSearch"],u);const c=g(t,["googleMaps"]);c!=null&&y(e,["googleMaps"],c);const f=g(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],f);const h=g(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function sue(t){const e={},n=g(t,["baseModel"]);n!=null&&y(e,["baseModel"],n);const r=g(t,["createTime"]);r!=null&&y(e,["createTime"],r);const i=g(t,["updateTime"]);return i!=null&&y(e,["updateTime"],i),e}function lue(t){const e={},n=g(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&y(e,["baseModel"],n);const r=g(t,["createTime"]);r!=null&&y(e,["createTime"],r);const i=g(t,["updateTime"]);return i!=null&&y(e,["updateTime"],i),e}function uue(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=g(t,["description"]);e!==void 0&&i!=null&&y(e,["description"],i);const a=g(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&y(e,["defaultCheckpointId"],a),n}function cue(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=g(t,["description"]);e!==void 0&&i!=null&&y(e,["description"],i);const a=g(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&y(e,["defaultCheckpointId"],a),n}function fue(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","name"],Ke(t,r));const i=g(e,["config"]);return i!=null&&uue(i,n),n}function due(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],Ke(t,r));const i=g(e,["config"]);return i!=null&&cue(i,n),n}function hue(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=g(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&y(e,["parameters","safetySetting"],i);const a=g(t,["personGeneration"]);e!==void 0&&a!=null&&y(e,["parameters","personGeneration"],a);const s=g(t,["includeRaiReason"]);e!==void 0&&s!=null&&y(e,["parameters","includeRaiReason"],s);const u=g(t,["outputMimeType"]);e!==void 0&&u!=null&&y(e,["parameters","outputOptions","mimeType"],u);const c=g(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&y(e,["parameters","outputOptions","compressionQuality"],c);const f=g(t,["enhanceInputImage"]);e!==void 0&&f!=null&&y(e,["parameters","upscaleConfig","enhanceInputImage"],f);const h=g(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&y(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=g(t,["labels"]);e!==void 0&&m!=null&&y(e,["labels"],m);const v=g(t,["numberOfImages"]);e!==void 0&&v!=null&&y(e,["parameters","sampleCount"],v);const _=g(t,["mode"]);return e!==void 0&&_!=null&&y(e,["parameters","mode"],_),n}function pue(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],Ke(t,r));const i=g(e,["image"]);i!=null&&y(n,["instances[0]","image"],Or(i));const a=g(e,["upscaleFactor"]);a!=null&&y(n,["parameters","upscaleConfig","upscaleFactor"],a);const s=g(e,["config"]);return s!=null&&hue(s,n),n}function mue(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Hp(a))),y(e,["generatedImages"],i)}return e}function gue(t){const e={},n=g(t,["uri"]);n!=null&&y(e,["uri"],n);const r=g(t,["encodedVideo"]);r!=null&&y(e,["videoBytes"],Sa(r));const i=g(t,["encoding"]);return i!=null&&y(e,["mimeType"],i),e}function vue(t){const e={},n=g(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&y(e,["videoBytes"],Sa(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function yue(t){const e={},n=g(t,["image"]);n!=null&&y(e,["_self"],Or(n));const r=g(t,["maskMode"]);return r!=null&&y(e,["maskMode"],r),e}function bue(t){const e={},n=g(t,["image"]);n!=null&&y(e,["image"],Gp(n));const r=g(t,["referenceType"]);return r!=null&&y(e,["referenceType"],r),e}function _ue(t){const e={},n=g(t,["image"]);n!=null&&y(e,["image"],Or(n));const r=g(t,["referenceType"]);return r!=null&&y(e,["referenceType"],r),e}function tB(t){const e={},n=g(t,["uri"]);n!=null&&y(e,["uri"],n);const r=g(t,["videoBytes"]);r!=null&&y(e,["encodedVideo"],Sa(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["encoding"],i),e}function nB(t){const e={},n=g(t,["uri"]);n!=null&&y(e,["gcsUri"],n);const r=g(t,["videoBytes"]);r!=null&&y(e,["bytesBase64Encoded"],Sa(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sue(t,e){const n={},r=g(t,["displayName"]);return e!==void 0&&r!=null&&y(e,["displayName"],r),n}function wue(t){const e={},n=g(t,["config"]);return n!=null&&Sue(n,e),e}function xue(t,e){const n={},r=g(t,["force"]);return e!==void 0&&r!=null&&y(e,["_query","force"],r),n}function Eue(t){const e={},n=g(t,["name"]);n!=null&&y(e,["_url","name"],n);const r=g(t,["config"]);return r!=null&&xue(r,e),e}function Tue(t){const e={},n=g(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function Aue(t,e){const n={},r=g(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["customMetadata"],a)}const i=g(t,["chunkingConfig"]);return e!==void 0&&i!=null&&y(e,["chunkingConfig"],i),n}function Cue(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const a=g(t,["error"]);a!=null&&y(e,["error"],a);const s=g(t,["response"]);return s!=null&&y(e,["response"],Oue(s)),e}function Rue(t){const e={},n=g(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);const r=g(t,["fileName"]);r!=null&&y(e,["fileName"],r);const i=g(t,["config"]);return i!=null&&Aue(i,e),e}function Oue(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&y(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function Mue(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function Nue(t){const e={},n=g(t,["config"]);return n!=null&&Mue(n,e),e}function Pue(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["fileSearchStores"],a)}return e}function rB(t,e){const n={},r=g(t,["mimeType"]);e!==void 0&&r!=null&&y(e,["mimeType"],r);const i=g(t,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);const a=g(t,["customMetadata"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>c)),y(e,["customMetadata"],u)}const s=g(t,["chunkingConfig"]);return e!==void 0&&s!=null&&y(e,["chunkingConfig"],s),n}function Iue(t){const e={},n=g(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);const r=g(t,["config"]);return r!=null&&rB(r,e),e}function Due(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kue="Content-Type",Uue="X-Server-Timeout",Lue="User-Agent",Rw="x-goog-api-client",$ue="1.34.0",que=`google-genai-sdk/${$ue}`,Bue="v1beta1",jue="v1beta";class Hue{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Bue,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:jue,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))i.searchParams.append(s,String(u));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const a=new AbortController,s=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>a.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=s}return n&&n.extraBody!==null&&Gue(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await S2(i),new xw(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await S2(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Ar(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const u="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:h}=yield Ce(i.read());if(f){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=a.decode(h,{stream:!0});try{const x=JSON.parse(m);if("error"in x){const E=JSON.parse(JSON.stringify(x.error)),w=E.status,T=E.code,C=`got status: ${w}. ${JSON.stringify(x)}`;if(T>=400&&T<600)throw new Bp({message:C,status:T})}}catch(x){if(x.name==="ApiError")throw x}s+=m;let v=-1,_=0;for(;;){v=-1,_=0;for(const w of c){const T=s.indexOf(w);T!==-1&&(v===-1||T<v)&&(v=T,_=w.length)}if(v===-1)break;const x=s.substring(0,v);s=s.substring(v+_);const E=x.trim();if(E.startsWith(u)){const w=E.substring(u.length).trim();try{const T=new Response(w,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ce(new xw(T))}catch(T){throw new Error(`exception parsing stream chunk ${w}. ${T}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=que+" "+this.clientOptions.userAgentExtra;return e[Lue]=n,e[Rw]=n,e[kue]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))r.append(i,a);e.timeout&&e.timeout>0&&r.append(Uue,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(e);i.sizeBytes=String(s.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c={file:i},f=this.getFileName(e),h=he("upload/v1beta/files",c._url),m=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,f,c,n==null?void 0:n.httpOptions);return a.upload(e,m,this)}async uploadFileToFileSearchStore(e,n,r){var i;const a=this.clientOptions.uploader,s=await a.stat(n),u=String(s.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),m={};r!=null&&rB(r,m);const v=await this.fetchUploadUrl(f,u,c,h,m,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,v,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,a,s){var u;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:c});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=f==null?void 0:f.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function S2(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Bp({message:i,status:n}):new Error(i)}}function Gue(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,s){const u=Object.assign({},a);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const f=s[c],h=u[c];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?u[c]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),u[c]=f)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vue="mcp_used/unknown";let zue=!1;function iB(t){for(const e of t)if(Fue(e)||typeof e=="object"&&"inputSchema"in e)return!0;return zue}function aB(t){var e;const n=(e=t[Rw])!==null&&e!==void 0?e:"";t[Rw]=(n+` ${Vue}`).trimStart()}function Fue(t){return t!==null&&typeof t=="object"&&t instanceof lE}function Kue(t){return Ar(this,arguments,function*(n,r=100){let i,a=0;for(;a<r;){const s=yield Ce(n.listTools({cursor:i}));for(const u of s.tools)yield yield Ce(u),a++;if(!s.nextCursor)break;i=s.nextCursor}})}class lE{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new lE(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const h of this.mcpClients)try{for(var u=!0,c=(n=void 0,Cr(Kue(h))),f;f=await c.next(),e=f.done,!e;u=!0){i=f.value,u=!1;const m=i;s.push(m);const v=m.name;if(a[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);a[v]=h}}catch(m){n={error:m}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),Tae(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Wue(t,e,n){const r=new vae;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class Yue{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=Que(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const h=new Promise(A=>{f=A}),m=e.callbacks,v=function(){f({})},_=this.apiClient,x={onopen:v,onmessage:A=>{Wue(_,m.onmessage,A)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(A){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(A){}},E=this.webSocketFactory.create(c,Xue(s),x);E.connect(),await h;const C={setup:{model:Ke(this.apiClient,e.model)}};return E.send(JSON.stringify(C)),new Jue(E,this.apiClient)}}class Jue{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=wse(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Sse(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(_s.PLAY)}pause(){this.sendPlaybackControl(_s.PAUSE)}stop(){this.sendPlaybackControl(_s.STOP)}resetContext(){this.sendPlaybackControl(_s.RESET_CONTEXT)}close(){this.conn.close()}}function Xue(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Que(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zue="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function ece(t,e,n){const r=new gae;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const s=Tse(a);Object.assign(r,s)}else Object.assign(r,a);e(r)}class tce{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Yue(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,s,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&iB(e.config.tools)&&aB(m);const v=ace(m);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,h);else{const U=this.apiClient.getApiKey();let V="BidiGenerateContent",$="key";U!=null&&U.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),V="BidiGenerateContentConstrained",$="access_token"),h=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${V}?${$}=${U}`}let _=()=>{};const x=new Promise(U=>{_=U}),E=e.callbacks,w=function(){var U;(U=E==null?void 0:E.onopen)===null||U===void 0||U.call(E),_({})},T=this.apiClient,C={onopen:w,onmessage:U=>{ece(T,E.onmessage,U)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(U){},onclose:(r=E==null?void 0:E.onclose)!==null&&r!==void 0?r:function(U){}},A=this.webSocketFactory.create(h,ice(v),C);A.connect(),await x;let P=Ke(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&P.startsWith("publishers/")){const U=this.apiClient.getProject(),V=this.apiClient.getLocation();P=`projects/${U}/locations/${V}/`+P}let R={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Fh.AUDIO]}:e.config.responseModalities=[Fh.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const M=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],I=[];for(const U of M)if(this.isCallableTool(U)){const V=U;I.push(await V.tool())}else I.push(U);I.length>0&&(e.config.tools=I);const k={model:P,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?R=_se(this.apiClient,k):R=bse(this.apiClient,k),delete R.config,A.send(JSON.stringify(R)),new rce(A,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const nce={turnComplete:!0};class rce{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=sr(n.turns),e.isVertexAI()||(r=r.map(i=>jp(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(Zue)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},nce),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Ese(e)}:n={realtimeInput:xse(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function ice(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function ace(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const w2=10;function x2(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Cs(s)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Cs(t){return"callTool"in t&&typeof t.callTool=="function"}function oce(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Cs(i)))!==null&&r!==void 0?r:!1}function E2(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Cs(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function T2(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sce extends Di{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,s,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!oce(n)||x2(n.config))return await this.generateContentInternal(c);const f=E2(n);if(f.length>0){const E=f.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let h,m;const v=sr(c.contents),_=(a=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:w2;let x=0;for(;x<_&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const E=h.candidates[0].content,w=[];for(const T of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(Cs(T)){const A=await T.callTool(h.functionCalls);w.push(...A)}x++,m={role:"user",parts:w},c.contents=sr(c.contents),c.contents.push(E),c.contents.push(m),T2(c.config)&&(v.push(E),v.push(m))}return T2(c.config)&&(h.automaticFunctionCallingHistory=v),h},this.generateContentStream=async n=>{var r,i,a,s,u;if(this.maybeMoveToResponseJsonSchem(n),x2(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const c=E2(n);if(c.length>0){const m=c.map(v=>`tools[${v}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,h=(u=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(f&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const s=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c==null?void 0:c.safetyAttributes:s.push(c);let u;return a?u={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new go(Ri.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,s,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(a=n.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const s=await Promise.all(a.map(async c=>Cs(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&iB(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),aB(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Cs(s)){const u=s,c=await u.tool();for(const f of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(a.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);a.set(f.name,u)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:w2;let s=!1,u=0;const c=await this.initAfcToolsMap(e);return(function(f,h,m){return Ar(this,arguments,function*(){for(var v,_,x,E,w,T;u<a;){s&&(u++,s=!1);const R=yield Ce(f.processParamsMaybeAddMcpUsage(m)),M=yield Ce(f.generateContentStreamInternal(R)),I=[],k=[];try{for(var C=!0,A=(_=void 0,Cr(M)),P;P=yield Ce(A.next()),v=P.done,!v;C=!0){E=P.value,C=!1;const U=E;if(yield yield Ce(U),U.candidates&&(!((w=U.candidates[0])===null||w===void 0)&&w.content)){k.push(U.candidates[0].content);for(const V of(T=U.candidates[0].content.parts)!==null&&T!==void 0?T:[])if(u<a&&V.functionCall){if(!V.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(V.functionCall.name)){const $=yield Ce(h.get(V.functionCall.name).callTool([V.functionCall]));I.push(...$)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${V.functionCall.name}`)}}}}catch(U){_={error:U}}finally{try{!C&&!v&&(x=A.return)&&(yield Ce(x.call(A)))}finally{if(_)throw _.error}}if(I.length>0){s=!0;const U=new pu;U.candidates=[{content:{role:"user",parts:I}}],yield yield Ce(U);const V=[];V.push(...k),V.push({role:"user",parts:I});const $=sr(m.contents).concat(V);m.contents=$}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=y2(this.apiClient,e);return u=he("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=_2(h),v=new pu;return Object.assign(v,m),v})}else{const f=v2(this.apiClient,e);return u=he("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=b2(h),v=new pu;return Object.assign(v,m),v})}}async generateContentStreamInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=y2(this.apiClient,e);return u=he("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(m){return Ar(this,arguments,function*(){var v,_,x,E;try{for(var w=!0,T=Cr(m),C;C=yield Ce(T.next()),v=C.done,!v;w=!0){E=C.value,w=!1;const A=E,P=_2(yield Ce(A.json()));P.sdkHttpResponse={headers:A.headers};const R=new pu;Object.assign(R,P),yield yield Ce(R)}}catch(A){_={error:A}}finally{try{!w&&!v&&(x=T.return)&&(yield Ce(x.call(T)))}finally{if(_)throw _.error}}})})}else{const f=v2(this.apiClient,e);return u=he("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(m){return Ar(this,arguments,function*(){var v,_,x,E;try{for(var w=!0,T=Cr(m),C;C=yield Ce(T.next()),v=C.done,!v;w=!0){E=C.value,w=!1;const A=E,P=b2(yield Ce(A.json()));P.sdkHttpResponse={headers:A.headers};const R=new pu;Object.assign(R,P),yield yield Ce(R)}}catch(A){_={error:A}}finally{try{!w&&!v&&(x=T.return)&&(yield Ce(x.call(T)))}finally{if(_)throw _.error}}})})}}async embedContent(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=tle(this.apiClient,e);return u=he("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=rle(h),v=new e2;return Object.assign(v,m),v})}else{const f=ele(this.apiClient,e);return u=he("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=nle(h),v=new e2;return Object.assign(v,m),v})}}async generateImagesInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=ple(this.apiClient,e);return u=he("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=gle(h),v=new t2;return Object.assign(v,m),v})}else{const f=hle(this.apiClient,e);return u=he("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=mle(h),v=new t2;return Object.assign(v,m),v})}}async editImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=Jse(this.apiClient,e);return a=he("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Xse(c),h=new aae;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=pue(this.apiClient,e);return a=he("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=mue(c),h=new oae;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=Yle(this.apiClient,e);return a=he("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Jle(c),h=new sae;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=nue(this.apiClient,e);return a=he("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=rue(c),h=new lae;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Ile(this.apiClient,e);return u=he("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Cw(h))}else{const f=Ple(this.apiClient,e);return u=he("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>Aw(h))}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Hle(this.apiClient,e);return u=he("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=Vle(h),v=new n2;return Object.assign(v,m),v})}else{const f=jle(this.apiClient,e);return u=he("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=Gle(h),v=new n2;return Object.assign(v,m),v})}}async update(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=due(this.apiClient,e);return u=he("{model}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Cw(h))}else{const f=fue(this.apiClient,e);return u=he("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>Aw(h))}}async delete(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Fse(this.apiClient,e);return u=he("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=Wse(h),v=new r2;return Object.assign(v,m),v})}else{const f=zse(this.apiClient,e);return u=he("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=Kse(h),v=new r2;return Object.assign(v,m),v})}}async countTokens(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Hse(this.apiClient,e);return u=he("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=Vse(h),v=new i2;return Object.assign(v,m),v})}else{const f=jse(this.apiClient,e);return u=he("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=Gse(h),v=new i2;return Object.assign(v,m),v})}}async computeTokens(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=Dse(this.apiClient,e);return a=he("{model}:computeTokens",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=kse(c),h=new uae;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=wle(this.apiClient,e);return u=he("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=_le(h),v=new Kh;return Object.assign(v,m),v})}else{const f=Sle(this.apiClient,e);return u=he("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>{const m=ble(h),v=new Kh;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lce extends Di{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Zie(e);return u=he("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}else{const f=Qie(e);return u=he("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=zie(e);return a=he("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uce(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function cce(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>bce(a))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function fce(t,e,n){const r={},i=g(e,["expireTime"]);n!==void 0&&i!=null&&y(n,["expireTime"],i);const a=g(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&y(n,["newSessionExpireTime"],a);const s=g(e,["uses"]);n!==void 0&&s!=null&&y(n,["uses"],s);const u=g(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&y(n,["bidiGenerateContentSetup"],yce(t,u));const c=g(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&y(n,["fieldMask"],c),r}function dce(t,e){const n={},r=g(e,["config"]);return r!=null&&y(n,["config"],fce(t,r,n)),n}function hce(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function pce(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function mce(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function gce(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function vce(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],r);const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const a=g(t,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const s=g(t,["topP"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","topP"],s);const u=g(t,["topK"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topK"],u);const c=g(t,["maxOutputTokens"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","maxOutputTokens"],c);const f=g(t,["mediaResolution"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","mediaResolution"],f);const h=g(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&y(e,["setup","generationConfig","speechConfig"],sE(m));const v=g(t,["thinkingConfig"]);e!==void 0&&v!=null&&y(e,["setup","generationConfig","thinkingConfig"],v);const _=g(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],_);const x=g(t,["systemInstruction"]);e!==void 0&&x!=null&&y(e,["setup","systemInstruction"],cce(cn(x)));const E=g(t,["tools"]);if(e!==void 0&&E!=null){let M=ll(E);Array.isArray(M)&&(M=M.map(I=>Sce(sl(I)))),y(e,["setup","tools"],M)}const w=g(t,["sessionResumption"]);e!==void 0&&w!=null&&y(e,["setup","sessionResumption"],_ce(w));const T=g(t,["inputAudioTranscription"]);e!==void 0&&T!=null&&y(e,["setup","inputAudioTranscription"],T);const C=g(t,["outputAudioTranscription"]);e!==void 0&&C!=null&&y(e,["setup","outputAudioTranscription"],C);const A=g(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&y(e,["setup","realtimeInputConfig"],A);const P=g(t,["contextWindowCompression"]);e!==void 0&&P!=null&&y(e,["setup","contextWindowCompression"],P);const R=g(t,["proactivity"]);if(e!==void 0&&R!=null&&y(e,["setup","proactivity"],R),g(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function yce(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["setup","model"],Ke(t,r));const i=g(e,["config"]);return i!=null&&y(n,["config"],vce(i,n)),n}function bce(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const a=g(t,["fileData"]);a!=null&&y(e,["fileData"],hce(a));const s=g(t,["functionCall"]);s!=null&&y(e,["functionCall"],pce(s));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const c=g(t,["inlineData"]);c!=null&&y(e,["inlineData"],uce(c));const f=g(t,["text"]);f!=null&&y(e,["text"],f);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const v=g(t,["videoMetadata"]);return v!=null&&y(e,["videoMetadata"],v),e}function _ce(t){const e={},n=g(t,["handle"]);if(n!=null&&y(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Sce(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const a=g(t,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const s=g(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],mce(u));const c=g(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],gce(c));const f=g(t,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wce(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function xce(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=wce(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>s.includes(f)?`generationConfig.${f}`:f));const c=[];a&&c.push(a),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Ece extends Di{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=dce(this.apiClient,e);a=he("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const c=xce(u,e.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tce(t,e){const n={},r=g(t,["force"]);return e!==void 0&&r!=null&&y(e,["_query","force"],r),n}function Ace(t){const e={},n=g(t,["name"]);n!=null&&y(e,["_url","name"],n);const r=g(t,["config"]);return r!=null&&Tce(r,e),e}function Cce(t){const e={},n=g(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function Rce(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function Oce(t){const e={},n=g(t,["parent"]);n!=null&&y(e,["_url","parent"],n);const r=g(t,["config"]);return r!=null&&Rce(r,e),e}function Mce(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nce extends Di{constructor(e){super(),this.apiClient=e,this.list=async n=>new go(Ri.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Cce(e);return a=he("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Ace(e);i=he("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Oce(e);return a=he("{parent}/documents",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Mce(c),h=new cae;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pce extends Di{constructor(e,n=new Nce(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new go(Ri.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=wue(e);return a=he("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Tue(e);return a=he("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Eue(e);i=he("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Nue(e);return a=he("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Pue(c),h=new fae;return Object.assign(h,f),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Iue(e);return a=he("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Due(c),h=new dae;return Object.assign(h,f),h})}}async importFile(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Rue(e);return a=he("{file_search_store_name}:importFile",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Cue(c),h=new nE;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let oB=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return oB=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Ice=()=>oB();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ow(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Mw=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fr extends Error{}class gn extends fr{constructor(e,n,r,i){super(`${gn.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Vp({message:r,cause:Mw(n)});const a=n;return e===400?new lB(e,a,r,i):e===401?new uB(e,a,r,i):e===403?new cB(e,a,r,i):e===404?new fB(e,a,r,i):e===409?new dB(e,a,r,i):e===422?new hB(e,a,r,i):e===429?new pB(e,a,r,i):e>=500?new mB(e,a,r,i):new gn(e,a,r,i)}}class Nw extends gn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Vp extends gn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class sB extends Vp{constructor({message:e}={}){super({message:e??"Request timed out."})}}class lB extends gn{}class uB extends gn{}class cB extends gn{}class fB extends gn{}class dB extends gn{}class hB extends gn{}class pB extends gn{}class mB extends gn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dce=/^[a-z][a-z0-9+.-]*:/i,kce=t=>Dce.test(t);let Pw=t=>(Pw=Array.isArray,Pw(t));const Uce=Pw;let Lce=Uce;const A2=Lce;function $ce(t){if(!t)return!0;for(const e in t)return!1;return!0}function qce(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const Bce=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new fr(`${t} must be an integer`);if(e<0)throw new fr(`${t} must be a positive integer`);return e},jce=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hce=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hs="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gce(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Vce=()=>{var t,e,n,r,i;const a=Gce();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":hs,"X-Stainless-OS":R2(Deno.build.os),"X-Stainless-Arch":C2(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":hs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":hs,"X-Stainless-OS":R2((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":C2((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=zce();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":hs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":hs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function zce(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${a}.${s}`}}}return null}const C2=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",R2=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Nd;const Fce=()=>Nd??(Nd=Vce());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kce(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function gB(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function Wce(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return gB({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function vB(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Yce(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jce=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yB=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function O_(t,e,n){return yB(),new File(t,e??"unknown_file",n)}function Xce(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Qce=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bB=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Zce=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&bB(t),efe=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function tfe(t,e,n){if(yB(),t=await t,Zce(t))return t instanceof File?t:O_([await t.arrayBuffer()],t.name);if(efe(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),O_(await Iw(i),e,n)}const r=await Iw(t);if(e||(e=Xce(t)),!(n!=null&&n.type)){const i=r.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return O_(r,e,n)}async function Iw(t){var e,n,r,i,a;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(bB(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(Qce(t))try{for(var u=!0,c=Cr(t),f;f=await c.next(),e=f.done,!e;u=!0){i=f.value,u=!1;const h=i;s.push(...await Iw(h))}}catch(h){n={error:h}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}else{const h=(a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${h?`; constructor: ${h}`:""}${nfe(t)}`)}return s}function nfe(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _B{constructor(e){this._client=e}}_B._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SB(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const O2=Object.freeze(Object.create(null)),rfe=(t=SB)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const a=[],s=n.reduce((h,m,v)=>{var _,x,E;/[?#]/.test(m)&&(i=!0);const w=r[v];let T=(i?encodeURIComponent:t)(""+w);return v!==r.length&&(w==null||typeof w=="object"&&w.toString===((E=Object.getPrototypeOf((x=Object.getPrototypeOf((_=w.hasOwnProperty)!==null&&_!==void 0?_:O2))!==null&&x!==void 0?x:O2))===null||E===void 0?void 0:E.toString))&&(T=w+"",a.push({start:h.length+m.length,length:T.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),h+m+(v===r.length?"":T)},""),u=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=c.exec(u))!==null;)a.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(a.sort((h,m)=>h.start-m.start),a.length>0){let h=0;const m=a.reduce((v,_)=>{const x=" ".repeat(_.start-h),E="^".repeat(_.length);return h=_.start+_.length,v+x+E},"");throw new fr(`Path parameters result in path with invalid segments:
${a.map(v=>v.error).join(`
`)}
${s}
${m}`)}return s}),Pd=rfe(SB);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wB extends _B{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,a=Yh(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new fr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new fr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Pd`/${i}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Pd`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Pd`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const a=n??{},{api_version:s=this._client.apiVersion}=a,u=Yh(a,["api_version"]);return this._client.get(Pd`/${s}/interactions/${e}`,Object.assign(Object.assign({query:u},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}wB._key=Object.freeze(["interactions"]);class xB extends wB{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ife(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Id;function uE(t){let e;return(Id??(e=new globalThis.TextEncoder,Id=e.encode.bind(e)))(t)}let Dd;function M2(t){let e;return(Dd??(e=new globalThis.TextDecoder,Dd=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zp{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?uE(e):e;this.buffer=ife([this.buffer,n]);const r=[];let i;for(;(i=afe(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(M2(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=M2(this.buffer.subarray(0,a));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}zp.NEWLINE_CHARS=new Set([`
`,"\r"]);zp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function afe(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function ofe(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jh={off:0,error:200,warn:300,info:400,debug:500},N2=(t,e,n)=>{if(t){if(qce(Jh,t))return t;dn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Jh))}`)}};function Cu(){}function kd(t,e,n){return!e||Jh[t]>Jh[n]?Cu:e[t].bind(e)}const sfe={error:Cu,warn:Cu,info:Cu,debug:Cu};let P2=new WeakMap;function dn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return sfe;const i=P2.get(n);if(i&&i[0]===r)return i[1];const a={error:kd("error",n,r),warn:kd("warn",n,r),info:kd("info",n,r),debug:kd("debug",n,r)};return P2.set(n,[r,a]),a}const Wa=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ss{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const a=r?dn(r):console;function s(){return Ar(this,arguments,function*(){var c,f,h,m;if(i)throw new fr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let v=!1;try{try{for(var _=!0,x=Cr(lfe(e,n)),E;E=yield Ce(x.next()),c=E.done,!c;_=!0){m=E.value,_=!1;const w=m;if(!v)if(w.data.startsWith("[DONE]")){v=!0;continue}else try{yield yield Ce(JSON.parse(w.data))}catch(T){throw a.error("Could not parse message into JSON:",w.data),a.error("From chunk:",w.raw),T}}}catch(w){f={error:w}}finally{try{!_&&!c&&(h=x.return)&&(yield Ce(h.call(x)))}finally{if(f)throw f.error}}v=!0}catch(w){if(Ow(w))return yield Ce(void 0);throw w}finally{v||n.abort()}})}return new Ss(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function a(){return Ar(this,arguments,function*(){var c,f,h,m;const v=new zp,_=vB(e);try{for(var x=!0,E=Cr(_),w;w=yield Ce(E.next()),c=w.done,!c;x=!0){m=w.value,x=!1;const T=m;for(const C of v.decode(T))yield yield Ce(C)}}catch(T){f={error:T}}finally{try{!x&&!c&&(h=E.return)&&(yield Ce(h.call(E)))}finally{if(f)throw f.error}}for(const T of v.flush())yield yield Ce(T)})}function s(){return Ar(this,arguments,function*(){var c,f,h,m;if(i)throw new fr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let v=!1;try{try{for(var _=!0,x=Cr(a()),E;E=yield Ce(x.next()),c=E.done,!c;_=!0){m=E.value,_=!1;const w=m;v||w&&(yield yield Ce(JSON.parse(w)))}}catch(w){f={error:w}}finally{try{!_&&!c&&(h=x.return)&&(yield Ce(h.call(x)))}finally{if(f)throw f.error}}v=!0}catch(w){if(Ow(w))return yield Ce(void 0);throw w}finally{v||n.abort()}})}return new Ss(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const s=r.next();e.push(s),n.push(s)}return a.shift()}});return[new Ss(()=>i(e),this.controller,this.client),new Ss(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return gB({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:a}=await n.next();if(a)return r.close();const s=uE(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function lfe(t,e){return Ar(this,arguments,function*(){var r,i,a,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new fr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new fr("Attempted to iterate over a response with no body");const u=new cfe,c=new zp,f=vB(t.body);try{for(var h=!0,m=Cr(ufe(f)),v;v=yield Ce(m.next()),r=v.done,!r;h=!0){s=v.value,h=!1;const _=s;for(const x of c.decode(_)){const E=u.decode(x);E&&(yield yield Ce(E))}}}catch(_){i={error:_}}finally{try{!h&&!r&&(a=m.return)&&(yield Ce(a.call(m)))}finally{if(i)throw i.error}}for(const _ of c.flush()){const x=u.decode(_);x&&(yield yield Ce(x))}})}function ufe(t){return Ar(this,arguments,function*(){var n,r,i,a;let s=new Uint8Array;try{for(var u=!0,c=Cr(t),f;f=yield Ce(c.next()),n=f.done,!n;u=!0){a=f.value,u=!1;const h=a;if(h==null)continue;const m=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?uE(h):h;let v=new Uint8Array(s.length+m.length);v.set(s),v.set(m,s.length),s=v;let _;for(;(_=ofe(s))!==-1;)yield yield Ce(s.slice(0,_)),s=s.slice(_)}}catch(h){r={error:h}}finally{try{!u&&!n&&(i=c.return)&&(yield Ce(i.call(c)))}finally{if(r)throw r.error}}s.length>0&&(yield yield Ce(s))})}class cfe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=ffe(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function ffe(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function dfe(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:a}=e,s=await(async()=>{var u;if(e.options.stream)return dn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Ss.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),f=(u=c==null?void 0:c.split(";")[0])===null||u===void 0?void 0:u.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return dn(t).debug(`[${r}] response parsed`,Wa({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-a})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cE extends Promise{constructor(e,n,r=dfe){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new cE(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EB=Symbol("brand.privateNullableHeaders");function*hfe(t){if(!t)return;if(EB in t){const{values:r,nulls:i}=t;yield*r.entries();for(const a of i)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():A2(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=A2(r[1])?r[1]:[r[1]];let s=!1;for(const u of a)u!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,u])}}const mu=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[a,s]of hfe(r)){const u=a.toLowerCase();i.has(u)||(e.delete(a),i.add(u)),s===null?(e.delete(a),n.add(u)):(e.append(a,s),n.delete(u))}}return{[EB]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const M_=t=>{var e,n,r,i,a,s;if(typeof globalThis.process<"u")return(r=(n=(e=qie)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var TB;class Fp{constructor(e){var n,r,i,a,s,u,c,{baseURL:f=M_("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=M_("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=e,v=Yh(e,["baseURL","apiKey","apiVersion"]);const _=Object.assign(Object.assign({apiKey:h,apiVersion:m},v),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=_.baseURL,this.timeout=(r=_.timeout)!==null&&r!==void 0?r:Fp.DEFAULT_TIMEOUT,this.logger=(i=_.logger)!==null&&i!==void 0?i:console;const x="warn";this.logLevel=x,this.logLevel=(s=(a=N2(_.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:N2(M_("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:x,this.fetchOptions=_.fetchOptions,this.maxRetries=(u=_.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(c=_.fetch)!==null&&c!==void 0?c:Kce(),this.encoder=Jce,this._options=_,this.apiKey=h,this.apiVersion=m,this.clientAdapter=_.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=mu([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return mu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return mu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new fr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${hs}`}defaultIdempotencyKey(){return`stainless-node-retry-${Ice()}`}makeStatusError(e,n,r,i){return gn.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,a=kce(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return $ce(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new cE(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,a,s;const u=await e,c=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=c),await this.prepareOptions(u);const{req:f,url:h,timeout:m}=await this.buildRequest(u,{retryCount:c-n});await this.prepareRequest(f,{url:h,options:u});const v="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),_=r===void 0?"":`, retryOf: ${r}`,x=Date.now();if(dn(this).debug(`[${v}] sending request`,Wa({retryOfRequestLogID:r,method:u.method,url:h,options:u,headers:f.headers})),!((a=u.signal)===null||a===void 0)&&a.aborted)throw new Nw;const E=new AbortController,w=await this.fetchWithTimeout(h,f,m,E).catch(Mw),T=Date.now();if(w instanceof globalThis.Error){const A=`retrying, ${n} attempts remaining`;if(!((s=u.signal)===null||s===void 0)&&s.aborted)throw new Nw;const P=Ow(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(n)return dn(this).info(`[${v}] connection ${P?"timed out":"failed"} - ${A}`),dn(this).debug(`[${v}] connection ${P?"timed out":"failed"} (${A})`,Wa({retryOfRequestLogID:r,url:h,durationMs:T-x,message:w.message})),this.retryRequest(u,n,r??v);throw dn(this).info(`[${v}] connection ${P?"timed out":"failed"} - error; no more retries left`),dn(this).debug(`[${v}] connection ${P?"timed out":"failed"} (error; no more retries left)`,Wa({retryOfRequestLogID:r,url:h,durationMs:T-x,message:w.message})),P?new sB:new Vp({cause:w})}const C=`[${v}${_}] ${f.method} ${h} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${T-x}ms`;if(!w.ok){const A=await this.shouldRetry(w);if(n&&A){const U=`retrying, ${n} attempts remaining`;return await Yce(w.body),dn(this).info(`${C} - ${U}`),dn(this).debug(`[${v}] response error (${U})`,Wa({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:T-x})),this.retryRequest(u,n,r??v,w.headers)}const P=A?"error; no more retries left":"error; not retryable";dn(this).info(`${C} - ${P}`);const R=await w.text().catch(U=>Mw(U).message),M=jce(R),I=M?void 0:R;throw dn(this).debug(`[${v}] response error (${P})`,Wa({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,message:I,durationMs:Date.now()-x})),this.makeStatusError(w.status,M,I,w.headers)}return dn(this).info(C),dn(this).debug(`[${v}] response start`,Wa({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:T-x})),{response:w,options:u,controller:E,requestLogID:v,retryOfRequestLogID:r,startTime:x}}async fetchWithTimeout(e,n,r,i){const a=n||{},{signal:s,method:u}=a,c=Yh(a,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const f=setTimeout(()=>i.abort(),r),h=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,m=Object.assign(Object.assign(Object.assign({signal:i.signal},h?{duplex:"half"}:{}),{method:"GET"}),c);u&&(m.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,m)}finally{clearTimeout(f)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var a;let s;const u=i==null?void 0:i.get("retry-after-ms");if(u){const f=parseFloat(u);Number.isNaN(f)||(s=f)}const c=i==null?void 0:i.get("retry-after");if(c&&!s){const f=parseFloat(c);Number.isNaN(f)?s=Date.parse(c)-Date.now():s=f*1e3}if(!(s&&0<=s&&s<60*1e3)){const f=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,f)}return await Hce(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,s=Math.min(.5*Math.pow(2,a),8),u=1-Math.random()*.25;return s*u*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,a;const s=Object.assign({},e),{method:u,path:c,query:f,defaultBaseURL:h}=s,m=this.buildURL(c,f,h);"timeout"in s&&Bce("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:v,body:_}=this.buildBody({options:s}),x=await this.buildHeaders({options:e,method:u,bodyHeaders:v,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:x},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&_ instanceof globalThis.ReadableStream&&{duplex:"half"}),_&&{body:_}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=s.fetchOptions)!==null&&a!==void 0?a:{}),url:m,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let u=mu([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Fce()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=mu([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Wce(e)}:this.encoder({body:e,headers:r})}}Fp.DEFAULT_TIMEOUT=6e4;class Wt extends Fp{constructor(){super(...arguments),this.interactions=new xB(this)}}TB=Wt;Wt.GeminiNextGenAPIClient=TB;Wt.GeminiNextGenAPIClientError=fr;Wt.APIError=gn;Wt.APIConnectionError=Vp;Wt.APIConnectionTimeoutError=sB;Wt.APIUserAbortError=Nw;Wt.NotFoundError=fB;Wt.ConflictError=dB;Wt.RateLimitError=pB;Wt.BadRequestError=lB;Wt.AuthenticationError=uB;Wt.InternalServerError=mB;Wt.PermissionDeniedError=cB;Wt.UnprocessableEntityError=hB;Wt.toFile=tfe;Wt.Interactions=xB;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pfe(t,e){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function mfe(t,e){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function gfe(t,e){const n={},r=g(t,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function vfe(t,e){const n={},r=g(t,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function yfe(t,e,n){const r={};if(g(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=g(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&y(e,["displayName"],i),g(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=g(t,["epochCount"]);e!==void 0&&a!=null&&y(e,["tuningTask","hyperparameters","epochCount"],a);const s=g(t,["learningRateMultiplier"]);if(s!=null&&y(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),g(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(g(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=g(t,["batchSize"]);e!==void 0&&u!=null&&y(e,["tuningTask","hyperparameters","batchSize"],u);const c=g(t,["learningRate"]);if(e!==void 0&&c!=null&&y(e,["tuningTask","hyperparameters","learningRate"],c),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(g(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function bfe(t,e,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const _=g(t,["validationDataset"]);e!==void 0&&_!=null&&y(e,["supervisedTuningSpec"],I2(_))}else if(i==="PREFERENCE_TUNING"){const _=g(t,["validationDataset"]);e!==void 0&&_!=null&&y(e,["preferenceOptimizationSpec"],I2(_))}const a=g(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&y(e,["tunedModelDisplayName"],a);const s=g(t,["description"]);e!==void 0&&s!=null&&y(e,["description"],s);let u=g(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const _=g(t,["epochCount"]);e!==void 0&&_!=null&&y(e,["supervisedTuningSpec","hyperParameters","epochCount"],_)}else if(u==="PREFERENCE_TUNING"){const _=g(t,["epochCount"]);e!==void 0&&_!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],_)}let c=g(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const _=g(t,["learningRateMultiplier"]);e!==void 0&&_!=null&&y(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],_)}else if(c==="PREFERENCE_TUNING"){const _=g(t,["learningRateMultiplier"]);e!==void 0&&_!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],_)}let f=g(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const _=g(t,["exportLastCheckpointOnly"]);e!==void 0&&_!=null&&y(e,["supervisedTuningSpec","exportLastCheckpointOnly"],_)}else if(f==="PREFERENCE_TUNING"){const _=g(t,["exportLastCheckpointOnly"]);e!==void 0&&_!=null&&y(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],_)}let h=g(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const _=g(t,["adapterSize"]);e!==void 0&&_!=null&&y(e,["supervisedTuningSpec","hyperParameters","adapterSize"],_)}else if(h==="PREFERENCE_TUNING"){const _=g(t,["adapterSize"]);e!==void 0&&_!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],_)}if(g(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=g(t,["labels"]);e!==void 0&&m!=null&&y(e,["labels"],m);const v=g(t,["beta"]);return e!==void 0&&v!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","beta"],v),r}function _fe(t,e){const n={},r=g(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=g(t,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const a=g(t,["trainingDataset"]);a!=null&&Nfe(a);const s=g(t,["config"]);return s!=null&&yfe(s,n),n}function Sfe(t,e){const n={},r=g(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=g(t,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const a=g(t,["trainingDataset"]);a!=null&&Pfe(a,n,e);const s=g(t,["config"]);return s!=null&&bfe(s,n,e),n}function wfe(t,e){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function xfe(t,e){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function Efe(t,e,n){const r={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const a=g(t,["pageToken"]);e!==void 0&&a!=null&&y(e,["_query","pageToken"],a);const s=g(t,["filter"]);return e!==void 0&&s!=null&&y(e,["_query","filter"],s),r}function Tfe(t,e,n){const r={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const a=g(t,["pageToken"]);e!==void 0&&a!=null&&y(e,["_query","pageToken"],a);const s=g(t,["filter"]);return e!==void 0&&s!=null&&y(e,["_query","filter"],s),r}function Afe(t,e){const n={},r=g(t,["config"]);return r!=null&&Efe(r,n),n}function Cfe(t,e){const n={},r=g(t,["config"]);return r!=null&&Tfe(r,n),n}function Rfe(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const a=g(t,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>AB(u))),y(n,["tuningJobs"],s)}return n}function Ofe(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const a=g(t,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>Dw(u))),y(n,["tuningJobs"],s)}return n}function Mfe(t,e){const n={},r=g(t,["name"]);r!=null&&y(n,["model"],r);const i=g(t,["name"]);return i!=null&&y(n,["endpoint"],i),n}function Nfe(t,e){const n={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=g(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(n,["examples","examples"],i)}return n}function Pfe(t,e,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=g(t,["gcsUri"]);e!==void 0&&s!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=g(t,["gcsUri"]);e!==void 0&&s!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let a=g(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=g(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=g(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(g(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function AB(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&y(n,["name"],i);const a=g(t,["state"]);a!=null&&y(n,["state"],Hq(a));const s=g(t,["createTime"]);s!=null&&y(n,["createTime"],s);const u=g(t,["tuningTask","startTime"]);u!=null&&y(n,["startTime"],u);const c=g(t,["tuningTask","completeTime"]);c!=null&&y(n,["endTime"],c);const f=g(t,["updateTime"]);f!=null&&y(n,["updateTime"],f);const h=g(t,["description"]);h!=null&&y(n,["description"],h);const m=g(t,["baseModel"]);m!=null&&y(n,["baseModel"],m);const v=g(t,["_self"]);return v!=null&&y(n,["tunedModel"],Mfe(v)),n}function Dw(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&y(n,["name"],i);const a=g(t,["state"]);a!=null&&y(n,["state"],Hq(a));const s=g(t,["createTime"]);s!=null&&y(n,["createTime"],s);const u=g(t,["startTime"]);u!=null&&y(n,["startTime"],u);const c=g(t,["endTime"]);c!=null&&y(n,["endTime"],c);const f=g(t,["updateTime"]);f!=null&&y(n,["updateTime"],f);const h=g(t,["error"]);h!=null&&y(n,["error"],h);const m=g(t,["description"]);m!=null&&y(n,["description"],m);const v=g(t,["baseModel"]);v!=null&&y(n,["baseModel"],v);const _=g(t,["tunedModel"]);_!=null&&y(n,["tunedModel"],_);const x=g(t,["preTunedModel"]);x!=null&&y(n,["preTunedModel"],x);const E=g(t,["supervisedTuningSpec"]);E!=null&&y(n,["supervisedTuningSpec"],E);const w=g(t,["preferenceOptimizationSpec"]);w!=null&&y(n,["preferenceOptimizationSpec"],w);const T=g(t,["tuningDataStats"]);T!=null&&y(n,["tuningDataStats"],T);const C=g(t,["encryptionSpec"]);C!=null&&y(n,["encryptionSpec"],C);const A=g(t,["partnerModelTuningSpec"]);A!=null&&y(n,["partnerModelTuningSpec"],A);const P=g(t,["customBaseModel"]);P!=null&&y(n,["customBaseModel"],P);const R=g(t,["experiment"]);R!=null&&y(n,["experiment"],R);const M=g(t,["labels"]);M!=null&&y(n,["labels"],M);const I=g(t,["outputUri"]);I!=null&&y(n,["outputUri"],I);const k=g(t,["pipelineJob"]);k!=null&&y(n,["pipelineJob"],k);const U=g(t,["serviceAccount"]);U!=null&&y(n,["serviceAccount"],U);const V=g(t,["tunedModelDisplayName"]);V!=null&&y(n,["tunedModelDisplayName"],V);const $=g(t,["veoTuningSpec"]);return $!=null&&y(n,["veoTuningSpec"],$),n}function Ife(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&y(n,["name"],i);const a=g(t,["metadata"]);a!=null&&y(n,["metadata"],a);const s=g(t,["done"]);s!=null&&y(n,["done"],s);const u=g(t,["error"]);return u!=null&&y(n,["error"],u),n}function I2(t,e){const n={},r=g(t,["gcsUri"]);r!=null&&y(n,["validationDatasetUri"],r);const i=g(t,["vertexDatasetResource"]);return i!=null&&y(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dfe extends Di{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new go(Ri.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:ww.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=xfe(e);return u=he("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>Dw(h))}else{const f=wfe(e);return u=he("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>AB(h))}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Cfe(e);return u=he("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=Ofe(h),v=new a2;return Object.assign(v,m),v})}else{const f=Afe(e);return u=he("tunedModels",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=Rfe(h),v=new a2;return Object.assign(v,m),v})}}async cancel(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=mfe(e);return u=he("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=vfe(h),v=new o2;return Object.assign(v,m),v})}else{const f=pfe(e);return u=he("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=gfe(h),v=new o2;return Object.assign(v,m),v})}}async tuneInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=Sfe(e,e);return a=he("tuningJobs",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>Dw(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=_fe(e);return a=he("tunedModels",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>Ife(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kfe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Ufe=1024*1024*8,Lfe=3,$fe=1e3,qfe=2,Xh="x-goog-upload-status";async function Bfe(t,e,n){var r;const i=await CB(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Xh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function jfe(t,e,n){var r;const i=await CB(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Xh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=Uq(a),u=new rE;return Object.assign(u,s),u}async function CB(t,e,n){var r,i;let a=0,s=0,u=new xw(new Response),c="upload";for(a=t.size;s<a;){const f=Math.min(Ufe,a-s),h=t.slice(s,s+f);s+f>=a&&(c+=", finalize");let m=0,v=$fe;for(;m<Lfe&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[Xh]));)m++,await Gfe(v),v=v*qfe;if(s+=f,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[Xh])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function Hfe(t){return{size:t.size,type:t.type}}function Gfe(t){return new Promise(e=>setTimeout(e,t))}class Vfe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Bfe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await jfe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Hfe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zfe{create(e,n,r){return new Ffe(e,n,r)}}class Ffe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const D2="x-goog-api-key";class Kfe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(D2)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(D2,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wfe="gl-node/";class Yfe{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Wt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Gie(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new Kfe(this.apiKey);this.apiClient=new Hue({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Wfe+"web",uploader:new Vfe,downloader:new kfe}),this.models=new sce(this.apiClient),this.live=new tce(this.apiClient,i,new zfe),this.batches=new yoe(this.apiClient),this.chats=new Zoe(this.models,this.apiClient),this.caches=new Joe(this.apiClient),this.files=new use(this.apiClient),this.operations=new lce(this.apiClient),this.authTokens=new Ece(this.apiClient),this.tunings=new Dfe(this.apiClient),this.fileSearchStores=new Pce(this.apiClient)}}var Jfe={};const RB=()=>new Yfe({apiKey:Jfe.API_KEY||""}),Xfe=async(t,e)=>{const n=RB(),r=`Analiza el siguiente tema poltico de forma objetiva y proporciona un resumen equilibrado, 3 argumentos clave a favor y 3 argumentos clave en contra.
  Ttulo del tema: ${t}
  Contexto: ${e}
  
  Asegrate de que el tono sea neutral, educativo y evite sesgos partidistas. Responde exclusivamente en espaol y en formato JSON.`,i=await n.models.generateContent({model:"gemini-3-flash-preview",contents:r,config:{responseMimeType:"application/json",responseSchema:{type:un.OBJECT,properties:{summary:{type:un.STRING},pros:{type:un.ARRAY,items:{type:un.STRING}},cons:{type:un.ARRAY,items:{type:un.STRING}}},required:["summary","pros","cons"]}}});try{return JSON.parse(i.text.trim())}catch(a){throw console.error("Failed to parse AI response",a),new Error("Error al analizar el tema.")}},Qfe=async()=>{const n=await RB().models.generateContent({model:"gemini-3-flash-preview",contents:"Lista 5 temas actuales, populares y debatidos de la poltica o sociedad espaola que sean adecuados para una plataforma de votacin pblica. Devuelve un array JSON de strings en espaol.",config:{responseMimeType:"application/json",responseSchema:{type:un.ARRAY,items:{type:un.STRING}}}});return JSON.parse(n.text.trim())},Zfe=["AN","AR","AS","IB","CN","CB","CM","CL","CT","VC","EX","GA","MD","MC","NC","PV","RI","CE","ML"],ede=({onAddTopic:t})=>{const e=Lw(),[n,r]=B.useState(!1),[i,a]=B.useState([]),[s,u]=B.useState({title:"",description:"",category:"Economa"});B.useEffect(()=>{(async()=>{try{const h=await Qfe();a(h)}catch{console.error("Failed to fetch suggestions")}})()},[]);const c=async f=>{if(f.preventDefault(),!(!s.title||!s.description)){r(!0);try{const h=await Xfe(s.title,s.description),m={};Zfe.forEach(_=>{m[_]={support:0,oppose:0,neutral:0}});const v={id:Math.random().toString(36).substr(2,9),title:s.title,description:s.description,category:s.category,createdAt:Date.now(),votes:{support:0,oppose:0,neutral:0},regionalVotes:m,pros:h.pros,cons:h.cons,aiAnalysis:h.summary};t(v),e("/")}catch{alert("Error al analizar el tema. Por favor, revisa tu conexin o intntalo de nuevo.")}finally{r(!1)}}};return N.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:N.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 shadow-sm overflow-hidden",children:[N.jsxs("div",{className:"bg-indigo-600 px-8 py-10 text-white",children:[N.jsx("h1",{className:"text-3xl font-extrabold mb-2",children:"Proponer un Nuevo Debate"}),N.jsx("p",{className:"text-indigo-100",children:"La IA generar automticamente una lista equilibrada de argumentos y un anlisis para tu tema."})]}),N.jsxs("form",{onSubmit:c,className:"p-8 space-y-8",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Ttulo del Tema"}),N.jsx("input",{type:"text",required:!0,placeholder:"p.ej. Implementacin del voto obligatorio en elecciones generales",className:"w-full px-4 py-3 rounded-xl border border-gray-300 text-gray-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",value:s.title,onChange:f=>u({...s,title:f.target.value})}),i.length>0&&N.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[N.jsx("span",{className:"text-xs text-gray-400 self-center",children:"Sugerencias:"}),i.map(f=>N.jsx("button",{type:"button",onClick:()=>u({...s,title:f}),className:"text-xs bg-gray-100 hover:bg-indigo-50 hover:text-indigo-600 px-2 py-1 rounded transition",children:f},f))]})]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Categora"}),N.jsxs("select",{className:"w-full px-4 py-3 rounded-xl border border-gray-300 text-gray-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",value:s.category,onChange:f=>u({...s,category:f.target.value}),children:[N.jsx("option",{value:"Economa",className:"text-gray-900",children:"Economa"}),N.jsx("option",{value:"Medio Ambiente",className:"text-gray-900",children:"Medio Ambiente"}),N.jsx("option",{value:"Social",className:"text-gray-900",children:"Social"}),N.jsx("option",{value:"Legal",className:"text-gray-900",children:"Legal"}),N.jsx("option",{value:"Salud",className:"text-gray-900",children:"Salud"})]})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Duracin de la Votacin"}),N.jsx("select",{disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-100 bg-gray-50 text-gray-400 cursor-not-allowed",children:N.jsx("option",{children:"7 Das (Estndar)"})})]})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Descripcin y Contexto"}),N.jsx("textarea",{required:!0,rows:4,placeholder:"Proporciona un breve resumen de por qu este tema es importante y qu se debera votar especficamente.",className:"w-full px-4 py-3 rounded-xl border border-gray-300 text-gray-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",value:s.description,onChange:f=>u({...s,description:f.target.value})})]}),N.jsxs("div",{className:"pt-4 border-t border-gray-100 flex justify-end items-center space-x-4",children:[N.jsx("button",{type:"button",onClick:()=>e("/"),className:"px-6 py-3 text-sm font-bold text-gray-600 hover:text-gray-900",children:"Cancelar"}),N.jsx("button",{type:"submit",disabled:n,className:`px-10 py-3 bg-indigo-600 text-white font-bold rounded-xl shadow-lg shadow-indigo-200 transition-all ${n?"opacity-50 cursor-not-allowed":"hover:bg-indigo-700 active:scale-95"}`,children:n?"Analizando...":"Proponer Tema"})]})]})]})})},tde=({isOpen:t,onClose:e})=>{const[n,r]=B.useState(!1),[i,a]=B.useState("password"),[s,u]=B.useState("signin"),[c,f]=B.useState(""),[h,m]=B.useState(""),[v,_]=B.useState(""),[x,E]=B.useState(""),[w,T]=B.useState(!1),C=async P=>{P.preventDefault(),r(!0);const{error:R}=await rn.auth.signInWithOtp({email:c,options:{emailRedirectTo:window.location.origin}});R?alert("Error: "+R.message):T(!0),r(!1)},A=async P=>{if(P.preventDefault(),r(!0),s==="signup"){if(!v){alert("Por favor, elige un nombre de usuario."),r(!1);return}const{data:R}=await rn.from("profiles").select("username").eq("username",v).single();if(R){alert("Este nombre de usuario ya est cogido. Por favor elige otro."),r(!1);return}const{data:M,error:I}=await rn.auth.signUp({email:c,password:h,options:{data:{username:v,region:x}}});I?I.message.includes("unique constraint")||I.message.includes("profiles_username_key")?alert("El nombre de usuario no est disponible."):alert("Error al registrarse: "+I.message):(alert("Usuario registrado! "+(M.session?"Sesin iniciada.":"Por favor revisa tu correo para confirmar.")),M.session&&e())}else{const{error:R}=await rn.auth.signInWithPassword({email:c,password:h});R?alert("Error al entrar: "+R.message):e()}r(!1)};return t?N.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[N.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity",onClick:e}),N.jsx("div",{className:"relative bg-white w-full max-w-md rounded-3xl shadow-2xl overflow-hidden transform transition-all border border-gray-100",children:N.jsxs("div",{className:"p-8",children:[N.jsxs("div",{className:"flex justify-between items-center mb-6",children:[N.jsx("h2",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Acceso Ciudadano"}),N.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition p-1 hover:bg-gray-100 rounded-full",children:N.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),N.jsxs("div",{className:"flex space-x-2 mb-6 bg-gray-100 p-1 rounded-lg",children:[N.jsx("button",{onClick:()=>a("password"),className:`flex - 1 py - 1.5 text - sm font - medium rounded - md transition - all ${i==="password"?"bg-white text-indigo-600 shadow-sm":"text-gray-500 hover:text-gray-700"} `,children:"Contrasea"}),N.jsx("button",{onClick:()=>a("magic_link"),className:`flex - 1 py - 1.5 text - sm font - medium rounded - md transition - all ${i==="magic_link"?"bg-white text-indigo-600 shadow-sm":"text-gray-500 hover:text-gray-700"} `,children:"Link Mgico"})]}),i==="magic_link"?w?N.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-100",children:[N.jsx("h3",{className:"text-lg font-medium text-green-900",children:"Enlace enviado!"}),N.jsxs("p",{className:"mt-2 text-sm text-green-600",children:["Revisa ",c]}),N.jsx("button",{onClick:e,className:"mt-4 text-sm font-medium text-green-600 hover:text-green-500",children:"Cerrar"})]}):N.jsxs("form",{onSubmit:C,className:"space-y-4",children:[N.jsx("p",{className:"text-gray-600 text-sm",children:"Te enviaremos un enlace a tu correo. Sin contraseas."}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Correo Electrnico"}),N.jsx("input",{type:"email",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"ejemplo@correo.com",value:c,onChange:P=>f(P.target.value)})]}),N.jsx("button",{type:"submit",disabled:n,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-full font-bold shadow-md disabled:opacity-50",children:n?"Enviando...":"Enviar Enlace Mgico "})]}):N.jsxs("form",{onSubmit:A,className:"space-y-4",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Correo Electrnico"}),N.jsx("input",{type:"email",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"ejemplo@correo.com",value:c,onChange:P=>f(P.target.value)})]}),s==="signup"&&N.jsxs(N.Fragment,{children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre de Usuario"}),N.jsx("input",{type:"text",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"usuario_unico",value:v,onChange:P=>_(P.target.value)})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Comunidad Autnoma"}),N.jsxs("select",{required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",value:x,onChange:P=>E(P.target.value),children:[N.jsx("option",{value:"",children:"Selecciona tu regin..."}),N.jsx("option",{value:"AN",children:"Andaluca"}),N.jsx("option",{value:"AR",children:"Aragn"}),N.jsx("option",{value:"AS",children:"Asturias"}),N.jsx("option",{value:"IB",children:"Baleares"}),N.jsx("option",{value:"CN",children:"Canarias"}),N.jsx("option",{value:"CB",children:"Cantabria"}),N.jsx("option",{value:"CM",children:"Castilla-La Mancha"}),N.jsx("option",{value:"CL",children:"Castilla y Len"}),N.jsx("option",{value:"CT",children:"Catalua"}),N.jsx("option",{value:"CE",children:"Ceuta"}),N.jsx("option",{value:"VC",children:"Comunidad Valenciana"}),N.jsx("option",{value:"EX",children:"Extremadura"}),N.jsx("option",{value:"GA",children:"Galicia"}),N.jsx("option",{value:"RI",children:"La Rioja"}),N.jsx("option",{value:"MD",children:"Madrid"}),N.jsx("option",{value:"ML",children:"Melilla"}),N.jsx("option",{value:"MC",children:"Murcia"}),N.jsx("option",{value:"NC",children:"Navarra"}),N.jsx("option",{value:"PV",children:"Pas Vasco"})]})]})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contrasea"}),N.jsx("input",{type:"password",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"********",value:h,onChange:P=>m(P.target.value)})]}),N.jsx("button",{type:"submit",disabled:n,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-full font-bold shadow-md disabled:opacity-50",children:n?"Procesando...":s==="signin"?"Iniciar Sesin":"Registrarse"}),N.jsx("div",{className:"text-center mt-4",children:N.jsx("button",{type:"button",className:"text-sm text-indigo-600 hover:text-indigo-500 font-medium",onClick:()=>u(s==="signin"?"signup":"signin"),children:s==="signin"?"No tienes cuenta? Regstrate":"Ya tienes cuenta? Inicia Sesin"})})]}),N.jsx("div",{className:"mt-8 text-center",children:N.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest font-bold",children:"Powered by Supabase Auth"})})]})})]}):null},nde=t=>{if(!/^\d{8}[A-Za-z]$/.test(t))return!1;const n=parseInt(t.substring(0,8),10),r=t.substring(8,9).toUpperCase(),a="TRWAGMYFPDXBNJZSQVHLCKE".charAt(n%23);return r===a},rde=[{code:"MD",name:"Madrid"},{code:"CT",name:"Catalua"},{code:"AN",name:"Andaluca"},{code:"VC",name:"Comunidad Valenciana"},{code:"GA",name:"Galicia"},{code:"PV",name:"Pas Vasco"},{code:"CL",name:"Castilla y Len"},{code:"CM",name:"Castilla-La Mancha"},{code:"AR",name:"Aragn"},{code:"EX",name:"Extremadura"},{code:"IB",name:"Baleares"},{code:"CN",name:"Canarias"},{code:"AS",name:"Asturias"},{code:"CB",name:"Cantabria"},{code:"NC",name:"Navarra"},{code:"MC",name:"Murcia"},{code:"RI",name:"La Rioja"},{code:"CE",name:"Ceuta"},{code:"ML",name:"Melilla"}],ide=["Estudiante","Desempleado","Trabajador Manual / Obrero","Trabajador Servicios / Administrativo","Profesional Tcnico / Autnomo","Directivo / Empresario","Jubilado","Otras"],ade=["Masculino","Femenino","Otro","Prefiero no decir"],ode=({user:t})=>{const[e,n]=B.useState(t.region||""),[r,i]=B.useState(""),[a,s]=B.useState(t.avatar||""),[u,c]=B.useState(""),[f,h]=B.useState(""),[m,v]=B.useState(""),[_,x]=B.useState({dni:"",age:"",occupation:"",gender:""}),[E,w]=B.useState(!1),[T,C]=B.useState(!1),[A,P]=B.useState(null),R=[`https://api.dicebear.com/7.x/avataaars/svg?seed=${t.name}`,`https://api.dicebear.com/7.x/bottts/svg?seed=${t.name}`,`https://api.dicebear.com/7.x/initials/svg?seed=${t.name}`,`https://api.dicebear.com/7.x/lorelei/svg?seed=${t.name}`,`https://api.dicebear.com/7.x/notionists/svg?seed=${t.name}`,`https://api.dicebear.com/7.x/micah/svg?seed=${t.name}`];B.useEffect(()=>{n(t.region||""),s(t.avatar||""),(async()=>{const{data:U}=await rn.from("profiles").select("dni, avatar_url, age, occupation, gender").eq("id",t.id).single();if(U){const V=U.dni||"",$=U.age?U.age.toString():"",F=U.occupation||"",z=U.gender||"";i(V),c($),h(F),v(z),U.avatar_url&&s(U.avatar_url),x({dni:V,age:$,occupation:F,gender:z})}})()},[t.id,t.region,t.avatar]);const M=e!==(t.region||"")||a!==t.avatar||r!==_.dni||u!==_.age||f!==_.occupation||m!==_.gender,I=async()=>{if(P(null),r&&!nde(r)){P({type:"error",text:"El DNI introducido no es vlido. Verifica la letra."});return}C(!0);try{await fa.updateUserProfile(t.id,{region:e,dni:r||void 0,avatar_url:a,age:u?parseInt(u):void 0,occupation:f||void 0,gender:m||void 0}),P({type:"success",text:"Perfil actualizado correctamente. Recarga para actualizar tu foto en toda la app."}),x({dni:r,age:u,occupation:f,gender:m})}catch(k){P({type:"error",text:"Error al actualizar: "+k.message})}finally{C(!1)}};return N.jsxs("div",{className:"max-w-2xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[E&&N.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:N.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[N.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:()=>w(!1)}),N.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),N.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[N.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:N.jsx("div",{className:"sm:flex sm:items-start",children:N.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[N.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:"Elige tu Avatar"}),N.jsx("div",{className:"mt-4 grid grid-cols-3 gap-4",children:R.map((k,U)=>N.jsx("button",{onClick:()=>{s(k),w(!1)},className:`aspect-w-1 aspect-h-1 rounded-full border-2 overflow-hidden hover:opacity-80 transition-all ${a===k?"border-indigo-600 ring-2 ring-indigo-200":"border-transparent"}`,children:N.jsx("img",{src:k,alt:`Option ${U}`,className:"w-full h-full object-cover"})},U))})]})})}),N.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:N.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>w(!1),children:"Cancelar"})})]})]})}),N.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[N.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[N.jsx("h3",{className:"text-lg leading-6 font-bold text-gray-900",children:"Mi Perfil"}),N.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Detalles de tu cuenta en La Voz Del Pueblo."})]}),N.jsx("div",{className:"border-t border-gray-200",children:N.jsxs("dl",{children:[N.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[N.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Avatar"}),N.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:N.jsxs("div",{className:"flex items-center space-x-4",children:[N.jsx("img",{className:"h-16 w-16 rounded-full border-2 border-indigo-100",src:a,alt:"Avatar"}),N.jsx("button",{onClick:()=>w(!0),className:"text-indigo-600 hover:text-indigo-900 text-sm font-medium hover:underline",children:"Cambiar foto"})]})})]}),N.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[N.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Nombre de Usuario"}),N.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 font-medium flex items-center",children:t.name})]}),N.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[N.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Correo Electrnico"}),N.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:t.email})]}),N.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[N.jsx("dt",{className:"text-sm font-medium text-gray-500 pt-3",children:"Ocupacin / Clase"}),N.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:N.jsxs("select",{value:f,onChange:k=>h(k.target.value),className:"block w-full max-w-xs pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md border",children:[N.jsx("option",{value:"",disabled:!0,children:"Selecciona tu ocupacin..."}),ide.map(k=>N.jsx("option",{value:k,children:k},k))]})})]}),N.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[N.jsx("dt",{className:"text-sm font-medium text-gray-500 pt-3",children:"Datos Demogrficos"}),N.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:N.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-xs",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Edad"}),N.jsx("input",{type:"number",min:"16",max:"120",value:u,onChange:k=>c(k.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Gnero"}),N.jsxs("select",{value:m,onChange:k=>v(k.target.value),className:"block w-full pl-3 pr-8 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[N.jsx("option",{value:"",disabled:!0,children:"Selecciona..."}),ade.map(k=>N.jsx("option",{value:k,children:k},k))]})]})]})})]}),N.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[N.jsx("dt",{className:"text-sm font-medium text-gray-500 pt-3",children:"DNI / NIF"}),N.jsxs("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:[N.jsx("input",{type:"text",value:r,onChange:k=>i(k.target.value.toUpperCase()),placeholder:"12345678Z",maxLength:9,className:"block w-full max-w-xs px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm font-mono uppercase"}),N.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Introduce tu DNI con letra para verificar tu identidad."})]})]}),N.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[N.jsx("dt",{className:"text-sm font-medium text-gray-500 pt-3",children:"Comunidad Autnoma"}),N.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:N.jsxs("div",{className:"flex flex-col space-y-3",children:[N.jsxs("select",{value:e,onChange:k=>n(k.target.value),className:"block w-full max-w-xs pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md border",children:[N.jsx("option",{value:"",disabled:!0,children:"Selecciona tu CCAA..."}),rde.map(k=>N.jsx("option",{value:k.code,children:k.name},k.code))]}),N.jsx("p",{className:"text-xs text-gray-400",children:"Tu CCAA se utiliza para registrar tus votos automticamente."})]})})]}),N.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[N.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"ID de Usuario"}),N.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 font-mono text-xs text-gray-400 select-all",children:t.id})]})]})})]}),N.jsx("div",{className:"px-4 py-3 bg-gray-50 text-right sm:px-6 border-t border-gray-200",children:N.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[A&&N.jsx("span",{className:`text-sm font-medium ${A.type==="success"?"text-green-600":"text-red-600"}`,children:A.text}),N.jsx("button",{onClick:I,disabled:T||!M,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:T?"Guardando...":"Guardar Cambios"})]})})]})},sde=({userId:t})=>{const[e,n]=B.useState([]),[r,i]=B.useState(!0);B.useEffect(()=>{t&&(async()=>{try{const u=await fa.fetchUserVotes(t);n(u)}catch(u){console.error("Error loading votes:",u)}finally{i(!1)}})()},[t]);const a=s=>{switch(s){case"support":return N.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"A Favor"});case"oppose":return N.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"En Contra"});default:return N.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:"Neutral"})}};return r?N.jsx("div",{className:"p-8 text-center",children:"Cargando historial..."}):N.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[N.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Mis Votos"}),e.length===0?N.jsxs("div",{className:"text-center py-10 bg-gray-50 rounded-lg",children:[N.jsx("p",{className:"text-gray-500",children:"An no has votado en ningn tema."}),N.jsx(pn,{to:"/",className:"mt-4 inline-block text-indigo-600 hover:text-indigo-500",children:"Ir a votar "})]}):N.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:N.jsx("ul",{className:"divide-y divide-gray-200",children:e.map(s=>N.jsx("li",{children:N.jsx(pn,{to:`/topic/${s.topic_id}`,className:"block hover:bg-gray-50",children:N.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsx("p",{className:"text-sm font-medium text-indigo-600 truncate",children:s.topic.title}),N.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:a(s.choice)})]}),N.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[N.jsx("div",{className:"sm:flex",children:N.jsx("p",{className:"flex items-center text-sm text-gray-500",children:s.topic.category})}),N.jsx("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:N.jsxs("p",{children:["Votado el ",new Date(s.created_at).toLocaleDateString()]})})]})]})})},s.id))})})]})},lde=[{id:"Poltica",name:"Poltica",icon:"",description:"Debates sobre gobierno, leyes y derechos."},{id:"Economa",name:"Economa",icon:"",description:"Impuestos, empleo, moneda y mercados."},{id:"Social",name:"Social",icon:"",description:"Cuestiones sociales, igualdad y comunidad."},{id:"Medio Ambiente",name:"Medio Ambiente",icon:"",description:"Cambio climtico, energa y naturaleza."},{id:"Tecnologa",name:"Tecnologa",icon:"",description:"Innovacin, IA y privacidad digital."},{id:"Sanidad",name:"Sanidad",icon:"",description:"Salud pblica, medicina y bienestar."},{id:"Educacin",name:"Educacin",icon:"",description:"Sistema educativo, becas y docencia."},{id:"Ciencia",name:"Ciencia",icon:"",description:"Investigacin, espacio y descubrimientos."},{id:"Entretenimiento",name:"Entretenimiento",icon:"",description:"Cine, msica, cultura y ocio."}],ude=()=>{const[t,e]=B.useState(null);return B.useEffect(()=>{fa.fetchUserCount().then(n=>e(n))},[]),N.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[N.jsxs("div",{className:"text-center mb-16",children:[N.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 sm:text-5xl sm:tracking-tight lg:text-6xl",children:"Elige tu Campo de Batalla"}),t!==null&&N.jsxs("p",{className:"mt-2 text-sm text-indigo-600 font-medium",children:["Ya somos ",N.jsx("span",{className:"font-bold text-lg",children:t.toLocaleString()})," ciudadanos registrados"]}),N.jsx("p",{className:"mt-5 max-w-xl mx-auto text-xl text-gray-500",children:"Selecciona una categora para explorar los debates activos y haz or tu voz."})]}),N.jsx("div",{className:"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:lde.map(n=>N.jsxs(pn,{to:`/category/${n.id}`,className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-500 rounded-2xl shadow-sm hover:shadow-lg transition-all duration-200 border border-gray-100 flex flex-col items-center text-center",children:[N.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-16 w-16 rounded-full bg-indigo-50 text-3xl mb-4 group-hover:scale-110 transition-transform",children:n.icon}),N.jsxs("div",{children:[N.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[N.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),n.name]}),N.jsx("p",{className:"mt-2 text-sm text-gray-500",children:n.description})]})]},n.id))}),N.jsx("div",{className:"mt-12 text-center",children:N.jsx(pn,{to:"/latest",className:"text-indigo-600 hover:text-indigo-500 font-medium",children:"Ver todos los temas recientes "})})]})},cde=({topics:t})=>{const{categoryId:e}=W2(),n=e?decodeURIComponent(e):"",r=t.filter(i=>i.category===n);return N.jsx(bU,{topics:r,title:`Debates de ${n}`,showFilters:!1})},fde=()=>N.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[N.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 mb-8",children:"Trminos y Condiciones de Uso"}),N.jsxs("div",{className:"prose prose-indigo text-gray-500",children:[N.jsx("p",{className:"mb-4",children:"Bienvenido a La Voz del Pueblo. Al acceder y utilizar nuestra plataforma, aceptas cumplir con los siguientes trminos y condiciones. Si no ests de acuerdo con alguna parte de estos trminos, por favor no utilices nuestros servicios."}),N.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"1. Uso de la Plataforma"}),N.jsx("p",{className:"mb-4",children:"Nuestra misin es fomentar el debate democrtico y la participacin ciudadana. Al usar la plataforma, te comprometes a:"}),N.jsxs("ul",{className:"list-disc pl-5 mb-4 space-y-2",children:[N.jsx("li",{children:"Mantener un tono respetuoso y constructivo en los debates."}),N.jsx("li",{children:"No publicar contenido ofensivo, discriminatorio o ilegal."}),N.jsx("li",{children:"Proporcionar informacin veraz en tu perfil de usuario."}),N.jsx("li",{children:"No intentar manipular las votaciones mediante el uso de bots o cuentas falsas (salvo las generadas por el sistema para demostraciones internas)."})]}),N.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"2. Registro y Seguridad"}),N.jsx("p",{className:"mb-4",children:"Para participar en las votaciones, es necesario registrarse. Eres responsable de mantener la confidencialidad de tus credenciales de acceso y de toda la actividad que ocurra bajo tu cuenta."}),N.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"3. Propiedad Intelectual"}),N.jsx("p",{className:"mb-4",children:"El contenido generado por los usuarios (comentarios, propuestas) es propiedad de sus respectivos autores, pero al publicarlo en La Voz del Pueblo, nos otorgas una licencia no exclusiva para mostrarlo y utilizarlo con fines estadsticos y analticos."}),N.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"4. Limitacin de Responsabilidad"}),N.jsx("p",{className:"mb-4",children:'La Voz del Pueblo ofrece esta plataforma "tal cual" para fines informativos y de participacin. No nos hacemos responsables de las opiniones vertidas por los usuarios ni garantizamos que los resultados de las votaciones sean vinculantes para ninguna institucin gubernamental.'}),N.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"5. Modificaciones"}),N.jsx("p",{className:"mb-4",children:"Nos reservamos el derecho de modificar estos trminos en cualquier momento. Te notificaremos sobre cambios significativos a travs de la plataforma."}),N.jsx("p",{className:"mt-8 text-sm text-gray-400",children:"ltima actualizacin: Enero 2026"})]})]}),dde=()=>N.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[N.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 mb-8",children:"Poltica de Privacidad"}),N.jsxs("div",{className:"prose prose-indigo text-gray-500",children:[N.jsx("p",{className:"mb-4",children:"En La Voz del Pueblo, nos tomamos muy en serio tu privacidad. Esta poltica describe cmo recopilamos, usamos y protegemos tu informacin personal."}),N.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"1. Informacin que Recopilamos"}),N.jsxs("ul",{className:"list-disc pl-5 mb-4 space-y-2",children:[N.jsxs("li",{children:[N.jsx("strong",{children:"Datos de Registro:"})," Correo electrnico, nombre de usuario y contrasea (cifrada)."]}),N.jsxs("li",{children:[N.jsx("strong",{children:"Perfil Demogrfico:"})," Edad, ocupacin, gnero y comunidad autnoma. Estos datos se utilizan para segmentar estadsticas."]}),N.jsxs("li",{children:[N.jsx("strong",{children:"Actividad:"})," Tu historial de votos y propuestas en la plataforma."]})]}),N.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"2. Uso de la Informacin"}),N.jsx("p",{className:"mb-4",children:"Utilizamos tus datos exclusivamente para:"}),N.jsxs("ul",{className:"list-disc pl-5 mb-4 space-y-2",children:[N.jsx("li",{children:"Gestionar tu cuenta y autenticacin."}),N.jsx("li",{children:'Generar estadsticas demogrficas annimas sobre las votaciones (ej. "Qu opinan los estudiantes en Madrid?").'}),N.jsx("li",{children:"Mejorar la experiencia de usuario en la plataforma."})]}),N.jsx("p",{className:"mb-4 font-semibold",children:"Nunca vendemos tus datos personales a terceros."}),N.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"3. Seguridad de los Datos"}),N.jsx("p",{className:"mb-4",children:"Utilizamos Supabase como proveedor de infraestructura, que implementa estndares de seguridad de la industria (cifrado en trnsito y en reposo) para proteger tu informacin."}),N.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"4. Tus Derechos"}),N.jsx("p",{className:"mb-4",children:'Tienes derecho a acceder, rectificar o eliminar tus datos personales en cualquier momento. Puedes gestionar tu perfil desde la seccin "Mi Perfil" o contactarnos para una eliminacin completa de la cuenta.'}),N.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"5. Cookies"}),N.jsx("p",{className:"mb-4",children:"Utilizamos cookies esenciales para mantener tu sesin iniciada. No utilizamos cookies de rastreo publicitario de terceros."}),N.jsx("p",{className:"mt-8 text-sm text-gray-400",children:"ltima actualizacin: Enero 2026"})]})]}),hde=({user:t,onLogin:e,onLogout:n})=>{const r=ma(),i=a=>r.pathname===a;return N.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:N.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:N.jsxs("div",{className:"flex justify-between h-16",children:[N.jsx("div",{className:"flex items-center",children:N.jsxs(pn,{to:"/",className:"flex items-center space-x-2",children:[N.jsx("div",{className:"bg-indigo-600 text-white p-2 rounded-lg",children:N.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2-2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),N.jsxs("span",{className:"text-xl font-extrabold text-gray-900 tracking-tight",children:["La Voz Del ",N.jsx("span",{className:"text-indigo-600",children:"Pueblo"})]})]})}),N.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[N.jsx(pn,{to:"/",className:`${i("/")?"border-indigo-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium`,children:"Explorar"}),N.jsx(pn,{to:"/new",className:`${i("/new")?"border-indigo-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium`,children:"Proponer Tema"})]}),N.jsx("div",{className:"flex items-center space-x-4",children:t?N.jsxs("div",{className:"flex items-center space-x-3 bg-gray-50 pr-1 pl-3 py-1 rounded-full border border-gray-200",children:[N.jsxs(pn,{to:"/profile",className:"flex items-center space-x-2 hover:opacity-80",children:[N.jsx("span",{className:"text-xs font-bold text-gray-700",children:t.name}),N.jsx("img",{src:t.avatar,className:"w-8 h-8 rounded-full border border-white shadow-sm",alt:"User"})]}),N.jsx(pn,{to:"/profile/votes",className:"text-gray-400 hover:text-indigo-600 p-1",title:"Mis Votos",children:N.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),N.jsx("div",{className:"h-4 w-px bg-gray-300 mx-1"}),N.jsx("button",{onClick:n,className:"p-1.5 text-gray-400 hover:text-red-500 transition",title:"Cerrar Sesin",children:N.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]}):N.jsx("button",{onClick:e,className:"bg-indigo-600 text-white px-6 py-2 rounded-full text-sm font-bold shadow-lg shadow-indigo-100 hover:bg-indigo-700 transition active:scale-95",children:"Iniciar Sesin"})})]})})})},pde=()=>{const[t,e]=B.useState([]),[n,r]=B.useState(null),[i,a]=B.useState(!1),s=async()=>{try{const h=await fa.fetchTopics();e(h)}catch(h){console.error("Error fetching topics:",h)}};B.useEffect(()=>{s()},[n]),B.useEffect(()=>{rn.auth.getSession().then(({data:{session:m}})=>{m!=null&&m.user&&u(m.user)});const{data:{subscription:h}}=rn.auth.onAuthStateChange((m,v)=>{v!=null&&v.user?u(v.user):r(null)});return()=>{h.unsubscribe()}},[]);const u=async h=>{var _,x,E;const m=((_=h.user_metadata)==null?void 0:_.username)||((x=h.email)==null?void 0:x.split("@")[0])||"Ciudadano",{data:v}=await rn.from("profiles").select("region, is_fake, avatar_url").eq("id",h.id).single();r({id:h.id,name:m,email:h.email||"",avatar:(v==null?void 0:v.avatar_url)||`https://api.dicebear.com/7.x/avataaars/svg?seed=${m}`,region:(v==null?void 0:v.region)||((E=h.user_metadata)==null?void 0:E.region),is_fake:v==null?void 0:v.is_fake})},c=async h=>{try{await fa.createTopic(h),await s()}catch(m){alert("Error creating topic: "+m.message)}},f=async(h,m,v)=>{if(!n){a(!0);return}try{await fa.castVote(h,m,v),await s()}catch(_){alert(_.message)}};return N.jsx(AG,{children:N.jsxs("div",{className:"min-h-screen flex flex-col",children:[N.jsx(hde,{user:n,onLogin:()=>a(!0),onLogout:async()=>{await rn.auth.signOut(),r(null)}}),N.jsx("main",{className:"flex-grow",children:N.jsxs(nG,{children:[N.jsx(kr,{path:"/",element:N.jsx(ude,{})}),N.jsx(kr,{path:"/latest",element:N.jsx(bU,{topics:t})}),N.jsx(kr,{path:"/category/:categoryId",element:N.jsx(cde,{topics:t})}),N.jsx(kr,{path:"/topic/:id",element:N.jsx($ie,{topics:t,onVote:f,user:n,onRequireAuth:()=>a(!0)})}),N.jsx(kr,{path:"/new",element:N.jsx(ede,{onAddTopic:c})}),n&&N.jsxs(N.Fragment,{children:[N.jsx(kr,{path:"/profile",element:N.jsx(ode,{user:n})}),N.jsx(kr,{path:"/profile/votes",element:N.jsx(sde,{userId:n.id})})]}),N.jsx(kr,{path:"/terms",element:N.jsx(fde,{})}),N.jsx(kr,{path:"/privacy",element:N.jsx(dde,{})})]})}),N.jsx(tde,{isOpen:i,onClose:()=>a(!1)}),N.jsx("footer",{className:"bg-white border-t border-gray-200 py-12 mt-12",children:N.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center text-gray-500 text-sm",children:[N.jsx("p",{children:" 2026 LaVozDelPueblo.es. Todos los derechos reservados."}),N.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[N.jsx(pn,{to:"/terms",className:"hover:text-indigo-600 transition",children:"Trminos"}),N.jsx(pn,{to:"/privacy",className:"hover:text-indigo-600 transition",children:"Privacidad"})]})]})})]})})},OB=document.getElementById("root");if(!OB)throw new Error("Could not find root element to mount to");const mde=aH.createRoot(OB);mde.render(N.jsx(J.StrictMode,{children:N.jsx(pde,{})}));
