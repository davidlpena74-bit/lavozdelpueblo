var c6=Object.defineProperty;var f6=(t,e,n)=>e in t?c6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ti=(t,e,n)=>f6(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ge(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qv={exports:{}},Du={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CO;function d6(){if(CO)return Du;CO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Du.Fragment=e,Du.jsx=n,Du.jsxs=n,Du}var OO;function h6(){return OO||(OO=1,Qv.exports=d6()),Qv.exports}var T=h6(),Zv={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RO;function p6(){if(RO)return Ne;RO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function b(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,x={};function A(q,J,re){this.props=q,this.context=J,this.refs=x,this.updater=re||S}A.prototype.isReactComponent={},A.prototype.setState=function(q,J){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,J,"setState")},A.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function O(){}O.prototype=A.prototype;function C(q,J,re){this.props=q,this.context=J,this.refs=x,this.updater=re||S}var P=C.prototype=new O;P.constructor=C,E(P,A.prototype),P.isPureReactComponent=!0;var R=Array.isArray;function N(){}var I={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function L(q,J,re){var fe=re.ref;return{$$typeof:t,type:q,key:J,ref:fe!==void 0?fe:null,props:re}}function V(q,J){return L(q.type,J,q.props)}function $(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function Y(q){var J={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(re){return J[re]})}var H=/\/+/g;function W(q,J){return typeof q=="object"&&q!==null&&q.key!=null?Y(""+q.key):J.toString(36)}function B(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(N,N):(q.status="pending",q.then(function(J){q.status==="pending"&&(q.status="fulfilled",q.value=J)},function(J){q.status==="pending"&&(q.status="rejected",q.reason=J)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function j(q,J,re,fe,me){var xe=typeof q;(xe==="undefined"||xe==="boolean")&&(q=null);var je=!1;if(q===null)je=!0;else switch(xe){case"bigint":case"string":case"number":je=!0;break;case"object":switch(q.$$typeof){case t:case e:je=!0;break;case h:return je=q._init,j(je(q._payload),J,re,fe,me)}}if(je)return me=me(q),je=fe===""?"."+W(q,0):fe,R(me)?(re="",je!=null&&(re=je.replace(H,"$&/")+"/"),j(me,J,re,"",function(Ce){return Ce})):me!=null&&($(me)&&(me=V(me,re+(me.key==null||q&&q.key===me.key?"":(""+me.key).replace(H,"$&/")+"/")+je)),J.push(me)),1;je=0;var Xe=fe===""?".":fe+":";if(R(q))for(var de=0;de<q.length;de++)fe=q[de],xe=Xe+W(fe,de),je+=j(fe,J,re,xe,me);else if(de=b(q),typeof de=="function")for(q=de.call(q),de=0;!(fe=q.next()).done;)fe=fe.value,xe=Xe+W(fe,de++),je+=j(fe,J,re,xe,me);else if(xe==="object"){if(typeof q.then=="function")return j(B(q),J,re,fe,me);throw J=String(q),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return je}function K(q,J,re){if(q==null)return q;var fe=[],me=0;return j(q,fe,"","",function(xe){return J.call(re,xe,me++)}),fe}function ee(q){if(q._status===-1){var J=q._result;J=J(),J.then(function(re){(q._status===0||q._status===-1)&&(q._status=1,q._result=re)},function(re){(q._status===0||q._status===-1)&&(q._status=2,q._result=re)}),q._status===-1&&(q._status=0,q._result=J)}if(q._status===1)return q._result.default;throw q._result}var oe=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},ue={map:K,forEach:function(q,J,re){K(q,function(){J.apply(this,arguments)},re)},count:function(q){var J=0;return K(q,function(){J++}),J},toArray:function(q){return K(q,function(J){return J})||[]},only:function(q){if(!$(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Ne.Activity=p,Ne.Children=ue,Ne.Component=A,Ne.Fragment=n,Ne.Profiler=i,Ne.PureComponent=C,Ne.StrictMode=r,Ne.Suspense=c,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(q){return I.H.useMemoCache(q)}},Ne.cache=function(q){return function(){return q.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(q,J,re){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var fe=E({},q.props),me=q.key;if(J!=null)for(xe in J.key!==void 0&&(me=""+J.key),J)!D.call(J,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&J.ref===void 0||(fe[xe]=J[xe]);var xe=arguments.length-2;if(xe===1)fe.children=re;else if(1<xe){for(var je=Array(xe),Xe=0;Xe<xe;Xe++)je[Xe]=arguments[Xe+2];fe.children=je}return L(q.type,me,fe)},Ne.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:a,_context:q},q},Ne.createElement=function(q,J,re){var fe,me={},xe=null;if(J!=null)for(fe in J.key!==void 0&&(xe=""+J.key),J)D.call(J,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(me[fe]=J[fe]);var je=arguments.length-2;if(je===1)me.children=re;else if(1<je){for(var Xe=Array(je),de=0;de<je;de++)Xe[de]=arguments[de+2];me.children=Xe}if(q&&q.defaultProps)for(fe in je=q.defaultProps,je)me[fe]===void 0&&(me[fe]=je[fe]);return L(q,xe,me)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(q){return{$$typeof:u,render:q}},Ne.isValidElement=$,Ne.lazy=function(q){return{$$typeof:h,_payload:{_status:-1,_result:q},_init:ee}},Ne.memo=function(q,J){return{$$typeof:f,type:q,compare:J===void 0?null:J}},Ne.startTransition=function(q){var J=I.T,re={};I.T=re;try{var fe=q(),me=I.S;me!==null&&me(re,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(N,oe)}catch(xe){oe(xe)}finally{J!==null&&re.types!==null&&(J.types=re.types),I.T=J}},Ne.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ne.use=function(q){return I.H.use(q)},Ne.useActionState=function(q,J,re){return I.H.useActionState(q,J,re)},Ne.useCallback=function(q,J){return I.H.useCallback(q,J)},Ne.useContext=function(q){return I.H.useContext(q)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(q,J){return I.H.useDeferredValue(q,J)},Ne.useEffect=function(q,J){return I.H.useEffect(q,J)},Ne.useEffectEvent=function(q){return I.H.useEffectEvent(q)},Ne.useId=function(){return I.H.useId()},Ne.useImperativeHandle=function(q,J,re){return I.H.useImperativeHandle(q,J,re)},Ne.useInsertionEffect=function(q,J){return I.H.useInsertionEffect(q,J)},Ne.useLayoutEffect=function(q,J){return I.H.useLayoutEffect(q,J)},Ne.useMemo=function(q,J){return I.H.useMemo(q,J)},Ne.useOptimistic=function(q,J){return I.H.useOptimistic(q,J)},Ne.useReducer=function(q,J,re){return I.H.useReducer(q,J,re)},Ne.useRef=function(q){return I.H.useRef(q)},Ne.useState=function(q){return I.H.useState(q)},Ne.useSyncExternalStore=function(q,J,re){return I.H.useSyncExternalStore(q,J,re)},Ne.useTransition=function(){return I.H.useTransition()},Ne.version="19.2.3",Ne}var PO;function WS(){return PO||(PO=1,Zv.exports=p6()),Zv.exports}var U=WS();const G=Ge(U);var ey={exports:{}},Lu={},ty={exports:{}},ny={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NO;function m6(){return NO||(NO=1,(function(t){function e(j,K){var ee=j.length;j.push(K);e:for(;0<ee;){var oe=ee-1>>>1,ue=j[oe];if(0<i(ue,K))j[oe]=K,j[ee]=ue,ee=oe;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var K=j[0],ee=j.pop();if(ee!==K){j[0]=ee;e:for(var oe=0,ue=j.length,q=ue>>>1;oe<q;){var J=2*(oe+1)-1,re=j[J],fe=J+1,me=j[fe];if(0>i(re,ee))fe<ue&&0>i(me,re)?(j[oe]=me,j[fe]=ee,oe=fe):(j[oe]=re,j[J]=ee,oe=J);else if(fe<ue&&0>i(me,ee))j[oe]=me,j[fe]=ee,oe=fe;else break e}}return K}function i(j,K){var ee=j.sortIndex-K.sortIndex;return ee!==0?ee:j.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],f=[],h=1,p=null,g=3,b=!1,S=!1,E=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function P(j){for(var K=n(f);K!==null;){if(K.callback===null)r(f);else if(K.startTime<=j)r(f),K.sortIndex=K.expirationTime,e(c,K);else break;K=n(f)}}function R(j){if(E=!1,P(j),!S)if(n(c)!==null)S=!0,N||(N=!0,Y());else{var K=n(f);K!==null&&B(R,K.startTime-j)}}var N=!1,I=-1,D=5,L=-1;function V(){return x?!0:!(t.unstable_now()-L<D)}function $(){if(x=!1,N){var j=t.unstable_now();L=j;var K=!0;try{e:{S=!1,E&&(E=!1,O(I),I=-1),b=!0;var ee=g;try{t:{for(P(j),p=n(c);p!==null&&!(p.expirationTime>j&&V());){var oe=p.callback;if(typeof oe=="function"){p.callback=null,g=p.priorityLevel;var ue=oe(p.expirationTime<=j);if(j=t.unstable_now(),typeof ue=="function"){p.callback=ue,P(j),K=!0;break t}p===n(c)&&r(c),P(j)}else r(c);p=n(c)}if(p!==null)K=!0;else{var q=n(f);q!==null&&B(R,q.startTime-j),K=!1}}break e}finally{p=null,g=ee,b=!1}K=void 0}}finally{K?Y():N=!1}}}var Y;if(typeof C=="function")Y=function(){C($)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,W=H.port2;H.port1.onmessage=$,Y=function(){W.postMessage(null)}}else Y=function(){A($,0)};function B(j,K){I=A(function(){j(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(j){switch(g){case 1:case 2:case 3:var K=3;break;default:K=g}var ee=g;g=K;try{return j()}finally{g=ee}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(j,K){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ee=g;g=j;try{return K()}finally{g=ee}},t.unstable_scheduleCallback=function(j,K,ee){var oe=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?oe+ee:oe):ee=oe,j){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=ee+ue,j={id:h++,callback:K,priorityLevel:j,startTime:ee,expirationTime:ue,sortIndex:-1},ee>oe?(j.sortIndex=ee,e(f,j),n(c)===null&&j===n(f)&&(E?(O(I),I=-1):E=!0,B(R,ee-oe))):(j.sortIndex=ue,e(c,j),S||b||(S=!0,N||(N=!0,Y()))),j},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(j){var K=g;return function(){var ee=g;g=K;try{return j.apply(this,arguments)}finally{g=ee}}}})(ny)),ny}var MO;function g6(){return MO||(MO=1,ty.exports=m6()),ty.exports}var ry={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IO;function v6(){if(IO)return fn;IO=1;var t=WS();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:f,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fn.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(c,f,null,h)},fn.flushSync=function(c){var f=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=f,r.p=h,r.d.f()}},fn.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},fn.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},fn.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,p=u(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:b}):h==="script"&&r.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},fn.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},fn.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=u(h,f.crossOrigin);r.d.L(c,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},fn.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=u(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},fn.requestFormReset=function(c){r.d.r(c)},fn.unstable_batchedUpdates=function(c,f){return c(f)},fn.useFormState=function(c,f,h){return s.H.useFormState(c,f,h)},fn.useFormStatus=function(){return s.H.useHostTransitionStatus()},fn.version="19.2.3",fn}var kO;function y6(){if(kO)return ry.exports;kO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ry.exports=v6(),ry.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DO;function b6(){if(DO)return Lu;DO=1;var t=g6(),e=WS(),n=y6();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(o.tag===31){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(r(188))}function f(o){var l=o.alternate;if(!l){if(l=a(o),l===null)throw Error(r(188));return l!==o?null:o}for(var d=o,m=l;;){var _=d.return;if(_===null)break;var w=_.alternate;if(w===null){if(m=_.return,m!==null){d=m;continue}break}if(_.child===w.child){for(w=_.child;w;){if(w===d)return c(_),o;if(w===m)return c(_),l;w=w.sibling}throw Error(r(188))}if(d.return!==m.return)d=_,m=w;else{for(var M=!1,k=_.child;k;){if(k===d){M=!0,d=_,m=w;break}if(k===m){M=!0,m=_,d=w;break}k=k.sibling}if(!M){for(k=w.child;k;){if(k===d){M=!0,d=w,m=_;break}if(k===m){M=!0,m=w,d=_;break}k=k.sibling}if(!M)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?o:l}function h(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=h(o),l!==null)return l;o=o.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),C=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function Y(o){return o===null||typeof o!="object"?null:(o=$&&o[$]||o["@@iterator"],typeof o=="function"?o:null)}var H=Symbol.for("react.client.reference");function W(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===H?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case E:return"Fragment";case A:return"Profiler";case x:return"StrictMode";case R:return"Suspense";case N:return"SuspenseList";case L:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case S:return"Portal";case C:return o.displayName||"Context";case O:return(o._context.displayName||"Context")+".Consumer";case P:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case I:return l=o.displayName||null,l!==null?l:W(o.type)||"Memo";case D:l=o._payload,o=o._init;try{return W(o(l))}catch{}}return null}var B=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},oe=[],ue=-1;function q(o){return{current:o}}function J(o){0>ue||(o.current=oe[ue],oe[ue]=null,ue--)}function re(o,l){ue++,oe[ue]=o.current,o.current=l}var fe=q(null),me=q(null),xe=q(null),je=q(null);function Xe(o,l){switch(re(xe,l),re(me,o),re(fe,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?JC(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=JC(l),o=XC(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}J(fe),re(fe,o)}function de(){J(fe),J(me),J(xe)}function Ce(o){o.memoizedState!==null&&re(je,o);var l=fe.current,d=XC(l,o.type);l!==d&&(re(me,o),re(fe,d))}function Pe(o){me.current===o&&(J(fe),J(me)),je.current===o&&(J(je),Nu._currentValue=ee)}var ce,pt;function Ie(o){if(ce===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);ce=l&&l[1]||"",pt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ce+o+pt}var wt=!1;function St(o,l){if(!o||wt)return"";wt=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ne){var te=ne}Reflect.construct(o,[],le)}else{try{le.call()}catch(ne){te=ne}o.call(le.prototype)}}else{try{throw Error()}catch(ne){te=ne}(le=o())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),M=w[0],k=w[1];if(M&&k){var z=M.split(`
`),Z=k.split(`
`);for(_=m=0;m<z.length&&!z[m].includes("DetermineComponentFrameRoot");)m++;for(;_<Z.length&&!Z[_].includes("DetermineComponentFrameRoot");)_++;if(m===z.length||_===Z.length)for(m=z.length-1,_=Z.length-1;1<=m&&0<=_&&z[m]!==Z[_];)_--;for(;1<=m&&0<=_;m--,_--)if(z[m]!==Z[_]){if(m!==1||_!==1)do if(m--,_--,0>_||z[m]!==Z[_]){var ie=`
`+z[m].replace(" at new "," at ");return o.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",o.displayName)),ie}while(1<=m&&0<=_);break}}}finally{wt=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?Ie(d):""}function un(o,l){switch(o.tag){case 26:case 27:case 5:return Ie(o.type);case 16:return Ie("Lazy");case 13:return o.child!==l&&l!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return St(o.type,!1);case 11:return St(o.type.render,!1);case 1:return St(o.type,!0);case 31:return Ie("Activity");default:return""}}function Tr(o){try{var l="",d=null;do l+=un(o,d),d=o,o=o.return;while(o);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var zr=Object.prototype.hasOwnProperty,Yi=t.unstable_scheduleCallback,Ar=t.unstable_cancelCallback,oi=t.unstable_shouldYield,Hl=t.unstable_requestPaint,cn=t.unstable_now,Sf=t.unstable_getCurrentPriorityLevel,OT=t.unstable_ImmediatePriority,RT=t.unstable_UserBlockingPriority,Ef=t.unstable_NormalPriority,G3=t.unstable_LowPriority,PT=t.unstable_IdlePriority,F3=t.log,K3=t.unstable_setDisableYieldValue,zl=null,Dn=null;function Ji(o){if(typeof F3=="function"&&K3(o),Dn&&typeof Dn.setStrictMode=="function")try{Dn.setStrictMode(zl,o)}catch{}}var Ln=Math.clz32?Math.clz32:J3,W3=Math.log,Y3=Math.LN2;function J3(o){return o>>>=0,o===0?32:31-(W3(o)/Y3|0)|0}var Tf=256,Af=262144,Cf=4194304;function ja(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Of(o,l,d){var m=o.pendingLanes;if(m===0)return 0;var _=0,w=o.suspendedLanes,M=o.pingedLanes;o=o.warmLanes;var k=m&134217727;return k!==0?(m=k&~w,m!==0?_=ja(m):(M&=k,M!==0?_=ja(M):d||(d=k&~o,d!==0&&(_=ja(d))))):(k=m&~w,k!==0?_=ja(k):M!==0?_=ja(M):d||(d=m&~o,d!==0&&(_=ja(d)))),_===0?0:l!==0&&l!==_&&(l&w)===0&&(w=_&-_,d=l&-l,w>=d||w===32&&(d&4194048)!==0)?l:_}function Vl(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function X3(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NT(){var o=Cf;return Cf<<=1,(Cf&62914560)===0&&(Cf=4194304),o}function qm(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function Gl(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Q3(o,l,d,m,_,w){var M=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var k=o.entanglements,z=o.expirationTimes,Z=o.hiddenUpdates;for(d=M&~d;0<d;){var ie=31-Ln(d),le=1<<ie;k[ie]=0,z[ie]=-1;var te=Z[ie];if(te!==null)for(Z[ie]=null,ie=0;ie<te.length;ie++){var ne=te[ie];ne!==null&&(ne.lane&=-536870913)}d&=~le}m!==0&&MT(o,m,0),w!==0&&_===0&&o.tag!==0&&(o.suspendedLanes|=w&~(M&~l))}function MT(o,l,d){o.pendingLanes|=l,o.suspendedLanes&=~l;var m=31-Ln(l);o.entangledLanes|=l,o.entanglements[m]=o.entanglements[m]|1073741824|d&261930}function IT(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var m=31-Ln(d),_=1<<m;_&l|o[m]&l&&(o[m]|=l),d&=~_}}function kT(o,l){var d=l&-l;return d=(d&42)!==0?1:Bm(d),(d&(o.suspendedLanes|l))!==0?0:d}function Bm(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Hm(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function DT(){var o=K.p;return o!==0?o:(o=window.event,o===void 0?32:_O(o.type))}function LT(o,l){var d=K.p;try{return K.p=o,l()}finally{K.p=d}}var Xi=Math.random().toString(36).slice(2),en="__reactFiber$"+Xi,Tn="__reactProps$"+Xi,jo="__reactContainer$"+Xi,zm="__reactEvents$"+Xi,Z3="__reactListeners$"+Xi,eB="__reactHandles$"+Xi,jT="__reactResources$"+Xi,Fl="__reactMarker$"+Xi;function Vm(o){delete o[en],delete o[Tn],delete o[zm],delete o[Z3],delete o[eB]}function Uo(o){var l=o[en];if(l)return l;for(var d=o.parentNode;d;){if(l=d[jo]||d[en]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=iO(o);o!==null;){if(d=o[en])return d;o=iO(o)}return l}o=d,d=o.parentNode}return null}function $o(o){if(o=o[en]||o[jo]){var l=o.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return o}return null}function Kl(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function qo(o){var l=o[jT];return l||(l=o[jT]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Wt(o){o[Fl]=!0}var UT=new Set,$T={};function Ua(o,l){Bo(o,l),Bo(o+"Capture",l)}function Bo(o,l){for($T[o]=l,o=0;o<l.length;o++)UT.add(l[o])}var tB=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qT={},BT={};function nB(o){return zr.call(BT,o)?!0:zr.call(qT,o)?!1:tB.test(o)?BT[o]=!0:(qT[o]=!0,!1)}function Rf(o,l,d){if(nB(l))if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+d)}}function Pf(o,l,d){if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+d)}}function si(o,l,d,m){if(m===null)o.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(l,d,""+m)}}function Xn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function HT(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function rB(o,l,d){var m=Object.getOwnPropertyDescriptor(o.constructor.prototype,l);if(!o.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var _=m.get,w=m.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return _.call(this)},set:function(M){d=""+M,w.call(this,M)}}),Object.defineProperty(o,l,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(M){d=""+M},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Gm(o){if(!o._valueTracker){var l=HT(o)?"checked":"value";o._valueTracker=rB(o,l,""+o[l])}}function zT(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return o&&(m=HT(o)?o.checked?"true":"false":o.value),o=m,o!==d?(l.setValue(o),!0):!1}function Nf(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var iB=/[\n"\\]/g;function Qn(o){return o.replace(iB,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Fm(o,l,d,m,_,w,M,k){o.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?o.type=M:o.removeAttribute("type"),l!=null?M==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+Xn(l)):o.value!==""+Xn(l)&&(o.value=""+Xn(l)):M!=="submit"&&M!=="reset"||o.removeAttribute("value"),l!=null?Km(o,M,Xn(l)):d!=null?Km(o,M,Xn(d)):m!=null&&o.removeAttribute("value"),_==null&&w!=null&&(o.defaultChecked=!!w),_!=null&&(o.checked=_&&typeof _!="function"&&typeof _!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?o.name=""+Xn(k):o.removeAttribute("name")}function VT(o,l,d,m,_,w,M,k){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(o.type=w),l!=null||d!=null){if(!(w!=="submit"&&w!=="reset"||l!=null)){Gm(o);return}d=d!=null?""+Xn(d):"",l=l!=null?""+Xn(l):d,k||l===o.value||(o.value=l),o.defaultValue=l}m=m??_,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=k?o.checked:!!m,o.defaultChecked=!!m,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(o.name=M),Gm(o)}function Km(o,l,d){l==="number"&&Nf(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function Ho(o,l,d,m){if(o=o.options,l){l={};for(var _=0;_<d.length;_++)l["$"+d[_]]=!0;for(d=0;d<o.length;d++)_=l.hasOwnProperty("$"+o[d].value),o[d].selected!==_&&(o[d].selected=_),_&&m&&(o[d].defaultSelected=!0)}else{for(d=""+Xn(d),l=null,_=0;_<o.length;_++){if(o[_].value===d){o[_].selected=!0,m&&(o[_].defaultSelected=!0);return}l!==null||o[_].disabled||(l=o[_])}l!==null&&(l.selected=!0)}}function GT(o,l,d){if(l!=null&&(l=""+Xn(l),l!==o.value&&(o.value=l),d==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=d!=null?""+Xn(d):""}function FT(o,l,d,m){if(l==null){if(m!=null){if(d!=null)throw Error(r(92));if(B(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),l=d}d=Xn(l),o.defaultValue=d,m=o.textContent,m===d&&m!==""&&m!==null&&(o.value=m),Gm(o)}function zo(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var aB=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function KT(o,l,d){var m=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":m?o.setProperty(l,d):typeof d!="number"||d===0||aB.has(l)?l==="float"?o.cssFloat=d:o[l]=(""+d).trim():o[l]=d+"px"}function WT(o,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var _ in l)m=l[_],l.hasOwnProperty(_)&&d[_]!==m&&KT(o,_,m)}else for(var w in l)l.hasOwnProperty(w)&&KT(o,w,l[w])}function Wm(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oB=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sB=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mf(o){return sB.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function li(){}var Ym=null;function Jm(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Vo=null,Go=null;function YT(o){var l=$o(o);if(l&&(o=l.stateNode)){var d=o[Tn]||null;e:switch(o=l.stateNode,l.type){case"input":if(Fm(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Qn(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==o&&m.form===o.form){var _=m[Tn]||null;if(!_)throw Error(r(90));Fm(m,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(l=0;l<d.length;l++)m=d[l],m.form===o.form&&zT(m)}break e;case"textarea":GT(o,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Ho(o,!!d.multiple,l,!1)}}}var Xm=!1;function JT(o,l,d){if(Xm)return o(l,d);Xm=!0;try{var m=o(l);return m}finally{if(Xm=!1,(Vo!==null||Go!==null)&&(bd(),Vo&&(l=Vo,o=Go,Go=Vo=null,YT(l),o)))for(l=0;l<o.length;l++)YT(o[l])}}function Wl(o,l){var d=o.stateNode;if(d===null)return null;var m=d[Tn]||null;if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qm=!1;if(ui)try{var Yl={};Object.defineProperty(Yl,"passive",{get:function(){Qm=!0}}),window.addEventListener("test",Yl,Yl),window.removeEventListener("test",Yl,Yl)}catch{Qm=!1}var Qi=null,Zm=null,If=null;function XT(){if(If)return If;var o,l=Zm,d=l.length,m,_="value"in Qi?Qi.value:Qi.textContent,w=_.length;for(o=0;o<d&&l[o]===_[o];o++);var M=d-o;for(m=1;m<=M&&l[d-m]===_[w-m];m++);return If=_.slice(o,1<m?1-m:void 0)}function kf(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Df(){return!0}function QT(){return!1}function An(o){function l(d,m,_,w,M){this._reactName=d,this._targetInst=_,this.type=m,this.nativeEvent=w,this.target=M,this.currentTarget=null;for(var k in o)o.hasOwnProperty(k)&&(d=o[k],this[k]=d?d(w):w[k]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Df:QT,this.isPropagationStopped=QT,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Df)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Df)},persist:function(){},isPersistent:Df}),l}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lf=An($a),Jl=p({},$a,{view:0,detail:0}),lB=An(Jl),eg,tg,Xl,jf=p({},Jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rg,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Xl&&(Xl&&o.type==="mousemove"?(eg=o.screenX-Xl.screenX,tg=o.screenY-Xl.screenY):tg=eg=0,Xl=o),eg)},movementY:function(o){return"movementY"in o?o.movementY:tg}}),ZT=An(jf),uB=p({},jf,{dataTransfer:0}),cB=An(uB),fB=p({},Jl,{relatedTarget:0}),ng=An(fB),dB=p({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),hB=An(dB),pB=p({},$a,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),mB=An(pB),gB=p({},$a,{data:0}),eA=An(gB),vB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _B(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=bB[o])?!!l[o]:!1}function rg(){return _B}var xB=p({},Jl,{key:function(o){if(o.key){var l=vB[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=kf(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?yB[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rg,charCode:function(o){return o.type==="keypress"?kf(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?kf(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),wB=An(xB),SB=p({},jf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tA=An(SB),EB=p({},Jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rg}),TB=An(EB),AB=p({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),CB=An(AB),OB=p({},jf,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),RB=An(OB),PB=p({},$a,{newState:0,oldState:0}),NB=An(PB),MB=[9,13,27,32],ig=ui&&"CompositionEvent"in window,Ql=null;ui&&"documentMode"in document&&(Ql=document.documentMode);var IB=ui&&"TextEvent"in window&&!Ql,nA=ui&&(!ig||Ql&&8<Ql&&11>=Ql),rA=" ",iA=!1;function aA(o,l){switch(o){case"keyup":return MB.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oA(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Fo=!1;function kB(o,l){switch(o){case"compositionend":return oA(l);case"keypress":return l.which!==32?null:(iA=!0,rA);case"textInput":return o=l.data,o===rA&&iA?null:o;default:return null}}function DB(o,l){if(Fo)return o==="compositionend"||!ig&&aA(o,l)?(o=XT(),If=Zm=Qi=null,Fo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return nA&&l.locale!=="ko"?null:l.data;default:return null}}var LB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sA(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!LB[o.type]:l==="textarea"}function lA(o,l,d,m){Vo?Go?Go.push(m):Go=[m]:Vo=m,l=Ad(l,"onChange"),0<l.length&&(d=new Lf("onChange","change",null,d,m),o.push({event:d,listeners:l}))}var Zl=null,eu=null;function jB(o){VC(o,0)}function Uf(o){var l=Kl(o);if(zT(l))return o}function uA(o,l){if(o==="change")return l}var cA=!1;if(ui){var ag;if(ui){var og="oninput"in document;if(!og){var fA=document.createElement("div");fA.setAttribute("oninput","return;"),og=typeof fA.oninput=="function"}ag=og}else ag=!1;cA=ag&&(!document.documentMode||9<document.documentMode)}function dA(){Zl&&(Zl.detachEvent("onpropertychange",hA),eu=Zl=null)}function hA(o){if(o.propertyName==="value"&&Uf(eu)){var l=[];lA(l,eu,o,Jm(o)),JT(jB,l)}}function UB(o,l,d){o==="focusin"?(dA(),Zl=l,eu=d,Zl.attachEvent("onpropertychange",hA)):o==="focusout"&&dA()}function $B(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Uf(eu)}function qB(o,l){if(o==="click")return Uf(l)}function BB(o,l){if(o==="input"||o==="change")return Uf(l)}function HB(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var jn=typeof Object.is=="function"?Object.is:HB;function tu(o,l){if(jn(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var _=d[m];if(!zr.call(l,_)||!jn(o[_],l[_]))return!1}return!0}function pA(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function mA(o,l){var d=pA(o);o=0;for(var m;d;){if(d.nodeType===3){if(m=o+d.textContent.length,o<=l&&m>=l)return{node:d,offset:l-o};o=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=pA(d)}}function gA(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?gA(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function vA(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=Nf(o.document);l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=Nf(o.document)}return l}function sg(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var zB=ui&&"documentMode"in document&&11>=document.documentMode,Ko=null,lg=null,nu=null,ug=!1;function yA(o,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;ug||Ko==null||Ko!==Nf(m)||(m=Ko,"selectionStart"in m&&sg(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),nu&&tu(nu,m)||(nu=m,m=Ad(lg,"onSelect"),0<m.length&&(l=new Lf("onSelect","select",null,l,d),o.push({event:l,listeners:m}),l.target=Ko)))}function qa(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var Wo={animationend:qa("Animation","AnimationEnd"),animationiteration:qa("Animation","AnimationIteration"),animationstart:qa("Animation","AnimationStart"),transitionrun:qa("Transition","TransitionRun"),transitionstart:qa("Transition","TransitionStart"),transitioncancel:qa("Transition","TransitionCancel"),transitionend:qa("Transition","TransitionEnd")},cg={},bA={};ui&&(bA=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function Ba(o){if(cg[o])return cg[o];if(!Wo[o])return o;var l=Wo[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in bA)return cg[o]=l[d];return o}var _A=Ba("animationend"),xA=Ba("animationiteration"),wA=Ba("animationstart"),VB=Ba("transitionrun"),GB=Ba("transitionstart"),FB=Ba("transitioncancel"),SA=Ba("transitionend"),EA=new Map,fg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fg.push("scrollEnd");function Cr(o,l){EA.set(o,l),Ua(l,[o])}var $f=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Zn=[],Yo=0,dg=0;function qf(){for(var o=Yo,l=dg=Yo=0;l<o;){var d=Zn[l];Zn[l++]=null;var m=Zn[l];Zn[l++]=null;var _=Zn[l];Zn[l++]=null;var w=Zn[l];if(Zn[l++]=null,m!==null&&_!==null){var M=m.pending;M===null?_.next=_:(_.next=M.next,M.next=_),m.pending=_}w!==0&&TA(d,_,w)}}function Bf(o,l,d,m){Zn[Yo++]=o,Zn[Yo++]=l,Zn[Yo++]=d,Zn[Yo++]=m,dg|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function hg(o,l,d,m){return Bf(o,l,d,m),Hf(o)}function Ha(o,l){return Bf(o,null,null,l),Hf(o)}function TA(o,l,d){o.lanes|=d;var m=o.alternate;m!==null&&(m.lanes|=d);for(var _=!1,w=o.return;w!==null;)w.childLanes|=d,m=w.alternate,m!==null&&(m.childLanes|=d),w.tag===22&&(o=w.stateNode,o===null||o._visibility&1||(_=!0)),o=w,w=w.return;return o.tag===3?(w=o.stateNode,_&&l!==null&&(_=31-Ln(d),o=w.hiddenUpdates,m=o[_],m===null?o[_]=[l]:m.push(l),l.lane=d|536870912),w):null}function Hf(o){if(50<Eu)throw Eu=0,wv=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var Jo={};function KB(o,l,d,m){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(o,l,d,m){return new KB(o,l,d,m)}function pg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ci(o,l){var d=o.alternate;return d===null?(d=Un(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function AA(o,l){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,l=d.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function zf(o,l,d,m,_,w){var M=0;if(m=o,typeof o=="function")pg(o)&&(M=1);else if(typeof o=="string")M=Q5(o,d,fe.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case L:return o=Un(31,d,l,_),o.elementType=L,o.lanes=w,o;case E:return za(d.children,_,w,l);case x:M=8,_|=24;break;case A:return o=Un(12,d,l,_|2),o.elementType=A,o.lanes=w,o;case R:return o=Un(13,d,l,_),o.elementType=R,o.lanes=w,o;case N:return o=Un(19,d,l,_),o.elementType=N,o.lanes=w,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case C:M=10;break e;case O:M=9;break e;case P:M=11;break e;case I:M=14;break e;case D:M=16,m=null;break e}M=29,d=Error(r(130,o===null?"null":typeof o,"")),m=null}return l=Un(M,d,l,_),l.elementType=o,l.type=m,l.lanes=w,l}function za(o,l,d,m){return o=Un(7,o,m,l),o.lanes=d,o}function mg(o,l,d){return o=Un(6,o,null,l),o.lanes=d,o}function CA(o){var l=Un(18,null,null,0);return l.stateNode=o,l}function gg(o,l,d){return l=Un(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var OA=new WeakMap;function er(o,l){if(typeof o=="object"&&o!==null){var d=OA.get(o);return d!==void 0?d:(l={value:o,source:l,stack:Tr(l)},OA.set(o,l),l)}return{value:o,source:l,stack:Tr(l)}}var Xo=[],Qo=0,Vf=null,ru=0,tr=[],nr=0,Zi=null,Vr=1,Gr="";function fi(o,l){Xo[Qo++]=ru,Xo[Qo++]=Vf,Vf=o,ru=l}function RA(o,l,d){tr[nr++]=Vr,tr[nr++]=Gr,tr[nr++]=Zi,Zi=o;var m=Vr;o=Gr;var _=32-Ln(m)-1;m&=~(1<<_),d+=1;var w=32-Ln(l)+_;if(30<w){var M=_-_%5;w=(m&(1<<M)-1).toString(32),m>>=M,_-=M,Vr=1<<32-Ln(l)+_|d<<_|m,Gr=w+o}else Vr=1<<w|d<<_|m,Gr=o}function vg(o){o.return!==null&&(fi(o,1),RA(o,1,0))}function yg(o){for(;o===Vf;)Vf=Xo[--Qo],Xo[Qo]=null,ru=Xo[--Qo],Xo[Qo]=null;for(;o===Zi;)Zi=tr[--nr],tr[nr]=null,Gr=tr[--nr],tr[nr]=null,Vr=tr[--nr],tr[nr]=null}function PA(o,l){tr[nr++]=Vr,tr[nr++]=Gr,tr[nr++]=Zi,Vr=l.id,Gr=l.overflow,Zi=o}var tn=null,mt=null,ze=!1,ea=null,rr=!1,bg=Error(r(519));function ta(o){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw iu(er(l,o)),bg}function NA(o){var l=o.stateNode,d=o.type,m=o.memoizedProps;switch(l[en]=o,l[Tn]=m,d){case"dialog":qe("cancel",l),qe("close",l);break;case"iframe":case"object":case"embed":qe("load",l);break;case"video":case"audio":for(d=0;d<Au.length;d++)qe(Au[d],l);break;case"source":qe("error",l);break;case"img":case"image":case"link":qe("error",l),qe("load",l);break;case"details":qe("toggle",l);break;case"input":qe("invalid",l),VT(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":qe("invalid",l);break;case"textarea":qe("invalid",l),FT(l,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||m.suppressHydrationWarning===!0||WC(l.textContent,d)?(m.popover!=null&&(qe("beforetoggle",l),qe("toggle",l)),m.onScroll!=null&&qe("scroll",l),m.onScrollEnd!=null&&qe("scrollend",l),m.onClick!=null&&(l.onclick=li),l=!0):l=!1,l||ta(o,!0)}function MA(o){for(tn=o.return;tn;)switch(tn.tag){case 5:case 31:case 13:rr=!1;return;case 27:case 3:rr=!0;return;default:tn=tn.return}}function Zo(o){if(o!==tn)return!1;if(!ze)return MA(o),ze=!0,!1;var l=o.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||jv(o.type,o.memoizedProps)),d=!d),d&&mt&&ta(o),MA(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));mt=rO(o)}else if(l===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));mt=rO(o)}else l===27?(l=mt,ma(o.type)?(o=Hv,Hv=null,mt=o):mt=l):mt=tn?ar(o.stateNode.nextSibling):null;return!0}function Va(){mt=tn=null,ze=!1}function _g(){var o=ea;return o!==null&&(Pn===null?Pn=o:Pn.push.apply(Pn,o),ea=null),o}function iu(o){ea===null?ea=[o]:ea.push(o)}var xg=q(null),Ga=null,di=null;function na(o,l,d){re(xg,l._currentValue),l._currentValue=d}function hi(o){o._currentValue=xg.current,J(xg)}function wg(o,l,d){for(;o!==null;){var m=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),o===d)break;o=o.return}}function Sg(o,l,d,m){var _=o.child;for(_!==null&&(_.return=o);_!==null;){var w=_.dependencies;if(w!==null){var M=_.child;w=w.firstContext;e:for(;w!==null;){var k=w;w=_;for(var z=0;z<l.length;z++)if(k.context===l[z]){w.lanes|=d,k=w.alternate,k!==null&&(k.lanes|=d),wg(w.return,d,o),m||(M=null);break e}w=k.next}}else if(_.tag===18){if(M=_.return,M===null)throw Error(r(341));M.lanes|=d,w=M.alternate,w!==null&&(w.lanes|=d),wg(M,d,o),M=null}else M=_.child;if(M!==null)M.return=_;else for(M=_;M!==null;){if(M===o){M=null;break}if(_=M.sibling,_!==null){_.return=M.return,M=_;break}M=M.return}_=M}}function es(o,l,d,m){o=null;for(var _=l,w=!1;_!==null;){if(!w){if((_.flags&524288)!==0)w=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var M=_.alternate;if(M===null)throw Error(r(387));if(M=M.memoizedProps,M!==null){var k=_.type;jn(_.pendingProps.value,M.value)||(o!==null?o.push(k):o=[k])}}else if(_===je.current){if(M=_.alternate,M===null)throw Error(r(387));M.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(o!==null?o.push(Nu):o=[Nu])}_=_.return}o!==null&&Sg(l,o,d,m),l.flags|=262144}function Gf(o){for(o=o.firstContext;o!==null;){if(!jn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Fa(o){Ga=o,di=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function nn(o){return IA(Ga,o)}function Ff(o,l){return Ga===null&&Fa(o),IA(o,l)}function IA(o,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},di===null){if(o===null)throw Error(r(308));di=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else di=di.next=l;return d}var WB=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(d,m){o.push(m)}};this.abort=function(){l.aborted=!0,o.forEach(function(d){return d()})}},YB=t.unstable_scheduleCallback,JB=t.unstable_NormalPriority,kt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Eg(){return{controller:new WB,data:new Map,refCount:0}}function au(o){o.refCount--,o.refCount===0&&YB(JB,function(){o.controller.abort()})}var ou=null,Tg=0,ts=0,ns=null;function XB(o,l){if(ou===null){var d=ou=[];Tg=0,ts=Ov(),ns={status:"pending",value:void 0,then:function(m){d.push(m)}}}return Tg++,l.then(kA,kA),l}function kA(){if(--Tg===0&&ou!==null){ns!==null&&(ns.status="fulfilled");var o=ou;ou=null,ts=0,ns=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function QB(o,l){var d=[],m={status:"pending",value:null,reason:null,then:function(_){d.push(_)}};return o.then(function(){m.status="fulfilled",m.value=l;for(var _=0;_<d.length;_++)(0,d[_])(l)},function(_){for(m.status="rejected",m.reason=_,_=0;_<d.length;_++)(0,d[_])(void 0)}),m}var DA=j.S;j.S=function(o,l){yC=cn(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&XB(o,l),DA!==null&&DA(o,l)};var Ka=q(null);function Ag(){var o=Ka.current;return o!==null?o:lt.pooledCache}function Kf(o,l){l===null?re(Ka,Ka.current):re(Ka,l.pool)}function LA(){var o=Ag();return o===null?null:{parent:kt._currentValue,pool:o}}var rs=Error(r(460)),Cg=Error(r(474)),Wf=Error(r(542)),Yf={then:function(){}};function jA(o){return o=o.status,o==="fulfilled"||o==="rejected"}function UA(o,l,d){switch(d=o[d],d===void 0?o.push(l):d!==l&&(l.then(li,li),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,qA(o),o;default:if(typeof l.status=="string")l.then(li,li);else{if(o=lt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(m){if(l.status==="pending"){var _=l;_.status="fulfilled",_.value=m}},function(m){if(l.status==="pending"){var _=l;_.status="rejected",_.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,qA(o),o}throw Ya=l,rs}}function Wa(o){try{var l=o._init;return l(o._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Ya=d,rs):d}}var Ya=null;function $A(){if(Ya===null)throw Error(r(459));var o=Ya;return Ya=null,o}function qA(o){if(o===rs||o===Wf)throw Error(r(483))}var is=null,su=0;function Jf(o){var l=su;return su+=1,is===null&&(is=[]),UA(is,o,l)}function lu(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function Xf(o,l){throw l.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function BA(o){function l(X,F){if(o){var Q=X.deletions;Q===null?(X.deletions=[F],X.flags|=16):Q.push(F)}}function d(X,F){if(!o)return null;for(;F!==null;)l(X,F),F=F.sibling;return null}function m(X){for(var F=new Map;X!==null;)X.key!==null?F.set(X.key,X):F.set(X.index,X),X=X.sibling;return F}function _(X,F){return X=ci(X,F),X.index=0,X.sibling=null,X}function w(X,F,Q){return X.index=Q,o?(Q=X.alternate,Q!==null?(Q=Q.index,Q<F?(X.flags|=67108866,F):Q):(X.flags|=67108866,F)):(X.flags|=1048576,F)}function M(X){return o&&X.alternate===null&&(X.flags|=67108866),X}function k(X,F,Q,se){return F===null||F.tag!==6?(F=mg(Q,X.mode,se),F.return=X,F):(F=_(F,Q),F.return=X,F)}function z(X,F,Q,se){var _e=Q.type;return _e===E?ie(X,F,Q.props.children,se,Q.key):F!==null&&(F.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===D&&Wa(_e)===F.type)?(F=_(F,Q.props),lu(F,Q),F.return=X,F):(F=zf(Q.type,Q.key,Q.props,null,X.mode,se),lu(F,Q),F.return=X,F)}function Z(X,F,Q,se){return F===null||F.tag!==4||F.stateNode.containerInfo!==Q.containerInfo||F.stateNode.implementation!==Q.implementation?(F=gg(Q,X.mode,se),F.return=X,F):(F=_(F,Q.children||[]),F.return=X,F)}function ie(X,F,Q,se,_e){return F===null||F.tag!==7?(F=za(Q,X.mode,se,_e),F.return=X,F):(F=_(F,Q),F.return=X,F)}function le(X,F,Q){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=mg(""+F,X.mode,Q),F.return=X,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case b:return Q=zf(F.type,F.key,F.props,null,X.mode,Q),lu(Q,F),Q.return=X,Q;case S:return F=gg(F,X.mode,Q),F.return=X,F;case D:return F=Wa(F),le(X,F,Q)}if(B(F)||Y(F))return F=za(F,X.mode,Q,null),F.return=X,F;if(typeof F.then=="function")return le(X,Jf(F),Q);if(F.$$typeof===C)return le(X,Ff(X,F),Q);Xf(X,F)}return null}function te(X,F,Q,se){var _e=F!==null?F.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return _e!==null?null:k(X,F,""+Q,se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return Q.key===_e?z(X,F,Q,se):null;case S:return Q.key===_e?Z(X,F,Q,se):null;case D:return Q=Wa(Q),te(X,F,Q,se)}if(B(Q)||Y(Q))return _e!==null?null:ie(X,F,Q,se,null);if(typeof Q.then=="function")return te(X,F,Jf(Q),se);if(Q.$$typeof===C)return te(X,F,Ff(X,Q),se);Xf(X,Q)}return null}function ne(X,F,Q,se,_e){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return X=X.get(Q)||null,k(F,X,""+se,_e);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case b:return X=X.get(se.key===null?Q:se.key)||null,z(F,X,se,_e);case S:return X=X.get(se.key===null?Q:se.key)||null,Z(F,X,se,_e);case D:return se=Wa(se),ne(X,F,Q,se,_e)}if(B(se)||Y(se))return X=X.get(Q)||null,ie(F,X,se,_e,null);if(typeof se.then=="function")return ne(X,F,Q,Jf(se),_e);if(se.$$typeof===C)return ne(X,F,Q,Ff(F,se),_e);Xf(F,se)}return null}function ve(X,F,Q,se){for(var _e=null,Fe=null,ye=F,ke=F=0,He=null;ye!==null&&ke<Q.length;ke++){ye.index>ke?(He=ye,ye=null):He=ye.sibling;var Ke=te(X,ye,Q[ke],se);if(Ke===null){ye===null&&(ye=He);break}o&&ye&&Ke.alternate===null&&l(X,ye),F=w(Ke,F,ke),Fe===null?_e=Ke:Fe.sibling=Ke,Fe=Ke,ye=He}if(ke===Q.length)return d(X,ye),ze&&fi(X,ke),_e;if(ye===null){for(;ke<Q.length;ke++)ye=le(X,Q[ke],se),ye!==null&&(F=w(ye,F,ke),Fe===null?_e=ye:Fe.sibling=ye,Fe=ye);return ze&&fi(X,ke),_e}for(ye=m(ye);ke<Q.length;ke++)He=ne(ye,X,ke,Q[ke],se),He!==null&&(o&&He.alternate!==null&&ye.delete(He.key===null?ke:He.key),F=w(He,F,ke),Fe===null?_e=He:Fe.sibling=He,Fe=He);return o&&ye.forEach(function(_a){return l(X,_a)}),ze&&fi(X,ke),_e}function we(X,F,Q,se){if(Q==null)throw Error(r(151));for(var _e=null,Fe=null,ye=F,ke=F=0,He=null,Ke=Q.next();ye!==null&&!Ke.done;ke++,Ke=Q.next()){ye.index>ke?(He=ye,ye=null):He=ye.sibling;var _a=te(X,ye,Ke.value,se);if(_a===null){ye===null&&(ye=He);break}o&&ye&&_a.alternate===null&&l(X,ye),F=w(_a,F,ke),Fe===null?_e=_a:Fe.sibling=_a,Fe=_a,ye=He}if(Ke.done)return d(X,ye),ze&&fi(X,ke),_e;if(ye===null){for(;!Ke.done;ke++,Ke=Q.next())Ke=le(X,Ke.value,se),Ke!==null&&(F=w(Ke,F,ke),Fe===null?_e=Ke:Fe.sibling=Ke,Fe=Ke);return ze&&fi(X,ke),_e}for(ye=m(ye);!Ke.done;ke++,Ke=Q.next())Ke=ne(ye,X,ke,Ke.value,se),Ke!==null&&(o&&Ke.alternate!==null&&ye.delete(Ke.key===null?ke:Ke.key),F=w(Ke,F,ke),Fe===null?_e=Ke:Fe.sibling=Ke,Fe=Ke);return o&&ye.forEach(function(u6){return l(X,u6)}),ze&&fi(X,ke),_e}function ot(X,F,Q,se){if(typeof Q=="object"&&Q!==null&&Q.type===E&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:e:{for(var _e=Q.key;F!==null;){if(F.key===_e){if(_e=Q.type,_e===E){if(F.tag===7){d(X,F.sibling),se=_(F,Q.props.children),se.return=X,X=se;break e}}else if(F.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===D&&Wa(_e)===F.type){d(X,F.sibling),se=_(F,Q.props),lu(se,Q),se.return=X,X=se;break e}d(X,F);break}else l(X,F);F=F.sibling}Q.type===E?(se=za(Q.props.children,X.mode,se,Q.key),se.return=X,X=se):(se=zf(Q.type,Q.key,Q.props,null,X.mode,se),lu(se,Q),se.return=X,X=se)}return M(X);case S:e:{for(_e=Q.key;F!==null;){if(F.key===_e)if(F.tag===4&&F.stateNode.containerInfo===Q.containerInfo&&F.stateNode.implementation===Q.implementation){d(X,F.sibling),se=_(F,Q.children||[]),se.return=X,X=se;break e}else{d(X,F);break}else l(X,F);F=F.sibling}se=gg(Q,X.mode,se),se.return=X,X=se}return M(X);case D:return Q=Wa(Q),ot(X,F,Q,se)}if(B(Q))return ve(X,F,Q,se);if(Y(Q)){if(_e=Y(Q),typeof _e!="function")throw Error(r(150));return Q=_e.call(Q),we(X,F,Q,se)}if(typeof Q.then=="function")return ot(X,F,Jf(Q),se);if(Q.$$typeof===C)return ot(X,F,Ff(X,Q),se);Xf(X,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,F!==null&&F.tag===6?(d(X,F.sibling),se=_(F,Q),se.return=X,X=se):(d(X,F),se=mg(Q,X.mode,se),se.return=X,X=se),M(X)):d(X,F)}return function(X,F,Q,se){try{su=0;var _e=ot(X,F,Q,se);return is=null,_e}catch(ye){if(ye===rs||ye===Wf)throw ye;var Fe=Un(29,ye,null,X.mode);return Fe.lanes=se,Fe.return=X,Fe}finally{}}}var Ja=BA(!0),HA=BA(!1),ra=!1;function Og(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rg(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function ia(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function aa(o,l,d){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(Je&2)!==0){var _=m.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),m.pending=l,l=Hf(o),TA(o,null,d),l}return Bf(o,m,l,d),Hf(o)}function uu(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,IT(o,d)}}function Pg(o,l){var d=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var _=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var M={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};w===null?_=w=M:w=w.next=M,d=d.next}while(d!==null);w===null?_=w=l:w=w.next=l}else _=w=l;d={baseState:m.baseState,firstBaseUpdate:_,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}var Ng=!1;function cu(){if(Ng){var o=ns;if(o!==null)throw o}}function fu(o,l,d,m){Ng=!1;var _=o.updateQueue;ra=!1;var w=_.firstBaseUpdate,M=_.lastBaseUpdate,k=_.shared.pending;if(k!==null){_.shared.pending=null;var z=k,Z=z.next;z.next=null,M===null?w=Z:M.next=Z,M=z;var ie=o.alternate;ie!==null&&(ie=ie.updateQueue,k=ie.lastBaseUpdate,k!==M&&(k===null?ie.firstBaseUpdate=Z:k.next=Z,ie.lastBaseUpdate=z))}if(w!==null){var le=_.baseState;M=0,ie=Z=z=null,k=w;do{var te=k.lane&-536870913,ne=te!==k.lane;if(ne?(Be&te)===te:(m&te)===te){te!==0&&te===ts&&(Ng=!0),ie!==null&&(ie=ie.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var ve=o,we=k;te=l;var ot=d;switch(we.tag){case 1:if(ve=we.payload,typeof ve=="function"){le=ve.call(ot,le,te);break e}le=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=we.payload,te=typeof ve=="function"?ve.call(ot,le,te):ve,te==null)break e;le=p({},le,te);break e;case 2:ra=!0}}te=k.callback,te!==null&&(o.flags|=64,ne&&(o.flags|=8192),ne=_.callbacks,ne===null?_.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ie===null?(Z=ie=ne,z=le):ie=ie.next=ne,M|=te;if(k=k.next,k===null){if(k=_.shared.pending,k===null)break;ne=k,k=ne.next,ne.next=null,_.lastBaseUpdate=ne,_.shared.pending=null}}while(!0);ie===null&&(z=le),_.baseState=z,_.firstBaseUpdate=Z,_.lastBaseUpdate=ie,w===null&&(_.shared.lanes=0),ca|=M,o.lanes=M,o.memoizedState=le}}function zA(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function VA(o,l){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)zA(d[o],l)}var as=q(null),Qf=q(0);function GA(o,l){o=wi,re(Qf,o),re(as,l),wi=o|l.baseLanes}function Mg(){re(Qf,wi),re(as,as.current)}function Ig(){wi=Qf.current,J(as),J(Qf)}var $n=q(null),ir=null;function oa(o){var l=o.alternate;re(Nt,Nt.current&1),re($n,o),ir===null&&(l===null||as.current!==null||l.memoizedState!==null)&&(ir=o)}function kg(o){re(Nt,Nt.current),re($n,o),ir===null&&(ir=o)}function FA(o){o.tag===22?(re(Nt,Nt.current),re($n,o),ir===null&&(ir=o)):sa()}function sa(){re(Nt,Nt.current),re($n,$n.current)}function qn(o){J($n),ir===o&&(ir=null),J(Nt)}var Nt=q(0);function Zf(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||qv(d)||Bv(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var pi=0,Me=null,it=null,Dt=null,ed=!1,os=!1,Xa=!1,td=0,du=0,ss=null,ZB=0;function Ct(){throw Error(r(321))}function Dg(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!jn(o[d],l[d]))return!1;return!0}function Lg(o,l,d,m,_,w){return pi=w,Me=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,j.H=o===null||o.memoizedState===null?R1:Xg,Xa=!1,w=d(m,_),Xa=!1,os&&(w=WA(l,d,m,_)),KA(o),w}function KA(o){j.H=mu;var l=it!==null&&it.next!==null;if(pi=0,Dt=it=Me=null,ed=!1,du=0,ss=null,l)throw Error(r(300));o===null||Lt||(o=o.dependencies,o!==null&&Gf(o)&&(Lt=!0))}function WA(o,l,d,m){Me=o;var _=0;do{if(os&&(ss=null),du=0,os=!1,25<=_)throw Error(r(301));if(_+=1,Dt=it=null,o.updateQueue!=null){var w=o.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}j.H=P1,w=l(d,m)}while(os);return w}function e5(){var o=j.H,l=o.useState()[0];return l=typeof l.then=="function"?hu(l):l,o=o.useState()[0],(it!==null?it.memoizedState:null)!==o&&(Me.flags|=1024),l}function jg(){var o=td!==0;return td=0,o}function Ug(o,l,d){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~d}function $g(o){if(ed){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}ed=!1}pi=0,Dt=it=Me=null,os=!1,du=td=0,ss=null}function vn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Me.memoizedState=Dt=o:Dt=Dt.next=o,Dt}function Mt(){if(it===null){var o=Me.alternate;o=o!==null?o.memoizedState:null}else o=it.next;var l=Dt===null?Me.memoizedState:Dt.next;if(l!==null)Dt=l,it=o;else{if(o===null)throw Me.alternate===null?Error(r(467)):Error(r(310));it=o,o={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Dt===null?Me.memoizedState=Dt=o:Dt=Dt.next=o}return Dt}function nd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hu(o){var l=du;return du+=1,ss===null&&(ss=[]),o=UA(ss,o,l),l=Me,(Dt===null?l.memoizedState:Dt.next)===null&&(l=l.alternate,j.H=l===null||l.memoizedState===null?R1:Xg),o}function rd(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return hu(o);if(o.$$typeof===C)return nn(o)}throw Error(r(438,String(o)))}function qg(o){var l=null,d=Me.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var m=Me.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(_){return _.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=nd(),Me.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(o),m=0;m<o;m++)d[m]=V;return l.index++,d}function mi(o,l){return typeof l=="function"?l(o):l}function id(o){var l=Mt();return Bg(l,it,o)}function Bg(o,l,d){var m=o.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var _=o.baseQueue,w=m.pending;if(w!==null){if(_!==null){var M=_.next;_.next=w.next,w.next=M}l.baseQueue=_=w,m.pending=null}if(w=o.baseState,_===null)o.memoizedState=w;else{l=_.next;var k=M=null,z=null,Z=l,ie=!1;do{var le=Z.lane&-536870913;if(le!==Z.lane?(Be&le)===le:(pi&le)===le){var te=Z.revertLane;if(te===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),le===ts&&(ie=!0);else if((pi&te)===te){Z=Z.next,te===ts&&(ie=!0);continue}else le={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},z===null?(k=z=le,M=w):z=z.next=le,Me.lanes|=te,ca|=te;le=Z.action,Xa&&d(w,le),w=Z.hasEagerState?Z.eagerState:d(w,le)}else te={lane:le,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},z===null?(k=z=te,M=w):z=z.next=te,Me.lanes|=le,ca|=le;Z=Z.next}while(Z!==null&&Z!==l);if(z===null?M=w:z.next=k,!jn(w,o.memoizedState)&&(Lt=!0,ie&&(d=ns,d!==null)))throw d;o.memoizedState=w,o.baseState=M,o.baseQueue=z,m.lastRenderedState=w}return _===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function Hg(o){var l=Mt(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var m=d.dispatch,_=d.pending,w=l.memoizedState;if(_!==null){d.pending=null;var M=_=_.next;do w=o(w,M.action),M=M.next;while(M!==_);jn(w,l.memoizedState)||(Lt=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),d.lastRenderedState=w}return[w,m]}function YA(o,l,d){var m=Me,_=Mt(),w=ze;if(w){if(d===void 0)throw Error(r(407));d=d()}else d=l();var M=!jn((it||_).memoizedState,d);if(M&&(_.memoizedState=d,Lt=!0),_=_.queue,Gg(QA.bind(null,m,_,o),[o]),_.getSnapshot!==l||M||Dt!==null&&Dt.memoizedState.tag&1){if(m.flags|=2048,ls(9,{destroy:void 0},XA.bind(null,m,_,d,l),null),lt===null)throw Error(r(349));w||(pi&127)!==0||JA(m,l,d)}return d}function JA(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=Me.updateQueue,l===null?(l=nd(),Me.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function XA(o,l,d,m){l.value=d,l.getSnapshot=m,ZA(l)&&e1(o)}function QA(o,l,d){return d(function(){ZA(l)&&e1(o)})}function ZA(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!jn(o,d)}catch{return!0}}function e1(o){var l=Ha(o,2);l!==null&&Nn(l,o,2)}function zg(o){var l=vn();if(typeof o=="function"){var d=o;if(o=d(),Xa){Ji(!0);try{d()}finally{Ji(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:o},l}function t1(o,l,d,m){return o.baseState=d,Bg(o,it,typeof m=="function"?m:mi)}function t5(o,l,d,m,_){if(sd(o))throw Error(r(485));if(o=l.action,o!==null){var w={payload:_,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){w.listeners.push(M)}};j.T!==null?d(!0):w.isTransition=!1,m(w),d=l.pending,d===null?(w.next=l.pending=w,n1(l,w)):(w.next=d.next,l.pending=d.next=w)}}function n1(o,l){var d=l.action,m=l.payload,_=o.state;if(l.isTransition){var w=j.T,M={};j.T=M;try{var k=d(_,m),z=j.S;z!==null&&z(M,k),r1(o,l,k)}catch(Z){Vg(o,l,Z)}finally{w!==null&&M.types!==null&&(w.types=M.types),j.T=w}}else try{w=d(_,m),r1(o,l,w)}catch(Z){Vg(o,l,Z)}}function r1(o,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){i1(o,l,m)},function(m){return Vg(o,l,m)}):i1(o,l,d)}function i1(o,l,d){l.status="fulfilled",l.value=d,a1(l),o.state=d,l=o.pending,l!==null&&(d=l.next,d===l?o.pending=null:(d=d.next,l.next=d,n1(o,d)))}function Vg(o,l,d){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=d,a1(l),l=l.next;while(l!==m)}o.action=null}function a1(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function o1(o,l){return l}function s1(o,l){if(ze){var d=lt.formState;if(d!==null){e:{var m=Me;if(ze){if(mt){t:{for(var _=mt,w=rr;_.nodeType!==8;){if(!w){_=null;break t}if(_=ar(_.nextSibling),_===null){_=null;break t}}w=_.data,_=w==="F!"||w==="F"?_:null}if(_){mt=ar(_.nextSibling),m=_.data==="F!";break e}}ta(m)}m=!1}m&&(l=d[0])}}return d=vn(),d.memoizedState=d.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o1,lastRenderedState:l},d.queue=m,d=A1.bind(null,Me,m),m.dispatch=d,m=zg(!1),w=Jg.bind(null,Me,!1,m.queue),m=vn(),_={state:l,dispatch:null,action:o,pending:null},m.queue=_,d=t5.bind(null,Me,_,w,d),_.dispatch=d,m.memoizedState=o,[l,d,!1]}function l1(o){var l=Mt();return u1(l,it,o)}function u1(o,l,d){if(l=Bg(o,l,o1)[0],o=id(mi)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=hu(l)}catch(M){throw M===rs?Wf:M}else m=l;l=Mt();var _=l.queue,w=_.dispatch;return d!==l.memoizedState&&(Me.flags|=2048,ls(9,{destroy:void 0},n5.bind(null,_,d),null)),[m,w,o]}function n5(o,l){o.action=l}function c1(o){var l=Mt(),d=it;if(d!==null)return u1(l,d,o);Mt(),l=l.memoizedState,d=Mt();var m=d.queue.dispatch;return d.memoizedState=o,[l,m,!1]}function ls(o,l,d,m){return o={tag:o,create:d,deps:m,inst:l,next:null},l=Me.updateQueue,l===null&&(l=nd(),Me.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=o.next=o:(m=d.next,d.next=o,o.next=m,l.lastEffect=o),o}function f1(){return Mt().memoizedState}function ad(o,l,d,m){var _=vn();Me.flags|=o,_.memoizedState=ls(1|l,{destroy:void 0},d,m===void 0?null:m)}function od(o,l,d,m){var _=Mt();m=m===void 0?null:m;var w=_.memoizedState.inst;it!==null&&m!==null&&Dg(m,it.memoizedState.deps)?_.memoizedState=ls(l,w,d,m):(Me.flags|=o,_.memoizedState=ls(1|l,w,d,m))}function d1(o,l){ad(8390656,8,o,l)}function Gg(o,l){od(2048,8,o,l)}function r5(o){Me.flags|=4;var l=Me.updateQueue;if(l===null)l=nd(),Me.updateQueue=l,l.events=[o];else{var d=l.events;d===null?l.events=[o]:d.push(o)}}function h1(o){var l=Mt().memoizedState;return r5({ref:l,nextImpl:o}),function(){if((Je&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function p1(o,l){return od(4,2,o,l)}function m1(o,l){return od(4,4,o,l)}function g1(o,l){if(typeof l=="function"){o=o();var d=l(o);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function v1(o,l,d){d=d!=null?d.concat([o]):null,od(4,4,g1.bind(null,l,o),d)}function Fg(){}function y1(o,l){var d=Mt();l=l===void 0?null:l;var m=d.memoizedState;return l!==null&&Dg(l,m[1])?m[0]:(d.memoizedState=[o,l],o)}function b1(o,l){var d=Mt();l=l===void 0?null:l;var m=d.memoizedState;if(l!==null&&Dg(l,m[1]))return m[0];if(m=o(),Xa){Ji(!0);try{o()}finally{Ji(!1)}}return d.memoizedState=[m,l],m}function Kg(o,l,d){return d===void 0||(pi&1073741824)!==0&&(Be&261930)===0?o.memoizedState=l:(o.memoizedState=d,o=_C(),Me.lanes|=o,ca|=o,d)}function _1(o,l,d,m){return jn(d,l)?d:as.current!==null?(o=Kg(o,d,m),jn(o,l)||(Lt=!0),o):(pi&42)===0||(pi&1073741824)!==0&&(Be&261930)===0?(Lt=!0,o.memoizedState=d):(o=_C(),Me.lanes|=o,ca|=o,l)}function x1(o,l,d,m,_){var w=K.p;K.p=w!==0&&8>w?w:8;var M=j.T,k={};j.T=k,Jg(o,!1,l,d);try{var z=_(),Z=j.S;if(Z!==null&&Z(k,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ie=QB(z,m);pu(o,l,ie,zn(o))}else pu(o,l,m,zn(o))}catch(le){pu(o,l,{then:function(){},status:"rejected",reason:le},zn())}finally{K.p=w,M!==null&&k.types!==null&&(M.types=k.types),j.T=M}}function i5(){}function Wg(o,l,d,m){if(o.tag!==5)throw Error(r(476));var _=w1(o).queue;x1(o,_,l,ee,d===null?i5:function(){return S1(o),d(m)})}function w1(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:ee},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:d},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function S1(o){var l=w1(o);l.next===null&&(l=o.alternate.memoizedState),pu(o,l.next.queue,{},zn())}function Yg(){return nn(Nu)}function E1(){return Mt().memoizedState}function T1(){return Mt().memoizedState}function a5(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var d=zn();o=ia(d);var m=aa(l,o,d);m!==null&&(Nn(m,l,d),uu(m,l,d)),l={cache:Eg()},o.payload=l;return}l=l.return}}function o5(o,l,d){var m=zn();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},sd(o)?C1(l,d):(d=hg(o,l,d,m),d!==null&&(Nn(d,o,m),O1(d,l,m)))}function A1(o,l,d){var m=zn();pu(o,l,d,m)}function pu(o,l,d,m){var _={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(sd(o))C1(l,_);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var M=l.lastRenderedState,k=w(M,d);if(_.hasEagerState=!0,_.eagerState=k,jn(k,M))return Bf(o,l,_,0),lt===null&&qf(),!1}catch{}finally{}if(d=hg(o,l,_,m),d!==null)return Nn(d,o,m),O1(d,l,m),!0}return!1}function Jg(o,l,d,m){if(m={lane:2,revertLane:Ov(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},sd(o)){if(l)throw Error(r(479))}else l=hg(o,d,m,2),l!==null&&Nn(l,o,2)}function sd(o){var l=o.alternate;return o===Me||l!==null&&l===Me}function C1(o,l){os=ed=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function O1(o,l,d){if((d&4194048)!==0){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,IT(o,d)}}var mu={readContext:nn,use:rd,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};mu.useEffectEvent=Ct;var R1={readContext:nn,use:rd,useCallback:function(o,l){return vn().memoizedState=[o,l===void 0?null:l],o},useContext:nn,useEffect:d1,useImperativeHandle:function(o,l,d){d=d!=null?d.concat([o]):null,ad(4194308,4,g1.bind(null,l,o),d)},useLayoutEffect:function(o,l){return ad(4194308,4,o,l)},useInsertionEffect:function(o,l){ad(4,2,o,l)},useMemo:function(o,l){var d=vn();l=l===void 0?null:l;var m=o();if(Xa){Ji(!0);try{o()}finally{Ji(!1)}}return d.memoizedState=[m,l],m},useReducer:function(o,l,d){var m=vn();if(d!==void 0){var _=d(l);if(Xa){Ji(!0);try{d(l)}finally{Ji(!1)}}}else _=l;return m.memoizedState=m.baseState=_,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:_},m.queue=o,o=o.dispatch=o5.bind(null,Me,o),[m.memoizedState,o]},useRef:function(o){var l=vn();return o={current:o},l.memoizedState=o},useState:function(o){o=zg(o);var l=o.queue,d=A1.bind(null,Me,l);return l.dispatch=d,[o.memoizedState,d]},useDebugValue:Fg,useDeferredValue:function(o,l){var d=vn();return Kg(d,o,l)},useTransition:function(){var o=zg(!1);return o=x1.bind(null,Me,o.queue,!0,!1),vn().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,d){var m=Me,_=vn();if(ze){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),lt===null)throw Error(r(349));(Be&127)!==0||JA(m,l,d)}_.memoizedState=d;var w={value:d,getSnapshot:l};return _.queue=w,d1(QA.bind(null,m,w,o),[o]),m.flags|=2048,ls(9,{destroy:void 0},XA.bind(null,m,w,d,l),null),d},useId:function(){var o=vn(),l=lt.identifierPrefix;if(ze){var d=Gr,m=Vr;d=(m&~(1<<32-Ln(m)-1)).toString(32)+d,l="_"+l+"R_"+d,d=td++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=ZB++,l="_"+l+"r_"+d.toString(32)+"_";return o.memoizedState=l},useHostTransitionStatus:Yg,useFormState:s1,useActionState:s1,useOptimistic:function(o){var l=vn();l.memoizedState=l.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=Jg.bind(null,Me,!0,d),d.dispatch=l,[o,l]},useMemoCache:qg,useCacheRefresh:function(){return vn().memoizedState=a5.bind(null,Me)},useEffectEvent:function(o){var l=vn(),d={impl:o};return l.memoizedState=d,function(){if((Je&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},Xg={readContext:nn,use:rd,useCallback:y1,useContext:nn,useEffect:Gg,useImperativeHandle:v1,useInsertionEffect:p1,useLayoutEffect:m1,useMemo:b1,useReducer:id,useRef:f1,useState:function(){return id(mi)},useDebugValue:Fg,useDeferredValue:function(o,l){var d=Mt();return _1(d,it.memoizedState,o,l)},useTransition:function(){var o=id(mi)[0],l=Mt().memoizedState;return[typeof o=="boolean"?o:hu(o),l]},useSyncExternalStore:YA,useId:E1,useHostTransitionStatus:Yg,useFormState:l1,useActionState:l1,useOptimistic:function(o,l){var d=Mt();return t1(d,it,o,l)},useMemoCache:qg,useCacheRefresh:T1};Xg.useEffectEvent=h1;var P1={readContext:nn,use:rd,useCallback:y1,useContext:nn,useEffect:Gg,useImperativeHandle:v1,useInsertionEffect:p1,useLayoutEffect:m1,useMemo:b1,useReducer:Hg,useRef:f1,useState:function(){return Hg(mi)},useDebugValue:Fg,useDeferredValue:function(o,l){var d=Mt();return it===null?Kg(d,o,l):_1(d,it.memoizedState,o,l)},useTransition:function(){var o=Hg(mi)[0],l=Mt().memoizedState;return[typeof o=="boolean"?o:hu(o),l]},useSyncExternalStore:YA,useId:E1,useHostTransitionStatus:Yg,useFormState:c1,useActionState:c1,useOptimistic:function(o,l){var d=Mt();return it!==null?t1(d,it,o,l):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:qg,useCacheRefresh:T1};P1.useEffectEvent=h1;function Qg(o,l,d,m){l=o.memoizedState,d=d(m,l),d=d==null?l:p({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var Zg={enqueueSetState:function(o,l,d){o=o._reactInternals;var m=zn(),_=ia(m);_.payload=l,d!=null&&(_.callback=d),l=aa(o,_,m),l!==null&&(Nn(l,o,m),uu(l,o,m))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var m=zn(),_=ia(m);_.tag=1,_.payload=l,d!=null&&(_.callback=d),l=aa(o,_,m),l!==null&&(Nn(l,o,m),uu(l,o,m))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=zn(),m=ia(d);m.tag=2,l!=null&&(m.callback=l),l=aa(o,m,d),l!==null&&(Nn(l,o,d),uu(l,o,d))}};function N1(o,l,d,m,_,w,M){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,w,M):l.prototype&&l.prototype.isPureReactComponent?!tu(d,m)||!tu(_,w):!0}function M1(o,l,d,m){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==o&&Zg.enqueueReplaceState(l,l.state,null)}function Qa(o,l){var d=l;if("ref"in l){d={};for(var m in l)m!=="ref"&&(d[m]=l[m])}if(o=o.defaultProps){d===l&&(d=p({},d));for(var _ in o)d[_]===void 0&&(d[_]=o[_])}return d}function I1(o){$f(o)}function k1(o){console.error(o)}function D1(o){$f(o)}function ld(o,l){try{var d=o.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function L1(o,l,d){try{var m=o.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function ev(o,l,d){return d=ia(d),d.tag=3,d.payload={element:null},d.callback=function(){ld(o,l)},d}function j1(o){return o=ia(o),o.tag=3,o}function U1(o,l,d,m){var _=d.type.getDerivedStateFromError;if(typeof _=="function"){var w=m.value;o.payload=function(){return _(w)},o.callback=function(){L1(l,d,m)}}var M=d.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(o.callback=function(){L1(l,d,m),typeof _!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var k=m.stack;this.componentDidCatch(m.value,{componentStack:k!==null?k:""})})}function s5(o,l,d,m,_){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=d.alternate,l!==null&&es(l,d,_,!0),d=$n.current,d!==null){switch(d.tag){case 31:case 13:return ir===null?_d():d.alternate===null&&Ot===0&&(Ot=3),d.flags&=-257,d.flags|=65536,d.lanes=_,m===Yf?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([m]):l.add(m),Tv(o,m,_)),!1;case 22:return d.flags|=65536,m===Yf?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([m]):d.add(m)),Tv(o,m,_)),!1}throw Error(r(435,d.tag))}return Tv(o,m,_),_d(),!1}if(ze)return l=$n.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=_,m!==bg&&(o=Error(r(422),{cause:m}),iu(er(o,d)))):(m!==bg&&(l=Error(r(423),{cause:m}),iu(er(l,d))),o=o.current.alternate,o.flags|=65536,_&=-_,o.lanes|=_,m=er(m,d),_=ev(o.stateNode,m,_),Pg(o,_),Ot!==4&&(Ot=2)),!1;var w=Error(r(520),{cause:m});if(w=er(w,d),Su===null?Su=[w]:Su.push(w),Ot!==4&&(Ot=2),l===null)return!0;m=er(m,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,o=_&-_,d.lanes|=o,o=ev(d.stateNode,m,o),Pg(d,o),!1;case 1:if(l=d.type,w=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(fa===null||!fa.has(w))))return d.flags|=65536,_&=-_,d.lanes|=_,_=j1(_),U1(_,o,d,m),Pg(d,_),!1}d=d.return}while(d!==null);return!1}var tv=Error(r(461)),Lt=!1;function rn(o,l,d,m){l.child=o===null?HA(l,null,d,m):Ja(l,o.child,d,m)}function $1(o,l,d,m,_){d=d.render;var w=l.ref;if("ref"in m){var M={};for(var k in m)k!=="ref"&&(M[k]=m[k])}else M=m;return Fa(l),m=Lg(o,l,d,M,w,_),k=jg(),o!==null&&!Lt?(Ug(o,l,_),gi(o,l,_)):(ze&&k&&vg(l),l.flags|=1,rn(o,l,m,_),l.child)}function q1(o,l,d,m,_){if(o===null){var w=d.type;return typeof w=="function"&&!pg(w)&&w.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=w,B1(o,l,w,m,_)):(o=zf(d.type,null,m,l,l.mode,_),o.ref=l.ref,o.return=l,l.child=o)}if(w=o.child,!uv(o,_)){var M=w.memoizedProps;if(d=d.compare,d=d!==null?d:tu,d(M,m)&&o.ref===l.ref)return gi(o,l,_)}return l.flags|=1,o=ci(w,m),o.ref=l.ref,o.return=l,l.child=o}function B1(o,l,d,m,_){if(o!==null){var w=o.memoizedProps;if(tu(w,m)&&o.ref===l.ref)if(Lt=!1,l.pendingProps=m=w,uv(o,_))(o.flags&131072)!==0&&(Lt=!0);else return l.lanes=o.lanes,gi(o,l,_)}return nv(o,l,d,m,_)}function H1(o,l,d,m){var _=m.children,w=o!==null?o.memoizedState:null;if(o===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(w=w!==null?w.baseLanes|d:d,o!==null){for(m=l.child=o.child,_=0;m!==null;)_=_|m.lanes|m.childLanes,m=m.sibling;m=_&~w}else m=0,l.child=null;return z1(o,l,w,d,m)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&Kf(l,w!==null?w.cachePool:null),w!==null?GA(l,w):Mg(),FA(l);else return m=l.lanes=536870912,z1(o,l,w!==null?w.baseLanes|d:d,d,m)}else w!==null?(Kf(l,w.cachePool),GA(l,w),sa(),l.memoizedState=null):(o!==null&&Kf(l,null),Mg(),sa());return rn(o,l,_,d),l.child}function gu(o,l){return o!==null&&o.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function z1(o,l,d,m,_){var w=Ag();return w=w===null?null:{parent:kt._currentValue,pool:w},l.memoizedState={baseLanes:d,cachePool:w},o!==null&&Kf(l,null),Mg(),FA(l),o!==null&&es(o,l,m,!0),l.childLanes=_,null}function ud(o,l){return l=fd({mode:l.mode,children:l.children},o.mode),l.ref=o.ref,o.child=l,l.return=o,l}function V1(o,l,d){return Ja(l,o.child,null,d),o=ud(l,l.pendingProps),o.flags|=2,qn(l),l.memoizedState=null,o}function l5(o,l,d){var m=l.pendingProps,_=(l.flags&128)!==0;if(l.flags&=-129,o===null){if(ze){if(m.mode==="hidden")return o=ud(l,m),l.lanes=536870912,gu(null,o);if(kg(l),(o=mt)?(o=nO(o,rr),o=o!==null&&o.data==="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Zi!==null?{id:Vr,overflow:Gr}:null,retryLane:536870912,hydrationErrors:null},d=CA(o),d.return=l,l.child=d,tn=l,mt=null)):o=null,o===null)throw ta(l);return l.lanes=536870912,null}return ud(l,m)}var w=o.memoizedState;if(w!==null){var M=w.dehydrated;if(kg(l),_)if(l.flags&256)l.flags&=-257,l=V1(o,l,d);else if(l.memoizedState!==null)l.child=o.child,l.flags|=128,l=null;else throw Error(r(558));else if(Lt||es(o,l,d,!1),_=(d&o.childLanes)!==0,Lt||_){if(m=lt,m!==null&&(M=kT(m,d),M!==0&&M!==w.retryLane))throw w.retryLane=M,Ha(o,M),Nn(m,o,M),tv;_d(),l=V1(o,l,d)}else o=w.treeContext,mt=ar(M.nextSibling),tn=l,ze=!0,ea=null,rr=!1,o!==null&&PA(l,o),l=ud(l,m),l.flags|=4096;return l}return o=ci(o.child,{mode:m.mode,children:m.children}),o.ref=l.ref,l.child=o,o.return=l,o}function cd(o,l){var d=l.ref;if(d===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(o===null||o.ref!==d)&&(l.flags|=4194816)}}function nv(o,l,d,m,_){return Fa(l),d=Lg(o,l,d,m,void 0,_),m=jg(),o!==null&&!Lt?(Ug(o,l,_),gi(o,l,_)):(ze&&m&&vg(l),l.flags|=1,rn(o,l,d,_),l.child)}function G1(o,l,d,m,_,w){return Fa(l),l.updateQueue=null,d=WA(l,m,d,_),KA(o),m=jg(),o!==null&&!Lt?(Ug(o,l,w),gi(o,l,w)):(ze&&m&&vg(l),l.flags|=1,rn(o,l,d,w),l.child)}function F1(o,l,d,m,_){if(Fa(l),l.stateNode===null){var w=Jo,M=d.contextType;typeof M=="object"&&M!==null&&(w=nn(M)),w=new d(m,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Zg,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=m,w.state=l.memoizedState,w.refs={},Og(l),M=d.contextType,w.context=typeof M=="object"&&M!==null?nn(M):Jo,w.state=l.memoizedState,M=d.getDerivedStateFromProps,typeof M=="function"&&(Qg(l,d,M,m),w.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(M=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),M!==w.state&&Zg.enqueueReplaceState(w,w.state,null),fu(l,m,w,_),cu(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(o===null){w=l.stateNode;var k=l.memoizedProps,z=Qa(d,k);w.props=z;var Z=w.context,ie=d.contextType;M=Jo,typeof ie=="object"&&ie!==null&&(M=nn(ie));var le=d.getDerivedStateFromProps;ie=typeof le=="function"||typeof w.getSnapshotBeforeUpdate=="function",k=l.pendingProps!==k,ie||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k||Z!==M)&&M1(l,w,m,M),ra=!1;var te=l.memoizedState;w.state=te,fu(l,m,w,_),cu(),Z=l.memoizedState,k||te!==Z||ra?(typeof le=="function"&&(Qg(l,d,le,m),Z=l.memoizedState),(z=ra||N1(l,d,z,m,te,Z,M))?(ie||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=Z),w.props=m,w.state=Z,w.context=M,m=z):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{w=l.stateNode,Rg(o,l),M=l.memoizedProps,ie=Qa(d,M),w.props=ie,le=l.pendingProps,te=w.context,Z=d.contextType,z=Jo,typeof Z=="object"&&Z!==null&&(z=nn(Z)),k=d.getDerivedStateFromProps,(Z=typeof k=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(M!==le||te!==z)&&M1(l,w,m,z),ra=!1,te=l.memoizedState,w.state=te,fu(l,m,w,_),cu();var ne=l.memoizedState;M!==le||te!==ne||ra||o!==null&&o.dependencies!==null&&Gf(o.dependencies)?(typeof k=="function"&&(Qg(l,d,k,m),ne=l.memoizedState),(ie=ra||N1(l,d,ie,m,te,ne,z)||o!==null&&o.dependencies!==null&&Gf(o.dependencies))?(Z||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,ne,z),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,ne,z)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||M===o.memoizedProps&&te===o.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||M===o.memoizedProps&&te===o.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=ne),w.props=m,w.state=ne,w.context=z,m=ie):(typeof w.componentDidUpdate!="function"||M===o.memoizedProps&&te===o.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||M===o.memoizedProps&&te===o.memoizedState||(l.flags|=1024),m=!1)}return w=m,cd(o,l),m=(l.flags&128)!==0,w||m?(w=l.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,o!==null&&m?(l.child=Ja(l,o.child,null,_),l.child=Ja(l,null,d,_)):rn(o,l,d,_),l.memoizedState=w.state,o=l.child):o=gi(o,l,_),o}function K1(o,l,d,m){return Va(),l.flags|=256,rn(o,l,d,m),l.child}var rv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function iv(o){return{baseLanes:o,cachePool:LA()}}function av(o,l,d){return o=o!==null?o.childLanes&~d:0,l&&(o|=Hn),o}function W1(o,l,d){var m=l.pendingProps,_=!1,w=(l.flags&128)!==0,M;if((M=w)||(M=o!==null&&o.memoizedState===null?!1:(Nt.current&2)!==0),M&&(_=!0,l.flags&=-129),M=(l.flags&32)!==0,l.flags&=-33,o===null){if(ze){if(_?oa(l):sa(),(o=mt)?(o=nO(o,rr),o=o!==null&&o.data!=="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Zi!==null?{id:Vr,overflow:Gr}:null,retryLane:536870912,hydrationErrors:null},d=CA(o),d.return=l,l.child=d,tn=l,mt=null)):o=null,o===null)throw ta(l);return Bv(o)?l.lanes=32:l.lanes=536870912,null}var k=m.children;return m=m.fallback,_?(sa(),_=l.mode,k=fd({mode:"hidden",children:k},_),m=za(m,_,d,null),k.return=l,m.return=l,k.sibling=m,l.child=k,m=l.child,m.memoizedState=iv(d),m.childLanes=av(o,M,d),l.memoizedState=rv,gu(null,m)):(oa(l),ov(l,k))}var z=o.memoizedState;if(z!==null&&(k=z.dehydrated,k!==null)){if(w)l.flags&256?(oa(l),l.flags&=-257,l=sv(o,l,d)):l.memoizedState!==null?(sa(),l.child=o.child,l.flags|=128,l=null):(sa(),k=m.fallback,_=l.mode,m=fd({mode:"visible",children:m.children},_),k=za(k,_,d,null),k.flags|=2,m.return=l,k.return=l,m.sibling=k,l.child=m,Ja(l,o.child,null,d),m=l.child,m.memoizedState=iv(d),m.childLanes=av(o,M,d),l.memoizedState=rv,l=gu(null,m));else if(oa(l),Bv(k)){if(M=k.nextSibling&&k.nextSibling.dataset,M)var Z=M.dgst;M=Z,m=Error(r(419)),m.stack="",m.digest=M,iu({value:m,source:null,stack:null}),l=sv(o,l,d)}else if(Lt||es(o,l,d,!1),M=(d&o.childLanes)!==0,Lt||M){if(M=lt,M!==null&&(m=kT(M,d),m!==0&&m!==z.retryLane))throw z.retryLane=m,Ha(o,m),Nn(M,o,m),tv;qv(k)||_d(),l=sv(o,l,d)}else qv(k)?(l.flags|=192,l.child=o.child,l=null):(o=z.treeContext,mt=ar(k.nextSibling),tn=l,ze=!0,ea=null,rr=!1,o!==null&&PA(l,o),l=ov(l,m.children),l.flags|=4096);return l}return _?(sa(),k=m.fallback,_=l.mode,z=o.child,Z=z.sibling,m=ci(z,{mode:"hidden",children:m.children}),m.subtreeFlags=z.subtreeFlags&65011712,Z!==null?k=ci(Z,k):(k=za(k,_,d,null),k.flags|=2),k.return=l,m.return=l,m.sibling=k,l.child=m,gu(null,m),m=l.child,k=o.child.memoizedState,k===null?k=iv(d):(_=k.cachePool,_!==null?(z=kt._currentValue,_=_.parent!==z?{parent:z,pool:z}:_):_=LA(),k={baseLanes:k.baseLanes|d,cachePool:_}),m.memoizedState=k,m.childLanes=av(o,M,d),l.memoizedState=rv,gu(o.child,m)):(oa(l),d=o.child,o=d.sibling,d=ci(d,{mode:"visible",children:m.children}),d.return=l,d.sibling=null,o!==null&&(M=l.deletions,M===null?(l.deletions=[o],l.flags|=16):M.push(o)),l.child=d,l.memoizedState=null,d)}function ov(o,l){return l=fd({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function fd(o,l){return o=Un(22,o,null,l),o.lanes=0,o}function sv(o,l,d){return Ja(l,o.child,null,d),o=ov(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function Y1(o,l,d){o.lanes|=l;var m=o.alternate;m!==null&&(m.lanes|=l),wg(o.return,l,d)}function lv(o,l,d,m,_,w){var M=o.memoizedState;M===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:_,treeForkCount:w}:(M.isBackwards=l,M.rendering=null,M.renderingStartTime=0,M.last=m,M.tail=d,M.tailMode=_,M.treeForkCount=w)}function J1(o,l,d){var m=l.pendingProps,_=m.revealOrder,w=m.tail;m=m.children;var M=Nt.current,k=(M&2)!==0;if(k?(M=M&1|2,l.flags|=128):M&=1,re(Nt,M),rn(o,l,m,d),m=ze?ru:0,!k&&o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Y1(o,d,l);else if(o.tag===19)Y1(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(_){case"forwards":for(d=l.child,_=null;d!==null;)o=d.alternate,o!==null&&Zf(o)===null&&(_=d),d=d.sibling;d=_,d===null?(_=l.child,l.child=null):(_=d.sibling,d.sibling=null),lv(l,!1,_,d,w,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,_=l.child,l.child=null;_!==null;){if(o=_.alternate,o!==null&&Zf(o)===null){l.child=_;break}o=_.sibling,_.sibling=d,d=_,_=o}lv(l,!0,d,null,w,m);break;case"together":lv(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function gi(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),ca|=l.lanes,(d&l.childLanes)===0)if(o!==null){if(es(o,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,d=ci(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=ci(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function uv(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&Gf(o)))}function u5(o,l,d){switch(l.tag){case 3:Xe(l,l.stateNode.containerInfo),na(l,kt,o.memoizedState.cache),Va();break;case 27:case 5:Ce(l);break;case 4:Xe(l,l.stateNode.containerInfo);break;case 10:na(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,kg(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(oa(l),l.flags|=128,null):(d&l.child.childLanes)!==0?W1(o,l,d):(oa(l),o=gi(o,l,d),o!==null?o.sibling:null);oa(l);break;case 19:var _=(o.flags&128)!==0;if(m=(d&l.childLanes)!==0,m||(es(o,l,d,!1),m=(d&l.childLanes)!==0),_){if(m)return J1(o,l,d);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),re(Nt,Nt.current),m)break;return null;case 22:return l.lanes=0,H1(o,l,d,l.pendingProps);case 24:na(l,kt,o.memoizedState.cache)}return gi(o,l,d)}function X1(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps)Lt=!0;else{if(!uv(o,d)&&(l.flags&128)===0)return Lt=!1,u5(o,l,d);Lt=(o.flags&131072)!==0}else Lt=!1,ze&&(l.flags&1048576)!==0&&RA(l,ru,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(o=Wa(l.elementType),l.type=o,typeof o=="function")pg(o)?(m=Qa(o,m),l.tag=1,l=F1(null,l,o,m,d)):(l.tag=0,l=nv(null,l,o,m,d));else{if(o!=null){var _=o.$$typeof;if(_===P){l.tag=11,l=$1(null,l,o,m,d);break e}else if(_===I){l.tag=14,l=q1(null,l,o,m,d);break e}}throw l=W(o)||o,Error(r(306,l,""))}}return l;case 0:return nv(o,l,l.type,l.pendingProps,d);case 1:return m=l.type,_=Qa(m,l.pendingProps),F1(o,l,m,_,d);case 3:e:{if(Xe(l,l.stateNode.containerInfo),o===null)throw Error(r(387));m=l.pendingProps;var w=l.memoizedState;_=w.element,Rg(o,l),fu(l,m,null,d);var M=l.memoizedState;if(m=M.cache,na(l,kt,m),m!==w.cache&&Sg(l,[kt],d,!0),cu(),m=M.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:M.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=K1(o,l,m,d);break e}else if(m!==_){_=er(Error(r(424)),l),iu(_),l=K1(o,l,m,d);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(mt=ar(o.firstChild),tn=l,ze=!0,ea=null,rr=!0,d=HA(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Va(),m===_){l=gi(o,l,d);break e}rn(o,l,m,d)}l=l.child}return l;case 26:return cd(o,l),o===null?(d=lO(l.type,null,l.pendingProps,null))?l.memoizedState=d:ze||(d=l.type,o=l.pendingProps,m=Cd(xe.current).createElement(d),m[en]=l,m[Tn]=o,an(m,d,o),Wt(m),l.stateNode=m):l.memoizedState=lO(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return Ce(l),o===null&&ze&&(m=l.stateNode=aO(l.type,l.pendingProps,xe.current),tn=l,rr=!0,_=mt,ma(l.type)?(Hv=_,mt=ar(m.firstChild)):mt=_),rn(o,l,l.pendingProps.children,d),cd(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&ze&&((_=m=mt)&&(m=$5(m,l.type,l.pendingProps,rr),m!==null?(l.stateNode=m,tn=l,mt=ar(m.firstChild),rr=!1,_=!0):_=!1),_||ta(l)),Ce(l),_=l.type,w=l.pendingProps,M=o!==null?o.memoizedProps:null,m=w.children,jv(_,w)?m=null:M!==null&&jv(_,M)&&(l.flags|=32),l.memoizedState!==null&&(_=Lg(o,l,e5,null,null,d),Nu._currentValue=_),cd(o,l),rn(o,l,m,d),l.child;case 6:return o===null&&ze&&((o=d=mt)&&(d=q5(d,l.pendingProps,rr),d!==null?(l.stateNode=d,tn=l,mt=null,o=!0):o=!1),o||ta(l)),null;case 13:return W1(o,l,d);case 4:return Xe(l,l.stateNode.containerInfo),m=l.pendingProps,o===null?l.child=Ja(l,null,m,d):rn(o,l,m,d),l.child;case 11:return $1(o,l,l.type,l.pendingProps,d);case 7:return rn(o,l,l.pendingProps,d),l.child;case 8:return rn(o,l,l.pendingProps.children,d),l.child;case 12:return rn(o,l,l.pendingProps.children,d),l.child;case 10:return m=l.pendingProps,na(l,l.type,m.value),rn(o,l,m.children,d),l.child;case 9:return _=l.type._context,m=l.pendingProps.children,Fa(l),_=nn(_),m=m(_),l.flags|=1,rn(o,l,m,d),l.child;case 14:return q1(o,l,l.type,l.pendingProps,d);case 15:return B1(o,l,l.type,l.pendingProps,d);case 19:return J1(o,l,d);case 31:return l5(o,l,d);case 22:return H1(o,l,d,l.pendingProps);case 24:return Fa(l),m=nn(kt),o===null?(_=Ag(),_===null&&(_=lt,w=Eg(),_.pooledCache=w,w.refCount++,w!==null&&(_.pooledCacheLanes|=d),_=w),l.memoizedState={parent:m,cache:_},Og(l),na(l,kt,_)):((o.lanes&d)!==0&&(Rg(o,l),fu(l,null,null,d),cu()),_=o.memoizedState,w=l.memoizedState,_.parent!==m?(_={parent:m,cache:m},l.memoizedState=_,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=_),na(l,kt,m)):(m=w.cache,na(l,kt,m),m!==_.cache&&Sg(l,[kt],d,!0))),rn(o,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function vi(o){o.flags|=4}function cv(o,l,d,m,_){if((l=(o.mode&32)!==0)&&(l=!1),l){if(o.flags|=16777216,(_&335544128)===_)if(o.stateNode.complete)o.flags|=8192;else if(EC())o.flags|=8192;else throw Ya=Yf,Cg}else o.flags&=-16777217}function Q1(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!hO(l))if(EC())o.flags|=8192;else throw Ya=Yf,Cg}function dd(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?NT():536870912,o.lanes|=l,ds|=l)}function vu(o,l){if(!ze)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function gt(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,m=0;if(l)for(var _=o.child;_!==null;)d|=_.lanes|_.childLanes,m|=_.subtreeFlags&65011712,m|=_.flags&65011712,_.return=o,_=_.sibling;else for(_=o.child;_!==null;)d|=_.lanes|_.childLanes,m|=_.subtreeFlags,m|=_.flags,_.return=o,_=_.sibling;return o.subtreeFlags|=m,o.childLanes=d,l}function c5(o,l,d){var m=l.pendingProps;switch(yg(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(l),null;case 1:return gt(l),null;case 3:return d=l.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),hi(kt),de(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(Zo(l)?vi(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,_g())),gt(l),null;case 26:var _=l.type,w=l.memoizedState;return o===null?(vi(l),w!==null?(gt(l),Q1(l,w)):(gt(l),cv(l,_,null,m,d))):w?w!==o.memoizedState?(vi(l),gt(l),Q1(l,w)):(gt(l),l.flags&=-16777217):(o=o.memoizedProps,o!==m&&vi(l),gt(l),cv(l,_,o,m,d)),null;case 27:if(Pe(l),d=xe.current,_=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==m&&vi(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return gt(l),null}o=fe.current,Zo(l)?NA(l):(o=aO(_,m,d),l.stateNode=o,vi(l))}return gt(l),null;case 5:if(Pe(l),_=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==m&&vi(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return gt(l),null}if(w=fe.current,Zo(l))NA(l);else{var M=Cd(xe.current);switch(w){case 1:w=M.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:w=M.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":w=M.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":w=M.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":w=M.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof m.is=="string"?M.createElement("select",{is:m.is}):M.createElement("select"),m.multiple?w.multiple=!0:m.size&&(w.size=m.size);break;default:w=typeof m.is=="string"?M.createElement(_,{is:m.is}):M.createElement(_)}}w[en]=l,w[Tn]=m;e:for(M=l.child;M!==null;){if(M.tag===5||M.tag===6)w.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===l)break e;for(;M.sibling===null;){if(M.return===null||M.return===l)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}l.stateNode=w;e:switch(an(w,_,m),_){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&vi(l)}}return gt(l),cv(l,l.type,o===null?null:o.memoizedProps,l.pendingProps,d),null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==m&&vi(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(o=xe.current,Zo(l)){if(o=l.stateNode,d=l.memoizedProps,m=null,_=tn,_!==null)switch(_.tag){case 27:case 5:m=_.memoizedProps}o[en]=l,o=!!(o.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||WC(o.nodeValue,d)),o||ta(l,!0)}else o=Cd(o).createTextNode(m),o[en]=l,l.stateNode=o}return gt(l),null;case 31:if(d=l.memoizedState,o===null||o.memoizedState!==null){if(m=Zo(l),d!==null){if(o===null){if(!m)throw Error(r(318));if(o=l.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[en]=l}else Va(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;gt(l),o=!1}else d=_g(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=d),o=!0;if(!o)return l.flags&256?(qn(l),l):(qn(l),null);if((l.flags&128)!==0)throw Error(r(558))}return gt(l),null;case 13:if(m=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(_=Zo(l),m!==null&&m.dehydrated!==null){if(o===null){if(!_)throw Error(r(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[en]=l}else Va(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;gt(l),_=!1}else _=_g(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=_),_=!0;if(!_)return l.flags&256?(qn(l),l):(qn(l),null)}return qn(l),(l.flags&128)!==0?(l.lanes=d,l):(d=m!==null,o=o!==null&&o.memoizedState!==null,d&&(m=l.child,_=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(_=m.alternate.memoizedState.cachePool.pool),w=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==_&&(m.flags|=2048)),d!==o&&d&&(l.child.flags|=8192),dd(l,l.updateQueue),gt(l),null);case 4:return de(),o===null&&Mv(l.stateNode.containerInfo),gt(l),null;case 10:return hi(l.type),gt(l),null;case 19:if(J(Nt),m=l.memoizedState,m===null)return gt(l),null;if(_=(l.flags&128)!==0,w=m.rendering,w===null)if(_)vu(m,!1);else{if(Ot!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(w=Zf(o),w!==null){for(l.flags|=128,vu(m,!1),o=w.updateQueue,l.updateQueue=o,dd(l,o),l.subtreeFlags=0,o=d,d=l.child;d!==null;)AA(d,o),d=d.sibling;return re(Nt,Nt.current&1|2),ze&&fi(l,m.treeForkCount),l.child}o=o.sibling}m.tail!==null&&cn()>vd&&(l.flags|=128,_=!0,vu(m,!1),l.lanes=4194304)}else{if(!_)if(o=Zf(w),o!==null){if(l.flags|=128,_=!0,o=o.updateQueue,l.updateQueue=o,dd(l,o),vu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!ze)return gt(l),null}else 2*cn()-m.renderingStartTime>vd&&d!==536870912&&(l.flags|=128,_=!0,vu(m,!1),l.lanes=4194304);m.isBackwards?(w.sibling=l.child,l.child=w):(o=m.last,o!==null?o.sibling=w:l.child=w,m.last=w)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=cn(),o.sibling=null,d=Nt.current,re(Nt,_?d&1|2:d&1),ze&&fi(l,m.treeForkCount),o):(gt(l),null);case 22:case 23:return qn(l),Ig(),m=l.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(d&536870912)!==0&&(l.flags&128)===0&&(gt(l),l.subtreeFlags&6&&(l.flags|=8192)):gt(l),d=l.updateQueue,d!==null&&dd(l,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048),o!==null&&J(Ka),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),hi(kt),gt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function f5(o,l){switch(yg(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return hi(kt),de(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return Pe(l),null;case 31:if(l.memoizedState!==null){if(qn(l),l.alternate===null)throw Error(r(340));Va()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 13:if(qn(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Va()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return J(Nt),null;case 4:return de(),null;case 10:return hi(l.type),null;case 22:case 23:return qn(l),Ig(),o!==null&&J(Ka),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return hi(kt),null;case 25:return null;default:return null}}function Z1(o,l){switch(yg(l),l.tag){case 3:hi(kt),de();break;case 26:case 27:case 5:Pe(l);break;case 4:de();break;case 31:l.memoizedState!==null&&qn(l);break;case 13:qn(l);break;case 19:J(Nt);break;case 10:hi(l.type);break;case 22:case 23:qn(l),Ig(),o!==null&&J(Ka);break;case 24:hi(kt)}}function yu(o,l){try{var d=l.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var _=m.next;d=_;do{if((d.tag&o)===o){m=void 0;var w=d.create,M=d.inst;m=w(),M.destroy=m}d=d.next}while(d!==_)}}catch(k){nt(l,l.return,k)}}function la(o,l,d){try{var m=l.updateQueue,_=m!==null?m.lastEffect:null;if(_!==null){var w=_.next;m=w;do{if((m.tag&o)===o){var M=m.inst,k=M.destroy;if(k!==void 0){M.destroy=void 0,_=l;var z=d,Z=k;try{Z()}catch(ie){nt(_,z,ie)}}}m=m.next}while(m!==w)}}catch(ie){nt(l,l.return,ie)}}function eC(o){var l=o.updateQueue;if(l!==null){var d=o.stateNode;try{VA(l,d)}catch(m){nt(o,o.return,m)}}}function tC(o,l,d){d.props=Qa(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(m){nt(o,l,m)}}function bu(o,l){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var m=o.stateNode;break;case 30:m=o.stateNode;break;default:m=o.stateNode}typeof d=="function"?o.refCleanup=d(m):d.current=m}}catch(_){nt(o,l,_)}}function Fr(o,l){var d=o.ref,m=o.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(_){nt(o,l,_)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(_){nt(o,l,_)}else d.current=null}function nC(o){var l=o.type,d=o.memoizedProps,m=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(_){nt(o,o.return,_)}}function fv(o,l,d){try{var m=o.stateNode;I5(m,o.type,d,l),m[Tn]=l}catch(_){nt(o,o.return,_)}}function rC(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&ma(o.type)||o.tag===4}function dv(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||rC(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&ma(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function hv(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(o),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=li));else if(m!==4&&(m===27&&ma(o.type)&&(d=o.stateNode,l=null),o=o.child,o!==null))for(hv(o,l,d),o=o.sibling;o!==null;)hv(o,l,d),o=o.sibling}function hd(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(m!==4&&(m===27&&ma(o.type)&&(d=o.stateNode),o=o.child,o!==null))for(hd(o,l,d),o=o.sibling;o!==null;)hd(o,l,d),o=o.sibling}function iC(o){var l=o.stateNode,d=o.memoizedProps;try{for(var m=o.type,_=l.attributes;_.length;)l.removeAttributeNode(_[0]);an(l,m,d),l[en]=o,l[Tn]=d}catch(w){nt(o,o.return,w)}}var yi=!1,jt=!1,pv=!1,aC=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function d5(o,l){if(o=o.containerInfo,Dv=kd,o=vA(o),sg(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var _=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var M=0,k=-1,z=-1,Z=0,ie=0,le=o,te=null;t:for(;;){for(var ne;le!==d||_!==0&&le.nodeType!==3||(k=M+_),le!==w||m!==0&&le.nodeType!==3||(z=M+m),le.nodeType===3&&(M+=le.nodeValue.length),(ne=le.firstChild)!==null;)te=le,le=ne;for(;;){if(le===o)break t;if(te===d&&++Z===_&&(k=M),te===w&&++ie===m&&(z=M),(ne=le.nextSibling)!==null)break;le=te,te=le.parentNode}le=ne}d=k===-1||z===-1?null:{start:k,end:z}}else d=null}d=d||{start:0,end:0}}else d=null;for(Lv={focusedElem:o,selectionRange:d},kd=!1,Yt=l;Yt!==null;)if(l=Yt,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Yt=o;else for(;Yt!==null;){switch(l=Yt,w=l.alternate,o=l.flags,l.tag){case 0:if((o&4)!==0&&(o=l.updateQueue,o=o!==null?o.events:null,o!==null))for(d=0;d<o.length;d++)_=o[d],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&w!==null){o=void 0,d=l,_=w.memoizedProps,w=w.memoizedState,m=d.stateNode;try{var ve=Qa(d.type,_);o=m.getSnapshotBeforeUpdate(ve,w),m.__reactInternalSnapshotBeforeUpdate=o}catch(we){nt(d,d.return,we)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,d=o.nodeType,d===9)$v(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":$v(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,Yt=o;break}Yt=l.return}}function oC(o,l,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:_i(o,d),m&4&&yu(5,d);break;case 1:if(_i(o,d),m&4)if(o=d.stateNode,l===null)try{o.componentDidMount()}catch(M){nt(d,d.return,M)}else{var _=Qa(d.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(_,l,o.__reactInternalSnapshotBeforeUpdate)}catch(M){nt(d,d.return,M)}}m&64&&eC(d),m&512&&bu(d,d.return);break;case 3:if(_i(o,d),m&64&&(o=d.updateQueue,o!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{VA(o,l)}catch(M){nt(d,d.return,M)}}break;case 27:l===null&&m&4&&iC(d);case 26:case 5:_i(o,d),l===null&&m&4&&nC(d),m&512&&bu(d,d.return);break;case 12:_i(o,d);break;case 31:_i(o,d),m&4&&uC(o,d);break;case 13:_i(o,d),m&4&&cC(o,d),m&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=x5.bind(null,d),B5(o,d))));break;case 22:if(m=d.memoizedState!==null||yi,!m){l=l!==null&&l.memoizedState!==null||jt,_=yi;var w=jt;yi=m,(jt=l)&&!w?xi(o,d,(d.subtreeFlags&8772)!==0):_i(o,d),yi=_,jt=w}break;case 30:break;default:_i(o,d)}}function sC(o){var l=o.alternate;l!==null&&(o.alternate=null,sC(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&Vm(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var yt=null,Cn=!1;function bi(o,l,d){for(d=d.child;d!==null;)lC(o,l,d),d=d.sibling}function lC(o,l,d){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(zl,d)}catch{}switch(d.tag){case 26:jt||Fr(d,l),bi(o,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:jt||Fr(d,l);var m=yt,_=Cn;ma(d.type)&&(yt=d.stateNode,Cn=!1),bi(o,l,d),Ou(d.stateNode),yt=m,Cn=_;break;case 5:jt||Fr(d,l);case 6:if(m=yt,_=Cn,yt=null,bi(o,l,d),yt=m,Cn=_,yt!==null)if(Cn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(d.stateNode)}catch(w){nt(d,l,w)}else try{yt.removeChild(d.stateNode)}catch(w){nt(d,l,w)}break;case 18:yt!==null&&(Cn?(o=yt,eO(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),_s(o)):eO(yt,d.stateNode));break;case 4:m=yt,_=Cn,yt=d.stateNode.containerInfo,Cn=!0,bi(o,l,d),yt=m,Cn=_;break;case 0:case 11:case 14:case 15:la(2,d,l),jt||la(4,d,l),bi(o,l,d);break;case 1:jt||(Fr(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"&&tC(d,l,m)),bi(o,l,d);break;case 21:bi(o,l,d);break;case 22:jt=(m=jt)||d.memoizedState!==null,bi(o,l,d),jt=m;break;default:bi(o,l,d)}}function uC(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{_s(o)}catch(d){nt(l,l.return,d)}}}function cC(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{_s(o)}catch(d){nt(l,l.return,d)}}function h5(o){switch(o.tag){case 31:case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new aC),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new aC),l;default:throw Error(r(435,o.tag))}}function pd(o,l){var d=h5(o);l.forEach(function(m){if(!d.has(m)){d.add(m);var _=w5.bind(null,o,m);m.then(_,_)}})}function On(o,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var _=d[m],w=o,M=l,k=M;e:for(;k!==null;){switch(k.tag){case 27:if(ma(k.type)){yt=k.stateNode,Cn=!1;break e}break;case 5:yt=k.stateNode,Cn=!1;break e;case 3:case 4:yt=k.stateNode.containerInfo,Cn=!0;break e}k=k.return}if(yt===null)throw Error(r(160));lC(w,M,_),yt=null,Cn=!1,w=_.alternate,w!==null&&(w.return=null),_.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)fC(l,o),l=l.sibling}var Or=null;function fC(o,l){var d=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:On(l,o),Rn(o),m&4&&(la(3,o,o.return),yu(3,o),la(5,o,o.return));break;case 1:On(l,o),Rn(o),m&512&&(jt||d===null||Fr(d,d.return)),m&64&&yi&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var _=Or;if(On(l,o),Rn(o),m&512&&(jt||d===null||Fr(d,d.return)),m&4){var w=d!==null?d.memoizedState:null;if(m=o.memoizedState,d===null)if(m===null)if(o.stateNode===null){e:{m=o.type,d=o.memoizedProps,_=_.ownerDocument||_;t:switch(m){case"title":w=_.getElementsByTagName("title")[0],(!w||w[Fl]||w[en]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=_.createElement(m),_.head.insertBefore(w,_.querySelector("head > title"))),an(w,m,d),w[en]=o,Wt(w),m=w;break e;case"link":var M=fO("link","href",_).get(m+(d.href||""));if(M){for(var k=0;k<M.length;k++)if(w=M[k],w.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&w.getAttribute("rel")===(d.rel==null?null:d.rel)&&w.getAttribute("title")===(d.title==null?null:d.title)&&w.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){M.splice(k,1);break t}}w=_.createElement(m),an(w,m,d),_.head.appendChild(w);break;case"meta":if(M=fO("meta","content",_).get(m+(d.content||""))){for(k=0;k<M.length;k++)if(w=M[k],w.getAttribute("content")===(d.content==null?null:""+d.content)&&w.getAttribute("name")===(d.name==null?null:d.name)&&w.getAttribute("property")===(d.property==null?null:d.property)&&w.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&w.getAttribute("charset")===(d.charSet==null?null:d.charSet)){M.splice(k,1);break t}}w=_.createElement(m),an(w,m,d),_.head.appendChild(w);break;default:throw Error(r(468,m))}w[en]=o,Wt(w),m=w}o.stateNode=m}else dO(_,o.type,o.stateNode);else o.stateNode=cO(_,m,o.memoizedProps);else w!==m?(w===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):w.count--,m===null?dO(_,o.type,o.stateNode):cO(_,m,o.memoizedProps)):m===null&&o.stateNode!==null&&fv(o,o.memoizedProps,d.memoizedProps)}break;case 27:On(l,o),Rn(o),m&512&&(jt||d===null||Fr(d,d.return)),d!==null&&m&4&&fv(o,o.memoizedProps,d.memoizedProps);break;case 5:if(On(l,o),Rn(o),m&512&&(jt||d===null||Fr(d,d.return)),o.flags&32){_=o.stateNode;try{zo(_,"")}catch(ve){nt(o,o.return,ve)}}m&4&&o.stateNode!=null&&(_=o.memoizedProps,fv(o,_,d!==null?d.memoizedProps:_)),m&1024&&(pv=!0);break;case 6:if(On(l,o),Rn(o),m&4){if(o.stateNode===null)throw Error(r(162));m=o.memoizedProps,d=o.stateNode;try{d.nodeValue=m}catch(ve){nt(o,o.return,ve)}}break;case 3:if(Pd=null,_=Or,Or=Od(l.containerInfo),On(l,o),Or=_,Rn(o),m&4&&d!==null&&d.memoizedState.isDehydrated)try{_s(l.containerInfo)}catch(ve){nt(o,o.return,ve)}pv&&(pv=!1,dC(o));break;case 4:m=Or,Or=Od(o.stateNode.containerInfo),On(l,o),Rn(o),Or=m;break;case 12:On(l,o),Rn(o);break;case 31:On(l,o),Rn(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,pd(o,m)));break;case 13:On(l,o),Rn(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(gd=cn()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,pd(o,m)));break;case 22:_=o.memoizedState!==null;var z=d!==null&&d.memoizedState!==null,Z=yi,ie=jt;if(yi=Z||_,jt=ie||z,On(l,o),jt=ie,yi=Z,Rn(o),m&8192)e:for(l=o.stateNode,l._visibility=_?l._visibility&-2:l._visibility|1,_&&(d===null||z||yi||jt||Za(o)),d=null,l=o;;){if(l.tag===5||l.tag===26){if(d===null){z=d=l;try{if(w=z.stateNode,_)M=w.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{k=z.stateNode;var le=z.memoizedProps.style,te=le!=null&&le.hasOwnProperty("display")?le.display:null;k.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ve){nt(z,z.return,ve)}}}else if(l.tag===6){if(d===null){z=l;try{z.stateNode.nodeValue=_?"":z.memoizedProps}catch(ve){nt(z,z.return,ve)}}}else if(l.tag===18){if(d===null){z=l;try{var ne=z.stateNode;_?tO(ne,!0):tO(z.stateNode,!1)}catch(ve){nt(z,z.return,ve)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=o.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,pd(o,d))));break;case 19:On(l,o),Rn(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,pd(o,m)));break;case 30:break;case 21:break;default:On(l,o),Rn(o)}}function Rn(o){var l=o.flags;if(l&2){try{for(var d,m=o.return;m!==null;){if(rC(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var _=d.stateNode,w=dv(o);hd(o,w,_);break;case 5:var M=d.stateNode;d.flags&32&&(zo(M,""),d.flags&=-33);var k=dv(o);hd(o,k,M);break;case 3:case 4:var z=d.stateNode.containerInfo,Z=dv(o);hv(o,Z,z);break;default:throw Error(r(161))}}catch(ie){nt(o,o.return,ie)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function dC(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;dC(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function _i(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)oC(o,l.alternate,l),l=l.sibling}function Za(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:la(4,l,l.return),Za(l);break;case 1:Fr(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&tC(l,l.return,d),Za(l);break;case 27:Ou(l.stateNode);case 26:case 5:Fr(l,l.return),Za(l);break;case 22:l.memoizedState===null&&Za(l);break;case 30:Za(l);break;default:Za(l)}o=o.sibling}}function xi(o,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,_=o,w=l,M=w.flags;switch(w.tag){case 0:case 11:case 15:xi(_,w,d),yu(4,w);break;case 1:if(xi(_,w,d),m=w,_=m.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(Z){nt(m,m.return,Z)}if(m=w,_=m.updateQueue,_!==null){var k=m.stateNode;try{var z=_.shared.hiddenCallbacks;if(z!==null)for(_.shared.hiddenCallbacks=null,_=0;_<z.length;_++)zA(z[_],k)}catch(Z){nt(m,m.return,Z)}}d&&M&64&&eC(w),bu(w,w.return);break;case 27:iC(w);case 26:case 5:xi(_,w,d),d&&m===null&&M&4&&nC(w),bu(w,w.return);break;case 12:xi(_,w,d);break;case 31:xi(_,w,d),d&&M&4&&uC(_,w);break;case 13:xi(_,w,d),d&&M&4&&cC(_,w);break;case 22:w.memoizedState===null&&xi(_,w,d),bu(w,w.return);break;case 30:break;default:xi(_,w,d)}l=l.sibling}}function mv(o,l){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&au(d))}function gv(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&au(o))}function Rr(o,l,d,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)hC(o,l,d,m),l=l.sibling}function hC(o,l,d,m){var _=l.flags;switch(l.tag){case 0:case 11:case 15:Rr(o,l,d,m),_&2048&&yu(9,l);break;case 1:Rr(o,l,d,m);break;case 3:Rr(o,l,d,m),_&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&au(o)));break;case 12:if(_&2048){Rr(o,l,d,m),o=l.stateNode;try{var w=l.memoizedProps,M=w.id,k=w.onPostCommit;typeof k=="function"&&k(M,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(z){nt(l,l.return,z)}}else Rr(o,l,d,m);break;case 31:Rr(o,l,d,m);break;case 13:Rr(o,l,d,m);break;case 23:break;case 22:w=l.stateNode,M=l.alternate,l.memoizedState!==null?w._visibility&2?Rr(o,l,d,m):_u(o,l):w._visibility&2?Rr(o,l,d,m):(w._visibility|=2,us(o,l,d,m,(l.subtreeFlags&10256)!==0||!1)),_&2048&&mv(M,l);break;case 24:Rr(o,l,d,m),_&2048&&gv(l.alternate,l);break;default:Rr(o,l,d,m)}}function us(o,l,d,m,_){for(_=_&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var w=o,M=l,k=d,z=m,Z=M.flags;switch(M.tag){case 0:case 11:case 15:us(w,M,k,z,_),yu(8,M);break;case 23:break;case 22:var ie=M.stateNode;M.memoizedState!==null?ie._visibility&2?us(w,M,k,z,_):_u(w,M):(ie._visibility|=2,us(w,M,k,z,_)),_&&Z&2048&&mv(M.alternate,M);break;case 24:us(w,M,k,z,_),_&&Z&2048&&gv(M.alternate,M);break;default:us(w,M,k,z,_)}l=l.sibling}}function _u(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=o,m=l,_=m.flags;switch(m.tag){case 22:_u(d,m),_&2048&&mv(m.alternate,m);break;case 24:_u(d,m),_&2048&&gv(m.alternate,m);break;default:_u(d,m)}l=l.sibling}}var xu=8192;function cs(o,l,d){if(o.subtreeFlags&xu)for(o=o.child;o!==null;)pC(o,l,d),o=o.sibling}function pC(o,l,d){switch(o.tag){case 26:cs(o,l,d),o.flags&xu&&o.memoizedState!==null&&Z5(d,Or,o.memoizedState,o.memoizedProps);break;case 5:cs(o,l,d);break;case 3:case 4:var m=Or;Or=Od(o.stateNode.containerInfo),cs(o,l,d),Or=m;break;case 22:o.memoizedState===null&&(m=o.alternate,m!==null&&m.memoizedState!==null?(m=xu,xu=16777216,cs(o,l,d),xu=m):cs(o,l,d));break;default:cs(o,l,d)}}function mC(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function wu(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];Yt=m,vC(m,o)}mC(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)gC(o),o=o.sibling}function gC(o){switch(o.tag){case 0:case 11:case 15:wu(o),o.flags&2048&&la(9,o,o.return);break;case 3:wu(o);break;case 12:wu(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,md(o)):wu(o);break;default:wu(o)}}function md(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];Yt=m,vC(m,o)}mC(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:la(8,l,l.return),md(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,md(l));break;default:md(l)}o=o.sibling}}function vC(o,l){for(;Yt!==null;){var d=Yt;switch(d.tag){case 0:case 11:case 15:la(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:au(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,Yt=m;else e:for(d=o;Yt!==null;){m=Yt;var _=m.sibling,w=m.return;if(sC(m),m===d){Yt=null;break e}if(_!==null){_.return=w,Yt=_;break e}Yt=w}}}var p5={getCacheForType:function(o){var l=nn(kt),d=l.data.get(o);return d===void 0&&(d=o(),l.data.set(o,d)),d},cacheSignal:function(){return nn(kt).controller.signal}},m5=typeof WeakMap=="function"?WeakMap:Map,Je=0,lt=null,$e=null,Be=0,tt=0,Bn=null,ua=!1,fs=!1,vv=!1,wi=0,Ot=0,ca=0,eo=0,yv=0,Hn=0,ds=0,Su=null,Pn=null,bv=!1,gd=0,yC=0,vd=1/0,yd=null,fa=null,Ht=0,da=null,hs=null,Si=0,_v=0,xv=null,bC=null,Eu=0,wv=null;function zn(){return(Je&2)!==0&&Be!==0?Be&-Be:j.T!==null?Ov():DT()}function _C(){if(Hn===0)if((Be&536870912)===0||ze){var o=Af;Af<<=1,(Af&3932160)===0&&(Af=262144),Hn=o}else Hn=536870912;return o=$n.current,o!==null&&(o.flags|=32),Hn}function Nn(o,l,d){(o===lt&&(tt===2||tt===9)||o.cancelPendingCommit!==null)&&(ps(o,0),ha(o,Be,Hn,!1)),Gl(o,d),((Je&2)===0||o!==lt)&&(o===lt&&((Je&2)===0&&(eo|=d),Ot===4&&ha(o,Be,Hn,!1)),Kr(o))}function xC(o,l,d){if((Je&6)!==0)throw Error(r(327));var m=!d&&(l&127)===0&&(l&o.expiredLanes)===0||Vl(o,l),_=m?y5(o,l):Ev(o,l,!0),w=m;do{if(_===0){fs&&!m&&ha(o,l,0,!1);break}else{if(d=o.current.alternate,w&&!g5(d)){_=Ev(o,l,!1),w=!1;continue}if(_===2){if(w=l,o.errorRecoveryDisabledLanes&w)var M=0;else M=o.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){l=M;e:{var k=o;_=Su;var z=k.current.memoizedState.isDehydrated;if(z&&(ps(k,M).flags|=256),M=Ev(k,M,!1),M!==2){if(vv&&!z){k.errorRecoveryDisabledLanes|=w,eo|=w,_=4;break e}w=Pn,Pn=_,w!==null&&(Pn===null?Pn=w:Pn.push.apply(Pn,w))}_=M}if(w=!1,_!==2)continue}}if(_===1){ps(o,0),ha(o,l,0,!0);break}e:{switch(m=o,w=_,w){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:ha(m,l,Hn,!ua);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(_=gd+300-cn(),10<_)){if(ha(m,l,Hn,!ua),Of(m,0,!0)!==0)break e;Si=l,m.timeoutHandle=QC(wC.bind(null,m,d,Pn,yd,bv,l,Hn,eo,ds,ua,w,"Throttled",-0,0),_);break e}wC(m,d,Pn,yd,bv,l,Hn,eo,ds,ua,w,null,-0,0)}}break}while(!0);Kr(o)}function wC(o,l,d,m,_,w,M,k,z,Z,ie,le,te,ne){if(o.timeoutHandle=-1,le=l.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},pC(l,w,le);var ve=(w&62914560)===w?gd-cn():(w&4194048)===w?yC-cn():0;if(ve=e6(le,ve),ve!==null){Si=w,o.cancelPendingCommit=ve(PC.bind(null,o,l,w,d,m,_,M,k,z,ie,le,null,te,ne)),ha(o,w,M,!Z);return}}PC(o,l,w,d,m,_,M,k,z)}function g5(o){for(var l=o;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var _=d[m],w=_.getSnapshot;_=_.value;try{if(!jn(w(),_))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ha(o,l,d,m){l&=~yv,l&=~eo,o.suspendedLanes|=l,o.pingedLanes&=~l,m&&(o.warmLanes|=l),m=o.expirationTimes;for(var _=l;0<_;){var w=31-Ln(_),M=1<<w;m[w]=-1,_&=~M}d!==0&&MT(o,d,l)}function bd(){return(Je&6)===0?(Tu(0),!1):!0}function Sv(){if($e!==null){if(tt===0)var o=$e.return;else o=$e,di=Ga=null,$g(o),is=null,su=0,o=$e;for(;o!==null;)Z1(o.alternate,o),o=o.return;$e=null}}function ps(o,l){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,L5(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),Si=0,Sv(),lt=o,$e=d=ci(o.current,null),Be=l,tt=0,Bn=null,ua=!1,fs=Vl(o,l),vv=!1,ds=Hn=yv=eo=ca=Ot=0,Pn=Su=null,bv=!1,(l&8)!==0&&(l|=l&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=l;0<m;){var _=31-Ln(m),w=1<<_;l|=o[_],m&=~w}return wi=l,qf(),d}function SC(o,l){Me=null,j.H=mu,l===rs||l===Wf?(l=$A(),tt=3):l===Cg?(l=$A(),tt=4):tt=l===tv?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Bn=l,$e===null&&(Ot=1,ld(o,er(l,o.current)))}function EC(){var o=$n.current;return o===null?!0:(Be&4194048)===Be?ir===null:(Be&62914560)===Be||(Be&536870912)!==0?o===ir:!1}function TC(){var o=j.H;return j.H=mu,o===null?mu:o}function AC(){var o=j.A;return j.A=p5,o}function _d(){Ot=4,ua||(Be&4194048)!==Be&&$n.current!==null||(fs=!0),(ca&134217727)===0&&(eo&134217727)===0||lt===null||ha(lt,Be,Hn,!1)}function Ev(o,l,d){var m=Je;Je|=2;var _=TC(),w=AC();(lt!==o||Be!==l)&&(yd=null,ps(o,l)),l=!1;var M=Ot;e:do try{if(tt!==0&&$e!==null){var k=$e,z=Bn;switch(tt){case 8:Sv(),M=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(l=!0);var Z=tt;if(tt=0,Bn=null,ms(o,k,z,Z),d&&fs){M=0;break e}break;default:Z=tt,tt=0,Bn=null,ms(o,k,z,Z)}}v5(),M=Ot;break}catch(ie){SC(o,ie)}while(!0);return l&&o.shellSuspendCounter++,di=Ga=null,Je=m,j.H=_,j.A=w,$e===null&&(lt=null,Be=0,qf()),M}function v5(){for(;$e!==null;)CC($e)}function y5(o,l){var d=Je;Je|=2;var m=TC(),_=AC();lt!==o||Be!==l?(yd=null,vd=cn()+500,ps(o,l)):fs=Vl(o,l);e:do try{if(tt!==0&&$e!==null){l=$e;var w=Bn;t:switch(tt){case 1:tt=0,Bn=null,ms(o,l,w,1);break;case 2:case 9:if(jA(w)){tt=0,Bn=null,OC(l);break}l=function(){tt!==2&&tt!==9||lt!==o||(tt=7),Kr(o)},w.then(l,l);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:jA(w)?(tt=0,Bn=null,OC(l)):(tt=0,Bn=null,ms(o,l,w,7));break;case 5:var M=null;switch($e.tag){case 26:M=$e.memoizedState;case 5:case 27:var k=$e;if(M?hO(M):k.stateNode.complete){tt=0,Bn=null;var z=k.sibling;if(z!==null)$e=z;else{var Z=k.return;Z!==null?($e=Z,xd(Z)):$e=null}break t}}tt=0,Bn=null,ms(o,l,w,5);break;case 6:tt=0,Bn=null,ms(o,l,w,6);break;case 8:Sv(),Ot=6;break e;default:throw Error(r(462))}}b5();break}catch(ie){SC(o,ie)}while(!0);return di=Ga=null,j.H=m,j.A=_,Je=d,$e!==null?0:(lt=null,Be=0,qf(),Ot)}function b5(){for(;$e!==null&&!oi();)CC($e)}function CC(o){var l=X1(o.alternate,o,wi);o.memoizedProps=o.pendingProps,l===null?xd(o):$e=l}function OC(o){var l=o,d=l.alternate;switch(l.tag){case 15:case 0:l=G1(d,l,l.pendingProps,l.type,void 0,Be);break;case 11:l=G1(d,l,l.pendingProps,l.type.render,l.ref,Be);break;case 5:$g(l);default:Z1(d,l),l=$e=AA(l,wi),l=X1(d,l,wi)}o.memoizedProps=o.pendingProps,l===null?xd(o):$e=l}function ms(o,l,d,m){di=Ga=null,$g(l),is=null,su=0;var _=l.return;try{if(s5(o,_,l,d,Be)){Ot=1,ld(o,er(d,o.current)),$e=null;return}}catch(w){if(_!==null)throw $e=_,w;Ot=1,ld(o,er(d,o.current)),$e=null;return}l.flags&32768?(ze||m===1?o=!0:fs||(Be&536870912)!==0?o=!1:(ua=o=!0,(m===2||m===9||m===3||m===6)&&(m=$n.current,m!==null&&m.tag===13&&(m.flags|=16384))),RC(l,o)):xd(l)}function xd(o){var l=o;do{if((l.flags&32768)!==0){RC(l,ua);return}o=l.return;var d=c5(l.alternate,l,wi);if(d!==null){$e=d;return}if(l=l.sibling,l!==null){$e=l;return}$e=l=o}while(l!==null);Ot===0&&(Ot=5)}function RC(o,l){do{var d=f5(o.alternate,o);if(d!==null){d.flags&=32767,$e=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(o=o.sibling,o!==null)){$e=o;return}$e=o=d}while(o!==null);Ot=6,$e=null}function PC(o,l,d,m,_,w,M,k,z){o.cancelPendingCommit=null;do wd();while(Ht!==0);if((Je&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(w=l.lanes|l.childLanes,w|=dg,Q3(o,d,w,M,k,z),o===lt&&($e=lt=null,Be=0),hs=l,da=o,Si=d,_v=w,xv=_,bC=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,S5(Ef,function(){return DC(),null})):(o.callbackNode=null,o.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=j.T,j.T=null,_=K.p,K.p=2,M=Je,Je|=4;try{d5(o,l,d)}finally{Je=M,K.p=_,j.T=m}}Ht=1,NC(),MC(),IC()}}function NC(){if(Ht===1){Ht=0;var o=da,l=hs,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=j.T,j.T=null;var m=K.p;K.p=2;var _=Je;Je|=4;try{fC(l,o);var w=Lv,M=vA(o.containerInfo),k=w.focusedElem,z=w.selectionRange;if(M!==k&&k&&k.ownerDocument&&gA(k.ownerDocument.documentElement,k)){if(z!==null&&sg(k)){var Z=z.start,ie=z.end;if(ie===void 0&&(ie=Z),"selectionStart"in k)k.selectionStart=Z,k.selectionEnd=Math.min(ie,k.value.length);else{var le=k.ownerDocument||document,te=le&&le.defaultView||window;if(te.getSelection){var ne=te.getSelection(),ve=k.textContent.length,we=Math.min(z.start,ve),ot=z.end===void 0?we:Math.min(z.end,ve);!ne.extend&&we>ot&&(M=ot,ot=we,we=M);var X=mA(k,we),F=mA(k,ot);if(X&&F&&(ne.rangeCount!==1||ne.anchorNode!==X.node||ne.anchorOffset!==X.offset||ne.focusNode!==F.node||ne.focusOffset!==F.offset)){var Q=le.createRange();Q.setStart(X.node,X.offset),ne.removeAllRanges(),we>ot?(ne.addRange(Q),ne.extend(F.node,F.offset)):(Q.setEnd(F.node,F.offset),ne.addRange(Q))}}}}for(le=[],ne=k;ne=ne.parentNode;)ne.nodeType===1&&le.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<le.length;k++){var se=le[k];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}kd=!!Dv,Lv=Dv=null}finally{Je=_,K.p=m,j.T=d}}o.current=l,Ht=2}}function MC(){if(Ht===2){Ht=0;var o=da,l=hs,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=j.T,j.T=null;var m=K.p;K.p=2;var _=Je;Je|=4;try{oC(o,l.alternate,l)}finally{Je=_,K.p=m,j.T=d}}Ht=3}}function IC(){if(Ht===4||Ht===3){Ht=0,Hl();var o=da,l=hs,d=Si,m=bC;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Ht=5:(Ht=0,hs=da=null,kC(o,o.pendingLanes));var _=o.pendingLanes;if(_===0&&(fa=null),Hm(d),l=l.stateNode,Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(zl,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=j.T,_=K.p,K.p=2,j.T=null;try{for(var w=o.onRecoverableError,M=0;M<m.length;M++){var k=m[M];w(k.value,{componentStack:k.stack})}}finally{j.T=l,K.p=_}}(Si&3)!==0&&wd(),Kr(o),_=o.pendingLanes,(d&261930)!==0&&(_&42)!==0?o===wv?Eu++:(Eu=0,wv=o):Eu=0,Tu(0)}}function kC(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,au(l)))}function wd(){return NC(),MC(),IC(),DC()}function DC(){if(Ht!==5)return!1;var o=da,l=_v;_v=0;var d=Hm(Si),m=j.T,_=K.p;try{K.p=32>d?32:d,j.T=null,d=xv,xv=null;var w=da,M=Si;if(Ht=0,hs=da=null,Si=0,(Je&6)!==0)throw Error(r(331));var k=Je;if(Je|=4,gC(w.current),hC(w,w.current,M,d),Je=k,Tu(0,!1),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(zl,w)}catch{}return!0}finally{K.p=_,j.T=m,kC(o,l)}}function LC(o,l,d){l=er(d,l),l=ev(o.stateNode,l,2),o=aa(o,l,2),o!==null&&(Gl(o,2),Kr(o))}function nt(o,l,d){if(o.tag===3)LC(o,o,d);else for(;l!==null;){if(l.tag===3){LC(l,o,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(fa===null||!fa.has(m))){o=er(d,o),d=j1(2),m=aa(l,d,2),m!==null&&(U1(d,m,l,o),Gl(m,2),Kr(m));break}}l=l.return}}function Tv(o,l,d){var m=o.pingCache;if(m===null){m=o.pingCache=new m5;var _=new Set;m.set(l,_)}else _=m.get(l),_===void 0&&(_=new Set,m.set(l,_));_.has(d)||(vv=!0,_.add(d),o=_5.bind(null,o,l,d),l.then(o,o))}function _5(o,l,d){var m=o.pingCache;m!==null&&m.delete(l),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,lt===o&&(Be&d)===d&&(Ot===4||Ot===3&&(Be&62914560)===Be&&300>cn()-gd?(Je&2)===0&&ps(o,0):yv|=d,ds===Be&&(ds=0)),Kr(o)}function jC(o,l){l===0&&(l=NT()),o=Ha(o,l),o!==null&&(Gl(o,l),Kr(o))}function x5(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),jC(o,d)}function w5(o,l){var d=0;switch(o.tag){case 31:case 13:var m=o.stateNode,_=o.memoizedState;_!==null&&(d=_.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),jC(o,d)}function S5(o,l){return Yi(o,l)}var Sd=null,gs=null,Av=!1,Ed=!1,Cv=!1,pa=0;function Kr(o){o!==gs&&o.next===null&&(gs===null?Sd=gs=o:gs=gs.next=o),Ed=!0,Av||(Av=!0,T5())}function Tu(o,l){if(!Cv&&Ed){Cv=!0;do for(var d=!1,m=Sd;m!==null;){if(o!==0){var _=m.pendingLanes;if(_===0)var w=0;else{var M=m.suspendedLanes,k=m.pingedLanes;w=(1<<31-Ln(42|o)+1)-1,w&=_&~(M&~k),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(d=!0,BC(m,w))}else w=Be,w=Of(m,m===lt?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||Vl(m,w)||(d=!0,BC(m,w));m=m.next}while(d);Cv=!1}}function E5(){UC()}function UC(){Ed=Av=!1;var o=0;pa!==0&&D5()&&(o=pa);for(var l=cn(),d=null,m=Sd;m!==null;){var _=m.next,w=$C(m,l);w===0?(m.next=null,d===null?Sd=_:d.next=_,_===null&&(gs=d)):(d=m,(o!==0||(w&3)!==0)&&(Ed=!0)),m=_}Ht!==0&&Ht!==5||Tu(o),pa!==0&&(pa=0)}function $C(o,l){for(var d=o.suspendedLanes,m=o.pingedLanes,_=o.expirationTimes,w=o.pendingLanes&-62914561;0<w;){var M=31-Ln(w),k=1<<M,z=_[M];z===-1?((k&d)===0||(k&m)!==0)&&(_[M]=X3(k,l)):z<=l&&(o.expiredLanes|=k),w&=~k}if(l=lt,d=Be,d=Of(o,o===l?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m=o.callbackNode,d===0||o===l&&(tt===2||tt===9)||o.cancelPendingCommit!==null)return m!==null&&m!==null&&Ar(m),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||Vl(o,d)){if(l=d&-d,l===o.callbackPriority)return l;switch(m!==null&&Ar(m),Hm(d)){case 2:case 8:d=RT;break;case 32:d=Ef;break;case 268435456:d=PT;break;default:d=Ef}return m=qC.bind(null,o),d=Yi(d,m),o.callbackPriority=l,o.callbackNode=d,l}return m!==null&&m!==null&&Ar(m),o.callbackPriority=2,o.callbackNode=null,2}function qC(o,l){if(Ht!==0&&Ht!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(wd()&&o.callbackNode!==d)return null;var m=Be;return m=Of(o,o===lt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m===0?null:(xC(o,m,l),$C(o,cn()),o.callbackNode!=null&&o.callbackNode===d?qC.bind(null,o):null)}function BC(o,l){if(wd())return null;xC(o,l,!0)}function T5(){j5(function(){(Je&6)!==0?Yi(OT,E5):UC()})}function Ov(){if(pa===0){var o=ts;o===0&&(o=Tf,Tf<<=1,(Tf&261888)===0&&(Tf=256)),pa=o}return pa}function HC(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Mf(""+o)}function zC(o,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,o.id&&d.setAttribute("form",o.id),l.parentNode.insertBefore(d,l),o=new FormData(o),d.parentNode.removeChild(d),o}function A5(o,l,d,m,_){if(l==="submit"&&d&&d.stateNode===_){var w=HC((_[Tn]||null).action),M=m.submitter;M&&(l=(l=M[Tn]||null)?HC(l.formAction):M.getAttribute("formAction"),l!==null&&(w=l,M=null));var k=new Lf("action","action",null,m,_);o.push({event:k,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(pa!==0){var z=M?zC(_,M):new FormData(_);Wg(d,{pending:!0,data:z,method:_.method,action:w},null,z)}}else typeof w=="function"&&(k.preventDefault(),z=M?zC(_,M):new FormData(_),Wg(d,{pending:!0,data:z,method:_.method,action:w},w,z))},currentTarget:_}]})}}for(var Rv=0;Rv<fg.length;Rv++){var Pv=fg[Rv],C5=Pv.toLowerCase(),O5=Pv[0].toUpperCase()+Pv.slice(1);Cr(C5,"on"+O5)}Cr(_A,"onAnimationEnd"),Cr(xA,"onAnimationIteration"),Cr(wA,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(VB,"onTransitionRun"),Cr(GB,"onTransitionStart"),Cr(FB,"onTransitionCancel"),Cr(SA,"onTransitionEnd"),Bo("onMouseEnter",["mouseout","mouseover"]),Bo("onMouseLeave",["mouseout","mouseover"]),Bo("onPointerEnter",["pointerout","pointerover"]),Bo("onPointerLeave",["pointerout","pointerover"]),Ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ua("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Au));function VC(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var m=o[d],_=m.event;m=m.listeners;e:{var w=void 0;if(l)for(var M=m.length-1;0<=M;M--){var k=m[M],z=k.instance,Z=k.currentTarget;if(k=k.listener,z!==w&&_.isPropagationStopped())break e;w=k,_.currentTarget=Z;try{w(_)}catch(ie){$f(ie)}_.currentTarget=null,w=z}else for(M=0;M<m.length;M++){if(k=m[M],z=k.instance,Z=k.currentTarget,k=k.listener,z!==w&&_.isPropagationStopped())break e;w=k,_.currentTarget=Z;try{w(_)}catch(ie){$f(ie)}_.currentTarget=null,w=z}}}}function qe(o,l){var d=l[zm];d===void 0&&(d=l[zm]=new Set);var m=o+"__bubble";d.has(m)||(GC(l,o,2,!1),d.add(m))}function Nv(o,l,d){var m=0;l&&(m|=4),GC(d,o,m,l)}var Td="_reactListening"+Math.random().toString(36).slice(2);function Mv(o){if(!o[Td]){o[Td]=!0,UT.forEach(function(d){d!=="selectionchange"&&(R5.has(d)||Nv(d,!1,o),Nv(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Td]||(l[Td]=!0,Nv("selectionchange",!1,l))}}function GC(o,l,d,m){switch(_O(l)){case 2:var _=r6;break;case 8:_=i6;break;default:_=Kv}d=_.bind(null,l,d,o),_=void 0,!Qm||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),m?_!==void 0?o.addEventListener(l,d,{capture:!0,passive:_}):o.addEventListener(l,d,!0):_!==void 0?o.addEventListener(l,d,{passive:_}):o.addEventListener(l,d,!1)}function Iv(o,l,d,m,_){var w=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var M=m.tag;if(M===3||M===4){var k=m.stateNode.containerInfo;if(k===_)break;if(M===4)for(M=m.return;M!==null;){var z=M.tag;if((z===3||z===4)&&M.stateNode.containerInfo===_)return;M=M.return}for(;k!==null;){if(M=Uo(k),M===null)return;if(z=M.tag,z===5||z===6||z===26||z===27){m=w=M;continue e}k=k.parentNode}}m=m.return}JT(function(){var Z=w,ie=Jm(d),le=[];e:{var te=EA.get(o);if(te!==void 0){var ne=Lf,ve=o;switch(o){case"keypress":if(kf(d)===0)break e;case"keydown":case"keyup":ne=wB;break;case"focusin":ve="focus",ne=ng;break;case"focusout":ve="blur",ne=ng;break;case"beforeblur":case"afterblur":ne=ng;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=ZT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=cB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=TB;break;case _A:case xA:case wA:ne=hB;break;case SA:ne=CB;break;case"scroll":case"scrollend":ne=lB;break;case"wheel":ne=RB;break;case"copy":case"cut":case"paste":ne=mB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=tA;break;case"toggle":case"beforetoggle":ne=NB}var we=(l&4)!==0,ot=!we&&(o==="scroll"||o==="scrollend"),X=we?te!==null?te+"Capture":null:te;we=[];for(var F=Z,Q;F!==null;){var se=F;if(Q=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Q===null||X===null||(se=Wl(F,X),se!=null&&we.push(Cu(F,se,Q))),ot)break;F=F.return}0<we.length&&(te=new ne(te,ve,null,d,ie),le.push({event:te,listeners:we}))}}if((l&7)===0){e:{if(te=o==="mouseover"||o==="pointerover",ne=o==="mouseout"||o==="pointerout",te&&d!==Ym&&(ve=d.relatedTarget||d.fromElement)&&(Uo(ve)||ve[jo]))break e;if((ne||te)&&(te=ie.window===ie?ie:(te=ie.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(ve=d.relatedTarget||d.toElement,ne=Z,ve=ve?Uo(ve):null,ve!==null&&(ot=a(ve),we=ve.tag,ve!==ot||we!==5&&we!==27&&we!==6)&&(ve=null)):(ne=null,ve=Z),ne!==ve)){if(we=ZT,se="onMouseLeave",X="onMouseEnter",F="mouse",(o==="pointerout"||o==="pointerover")&&(we=tA,se="onPointerLeave",X="onPointerEnter",F="pointer"),ot=ne==null?te:Kl(ne),Q=ve==null?te:Kl(ve),te=new we(se,F+"leave",ne,d,ie),te.target=ot,te.relatedTarget=Q,se=null,Uo(ie)===Z&&(we=new we(X,F+"enter",ve,d,ie),we.target=Q,we.relatedTarget=ot,se=we),ot=se,ne&&ve)t:{for(we=P5,X=ne,F=ve,Q=0,se=X;se;se=we(se))Q++;se=0;for(var _e=F;_e;_e=we(_e))se++;for(;0<Q-se;)X=we(X),Q--;for(;0<se-Q;)F=we(F),se--;for(;Q--;){if(X===F||F!==null&&X===F.alternate){we=X;break t}X=we(X),F=we(F)}we=null}else we=null;ne!==null&&FC(le,te,ne,we,!1),ve!==null&&ot!==null&&FC(le,ot,ve,we,!0)}}e:{if(te=Z?Kl(Z):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Fe=uA;else if(sA(te))if(cA)Fe=BB;else{Fe=$B;var ye=UB}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?Z&&Wm(Z.elementType)&&(Fe=uA):Fe=qB;if(Fe&&(Fe=Fe(o,Z))){lA(le,Fe,d,ie);break e}ye&&ye(o,te,Z),o==="focusout"&&Z&&te.type==="number"&&Z.memoizedProps.value!=null&&Km(te,"number",te.value)}switch(ye=Z?Kl(Z):window,o){case"focusin":(sA(ye)||ye.contentEditable==="true")&&(Ko=ye,lg=Z,nu=null);break;case"focusout":nu=lg=Ko=null;break;case"mousedown":ug=!0;break;case"contextmenu":case"mouseup":case"dragend":ug=!1,yA(le,d,ie);break;case"selectionchange":if(zB)break;case"keydown":case"keyup":yA(le,d,ie)}var ke;if(ig)e:{switch(o){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Fo?aA(o,d)&&(He="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(He="onCompositionStart");He&&(nA&&d.locale!=="ko"&&(Fo||He!=="onCompositionStart"?He==="onCompositionEnd"&&Fo&&(ke=XT()):(Qi=ie,Zm="value"in Qi?Qi.value:Qi.textContent,Fo=!0)),ye=Ad(Z,He),0<ye.length&&(He=new eA(He,o,null,d,ie),le.push({event:He,listeners:ye}),ke?He.data=ke:(ke=oA(d),ke!==null&&(He.data=ke)))),(ke=IB?kB(o,d):DB(o,d))&&(He=Ad(Z,"onBeforeInput"),0<He.length&&(ye=new eA("onBeforeInput","beforeinput",null,d,ie),le.push({event:ye,listeners:He}),ye.data=ke)),A5(le,o,Z,d,ie)}VC(le,l)})}function Cu(o,l,d){return{instance:o,listener:l,currentTarget:d}}function Ad(o,l){for(var d=l+"Capture",m=[];o!==null;){var _=o,w=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||w===null||(_=Wl(o,d),_!=null&&m.unshift(Cu(o,_,w)),_=Wl(o,l),_!=null&&m.push(Cu(o,_,w))),o.tag===3)return m;o=o.return}return[]}function P5(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function FC(o,l,d,m,_){for(var w=l._reactName,M=[];d!==null&&d!==m;){var k=d,z=k.alternate,Z=k.stateNode;if(k=k.tag,z!==null&&z===m)break;k!==5&&k!==26&&k!==27||Z===null||(z=Z,_?(Z=Wl(d,w),Z!=null&&M.unshift(Cu(d,Z,z))):_||(Z=Wl(d,w),Z!=null&&M.push(Cu(d,Z,z)))),d=d.return}M.length!==0&&o.push({event:l,listeners:M})}var N5=/\r\n?/g,M5=/\u0000|\uFFFD/g;function KC(o){return(typeof o=="string"?o:""+o).replace(N5,`
`).replace(M5,"")}function WC(o,l){return l=KC(l),KC(o)===l}function at(o,l,d,m,_,w){switch(d){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||zo(o,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&zo(o,""+m);break;case"className":Pf(o,"class",m);break;case"tabIndex":Pf(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Pf(o,d,m);break;case"style":WT(o,m,w);break;case"data":if(l!=="object"){Pf(o,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||d!=="href")){o.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(d);break}m=Mf(""+m),o.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(d==="formAction"?(l!=="input"&&at(o,l,"name",_.name,_,null),at(o,l,"formEncType",_.formEncType,_,null),at(o,l,"formMethod",_.formMethod,_,null),at(o,l,"formTarget",_.formTarget,_,null)):(at(o,l,"encType",_.encType,_,null),at(o,l,"method",_.method,_,null),at(o,l,"target",_.target,_,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(d);break}m=Mf(""+m),o.setAttribute(d,m);break;case"onClick":m!=null&&(o.onclick=li);break;case"onScroll":m!=null&&qe("scroll",o);break;case"onScrollEnd":m!=null&&qe("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(_.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}d=Mf(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(d,""+m):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":m===!0?o.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(d,m):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(d,m):o.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(d):o.setAttribute(d,m);break;case"popover":qe("beforetoggle",o),qe("toggle",o),Rf(o,"popover",m);break;case"xlinkActuate":si(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":si(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":si(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":si(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":si(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":si(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":si(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":si(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":si(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Rf(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=oB.get(d)||d,Rf(o,d,m))}}function kv(o,l,d,m,_,w){switch(d){case"style":WT(o,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(_.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"children":typeof m=="string"?zo(o,m):(typeof m=="number"||typeof m=="bigint")&&zo(o,""+m);break;case"onScroll":m!=null&&qe("scroll",o);break;case"onScrollEnd":m!=null&&qe("scrollend",o);break;case"onClick":m!=null&&(o.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$T.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(_=d.endsWith("Capture"),l=d.slice(2,_?d.length-7:void 0),w=o[Tn]||null,w=w!=null?w[d]:null,typeof w=="function"&&o.removeEventListener(l,w,_),typeof m=="function")){typeof w!="function"&&w!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(l,m,_);break e}d in o?o[d]=m:m===!0?o.setAttribute(d,""):Rf(o,d,m)}}}function an(o,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",o),qe("load",o);var m=!1,_=!1,w;for(w in d)if(d.hasOwnProperty(w)){var M=d[w];if(M!=null)switch(w){case"src":m=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:at(o,l,w,M,d,null)}}_&&at(o,l,"srcSet",d.srcSet,d,null),m&&at(o,l,"src",d.src,d,null);return;case"input":qe("invalid",o);var k=w=M=_=null,z=null,Z=null;for(m in d)if(d.hasOwnProperty(m)){var ie=d[m];if(ie!=null)switch(m){case"name":_=ie;break;case"type":M=ie;break;case"checked":z=ie;break;case"defaultChecked":Z=ie;break;case"value":w=ie;break;case"defaultValue":k=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,l));break;default:at(o,l,m,ie,d,null)}}VT(o,w,k,z,Z,M,_,!1);return;case"select":qe("invalid",o),m=M=w=null;for(_ in d)if(d.hasOwnProperty(_)&&(k=d[_],k!=null))switch(_){case"value":w=k;break;case"defaultValue":M=k;break;case"multiple":m=k;default:at(o,l,_,k,d,null)}l=w,d=M,o.multiple=!!m,l!=null?Ho(o,!!m,l,!1):d!=null&&Ho(o,!!m,d,!0);return;case"textarea":qe("invalid",o),w=_=m=null;for(M in d)if(d.hasOwnProperty(M)&&(k=d[M],k!=null))switch(M){case"value":m=k;break;case"defaultValue":_=k;break;case"children":w=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:at(o,l,M,k,d,null)}FT(o,m,_,w);return;case"option":for(z in d)if(d.hasOwnProperty(z)&&(m=d[z],m!=null))switch(z){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:at(o,l,z,m,d,null)}return;case"dialog":qe("beforetoggle",o),qe("toggle",o),qe("cancel",o),qe("close",o);break;case"iframe":case"object":qe("load",o);break;case"video":case"audio":for(m=0;m<Au.length;m++)qe(Au[m],o);break;case"image":qe("error",o),qe("load",o);break;case"details":qe("toggle",o);break;case"embed":case"source":case"link":qe("error",o),qe("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in d)if(d.hasOwnProperty(Z)&&(m=d[Z],m!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:at(o,l,Z,m,d,null)}return;default:if(Wm(l)){for(ie in d)d.hasOwnProperty(ie)&&(m=d[ie],m!==void 0&&kv(o,l,ie,m,d,void 0));return}}for(k in d)d.hasOwnProperty(k)&&(m=d[k],m!=null&&at(o,l,k,m,d,null))}function I5(o,l,d,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,w=null,M=null,k=null,z=null,Z=null,ie=null;for(ne in d){var le=d[ne];if(d.hasOwnProperty(ne)&&le!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":z=le;default:m.hasOwnProperty(ne)||at(o,l,ne,null,m,le)}}for(var te in m){var ne=m[te];if(le=d[te],m.hasOwnProperty(te)&&(ne!=null||le!=null))switch(te){case"type":w=ne;break;case"name":_=ne;break;case"checked":Z=ne;break;case"defaultChecked":ie=ne;break;case"value":M=ne;break;case"defaultValue":k=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,l));break;default:ne!==le&&at(o,l,te,ne,m,le)}}Fm(o,M,k,z,Z,ie,w,_);return;case"select":ne=M=k=te=null;for(w in d)if(z=d[w],d.hasOwnProperty(w)&&z!=null)switch(w){case"value":break;case"multiple":ne=z;default:m.hasOwnProperty(w)||at(o,l,w,null,m,z)}for(_ in m)if(w=m[_],z=d[_],m.hasOwnProperty(_)&&(w!=null||z!=null))switch(_){case"value":te=w;break;case"defaultValue":k=w;break;case"multiple":M=w;default:w!==z&&at(o,l,_,w,m,z)}l=k,d=M,m=ne,te!=null?Ho(o,!!d,te,!1):!!m!=!!d&&(l!=null?Ho(o,!!d,l,!0):Ho(o,!!d,d?[]:"",!1));return;case"textarea":ne=te=null;for(k in d)if(_=d[k],d.hasOwnProperty(k)&&_!=null&&!m.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:at(o,l,k,null,m,_)}for(M in m)if(_=m[M],w=d[M],m.hasOwnProperty(M)&&(_!=null||w!=null))switch(M){case"value":te=_;break;case"defaultValue":ne=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==w&&at(o,l,M,_,m,w)}GT(o,te,ne);return;case"option":for(var ve in d)if(te=d[ve],d.hasOwnProperty(ve)&&te!=null&&!m.hasOwnProperty(ve))switch(ve){case"selected":o.selected=!1;break;default:at(o,l,ve,null,m,te)}for(z in m)if(te=m[z],ne=d[z],m.hasOwnProperty(z)&&te!==ne&&(te!=null||ne!=null))switch(z){case"selected":o.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:at(o,l,z,te,m,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in d)te=d[we],d.hasOwnProperty(we)&&te!=null&&!m.hasOwnProperty(we)&&at(o,l,we,null,m,te);for(Z in m)if(te=m[Z],ne=d[Z],m.hasOwnProperty(Z)&&te!==ne&&(te!=null||ne!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,l));break;default:at(o,l,Z,te,m,ne)}return;default:if(Wm(l)){for(var ot in d)te=d[ot],d.hasOwnProperty(ot)&&te!==void 0&&!m.hasOwnProperty(ot)&&kv(o,l,ot,void 0,m,te);for(ie in m)te=m[ie],ne=d[ie],!m.hasOwnProperty(ie)||te===ne||te===void 0&&ne===void 0||kv(o,l,ie,te,m,ne);return}}for(var X in d)te=d[X],d.hasOwnProperty(X)&&te!=null&&!m.hasOwnProperty(X)&&at(o,l,X,null,m,te);for(le in m)te=m[le],ne=d[le],!m.hasOwnProperty(le)||te===ne||te==null&&ne==null||at(o,l,le,te,m,ne)}function YC(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function k5(){if(typeof performance.getEntriesByType=="function"){for(var o=0,l=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var _=d[m],w=_.transferSize,M=_.initiatorType,k=_.duration;if(w&&k&&YC(M)){for(M=0,k=_.responseEnd,m+=1;m<d.length;m++){var z=d[m],Z=z.startTime;if(Z>k)break;var ie=z.transferSize,le=z.initiatorType;ie&&YC(le)&&(z=z.responseEnd,M+=ie*(z<k?1:(k-Z)/(z-Z)))}if(--m,l+=8*(w+M)/(_.duration/1e3),o++,10<o)break}}if(0<o)return l/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Dv=null,Lv=null;function Cd(o){return o.nodeType===9?o:o.ownerDocument}function JC(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function XC(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function jv(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Uv=null;function D5(){var o=window.event;return o&&o.type==="popstate"?o===Uv?!1:(Uv=o,!0):(Uv=null,!1)}var QC=typeof setTimeout=="function"?setTimeout:void 0,L5=typeof clearTimeout=="function"?clearTimeout:void 0,ZC=typeof Promise=="function"?Promise:void 0,j5=typeof queueMicrotask=="function"?queueMicrotask:typeof ZC<"u"?function(o){return ZC.resolve(null).then(o).catch(U5)}:QC;function U5(o){setTimeout(function(){throw o})}function ma(o){return o==="head"}function eO(o,l){var d=l,m=0;do{var _=d.nextSibling;if(o.removeChild(d),_&&_.nodeType===8)if(d=_.data,d==="/$"||d==="/&"){if(m===0){o.removeChild(_),_s(l);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")Ou(o.ownerDocument.documentElement);else if(d==="head"){d=o.ownerDocument.head,Ou(d);for(var w=d.firstChild;w;){var M=w.nextSibling,k=w.nodeName;w[Fl]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&w.rel.toLowerCase()==="stylesheet"||d.removeChild(w),w=M}}else d==="body"&&Ou(o.ownerDocument.body);d=_}while(d);_s(l)}function tO(o,l){var d=o;o=0;do{var m=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(o===0)break;o--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||o++;d=m}while(d)}function $v(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":$v(d),Vm(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function $5(o,l,d,m){for(;o.nodeType===1;){var _=d;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[Fl])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(w=o.getAttribute("rel"),w==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(w!==_.rel||o.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||o.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||o.getAttribute("title")!==(_.title==null?null:_.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(w=o.getAttribute("src"),(w!==(_.src==null?null:_.src)||o.getAttribute("type")!==(_.type==null?null:_.type)||o.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&w&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var w=_.name==null?null:""+_.name;if(_.type==="hidden"&&o.getAttribute("name")===w)return o}else return o;if(o=ar(o.nextSibling),o===null)break}return null}function q5(o,l,d){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=ar(o.nextSibling),o===null))return null;return o}function nO(o,l){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=ar(o.nextSibling),o===null))return null;return o}function qv(o){return o.data==="$?"||o.data==="$~"}function Bv(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function B5(o,l){var d=o.ownerDocument;if(o.data==="$~")o._reactRetry=l;else if(o.data!=="$?"||d.readyState!=="loading")l();else{var m=function(){l(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),o._reactRetry=m}}function ar(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return o}var Hv=null;function rO(o){o=o.nextSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"||d==="/&"){if(l===0)return ar(o.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}o=o.nextSibling}return null}function iO(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return o;l--}else d!=="/$"&&d!=="/&"||l++}o=o.previousSibling}return null}function aO(o,l,d){switch(l=Cd(d),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Ou(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);Vm(o)}var or=new Map,oO=new Set;function Od(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ei=K.d;K.d={f:H5,r:z5,D:V5,C:G5,L:F5,m:K5,X:Y5,S:W5,M:J5};function H5(){var o=Ei.f(),l=bd();return o||l}function z5(o){var l=$o(o);l!==null&&l.tag===5&&l.type==="form"?S1(l):Ei.r(o)}var vs=typeof document>"u"?null:document;function sO(o,l,d){var m=vs;if(m&&typeof l=="string"&&l){var _=Qn(l);_='link[rel="'+o+'"][href="'+_+'"]',typeof d=="string"&&(_+='[crossorigin="'+d+'"]'),oO.has(_)||(oO.add(_),o={rel:o,crossOrigin:d,href:l},m.querySelector(_)===null&&(l=m.createElement("link"),an(l,"link",o),Wt(l),m.head.appendChild(l)))}}function V5(o){Ei.D(o),sO("dns-prefetch",o,null)}function G5(o,l){Ei.C(o,l),sO("preconnect",o,l)}function F5(o,l,d){Ei.L(o,l,d);var m=vs;if(m&&o&&l){var _='link[rel="preload"][as="'+Qn(l)+'"]';l==="image"&&d&&d.imageSrcSet?(_+='[imagesrcset="'+Qn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(_+='[imagesizes="'+Qn(d.imageSizes)+'"]')):_+='[href="'+Qn(o)+'"]';var w=_;switch(l){case"style":w=ys(o);break;case"script":w=bs(o)}or.has(w)||(o=p({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:o,as:l},d),or.set(w,o),m.querySelector(_)!==null||l==="style"&&m.querySelector(Ru(w))||l==="script"&&m.querySelector(Pu(w))||(l=m.createElement("link"),an(l,"link",o),Wt(l),m.head.appendChild(l)))}}function K5(o,l){Ei.m(o,l);var d=vs;if(d&&o){var m=l&&typeof l.as=="string"?l.as:"script",_='link[rel="modulepreload"][as="'+Qn(m)+'"][href="'+Qn(o)+'"]',w=_;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=bs(o)}if(!or.has(w)&&(o=p({rel:"modulepreload",href:o},l),or.set(w,o),d.querySelector(_)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Pu(w)))return}m=d.createElement("link"),an(m,"link",o),Wt(m),d.head.appendChild(m)}}}function W5(o,l,d){Ei.S(o,l,d);var m=vs;if(m&&o){var _=qo(m).hoistableStyles,w=ys(o);l=l||"default";var M=_.get(w);if(!M){var k={loading:0,preload:null};if(M=m.querySelector(Ru(w)))k.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":l},d),(d=or.get(w))&&zv(o,d);var z=M=m.createElement("link");Wt(z),an(z,"link",o),z._p=new Promise(function(Z,ie){z.onload=Z,z.onerror=ie}),z.addEventListener("load",function(){k.loading|=1}),z.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Rd(M,l,m)}M={type:"stylesheet",instance:M,count:1,state:k},_.set(w,M)}}}function Y5(o,l){Ei.X(o,l);var d=vs;if(d&&o){var m=qo(d).hoistableScripts,_=bs(o),w=m.get(_);w||(w=d.querySelector(Pu(_)),w||(o=p({src:o,async:!0},l),(l=or.get(_))&&Vv(o,l),w=d.createElement("script"),Wt(w),an(w,"link",o),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(_,w))}}function J5(o,l){Ei.M(o,l);var d=vs;if(d&&o){var m=qo(d).hoistableScripts,_=bs(o),w=m.get(_);w||(w=d.querySelector(Pu(_)),w||(o=p({src:o,async:!0,type:"module"},l),(l=or.get(_))&&Vv(o,l),w=d.createElement("script"),Wt(w),an(w,"link",o),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(_,w))}}function lO(o,l,d,m){var _=(_=xe.current)?Od(_):null;if(!_)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=ys(d.href),d=qo(_).hoistableStyles,m=d.get(l),m||(m={type:"style",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=ys(d.href);var w=qo(_).hoistableStyles,M=w.get(o);if(M||(_=_.ownerDocument||_,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(o,M),(w=_.querySelector(Ru(o)))&&!w._p&&(M.instance=w,M.state.loading=5),or.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},or.set(o,d),w||X5(_,o,d,M.state))),l&&m===null)throw Error(r(528,""));return M}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=bs(d),d=qo(_).hoistableScripts,m=d.get(l),m||(m={type:"script",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function ys(o){return'href="'+Qn(o)+'"'}function Ru(o){return'link[rel="stylesheet"]['+o+"]"}function uO(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function X5(o,l,d,m){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=o.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),an(l,"link",d),Wt(l),o.head.appendChild(l))}function bs(o){return'[src="'+Qn(o)+'"]'}function Pu(o){return"script[async]"+o}function cO(o,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var m=o.querySelector('style[data-href~="'+Qn(d.href)+'"]');if(m)return l.instance=m,Wt(m),m;var _=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),Wt(m),an(m,"style",_),Rd(m,d.precedence,o),l.instance=m;case"stylesheet":_=ys(d.href);var w=o.querySelector(Ru(_));if(w)return l.state.loading|=4,l.instance=w,Wt(w),w;m=uO(d),(_=or.get(_))&&zv(m,_),w=(o.ownerDocument||o).createElement("link"),Wt(w);var M=w;return M._p=new Promise(function(k,z){M.onload=k,M.onerror=z}),an(w,"link",m),l.state.loading|=4,Rd(w,d.precedence,o),l.instance=w;case"script":return w=bs(d.src),(_=o.querySelector(Pu(w)))?(l.instance=_,Wt(_),_):(m=d,(_=or.get(w))&&(m=p({},d),Vv(m,_)),o=o.ownerDocument||o,_=o.createElement("script"),Wt(_),an(_,"link",m),o.head.appendChild(_),l.instance=_);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Rd(m,d.precedence,o));return l.instance}function Rd(o,l,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=m.length?m[m.length-1]:null,w=_,M=0;M<m.length;M++){var k=m[M];if(k.dataset.precedence===l)w=k;else if(w!==_)break}w?w.parentNode.insertBefore(o,w.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(o,l.firstChild))}function zv(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function Vv(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var Pd=null;function fO(o,l,d){if(Pd===null){var m=new Map,_=Pd=new Map;_.set(d,m)}else _=Pd,m=_.get(d),m||(m=new Map,_.set(d,m));if(m.has(o))return m;for(m.set(o,null),d=d.getElementsByTagName(o),_=0;_<d.length;_++){var w=d[_];if(!(w[Fl]||w[en]||o==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var M=w.getAttribute(l)||"";M=o+M;var k=m.get(M);k?k.push(w):m.set(M,[w])}}return m}function dO(o,l,d){o=o.ownerDocument||o,o.head.insertBefore(d,l==="title"?o.querySelector("head > title"):null)}function Q5(o,l,d){if(d===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function hO(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function Z5(o,l,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var _=ys(m.href),w=l.querySelector(Ru(_));if(w){l=w._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(o.count++,o=Nd.bind(o),l.then(o,o)),d.state.loading|=4,d.instance=w,Wt(w);return}w=l.ownerDocument||l,m=uO(m),(_=or.get(_))&&zv(m,_),w=w.createElement("link"),Wt(w);var M=w;M._p=new Promise(function(k,z){M.onload=k,M.onerror=z}),an(w,"link",m),d.instance=w}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(o.count++,d=Nd.bind(o),l.addEventListener("load",d),l.addEventListener("error",d))}}var Gv=0;function e6(o,l){return o.stylesheets&&o.count===0&&Id(o,o.stylesheets),0<o.count||0<o.imgCount?function(d){var m=setTimeout(function(){if(o.stylesheets&&Id(o,o.stylesheets),o.unsuspend){var w=o.unsuspend;o.unsuspend=null,w()}},6e4+l);0<o.imgBytes&&Gv===0&&(Gv=62500*k5());var _=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Id(o,o.stylesheets),o.unsuspend)){var w=o.unsuspend;o.unsuspend=null,w()}},(o.imgBytes>Gv?50:800)+l);return o.unsuspend=d,function(){o.unsuspend=null,clearTimeout(m),clearTimeout(_)}}:null}function Nd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Id(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Md=null;function Id(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Md=new Map,l.forEach(t6,o),Md=null,Nd.call(o))}function t6(o,l){if(!(l.state.loading&4)){var d=Md.get(o);if(d)var m=d.get(null);else{d=new Map,Md.set(o,d);for(var _=o.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<_.length;w++){var M=_[w];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(d.set(M.dataset.precedence,M),m=M)}m&&d.set(null,m)}_=l.instance,M=_.getAttribute("data-precedence"),w=d.get(M)||m,w===m&&d.set(null,_),d.set(M,_),this.count++,m=Nd.bind(this),_.addEventListener("load",m),_.addEventListener("error",m),w?w.parentNode.insertBefore(_,w.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(_,o.firstChild)),l.state.loading|=4}}var Nu={$$typeof:C,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function n6(o,l,d,m,_,w,M,k,z){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qm(0),this.hiddenUpdates=qm(null),this.identifierPrefix=m,this.onUncaughtError=_,this.onCaughtError=w,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function pO(o,l,d,m,_,w,M,k,z,Z,ie,le){return o=new n6(o,l,d,M,z,Z,ie,le,k),l=1,w===!0&&(l|=24),w=Un(3,null,null,l),o.current=w,w.stateNode=o,l=Eg(),l.refCount++,o.pooledCache=l,l.refCount++,w.memoizedState={element:m,isDehydrated:d,cache:l},Og(w),o}function mO(o){return o?(o=Jo,o):Jo}function gO(o,l,d,m,_,w){_=mO(_),m.context===null?m.context=_:m.pendingContext=_,m=ia(l),m.payload={element:d},w=w===void 0?null:w,w!==null&&(m.callback=w),d=aa(o,m,l),d!==null&&(Nn(d,o,l),uu(d,o,l))}function vO(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function Fv(o,l){vO(o,l),(o=o.alternate)&&vO(o,l)}function yO(o){if(o.tag===13||o.tag===31){var l=Ha(o,67108864);l!==null&&Nn(l,o,67108864),Fv(o,67108864)}}function bO(o){if(o.tag===13||o.tag===31){var l=zn();l=Bm(l);var d=Ha(o,l);d!==null&&Nn(d,o,l),Fv(o,l)}}var kd=!0;function r6(o,l,d,m){var _=j.T;j.T=null;var w=K.p;try{K.p=2,Kv(o,l,d,m)}finally{K.p=w,j.T=_}}function i6(o,l,d,m){var _=j.T;j.T=null;var w=K.p;try{K.p=8,Kv(o,l,d,m)}finally{K.p=w,j.T=_}}function Kv(o,l,d,m){if(kd){var _=Wv(m);if(_===null)Iv(o,l,m,Dd,d),xO(o,m);else if(o6(_,o,l,d,m))m.stopPropagation();else if(xO(o,m),l&4&&-1<a6.indexOf(o)){for(;_!==null;){var w=$o(_);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var M=ja(w.pendingLanes);if(M!==0){var k=w;for(k.pendingLanes|=2,k.entangledLanes|=2;M;){var z=1<<31-Ln(M);k.entanglements[1]|=z,M&=~z}Kr(w),(Je&6)===0&&(vd=cn()+500,Tu(0))}}break;case 31:case 13:k=Ha(w,2),k!==null&&Nn(k,w,2),bd(),Fv(w,2)}if(w=Wv(m),w===null&&Iv(o,l,m,Dd,d),w===_)break;_=w}_!==null&&m.stopPropagation()}else Iv(o,l,m,null,d)}}function Wv(o){return o=Jm(o),Yv(o)}var Dd=null;function Yv(o){if(Dd=null,o=Uo(o),o!==null){var l=a(o);if(l===null)o=null;else{var d=l.tag;if(d===13){if(o=s(l),o!==null)return o;o=null}else if(d===31){if(o=u(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return Dd=o,null}function _O(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sf()){case OT:return 2;case RT:return 8;case Ef:case G3:return 32;case PT:return 268435456;default:return 32}default:return 32}}var Jv=!1,ga=null,va=null,ya=null,Mu=new Map,Iu=new Map,ba=[],a6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xO(o,l){switch(o){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":Mu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(l.pointerId)}}function ku(o,l,d,m,_,w){return o===null||o.nativeEvent!==w?(o={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:w,targetContainers:[_]},l!==null&&(l=$o(l),l!==null&&yO(l)),o):(o.eventSystemFlags|=m,l=o.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),o)}function o6(o,l,d,m,_){switch(l){case"focusin":return ga=ku(ga,o,l,d,m,_),!0;case"dragenter":return va=ku(va,o,l,d,m,_),!0;case"mouseover":return ya=ku(ya,o,l,d,m,_),!0;case"pointerover":var w=_.pointerId;return Mu.set(w,ku(Mu.get(w)||null,o,l,d,m,_)),!0;case"gotpointercapture":return w=_.pointerId,Iu.set(w,ku(Iu.get(w)||null,o,l,d,m,_)),!0}return!1}function wO(o){var l=Uo(o.target);if(l!==null){var d=a(l);if(d!==null){if(l=d.tag,l===13){if(l=s(d),l!==null){o.blockedOn=l,LT(o.priority,function(){bO(d)});return}}else if(l===31){if(l=u(d),l!==null){o.blockedOn=l,LT(o.priority,function(){bO(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ld(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=Wv(o.nativeEvent);if(d===null){d=o.nativeEvent;var m=new d.constructor(d.type,d);Ym=m,d.target.dispatchEvent(m),Ym=null}else return l=$o(d),l!==null&&yO(l),o.blockedOn=d,!1;l.shift()}return!0}function SO(o,l,d){Ld(o)&&d.delete(l)}function s6(){Jv=!1,ga!==null&&Ld(ga)&&(ga=null),va!==null&&Ld(va)&&(va=null),ya!==null&&Ld(ya)&&(ya=null),Mu.forEach(SO),Iu.forEach(SO)}function jd(o,l){o.blockedOn===l&&(o.blockedOn=null,Jv||(Jv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,s6)))}var Ud=null;function EO(o){Ud!==o&&(Ud=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ud===o&&(Ud=null);for(var l=0;l<o.length;l+=3){var d=o[l],m=o[l+1],_=o[l+2];if(typeof m!="function"){if(Yv(m||d)===null)continue;break}var w=$o(d);w!==null&&(o.splice(l,3),l-=3,Wg(w,{pending:!0,data:_,method:d.method,action:m},m,_))}}))}function _s(o){function l(z){return jd(z,o)}ga!==null&&jd(ga,o),va!==null&&jd(va,o),ya!==null&&jd(ya,o),Mu.forEach(l),Iu.forEach(l);for(var d=0;d<ba.length;d++){var m=ba[d];m.blockedOn===o&&(m.blockedOn=null)}for(;0<ba.length&&(d=ba[0],d.blockedOn===null);)wO(d),d.blockedOn===null&&ba.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var _=d[m],w=d[m+1],M=_[Tn]||null;if(typeof w=="function")M||EO(d);else if(M){var k=null;if(w&&w.hasAttribute("formAction")){if(_=w,M=w[Tn]||null)k=M.formAction;else if(Yv(_)!==null)continue}else k=M.action;typeof k=="function"?d[m+1]=k:(d.splice(m,3),m-=3),EO(d)}}}function TO(){function o(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(M){return _=M})},focusReset:"manual",scroll:"manual"})}function l(){_!==null&&(_(),_=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,_=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),_!==null&&(_(),_=null)}}}function Xv(o){this._internalRoot=o}$d.prototype.render=Xv.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,m=zn();gO(d,m,o,l,null,null)},$d.prototype.unmount=Xv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;gO(o.current,2,null,o,null,null),bd(),l[jo]=null}};function $d(o){this._internalRoot=o}$d.prototype.unstable_scheduleHydration=function(o){if(o){var l=DT();o={blockedOn:null,target:o,priority:l};for(var d=0;d<ba.length&&l!==0&&l<ba[d].priority;d++);ba.splice(d,0,o),d===0&&wO(o)}};var AO=e.version;if(AO!=="19.2.3")throw Error(r(527,AO,"19.2.3"));K.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(l),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var l6={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qd.isDisabled&&qd.supportsFiber)try{zl=qd.inject(l6),Dn=qd}catch{}}return Lu.createRoot=function(o,l){if(!i(o))throw Error(r(299));var d=!1,m="",_=I1,w=k1,M=D1;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError)),l=pO(o,1,!1,null,null,d,m,null,_,w,M,TO),o[jo]=l.current,Mv(o),new Xv(l)},Lu.hydrateRoot=function(o,l,d){if(!i(o))throw Error(r(299));var m=!1,_="",w=I1,M=k1,k=D1,z=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(_=d.identifierPrefix),d.onUncaughtError!==void 0&&(w=d.onUncaughtError),d.onCaughtError!==void 0&&(M=d.onCaughtError),d.onRecoverableError!==void 0&&(k=d.onRecoverableError),d.formState!==void 0&&(z=d.formState)),l=pO(o,1,!0,l,d??null,m,_,z,w,M,k,TO),l.context=mO(null),d=l.current,m=zn(),m=Bm(m),_=ia(m),_.callback=null,aa(d,_,m),d=m,l.current.lanes=d,Gl(l,d),Kr(l),o[jo]=l.current,Mv(o),new $d(l)},Lu.version="19.2.3",Lu}var LO;function _6(){if(LO)return ey.exports;LO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ey.exports=b6(),ey.exports}var x6=_6();const w6=Ge(x6);var iy,jO;function S6(){if(jO)return iy;jO=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(a,s){if(a===s)return!0;if(a&&s&&typeof a=="object"&&typeof s=="object"){if(a.constructor!==s.constructor)return!1;var u,c,f;if(Array.isArray(a)){if(u=a.length,u!=s.length)return!1;for(c=u;c--!==0;)if(!i(a[c],s[c]))return!1;return!0}var h;if(e&&a instanceof Map&&s instanceof Map){if(a.size!==s.size)return!1;for(h=a.entries();!(c=h.next()).done;)if(!s.has(c.value[0]))return!1;for(h=a.entries();!(c=h.next()).done;)if(!i(c.value[1],s.get(c.value[0])))return!1;return!0}if(n&&a instanceof Set&&s instanceof Set){if(a.size!==s.size)return!1;for(h=a.entries();!(c=h.next()).done;)if(!s.has(c.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(s)){if(u=a.length,u!=s.length)return!1;for(c=u;c--!==0;)if(a[c]!==s[c])return!1;return!0}if(a.constructor===RegExp)return a.source===s.source&&a.flags===s.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof s.valueOf=="function")return a.valueOf()===s.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof s.toString=="function")return a.toString()===s.toString();if(f=Object.keys(a),u=f.length,u!==Object.keys(s).length)return!1;for(c=u;c--!==0;)if(!Object.prototype.hasOwnProperty.call(s,f[c]))return!1;if(t&&a instanceof Element)return!1;for(c=u;c--!==0;)if(!((f[c]==="_owner"||f[c]==="__v"||f[c]==="__o")&&a.$$typeof)&&!i(a[f[c]],s[f[c]]))return!1;return!0}return a!==a&&s!==s}return iy=function(s,u){try{return i(s,u)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},iy}var E6=S6();const T6=Ge(E6);var ay,UO;function A6(){if(UO)return ay;UO=1;var t=function(e,n,r,i,a,s,u,c){if(!e){var f;if(n===void 0)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[r,i,a,s,u,c],p=0;f=new Error(n.replace(/%s/g,function(){return h[p++]})),f.name="Invariant Violation"}throw f.framesToPop=1,f}};return ay=t,ay}var C6=A6();const $O=Ge(C6);var oy,qO;function O6(){return qO||(qO=1,oy=function(e,n,r,i){var a=r?r.call(i,e,n):void 0;if(a!==void 0)return!!a;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var s=Object.keys(e),u=Object.keys(n);if(s.length!==u.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(n),f=0;f<s.length;f++){var h=s[f];if(!c(h))return!1;var p=e[h],g=n[h];if(a=r?r.call(i,p,g,h):void 0,a===!1||a===void 0&&p!==g)return!1}return!0}),oy}var R6=O6();const P6=Ge(R6);var yj=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(yj||{}),sy={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},BO=Object.values(yj),YS={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},N6=Object.entries(YS).reduce((t,[e,n])=>(t[n]=e,t),{}),jr="data-rh",Vs={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Gs=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},M6=t=>{let e=Gs(t,"title");const n=Gs(t,Vs.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=Gs(t,Vs.DEFAULT_TITLE);return e||r||void 0},I6=t=>Gs(t,Vs.ON_CHANGE_CLIENT_STATE)||(()=>{}),ly=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),k6=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let a=0;a<i.length;a+=1){const u=i[a].toLowerCase();if(t.indexOf(u)!==-1&&r[u])return n.concat(r)}}return n},[]),D6=t=>console&&typeof console.warn=="function"&&console.warn(t),ju=(t,e,n)=>{const r={};return n.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&D6(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,a)=>{const s={};a.filter(c=>{let f;const h=Object.keys(c);for(let g=0;g<h.length;g+=1){const b=h[g],S=b.toLowerCase();e.indexOf(S)!==-1&&!(f==="rel"&&c[f].toLowerCase()==="canonical")&&!(S==="rel"&&c[S].toLowerCase()==="stylesheet")&&(f=S),e.indexOf(b)!==-1&&(b==="innerHTML"||b==="cssText"||b==="itemprop")&&(f=b)}if(!f||!c[f])return!1;const p=c[f].toLowerCase();return r[f]||(r[f]={}),s[f]||(s[f]={}),r[f][p]?!1:(s[f][p]=!0,!0)}).reverse().forEach(c=>i.push(c));const u=Object.keys(s);for(let c=0;c<u.length;c+=1){const f=u[c],h={...r[f],...s[f]};r[f]=h}return i},[]).reverse()},L6=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},j6=t=>({baseTag:k6(["href"],t),bodyAttributes:ly("bodyAttributes",t),defer:Gs(t,Vs.DEFER),encode:Gs(t,Vs.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:ly("htmlAttributes",t),linkTags:ju("link",["rel","href"],t),metaTags:ju("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:ju("noscript",["innerHTML"],t),onChangeClientState:I6(t),scriptTags:ju("script",["src","innerHTML"],t),styleTags:ju("style",["cssText"],t),title:M6(t),titleAttributes:ly("titleAttributes",t),prioritizeSeoTags:L6(t,Vs.PRIORITIZE_SEO_TAGS)}),bj=t=>Array.isArray(t)?t.join(""):t,U6=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},uy=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(U6(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},HO=(t,e)=>({...t,[e]:void 0}),$6=["noscript","script","style"],Ix=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),_j=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),q6=(t,e,n,r)=>{const i=_j(n),a=bj(e);return i?`<${t} ${jr}="true" ${i}>${Ix(a,r)}</${t}>`:`<${t} ${jr}="true">${Ix(a,r)}</${t}>`},B6=(t,e,n=!0)=>e.reduce((r,i)=>{const a=i,s=Object.keys(a).filter(f=>!(f==="innerHTML"||f==="cssText")).reduce((f,h)=>{const p=typeof a[h]>"u"?h:`${h}="${Ix(a[h],n)}"`;return f?`${f} ${p}`:p},""),u=a.innerHTML||a.cssText||"",c=$6.indexOf(t)===-1;return`${r}<${t} ${jr}="true" ${s}${c?"/>":`>${u}</${t}>`}`},""),xj=(t,e={})=>Object.keys(t).reduce((n,r)=>{const i=YS[r];return n[i||r]=t[r],n},e),H6=(t,e,n)=>{const r={key:e,[jr]:!0},i=xj(n,r);return[G.createElement("title",i,e)]},xh=(t,e)=>e.map((n,r)=>{const i={key:r,[jr]:!0};return Object.keys(n).forEach(a=>{const u=YS[a]||a;if(u==="innerHTML"||u==="cssText"){const c=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:c}}else i[u]=n[a]}),G.createElement(t,i)}),fr=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>H6(t,e.title,e.titleAttributes),toString:()=>q6(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>xj(e),toString:()=>_j(e)};default:return{toComponent:()=>xh(t,e),toString:()=>B6(t,e,n)}}},z6=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const i=uy(t,sy.meta),a=uy(e,sy.link),s=uy(n,sy.script);return{priorityMethods:{toComponent:()=>[...xh("meta",i.priority),...xh("link",a.priority),...xh("script",s.priority)],toString:()=>`${fr("meta",i.priority,r)} ${fr("link",a.priority,r)} ${fr("script",s.priority,r)}`},metaTags:i.default,linkTags:a.default,scriptTags:s.default}},V6=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:a,styleTags:s,title:u="",titleAttributes:c,prioritizeSeoTags:f}=t;let{linkTags:h,metaTags:p,scriptTags:g}=t,b={toComponent:()=>{},toString:()=>""};return f&&({priorityMethods:b,linkTags:h,metaTags:p,scriptTags:g}=z6(t)),{priority:b,base:fr("base",e,r),bodyAttributes:fr("bodyAttributes",n,r),htmlAttributes:fr("htmlAttributes",i,r),link:fr("link",h,r),meta:fr("meta",p,r),noscript:fr("noscript",a,r),script:fr("script",g,r),style:fr("style",s,r),title:fr("title",{title:u,titleAttributes:c},r)}},kx=V6,Hd=[],wj=!!(typeof window<"u"&&window.document&&window.document.createElement),Dx=class{constructor(t,e){Ti(this,"instances",[]);Ti(this,"canUseDOM",wj);Ti(this,"context");Ti(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?Hd:this.instances,add:t=>{(this.canUseDOM?Hd:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?Hd:this.instances).indexOf(t);(this.canUseDOM?Hd:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=kx({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},G6={},Sj=G.createContext(G6),_o,JS=(_o=class extends U.Component{constructor(n){super(n);Ti(this,"helmetData");this.helmetData=new Dx(this.props.context||{},_o.canUseDOM)}render(){return G.createElement(Sj.Provider,{value:this.helmetData.value},this.props.children)}},Ti(_o,"canUseDOM",wj),_o),xs=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${jr}]`),i=[].slice.call(r),a=[];let s;return e&&e.length&&e.forEach(u=>{const c=document.createElement(t);for(const f in u)if(Object.prototype.hasOwnProperty.call(u,f))if(f==="innerHTML")c.innerHTML=u.innerHTML;else if(f==="cssText")c.styleSheet?c.styleSheet.cssText=u.cssText:c.appendChild(document.createTextNode(u.cssText));else{const h=f,p=typeof u[h]>"u"?"":u[h];c.setAttribute(f,p)}c.setAttribute(jr,"true"),i.some((f,h)=>(s=h,c.isEqualNode(f)))?i.splice(s,1):a.push(c)}),i.forEach(u=>{var c;return(c=u.parentNode)==null?void 0:c.removeChild(u)}),a.forEach(u=>n.appendChild(u)),{oldTags:i,newTags:a}},Lx=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(jr),i=r?r.split(","):[],a=[...i],s=Object.keys(e);for(const u of s){const c=e[u]||"";n.getAttribute(u)!==c&&n.setAttribute(u,c),i.indexOf(u)===-1&&i.push(u);const f=a.indexOf(u);f!==-1&&a.splice(f,1)}for(let u=a.length-1;u>=0;u-=1)n.removeAttribute(a[u]);i.length===a.length?n.removeAttribute(jr):n.getAttribute(jr)!==s.join(",")&&n.setAttribute(jr,s.join(","))},F6=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=bj(t)),Lx("title",e)},zO=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:a,metaTags:s,noscriptTags:u,onChangeClientState:c,scriptTags:f,styleTags:h,title:p,titleAttributes:g}=t;Lx("body",r),Lx("html",i),F6(p,g);const b={baseTag:xs("base",n),linkTags:xs("link",a),metaTags:xs("meta",s),noscriptTags:xs("noscript",u),scriptTags:xs("script",f),styleTags:xs("style",h)},S={},E={};Object.keys(b).forEach(x=>{const{newTags:A,oldTags:O}=b[x];A.length&&(S[x]=A),O.length&&(E[x]=b[x].oldTags)}),e&&e(),c(t,S,E)},Uu=null,K6=t=>{Uu&&cancelAnimationFrame(Uu),t.defer?Uu=requestAnimationFrame(()=>{zO(t,()=>{Uu=null})}):(zO(t),Uu=null)},W6=K6,VO=class extends U.Component{constructor(){super(...arguments);Ti(this,"rendered",!1)}shouldComponentUpdate(e){return!P6(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const i=j6(e.get().map(a=>{const s={...a.props};return delete s.context,s}));JS.canUseDOM?W6(i):kx&&(r=kx(i)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Mx,Y6=(Mx=class extends U.Component{shouldComponentUpdate(t){return!T6(HO(this.props,"helmetData"),HO(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return $O(BO.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${BO.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),$O(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return G.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:i,...a}=r.props,s=Object.keys(a).reduce((c,f)=>(c[N6[f]||f]=a[f],c),{});let{type:u}=r;switch(typeof u=="symbol"?u=u.toString():this.warnOnInvalidChildren(r,i),u){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,s,i);break;default:e=this.mapObjectTypeChildren(r,e,s,i);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof Dx)){const i=r;r=new Dx(i.context,!0),delete n.helmetData}return r?G.createElement(VO,{...n,context:r.value}):G.createElement(Sj.Consumer,null,i=>G.createElement(VO,{...n,context:i}))}},Ti(Mx,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Mx);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var GO="popstate";function J6(t={}){function e(i,a){let{pathname:s="/",search:u="",hash:c=""}=No(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),jx("",{pathname:s,search:u,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),u="";if(s&&s.getAttribute("href")){let c=i.location.href,f=c.indexOf("#");u=f===-1?c:c.slice(0,f)}return u+"#"+(typeof a=="string"?a:vc(a))}function r(i,a){br(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return Q6(e,n,r,t)}function At(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function br(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function X6(){return Math.random().toString(36).substring(2,10)}function FO(t,e){return{usr:t.state,key:t.key,idx:e}}function jx(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?No(e):e,state:n,key:e&&e.key||r||X6()}}function vc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function No(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Q6(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,u="POP",c=null,f=h();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function h(){return(s.state||{idx:null}).idx}function p(){u="POP";let x=h(),A=x==null?null:x-f;f=x,c&&c({action:u,location:E.location,delta:A})}function g(x,A){u="PUSH";let O=jx(E.location,x,A);n&&n(O,x),f=h()+1;let C=FO(O,f),P=E.createHref(O);try{s.pushState(C,"",P)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(P)}a&&c&&c({action:u,location:E.location,delta:1})}function b(x,A){u="REPLACE";let O=jx(E.location,x,A);n&&n(O,x),f=h();let C=FO(O,f),P=E.createHref(O);s.replaceState(C,"",P),a&&c&&c({action:u,location:E.location,delta:0})}function S(x){return Z6(x)}let E={get action(){return u},get location(){return t(i,s)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(GO,p),c=x,()=>{i.removeEventListener(GO,p),c=null}},createHref(x){return e(i,x)},createURL:S,encodeLocation(x){let A=S(x);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:g,replace:b,go(x){return s.go(x)}};return E}function Z6(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),At(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:vc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Ej(t,e,n="/"){return e8(t,e,n,!1)}function e8(t,e,n,r){let i=typeof e=="string"?No(e):e,a=ji(i.pathname||"/",n);if(a==null)return null;let s=Tj(t);t8(s);let u=null;for(let c=0;u==null&&c<s.length;++c){let f=d8(a);u=c8(s[c],f,r)}return u}function Tj(t,e=[],n=[],r="",i=!1){let a=(s,u,c=i,f)=>{let h={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:u,route:s};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&c)return;At(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let p=Ii([r,h.relativePath]),g=n.concat(h);s.children&&s.children.length>0&&(At(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Tj(s.children,e,g,p,c)),!(s.path==null&&!s.index)&&e.push({path:p,score:l8(p,s.index),routesMeta:g})};return t.forEach((s,u)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))a(s,u);else for(let f of Aj(s.path))a(s,u,!0,f)}),e}function Aj(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=Aj(r.join("/")),u=[];return u.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&u.push(...s),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function t8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:u8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var n8=/^:[\w-]+$/,r8=3,i8=2,a8=1,o8=10,s8=-2,KO=t=>t==="*";function l8(t,e){let n=t.split("/"),r=n.length;return n.some(KO)&&(r+=s8),e&&(r+=i8),n.filter(i=>!KO(i)).reduce((i,a)=>i+(n8.test(a)?r8:a===""?a8:o8),r)}function u8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function c8(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let u=0;u<r.length;++u){let c=r[u],f=u===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",p=Rh({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),g=c.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=Rh({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:Ii([a,p.pathname]),pathnameBase:g8(Ii([a,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(a=Ii([a,p.pathnameBase]))}return s}function Rh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=f8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:h,isOptional:p},g)=>{if(h==="*"){let S=u[g]||"";s=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const b=u[g];return p&&!b?f[h]=void 0:f[h]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:t}}function f8(t,e=!1,n=!0){br(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function d8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return br(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ji(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var Cj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,h8=t=>Cj.test(t);function p8(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?No(t):t,a;if(n)if(h8(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),br(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?a=WO(n.substring(1),"/"):a=WO(n,e)}else a=e;return{pathname:a,search:v8(r),hash:y8(i)}}function WO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function cy(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function m8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Oj(t){let e=m8(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Rj(t,e,n,r=!1){let i;typeof t=="string"?i=No(t):(i={...t},At(!i.pathname||!i.pathname.includes("?"),cy("?","pathname","search",i)),At(!i.pathname||!i.pathname.includes("#"),cy("#","pathname","hash",i)),At(!i.search||!i.search.includes("#"),cy("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,u;if(s==null)u=n;else{let p=e.length-1;if(!r&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}u=p>=0?e[p]:"/"}let c=p8(i,u),f=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}var Ii=t=>t.join("/").replace(/\/\/+/g,"/"),g8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),v8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,y8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,b8=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function _8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function x8(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Pj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Nj(t,e){let n=t;if(typeof n!="string"||!Cj.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(Pj)try{let a=new URL(window.location.href),s=n.startsWith("//")?new URL(a.protocol+n):new URL(n),u=ji(s.pathname,e);s.origin===a.origin&&u!=null?n=u+s.search+s.hash:i=!0}catch{br(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Mj=["POST","PUT","PATCH","DELETE"];new Set(Mj);var w8=["GET",...Mj];new Set(w8);var Pl=U.createContext(null);Pl.displayName="DataRouter";var Gp=U.createContext(null);Gp.displayName="DataRouterState";var S8=U.createContext(!1),Ij=U.createContext({isTransitioning:!1});Ij.displayName="ViewTransition";var E8=U.createContext(new Map);E8.displayName="Fetchers";var T8=U.createContext(null);T8.displayName="Await";var Sr=U.createContext(null);Sr.displayName="Navigation";var cf=U.createContext(null);cf.displayName="Location";var ni=U.createContext({outlet:null,matches:[],isDataRoute:!1});ni.displayName="Route";var XS=U.createContext(null);XS.displayName="RouteError";var kj="REACT_ROUTER_ERROR",A8="REDIRECT",C8="ROUTE_ERROR_RESPONSE";function O8(t){if(t.startsWith(`${kj}:${A8}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function R8(t){if(t.startsWith(`${kj}:${C8}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new b8(e.status,e.statusText,e.data)}catch{}}function P8(t,{relative:e}={}){At(ff(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=U.useContext(Sr),{hash:i,pathname:a,search:s}=hf(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:Ii([n,a])),r.createHref({pathname:u,search:s,hash:i})}function ff(){return U.useContext(cf)!=null}function Pa(){return At(ff(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(cf).location}var Dj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Lj(t){U.useContext(Sr).static||U.useLayoutEffect(t)}function df(){let{isDataRoute:t}=U.useContext(ni);return t?z8():N8()}function N8(){At(ff(),"useNavigate() may be used only in the context of a <Router> component.");let t=U.useContext(Pl),{basename:e,navigator:n}=U.useContext(Sr),{matches:r}=U.useContext(ni),{pathname:i}=Pa(),a=JSON.stringify(Oj(r)),s=U.useRef(!1);return Lj(()=>{s.current=!0}),U.useCallback((c,f={})=>{if(br(s.current,Dj),!s.current)return;if(typeof c=="number"){n.go(c);return}let h=Rj(c,JSON.parse(a),i,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ii([e,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[e,n,a,i,t])}U.createContext(null);function jj(){let{matches:t}=U.useContext(ni),e=t[t.length-1];return e?e.params:{}}function hf(t,{relative:e}={}){let{matches:n}=U.useContext(ni),{pathname:r}=Pa(),i=JSON.stringify(Oj(n));return U.useMemo(()=>Rj(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function M8(t,e){return Uj(t,e)}function Uj(t,e,n,r,i){var O;At(ff(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=U.useContext(Sr),{matches:s}=U.useContext(ni),u=s[s.length-1],c=u?u.params:{},f=u?u.pathname:"/",h=u?u.pathnameBase:"/",p=u&&u.route;{let C=p&&p.path||"";qj(f,!p||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let g=Pa(),b;if(e){let C=typeof e=="string"?No(e):e;At(h==="/"||((O=C.pathname)==null?void 0:O.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${C.pathname}" was given in the \`location\` prop.`),b=C}else b=g;let S=b.pathname||"/",E=S;if(h!=="/"){let C=h.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(C.length).join("/")}let x=Ej(t,{pathname:E});br(p||x!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),br(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=j8(x&&x.map(C=>Object.assign({},C,{params:Object.assign({},c,C.params),pathname:Ii([h,a.encodeLocation?a.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?h:Ii([h,a.encodeLocation?a.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),s,n,r,i);return e&&A?U.createElement(cf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},A):A}function I8(){let t=H8(),e=_8(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:a},"ErrorBoundary")," or"," ",U.createElement("code",{style:a},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:i},n):null,s)}var k8=U.createElement(I8,null),$j=class extends U.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=R8(t.digest);n&&(t=n)}let e=t!==void 0?U.createElement(ni.Provider,{value:this.props.routeContext},U.createElement(XS.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?U.createElement(D8,{error:t},e):e}};$j.contextType=S8;var fy=new WeakMap;function D8({children:t,error:e}){let{basename:n}=U.useContext(Sr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=O8(e.digest);if(r){let i=fy.get(e);if(i)throw i;let a=Nj(r.location,n);if(Pj&&!fy.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw fy.set(e,s),s}return U.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function L8({routeContext:t,match:e,children:n}){let r=U.useContext(Pl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(ni.Provider,{value:t},n)}function j8(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n==null?void 0:n.errors;if(s!=null){let h=a.findIndex(p=>p.route.id&&(s==null?void 0:s[p.route.id])!==void 0);At(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,c=-1;if(n)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:g,errors:b}=n,S=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||S){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}let f=n&&r?(h,p)=>{var g,b;r(h,{location:n.location,params:((b=(g=n.matches)==null?void 0:g[0])==null?void 0:b.params)??{},unstable_pattern:x8(n.matches),errorInfo:p})}:void 0;return a.reduceRight((h,p,g)=>{let b,S=!1,E=null,x=null;n&&(b=s&&p.route.id?s[p.route.id]:void 0,E=p.route.errorElement||k8,u&&(c<0&&g===0?(qj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,x=null):c===g&&(S=!0,x=p.route.hydrateFallbackElement||null)));let A=e.concat(a.slice(0,g+1)),O=()=>{let C;return b?C=E:S?C=x:p.route.Component?C=U.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=h,U.createElement(L8,{match:p,routeContext:{outlet:h,matches:A,isDataRoute:n!=null},children:C})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?U.createElement($j,{location:n.location,revalidation:n.revalidation,component:E,error:b,children:O(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:f}):O()},null)}function QS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U8(t){let e=U.useContext(Pl);return At(e,QS(t)),e}function $8(t){let e=U.useContext(Gp);return At(e,QS(t)),e}function q8(t){let e=U.useContext(ni);return At(e,QS(t)),e}function ZS(t){let e=q8(t),n=e.matches[e.matches.length-1];return At(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function B8(){return ZS("useRouteId")}function H8(){var r;let t=U.useContext(XS),e=$8("useRouteError"),n=ZS("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function z8(){let{router:t}=U8("useNavigate"),e=ZS("useNavigate"),n=U.useRef(!1);return Lj(()=>{n.current=!0}),U.useCallback(async(i,a={})=>{br(n.current,Dj),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var YO={};function qj(t,e,n){!e&&!YO[t]&&(YO[t]=!0,br(!1,n))}U.memo(V8);function V8({routes:t,future:e,state:n,onError:r}){return Uj(t,void 0,n,r,e)}function cr(t){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function G8({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){At(!ff(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:u,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[u,i,a,s]);typeof n=="string"&&(n=No(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:b="default"}=n,S=U.useMemo(()=>{let E=ji(f,u);return E==null?null:{location:{pathname:E,search:h,hash:p,state:g,key:b},navigationType:r}},[u,f,h,p,g,b,r]);return br(S!=null,`<Router basename="${u}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:U.createElement(Sr.Provider,{value:c},U.createElement(cf.Provider,{children:e,value:S}))}function F8({children:t,location:e}){return M8(Ux(t),e)}function Ux(t,e=[]){let n=[];return U.Children.forEach(t,(r,i)=>{if(!U.isValidElement(r))return;let a=[...e,i];if(r.type===U.Fragment){n.push.apply(n,Ux(r.props.children,a));return}At(r.type===cr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Ux(r.props.children,a)),n.push(s)}),n}var wh="get",Sh="application/x-www-form-urlencoded";function Fp(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function K8(t){return Fp(t)&&t.tagName.toLowerCase()==="button"}function W8(t){return Fp(t)&&t.tagName.toLowerCase()==="form"}function Y8(t){return Fp(t)&&t.tagName.toLowerCase()==="input"}function J8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function X8(t,e){return t.button===0&&(!e||e==="_self")&&!J8(t)}var zd=null;function Q8(){if(zd===null)try{new FormData(document.createElement("form"),0),zd=!1}catch{zd=!0}return zd}var Z8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dy(t){return t!=null&&!Z8.has(t)?(br(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sh}"`),null):t}function eH(t,e){let n,r,i,a,s;if(W8(t)){let u=t.getAttribute("action");r=u?ji(u,e):null,n=t.getAttribute("method")||wh,i=dy(t.getAttribute("enctype"))||Sh,a=new FormData(t)}else if(K8(t)||Y8(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||u.getAttribute("action");if(r=c?ji(c,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||wh,i=dy(t.getAttribute("formenctype"))||dy(u.getAttribute("enctype"))||Sh,a=new FormData(u,t),!Q8()){let{name:f,type:h,value:p}=t;if(h==="image"){let g=f?`${f}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else f&&a.append(f,p)}}else{if(Fp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wh,r=null,i=Sh,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function eE(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tH(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ji(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function nH(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rH(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function iH(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await nH(a,n);return s.links?s.links():[]}return[]}));return lH(r.flat(1).filter(rH).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function JO(t,e,n,r,i,a){let s=(c,f)=>n[f]?c.route.id!==n[f].route.id:!0,u=(c,f)=>{var h;return n[f].pathname!==c.pathname||((h=n[f].route.path)==null?void 0:h.endsWith("*"))&&n[f].params["*"]!==c.params["*"]};return a==="assets"?e.filter((c,f)=>s(c,f)||u(c,f)):a==="data"?e.filter((c,f)=>{var p;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(s(c,f)||u(c,f))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function aH(t,e,{includeHydrateFallback:n}={}){return oH(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function oH(t){return[...new Set(t)]}function sH(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function lH(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(sH(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function Bj(){let t=U.useContext(Pl);return eE(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function uH(){let t=U.useContext(Gp);return eE(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var tE=U.createContext(void 0);tE.displayName="FrameworkContext";function Hj(){let t=U.useContext(tE);return eE(t,"You must render this element inside a <HydratedRouter> element"),t}function cH(t,e){let n=U.useContext(tE),[r,i]=U.useState(!1),[a,s]=U.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:f,onMouseLeave:h,onTouchStart:p}=e,g=U.useRef(null);U.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let E=A=>{A.forEach(O=>{s(O.isIntersecting)})},x=new IntersectionObserver(E,{threshold:.5});return g.current&&x.observe(g.current),()=>{x.disconnect()}}},[t]),U.useEffect(()=>{if(r){let E=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(E)}}},[r]);let b=()=>{i(!0)},S=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,g,{}]:[a,g,{onFocus:$u(u,b),onBlur:$u(c,S),onMouseEnter:$u(f,b),onMouseLeave:$u(h,S),onTouchStart:$u(p,b)}]:[!1,g,{}]}function $u(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function fH({page:t,...e}){let{router:n}=Bj(),r=U.useMemo(()=>Ej(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?U.createElement(hH,{page:t,matches:r,...e}):null}function dH(t){let{manifest:e,routeModules:n}=Hj(),[r,i]=U.useState([]);return U.useEffect(()=>{let a=!1;return iH(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function hH({page:t,matches:e,...n}){let r=Pa(),{manifest:i,routeModules:a}=Hj(),{basename:s}=Bj(),{loaderData:u,matches:c}=uH(),f=U.useMemo(()=>JO(t,e,c,i,r,"data"),[t,e,c,i,r]),h=U.useMemo(()=>JO(t,e,c,i,r,"assets"),[t,e,c,i,r]),p=U.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,E=!1;if(e.forEach(A=>{var C;let O=i.routes[A.route.id];!O||!O.hasLoader||(!f.some(P=>P.route.id===A.route.id)&&A.route.id in u&&((C=a[A.route.id])!=null&&C.shouldRevalidate)||O.hasClientLoader?E=!0:S.add(A.route.id))}),S.size===0)return[];let x=tH(t,s,"data");return E&&S.size>0&&x.searchParams.set("_routes",e.filter(A=>S.has(A.route.id)).map(A=>A.route.id).join(",")),[x.pathname+x.search]},[s,u,r,i,f,e,t,a]),g=U.useMemo(()=>aH(h,i),[h,i]),b=dH(h);return U.createElement(U.Fragment,null,p.map(S=>U.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),g.map(S=>U.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),b.map(({key:S,link:E})=>U.createElement("link",{key:S,nonce:n.nonce,...E})))}function pH(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var mH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mH&&(window.__reactRouterVersion="7.11.0")}catch{}function gH({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=U.useRef();i.current==null&&(i.current=J6({window:r,v5Compat:!0}));let a=i.current,[s,u]=U.useState({action:a.action,location:a.location}),c=U.useCallback(f=>{n===!1?u(f):U.startTransition(()=>u(f))},[n]);return U.useLayoutEffect(()=>a.listen(c),[a,c]),U.createElement(G8,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:n})}var zj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,It=U.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:u,target:c,to:f,preventScrollReset:h,viewTransition:p,unstable_defaultShouldRevalidate:g,...b},S){let{basename:E,unstable_useTransitions:x}=U.useContext(Sr),A=typeof f=="string"&&zj.test(f),O=Nj(f,E);f=O.to;let C=P8(f,{relative:i}),[P,R,N]=cH(r,b),I=_H(f,{replace:s,state:u,target:c,preventScrollReset:h,relative:i,viewTransition:p,unstable_defaultShouldRevalidate:g,unstable_useTransitions:x});function D(V){e&&e(V),V.defaultPrevented||I(V)}let L=U.createElement("a",{...b,...N,href:O.absoluteURL||C,onClick:O.isExternal||a?e:D,ref:pH(S,R),target:c,"data-discover":!A&&n==="render"?"true":void 0});return P&&!A?U.createElement(U.Fragment,null,L,U.createElement(fH,{page:C})):L});It.displayName="Link";var vH=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:u,children:c,...f},h){let p=hf(s,{relative:f.relative}),g=Pa(),b=U.useContext(Gp),{navigator:S,basename:E}=U.useContext(Sr),x=b!=null&&TH(p)&&u===!0,A=S.encodeLocation?S.encodeLocation(p).pathname:p.pathname,O=g.pathname,C=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(O=O.toLowerCase(),C=C?C.toLowerCase():null,A=A.toLowerCase()),C&&E&&(C=ji(C,E)||C);const P=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let R=O===A||!i&&O.startsWith(A)&&O.charAt(P)==="/",N=C!=null&&(C===A||!i&&C.startsWith(A)&&C.charAt(A.length)==="/"),I={isActive:R,isPending:N,isTransitioning:x},D=R?e:void 0,L;typeof r=="function"?L=r(I):L=[r,R?"active":null,N?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(I):a;return U.createElement(It,{...f,"aria-current":D,className:L,ref:h,style:V,to:s,viewTransition:u},typeof c=="function"?c(I):c)});vH.displayName="NavLink";var yH=U.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=wh,action:u,onSubmit:c,relative:f,preventScrollReset:h,viewTransition:p,unstable_defaultShouldRevalidate:g,...b},S)=>{let{unstable_useTransitions:E}=U.useContext(Sr),x=SH(),A=EH(u,{relative:f}),O=s.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&zj.test(u),P=R=>{if(c&&c(R),R.defaultPrevented)return;R.preventDefault();let N=R.nativeEvent.submitter,I=(N==null?void 0:N.getAttribute("formmethod"))||s,D=()=>x(N||R.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:i,state:a,relative:f,preventScrollReset:h,viewTransition:p,unstable_defaultShouldRevalidate:g});E&&n!==!1?U.startTransition(()=>D()):D()};return U.createElement("form",{ref:S,method:O,action:A,onSubmit:r?c:P,...b,"data-discover":!C&&t==="render"?"true":void 0})});yH.displayName="Form";function bH(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vj(t){let e=U.useContext(Pl);return At(e,bH(t)),e}function _H(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:u,unstable_useTransitions:c}={}){let f=df(),h=Pa(),p=hf(t,{relative:a});return U.useCallback(g=>{if(X8(g,e)){g.preventDefault();let b=n!==void 0?n:vc(h)===vc(p),S=()=>f(t,{replace:b,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:u});c?U.startTransition(()=>S()):S()}},[h,f,p,n,r,e,t,i,a,s,u,c])}var xH=0,wH=()=>`__${String(++xH)}__`;function SH(){let{router:t}=Vj("useSubmit"),{basename:e}=U.useContext(Sr),n=B8(),r=t.fetch,i=t.navigate;return U.useCallback(async(a,s={})=>{let{action:u,method:c,encType:f,formData:h,body:p}=eH(a,e);if(s.navigate===!1){let g=s.fetcherKey||wH();await r(g,n,s.action||u,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||c,formEncType:s.encType||f,flushSync:s.flushSync})}else await i(s.action||u,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||c,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,e,n])}function EH(t,{relative:e}={}){let{basename:n}=U.useContext(Sr),r=U.useContext(ni);At(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...hf(t||".",{relative:e})},s=Pa();if(t==null){a.search=s.search;let u=new URLSearchParams(a.search),c=u.getAll("index");if(c.some(h=>h==="")){u.delete("index"),c.filter(p=>p).forEach(p=>u.append("index",p));let h=u.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ii([n,a.pathname])),vc(a)}function TH(t,{relative:e}={}){let n=U.useContext(Ij);At(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Vj("useViewTransitionState"),i=hf(t,{relative:e});if(!n.isTransitioning)return!1;let a=ji(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=ji(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Rh(i.pathname,s)!=null||Rh(i.pathname,a)!=null}function Kp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function AH(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function u(h){try{f(r.next(h))}catch(p){s(p)}}function c(h){try{f(r.throw(h))}catch(p){s(p)}}function f(h){h.done?a(h.value):i(h.value).then(u,c)}f((r=r.apply(t,e||[])).next())})}const CH=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class nE extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class OH extends nE{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class XO extends nE{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class QO extends nE{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var $x;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})($x||($x={}));class RH{constructor(e,{headers:n={},customFetch:r,region:i=$x.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=CH(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return AH(this,arguments,void 0,function*(n,r={}){var i;let a,s;try{const{headers:u,method:c,body:f,signal:h,timeout:p}=r;let g={},{region:b}=r;b||(b=this.region);const S=new URL(`${this.url}/${n}`);b&&b!=="any"&&(g["x-region"]=b,S.searchParams.set("forceFunctionRegion",b));let E;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",E=f):typeof f=="string"?(g["Content-Type"]="text/plain",E=f):typeof FormData<"u"&&f instanceof FormData?E=f:(g["Content-Type"]="application/json",E=JSON.stringify(f)):E=f;let x=h;p&&(s=new AbortController,a=setTimeout(()=>s.abort(),p),h?(x=s.signal,h.addEventListener("abort",()=>s.abort())):x=s.signal);const A=yield this.fetch(S.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),u),body:E,signal:x}).catch(R=>{throw new OH(R)}),O=A.headers.get("x-relay-error");if(O&&O==="true")throw new XO(A);if(!A.ok)throw new QO(A);let C=((i=A.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),P;return C==="application/json"?P=yield A.json():C==="application/octet-stream"||C==="application/pdf"?P=yield A.blob():C==="text/event-stream"?P=A:C==="multipart/form-data"?P=yield A.formData():P=yield A.text(),{data:P,error:null,response:A}}catch(u){return{data:null,error:u,response:u instanceof QO||u instanceof XO?u.context:void 0}}finally{a&&clearTimeout(a)}})}}var PH=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},NH=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let s=null,u=null,c=null,f=a.status,h=a.statusText;if(a.ok){var p,g;if(n.method!=="HEAD"){var b;const A=await a.text();A===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((b=n.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?u=A:u=JSON.parse(A))}const E=(p=n.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),x=(g=a.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");E&&x&&x.length>1&&(c=parseInt(x[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(u)&&(u.length>1?(s={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,c=null,f=406,h="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var S;const E=await a.text();try{s=JSON.parse(E),Array.isArray(s)&&a.status===404&&(u=[],s=null,f=200,h="OK")}catch{a.status===404&&E===""?(f=204,h="No Content"):s={message:E}}if(s&&n.isMaybeSingle&&(!(s==null||(S=s.details)===null||S===void 0)&&S.includes("0 rows"))&&(s=null,f=200,h="OK"),s&&n.shouldThrowOnError)throw new PH(s)}return{error:s,data:u,count:c,status:f,statusText:h}});return this.shouldThrowOnError||(i=i.catch(a=>{var s;let u="";const c=a==null?void 0:a.cause;if(c){var f,h,p,g;const S=(f=c==null?void 0:c.message)!==null&&f!==void 0?f:"",E=(h=c==null?void 0:c.code)!==null&&h!==void 0?h:"";u=`${(p=a==null?void 0:a.name)!==null&&p!==void 0?p:"FetchError"}: ${a==null?void 0:a.message}`,u+=`

Caused by: ${(g=c==null?void 0:c.name)!==null&&g!==void 0?g:"Error"}: ${S}`,E&&(u+=` (${E})`),c!=null&&c.stack&&(u+=`
${c.stack}`)}else{var b;u=(b=a==null?void 0:a.stack)!==null&&b!==void 0?b:""}return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},MH=class extends NH{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:a="text"}={}){var s;const u=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${u};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const ZO=new RegExp("[,()]");var Ns=class extends MH{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&ZO.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&ZO.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},IH=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let a=!1;const s=(t??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",s),r&&this.headers.append("Prefer",`count=${r}`),new Ns({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((s,u)=>s.concat(Object.keys(u)),[]);if(a.length>0){const s=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",s.join(","))}}return new Ns({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var a;const s="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(u.length>0){const c=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ns({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:e}={}){var n;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Ns({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Ns({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},kH=class Gj{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new IH(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Gj(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:a}={}){var s;let u;const c=new URL(`${this.url}/rpc/${e}`);let f;r||i?(u=r?"HEAD":"GET",Object.entries(n).filter(([p,g])=>g!==void 0).map(([p,g])=>[p,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([p,g])=>{c.searchParams.append(p,g)})):(u="POST",f=n);const h=new Headers(this.headers);return a&&h.set("Prefer",`count=${a}`),new Ns({method:u,url:c,headers:h,schema:this.schemaName,body:f,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};class DH{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const LH="2.89.0",jH=`realtime-js/${LH}`,Fj="1.0.0",UH="2.0.0",eR=Fj,qx=1e4,$H=1e3,qH=100;var xa;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(xa||(xa={}));var Gt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Gt||(Gt={}));var kr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(kr||(kr={}));var Bx;(function(t){t.websocket="websocket"})(Bx||(Bx={}));var co;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(co||(co={}));class BH{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(e,n,r){var i,a;const s=e.topic,u=(i=e.ref)!==null&&i!==void 0?i:"",c=(a=e.join_ref)!==null&&a!==void 0?a:"",f=e.payload.event,h=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},p=Object.keys(h).length===0?"":JSON.stringify(h);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+u.length+s.length+f.length+p.length,b=new ArrayBuffer(this.HEADER_LENGTH+g);let S=new DataView(b),E=0;S.setUint8(E++,this.KINDS.userBroadcastPush),S.setUint8(E++,c.length),S.setUint8(E++,u.length),S.setUint8(E++,s.length),S.setUint8(E++,f.length),S.setUint8(E++,p.length),S.setUint8(E++,n),Array.from(c,A=>S.setUint8(E++,A.charCodeAt(0))),Array.from(u,A=>S.setUint8(E++,A.charCodeAt(0))),Array.from(s,A=>S.setUint8(E++,A.charCodeAt(0))),Array.from(f,A=>S.setUint8(E++,A.charCodeAt(0))),Array.from(p,A=>S.setUint8(E++,A.charCodeAt(0)));var x=new Uint8Array(b.byteLength+r.byteLength);return x.set(new Uint8Array(b),0),x.set(new Uint8Array(r),b.byteLength),x.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,a,s,u,c]=r;return n({join_ref:i,ref:a,topic:s,event:u,payload:c})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2),s=n.getUint8(3),u=n.getUint8(4);let c=this.HEADER_LENGTH+4;const f=r.decode(e.slice(c,c+i));c=c+i;const h=r.decode(e.slice(c,c+a));c=c+a;const p=r.decode(e.slice(c,c+s));c=c+s;const g=e.slice(c,e.byteLength),b=u===this.JSON_ENCODING?JSON.parse(r.decode(g)):g,S={type:this.BROADCAST_EVENT,event:h,payload:b};return s>0&&(S.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class Kj{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ct;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ct||(ct={}));const tR=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,s)=>(a[s]=HH(s,t,e,i),a),{}):{}},HH=(t,e,n,r)=>{const i=e.find(u=>u.name===t),a=i==null?void 0:i.type,s=n[t];return a&&!r.includes(a)?Wj(a,s):Hx(s)},Wj=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return FH(e,n)}switch(t){case ct.bool:return zH(e);case ct.float4:case ct.float8:case ct.int2:case ct.int4:case ct.int8:case ct.numeric:case ct.oid:return VH(e);case ct.json:case ct.jsonb:return GH(e);case ct.timestamp:return KH(e);case ct.abstime:case ct.date:case ct.daterange:case ct.int4range:case ct.int8range:case ct.money:case ct.reltime:case ct.text:case ct.time:case ct.timestamptz:case ct.timetz:case ct.tsrange:case ct.tstzrange:return Hx(e);default:return Hx(e)}},Hx=t=>t,zH=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},VH=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},GH=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},FH=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const s=t.slice(1,n);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(u=>Wj(e,u))}return t},KH=t=>typeof t=="string"?t.replace(" ","T"):t,Yj=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class hy{constructor(e,n,r={},i=qx){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var nR;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(nR||(nR={}));class lc{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:s,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lc.syncState(this.state,i,a,s),this.pendingDiffs.forEach(c=>{this.state=lc.syncDiff(this.state,c,a,s)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=lc.syncDiff(this.state,i,a,s),u())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),s=this.transformState(n),u={},c={};return this.map(a,(f,h)=>{s[f]||(c[f]=h)}),this.map(s,(f,h)=>{const p=a[f];if(p){const g=h.map(x=>x.presence_ref),b=p.map(x=>x.presence_ref),S=h.filter(x=>b.indexOf(x.presence_ref)<0),E=p.filter(x=>g.indexOf(x.presence_ref)<0);S.length>0&&(u[f]=S),E.length>0&&(c[f]=E)}else u[f]=h}),this.syncDiff(a,{joins:u,leaves:c},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(u,c)=>{var f;const h=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(c),h.length>0){const p=e[u].map(b=>b.presence_ref),g=h.filter(b=>p.indexOf(b.presence_ref)<0);e[u].unshift(...g)}r(u,h,c)}),this.map(s,(u,c)=>{let f=e[u];if(!f)return;const h=c.map(p=>p.presence_ref);f=f.filter(p=>h.indexOf(p.presence_ref)<0),e[u]=f,i(u,f,c),f.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var rR;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(rR||(rR={}));var uc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(uc||(uc={}));var Ci;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ci||(Ci={}));class Ds{constructor(e,n={config:{}},r){var i,a;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new hy(this,kr.join,this.params,this.timeout),this.rejoinTimer=new Kj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Gt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kr.reply,{},(s,u)=>{this._trigger(this._replyEventName(u),s)}),this.presence=new lc(this),this.broadcastEndpointURL=Yj(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Gt.closed){const{config:{broadcast:s,presence:u,private:c}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[uc.PRESENCE]&&this.bindings[uc.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},g={broadcast:s,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:f,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(Ci.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(Ci.CLOSED)),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){e==null||e(Ci.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,x=(S=E==null?void 0:E.length)!==null&&S!==void 0?S:0,A=[];for(let O=0;O<x;O++){const C=E[O],{filter:{event:P,schema:R,table:N,filter:I}}=C,D=b&&b[O];if(D&&D.event===P&&Ds.isFilterValueEqual(D.schema,R)&&Ds.isFilterValueEqual(D.table,N)&&Ds.isFilterValueEqual(D.filter,I))A.push(Object.assign(Object.assign({},C),{id:D.id}));else{this.unsubscribe(),this.state=Gt.errored,e==null||e(Ci.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(Ci.SUBSCRIBED);return}}).receive("error",b=>{this.state=Gt.errored,e==null||e(Ci.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ci.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Gt.joined&&e===uc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let c=u.statusText;try{const f=await u.json();c=f.error||f.message||c}catch{}return Promise.reject(new Error(c))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=e,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,u,c;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(u=(s=this.params)===null||s===void 0?void 0:s.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Gt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new hy(this,kr.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Gt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new hy(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>qH){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const s=e.toLocaleLowerCase(),{close:u,error:c,leave:f,join:h}=kr;if(r&&[u,c,f,h].indexOf(s)>=0&&r!==this._joinRef())return;let g=this._onMessage(s,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var S,E,x;return((S=b.filter)===null||S===void 0?void 0:S.event)==="*"||((x=(E=b.filter)===null||E===void 0?void 0:E.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===s}).map(b=>b.callback(g,r)):(a=this.bindings[s])===null||a===void 0||a.filter(b=>{var S,E,x,A,O,C;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in b){const P=b.id,R=(S=b.filter)===null||S===void 0?void 0:S.event;return P&&((E=n.ids)===null||E===void 0?void 0:E.includes(P))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const P=(O=(A=b==null?void 0:b.filter)===null||A===void 0?void 0:A.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return P==="*"||P===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===s}).map(b=>{if(typeof g=="object"&&"ids"in g){const S=g.data,{schema:E,table:x,commit_timestamp:A,type:O,errors:C}=S;g=Object.assign(Object.assign({},{schema:E,table:x,commit_timestamp:A,eventType:O,new:{},old:{},errors:C}),this._getPayloadRecords(S))}b.callback(g,r)})}_isClosed(){return this.state===Gt.closed}_isJoined(){return this.state===Gt.joined}_isJoining(){return this.state===Gt.joining}_isLeaving(){return this.state===Gt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Ds.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(kr.close,{},e)}_onError(e){this._on(kr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Gt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=tR(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=tR(e.columns,e.old_record)),n}}const py=()=>{},Vd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},WH=[1e3,2e3,5e3,1e4],YH=1e4,JH=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class XH{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=qx,this.transport=null,this.heartbeatIntervalMs=Vd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=py,this.ref=0,this.reconnectTimer=null,this.vsn=eR,this.logger=py,this.conn=null,this.sendBuffer=[],this.serializer=new BH,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Bx.websocket}`,this.httpEndpoint=Yj(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=DH.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case xa.connecting:return co.Connecting;case xa.open:return co.Open;case xa.closing:return co.Closing;default:return co.Closed}}isConnected(){return this.connectionState()===co.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new Ds(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,s=()=>{this.encode(e,u=>{var c;(c=this.conn)===null||c===void 0||c.send(u)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close($H,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Vd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:s}=n,u=s?`(${s})`:"",c=a.status||"";this.log("receive",`${c} ${r} ${i} ${u}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,a,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===xa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===xa.open||this.conn.readyState===xa.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(kr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([JH],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const a={access_token:n,version:jH};n&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(kr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Kj(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,a,s,u,c,f,h,p,g,b;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:qx,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Vd.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=e==null?void 0:e.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:py,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:eR,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:(S=>WH[S-1]||YH),this.vsn){case Fj:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:((S,E)=>E(JSON.stringify(S))),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:((S,E)=>E(JSON.parse(S)));break;case UH:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var yc=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function QH(t,e,n){const r=new URL(e,t);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function ZH(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function ez(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:s}){const u=QH(t.baseUrl,r,i),c=await ZH(t.auth),f=await e(u,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...c,...s},body:a?JSON.stringify(a):void 0}),h=await f.text(),p=(f.headers.get("content-type")||"").includes("application/json"),g=p&&h?JSON.parse(h):h;if(!f.ok){const b=p?g:void 0,S=b==null?void 0:b.error;throw new yc((S==null?void 0:S.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:S==null?void 0:S.type,icebergCode:S==null?void 0:S.code,details:b})}return{status:f.status,headers:f.headers,data:g}}}}function Gd(t){return t.join("")}var tz=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Gd(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Gd(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gd(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Gd(t.namespace)}`}),!0}catch(e){if(e instanceof yc&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof yc&&n.status===409)return;throw n}}};function ws(t){return t.join("")}var nz=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ws(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ws(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ws(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ws(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ws(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ws(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof yc&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof yc&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},rz=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=ez({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new tz(this.client,e),this.tableOps=new nz(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Wp=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Et(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var iz=class extends Wp{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},zx=class extends Wp{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const rE=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),az=()=>Response,Vx=t=>{if(Array.isArray(t))return t.map(n=>Vx(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Vx(r)}),e},oz=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},sz=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}function lz(t,e){if(bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uz(t){var e=lz(t,"string");return bc(e)=="symbol"?e:e+""}function cz(t,e,n){return(e=uz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Te(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){cz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const my=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},fz=async(t,e,n)=>{t instanceof await az()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const i=t.status||500,a=(r==null?void 0:r.statusCode)||i+"";e(new iz(my(r),i,a))}).catch(r=>{e(new zx(my(r),r))}):e(new zx(my(t),t))},dz=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(oz(r)?(i.headers=Te({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Te(Te({},i),n))};async function pf(t,e,n,r,i,a){return new Promise((s,u)=>{t(n,dz(e,r,i,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>fz(c,u,r))})}async function _c(t,e,n,r){return pf(t,"GET",e,n,r)}async function Ir(t,e,n,r,i){return pf(t,"POST",e,r,i,n)}async function Gx(t,e,n,r,i){return pf(t,"PUT",e,r,i,n)}async function hz(t,e,n,r){return pf(t,"HEAD",e,Te(Te({},n),{},{noResolveJson:!0}),r)}async function iE(t,e,n,r,i){return pf(t,"DELETE",e,r,i,n)}var pz=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Et(e))return{data:null,error:e};throw e}}};let Jj;Jj=Symbol.toStringTag;var mz=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Jj]="BlobDownloadBuilder",this.promise=null}asStream(){return new pz(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Et(e))return{data:null,error:e};throw e}}};const gz={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},aR={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var vz=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=rE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var i=this;try{let a;const s=Te(Te({},aR),r);let u=Te(Te({},i.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",i.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),c&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(c))):(a=n,u["cache-control"]=`max-age=${s.cacheControl}`,u["content-type"]=s.contentType,c&&(u["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),r!=null&&r.headers&&(u=Te(Te({},u),r.headers));const f=i._removeEmptyFolders(e),h=i._getFinalPath(f),p=await(t=="PUT"?Gx:Ir)(i.fetch,`${i.url}/object/${h}`,a,Te({headers:u},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Et(a))return{data:null,error:a};throw a}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const a=i._removeEmptyFolders(t),s=i._getFinalPath(a),u=new URL(i.url+`/object/upload/sign/${s}`);u.searchParams.set("token",e);try{let c;const f=Te({upsert:aR.upsert},r),h=Te(Te({},i.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",f.cacheControl)):(c=n,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType),{data:{path:a,fullPath:(await Gx(i.fetch,u.toString(),c,{headers:h})).Key},error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Et(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const i=Te({},n.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const a=await Ir(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(n.url+a.url),u=s.searchParams.get("token");if(!u)throw new Wp("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:u},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await Ir(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}async copy(t,e,n){var r=this;try{return{data:{path:(await Ir(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var r=this;try{let i=r._getFinalPath(t),a=await Ir(r.fetch,`${r.url}/object/sign/${i}`,Te({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${r.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var r=this;try{const i=await Ir(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Te(Te({},s),{},{signedUrl:s.signedURL?encodeURI(`${r.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=r?`?${r}`:"",a=this._getFinalPath(t),s=()=>_c(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new mz(s,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:Vx(await _c(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await hz(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Et(r)&&r instanceof zx){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const a=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});s!==""&&r.push(s);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}async remove(t){var e=this;try{return{data:await iE(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const i=Te(Te(Te({},gz),e),{},{prefix:t||""});return{data:await Ir(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const r=Te({},t);return{data:await Ir(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Xj="2.89.0",Qj={"X-Client-Info":`storage-js/${Xj}`};var yz=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Te(Te({},Qj),e),this.fetch=rE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await _c(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await _c(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await Ir(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await Gx(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await Ir(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await iE(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},bz=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Te(Te({},Qj),e),this.fetch=rE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Ir(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await _c(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await iE(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!sz(t))throw new Wp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new rz({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,a){const s=i[a];return typeof s!="function"?s:async(...u)=>{try{return{data:await s.apply(i,u),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}};const aE={"X-Client-Info":`storage-js/${Xj}`,"Content-Type":"application/json"};var Zj=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Kn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var gy=class extends Zj{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},_z=class extends Zj{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const oE=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),xz=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},oR=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),wz=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,i=t;if(typeof i.json=="function")i.json().then(a=>{const s=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||r+"";e(new gy(oR(a),r,s))}).catch(()=>{const a=r+"";e(new gy(i.statusText||`HTTP ${r} error`,r,a))});else{const a=r+"";e(new gy(i.statusText||`HTTP ${r} error`,r,a))}}else e(new _z(oR(t),t))},Sz=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(xz(r)?(i.headers=Te({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Te(Te({},i),n)):i};async function Ez(t,e,n,r,i,a){return new Promise((s,u)=>{t(n,Sz(e,r,i,a)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const f=c.headers.get("content-type");return!f||!f.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>wz(c,u,r))})}async function Wn(t,e,n,r,i){return Ez(t,"POST",e,r,i,n)}var Tz=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Te(Te({},aE),e),this.fetch=oE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Wn(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Wn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Kn(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await Wn(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Wn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Kn(r))return{data:null,error:r};throw r}}},Az=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Te(Te({},aE),e),this.fetch=oE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Wn(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Wn(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Wn(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Wn(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Wn(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}}},Cz=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Te(Te({},aE),e),this.fetch=oE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Wn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Wn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Wn(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Wn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}}},Oz=class extends Cz{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new Rz(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},Rz=class extends Tz{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new Pz(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Pz=class extends Az{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Nz=class extends yz{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new vz(this.url,this.headers,t,this.fetch)}get vectors(){return new Oz(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new bz(this.url+"/iceberg",this.headers,this.fetch)}};const eU="2.89.0",Ms=30*1e3,Fx=3,vy=Fx*Ms,Mz="http://localhost:9999",Iz="supabase.auth.token",kz={"X-Client-Info":`gotrue-js/${eU}`},Kx="X-Supabase-Api-Version",tU={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Dz=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Lz=600*1e3;class xc extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function be(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class jz extends xc{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Uz(t){return be(t)&&t.name==="AuthApiError"}class fo extends xc{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class zi extends xc{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Vn extends zi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $z(t){return be(t)&&t.name==="AuthSessionMissingError"}class Ss extends zi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fd extends zi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Kd extends zi{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qz(t){return be(t)&&t.name==="AuthImplicitGrantRedirectError"}class sR extends zi{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bz extends zi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Wx extends zi{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function yy(t){return be(t)&&t.name==="AuthRetryableFetchError"}class lR extends zi{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Yx extends zi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ph="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),uR=` 	
\r=`.split(""),Hz=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<uR.length;e+=1)t[uR[e].charCodeAt(0)]=-2;for(let e=0;e<Ph.length;e+=1)t[Ph[e].charCodeAt(0)]=e;return t})();function cR(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ph[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ph[r]),e.queuedBits-=6}}function nU(t,e,n){const r=Hz[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function fR(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{Gz(s,r,n)};for(let s=0;s<t.length;s+=1)nU(t.charCodeAt(s),i,a);return e.join("")}function zz(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Vz(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}zz(r,e)}}function Gz(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Fs(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)nU(t.charCodeAt(i),n,r);return new Uint8Array(e)}function Fz(t){const e=[];return Vz(t,n=>e.push(n)),new Uint8Array(e)}function mo(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>cR(i,n,r)),cR(null,n,r),e.join("")}function Kz(t){return Math.round(Date.now()/1e3)+t}function Wz(){return Symbol("auth-callback")}const sn=()=>typeof window<"u"&&typeof document<"u",to={tested:!1,writable:!1},rU=()=>{if(!sn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(to.tested)return to.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),to.tested=!0,to.writable=!0}catch{to.tested=!0,to.writable=!1}return to.writable};function Yz(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const iU=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Jz=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Is=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},no=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},on=async(t,e)=>{await t.removeItem(e)};class Yp{constructor(){this.promise=new Yp.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Yp.promiseConstructor=Promise;function by(t){const e=t.split(".");if(e.length!==3)throw new Yx("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Dz.test(e[r]))throw new Yx("JWT not in base64url format");return{header:JSON.parse(fR(e[0])),payload:JSON.parse(fR(e[1])),signature:Fs(e[2]),raw:{header:e[0],payload:e[1]}}}async function Xz(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Qz(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){r(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function Zz(t){return("0"+t.toString(16)).substr(-2)}function eV(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Zz).join("")}async function tV(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function nV(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await tV(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Es(t,e,n=!1){const r=eV();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Is(t,`${e}-code-verifier`,i);const a=await nV(r);return[a,r===a?"plain":"s256"]}const rV=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iV(t){const e=t.headers.get(Kx);if(!e||!e.match(rV))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function aV(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function oV(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const sV=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ts(t){if(!sV.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _y(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function lV(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function dR(t){return JSON.parse(JSON.stringify(t))}const oo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),uV=[502,503,504];async function hR(t){var e;if(!Jz(t))throw new Wx(oo(t),0);if(uV.includes(t.status))throw new Wx(oo(t),t.status);let n;try{n=await t.json()}catch(a){throw new fo(oo(a),a)}let r;const i=iV(t);if(i&&i.getTime()>=tU["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new lR(oo(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Vn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new lR(oo(n),t.status,n.weak_password.reasons);throw new jz(oo(n),t.status||500,r)}const cV=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ee(t,e,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[Kx]||(a[Kx]=tU["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const s=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const u=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await fV(t,e,n+u,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function fV(t,e,n,r,i,a){const s=cV(e,r,i,a);let u;try{u=await t(n,Object.assign({},s))}catch(c){throw console.error(c),new Wx(oo(c),0)}if(u.ok||await hR(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(c){await hR(c)}}function Nr(t){var e;let n=null;pV(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Kz(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function pR(t){const e=Nr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ea(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function dV(t){return{data:t,error:null}}function hV(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,s=Kp(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},c=Object.assign({},s);return{data:{properties:u,user:c},error:null}}function mR(t){return t}function pV(t){return t.access_token&&t.refresh_token&&t.expires_in}const xy=["global","local","others"];class mV{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=iU(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=xy[0]){if(xy.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xy.join(", ")}`);try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ea})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Kp(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:hV,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(be(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ea})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,s,u,c;try{const f={nextPage:null,lastPage:0,total:0},h=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:mR});if(h.error)throw h.error;const p=await h.json(),g=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,b=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return b.length>0&&(b.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(S.split(";")[1].split("=")[1]);f[`${x}Page`]=E}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(be(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Ts(e);try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ea})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ts(e);try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ea})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Ts(e);try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ea})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ts(e.userId);try{const{data:n,error:r}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ts(e.userId),Ts(e.id);try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,a,s,u,c;try{const f={nextPage:null,lastPage:0,total:0},h=await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:mR});if(h.error)throw h.error;const p=await h.json(),g=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,b=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return b.length>0&&(b.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(S.split(";")[1].split("=")[1]);f[`${x}Page`]=E}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(be(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}}function gR(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const As={debug:!!(globalThis&&rU()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class aU extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class gV extends aU{}async function vV(t,e,n){As.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),As.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){As.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{As.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw As.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new gV(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(As.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function yV(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function oU(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function bV(t){return parseInt(t,16)}function _V(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function xV(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:u,requestId:c,resources:f,scheme:h,uri:p,version:g}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=oU(t.address),S=h?`${h}://${r}`:r,E=t.statement?`${t.statement}
`:"",x=`${S} wants you to sign in with your Ethereum account:
${b}

${E}`;let A=`URI: ${p}
Version: ${g}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(A+=`
Expiration Time: ${i.toISOString()}`),u&&(A+=`
Not Before: ${u.toISOString()}`),c&&(A+=`
Request ID: ${c}`),f){let O=`
Resources:`;for(const C of f){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);O+=`
- ${C}`}A+=O}return`${x}
${A}`}class $t extends Error{constructor({message:e,code:n,cause:r,name:i}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Nh extends $t{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function wV({error:t,options:e}){var n,r,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new $t({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new $t({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new $t({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new $t({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new $t({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new $t({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new $t({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new $t({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(sU(s)){if(a.rp.id!==s)return new $t({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new $t({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new $t({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new $t({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new $t({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function SV({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new $t({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new $t({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(sU(r)){if(n.rpId!==r)return new $t({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new $t({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new $t({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new $t({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class EV{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const TV=new EV;function AV(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=Kp(t,["challenge","user","excludeCredentials"]),a=Fs(e).buffer,s=Object.assign(Object.assign({},n),{id:Fs(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:a,user:s});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const f=r[c];u.excludeCredentials[c]=Object.assign(Object.assign({},f),{id:Fs(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function CV(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Kp(t,["challenge","allowCredentials"]),i=Fs(e).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const u=n[s];a.allowCredentials[s]=Object.assign(Object.assign({},u),{id:Fs(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function OV(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:mo(new Uint8Array(t.response.attestationObject)),clientDataJSON:mo(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function RV(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:mo(new Uint8Array(i.authenticatorData)),clientDataJSON:mo(new Uint8Array(i.clientDataJSON)),signature:mo(new Uint8Array(i.signature)),userHandle:i.userHandle?mo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function sU(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function vR(){var t,e;return!!(sn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function PV(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Nh("Browser returned unexpected credential type",e)}:{data:null,error:new Nh("Empty credential response",e)}}catch(e){return{data:null,error:wV({error:e,options:t})}}}async function NV(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Nh("Browser returned unexpected credential type",e)}:{data:null,error:new Nh("Empty credential response",e)}}catch(e){return{data:null,error:SV({error:e,options:t})}}}const MV={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},IV={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Mh(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))r[a]=s;else if(n(s))r[a]=s;else if(e(s)){const u=r[a];e(u)?r[a]=Mh(u,s):r[a]=Mh(s)}else r[a]=s}return r}function kV(t,e){return Mh(MV,t,e||{})}function DV(t,e){return Mh(IV,t,e||{})}class LV{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},a){try{const{data:s,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!s)return{data:null,error:u};const c=i??TV.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:f}=s.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(s.webauthn.type){case"create":{const f=kV(s.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:h,error:p}=await PV({publicKey:f,signal:c});return h?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const f=DV(s.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:h,error:p}=await NV(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:f,signal:c}));return h?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(s){return be(s)?{data:null,error:s}:{data:null,error:new fo("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new xc("rpId is required for WebAuthn authentication")};try{if(!vR())return{data:null,error:new fo("Browser does not support WebAuthn",null)};const{data:s,error:u}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!s)return{data:null,error:u};const{webauthn:c}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(s){return be(s)?{data:null,error:s}:{data:null,error:new fo("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new xc("rpId is required for WebAuthn registration")};try{if(!vR())return{data:null,error:new fo("Browser does not support WebAuthn",null)};const{data:s,error:u}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:c,error:f}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:f}}catch(s){return be(s)?{data:null,error:s}:{data:null,error:new fo("Unexpected error in register",s)}}}}yV();const jV={url:Mz,storageKey:Iz,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kz,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function yR(t,e,n){return await n()}const Cs={};class wc{get jwks(){var e,n;return(n=(e=Cs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Cs[this.storageKey]=Object.assign(Object.assign({},Cs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Cs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Cs[this.storageKey]=Object.assign(Object.assign({},Cs[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},jV),e);if(this.storageKey=a.storageKey,this.instanceID=(n=wc.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,wc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&sn()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new mV({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=iU(a.fetch),this.lock=a.lock||yR,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&sn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=vV:this.lock=yR,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new LV(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:rU()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gR(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=gR(this.memoryStorage)),sn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${eU}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(sn()&&(n=Yz(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),sn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),qz(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",u),await this._saveSession(s),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return be(n)?this._returnResult({error:n}):this._returnResult({error:new fo("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Nr}),{data:s,error:u}=a;if(u||!s)return this._returnResult({data:{user:null,session:null},error:u});const c=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(a){if(be(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:h,password:p,options:g}=e;let b=null,S=null;this.flowType==="pkce"&&([b,S]=await Es(this.storage,this.storageKey)),a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:p,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:b,code_challenge_method:S},xform:Nr})}else if("phone"in e){const{phone:h,password:p,options:g}=e;a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Nr})}else throw new Fd("You must provide either an email or phone number and a password");const{data:s,error:u}=a;if(u||!s)return await on(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const c=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(a){if(await on(this.storage,`${this.storageKey}-code-verifier`),be(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:s,options:u}=e;n=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:pR})}else if("phone"in e){const{phone:a,password:s,options:u}=e;n=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:pR})}else throw new Fd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Ss;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,a,s,u,c,f,h,p,g;let b,S;if("message"in e)b=e.message,S=e.signature;else{const{chain:E,wallet:x,statement:A,options:O}=e;let C;if(sn())if(typeof x=="object")C=x;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")C=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=x}const P=new URL((n=O==null?void 0:O.url)!==null&&n!==void 0?n:window.location.href),R=await C.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=oU(R[0]);let I=(r=O==null?void 0:O.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!I){const L=await C.request({method:"eth_chainId"});I=bV(L)}const D={domain:P.host,address:N,statement:A,uri:P.href,version:"1",chainId:I,nonce:(i=O==null?void 0:O.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=O==null?void 0:O.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(u=O==null?void 0:O.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(c=O==null?void 0:O.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(f=O==null?void 0:O.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(h=O==null?void 0:O.signInWithEthereum)===null||h===void 0?void 0:h.resources};b=xV(D),S=await C.request({method:"personal_sign",params:[_V(b),N]})}try{const{data:E,error:x}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:S},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Nr});if(x)throw x;if(!E||!E.session||!E.user){const A=new Ss;return this._returnResult({data:{user:null,session:null},error:A})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:x})}catch(E){if(be(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var n,r,i,a,s,u,c,f,h,p,g,b;let S,E;if("message"in e)S=e.message,E=e.signature;else{const{chain:x,wallet:A,statement:O,options:C}=e;let P;if(sn())if(typeof A=="object")P=A;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))P=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=A}const R=new URL((n=C==null?void 0:C.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const N=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),O?{statement:O}:null));let I;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")I=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)I=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)S=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),E=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${R.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(i=(r=C==null?void 0:C.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=C==null?void 0:C.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((s=C==null?void 0:C.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((u=C==null?void 0:C.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((c=C==null?void 0:C.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((f=C==null?void 0:C.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((p=(h=C==null?void 0:C.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...C.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const N=await P.signMessage(new TextEncoder().encode(S),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=N}}try{const{data:x,error:A}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:mo(E)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Nr});if(A)throw A;if(!x||!x.session||!x.user){const O=new Ss;return this._returnResult({data:{user:null,session:null},error:O})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:A})}catch(x){if(be(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const n=await no(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new Bz;const{data:a,error:s}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Nr});if(await on(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const u=new Ss;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(await on(this.storage,`${this.storageKey}-code-verifier`),be(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:s}=e,u=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Nr}),{data:c,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!c||!c.session||!c.user){const h=new Ss;return this._returnResult({data:{user:null,session:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:f})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,a,s;try{if("email"in e){const{email:u,options:c}=e;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await Es(this.storage,this.storageKey));const{error:p}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in e){const{phone:u,options:c}=e,{data:f,error:h}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h})}throw new Fd("You must provide either an email or phone number.")}catch(u){if(await on(this.storage,`${this.storageKey}-code-verifier`),be(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:u}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Nr});if(u)throw u;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,f=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(i){if(be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,a,s;try{let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Es(this.storage,this.storageKey));const f=await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:c}),headers:this.headers,xform:dV});return!((a=f.data)===null||a===void 0)&&a.url&&sn()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await on(this.storage,`${this.storageKey}-code-verifier`),be(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Vn;const{error:i}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(be(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:s}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:s,error:u}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:u})}throw new Fd("You must provide either an email or phone number and a type")}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await no(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<vy:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const s=await no(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=_y()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};e.user=lV(e.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ea}):await this._useSession(async n=>{var r,i,a;const{data:s,error:u}=n;if(u)throw u;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vn}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ea})})}catch(n){if(be(n))return $z(n)&&(await this._removeSession(),await on(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Vn;const s=i.session;let u=null,c=null;this.flowType==="pkce"&&e.email!=null&&([u,c]=await Es(this.storage,this.storageKey));const{data:f,error:h}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:c}),jwt:s.access_token,xform:Ea});if(h)throw h;return s.user=f.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(r){if(await on(this.storage,`${this.storageKey}-code-verifier`),be(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Vn;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:s}=by(e.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{data:u,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(be(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:u}=n;if(u)throw u;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Vn;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!sn())throw new Kd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Kd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new sR("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Kd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new sR("No code detected.");const{data:O,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:u,expires_at:c,token_type:f}=e;if(!a||!u||!s||!f)throw new Kd("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(u);let g=h+p;c&&(g=parseInt(c));const b=g-h;b*1e3<=Ms&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${p}s`);const S=g-p;h-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,g,h):h-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,g,h);const{data:E,error:x}=await this._getUser(a);if(x)throw x;const A={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:g,refresh_token:s,token_type:f,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:e.type},error:null})}catch(r){if(be(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await no(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:u}=await this.admin.signOut(s,e);if(u&&!(Uz(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await on(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=Wz(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Es(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await on(this.storage,`${this.storageKey}-code-verifier`),be(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var s,u,c,f,h;const{data:p,error:g}=a;if(g)throw g;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",b,{headers:this.headers,jwt:(h=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return sn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(be(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:s,provider:u,token:c,access_token:f,nonce:h}=e,p=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:c,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Nr}),{data:g,error:b}=p;return b?this._returnResult({data:{user:null,session:null},error:b}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new Ss}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:b}))}catch(i){if(await on(this.storage,`${this.storageKey}-code-verifier`),be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)throw s;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Qz(async i=>(i>0&&await Xz(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Nr})),(i,a)=>{const s=200*Math.pow(2,i);return a&&yy(a)&&Date.now()+s-r<Ms})}catch(r){if(this._debug(n,"error",r),be(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),sn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await no(this.storage,this.storageKey);if(i&&this.userStorage){let s=await no(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Is(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:_y()}else if(i&&!i.user&&!i.user){const s=await no(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await on(this.storage,this.storageKey+"-user"),await Is(this.storage,this.storageKey,i)):i.user=_y()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<vy;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${vy}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),yy(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:u}=await this._getUser(i.access_token);!u&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Vn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Yp;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new Vn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(i,"error",a),be(a)){const s={data:null,error:a};return yy(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(c){a.push(c)}});if(await Promise.all(s),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await on(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Is(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=dR(i);await Is(this.storage,this.storageKey,a)}else{const i=dR(n);await Is(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await on(this.storage,this.storageKey),await on(this.storage,this.storageKey+"-code-verifier"),await on(this.storage,this.storageKey+"-user"),this.userStorage&&await on(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&sn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ms);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Ms);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ms}ms, refresh threshold is ${Fx} ticks`),i<=Fx&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof aU)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!sn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,s]=await Es(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await Ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)return this._returnResult({data:null,error:s});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:f}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?OV(e.webauthn.credential_response):RV(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:c}=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:c}))})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(s.error)return s;const{data:u}=s;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:AV(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:CV(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=by(r.access_token);let s=null;a.aal&&(s=a.aal);let u=s;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const f=a.amr||[];return{data:{currentLevel:s,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Vn})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Vn});const s=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return s.data&&s.data.redirect_url&&sn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Vn});const s=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return s.data&&s.data.redirect_url&&sn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await Ee(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Vn})})}catch(e){if(be(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await Ee(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Vn})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(u=>u.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===e),r&&this.jwks_cached_at+Lz>i)return r;const{data:a,error:s}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(u=>u.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:b,error:S}=await this.getSession();if(S||!b.session)return this._returnResult({data:null,error:S});r=b.session.access_token}const{header:i,payload:a,signature:s,raw:{header:u,payload:c}}=by(r);n!=null&&n.allowExpired||aV(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:a,header:i,signature:s},error:null}}const h=oV(i.alg),p=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,s,Fz(`${u}.${c}`)))throw new Yx("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}}wc.nextInstanceID={};const UV=wc,$V="2.89.0";let Xu="";typeof Deno<"u"?Xu="deno":typeof document<"u"?Xu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xu="react-native":Xu="node";const qV={"X-Client-Info":`supabase-js-${Xu}/${$V}`},BV={headers:qV},HV={schema:"public"},zV={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},VV={};function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function GV(t,e){if(Sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FV(t){var e=GV(t,"string");return Sc(e)=="symbol"?e:e+""}function KV(t,e,n){return(e=FV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(n),!0).forEach(function(r){KV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const WV=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),YV=()=>Headers,JV=(t,e,n)=>{const r=WV(n),i=YV();return async(a,s)=>{var u;const c=(u=await e())!==null&&u!==void 0?u:t;let f=new i(s==null?void 0:s.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${c}`),r(a,Rt(Rt({},s),{},{headers:f}))}};function XV(t){return t.endsWith("/")?t:t+"/"}function QV(t,e){var n,r;const{db:i,auth:a,realtime:s,global:u}=t,{db:c,auth:f,realtime:h,global:p}=e,g={db:Rt(Rt({},c),i),auth:Rt(Rt({},f),a),realtime:Rt(Rt({},h),s),storage:{},global:Rt(Rt(Rt({},p),u),{},{headers:Rt(Rt({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function ZV(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(XV(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var eG=class extends UV{constructor(t){super(t)}},tG=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const a=ZV(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const s=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:HV,realtime:VV,auth:Rt(Rt({},zV),{},{storageKey:s}),global:BV},c=QV(n??{},u);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=c.auth)!==null&&f!==void 0?f:{},this.headers,c.global.fetch)}this.fetch=JV(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Rt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new kH(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Nz(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new RH(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:a,flowType:s,lock:u,debug:c,throwOnError:f},h,p){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new eG({url:this.authUrl.href,headers:Rt(Rt({},g),h),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:s,lock:u,debug:c,throwOnError:f,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new XH(this.realtimeUrl.href,Rt(Rt({},t),{},{params:Rt(Rt({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const nG=(t,e,n)=>new tG(t,e,n);function rG(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}rG()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const iG="https://dwbvegnxmyvpolvofkfn.supabase.co",aG="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR3YnZlZ254bXl2cG9sdm9ma2ZuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc1Mzg1NTUsImV4cCI6MjA4MzExNDU1NX0.eT5ZSce8H8Yk8pWKyLUYChU0HtmZljywP4eEQd5FkOI",De=nG(iG,aG),oG=t=>{let e=t.type,n=t.options,r;(t.title.includes("Qu partido")||t.title.includes("partido poltico"))&&((!e||e==="binary")&&(e="multiple_choice"),n=["PSOE","PP","Vox","Sumar","Podemos","Junts","ERC","PNV","Bildu","SALF (Alvise)"],r={PSOE:{pros:["Avance en derechos sociales.","Dilogo territorial."],cons:["Desgaste por la gestin.","Dependencia de socios independentistas."]},PP:{pros:["Experiencia de gestin econmica.","Defensa de la unidad nacional."],cons:["Pactos autonmicos con Vox.","Casos del pasado."]},Vox:{pros:["Defensa frrea de la nacin.","Control migratorio estricto."],cons:["Posturas polarizantes.","Rechazo al Estado de las Autonomas."]},Sumar:{pros:["Reduccin de jornada laboral.","Agenda verde."],cons:["Divisiones internas.","Falta de implantacin territorial."]},Podemos:{pros:["Valenta para cambios estructurales.","Defensa de lo pblico."],cons:["Conflictividad poltica.","Prdida de fuerza electoral."]},"SALF (Alvise)":{pros:["Lucha contra la 'partitocracia'.","Mensaje directo sin filtros."],cons:["Acusaciones de populismo.","Falta de estructura clara."]},Junts:{pros:["Defensa de intereses catalanes.","Papel decisivo en el Congreso."],cons:["Inestabilidad poltica.","Prioridad a la agenda identitaria."]},ERC:{pros:["Pragmatismo negociador.","Polticas sociales de izquierda."],cons:["Prdida de apoyo independentista.","Gestin autonmica cuestionada."]},PNV:{pros:["Defensa de los intereses del Pas Vasco.","Gestin pragmtica y pactista."],cons:["Contrario a los intereses nacionales.","Modelo conservador."]},Bildu:{pros:["Defensa de los intereses del Pas Vasco.","Polticas de izquierda soberanista."],cons:["Contrario a los intereses nacionales.","Vinculacin con el pasado de ETA."]}});const i={id:t.id,title:t.title,category:t.category,description:t.description,createdAt:new Date(t.created_at).getTime(),votes:{support:t.support_count||0,oppose:t.oppose_count||0,neutral:t.neutral_count||0},pros:t.pros||[],cons:t.cons||[],aiAnalysis:t.ai_analysis,hasVoted:t.hasVoted,regionalVotes:t.regionalVotes||{}};if(e==="multiple_choice"){const a=n||[],s=t.option_counts||{},u={};a.forEach(h=>{s[h]&&(u[h]=s[h])});const c=t.regional_options||{},f={};return Object.keys(c).forEach(h=>{const p=c[h],g={};a.forEach(b=>{p[b]&&(g[b]=p[b])}),Object.keys(g).length>0&&(f[h]=g)}),{...i,type:"multiple_choice",options:a,optionCounts:u,regionalOptionCounts:f,userVoteOption:null,optionDetails:r}}return{...i,type:"binary",options:t.options||[],labelSupport:t.label_support,labelOppose:t.label_oppose,userVoteOption:null}},_n={async fetchComments(t){const{data:e,error:n}=await De.from("comments_with_votes").select("*").eq("topic_id",t).order("created_at",{ascending:!1});if(n)throw n;const r=[...new Set(e.map(h=>h.user_id))];let i={};if(r.length>0){const{data:h}=await De.from("profiles").select("id, username").in("id",r);h==null||h.forEach(p=>{i[p.id]={username:p.username}})}const{data:{session:a}}=await De.auth.getSession();let s={};if(a!=null&&a.user){const h=e.map(p=>p.id);if(h.length>0){const{data:p}=await De.from("comment_votes").select("comment_id, vote_type").eq("user_id",a.user.id).in("comment_id",h);p==null||p.forEach(g=>{s[g.comment_id]=g.vote_type})}}const u=e.map(h=>{var b;const p=(b=i[h.user_id])==null?void 0:b.username,g="Ciudadano "+h.user_id.slice(0,4);return{id:h.id,topicId:t,userId:h.user_id,userName:p||g,avatar:h.avatar_url||`https://api.dicebear.com/7.x/avataaars/svg?seed=${h.user_id}`,content:h.content,region:h.region,createdAt:h.created_at,isFake:h.is_fake,upvotes:h.upvotes||0,downvotes:h.downvotes||0,userVote:s[h.id]||null,parentId:h.parent_id,replies:[]}}),c={};u.forEach(h=>c[h.id]=h);const f=[];return u.forEach(h=>{var p;h.parentId&&c[h.parentId]?(p=c[h.parentId].replies)==null||p.push(h):f.push(h)}),f.sort((h,p)=>0),f.forEach(h=>{h.replies&&h.replies.reverse()}),f},async voteComment(t,e){const{data:{user:n}}=await De.auth.getUser();if(!n)throw new Error("Must be logged in");const{data:r}=await De.from("comment_votes").select("*").eq("comment_id",t).eq("user_id",n.id).single();return r?r.vote_type===e?(await De.from("comment_votes").delete().eq("comment_id",t).eq("user_id",n.id),null):(await De.from("comment_votes").update({vote_type:e}).eq("comment_id",t).eq("user_id",n.id),e):(await De.from("comment_votes").insert({comment_id:t,user_id:n.id,vote_type:e}),e)},async postComment(t,e,n,r){const{data:i,error:a}=await De.from("comments").insert({topic_id:t,user_id:n,content:e,parent_id:r}).select().single();if(a)throw a;return i},async fetchTopics(t){let e=De.from("topics_with_stats").select("*, regional_options, option_counts, options, type").order("created_at",{ascending:!1});t&&(e=e.eq("category",t));const{data:n,error:r}=await e;if(r)throw r;return n.map(oG)},async createTopic(t){const{data:e,error:n}=await De.from("topics").insert({title:t.title,category:t.category,description:t.description,pros:t.pros,cons:t.cons,ai_analysis:t.aiAnalysis,label_support:t.labelSupport,label_oppose:t.labelOppose,type:t.type||"binary",options:t.options||[]}).select().single();if(n)throw n;return e},async castVote(t,e,n,r){const{data:{user:i}}=await De.auth.getUser();if(!i)throw new Error("Debes iniciar sesin");const{error:a}=await De.from("votes").delete().eq("topic_id",t).eq("user_id",i.id);a&&console.error("Error clearing previous votes:",a);const{error:s}=await De.from("votes").insert({topic_id:t,user_id:i.id,choice:e,region:n,choice_option:r});if(s)throw s;return!0},async removeVote(t){const{data:{user:e}}=await De.auth.getUser();if(!e)throw new Error("Debes iniciar sesin");const{error:n}=await De.from("votes").delete().eq("topic_id",t).eq("user_id",e.id);if(n)throw n;return!0},async fetchUserVoteForTopic(t){const{data:{user:e}}=await De.auth.getUser();if(!e)return null;const{data:n,error:r}=await De.from("votes").select("*").eq("topic_id",t).eq("user_id",e.id).order("created_at",{ascending:!1}).limit(1).maybeSingle();return r?null:n},async fetchUserVotes(t){const{data:e,error:n}=await De.from("votes").select(`
                *,
                topic:topics (title, category, options)
            `).eq("user_id",t).order("created_at",{ascending:!1});if(n)throw n;return e},async updateUserProfile(t,e){const{error:n}=await De.from("profiles").update(e).eq("id",t);if(n)throw n;return!0},async fetchUserCount(){const{count:t,error:e}=await De.from("profiles").select("*",{count:"exact",head:!0});if(e)throw e;return t||0},async fetchDemographics(t){const{data:e,error:n}=await De.from("votes").select("user_id, choice, choice_option").eq("topic_id",t);if(n||!e)return console.warn("Error fetching votes for demo:",n),{byGender:{},byAge:{}};const r=Array.from(new Set(e.map(f=>f.user_id).filter(Boolean)));if(r.length===0)return{byGender:{},byAge:{}};const{data:i,error:a}=await De.from("profiles").select("id, gender, age").in("id",r);if(a||!i)return console.warn("Error fetching profiles for demo:",a),{byGender:{},byAge:{}};const s=new Map(i.map(f=>[f.id,f])),u={byGender:{},byAge:{}},c=f=>f?f<25?"18-24":f<40?"25-39":f<60?"40-59":"60+":"N/A";return e.forEach(f=>{if(!f.user_id)return;const h=s.get(f.user_id);if(!h)return;const p=h.gender||"N/A",g=h.age||0,b=c(g),S=f.choice_option||f.choice;u.byGender[p]||(u.byGender[p]={}),u.byGender[p][S]||(u.byGender[p][S]=0),u.byGender[p][S]++,u.byAge[b]||(u.byAge[b]={}),u.byAge[b][S]||(u.byAge[b][S]=0),u.byAge[b][S]++}),u}},_R={PSOE:"#E30613",PP:"#0056A7",Vox:"#63BE21",Sumar:"#E51C55",Podemos:"#6B1F5F",Junts:"#00C3B2",ERC:"#FFD700",PNV:"#008000",Bildu:"#B5CF18",SALF:"#A0522D",PACMA:"#9ACD32",Ciudadanos:"#EB6109",Otros:"#808080","En blanco":"#FFFFFF"},sG=t=>{const e=Object.keys(_R).find(n=>t.includes(n));return e?_R[e]:"#aaaaaa"},lG=({topic:t})=>{const e=t.type==="multiple_choice"?Object.values(t.optionCounts).reduce((r,i)=>r+i,0):t.votes.support+t.votes.oppose+t.votes.neutral,n=e>0?Math.round(t.votes.support/e*100):0;return T.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 hover:shadow-xl transition-shadow duration-300 group",children:[T.jsxs("div",{className:"flex justify-between items-start mb-4",children:[T.jsx("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-xs font-semibold bg-indigo-50 text-indigo-700",children:t.category}),T.jsx("span",{className:"text-gray-400 text-xs",children:new Date(t.createdAt).toLocaleDateString()})]}),T.jsx(It,{to:`/topic/${t.id}`,children:T.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-indigo-600 transition-colors mb-2",children:t.title})}),T.jsx("p",{className:"text-gray-600 line-clamp-3 mb-6 text-sm",children:t.description}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs("div",{className:"flex justify-between text-xs font-semibold text-gray-500",children:[T.jsxs("span",{children:[e.toLocaleString()," Votos"]}),t.type==="binary"&&T.jsxs("span",{children:[n,"% A favor"]}),t.type==="multiple_choice"&&T.jsx("span",{children:"Multirespuesta"})]}),T.jsx("div",{className:"h-2 w-full bg-gray-100 rounded-full overflow-hidden flex",children:e===0?T.jsx("div",{className:"w-full h-full bg-gray-200"}):t.type==="multiple_choice"?Object.entries(t.optionCounts).sort((r,i)=>i[1]-r[1]).map(([r,i])=>T.jsx("div",{className:"h-full",style:{width:`${i/e*100}%`,backgroundColor:sG(r)},title:`${r}: ${i}`},r)):T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"bg-green-500 h-full",style:{width:`${t.votes.support/e*100}%`}}),T.jsx("div",{className:"bg-red-500 h-full",style:{width:`${t.votes.oppose/e*100}%`}}),T.jsx("div",{className:"bg-gray-400 h-full",style:{width:`${t.votes.neutral/e*100}%`}})]})})]}),T.jsx(It,{to:`/topic/${t.id}`,className:"mt-6 block w-full text-center py-2.5 px-4 bg-gray-50 text-gray-900 font-bold rounded-xl hover:bg-gray-100 transition-colors",children:"Ver Anlisis"})]})},lU=({topics:t,title:e="Temas en Tendencia",showFilters:n=!0})=>T.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[T.jsxs("header",{className:"mb-12 text-center",children:[T.jsxs("h1",{className:"text-4xl sm:text-5xl font-extrabold text-gray-900 mb-4 tracking-tight",children:["Democracia impulsada por ",T.jsx("span",{className:"text-indigo-600",children:"Inteligencia Popular"})]}),T.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Explora los debates polticos actuales, emite tu voto y obtn anlisis equilibrados potenciados por IA avanzada."})]}),T.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 space-y-4 md:space-y-0",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e}),n&&T.jsx("div",{className:"flex flex-wrap gap-2",children:["Todos","Economa","Medio Ambiente","Social","Legal"].map(r=>T.jsx("button",{className:"px-4 py-2 rounded-full text-sm font-medium text-gray-600 hover:bg-gray-100 transition border border-gray-200",children:r},r))})]}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.filter(r=>{var i;return!((i=r.options)!=null&&i.includes("IS_PROPOSAL"))}).map(r=>T.jsx(lG,{topic:r},r.id))}),t.filter(r=>{var i;return!((i=r.options)!=null&&i.includes("IS_PROPOSAL"))}).length===0&&T.jsx("div",{className:"text-center py-20 bg-white rounded-3xl border-2 border-dashed border-gray-300",children:T.jsx("p",{className:"text-gray-500 text-lg",children:"No hay temas activos. Por qu no propones uno?"})})]});function uU(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=uU(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Le(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=uU(t))&&(r&&(r+=" "),r+=e);return r}var wy,xR;function kn(){if(xR)return wy;xR=1;var t=Array.isArray;return wy=t,wy}var Sy,wR;function cU(){if(wR)return Sy;wR=1;var t=typeof Bd=="object"&&Bd&&Bd.Object===Object&&Bd;return Sy=t,Sy}var Ey,SR;function ri(){if(SR)return Ey;SR=1;var t=cU(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Ey=n,Ey}var Ty,ER;function mf(){if(ER)return Ty;ER=1;var t=ri(),e=t.Symbol;return Ty=e,Ty}var Ay,TR;function uG(){if(TR)return Ay;TR=1;var t=mf(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(s){var u=n.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var h=r.call(s);return f&&(u?s[i]=c:delete s[i]),h}return Ay=a,Ay}var Cy,AR;function cG(){if(AR)return Cy;AR=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Cy=n,Cy}var Oy,CR;function Vi(){if(CR)return Oy;CR=1;var t=mf(),e=uG(),n=cG(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(u){return u==null?u===void 0?i:r:a&&a in Object(u)?e(u):n(u)}return Oy=s,Oy}var Ry,OR;function Gi(){if(OR)return Ry;OR=1;function t(e){return e!=null&&typeof e=="object"}return Ry=t,Ry}var Py,RR;function Nl(){if(RR)return Py;RR=1;var t=Vi(),e=Gi(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return Py=r,Py}var Ny,PR;function sE(){if(PR)return Ny;PR=1;var t=kn(),e=Nl(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){if(t(a))return!1;var u=typeof a;return u=="number"||u=="symbol"||u=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||s!=null&&a in Object(s)}return Ny=i,Ny}var My,NR;function Na(){if(NR)return My;NR=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return My=t,My}var Iy,MR;function lE(){if(MR)return Iy;MR=1;var t=Vi(),e=Na(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(u){if(!e(u))return!1;var c=t(u);return c==r||c==i||c==n||c==a}return Iy=s,Iy}var ky,IR;function fG(){if(IR)return ky;IR=1;var t=ri(),e=t["__core-js_shared__"];return ky=e,ky}var Dy,kR;function dG(){if(kR)return Dy;kR=1;var t=fG(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return Dy=n,Dy}var Ly,DR;function fU(){if(DR)return Ly;DR=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Ly=n,Ly}var jy,LR;function hG(){if(LR)return jy;LR=1;var t=lE(),e=dG(),n=Na(),r=fU(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,c=s.toString,f=u.hasOwnProperty,h=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!n(g)||e(g))return!1;var b=t(g)?h:a;return b.test(r(g))}return jy=p,jy}var Uy,jR;function pG(){if(jR)return Uy;jR=1;function t(e,n){return e==null?void 0:e[n]}return Uy=t,Uy}var $y,UR;function Mo(){if(UR)return $y;UR=1;var t=hG(),e=pG();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return $y=n,$y}var qy,$R;function Jp(){if($R)return qy;$R=1;var t=Mo(),e=t(Object,"create");return qy=e,qy}var By,qR;function mG(){if(qR)return By;qR=1;var t=Jp();function e(){this.__data__=t?t(null):{},this.size=0}return By=e,By}var Hy,BR;function gG(){if(BR)return Hy;BR=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Hy=t,Hy}var zy,HR;function vG(){if(HR)return zy;HR=1;var t=Jp(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var s=this.__data__;if(t){var u=s[a];return u===e?void 0:u}return r.call(s,a)?s[a]:void 0}return zy=i,zy}var Vy,zR;function yG(){if(zR)return Vy;zR=1;var t=Jp(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return Vy=r,Vy}var Gy,VR;function bG(){if(VR)return Gy;VR=1;var t=Jp(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return Gy=n,Gy}var Fy,GR;function _G(){if(GR)return Fy;GR=1;var t=mG(),e=gG(),n=vG(),r=yG(),i=bG();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Fy=a,Fy}var Ky,FR;function xG(){if(FR)return Ky;FR=1;function t(){this.__data__=[],this.size=0}return Ky=t,Ky}var Wy,KR;function uE(){if(KR)return Wy;KR=1;function t(e,n){return e===n||e!==e&&n!==n}return Wy=t,Wy}var Yy,WR;function Xp(){if(WR)return Yy;WR=1;var t=uE();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return Yy=e,Yy}var Jy,YR;function wG(){if(YR)return Jy;YR=1;var t=Xp(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var u=a.length-1;return s==u?a.pop():n.call(a,s,1),--this.size,!0}return Jy=r,Jy}var Xy,JR;function SG(){if(JR)return Xy;JR=1;var t=Xp();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Xy=e,Xy}var Qy,XR;function EG(){if(XR)return Qy;XR=1;var t=Xp();function e(n){return t(this.__data__,n)>-1}return Qy=e,Qy}var Zy,QR;function TG(){if(QR)return Zy;QR=1;var t=Xp();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return Zy=e,Zy}var e0,ZR;function Qp(){if(ZR)return e0;ZR=1;var t=xG(),e=wG(),n=SG(),r=EG(),i=TG();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,e0=a,e0}var t0,eP;function cE(){if(eP)return t0;eP=1;var t=Mo(),e=ri(),n=t(e,"Map");return t0=n,t0}var n0,tP;function AG(){if(tP)return n0;tP=1;var t=_G(),e=Qp(),n=cE();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return n0=r,n0}var r0,nP;function CG(){if(nP)return r0;nP=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return r0=t,r0}var i0,rP;function Zp(){if(rP)return i0;rP=1;var t=CG();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return i0=e,i0}var a0,iP;function OG(){if(iP)return a0;iP=1;var t=Zp();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return a0=e,a0}var o0,aP;function RG(){if(aP)return o0;aP=1;var t=Zp();function e(n){return t(this,n).get(n)}return o0=e,o0}var s0,oP;function PG(){if(oP)return s0;oP=1;var t=Zp();function e(n){return t(this,n).has(n)}return s0=e,s0}var l0,sP;function NG(){if(sP)return l0;sP=1;var t=Zp();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return l0=e,l0}var u0,lP;function fE(){if(lP)return u0;lP=1;var t=AG(),e=OG(),n=RG(),r=PG(),i=NG();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,u0=a,u0}var c0,uP;function dU(){if(uP)return c0;uP=1;var t=fE(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,u=i?i.apply(this,s):s[0],c=a.cache;if(c.has(u))return c.get(u);var f=r.apply(this,s);return a.cache=c.set(u,f)||c,f};return a.cache=new(n.Cache||t),a}return n.Cache=t,c0=n,c0}var f0,cP;function MG(){if(cP)return f0;cP=1;var t=dU(),e=500;function n(r){var i=t(r,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return f0=n,f0}var d0,fP;function IG(){if(fP)return d0;fP=1;var t=MG(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,u,c,f){a.push(c?f.replace(n,"$1"):u||s)}),a});return d0=r,d0}var h0,dP;function dE(){if(dP)return h0;dP=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return h0=t,h0}var p0,hP;function kG(){if(hP)return p0;hP=1;var t=mf(),e=dE(),n=kn(),r=Nl(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(u){if(typeof u=="string")return u;if(n(u))return e(u,s)+"";if(r(u))return a?a.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}return p0=s,p0}var m0,pP;function hU(){if(pP)return m0;pP=1;var t=kG();function e(n){return n==null?"":t(n)}return m0=e,m0}var g0,mP;function pU(){if(mP)return g0;mP=1;var t=kn(),e=sE(),n=IG(),r=hU();function i(a,s){return t(a)?a:e(a,s)?[a]:n(r(a))}return g0=i,g0}var v0,gP;function em(){if(gP)return v0;gP=1;var t=Nl();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return v0=e,v0}var y0,vP;function hE(){if(vP)return y0;vP=1;var t=pU(),e=em();function n(r,i){i=t(i,r);for(var a=0,s=i.length;r!=null&&a<s;)r=r[e(i[a++])];return a&&a==s?r:void 0}return y0=n,y0}var b0,yP;function mU(){if(yP)return b0;yP=1;var t=hE();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return b0=e,b0}var DG=mU();const Jn=Ge(DG);var _0,bP;function LG(){if(bP)return _0;bP=1;function t(e){return e==null}return _0=t,_0}var jG=LG();const Ue=Ge(jG);var x0,_P;function UG(){if(_P)return x0;_P=1;var t=Vi(),e=kn(),n=Gi(),r="[object String]";function i(a){return typeof a=="string"||!e(a)&&n(a)&&t(a)==r}return x0=i,x0}var $G=UG();const So=Ge($G);var qG=lE();const Oe=Ge(qG);var BG=Na();const Ml=Ge(BG);var w0={exports:{}},Qe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xP;function HG(){if(xP)return Qe;xP=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),S;S=Symbol.for("react.module.reference");function E(x){if(typeof x=="object"&&x!==null){var A=x.$$typeof;switch(A){case t:switch(x=x.type,x){case n:case i:case r:case f:case h:return x;default:switch(x=x&&x.$$typeof,x){case u:case s:case c:case g:case p:case a:return x;default:return A}}case e:return A}}}return Qe.ContextConsumer=s,Qe.ContextProvider=a,Qe.Element=t,Qe.ForwardRef=c,Qe.Fragment=n,Qe.Lazy=g,Qe.Memo=p,Qe.Portal=e,Qe.Profiler=i,Qe.StrictMode=r,Qe.Suspense=f,Qe.SuspenseList=h,Qe.isAsyncMode=function(){return!1},Qe.isConcurrentMode=function(){return!1},Qe.isContextConsumer=function(x){return E(x)===s},Qe.isContextProvider=function(x){return E(x)===a},Qe.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},Qe.isForwardRef=function(x){return E(x)===c},Qe.isFragment=function(x){return E(x)===n},Qe.isLazy=function(x){return E(x)===g},Qe.isMemo=function(x){return E(x)===p},Qe.isPortal=function(x){return E(x)===e},Qe.isProfiler=function(x){return E(x)===i},Qe.isStrictMode=function(x){return E(x)===r},Qe.isSuspense=function(x){return E(x)===f},Qe.isSuspenseList=function(x){return E(x)===h},Qe.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===i||x===r||x===f||x===h||x===b||typeof x=="object"&&x!==null&&(x.$$typeof===g||x.$$typeof===p||x.$$typeof===a||x.$$typeof===s||x.$$typeof===c||x.$$typeof===S||x.getModuleId!==void 0)},Qe.typeOf=E,Qe}var wP;function zG(){return wP||(wP=1,w0.exports=HG()),w0.exports}var VG=zG(),S0,SP;function gU(){if(SP)return S0;SP=1;var t=Vi(),e=Gi(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return S0=r,S0}var E0,EP;function GG(){if(EP)return E0;EP=1;var t=gU();function e(n){return t(n)&&n!=+n}return E0=e,E0}var FG=GG();const gf=Ge(FG);var KG=gU();const WG=Ge(KG);var xn=function(e){return e===0?0:e>0?1:-1},go=function(e){return So(e)&&e.indexOf("%")===e.length-1},he=function(e){return WG(e)&&!gf(e)},YG=function(e){return Ue(e)},Ft=function(e){return he(e)||So(e)},JG=0,vf=function(e){var n=++JG;return"".concat(e||"").concat(n)},wn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!he(e)&&!So(e))return r;var a;if(go(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return gf(a)&&(a=r),i&&a>n&&(a=n),a},Ta=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},XG=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},wa=function(e,n){return he(e)&&he(n)?function(r){return e+r*(n-e)}:function(){return n}};function Jx(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Jn(r,e))===n})}var QG=function(e,n){return he(e)&&he(n)?e-n:So(e)&&So(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Ks(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Xx(t){"@babel/helpers - typeof";return Xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xx(t)}var ZG=["viewBox","children"],eF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],TP=["points","pathLength"],T0={svg:ZG,polygon:TP,polyline:TP},pE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ih=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(U.isValidElement(e)&&(r=e.props),!Ml(r))return null;var i={};return Object.keys(r).forEach(function(a){pE.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},tF=function(e,n,r){return function(i){return e(n,r,i),null}},Eo=function(e,n,r){if(!Ml(e)||Xx(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];pE.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=tF(s,n,r))}),i},nF=["children"],rF=["children"];function AP(t,e){if(t==null)return{};var n=iF(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var CP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ki=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},OP=null,A0=null,mE=function t(e){if(e===OP&&Array.isArray(A0))return A0;var n=[];return U.Children.forEach(e,function(r){Ue(r)||(VG.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),A0=n,OP=e,n};function vr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return ki(i)}):r=[ki(e)],mE(t).forEach(function(i){var a=Jn(i,"type.displayName")||Jn(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Fn(t,e){var n=vr(t,e);return n&&n[0]}var RP=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!he(r)||r<=0||!he(i)||i<=0)},aF=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],oF=function(e){return e&&e.type&&So(e.type)&&aF.indexOf(e.type)>=0},sF=function(e,n,r,i){var a,s=(a=T0==null?void 0:T0[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Oe(e)&&(i&&s.includes(n)||eF.includes(n))||r&&pE.includes(n)},Ae=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(U.isValidElement(e)&&(i=e.props),!Ml(i))return null;var a={};return Object.keys(i).forEach(function(s){var u;sF((u=i)===null||u===void 0?void 0:u[s],s,n,r)&&(a[s]=i[s])}),a},Qx=function t(e,n){if(e===n)return!0;var r=U.Children.count(e);if(r!==U.Children.count(n))return!1;if(r===0)return!0;if(r===1)return PP(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!PP(a,s))return!1}return!0},PP=function(e,n){if(Ue(e)&&Ue(n))return!0;if(!Ue(e)&&!Ue(n)){var r=e.props||{},i=r.children,a=AP(r,nF),s=n.props||{},u=s.children,c=AP(s,rF);return i&&u?Ks(a,c)&&Qx(i,u):!i&&!u?Ks(a,c):!1}return!1},NP=function(e,n){var r=[],i={};return mE(e).forEach(function(a,s){if(oF(a))r.push(a);else if(a){var u=ki(a.type),c=n[u]||{},f=c.handler,h=c.once;if(f&&(!h||!i[u])){var p=f(a,u,s);r.push(p),i[u]=!0}}}),r},lF=function(e){var n=e&&e.type;return n&&CP[n]?CP[n]:null},uF=function(e,n){return mE(n).indexOf(e)},cF=["children","width","height","viewBox","className","style","title","desc"];function Zx(){return Zx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zx.apply(this,arguments)}function fF(t,e){if(t==null)return{};var n=dF(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ew(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,u=t.title,c=t.desc,f=fF(t,cF),h=i||{width:n,height:r,x:0,y:0},p=Le("recharts-surface",a);return G.createElement("svg",Zx({},Ae(f,!0,"svg"),{className:p,width:n,height:r,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),G.createElement("title",null,u),G.createElement("desc",null,c),e)}var hF=["children","className"];function tw(){return tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tw.apply(this,arguments)}function pF(t,e){if(t==null)return{};var n=mF(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var rt=G.forwardRef(function(t,e){var n=t.children,r=t.className,i=pF(t,hF),a=Le("recharts-layer",r);return G.createElement("g",tw({className:a},Ae(i,!0),{ref:e}),n)}),Ur=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},C0,MP;function gF(){if(MP)return C0;MP=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+n];return s}return C0=t,C0}var O0,IP;function vF(){if(IP)return O0;IP=1;var t=gF();function e(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:t(n,r,i)}return O0=e,O0}var R0,kP;function vU(){if(kP)return R0;kP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",s="\\u200d",u=RegExp("["+s+t+i+a+"]");function c(f){return u.test(f)}return R0=c,R0}var P0,DP;function yF(){if(DP)return P0;DP=1;function t(e){return e.split("")}return P0=t,P0}var N0,LP;function bF(){if(LP)return N0;LP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",s="["+t+"]",u="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+c+")",h="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",S=f+"?",E="["+a+"]?",x="(?:"+b+"(?:"+[h,p,g].join("|")+")"+E+S+")*",A=E+S+x,O="(?:"+[h+u+"?",u,p,g,s].join("|")+")",C=RegExp(c+"(?="+c+")|"+O+A,"g");function P(R){return R.match(C)||[]}return N0=P,N0}var M0,jP;function _F(){if(jP)return M0;jP=1;var t=yF(),e=vU(),n=bF();function r(i){return e(i)?n(i):t(i)}return M0=r,M0}var I0,UP;function xF(){if(UP)return I0;UP=1;var t=vF(),e=vU(),n=_F(),r=hU();function i(a){return function(s){s=r(s);var u=e(s)?n(s):void 0,c=u?u[0]:s.charAt(0),f=u?t(u,1).join(""):s.slice(1);return c[a]()+f}}return I0=i,I0}var k0,$P;function wF(){if($P)return k0;$P=1;var t=xF(),e=t("toUpperCase");return k0=e,k0}var SF=wF();const tm=Ge(SF);function dt(t){return function(){return t}}const yU=Math.cos,kh=Math.sin,Br=Math.sqrt,Dh=Math.PI,nm=2*Dh,nw=Math.PI,rw=2*nw,so=1e-6,EF=rw-so;function bU(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function TF(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return bU;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class gE{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?bU:TF(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,u=this._y1,c=r-e,f=i-n,h=s-e,p=u-n,g=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>so)if(!(Math.abs(p*c-f*h)>so)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-s,S=i-u,E=c*c+f*f,x=b*b+S*S,A=Math.sqrt(E),O=Math.sqrt(g),C=a*Math.tan((nw-Math.acos((E+g-x)/(2*A*O)))/2),P=C/O,R=C/A;Math.abs(P-1)>so&&this._append`L${e+P*h},${n+P*p}`,this._append`A${a},${a},0,0,${+(p*b>h*S)},${this._x1=e+R*c},${this._y1=n+R*f}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),f=e+u,h=n+c,p=1^s,g=s?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>so||Math.abs(this._y1-h)>so)&&this._append`L${f},${h}`,r&&(g<0&&(g=g%rw+rw),g>EF?this._append`A${r},${r},0,1,${p},${e-u},${n-c}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:g>so&&this._append`A${r},${r},0,${+(g>=nw)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function _U(){return new gE}_U.prototype=gE.prototype;function vE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new gE(e)}function yE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function xU(t){this._context=t}xU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function rm(t){return new xU(t)}function wU(t){return t[0]}function SU(t){return t[1]}function EU(t,e){var n=dt(!0),r=null,i=rm,a=null,s=vE(u);t=typeof t=="function"?t:t===void 0?wU:dt(t),e=typeof e=="function"?e:e===void 0?SU:dt(e);function u(c){var f,h=(c=yE(c)).length,p,g=!1,b;for(r==null&&(a=i(b=s())),f=0;f<=h;++f)!(f<h&&n(p=c[f],f,c))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+t(p,f,c),+e(p,f,c));if(b)return a=null,b+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:dt(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:dt(+c),u):e},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:dt(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),u):r},u}function Wd(t,e,n){var r=null,i=dt(!0),a=null,s=rm,u=null,c=vE(f);t=typeof t=="function"?t:t===void 0?wU:dt(+t),e=typeof e=="function"?e:dt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?SU:dt(+n);function f(p){var g,b,S,E=(p=yE(p)).length,x,A=!1,O,C=new Array(E),P=new Array(E);for(a==null&&(u=s(O=c())),g=0;g<=E;++g){if(!(g<E&&i(x=p[g],g,p))===A)if(A=!A)b=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=g-1;S>=b;--S)u.point(C[S],P[S]);u.lineEnd(),u.areaEnd()}A&&(C[g]=+t(x,g,p),P[g]=+e(x,g,p),u.point(r?+r(x,g,p):C[g],n?+n(x,g,p):P[g]))}if(O)return u=null,O+""||null}function h(){return EU().defined(i).curve(s).context(a)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:dt(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:dt(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:dt(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:dt(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:dt(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:dt(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:dt(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,a!=null&&(u=s(a)),f):s},f.context=function(p){return arguments.length?(p==null?a=u=null:u=s(a=p),f):a},f}class TU{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function AF(t){return new TU(t,!0)}function CF(t){return new TU(t,!1)}const bE={draw(t,e){const n=Br(e/Dh);t.moveTo(n,0),t.arc(0,0,n,0,nm)}},OF={draw(t,e){const n=Br(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},AU=Br(1/3),RF=AU*2,PF={draw(t,e){const n=Br(e/RF),r=n*AU;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},NF={draw(t,e){const n=Br(e),r=-n/2;t.rect(r,r,n,n)}},MF=.8908130915292852,CU=kh(Dh/10)/kh(7*Dh/10),IF=kh(nm/10)*CU,kF=-yU(nm/10)*CU,DF={draw(t,e){const n=Br(e*MF),r=IF*n,i=kF*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=nm*a/5,u=yU(s),c=kh(s);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},D0=Br(3),LF={draw(t,e){const n=-Br(e/(D0*3));t.moveTo(0,n*2),t.lineTo(-D0*n,-n),t.lineTo(D0*n,-n),t.closePath()}},sr=-.5,lr=Br(3)/2,iw=1/Br(12),jF=(iw/2+1)*3,UF={draw(t,e){const n=Br(e/jF),r=n/2,i=n*iw,a=r,s=n*iw+n,u=-a,c=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(u,c),t.lineTo(sr*r-lr*i,lr*r+sr*i),t.lineTo(sr*a-lr*s,lr*a+sr*s),t.lineTo(sr*u-lr*c,lr*u+sr*c),t.lineTo(sr*r+lr*i,sr*i-lr*r),t.lineTo(sr*a+lr*s,sr*s-lr*a),t.lineTo(sr*u+lr*c,sr*c-lr*u),t.closePath()}};function $F(t,e){let n=null,r=vE(i);t=typeof t=="function"?t:dt(t||bE),e=typeof e=="function"?e:dt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:dt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:dt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Lh(){}function jh(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function OU(t){this._context=t}OU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function qF(t){return new OU(t)}function RU(t){this._context=t}RU.prototype={areaStart:Lh,areaEnd:Lh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:jh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function BF(t){return new RU(t)}function PU(t){this._context=t}PU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:jh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function HF(t){return new PU(t)}function NU(t){this._context=t}NU.prototype={areaStart:Lh,areaEnd:Lh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function zF(t){return new NU(t)}function qP(t){return t<0?-1:1}function BP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),u=(a*i+s*r)/(r+i);return(qP(a)+qP(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(u))||0}function HP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function L0(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,s-u*n,a,s)}function Uh(t){this._context=t}Uh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:L0(this,this._t0,HP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,L0(this,HP(this,n=BP(this,t,e)),n);break;default:L0(this,this._t0,n=BP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function MU(t){this._context=new IU(t)}(MU.prototype=Object.create(Uh.prototype)).point=function(t,e){Uh.prototype.point.call(this,e,t)};function IU(t){this._context=t}IU.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function VF(t){return new Uh(t)}function GF(t){return new MU(t)}function kU(t){this._context=t}kU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=zP(t),i=zP(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function zP(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function FF(t){return new kU(t)}function im(t,e){this._context=t,this._t=e}im.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function KF(t){return new im(t,.5)}function WF(t){return new im(t,0)}function YF(t){return new im(t,1)}function Zs(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,u=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function aw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function JF(t,e){return t[e]}function XF(t){const e=[];return e.key=t,e}function QF(){var t=dt([]),e=aw,n=Zs,r=JF;function i(a){var s=Array.from(t.apply(this,arguments),XF),u,c=s.length,f=-1,h;for(const p of a)for(u=0,++f;u<c;++u)(s[u][f]=[0,+r(p,s[u].key,f,a)]).data=p;for(u=0,h=yE(e(s));u<c;++u)s[h[u]].index=u;return n(s,h),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:dt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:dt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?aw:typeof a=="function"?a:dt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Zs,i):n},i}function ZF(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Zs(t,e)}}function e9(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,u=0;s<i;++s)u+=t[s][n][1]||0;r[n][1]+=r[n][0]=-u/2}Zs(t,e)}}function t9(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var u=0,c=0,f=0;u<s;++u){for(var h=t[e[u]],p=h[r][1]||0,g=h[r-1][1]||0,b=(p-g)/2,S=0;S<u;++S){var E=t[e[S]],x=E[r][1]||0,A=E[r-1][1]||0;b+=x-A}c+=p,f+=b*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,Zs(t,e)}}function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}var n9=["type","size","sizeType"];function ow(){return ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ow.apply(this,arguments)}function VP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VP(Object(n),!0).forEach(function(r){r9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r9(t,e,n){return e=i9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i9(t){var e=a9(t,"string");return Ec(e)=="symbol"?e:e+""}function a9(t,e){if(Ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o9(t,e){if(t==null)return{};var n=s9(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function s9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var DU={symbolCircle:bE,symbolCross:OF,symbolDiamond:PF,symbolSquare:NF,symbolStar:DF,symbolTriangle:LF,symbolWye:UF},l9=Math.PI/180,u9=function(e){var n="symbol".concat(tm(e));return DU[n]||bE},c9=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*l9;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},f9=function(e,n){DU["symbol".concat(tm(e))]=n},_E=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,u=s===void 0?"area":s,c=o9(e,n9),f=GP(GP({},c),{},{type:r,size:a,sizeType:u}),h=function(){var x=u9(r),A=$F().type(x).size(c9(a,u,r));return A()},p=f.className,g=f.cx,b=f.cy,S=Ae(f,!0);return g===+g&&b===+b&&a===+a?G.createElement("path",ow({},S,{className:Le("recharts-symbols",p),transform:"translate(".concat(g,", ").concat(b,")"),d:h()})):null};_E.registerSymbol=f9;function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function sw(){return sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sw.apply(this,arguments)}function FP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(n),!0).forEach(function(r){Tc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jU(r.key),r)}}function m9(t,e,n){return e&&p9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function g9(t,e,n){return e=$h(e),v9(t,LU()?Reflect.construct(e,n||[],$h(t).constructor):e.apply(t,n))}function v9(t,e){if(e&&(el(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y9(t)}function y9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LU=function(){return!!t})()}function $h(t){return $h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$h(t)}function b9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lw(t,e)}function lw(t,e){return lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lw(t,e)}function Tc(t,e,n){return e=jU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jU(t){var e=_9(t,"string");return el(e)=="symbol"?e:e+""}function _9(t,e){if(el(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ur=32,xE=(function(t){function e(){return h9(this,e),g9(this,e,arguments)}return b9(e,t),m9(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=ur/2,s=ur/6,u=ur/3,c=r.inactive?i:r.color;if(r.type==="plainline")return G.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:ur,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return G.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(u,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*u,",").concat(a,`
            H`).concat(ur,"M").concat(2*u,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(u,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return G.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ur/8,"h").concat(ur,"v").concat(ur*3/4,"h").concat(-ur,"z"),className:"recharts-legend-icon"});if(G.isValidElement(r.legendIcon)){var f=d9({},r);return delete f.legendIcon,G.cloneElement(r.legendIcon,f)}return G.createElement(_E,{fill:c,cx:a,cy:a,size:ur,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,u=i.layout,c=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:ur,height:ur},p={display:u==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(b,S){var E=b.formatter||c,x=Le(Tc(Tc({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",b.inactive));if(b.type==="none")return null;var A=Oe(b.value)?null:b.value;Ur(!Oe(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var O=b.inactive?f:b.color;return G.createElement("li",sw({className:x,style:p,key:"legend-item-".concat(S)},Eo(r.props,b,S)),G.createElement(ew,{width:s,height:s,viewBox:h,style:g},r.renderIcon(b)),G.createElement("span",{className:"recharts-legend-item-text",style:{color:O}},E?E(A,b,S):A))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return G.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(U.PureComponent);Tc(xE,"displayName","Legend");Tc(xE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var j0,KP;function x9(){if(KP)return j0;KP=1;var t=Qp();function e(){this.__data__=new t,this.size=0}return j0=e,j0}var U0,WP;function w9(){if(WP)return U0;WP=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return U0=t,U0}var $0,YP;function S9(){if(YP)return $0;YP=1;function t(e){return this.__data__.get(e)}return $0=t,$0}var q0,JP;function E9(){if(JP)return q0;JP=1;function t(e){return this.__data__.has(e)}return q0=t,q0}var B0,XP;function T9(){if(XP)return B0;XP=1;var t=Qp(),e=cE(),n=fE(),r=200;function i(a,s){var u=this.__data__;if(u instanceof t){var c=u.__data__;if(!e||c.length<r-1)return c.push([a,s]),this.size=++u.size,this;u=this.__data__=new n(c)}return u.set(a,s),this.size=u.size,this}return B0=i,B0}var H0,QP;function UU(){if(QP)return H0;QP=1;var t=Qp(),e=x9(),n=w9(),r=S9(),i=E9(),a=T9();function s(u){var c=this.__data__=new t(u);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=a,H0=s,H0}var z0,ZP;function A9(){if(ZP)return z0;ZP=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return z0=e,z0}var V0,eN;function C9(){if(eN)return V0;eN=1;function t(e){return this.__data__.has(e)}return V0=t,V0}var G0,tN;function $U(){if(tN)return G0;tN=1;var t=fE(),e=A9(),n=C9();function r(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,G0=r,G0}var F0,nN;function qU(){if(nN)return F0;nN=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return F0=t,F0}var K0,rN;function BU(){if(rN)return K0;rN=1;function t(e,n){return e.has(n)}return K0=t,K0}var W0,iN;function HU(){if(iN)return W0;iN=1;var t=$U(),e=qU(),n=BU(),r=1,i=2;function a(s,u,c,f,h,p){var g=c&r,b=s.length,S=u.length;if(b!=S&&!(g&&S>b))return!1;var E=p.get(s),x=p.get(u);if(E&&x)return E==u&&x==s;var A=-1,O=!0,C=c&i?new t:void 0;for(p.set(s,u),p.set(u,s);++A<b;){var P=s[A],R=u[A];if(f)var N=g?f(R,P,A,u,s,p):f(P,R,A,s,u,p);if(N!==void 0){if(N)continue;O=!1;break}if(C){if(!e(u,function(I,D){if(!n(C,D)&&(P===I||h(P,I,c,f,p)))return C.push(D)})){O=!1;break}}else if(!(P===R||h(P,R,c,f,p))){O=!1;break}}return p.delete(s),p.delete(u),O}return W0=a,W0}var Y0,aN;function O9(){if(aN)return Y0;aN=1;var t=ri(),e=t.Uint8Array;return Y0=e,Y0}var J0,oN;function R9(){if(oN)return J0;oN=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return J0=t,J0}var X0,sN;function wE(){if(sN)return X0;sN=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return X0=t,X0}var Q0,lN;function P9(){if(lN)return Q0;lN=1;var t=mf(),e=O9(),n=uE(),r=HU(),i=R9(),a=wE(),s=1,u=2,c="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Map]",g="[object Number]",b="[object RegExp]",S="[object Set]",E="[object String]",x="[object Symbol]",A="[object ArrayBuffer]",O="[object DataView]",C=t?t.prototype:void 0,P=C?C.valueOf:void 0;function R(N,I,D,L,V,$,Y){switch(D){case O:if(N.byteLength!=I.byteLength||N.byteOffset!=I.byteOffset)return!1;N=N.buffer,I=I.buffer;case A:return!(N.byteLength!=I.byteLength||!$(new e(N),new e(I)));case c:case f:case g:return n(+N,+I);case h:return N.name==I.name&&N.message==I.message;case b:case E:return N==I+"";case p:var H=i;case S:var W=L&s;if(H||(H=a),N.size!=I.size&&!W)return!1;var B=Y.get(N);if(B)return B==I;L|=u,Y.set(N,I);var j=r(H(N),H(I),L,V,$,Y);return Y.delete(N),j;case x:if(P)return P.call(N)==P.call(I)}return!1}return Q0=R,Q0}var Z0,uN;function zU(){if(uN)return Z0;uN=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return Z0=t,Z0}var eb,cN;function N9(){if(cN)return eb;cN=1;var t=zU(),e=kn();function n(r,i,a){var s=i(r);return e(r)?s:t(s,a(r))}return eb=n,eb}var tb,fN;function M9(){if(fN)return tb;fN=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,s=[];++r<i;){var u=e[r];n(u,r,e)&&(s[a++]=u)}return s}return tb=t,tb}var nb,dN;function I9(){if(dN)return nb;dN=1;function t(){return[]}return nb=t,nb}var rb,hN;function k9(){if(hN)return rb;hN=1;var t=M9(),e=I9(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(u){return r.call(s,u)}))}:e;return rb=a,rb}var ib,pN;function D9(){if(pN)return ib;pN=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return ib=t,ib}var ab,mN;function L9(){if(mN)return ab;mN=1;var t=Vi(),e=Gi(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return ab=r,ab}var ob,gN;function SE(){if(gN)return ob;gN=1;var t=L9(),e=Gi(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return ob=a,ob}var Qu={exports:{}},sb,vN;function j9(){if(vN)return sb;vN=1;function t(){return!1}return sb=t,sb}Qu.exports;var yN;function VU(){return yN||(yN=1,(function(t,e){var n=ri(),r=j9(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,u=s?n.Buffer:void 0,c=u?u.isBuffer:void 0,f=c||r;t.exports=f})(Qu,Qu.exports)),Qu.exports}var lb,bN;function EE(){if(bN)return lb;bN=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return lb=n,lb}var ub,_N;function TE(){if(_N)return ub;_N=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return ub=e,ub}var cb,xN;function U9(){if(xN)return cb;xN=1;var t=Vi(),e=TE(),n=Gi(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",u="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",p="[object Object]",g="[object RegExp]",b="[object Set]",S="[object String]",E="[object WeakMap]",x="[object ArrayBuffer]",A="[object DataView]",O="[object Float32Array]",C="[object Float64Array]",P="[object Int8Array]",R="[object Int16Array]",N="[object Int32Array]",I="[object Uint8Array]",D="[object Uint8ClampedArray]",L="[object Uint16Array]",V="[object Uint32Array]",$={};$[O]=$[C]=$[P]=$[R]=$[N]=$[I]=$[D]=$[L]=$[V]=!0,$[r]=$[i]=$[x]=$[a]=$[A]=$[s]=$[u]=$[c]=$[f]=$[h]=$[p]=$[g]=$[b]=$[S]=$[E]=!1;function Y(H){return n(H)&&e(H.length)&&!!$[t(H)]}return cb=Y,cb}var fb,wN;function GU(){if(wN)return fb;wN=1;function t(e){return function(n){return e(n)}}return fb=t,fb}var Zu={exports:{}};Zu.exports;var SN;function $9(){return SN||(SN=1,(function(t,e){var n=cU(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,u=(function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();t.exports=u})(Zu,Zu.exports)),Zu.exports}var db,EN;function FU(){if(EN)return db;EN=1;var t=U9(),e=GU(),n=$9(),r=n&&n.isTypedArray,i=r?e(r):t;return db=i,db}var hb,TN;function q9(){if(TN)return hb;TN=1;var t=D9(),e=SE(),n=kn(),r=VU(),i=EE(),a=FU(),s=Object.prototype,u=s.hasOwnProperty;function c(f,h){var p=n(f),g=!p&&e(f),b=!p&&!g&&r(f),S=!p&&!g&&!b&&a(f),E=p||g||b||S,x=E?t(f.length,String):[],A=x.length;for(var O in f)(h||u.call(f,O))&&!(E&&(O=="length"||b&&(O=="offset"||O=="parent")||S&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||i(O,A)))&&x.push(O);return x}return hb=c,hb}var pb,AN;function B9(){if(AN)return pb;AN=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return pb=e,pb}var mb,CN;function KU(){if(CN)return mb;CN=1;function t(e,n){return function(r){return e(n(r))}}return mb=t,mb}var gb,ON;function H9(){if(ON)return gb;ON=1;var t=KU(),e=t(Object.keys,Object);return gb=e,gb}var vb,RN;function z9(){if(RN)return vb;RN=1;var t=B9(),e=H9(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var u in Object(a))r.call(a,u)&&u!="constructor"&&s.push(u);return s}return vb=i,vb}var yb,PN;function yf(){if(PN)return yb;PN=1;var t=lE(),e=TE();function n(r){return r!=null&&e(r.length)&&!t(r)}return yb=n,yb}var bb,NN;function am(){if(NN)return bb;NN=1;var t=q9(),e=z9(),n=yf();function r(i){return n(i)?t(i):e(i)}return bb=r,bb}var _b,MN;function V9(){if(MN)return _b;MN=1;var t=N9(),e=k9(),n=am();function r(i){return t(i,n,e)}return _b=r,_b}var xb,IN;function G9(){if(IN)return xb;IN=1;var t=V9(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,s,u,c,f,h){var p=u&e,g=t(a),b=g.length,S=t(s),E=S.length;if(b!=E&&!p)return!1;for(var x=b;x--;){var A=g[x];if(!(p?A in s:r.call(s,A)))return!1}var O=h.get(a),C=h.get(s);if(O&&C)return O==s&&C==a;var P=!0;h.set(a,s),h.set(s,a);for(var R=p;++x<b;){A=g[x];var N=a[A],I=s[A];if(c)var D=p?c(I,N,A,s,a,h):c(N,I,A,a,s,h);if(!(D===void 0?N===I||f(N,I,u,c,h):D)){P=!1;break}R||(R=A=="constructor")}if(P&&!R){var L=a.constructor,V=s.constructor;L!=V&&"constructor"in a&&"constructor"in s&&!(typeof L=="function"&&L instanceof L&&typeof V=="function"&&V instanceof V)&&(P=!1)}return h.delete(a),h.delete(s),P}return xb=i,xb}var wb,kN;function F9(){if(kN)return wb;kN=1;var t=Mo(),e=ri(),n=t(e,"DataView");return wb=n,wb}var Sb,DN;function K9(){if(DN)return Sb;DN=1;var t=Mo(),e=ri(),n=t(e,"Promise");return Sb=n,Sb}var Eb,LN;function WU(){if(LN)return Eb;LN=1;var t=Mo(),e=ri(),n=t(e,"Set");return Eb=n,Eb}var Tb,jN;function W9(){if(jN)return Tb;jN=1;var t=Mo(),e=ri(),n=t(e,"WeakMap");return Tb=n,Tb}var Ab,UN;function Y9(){if(UN)return Ab;UN=1;var t=F9(),e=cE(),n=K9(),r=WU(),i=W9(),a=Vi(),s=fU(),u="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",p="[object WeakMap]",g="[object DataView]",b=s(t),S=s(e),E=s(n),x=s(r),A=s(i),O=a;return(t&&O(new t(new ArrayBuffer(1)))!=g||e&&O(new e)!=u||n&&O(n.resolve())!=f||r&&O(new r)!=h||i&&O(new i)!=p)&&(O=function(C){var P=a(C),R=P==c?C.constructor:void 0,N=R?s(R):"";if(N)switch(N){case b:return g;case S:return u;case E:return f;case x:return h;case A:return p}return P}),Ab=O,Ab}var Cb,$N;function J9(){if($N)return Cb;$N=1;var t=UU(),e=HU(),n=P9(),r=G9(),i=Y9(),a=kn(),s=VU(),u=FU(),c=1,f="[object Arguments]",h="[object Array]",p="[object Object]",g=Object.prototype,b=g.hasOwnProperty;function S(E,x,A,O,C,P){var R=a(E),N=a(x),I=R?h:i(E),D=N?h:i(x);I=I==f?p:I,D=D==f?p:D;var L=I==p,V=D==p,$=I==D;if($&&s(E)){if(!s(x))return!1;R=!0,L=!1}if($&&!L)return P||(P=new t),R||u(E)?e(E,x,A,O,C,P):n(E,x,I,A,O,C,P);if(!(A&c)){var Y=L&&b.call(E,"__wrapped__"),H=V&&b.call(x,"__wrapped__");if(Y||H){var W=Y?E.value():E,B=H?x.value():x;return P||(P=new t),C(W,B,A,O,P)}}return $?(P||(P=new t),r(E,x,A,O,C,P)):!1}return Cb=S,Cb}var Ob,qN;function AE(){if(qN)return Ob;qN=1;var t=J9(),e=Gi();function n(r,i,a,s,u){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,s,n,u)}return Ob=n,Ob}var Rb,BN;function X9(){if(BN)return Rb;BN=1;var t=UU(),e=AE(),n=1,r=2;function i(a,s,u,c){var f=u.length,h=f,p=!c;if(a==null)return!h;for(a=Object(a);f--;){var g=u[f];if(p&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++f<h;){g=u[f];var b=g[0],S=a[b],E=g[1];if(p&&g[2]){if(S===void 0&&!(b in a))return!1}else{var x=new t;if(c)var A=c(S,E,b,a,s,x);if(!(A===void 0?e(E,S,n|r,c,x):A))return!1}}return!0}return Rb=i,Rb}var Pb,HN;function YU(){if(HN)return Pb;HN=1;var t=Na();function e(n){return n===n&&!t(n)}return Pb=e,Pb}var Nb,zN;function Q9(){if(zN)return Nb;zN=1;var t=YU(),e=am();function n(r){for(var i=e(r),a=i.length;a--;){var s=i[a],u=r[s];i[a]=[s,u,t(u)]}return i}return Nb=n,Nb}var Mb,VN;function JU(){if(VN)return Mb;VN=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return Mb=t,Mb}var Ib,GN;function Z9(){if(GN)return Ib;GN=1;var t=X9(),e=Q9(),n=JU();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return Ib=r,Ib}var kb,FN;function e7(){if(FN)return kb;FN=1;function t(e,n){return e!=null&&n in Object(e)}return kb=t,kb}var Db,KN;function t7(){if(KN)return Db;KN=1;var t=pU(),e=SE(),n=kn(),r=EE(),i=TE(),a=em();function s(u,c,f){c=t(c,u);for(var h=-1,p=c.length,g=!1;++h<p;){var b=a(c[h]);if(!(g=u!=null&&f(u,b)))break;u=u[b]}return g||++h!=p?g:(p=u==null?0:u.length,!!p&&i(p)&&r(b,p)&&(n(u)||e(u)))}return Db=s,Db}var Lb,WN;function n7(){if(WN)return Lb;WN=1;var t=e7(),e=t7();function n(r,i){return r!=null&&e(r,i,t)}return Lb=n,Lb}var jb,YN;function r7(){if(YN)return jb;YN=1;var t=AE(),e=mU(),n=n7(),r=sE(),i=YU(),a=JU(),s=em(),u=1,c=2;function f(h,p){return r(h)&&i(p)?a(s(h),p):function(g){var b=e(g,h);return b===void 0&&b===p?n(g,h):t(p,b,u|c)}}return jb=f,jb}var Ub,JN;function Il(){if(JN)return Ub;JN=1;function t(e){return e}return Ub=t,Ub}var $b,XN;function i7(){if(XN)return $b;XN=1;function t(e){return function(n){return n==null?void 0:n[e]}}return $b=t,$b}var qb,QN;function a7(){if(QN)return qb;QN=1;var t=hE();function e(n){return function(r){return t(r,n)}}return qb=e,qb}var Bb,ZN;function o7(){if(ZN)return Bb;ZN=1;var t=i7(),e=a7(),n=sE(),r=em();function i(a){return n(a)?t(r(a)):e(a)}return Bb=i,Bb}var Hb,eM;function ii(){if(eM)return Hb;eM=1;var t=Z9(),e=r7(),n=Il(),r=kn(),i=o7();function a(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):i(s)}return Hb=a,Hb}var zb,tM;function XU(){if(tM)return zb;tM=1;function t(e,n,r,i){for(var a=e.length,s=r+(i?1:-1);i?s--:++s<a;)if(n(e[s],s,e))return s;return-1}return zb=t,zb}var Vb,nM;function s7(){if(nM)return Vb;nM=1;function t(e){return e!==e}return Vb=t,Vb}var Gb,rM;function l7(){if(rM)return Gb;rM=1;function t(e,n,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===n)return i;return-1}return Gb=t,Gb}var Fb,iM;function u7(){if(iM)return Fb;iM=1;var t=XU(),e=s7(),n=l7();function r(i,a,s){return a===a?n(i,a,s):t(i,e,s)}return Fb=r,Fb}var Kb,aM;function c7(){if(aM)return Kb;aM=1;var t=u7();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return Kb=e,Kb}var Wb,oM;function f7(){if(oM)return Wb;oM=1;function t(e,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(n,e[i]))return!0;return!1}return Wb=t,Wb}var Yb,sM;function d7(){if(sM)return Yb;sM=1;function t(){}return Yb=t,Yb}var Jb,lM;function h7(){if(lM)return Jb;lM=1;var t=WU(),e=d7(),n=wE(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(a){return new t(a)}:e;return Jb=i,Jb}var Xb,uM;function p7(){if(uM)return Xb;uM=1;var t=$U(),e=c7(),n=f7(),r=BU(),i=h7(),a=wE(),s=200;function u(c,f,h){var p=-1,g=e,b=c.length,S=!0,E=[],x=E;if(h)S=!1,g=n;else if(b>=s){var A=f?null:i(c);if(A)return a(A);S=!1,g=r,x=new t}else x=f?[]:E;e:for(;++p<b;){var O=c[p],C=f?f(O):O;if(O=h||O!==0?O:0,S&&C===C){for(var P=x.length;P--;)if(x[P]===C)continue e;f&&x.push(C),E.push(O)}else g(x,C,h)||(x!==E&&x.push(C),E.push(O))}return E}return Xb=u,Xb}var Qb,cM;function m7(){if(cM)return Qb;cM=1;var t=ii(),e=p7();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return Qb=n,Qb}var g7=m7();const fM=Ge(g7);function QU(t,e,n){return e===!0?fM(t,n):Oe(e)?fM(t,e):t}function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}var v7=["ref"];function dM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(n),!0).forEach(function(r){om(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e$(r.key),r)}}function b7(t,e,n){return e&&hM(t.prototype,e),n&&hM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _7(t,e,n){return e=qh(e),x7(t,ZU()?Reflect.construct(e,n||[],qh(t).constructor):e.apply(t,n))}function x7(t,e){if(e&&(tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w7(t)}function w7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZU=function(){return!!t})()}function qh(t){return qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qh(t)}function S7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uw(t,e)}function uw(t,e){return uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uw(t,e)}function om(t,e,n){return e=e$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e$(t){var e=E7(t,"string");return tl(e)=="symbol"?e:e+""}function E7(t,e){if(tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function T7(t,e){if(t==null)return{};var n=A7(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function C7(t){return t.value}function O7(t,e){if(G.isValidElement(t))return G.cloneElement(t,e);if(typeof t=="function")return G.createElement(t,e);e.ref;var n=T7(e,v7);return G.createElement(xE,n)}var pM=1,Di=(function(t){function e(){var n;y7(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=_7(this,e,[].concat(i)),om(n,"lastBoundingBox",{width:-1,height:-1}),n}return S7(e,t),b7(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>pM||Math.abs(i.height-this.lastBoundingBox.height)>pM)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ai({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,u=i.verticalAlign,c=i.margin,f=i.chartWidth,h=i.chartHeight,p,g;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var b=this.getBBoxSnapshot();p={left:((f||0)-b.width)/2}}else p=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(u==="middle"){var S=this.getBBoxSnapshot();g={top:((h||0)-S.height)/2}}else g=u==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ai(Ai({},p),g)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,u=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,p=Ai(Ai({position:"absolute",width:s||"auto",height:u||"auto"},this.getDefaultPosition(c)),c);return G.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(b){r.wrapperNode=b}},O7(a,Ai(Ai({},this.props),{},{payload:QU(h,f,C7)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Ai(Ai({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&he(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])})(U.PureComponent);om(Di,"displayName","Legend");om(Di,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Zb,mM;function R7(){if(mM)return Zb;mM=1;var t=mf(),e=SE(),n=kn(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return Zb=i,Zb}var e_,gM;function t$(){if(gM)return e_;gM=1;var t=zU(),e=R7();function n(r,i,a,s,u){var c=-1,f=r.length;for(a||(a=e),u||(u=[]);++c<f;){var h=r[c];i>0&&a(h)?i>1?n(h,i-1,a,s,u):t(u,h):s||(u[u.length]=h)}return u}return e_=n,e_}var t_,vM;function P7(){if(vM)return t_;vM=1;function t(e){return function(n,r,i){for(var a=-1,s=Object(n),u=i(n),c=u.length;c--;){var f=u[e?c:++a];if(r(s[f],f,s)===!1)break}return n}}return t_=t,t_}var n_,yM;function N7(){if(yM)return n_;yM=1;var t=P7(),e=t();return n_=e,n_}var r_,bM;function n$(){if(bM)return r_;bM=1;var t=N7(),e=am();function n(r,i){return r&&t(r,i,e)}return r_=n,r_}var i_,_M;function M7(){if(_M)return i_;_M=1;var t=yf();function e(n,r){return function(i,a){if(i==null)return i;if(!t(i))return n(i,a);for(var s=i.length,u=r?s:-1,c=Object(i);(r?u--:++u<s)&&a(c[u],u,c)!==!1;);return i}}return i_=e,i_}var a_,xM;function CE(){if(xM)return a_;xM=1;var t=n$(),e=M7(),n=e(t);return a_=n,a_}var o_,wM;function r$(){if(wM)return o_;wM=1;var t=CE(),e=yf();function n(r,i){var a=-1,s=e(r)?Array(r.length):[];return t(r,function(u,c,f){s[++a]=i(u,c,f)}),s}return o_=n,o_}var s_,SM;function I7(){if(SM)return s_;SM=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return s_=t,s_}var l_,EM;function k7(){if(EM)return l_;EM=1;var t=Nl();function e(n,r){if(n!==r){var i=n!==void 0,a=n===null,s=n===n,u=t(n),c=r!==void 0,f=r===null,h=r===r,p=t(r);if(!f&&!p&&!u&&n>r||u&&c&&h&&!f&&!p||a&&c&&h||!i&&h||!s)return 1;if(!a&&!u&&!p&&n<r||p&&i&&s&&!a&&!u||f&&i&&s||!c&&s||!h)return-1}return 0}return l_=e,l_}var u_,TM;function D7(){if(TM)return u_;TM=1;var t=k7();function e(n,r,i){for(var a=-1,s=n.criteria,u=r.criteria,c=s.length,f=i.length;++a<c;){var h=t(s[a],u[a]);if(h){if(a>=f)return h;var p=i[a];return h*(p=="desc"?-1:1)}}return n.index-r.index}return u_=e,u_}var c_,AM;function L7(){if(AM)return c_;AM=1;var t=dE(),e=hE(),n=ii(),r=r$(),i=I7(),a=GU(),s=D7(),u=Il(),c=kn();function f(h,p,g){p.length?p=t(p,function(E){return c(E)?function(x){return e(x,E.length===1?E[0]:E)}:E}):p=[u];var b=-1;p=t(p,a(n));var S=r(h,function(E,x,A){var O=t(p,function(C){return C(E)});return{criteria:O,index:++b,value:E}});return i(S,function(E,x){return s(E,x,g)})}return c_=f,c_}var f_,CM;function j7(){if(CM)return f_;CM=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return f_=t,f_}var d_,OM;function U7(){if(OM)return d_;OM=1;var t=j7(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var s=arguments,u=-1,c=e(s.length-i,0),f=Array(c);++u<c;)f[u]=s[i+u];u=-1;for(var h=Array(i+1);++u<i;)h[u]=s[u];return h[i]=a(f),t(r,this,h)}}return d_=n,d_}var h_,RM;function $7(){if(RM)return h_;RM=1;function t(e){return function(){return e}}return h_=t,h_}var p_,PM;function i$(){if(PM)return p_;PM=1;var t=Mo(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return p_=e,p_}var m_,NM;function q7(){if(NM)return m_;NM=1;var t=$7(),e=i$(),n=Il(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return m_=r,m_}var g_,MM;function B7(){if(MM)return g_;MM=1;var t=800,e=16,n=Date.now;function r(i){var a=0,s=0;return function(){var u=n(),c=e-(u-s);if(s=u,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return g_=r,g_}var v_,IM;function H7(){if(IM)return v_;IM=1;var t=q7(),e=B7(),n=e(t);return v_=n,v_}var y_,kM;function z7(){if(kM)return y_;kM=1;var t=Il(),e=U7(),n=H7();function r(i,a){return n(e(i,a,t),i+"")}return y_=r,y_}var b_,DM;function sm(){if(DM)return b_;DM=1;var t=uE(),e=yf(),n=EE(),r=Na();function i(a,s,u){if(!r(u))return!1;var c=typeof s;return(c=="number"?e(u)&&n(s,u.length):c=="string"&&s in u)?t(u[s],a):!1}return b_=i,b_}var __,LM;function V7(){if(LM)return __;LM=1;var t=t$(),e=L7(),n=z7(),r=sm(),i=n(function(a,s){if(a==null)return[];var u=s.length;return u>1&&r(a,s[0],s[1])?s=[]:u>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])});return __=i,__}var G7=V7();const OE=Ge(G7);function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cw.apply(this,arguments)}function F7(t,e){return J7(t)||Y7(t,e)||W7(t,e)||K7()}function K7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W7(t,e){if(t){if(typeof t=="string")return jM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jM(t,e)}}function jM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Y7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function J7(t){if(Array.isArray(t))return t}function UM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UM(Object(n),!0).forEach(function(r){X7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X7(t,e,n){return e=Q7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q7(t){var e=Z7(t,"string");return Ac(e)=="symbol"?e:e+""}function Z7(t,e){if(Ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eK(t){return Array.isArray(t)&&Ft(t[0])&&Ft(t[1])?t.join(" ~ "):t}var tK=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,u=s===void 0?{}:s,c=e.labelStyle,f=c===void 0?{}:c,h=e.payload,p=e.formatter,g=e.itemSorter,b=e.wrapperClassName,S=e.labelClassName,E=e.label,x=e.labelFormatter,A=e.accessibilityLayer,O=A===void 0?!1:A,C=function(){if(h&&h.length){var Y={padding:0,margin:0},H=(g?OE(h,g):h).map(function(W,B){if(W.type==="none")return null;var j=x_({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},u),K=W.formatter||p||eK,ee=W.value,oe=W.name,ue=ee,q=oe;if(K&&ue!=null&&q!=null){var J=K(ee,oe,W,B,h);if(Array.isArray(J)){var re=F7(J,2);ue=re[0],q=re[1]}else ue=J}return G.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:j},Ft(q)?G.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Ft(q)?G.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,G.createElement("span",{className:"recharts-tooltip-item-value"},ue),G.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return G.createElement("ul",{className:"recharts-tooltip-item-list",style:Y},H)}return null},P=x_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),R=x_({margin:0},f),N=!Ue(E),I=N?E:"",D=Le("recharts-default-tooltip",b),L=Le("recharts-tooltip-label",S);N&&x&&h!==void 0&&h!==null&&(I=x(E,h));var V=O?{role:"status","aria-live":"assertive"}:{};return G.createElement("div",cw({className:D,style:P},V),G.createElement("p",{className:L,style:R},G.isValidElement(I)?I:"".concat(I)),C())};function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function Yd(t,e,n){return e=nK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nK(t){var e=rK(t,"string");return Cc(e)=="symbol"?e:e+""}function rK(t,e){if(Cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qu="recharts-tooltip-wrapper",iK={visibility:"hidden"};function aK(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Le(qu,Yd(Yd(Yd(Yd({},"".concat(qu,"-right"),he(n)&&e&&he(e.x)&&n>=e.x),"".concat(qu,"-left"),he(n)&&e&&he(e.x)&&n<e.x),"".concat(qu,"-bottom"),he(r)&&e&&he(e.y)&&r>=e.y),"".concat(qu,"-top"),he(r)&&e&&he(e.y)&&r<e.y))}function $M(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,u=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(a&&he(a[r]))return a[r];var h=n[r]-u-i,p=n[r]+i;if(e[r])return s[r]?h:p;if(s[r]){var g=h,b=c[r];return g<b?Math.max(p,c[r]):Math.max(h,c[r])}var S=p+u,E=c[r]+f;return S>E?Math.max(h,c[r]):Math.max(p,c[r])}function oK(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function sK(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,u=t.useTranslate3d,c=t.viewBox,f,h,p;return s.height>0&&s.width>0&&n?(h=$M({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),p=$M({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=oK({translateX:h,translateY:p,useTranslate3d:u})):f=iK,{cssProperties:f,cssClasses:aK({translateX:h,translateY:p,coordinate:n})}}function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){dw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o$(r.key),r)}}function cK(t,e,n){return e&&uK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fK(t,e,n){return e=Bh(e),dK(t,a$()?Reflect.construct(e,n||[],Bh(t).constructor):e.apply(t,n))}function dK(t,e){if(e&&(nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hK(t)}function hK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a$=function(){return!!t})()}function Bh(t){return Bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bh(t)}function pK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fw(t,e)}function fw(t,e){return fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fw(t,e)}function dw(t,e,n){return e=o$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o$(t){var e=mK(t,"string");return nl(e)=="symbol"?e:e+""}function mK(t,e){if(nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var HM=1,gK=(function(t){function e(){var n;lK(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=fK(this,e,[].concat(i)),dw(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),dw(n,"handleKeyDown",function(s){if(s.key==="Escape"){var u,c,f,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&u!==void 0?u:0,y:(f=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),n}return pK(e,t),cK(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>HM||Math.abs(r.height-this.state.lastBoundingBox.height)>HM)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.children,h=i.coordinate,p=i.hasPayload,g=i.isAnimationActive,b=i.offset,S=i.position,E=i.reverseDirection,x=i.useTranslate3d,A=i.viewBox,O=i.wrapperStyle,C=sK({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:b,position:S,reverseDirection:E,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:A}),P=C.cssClasses,R=C.cssProperties,N=BM(BM({transition:g&&a?"transform ".concat(u,"ms ").concat(c):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&p?"visible":"hidden",position:"absolute",top:0,left:0},O);return G.createElement("div",{tabIndex:-1,className:P,style:N,ref:function(D){r.wrapperNode=D}},f)}}])})(U.PureComponent),vK=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},kl={isSsr:vK()};function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}function zM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zM(Object(n),!0).forEach(function(r){RE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l$(r.key),r)}}function _K(t,e,n){return e&&bK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xK(t,e,n){return e=Hh(e),wK(t,s$()?Reflect.construct(e,n||[],Hh(t).constructor):e.apply(t,n))}function wK(t,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SK(t)}function SK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s$=function(){return!!t})()}function Hh(t){return Hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hh(t)}function EK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hw(t,e)}function hw(t,e){return hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hw(t,e)}function RE(t,e,n){return e=l$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l$(t){var e=TK(t,"string");return rl(e)=="symbol"?e:e+""}function TK(t,e){if(rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function AK(t){return t.dataKey}function CK(t,e){return G.isValidElement(t)?G.cloneElement(t,e):typeof t=="function"?G.createElement(t,e):G.createElement(tK,e)}var Mn=(function(t){function e(){return yK(this,e),xK(this,e,arguments)}return EK(e,t),_K(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.content,h=i.coordinate,p=i.filterNull,g=i.isAnimationActive,b=i.offset,S=i.payload,E=i.payloadUniqBy,x=i.position,A=i.reverseDirection,O=i.useTranslate3d,C=i.viewBox,P=i.wrapperStyle,R=S??[];p&&R.length&&(R=QU(S.filter(function(I){return I.value!=null&&(I.hide!==!0||r.props.includeHidden)}),E,AK));var N=R.length>0;return G.createElement(gK,{allowEscapeViewBox:s,animationDuration:u,animationEasing:c,isAnimationActive:g,active:a,coordinate:h,hasPayload:N,offset:b,position:x,reverseDirection:A,useTranslate3d:O,viewBox:C,wrapperStyle:P},CK(f,VM(VM({},this.props),{},{payload:R})))}}])})(U.PureComponent);RE(Mn,"displayName","Tooltip");RE(Mn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!kl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var w_,GM;function OK(){if(GM)return w_;GM=1;var t=ri(),e=function(){return t.Date.now()};return w_=e,w_}var S_,FM;function RK(){if(FM)return S_;FM=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return S_=e,S_}var E_,KM;function PK(){if(KM)return E_;KM=1;var t=RK(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return E_=n,E_}var T_,WM;function u$(){if(WM)return T_;WM=1;var t=PK(),e=Na(),n=Nl(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;function c(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=a.test(f);return p||s.test(f)?u(f.slice(2),p?2:8):i.test(f)?r:+f}return T_=c,T_}var A_,YM;function NK(){if(YM)return A_;YM=1;var t=Na(),e=OK(),n=u$(),r="Expected a function",i=Math.max,a=Math.min;function s(u,c,f){var h,p,g,b,S,E,x=0,A=!1,O=!1,C=!0;if(typeof u!="function")throw new TypeError(r);c=n(c)||0,t(f)&&(A=!!f.leading,O="maxWait"in f,g=O?i(n(f.maxWait)||0,c):g,C="trailing"in f?!!f.trailing:C);function P(H){var W=h,B=p;return h=p=void 0,x=H,b=u.apply(B,W),b}function R(H){return x=H,S=setTimeout(D,c),A?P(H):b}function N(H){var W=H-E,B=H-x,j=c-W;return O?a(j,g-B):j}function I(H){var W=H-E,B=H-x;return E===void 0||W>=c||W<0||O&&B>=g}function D(){var H=e();if(I(H))return L(H);S=setTimeout(D,N(H))}function L(H){return S=void 0,C&&h?P(H):(h=p=void 0,b)}function V(){S!==void 0&&clearTimeout(S),x=0,h=E=p=S=void 0}function $(){return S===void 0?b:L(e())}function Y(){var H=e(),W=I(H);if(h=arguments,p=this,E=H,W){if(S===void 0)return R(E);if(O)return clearTimeout(S),S=setTimeout(D,c),P(E)}return S===void 0&&(S=setTimeout(D,c)),b}return Y.cancel=V,Y.flush=$,Y}return A_=s,A_}var C_,JM;function MK(){if(JM)return C_;JM=1;var t=NK(),e=Na(),n="Expected a function";function r(i,a,s){var u=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(s)&&(u="leading"in s?!!s.leading:u,c="trailing"in s?!!s.trailing:c),t(i,a,{leading:u,maxWait:a,trailing:c})}return C_=r,C_}var IK=MK();const c$=Ge(IK);function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function XM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XM(Object(n),!0).forEach(function(r){kK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kK(t,e,n){return e=DK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DK(t){var e=LK(t,"string");return Oc(e)=="symbol"?e:e+""}function LK(t,e){if(Oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jK(t,e){return BK(t)||qK(t,e)||$K(t,e)||UK()}function UK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $K(t,e){if(t){if(typeof t=="string")return QM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QM(t,e)}}function QM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function BK(t){if(Array.isArray(t))return t}var cc=U.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,u=t.height,c=u===void 0?"100%":u,f=t.minWidth,h=f===void 0?0:f,p=t.minHeight,g=t.maxHeight,b=t.children,S=t.debounce,E=S===void 0?0:S,x=t.id,A=t.className,O=t.onResize,C=t.style,P=C===void 0?{}:C,R=U.useRef(null),N=U.useRef();N.current=O,U.useImperativeHandle(e,function(){return Object.defineProperty(R.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),R.current},configurable:!0})});var I=U.useState({containerWidth:i.width,containerHeight:i.height}),D=jK(I,2),L=D[0],V=D[1],$=U.useCallback(function(H,W){V(function(B){var j=Math.round(H),K=Math.round(W);return B.containerWidth===j&&B.containerHeight===K?B:{containerWidth:j,containerHeight:K}})},[]);U.useEffect(function(){var H=function(oe){var ue,q=oe[0].contentRect,J=q.width,re=q.height;$(J,re),(ue=N.current)===null||ue===void 0||ue.call(N,J,re)};E>0&&(H=c$(H,E,{trailing:!0,leading:!1}));var W=new ResizeObserver(H),B=R.current.getBoundingClientRect(),j=B.width,K=B.height;return $(j,K),W.observe(R.current),function(){W.disconnect()}},[$,E]);var Y=U.useMemo(function(){var H=L.containerWidth,W=L.containerHeight;if(H<0||W<0)return null;Ur(go(s)||go(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Ur(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=go(s)?H:s,j=go(c)?W:c;n&&n>0&&(B?j=B/n:j&&(B=j*n),g&&j>g&&(j=g)),Ur(B>0||j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,j,s,c,h,p,n);var K=!Array.isArray(b)&&ki(b.type).endsWith("Chart");return G.Children.map(b,function(ee){return G.isValidElement(ee)?U.cloneElement(ee,Jd({width:B,height:j},K?{style:Jd({height:"100%",width:"100%",maxHeight:j,maxWidth:B},ee.props.style)}:{})):ee})},[n,b,c,g,p,h,L,s]);return G.createElement("div",{id:x?"".concat(x):void 0,className:Le("recharts-responsive-container",A),style:Jd(Jd({},P),{},{width:s,height:c,minWidth:h,minHeight:p,maxHeight:g}),ref:R},Y)}),il=function(e){return null};il.displayName="Cell";function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function ZM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZM(Object(n),!0).forEach(function(r){HK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HK(t,e,n){return e=zK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zK(t){var e=VK(t,"string");return Rc(e)=="symbol"?e:e+""}function VK(t,e){if(Rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Os={widthCache:{},cacheCount:0},GK=2e3,FK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},eI="recharts_measurement_span";function KK(t){var e=pw({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var fc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||kl.isSsr)return{width:0,height:0};var r=KK(n),i=JSON.stringify({text:e,copyStyle:r});if(Os.widthCache[i])return Os.widthCache[i];try{var a=document.getElementById(eI);a||(a=document.createElement("span"),a.setAttribute("id",eI),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=pw(pw({},FK),r);Object.assign(a.style,s),a.textContent="".concat(e);var u=a.getBoundingClientRect(),c={width:u.width,height:u.height};return Os.widthCache[i]=c,++Os.cacheCount>GK&&(Os.cacheCount=0,Os.widthCache={}),c}catch{return{width:0,height:0}}},WK=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function zh(t,e){return QK(t)||XK(t,e)||JK(t,e)||YK()}function YK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JK(t,e){if(t){if(typeof t=="string")return tI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tI(t,e)}}function tI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function QK(t){if(Array.isArray(t))return t}function ZK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tW(r.key),r)}}function eW(t,e,n){return e&&nI(t.prototype,e),n&&nI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tW(t){var e=nW(t,"string");return Pc(e)=="symbol"?e:e+""}function nW(t,e){if(Pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,iW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,f$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},aW=Object.keys(f$),Ls="NaN";function oW(t,e){return t*f$[e]}var Xd=(function(){function t(e,n){ZK(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!rW.test(n)&&(this.num=NaN,this.unit=""),aW.includes(n)&&(this.num=oW(e,n),this.unit="px")}return eW(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=iW.exec(n))!==null&&r!==void 0?r:[],a=zh(i,3),s=a[1],u=a[2];return new t(parseFloat(s),u??"")}}])})();function d$(t){if(t.includes(Ls))return Ls;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=rI.exec(e))!==null&&n!==void 0?n:[],i=zh(r,4),a=i[1],s=i[2],u=i[3],c=Xd.parse(a??""),f=Xd.parse(u??""),h=s==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return Ls;e=e.replace(rI,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,g=(p=iI.exec(e))!==null&&p!==void 0?p:[],b=zh(g,4),S=b[1],E=b[2],x=b[3],A=Xd.parse(S??""),O=Xd.parse(x??""),C=E==="+"?A.add(O):A.subtract(O);if(C.isNaN())return Ls;e=e.replace(iI,C.toString())}return e}var aI=/\(([^()]*)\)/;function sW(t){for(var e=t;e.includes("(");){var n=aI.exec(e),r=zh(n,2),i=r[1];e=e.replace(aI,d$(i))}return e}function lW(t){var e=t.replace(/\s+/g,"");return e=sW(e),e=d$(e),e}function uW(t){try{return lW(t)}catch{return Ls}}function O_(t){var e=uW(t.slice(5,-1));return e===Ls?"":e}var cW=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],fW=["dx","dy","angle","className","breakAll"];function mw(){return mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mw.apply(this,arguments)}function oI(t,e){if(t==null)return{};var n=dW(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sI(t,e){return gW(t)||mW(t,e)||pW(t,e)||hW()}function hW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pW(t,e){if(t){if(typeof t=="string")return lI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lI(t,e)}}function lI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function gW(t){if(Array.isArray(t))return t}var h$=/[ \f\n\r\t\v\u2028\u2029]+/,p$=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Ue(n)||(r?a=n.toString().split(""):a=n.toString().split(h$));var s=a.map(function(c){return{word:c,width:fc(c,i).width}}),u=r?0:fc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:u}}catch{return null}},vW=function(e,n,r,i,a){var s=e.maxLines,u=e.children,c=e.style,f=e.breakAll,h=he(s),p=u,g=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(j,K){var ee=K.word,oe=K.width,ue=j[j.length-1];if(ue&&(i==null||a||ue.width+oe+r<Number(i)))ue.words.push(ee),ue.width+=oe+r;else{var q={words:[ee],width:oe};j.push(q)}return j},[])},b=g(n),S=function(B){return B.reduce(function(j,K){return j.width>K.width?j:K})};if(!h)return b;for(var E="",x=function(B){var j=p.slice(0,B),K=p$({breakAll:f,style:c,children:j+E}).wordsWithComputedWidth,ee=g(K),oe=ee.length>s||S(ee).width>Number(i);return[oe,ee]},A=0,O=p.length-1,C=0,P;A<=O&&C<=p.length-1;){var R=Math.floor((A+O)/2),N=R-1,I=x(N),D=sI(I,2),L=D[0],V=D[1],$=x(R),Y=sI($,1),H=Y[0];if(!L&&!H&&(A=R+1),L&&H&&(O=R-1),!L&&H){P=V;break}C++}return P||b},uI=function(e){var n=Ue(e)?[]:e.toString().split(h$);return[{words:n}]},yW=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,u=e.maxLines;if((n||r)&&!kl.isSsr){var c,f,h=p$({breakAll:s,children:i,style:a});if(h){var p=h.wordsWithComputedWidth,g=h.spaceWidth;c=p,f=g}else return uI(i);return vW({breakAll:s,children:i,maxLines:u,style:a},c,f,n,r)}return uI(i)},cI="#808080",To=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,u=s===void 0?"1em":s,c=e.capHeight,f=c===void 0?"0.71em":c,h=e.scaleToFit,p=h===void 0?!1:h,g=e.textAnchor,b=g===void 0?"start":g,S=e.verticalAnchor,E=S===void 0?"end":S,x=e.fill,A=x===void 0?cI:x,O=oI(e,cW),C=U.useMemo(function(){return yW({breakAll:O.breakAll,children:O.children,maxLines:O.maxLines,scaleToFit:p,style:O.style,width:O.width})},[O.breakAll,O.children,O.maxLines,p,O.style,O.width]),P=O.dx,R=O.dy,N=O.angle,I=O.className,D=O.breakAll,L=oI(O,fW);if(!Ft(r)||!Ft(a))return null;var V=r+(he(P)?P:0),$=a+(he(R)?R:0),Y;switch(E){case"start":Y=O_("calc(".concat(f,")"));break;case"middle":Y=O_("calc(".concat((C.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:Y=O_("calc(".concat(C.length-1," * -").concat(u,")"));break}var H=[];if(p){var W=C[0].width,B=O.width;H.push("scale(".concat((he(B)?B/W:1)/W,")"))}return N&&H.push("rotate(".concat(N,", ").concat(V,", ").concat($,")")),H.length&&(L.transform=H.join(" ")),G.createElement("text",mw({},Ae(L,!0),{x:V,y:$,className:Le("recharts-text",I),textAnchor:b,fill:A.includes("url")?cI:A}),C.map(function(j,K){var ee=j.words.join(D?"":" ");return G.createElement("tspan",{x:V,dy:K===0?Y:u,key:"".concat(ee,"-").concat(K)},ee)}))};function Ca(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bW(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function PE(t){let e,n,r;t.length!==2?(e=Ca,n=(u,c)=>Ca(t(u),c),r=(u,c)=>t(u)-c):(e=t===Ca||t===bW?t:_W,n=t,r=t);function i(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(u[p],c)<0?f=p+1:h=p}while(f<h)}return f}function a(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(u[p],c)<=0?f=p+1:h=p}while(f<h)}return f}function s(u,c,f=0,h=u.length){const p=i(u,c,f,h-1);return p>f&&r(u[p-1],c)>-r(u[p],c)?p-1:p}return{left:i,center:s,right:a}}function _W(){return 0}function m$(t){return t===null?NaN:+t}function*xW(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const wW=PE(Ca),bf=wW.right;PE(m$).center;class Ao{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=e+a,u=Math.abs(e)<Math.abs(a)?e-(s-a):a-(s-e);u&&(n[r++]=u),e=s}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=e[--n];n>0&&(r=s,i=e[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}}class fI extends Map{constructor(e,n=TW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(dI(this,e))}has(e){return super.has(dI(this,e))}set(e,n){return super.set(SW(this,e),n)}delete(e){return super.delete(EW(this,e))}}function dI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function SW({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function EW({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function TW(t){return t!==null&&typeof t=="object"?t.valueOf():t}function AW(t=Ca){if(t===Ca)return g$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function g$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const CW=Math.sqrt(50),OW=Math.sqrt(10),RW=Math.sqrt(2);function Vh(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=CW?10:a>=OW?5:a>=RW?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/s,u=Math.round(t*f),c=Math.round(e*f),u/f<t&&++u,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,u=Math.round(t/f),c=Math.round(e/f),u*f<t&&++u,c*f>e&&--c),c<u&&.5<=n&&n<2?Vh(t,e,n*2):[u,c,f]}function gw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?Vh(e,t,n):Vh(t,e,n);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(r)if(s<0)for(let f=0;f<u;++f)c[f]=(a-f)/-s;else for(let f=0;f<u;++f)c[f]=(a-f)*s;else if(s<0)for(let f=0;f<u;++f)c[f]=(i+f)/-s;else for(let f=0;f<u;++f)c[f]=(i+f)*s;return c}function vw(t,e,n){return e=+e,t=+t,n=+n,Vh(t,e,n)[2]}function yw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?vw(e,t,n):vw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function hI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function pI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function v$(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?g$:AW(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),p=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*p*(c-p)/c)*(f-c/2<0?-1:1),b=Math.max(n,Math.floor(e-f*p/c+g)),S=Math.min(r,Math.floor(e+(c-f)*p/c+g));v$(t,e,b,S,i)}const a=t[e];let s=n,u=r;for(Bu(t,n,e),i(t[r],a)>0&&Bu(t,n,r);s<u;){for(Bu(t,s,u),++s,--u;i(t[s],a)<0;)++s;for(;i(t[u],a)>0;)--u}i(t[n],a)===0?Bu(t,n,u):(++u,Bu(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Bu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function PW(t,e,n){if(t=Float64Array.from(xW(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return pI(t);if(e>=1)return hI(t);var r,i=(r-1)*e,a=Math.floor(i),s=hI(v$(t,a).subarray(0,a+1)),u=pI(t.subarray(a+1));return s+(u-s)*(i-a)}}function NW(t,e,n=m$){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return s+(u-s)*(i-a)}}function*MW(t){for(const e of t)yield*e}function y$(t){return Array.from(MW(t))}function IW(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Er(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Fi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const bw=Symbol("implicit");function NE(){var t=new fI,e=[],n=[],r=bw;function i(a){let s=t.get(a);if(s===void 0){if(r!==bw)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new fI;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return NE(e,n).unknown(r)},Er.apply(i,arguments),i}function Nc(){var t=NE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,u=!1,c=0,f=0,h=.5;delete t.unknown;function p(){var g=e().length,b=i<r,S=b?i:r,E=b?r:i;a=(E-S)/Math.max(1,g-c+f*2),u&&(a=Math.floor(a)),S+=(E-S-a*(g-c))*h,s=a*(1-c),u&&(S=Math.round(S),s=Math.round(s));var x=IW(g).map(function(A){return S+a*A});return n(b?x.reverse():x)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,u=!0,p()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(g){return arguments.length?(u=!!g,p()):u},t.padding=function(g){return arguments.length?(c=Math.min(1,f=+g),p()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),p()):c},t.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},t.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),p()):h},t.copy=function(){return Nc(e(),[r,i]).round(u).paddingInner(c).paddingOuter(f).align(h)},Er.apply(p(),arguments)}function b$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return b$(e())},t}function dc(){return b$(Nc.apply(null,arguments).paddingInner(1))}function ME(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function _$(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function _f(){}var Mc=.7,Gh=1/Mc,Ws="\\s*([+-]?\\d+)\\s*",Ic="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kW=/^#([0-9a-f]{3,8})$/,DW=new RegExp(`^rgb\\(${Ws},${Ws},${Ws}\\)$`),LW=new RegExp(`^rgb\\(${Zr},${Zr},${Zr}\\)$`),jW=new RegExp(`^rgba\\(${Ws},${Ws},${Ws},${Ic}\\)$`),UW=new RegExp(`^rgba\\(${Zr},${Zr},${Zr},${Ic}\\)$`),$W=new RegExp(`^hsl\\(${Ic},${Zr},${Zr}\\)$`),qW=new RegExp(`^hsla\\(${Ic},${Zr},${Zr},${Ic}\\)$`),mI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ME(_f,kc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:gI,formatHex:gI,formatHex8:BW,formatHsl:HW,formatRgb:vI,toString:vI});function gI(){return this.rgb().formatHex()}function BW(){return this.rgb().formatHex8()}function HW(){return x$(this).formatHsl()}function vI(){return this.rgb().formatRgb()}function kc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=kW.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?yI(e):n===3?new In(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Qd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Qd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=DW.exec(t))?new In(e[1],e[2],e[3],1):(e=LW.exec(t))?new In(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=jW.exec(t))?Qd(e[1],e[2],e[3],e[4]):(e=UW.exec(t))?Qd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=$W.exec(t))?xI(e[1],e[2]/100,e[3]/100,1):(e=qW.exec(t))?xI(e[1],e[2]/100,e[3]/100,e[4]):mI.hasOwnProperty(t)?yI(mI[t]):t==="transparent"?new In(NaN,NaN,NaN,0):null}function yI(t){return new In(t>>16&255,t>>8&255,t&255,1)}function Qd(t,e,n,r){return r<=0&&(t=e=n=NaN),new In(t,e,n,r)}function zW(t){return t instanceof _f||(t=kc(t)),t?(t=t.rgb(),new In(t.r,t.g,t.b,t.opacity)):new In}function _w(t,e,n,r){return arguments.length===1?zW(t):new In(t,e,n,r??1)}function In(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ME(In,_w,_$(_f,{brighter(t){return t=t==null?Gh:Math.pow(Gh,t),new In(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Mc:Math.pow(Mc,t),new In(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new In(xo(this.r),xo(this.g),xo(this.b),Fh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bI,formatHex:bI,formatHex8:VW,formatRgb:_I,toString:_I}));function bI(){return`#${vo(this.r)}${vo(this.g)}${vo(this.b)}`}function VW(){return`#${vo(this.r)}${vo(this.g)}${vo(this.b)}${vo((isNaN(this.opacity)?1:this.opacity)*255)}`}function _I(){const t=Fh(this.opacity);return`${t===1?"rgb(":"rgba("}${xo(this.r)}, ${xo(this.g)}, ${xo(this.b)}${t===1?")":`, ${t})`}`}function Fh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function xo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function vo(t){return t=xo(t),(t<16?"0":"")+t.toString(16)}function xI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Lr(t,e,n,r)}function x$(t){if(t instanceof Lr)return new Lr(t.h,t.s,t.l,t.opacity);if(t instanceof _f||(t=kc(t)),!t)return new Lr;if(t instanceof Lr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,u=a-i,c=(a+i)/2;return u?(e===a?s=(n-r)/u+(n<r)*6:n===a?s=(r-e)/u+2:s=(e-n)/u+4,u/=c<.5?a+i:2-a-i,s*=60):u=c>0&&c<1?0:s,new Lr(s,u,c,t.opacity)}function GW(t,e,n,r){return arguments.length===1?x$(t):new Lr(t,e,n,r??1)}function Lr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ME(Lr,GW,_$(_f,{brighter(t){return t=t==null?Gh:Math.pow(Gh,t),new Lr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Mc:Math.pow(Mc,t),new Lr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new In(R_(t>=240?t-240:t+120,i,r),R_(t,i,r),R_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Lr(wI(this.h),Zd(this.s),Zd(this.l),Fh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Fh(this.opacity);return`${t===1?"hsl(":"hsla("}${wI(this.h)}, ${Zd(this.s)*100}%, ${Zd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function wI(t){return t=(t||0)%360,t<0?t+360:t}function Zd(t){return Math.max(0,Math.min(1,t||0))}function R_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const IE=t=>()=>t;function FW(t,e){return function(n){return t+n*e}}function KW(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function WW(t){return(t=+t)==1?w$:function(e,n){return n-e?KW(e,n,t):IE(isNaN(e)?n:e)}}function w$(t,e){var n=e-t;return n?FW(t,n):IE(isNaN(t)?e:t)}const SI=(function t(e){var n=WW(e);function r(i,a){var s=n((i=_w(i)).r,(a=_w(a)).r),u=n(i.g,a.g),c=n(i.b,a.b),f=w$(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=u(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function YW(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function JW(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function XW(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Dl(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(u){for(s=0;s<r;++s)a[s]=i[s](u);return a}}function QW(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Kh(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ZW(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Dl(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var xw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,P_=new RegExp(xw.source,"g");function eY(t){return function(){return t}}function tY(t){return function(e){return t(e)+""}}function nY(t,e){var n=xw.lastIndex=P_.lastIndex=0,r,i,a,s=-1,u=[],c=[];for(t=t+"",e=e+"";(r=xw.exec(t))&&(i=P_.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[s]?u[s]+=a:u[++s]=a),(r=r[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:Kh(r,i)})),n=P_.lastIndex;return n<e.length&&(a=e.slice(n),u[s]?u[s]+=a:u[++s]=a),u.length<2?c[0]?tY(c[0].x):eY(e):(e=c.length,function(f){for(var h=0,p;h<e;++h)u[(p=c[h]).i]=p.x(f);return u.join("")})}function Dl(t,e){var n=typeof e,r;return e==null||n==="boolean"?IE(e):(n==="number"?Kh:n==="string"?(r=kc(e))?(e=r,SI):nY:e instanceof kc?SI:e instanceof Date?QW:JW(e)?YW:Array.isArray(e)?XW:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ZW:Kh)(t,e)}function kE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function rY(t,e){e===void 0&&(e=t,t=Dl);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var u=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[u](s-u)}}function iY(t){return function(){return t}}function Wh(t){return+t}var EI=[0,1];function Sn(t){return t}function ww(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:iY(isNaN(e)?NaN:.5)}function aY(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function oY(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=ww(i,r),a=n(s,a)):(r=ww(r,i),a=n(a,s)),function(u){return a(r(u))}}function sY(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=ww(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(u){var c=bf(t,u,1,r)-1;return a[c](i[c](u))}}function xf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function lm(){var t=EI,e=EI,n=Dl,r,i,a,s=Sn,u,c,f;function h(){var g=Math.min(t.length,e.length);return s!==Sn&&(s=aY(t[0],t[g-1])),u=g>2?sY:oY,c=f=null,p}function p(g){return g==null||isNaN(g=+g)?a:(c||(c=u(t.map(r),e,n)))(r(s(g)))}return p.invert=function(g){return s(i((f||(f=u(e,t.map(r),Kh)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,Wh),h()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),h()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),n=kE,h()},p.clamp=function(g){return arguments.length?(s=g?!0:Sn,h()):s!==Sn},p.interpolate=function(g){return arguments.length?(n=g,h()):n},p.unknown=function(g){return arguments.length?(a=g,p):a},function(g,b){return r=g,i=b,h()}}function DE(){return lm()(Sn,Sn)}function lY(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Yh(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function al(t){return t=Yh(Math.abs(t)),t?t[1]:NaN}function uY(t,e){return function(n,r){for(var i=n.length,a=[],s=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),a.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[s=(s+1)%t.length];return a.reverse().join(e)}}function cY(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var fY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Dc(t){if(!(e=fY.exec(t)))throw new Error("invalid format: "+t);var e;return new LE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Dc.prototype=LE.prototype;function LE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}LE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dY(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var S$;function hY(t,e){var n=Yh(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(S$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Yh(t,Math.max(0,e+a-1))[0]}function TI(t,e){var n=Yh(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const AI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:lY,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>TI(t*100,e),r:TI,s:hY,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function CI(t){return t}var OI=Array.prototype.map,RI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function pY(t){var e=t.grouping===void 0||t.thousands===void 0?CI:uY(OI.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?CI:cY(OI.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p){p=Dc(p);var g=p.fill,b=p.align,S=p.sign,E=p.symbol,x=p.zero,A=p.width,O=p.comma,C=p.precision,P=p.trim,R=p.type;R==="n"?(O=!0,R="g"):AI[R]||(C===void 0&&(C=12),P=!0,R="g"),(x||g==="0"&&b==="=")&&(x=!0,g="0",b="=");var N=E==="$"?n:E==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",I=E==="$"?r:/[%p]/.test(R)?s:"",D=AI[R],L=/[defgprs%]/.test(R);C=C===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function V($){var Y=N,H=I,W,B,j;if(R==="c")H=D($)+H,$="";else{$=+$;var K=$<0||1/$<0;if($=isNaN($)?c:D(Math.abs($),C),P&&($=dY($)),K&&+$==0&&S!=="+"&&(K=!1),Y=(K?S==="("?S:u:S==="-"||S==="("?"":S)+Y,H=(R==="s"?RI[8+S$/3]:"")+H+(K&&S==="("?")":""),L){for(W=-1,B=$.length;++W<B;)if(j=$.charCodeAt(W),48>j||j>57){H=(j===46?i+$.slice(W+1):$.slice(W))+H,$=$.slice(0,W);break}}}O&&!x&&($=e($,1/0));var ee=Y.length+$.length+H.length,oe=ee<A?new Array(A-ee+1).join(g):"";switch(O&&x&&($=e(oe+$,oe.length?A-H.length:1/0),oe=""),b){case"<":$=Y+$+H+oe;break;case"=":$=Y+oe+$+H;break;case"^":$=oe.slice(0,ee=oe.length>>1)+Y+$+H+oe.slice(ee);break;default:$=oe+Y+$+H;break}return a($)}return V.toString=function(){return p+""},V}function h(p,g){var b=f((p=Dc(p),p.type="f",p)),S=Math.max(-8,Math.min(8,Math.floor(al(g)/3)))*3,E=Math.pow(10,-S),x=RI[8+S/3];return function(A){return b(E*A)+x}}return{format:f,formatPrefix:h}}var eh,jE,E$;mY({thousands:",",grouping:[3],currency:["$",""]});function mY(t){return eh=pY(t),jE=eh.format,E$=eh.formatPrefix,eh}function gY(t){return Math.max(0,-al(Math.abs(t)))}function vY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(al(e)/3)))*3-al(Math.abs(t)))}function yY(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,al(e)-al(t))+1}function T$(t,e,n,r){var i=yw(t,e,n),a;switch(r=Dc(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=vY(i,s))&&(r.precision=a),E$(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=yY(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=gY(i))&&(r.precision=a-(r.type==="%")*2);break}}return jE(r)}function Ma(t){var e=t.domain;return t.ticks=function(n){var r=e();return gw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return T$(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],u=r[a],c,f,h=10;for(u<s&&(f=s,s=u,u=f,f=i,i=a,a=f);h-- >0;){if(f=vw(s,u,n),f===c)return r[i]=s,r[a]=u,e(r);if(f>0)s=Math.floor(s/f)*f,u=Math.ceil(u/f)*f;else if(f<0)s=Math.ceil(s*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function Jh(){var t=DE();return t.copy=function(){return xf(t,Jh())},Er.apply(t,arguments),Ma(t)}function A$(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Wh),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return A$(t).unknown(e)},t=arguments.length?Array.from(t,Wh):[0,1],Ma(n)}function C$(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function PI(t){return Math.log(t)}function NI(t){return Math.exp(t)}function bY(t){return-Math.log(-t)}function _Y(t){return-Math.exp(-t)}function xY(t){return isFinite(t)?+("1e"+t):t<0?0:t}function wY(t){return t===10?xY:t===Math.E?Math.exp:e=>Math.pow(t,e)}function SY(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function MI(t){return(e,n)=>-t(-e,n)}function UE(t){const e=t(PI,NI),n=e.domain;let r=10,i,a;function s(){return i=SY(r),a=wY(r),n()[0]<0?(i=MI(i),a=MI(a),t(bY,_Y)):t(PI,NI),e}return e.base=function(u){return arguments.length?(r=+u,s()):r},e.domain=function(u){return arguments.length?(n(u),s()):n()},e.ticks=u=>{const c=n();let f=c[0],h=c[c.length-1];const p=h<f;p&&([f,h]=[h,f]);let g=i(f),b=i(h),S,E;const x=u==null?10:+u;let A=[];if(!(r%1)&&b-g<x){if(g=Math.floor(g),b=Math.ceil(b),f>0){for(;g<=b;++g)for(S=1;S<r;++S)if(E=g<0?S/a(-g):S*a(g),!(E<f)){if(E>h)break;A.push(E)}}else for(;g<=b;++g)for(S=r-1;S>=1;--S)if(E=g>0?S/a(-g):S*a(g),!(E<f)){if(E>h)break;A.push(E)}A.length*2<x&&(A=gw(f,h,x))}else A=gw(g,b,Math.min(b-g,x)).map(a);return p?A.reverse():A},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Dc(c)).precision==null&&(c.trim=!0),c=jE(c)),u===1/0)return c;const f=Math.max(1,r*u/e.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?c(h):""}},e.nice=()=>n(C$(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function O$(){const t=UE(lm()).domain([1,10]);return t.copy=()=>xf(t,O$()).base(t.base()),Er.apply(t,arguments),t}function II(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function kI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function $E(t){var e=1,n=t(II(e),kI(e));return n.constant=function(r){return arguments.length?t(II(e=+r),kI(e)):e},Ma(n)}function R$(){var t=$E(lm());return t.copy=function(){return xf(t,R$()).constant(t.constant())},Er.apply(t,arguments)}function DI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function EY(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function TY(t){return t<0?-t*t:t*t}function qE(t){var e=t(Sn,Sn),n=1;function r(){return n===1?t(Sn,Sn):n===.5?t(EY,TY):t(DI(n),DI(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ma(e)}function BE(){var t=qE(lm());return t.copy=function(){return xf(t,BE()).exponent(t.exponent())},Er.apply(t,arguments),t}function AY(){return BE.apply(null,arguments).exponent(.5)}function LI(t){return Math.sign(t)*t*t}function CY(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function P$(){var t=DE(),e=[0,1],n=!1,r;function i(a){var s=CY(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(LI(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Wh)).map(LI)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return P$(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Er.apply(i,arguments),Ma(i)}function N$(){var t=[],e=[],n=[],r;function i(){var s=0,u=Math.max(1,e.length);for(n=new Array(u-1);++s<u;)n[s-1]=NW(t,s/u);return a}function a(s){return s==null||isNaN(s=+s)?r:e[bf(n,s)]}return a.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Ca),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return N$().domain(t).range(e).unknown(r)},Er.apply(a,arguments)}function M$(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[bf(r,c,0,n)]:a}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return M$().domain([t,e]).range(i).unknown(a)},Er.apply(Ma(s),arguments)}function I$(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[bf(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return I$().domain(t).range(e).unknown(n)},Er.apply(i,arguments)}const N_=new Date,M_=new Date;function Kt(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),u=i.ceil(a);return a-s<u-a?s:u},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,u)=>{const c=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<s)||!(u>0))return c;let f;do c.push(f=new Date(+a)),e(a,u),t(a);while(f<a&&a<s);return c},i.filter=a=>Kt(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!a(s););else for(;--u>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(N_.setTime(+a),M_.setTime(+s),t(N_),t(M_),Math.floor(n(N_,M_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Xh=Kt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Xh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Kt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Xh);Xh.range;const Pi=1e3,mr=Pi*60,Ni=mr*60,Ui=Ni*24,HE=Ui*7,jI=Ui*30,I_=Ui*365,yo=Kt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Pi)},(t,e)=>(e-t)/Pi,t=>t.getUTCSeconds());yo.range;const zE=Kt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Pi)},(t,e)=>{t.setTime(+t+e*mr)},(t,e)=>(e-t)/mr,t=>t.getMinutes());zE.range;const VE=Kt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*mr)},(t,e)=>(e-t)/mr,t=>t.getUTCMinutes());VE.range;const GE=Kt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Pi-t.getMinutes()*mr)},(t,e)=>{t.setTime(+t+e*Ni)},(t,e)=>(e-t)/Ni,t=>t.getHours());GE.range;const FE=Kt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ni)},(t,e)=>(e-t)/Ni,t=>t.getUTCHours());FE.range;const wf=Kt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*mr)/Ui,t=>t.getDate()-1);wf.range;const um=Kt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ui,t=>t.getUTCDate()-1);um.range;const k$=Kt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ui,t=>Math.floor(t/Ui));k$.range;function Io(t){return Kt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*mr)/HE)}const cm=Io(0),Qh=Io(1),OY=Io(2),RY=Io(3),ol=Io(4),PY=Io(5),NY=Io(6);cm.range;Qh.range;OY.range;RY.range;ol.range;PY.range;NY.range;function ko(t){return Kt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/HE)}const fm=ko(0),Zh=ko(1),MY=ko(2),IY=ko(3),sl=ko(4),kY=ko(5),DY=ko(6);fm.range;Zh.range;MY.range;IY.range;sl.range;kY.range;DY.range;const KE=Kt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());KE.range;const WE=Kt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());WE.range;const $i=Kt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());$i.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Kt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});$i.range;const qi=Kt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());qi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Kt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});qi.range;function D$(t,e,n,r,i,a){const s=[[yo,1,Pi],[yo,5,5*Pi],[yo,15,15*Pi],[yo,30,30*Pi],[a,1,mr],[a,5,5*mr],[a,15,15*mr],[a,30,30*mr],[i,1,Ni],[i,3,3*Ni],[i,6,6*Ni],[i,12,12*Ni],[r,1,Ui],[r,2,2*Ui],[n,1,HE],[e,1,jI],[e,3,3*jI],[t,1,I_]];function u(f,h,p){const g=h<f;g&&([f,h]=[h,f]);const b=p&&typeof p.range=="function"?p:c(f,h,p),S=b?b.range(f,+h+1):[];return g?S.reverse():S}function c(f,h,p){const g=Math.abs(h-f)/p,b=PE(([,,x])=>x).right(s,g);if(b===s.length)return t.every(yw(f/I_,h/I_,p));if(b===0)return Xh.every(Math.max(yw(f,h,p),1));const[S,E]=s[g/s[b-1][2]<s[b][2]/g?b-1:b];return S.every(E)}return[u,c]}const[LY,jY]=D$(qi,WE,fm,k$,FE,VE),[UY,$Y]=D$($i,KE,cm,wf,GE,zE);function k_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function D_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Hu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function qY(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,u=t.months,c=t.shortMonths,f=zu(i),h=Vu(i),p=zu(a),g=Vu(a),b=zu(s),S=Vu(s),E=zu(u),x=Vu(u),A=zu(c),O=Vu(c),C={a:K,A:ee,b:oe,B:ue,c:null,d:zI,e:zI,f:uJ,g:bJ,G:xJ,H:oJ,I:sJ,j:lJ,L:L$,m:cJ,M:fJ,p:q,q:J,Q:FI,s:KI,S:dJ,u:hJ,U:pJ,V:mJ,w:gJ,W:vJ,x:null,X:null,y:yJ,Y:_J,Z:wJ,"%":GI},P={a:re,A:fe,b:me,B:xe,c:null,d:VI,e:VI,f:AJ,g:LJ,G:UJ,H:SJ,I:EJ,j:TJ,L:U$,m:CJ,M:OJ,p:je,q:Xe,Q:FI,s:KI,S:RJ,u:PJ,U:NJ,V:MJ,w:IJ,W:kJ,x:null,X:null,y:DJ,Y:jJ,Z:$J,"%":GI},R={a:V,A:$,b:Y,B:H,c:W,d:BI,e:BI,f:nJ,g:qI,G:$I,H:HI,I:HI,j:QY,L:tJ,m:XY,M:ZY,p:L,q:JY,Q:iJ,s:aJ,S:eJ,u:GY,U:FY,V:KY,w:VY,W:WY,x:B,X:j,y:qI,Y:$I,Z:YY,"%":rJ};C.x=N(n,C),C.X=N(r,C),C.c=N(e,C),P.x=N(n,P),P.X=N(r,P),P.c=N(e,P);function N(de,Ce){return function(Pe){var ce=[],pt=-1,Ie=0,wt=de.length,St,un,Tr;for(Pe instanceof Date||(Pe=new Date(+Pe));++pt<wt;)de.charCodeAt(pt)===37&&(ce.push(de.slice(Ie,pt)),(un=UI[St=de.charAt(++pt)])!=null?St=de.charAt(++pt):un=St==="e"?" ":"0",(Tr=Ce[St])&&(St=Tr(Pe,un)),ce.push(St),Ie=pt+1);return ce.push(de.slice(Ie,pt)),ce.join("")}}function I(de,Ce){return function(Pe){var ce=Hu(1900,void 0,1),pt=D(ce,de,Pe+="",0),Ie,wt;if(pt!=Pe.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(Ce&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(Ie=D_(Hu(ce.y,0,1)),wt=Ie.getUTCDay(),Ie=wt>4||wt===0?Zh.ceil(Ie):Zh(Ie),Ie=um.offset(Ie,(ce.V-1)*7),ce.y=Ie.getUTCFullYear(),ce.m=Ie.getUTCMonth(),ce.d=Ie.getUTCDate()+(ce.w+6)%7):(Ie=k_(Hu(ce.y,0,1)),wt=Ie.getDay(),Ie=wt>4||wt===0?Qh.ceil(Ie):Qh(Ie),Ie=wf.offset(Ie,(ce.V-1)*7),ce.y=Ie.getFullYear(),ce.m=Ie.getMonth(),ce.d=Ie.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),wt="Z"in ce?D_(Hu(ce.y,0,1)).getUTCDay():k_(Hu(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(wt+5)%7:ce.w+ce.U*7-(wt+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,D_(ce)):k_(ce)}}function D(de,Ce,Pe,ce){for(var pt=0,Ie=Ce.length,wt=Pe.length,St,un;pt<Ie;){if(ce>=wt)return-1;if(St=Ce.charCodeAt(pt++),St===37){if(St=Ce.charAt(pt++),un=R[St in UI?Ce.charAt(pt++):St],!un||(ce=un(de,Pe,ce))<0)return-1}else if(St!=Pe.charCodeAt(ce++))return-1}return ce}function L(de,Ce,Pe){var ce=f.exec(Ce.slice(Pe));return ce?(de.p=h.get(ce[0].toLowerCase()),Pe+ce[0].length):-1}function V(de,Ce,Pe){var ce=b.exec(Ce.slice(Pe));return ce?(de.w=S.get(ce[0].toLowerCase()),Pe+ce[0].length):-1}function $(de,Ce,Pe){var ce=p.exec(Ce.slice(Pe));return ce?(de.w=g.get(ce[0].toLowerCase()),Pe+ce[0].length):-1}function Y(de,Ce,Pe){var ce=A.exec(Ce.slice(Pe));return ce?(de.m=O.get(ce[0].toLowerCase()),Pe+ce[0].length):-1}function H(de,Ce,Pe){var ce=E.exec(Ce.slice(Pe));return ce?(de.m=x.get(ce[0].toLowerCase()),Pe+ce[0].length):-1}function W(de,Ce,Pe){return D(de,e,Ce,Pe)}function B(de,Ce,Pe){return D(de,n,Ce,Pe)}function j(de,Ce,Pe){return D(de,r,Ce,Pe)}function K(de){return s[de.getDay()]}function ee(de){return a[de.getDay()]}function oe(de){return c[de.getMonth()]}function ue(de){return u[de.getMonth()]}function q(de){return i[+(de.getHours()>=12)]}function J(de){return 1+~~(de.getMonth()/3)}function re(de){return s[de.getUTCDay()]}function fe(de){return a[de.getUTCDay()]}function me(de){return c[de.getUTCMonth()]}function xe(de){return u[de.getUTCMonth()]}function je(de){return i[+(de.getUTCHours()>=12)]}function Xe(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var Ce=N(de+="",C);return Ce.toString=function(){return de},Ce},parse:function(de){var Ce=I(de+="",!1);return Ce.toString=function(){return de},Ce},utcFormat:function(de){var Ce=N(de+="",P);return Ce.toString=function(){return de},Ce},utcParse:function(de){var Ce=I(de+="",!0);return Ce.toString=function(){return de},Ce}}}var UI={"-":"",_:" ",0:"0"},Qt=/^\s*\d+/,BY=/^%/,HY=/[\\^$*+?|[\]().{}]/g;function We(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function zY(t){return t.replace(HY,"\\$&")}function zu(t){return new RegExp("^(?:"+t.map(zY).join("|")+")","i")}function Vu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function VY(t,e,n){var r=Qt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function GY(t,e,n){var r=Qt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function FY(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function KY(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function WY(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function $I(t,e,n){var r=Qt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function qI(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function YY(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function JY(t,e,n){var r=Qt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function XY(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function BI(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function QY(t,e,n){var r=Qt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function HI(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ZY(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function eJ(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function tJ(t,e,n){var r=Qt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function nJ(t,e,n){var r=Qt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function rJ(t,e,n){var r=BY.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function iJ(t,e,n){var r=Qt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function aJ(t,e,n){var r=Qt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function zI(t,e){return We(t.getDate(),e,2)}function oJ(t,e){return We(t.getHours(),e,2)}function sJ(t,e){return We(t.getHours()%12||12,e,2)}function lJ(t,e){return We(1+wf.count($i(t),t),e,3)}function L$(t,e){return We(t.getMilliseconds(),e,3)}function uJ(t,e){return L$(t,e)+"000"}function cJ(t,e){return We(t.getMonth()+1,e,2)}function fJ(t,e){return We(t.getMinutes(),e,2)}function dJ(t,e){return We(t.getSeconds(),e,2)}function hJ(t){var e=t.getDay();return e===0?7:e}function pJ(t,e){return We(cm.count($i(t)-1,t),e,2)}function j$(t){var e=t.getDay();return e>=4||e===0?ol(t):ol.ceil(t)}function mJ(t,e){return t=j$(t),We(ol.count($i(t),t)+($i(t).getDay()===4),e,2)}function gJ(t){return t.getDay()}function vJ(t,e){return We(Qh.count($i(t)-1,t),e,2)}function yJ(t,e){return We(t.getFullYear()%100,e,2)}function bJ(t,e){return t=j$(t),We(t.getFullYear()%100,e,2)}function _J(t,e){return We(t.getFullYear()%1e4,e,4)}function xJ(t,e){var n=t.getDay();return t=n>=4||n===0?ol(t):ol.ceil(t),We(t.getFullYear()%1e4,e,4)}function wJ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+We(e/60|0,"0",2)+We(e%60,"0",2)}function VI(t,e){return We(t.getUTCDate(),e,2)}function SJ(t,e){return We(t.getUTCHours(),e,2)}function EJ(t,e){return We(t.getUTCHours()%12||12,e,2)}function TJ(t,e){return We(1+um.count(qi(t),t),e,3)}function U$(t,e){return We(t.getUTCMilliseconds(),e,3)}function AJ(t,e){return U$(t,e)+"000"}function CJ(t,e){return We(t.getUTCMonth()+1,e,2)}function OJ(t,e){return We(t.getUTCMinutes(),e,2)}function RJ(t,e){return We(t.getUTCSeconds(),e,2)}function PJ(t){var e=t.getUTCDay();return e===0?7:e}function NJ(t,e){return We(fm.count(qi(t)-1,t),e,2)}function $$(t){var e=t.getUTCDay();return e>=4||e===0?sl(t):sl.ceil(t)}function MJ(t,e){return t=$$(t),We(sl.count(qi(t),t)+(qi(t).getUTCDay()===4),e,2)}function IJ(t){return t.getUTCDay()}function kJ(t,e){return We(Zh.count(qi(t)-1,t),e,2)}function DJ(t,e){return We(t.getUTCFullYear()%100,e,2)}function LJ(t,e){return t=$$(t),We(t.getUTCFullYear()%100,e,2)}function jJ(t,e){return We(t.getUTCFullYear()%1e4,e,4)}function UJ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?sl(t):sl.ceil(t),We(t.getUTCFullYear()%1e4,e,4)}function $J(){return"+0000"}function GI(){return"%"}function FI(t){return+t}function KI(t){return Math.floor(+t/1e3)}var Rs,q$,B$;qJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qJ(t){return Rs=qY(t),q$=Rs.format,Rs.parse,B$=Rs.utcFormat,Rs.utcParse,Rs}function BJ(t){return new Date(t)}function HJ(t){return t instanceof Date?+t:+new Date(+t)}function YE(t,e,n,r,i,a,s,u,c,f){var h=DE(),p=h.invert,g=h.domain,b=f(".%L"),S=f(":%S"),E=f("%I:%M"),x=f("%I %p"),A=f("%a %d"),O=f("%b %d"),C=f("%B"),P=f("%Y");function R(N){return(c(N)<N?b:u(N)<N?S:s(N)<N?E:a(N)<N?x:r(N)<N?i(N)<N?A:O:n(N)<N?C:P)(N)}return h.invert=function(N){return new Date(p(N))},h.domain=function(N){return arguments.length?g(Array.from(N,HJ)):g().map(BJ)},h.ticks=function(N){var I=g();return t(I[0],I[I.length-1],N??10)},h.tickFormat=function(N,I){return I==null?R:f(I)},h.nice=function(N){var I=g();return(!N||typeof N.range!="function")&&(N=e(I[0],I[I.length-1],N??10)),N?g(C$(I,N)):h},h.copy=function(){return xf(h,YE(t,e,n,r,i,a,s,u,c,f))},h}function zJ(){return Er.apply(YE(UY,$Y,$i,KE,cm,wf,GE,zE,yo,q$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function VJ(){return Er.apply(YE(LY,jY,qi,WE,fm,um,FE,VE,yo,B$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function dm(){var t=0,e=1,n,r,i,a,s=Sn,u=!1,c;function f(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(a(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(u=!!p,f):u},f.interpolator=function(p){return arguments.length?(s=p,f):s};function h(p){return function(g){var b,S;return arguments.length?([b,S]=g,s=p(b,S),f):[s(0),s(1)]}}return f.range=h(Dl),f.rangeRound=h(kE),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function Ia(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function H$(){var t=Ma(dm()(Sn));return t.copy=function(){return Ia(t,H$())},Fi.apply(t,arguments)}function z$(){var t=UE(dm()).domain([1,10]);return t.copy=function(){return Ia(t,z$()).base(t.base())},Fi.apply(t,arguments)}function V$(){var t=$E(dm());return t.copy=function(){return Ia(t,V$()).constant(t.constant())},Fi.apply(t,arguments)}function JE(){var t=qE(dm());return t.copy=function(){return Ia(t,JE()).exponent(t.exponent())},Fi.apply(t,arguments)}function GJ(){return JE.apply(null,arguments).exponent(.5)}function G$(){var t=[],e=Sn;function n(r){if(r!=null&&!isNaN(r=+r))return e((bf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ca),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>PW(t,a/r))},n.copy=function(){return G$(e).domain(t)},Fi.apply(n,arguments)}function hm(){var t=0,e=.5,n=1,r=1,i,a,s,u,c,f=Sn,h,p=!1,g;function b(E){return isNaN(E=+E)?g:(E=.5+((E=+h(E))-a)*(r*E<r*a?u:c),f(p?Math.max(0,Math.min(1,E)):E))}b.domain=function(E){return arguments.length?([t,e,n]=E,i=h(t=+t),a=h(e=+e),s=h(n=+n),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,b):[t,e,n]},b.clamp=function(E){return arguments.length?(p=!!E,b):p},b.interpolator=function(E){return arguments.length?(f=E,b):f};function S(E){return function(x){var A,O,C;return arguments.length?([A,O,C]=x,f=rY(E,[A,O,C]),b):[f(0),f(.5),f(1)]}}return b.range=S(Dl),b.rangeRound=S(kE),b.unknown=function(E){return arguments.length?(g=E,b):g},function(E){return h=E,i=E(t),a=E(e),s=E(n),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,b}}function F$(){var t=Ma(hm()(Sn));return t.copy=function(){return Ia(t,F$())},Fi.apply(t,arguments)}function K$(){var t=UE(hm()).domain([.1,1,10]);return t.copy=function(){return Ia(t,K$()).base(t.base())},Fi.apply(t,arguments)}function W$(){var t=$E(hm());return t.copy=function(){return Ia(t,W$()).constant(t.constant())},Fi.apply(t,arguments)}function XE(){var t=qE(hm());return t.copy=function(){return Ia(t,XE()).exponent(t.exponent())},Fi.apply(t,arguments)}function FJ(){return XE.apply(null,arguments).exponent(.5)}const WI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Nc,scaleDiverging:F$,scaleDivergingLog:K$,scaleDivergingPow:XE,scaleDivergingSqrt:FJ,scaleDivergingSymlog:W$,scaleIdentity:A$,scaleImplicit:bw,scaleLinear:Jh,scaleLog:O$,scaleOrdinal:NE,scalePoint:dc,scalePow:BE,scaleQuantile:N$,scaleQuantize:M$,scaleRadial:P$,scaleSequential:H$,scaleSequentialLog:z$,scaleSequentialPow:JE,scaleSequentialQuantile:G$,scaleSequentialSqrt:GJ,scaleSequentialSymlog:V$,scaleSqrt:AY,scaleSymlog:R$,scaleThreshold:I$,scaleTime:zJ,scaleUtc:VJ,tickFormat:T$},Symbol.toStringTag,{value:"Module"}));var L_,YI;function pm(){if(YI)return L_;YI=1;var t=Nl();function e(n,r,i){for(var a=-1,s=n.length;++a<s;){var u=n[a],c=r(u);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,h=u}return h}return L_=e,L_}var j_,JI;function Y$(){if(JI)return j_;JI=1;function t(e,n){return e>n}return j_=t,j_}var U_,XI;function KJ(){if(XI)return U_;XI=1;var t=pm(),e=Y$(),n=Il();function r(i){return i&&i.length?t(i,n,e):void 0}return U_=r,U_}var WJ=KJ();const mm=Ge(WJ);var $_,QI;function J$(){if(QI)return $_;QI=1;function t(e,n){return e<n}return $_=t,$_}var q_,ZI;function YJ(){if(ZI)return q_;ZI=1;var t=pm(),e=J$(),n=Il();function r(i){return i&&i.length?t(i,n,e):void 0}return q_=r,q_}var JJ=YJ();const gm=Ge(JJ);var B_,e2;function XJ(){if(e2)return B_;e2=1;var t=dE(),e=ii(),n=r$(),r=kn();function i(a,s){var u=r(a)?t:n;return u(a,e(s,3))}return B_=i,B_}var H_,t2;function QJ(){if(t2)return H_;t2=1;var t=t$(),e=XJ();function n(r,i){return t(e(r,i),1)}return H_=n,H_}var ZJ=QJ();const eX=Ge(ZJ);var z_,n2;function tX(){if(n2)return z_;n2=1;var t=AE();function e(n,r){return t(n,r)}return z_=e,z_}var nX=tX();const vm=Ge(nX);var Ll=1e9,rX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ZE,_t=!0,_r="[DecimalError] ",wo=_r+"Invalid argument: ",QE=_r+"Exponent out of range: ",jl=Math.floor,lo=Math.pow,iX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yn,Jt=1e7,vt=7,X$=9007199254740991,ep=jl(X$/vt),ge={};ge.absoluteValue=ge.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ge.comparedTo=ge.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ge.decimalPlaces=ge.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*vt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ge.dividedBy=ge.div=function(t){return Li(this,new this.constructor(t))};ge.dividedToIntegerBy=ge.idiv=function(t){var e=this,n=e.constructor;return ut(Li(e,new n(t),0,1),n.precision)};ge.equals=ge.eq=function(t){return!this.cmp(t)};ge.exponent=function(){return Bt(this)};ge.greaterThan=ge.gt=function(t){return this.cmp(t)>0};ge.greaterThanOrEqualTo=ge.gte=function(t){return this.cmp(t)>=0};ge.isInteger=ge.isint=function(){return this.e>this.d.length-2};ge.isNegative=ge.isneg=function(){return this.s<0};ge.isPositive=ge.ispos=function(){return this.s>0};ge.isZero=function(){return this.s===0};ge.lessThan=ge.lt=function(t){return this.cmp(t)<0};ge.lessThanOrEqualTo=ge.lte=function(t){return this.cmp(t)<1};ge.logarithm=ge.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Yn))throw Error(_r+"NaN");if(n.s<1)throw Error(_r+(n.s?"NaN":"-Infinity"));return n.eq(Yn)?new r(0):(_t=!1,e=Li(Lc(n,a),Lc(t,a),a),_t=!0,ut(e,i))};ge.minus=ge.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?eq(e,t):Q$(e,(t.s=-t.s,t))};ge.modulo=ge.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(_r+"NaN");return n.s?(_t=!1,e=Li(n,t,0,1).times(t),_t=!0,n.minus(e)):ut(new r(n),i)};ge.naturalExponential=ge.exp=function(){return Z$(this)};ge.naturalLogarithm=ge.ln=function(){return Lc(this)};ge.negated=ge.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ge.plus=ge.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Q$(e,t):eq(e,(t.s=-t.s,t))};ge.precision=ge.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(wo+t);if(e=Bt(i)+1,r=i.d.length-1,n=r*vt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ge.squareRoot=ge.sqrt=function(){var t,e,n,r,i,a,s,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(_r+"NaN")}for(t=Bt(u),_t=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Qr(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=jl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(Li(u,a,s+2)).times(.5),Qr(a.d).slice(0,s)===(e=Qr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(ut(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(e!="9999")break;s+=4}return _t=!0,ut(r,n)};ge.times=ge.mul=function(t){var e,n,r,i,a,s,u,c,f,h=this,p=h.constructor,g=h.d,b=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,c=g.length,f=b.length,c<f&&(a=g,g=b,b=a,s=c,c=f,f=s),a=[],s=c+f,r=s;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)u=a[i]+b[r]*g[i-r-1]+e,a[i--]=u%Jt|0,e=u/Jt|0;a[i]=(a[i]+e)%Jt|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,_t?ut(t,p.precision):t};ge.toDecimalPlaces=ge.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ti(t,0,Ll),e===void 0?e=r.rounding:ti(e,0,8),ut(n,t+Bt(n)+1,e))};ge.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Co(r,!0):(ti(t,0,Ll),e===void 0?e=i.rounding:ti(e,0,8),r=ut(new i(r),t+1,e),n=Co(r,!0,t+1)),n};ge.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Co(i):(ti(t,0,Ll),e===void 0?e=a.rounding:ti(e,0,8),r=ut(new a(i),t+Bt(i)+1,e),n=Co(r.abs(),!1,t+Bt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ge.toInteger=ge.toint=function(){var t=this,e=t.constructor;return ut(new e(t),Bt(t)+1,e.rounding)};ge.toNumber=function(){return+this};ge.toPower=ge.pow=function(t){var e,n,r,i,a,s,u=this,c=u.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(Yn);if(u=new c(u),!u.s){if(t.s<1)throw Error(_r+"Infinity");return u}if(u.eq(Yn))return u;if(r=c.precision,t.eq(Yn))return ut(u,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=u.s,s){if((n=h<0?-h:h)<=X$){for(i=new c(Yn),e=Math.ceil(r/vt+4),_t=!1;n%2&&(i=i.times(u),i2(i.d,e)),n=jl(n/2),n!==0;)u=u.times(u),i2(u.d,e);return _t=!0,t.s<0?new c(Yn).div(i):ut(i,r)}}else if(a<0)throw Error(_r+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,_t=!1,i=t.times(Lc(u,r+f)),_t=!0,i=Z$(i),i.s=a,i};ge.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Bt(i),r=Co(i,n<=a.toExpNeg||n>=a.toExpPos)):(ti(t,1,Ll),e===void 0?e=a.rounding:ti(e,0,8),i=ut(new a(i),t,e),n=Bt(i),r=Co(i,t<=n||n<=a.toExpNeg,t)),r};ge.toSignificantDigits=ge.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ti(t,1,Ll),e===void 0?e=r.rounding:ti(e,0,8)),ut(new r(n),t,e)};ge.toString=ge.valueOf=ge.val=ge.toJSON=ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Bt(t),n=t.constructor;return Co(t,e<=n.toExpNeg||e>=n.toExpPos)};function Q$(t,e){var n,r,i,a,s,u,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),_t?ut(e,p):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,u=f.length):(r=f,i=s,u=c.length),s=Math.ceil(p/vt),u=s>u?s+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=c.length,a=f.length,u-a<0&&(a=u,r=f,f=c,c=r),n=0;a;)n=(c[--a]=c[a]+f[a]+n)/Jt|0,c[a]%=Jt;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,_t?ut(e,p):e}function ti(t,e,n){if(t!==~~t||t<e||t>n)throw Error(wo+t)}function Qr(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=vt-r.length,n&&(a+=Sa(n)),a+=r;s=t[e],r=s+"",n=vt-r.length,n&&(a+=Sa(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Li=(function(){function t(r,i){var a,s=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+s,r[u]=a%Jt|0,s=a/Jt|0;return s&&r.unshift(s),r}function e(r,i,a,s){var u,c;if(a!=s)c=a>s?1:-1;else for(u=c=0;u<a;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Jt+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var u,c,f,h,p,g,b,S,E,x,A,O,C,P,R,N,I,D,L=r.constructor,V=r.s==i.s?1:-1,$=r.d,Y=i.d;if(!r.s)return new L(r);if(!i.s)throw Error(_r+"Division by zero");for(c=r.e-i.e,I=Y.length,R=$.length,b=new L(V),S=b.d=[],f=0;Y[f]==($[f]||0);)++f;if(Y[f]>($[f]||0)&&--c,a==null?O=a=L.precision:s?O=a+(Bt(r)-Bt(i))+1:O=a,O<0)return new L(0);if(O=O/vt+2|0,f=0,I==1)for(h=0,Y=Y[0],O++;(f<R||h)&&O--;f++)C=h*Jt+($[f]||0),S[f]=C/Y|0,h=C%Y|0;else{for(h=Jt/(Y[0]+1)|0,h>1&&(Y=t(Y,h),$=t($,h),I=Y.length,R=$.length),P=I,E=$.slice(0,I),x=E.length;x<I;)E[x++]=0;D=Y.slice(),D.unshift(0),N=Y[0],Y[1]>=Jt/2&&++N;do h=0,u=e(Y,E,I,x),u<0?(A=E[0],I!=x&&(A=A*Jt+(E[1]||0)),h=A/N|0,h>1?(h>=Jt&&(h=Jt-1),p=t(Y,h),g=p.length,x=E.length,u=e(p,E,g,x),u==1&&(h--,n(p,I<g?D:Y,g))):(h==0&&(u=h=1),p=Y.slice()),g=p.length,g<x&&p.unshift(0),n(E,p,x),u==-1&&(x=E.length,u=e(Y,E,I,x),u<1&&(h++,n(E,I<x?D:Y,x))),x=E.length):u===0&&(h++,E=[0]),S[f++]=h,u&&E[0]?E[x++]=$[P]||0:(E=[$[P]],x=1);while((P++<R||E[0]!==void 0)&&O--)}return S[0]||S.shift(),b.e=c,ut(b,s?a+Bt(b)+1:a)}})();function Z$(t,e){var n,r,i,a,s,u,c=0,f=0,h=t.constructor,p=h.precision;if(Bt(t)>16)throw Error(QE+Bt(t));if(!t.s)return new h(Yn);for(_t=!1,u=p,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(r=Math.log(lo(2,f))/Math.LN10*2+5|0,u+=r,n=i=a=new h(Yn),h.precision=u;;){if(i=ut(i.times(t),u),n=n.times(++c),s=a.plus(Li(i,n,u)),Qr(s.d).slice(0,u)===Qr(a.d).slice(0,u)){for(;f--;)a=ut(a.times(a),u);return h.precision=p,e==null?(_t=!0,ut(a,p)):a}a=s}}function Bt(t){for(var e=t.e*vt,n=t.d[0];n>=10;n/=10)e++;return e}function V_(t,e,n){if(e>t.LN10.sd())throw _t=!0,n&&(t.precision=n),Error(_r+"LN10 precision limit exceeded");return ut(new t(t.LN10),e)}function Sa(t){for(var e="";t--;)e+="0";return e}function Lc(t,e){var n,r,i,a,s,u,c,f,h,p=1,g=10,b=t,S=b.d,E=b.constructor,x=E.precision;if(b.s<1)throw Error(_r+(b.s?"NaN":"-Infinity"));if(b.eq(Yn))return new E(0);if(e==null?(_t=!1,f=x):f=e,b.eq(10))return e==null&&(_t=!0),V_(E,f);if(f+=g,E.precision=f,n=Qr(S),r=n.charAt(0),a=Bt(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=Qr(b.d),r=n.charAt(0),p++;a=Bt(b),r>1?(b=new E("0."+n),a++):b=new E(r+"."+n.slice(1))}else return c=V_(E,f+2,x).times(a+""),b=Lc(new E(r+"."+n.slice(1)),f-g).plus(c),E.precision=x,e==null?(_t=!0,ut(b,x)):b;for(u=s=b=Li(b.minus(Yn),b.plus(Yn),f),h=ut(b.times(b),f),i=3;;){if(s=ut(s.times(h),f),c=u.plus(Li(s,new E(i),f)),Qr(c.d).slice(0,f)===Qr(u.d).slice(0,f))return u=u.times(2),a!==0&&(u=u.plus(V_(E,f+2,x).times(a+""))),u=Li(u,new E(p),f),E.precision=x,e==null?(_t=!0,ut(u,x)):u;u=c,i+=2}}function r2(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=jl(n/vt),t.d=[],r=(n+1)%vt,n<0&&(r+=vt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=vt;r<i;)t.d.push(+e.slice(r,r+=vt));e=e.slice(r),r=vt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),_t&&(t.e>ep||t.e<-ep))throw Error(QE+n)}else t.s=0,t.e=0,t.d=[0];return t}function ut(t,e,n){var r,i,a,s,u,c,f,h,p=t.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=vt,i=e,f=p[h=0];else{if(h=Math.ceil((r+1)/vt),a=p.length,h>=a)return t;for(f=a=p[h],s=1;a>=10;a/=10)s++;r%=vt,i=r-vt+s}if(n!==void 0&&(a=lo(10,s-i-1),u=f/a%10|0,c=e<0||p[h+1]!==void 0||f%a,c=n<4?(u||c)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?f/lo(10,s-i):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(a=Bt(t),p.length=1,e=e-a-1,p[0]=lo(10,(vt-e%vt)%vt),t.e=jl(-e/vt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=lo(10,vt-r),p[h]=i>0?(f/lo(10,s-i)%lo(10,i)|0)*a:0),c)for(;;)if(h==0){(p[0]+=a)==Jt&&(p[0]=1,++t.e);break}else{if(p[h]+=a,p[h]!=Jt)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(_t&&(t.e>ep||t.e<-ep))throw Error(QE+Bt(t));return t}function eq(t,e){var n,r,i,a,s,u,c,f,h,p,g=t.constructor,b=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),_t?ut(e,b):e;if(c=t.d,p=e.d,r=e.e,f=t.e,c=c.slice(),s=f-r,s){for(h=s<0,h?(n=c,s=-s,u=p.length):(n=p,r=f,u=c.length),i=Math.max(Math.ceil(b/vt),u)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=p.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}s=0}for(h&&(n=c,c=p,p=n,e.s=-e.s),u=c.length,i=p.length-u;i>0;--i)c[u++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=Jt-1;--c[a],c[i]+=Jt}c[i]-=p[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,_t?ut(e,b):e):new g(0)}function Co(t,e,n){var r,i=Bt(t),a=Qr(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Sa(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Sa(-i-1)+a,n&&(r=n-s)>0&&(a+=Sa(r))):i>=s?(a+=Sa(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Sa(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Sa(r))),t.s<0?"-"+a:a}function i2(t,e){if(t.length>e)return t.length=e,!0}function tq(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(wo+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return r2(s,a.toString())}else if(typeof a!="string")throw Error(wo+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,iX.test(a))r2(s,a);else throw Error(wo+a)}if(i.prototype=ge,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=tq,i.config=i.set=aX,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function aX(t){if(!t||typeof t!="object")throw Error(_r+"Object expected");var e,n,r,i=["precision",1,Ll,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(jl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(wo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(wo+n+": "+r);return this}var ZE=tq(rX);Yn=new ZE(1);const st=ZE;function oX(t){return cX(t)||uX(t)||lX(t)||sX()}function sX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lX(t,e){if(t){if(typeof t=="string")return Sw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sw(t,e)}}function uX(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function cX(t){if(Array.isArray(t))return Sw(t)}function Sw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fX=function(e){return e},nq={},rq=function(e){return e===nq},a2=function(e){return function n(){return arguments.length===0||arguments.length===1&&rq(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},dX=function t(e,n){return e===1?n:a2(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(u){return u!==nq}).length;return s>=e?n.apply(void 0,i):t(e-s,a2(function(){for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];var h=i.map(function(p){return rq(p)?c.shift():p});return n.apply(void 0,oX(h).concat(c))}))})},ym=function(e){return dX(e.length,e)},Ew=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},hX=ym(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),pX=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return fX;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(u,c){return c(u)},a.apply(void 0,arguments))}},Tw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},iq=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(u,c){return u===n[c]})||(n=a,r=e.apply(void 0,a)),r}};function mX(t){var e;return t===0?e=1:e=Math.floor(new st(t).abs().log(10).toNumber())+1,e}function gX(t,e,n){for(var r=new st(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var vX=ym(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),yX=ym(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),bX=ym(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const bm={rangeStep:gX,getDigitCount:mX,interpolateNumber:vX,uninterpolateNumber:yX,uninterpolateTruncation:bX};function Aw(t){return wX(t)||xX(t)||aq(t)||_X()}function _X(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xX(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function wX(t){if(Array.isArray(t))return Cw(t)}function jc(t,e){return TX(t)||EX(t,e)||aq(t,e)||SX()}function SX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aq(t,e){if(t){if(typeof t=="string")return Cw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cw(t,e)}}function Cw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function EX(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),u;!(r=(u=s.next()).done)&&(n.push(u.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function TX(t){if(Array.isArray(t))return t}function oq(t){var e=jc(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function sq(t,e,n){if(t.lte(0))return new st(0);var r=bm.getDigitCount(t.toNumber()),i=new st(10).pow(r),a=t.div(i),s=r!==1?.05:.1,u=new st(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=u.mul(i);return e?c:new st(Math.ceil(c))}function AX(t,e,n){var r=1,i=new st(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new st(10).pow(bm.getDigitCount(t)-1),i=new st(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new st(Math.floor(t)))}else t===0?i=new st(Math.floor((e-1)/2)):n||(i=new st(Math.floor(t)));var s=Math.floor((e-1)/2),u=pX(hX(function(c){return i.add(new st(c-s).mul(r)).toNumber()}),Ew);return u(0,e)}function lq(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new st(0),tickMin:new st(0),tickMax:new st(0)};var a=sq(new st(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new st(0):(s=new st(t).add(e).div(2),s=s.sub(new st(s).mod(a)));var u=Math.ceil(s.sub(t).div(a).toNumber()),c=Math.ceil(new st(e).sub(s).div(a).toNumber()),f=u+c+1;return f>n?lq(t,e,n,r,i+1):(f<n&&(c=e>0?c+(n-f):c,u=e>0?u:u+(n-f)),{step:a,tickMin:s.sub(new st(u).mul(a)),tickMax:s.add(new st(c).mul(a))})}function CX(t){var e=jc(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),u=oq([n,r]),c=jc(u,2),f=c[0],h=c[1];if(f===-1/0||h===1/0){var p=h===1/0?[f].concat(Aw(Ew(0,i-1).map(function(){return 1/0}))):[].concat(Aw(Ew(0,i-1).map(function(){return-1/0})),[h]);return n>r?Tw(p):p}if(f===h)return AX(f,i,a);var g=lq(f,h,s,a),b=g.step,S=g.tickMin,E=g.tickMax,x=bm.rangeStep(S,E.add(new st(.1).mul(b)),b);return n>r?Tw(x):x}function OX(t,e){var n=jc(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=oq([r,i]),u=jc(s,2),c=u[0],f=u[1];if(c===-1/0||f===1/0)return[r,i];if(c===f)return[c];var h=Math.max(e,2),p=sq(new st(f).sub(c).div(h-1),a,0),g=[].concat(Aw(bm.rangeStep(new st(c),new st(f).sub(new st(.99).mul(p)),p)),[f]);return r>i?Tw(g):g}var RX=iq(CX),PX=iq(OX),NX="Invariant failed";function Oo(t,e){throw new Error(NX)}var MX=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ll(t){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(t)}function tp(){return tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tp.apply(this,arguments)}function IX(t,e){return jX(t)||LX(t,e)||DX(t,e)||kX()}function kX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DX(t,e){if(t){if(typeof t=="string")return o2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o2(t,e)}}function o2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function jX(t){if(Array.isArray(t))return t}function UX(t,e){if(t==null)return{};var n=$X(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $X(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fq(r.key),r)}}function HX(t,e,n){return e&&BX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zX(t,e,n){return e=np(e),VX(t,uq()?Reflect.construct(e,n||[],np(t).constructor):e.apply(t,n))}function VX(t,e){if(e&&(ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GX(t)}function GX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uq=function(){return!!t})()}function np(t){return np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},np(t)}function FX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ow(t,e)}function Ow(t,e){return Ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ow(t,e)}function cq(t,e,n){return e=fq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fq(t){var e=KX(t,"string");return ll(e)=="symbol"?e:e+""}function KX(t,e){if(ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _m=(function(t){function e(){return qX(this,e),zX(this,e,arguments)}return FX(e,t),HX(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,u=r.dataKey,c=r.data,f=r.dataPointFormatter,h=r.xAxis,p=r.yAxis,g=UX(r,MX),b=Ae(g,!1);this.props.direction==="x"&&h.type!=="number"&&Oo();var S=c.map(function(E){var x=f(E,u),A=x.x,O=x.y,C=x.value,P=x.errorVal;if(!P)return null;var R=[],N,I;if(Array.isArray(P)){var D=IX(P,2);N=D[0],I=D[1]}else N=I=P;if(a==="vertical"){var L=h.scale,V=O+i,$=V+s,Y=V-s,H=L(C-N),W=L(C+I);R.push({x1:W,y1:$,x2:W,y2:Y}),R.push({x1:H,y1:V,x2:W,y2:V}),R.push({x1:H,y1:$,x2:H,y2:Y})}else if(a==="horizontal"){var B=p.scale,j=A+i,K=j-s,ee=j+s,oe=B(C-N),ue=B(C+I);R.push({x1:K,y1:ue,x2:ee,y2:ue}),R.push({x1:j,y1:oe,x2:j,y2:ue}),R.push({x1:K,y1:oe,x2:ee,y2:oe})}return G.createElement(rt,tp({className:"recharts-errorBar",key:"bar-".concat(R.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},b),R.map(function(q){return G.createElement("line",tp({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return G.createElement(rt,{className:"recharts-errorBars"},S)}}])})(G.Component);cq(_m,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});cq(_m,"displayName","ErrorBar");function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function s2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s2(Object(n),!0).forEach(function(r){WX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WX(t,e,n){return e=YX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YX(t){var e=JX(t,"string");return Uc(e)=="symbol"?e:e+""}function JX(t,e){if(Uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dq=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Fn(n,Di);if(!s)return null;var u=Di.defaultProps,c=u!==void 0?ro(ro({},u),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:a==="children"?f=(r||[]).reduce(function(h,p){var g=p.item,b=p.props,S=b.sectors||b.data||[];return h.concat(S.map(function(E){return{type:s.props.iconType||g.props.legendType,value:E.name,color:E.fill,payload:E}}))},[]):f=(r||[]).map(function(h){var p=h.item,g=p.type.defaultProps,b=g!==void 0?ro(ro({},g),p.props):{},S=b.dataKey,E=b.name,x=b.legendType,A=b.hide;return{inactive:A,dataKey:S,type:c.iconType||x||"square",color:eT(p),value:E||S,payload:b}}),ro(ro(ro({},c),Di.getWithHeight(s,i)),{},{payload:f,item:s})};function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}function l2(t){return eQ(t)||ZX(t)||QX(t)||XX()}function XX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QX(t,e){if(t){if(typeof t=="string")return Rw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rw(t,e)}}function ZX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eQ(t){if(Array.isArray(t))return Rw(t)}function Rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u2(Object(n),!0).forEach(function(r){Ys(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ys(t,e,n){return e=tQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tQ(t){var e=nQ(t,"string");return $c(e)=="symbol"?e:e+""}function nQ(t,e){if($c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mn(t,e,n){return Ue(t)||Ue(e)?n:Ft(e)?Jn(t,e,n):Oe(e)?e(t):n}function hc(t,e,n,r){var i=eX(t,function(u){return mn(u,e)});if(n==="number"){var a=i.filter(function(u){return he(u)||parseFloat(u)});return a.length?[gm(a),mm(a)]:[1/0,-1/0]}var s=r?i.filter(function(u){return!Ue(u)}):i;return s.map(function(u){return Ft(u)||u instanceof Date?u:""})}var rQ=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,u=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(u<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,f=0;f<u;f++){var h=f>0?i[f-1].coordinate:i[u-1].coordinate,p=i[f].coordinate,g=f>=u-1?i[0].coordinate:i[f+1].coordinate,b=void 0;if(xn(p-h)!==xn(g-p)){var S=[];if(xn(g-p)===xn(c[1]-c[0])){b=g;var E=p+c[1]-c[0];S[0]=Math.min(E,(E+h)/2),S[1]=Math.max(E,(E+h)/2)}else{b=h;var x=g+c[1]-c[0];S[0]=Math.min(p,(x+p)/2),S[1]=Math.max(p,(x+p)/2)}var A=[Math.min(p,(b+p)/2),Math.max(p,(b+p)/2)];if(e>A[0]&&e<=A[1]||e>=S[0]&&e<=S[1]){s=i[f].index;break}}else{var O=Math.min(h,g),C=Math.max(h,g);if(e>(O+p)/2&&e<=(C+p)/2){s=i[f].index;break}}}else for(var P=0;P<u;P++)if(P===0&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P>0&&P<u-1&&e>(r[P].coordinate+r[P-1].coordinate)/2&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P===u-1&&e>(r[P].coordinate+r[P-1].coordinate)/2){s=r[P].index;break}return s},eT=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Pt(Pt({},e.type.defaultProps),e.props):e.props,s=a.stroke,u=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:u;break;default:c=u;break}return c},iQ=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},u=Object.keys(a),c=0,f=u.length;c<f;c++)for(var h=a[u[c]].stackGroups,p=Object.keys(h),g=0,b=p.length;g<b;g++){var S=h[p[g]],E=S.items,x=S.cateAxisId,A=E.filter(function(I){return ki(I.type).indexOf("Bar")>=0});if(A&&A.length){var O=A[0].type.defaultProps,C=O!==void 0?Pt(Pt({},O),A[0].props):A[0].props,P=C.barSize,R=C[x];s[R]||(s[R]=[]);var N=Ue(P)?n:P;s[R].push({item:A[0],stackList:A.slice(1),barSize:Ue(N)?void 0:wn(N,r,0)})}}return s},aQ=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,u=e.maxBarSize,c=s.length;if(c<1)return null;var f=wn(n,i,0,!0),h,p=[];if(s[0].barSize===+s[0].barSize){var g=!1,b=i/c,S=s.reduce(function(P,R){return P+R.barSize||0},0);S+=(c-1)*f,S>=i&&(S-=(c-1)*f,f=0),S>=i&&b>0&&(g=!0,b*=.9,S=c*b);var E=(i-S)/2>>0,x={offset:E-f,size:0};h=s.reduce(function(P,R){var N={item:R.item,position:{offset:x.offset+x.size+f,size:g?b:R.barSize}},I=[].concat(l2(P),[N]);return x=I[I.length-1].position,R.stackList&&R.stackList.length&&R.stackList.forEach(function(D){I.push({item:D,position:x})}),I},p)}else{var A=wn(r,i,0,!0);i-2*A-(c-1)*f<=0&&(f=0);var O=(i-2*A-(c-1)*f)/c;O>1&&(O>>=0);var C=u===+u?Math.min(O,u):O;h=s.reduce(function(P,R,N){var I=[].concat(l2(P),[{item:R.item,position:{offset:A+(O+f)*N+(O-C)/2,size:C}}]);return R.stackList&&R.stackList.length&&R.stackList.forEach(function(D){I.push({item:D,position:I[I.length-1].position})}),I},p)}return h},oQ=function(e,n,r,i){var a=r.children,s=r.width,u=r.margin,c=s-(u.left||0)-(u.right||0),f=dq({children:a,legendWidth:c});if(f){var h=i||{},p=h.width,g=h.height,b=f.align,S=f.verticalAlign,E=f.layout;if((E==="vertical"||E==="horizontal"&&S==="middle")&&b!=="center"&&he(e[b]))return Pt(Pt({},e),{},Ys({},b,e[b]+(p||0)));if((E==="horizontal"||E==="vertical"&&b==="center")&&S!=="middle"&&he(e[S]))return Pt(Pt({},e),{},Ys({},S,e[S]+(g||0)))}return e},sQ=function(e,n,r){return Ue(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},hq=function(e,n,r,i,a){var s=n.props.children,u=vr(s,_m).filter(function(f){return sQ(i,a,f.props.direction)});if(u&&u.length){var c=u.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var p=mn(h,r);if(Ue(p))return f;var g=Array.isArray(p)?[gm(p),mm(p)]:[p,p],b=c.reduce(function(S,E){var x=mn(h,E,0),A=g[0]-Math.abs(Array.isArray(x)?x[0]:x),O=g[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(A,S[0]),Math.max(O,S[1])]},[1/0,-1/0]);return[Math.min(b[0],f[0]),Math.max(b[1],f[1])]},[1/0,-1/0])}return null},lQ=function(e,n,r,i,a){var s=n.map(function(u){return hq(e,u,r,a,i)}).filter(function(u){return!Ue(u)});return s&&s.length?s.reduce(function(u,c){return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]):null},pq=function(e,n,r,i,a){var s=n.map(function(c){var f=c.props.dataKey;return r==="number"&&f&&hq(e,c,f,i)||hc(e,f,r,a)});if(r==="number")return s.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var u={};return s.reduce(function(c,f){for(var h=0,p=f.length;h<p;h++)u[f[h]]||(u[f[h]]=!0,c.push(f[h]));return c},[])},mq=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},gq=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var a,s,u=e.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(s=!0),c.coordinate});return a||u.push(n),s||u.push(r),u},Mi=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,u=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?xn(u[0]-u[1])*2*f:f,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(p){var g=a?a.indexOf(p):p;return{coordinate:i(g)+f,value:p,offset:f}});return h.filter(function(p){return!gf(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,g){return{coordinate:i(p)+f,value:p,index:g,offset:f}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+f,value:p,offset:f}}):i.domain().map(function(p,g){return{coordinate:i(p)+f,value:a?a[p]:p,index:g,offset:f}})},G_=new WeakMap,th=function(e,n){if(typeof n!="function")return e;G_.has(e)||G_.set(e,new WeakMap);var r=G_.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},vq=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,u=e.axisType;if(i==="auto")return s==="radial"&&u==="radiusAxis"?{scale:Nc(),realScaleType:"band"}:s==="radial"&&u==="angleAxis"?{scale:Jh(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:dc(),realScaleType:"point"}:a==="category"?{scale:Nc(),realScaleType:"band"}:{scale:Jh(),realScaleType:"linear"};if(So(i)){var c="scale".concat(tm(i));return{scale:(WI[c]||dc)(),realScaleType:WI[c]?c:"point"}}return Oe(i)?{scale:i}:{scale:dc(),realScaleType:"point"}},c2=1e-4,yq=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-c2,s=Math.max(i[0],i[1])+c2,u=e(n[0]),c=e(n[r-1]);(u<a||u>s||c<a||c>s)&&e.domain([n[0],n[r-1]])}},uQ=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},cQ=function(e,n){if(!n||n.length!==2||!he(n[0])||!he(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!he(e[0])||e[0]<r)&&(a[0]=r),(!he(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},fQ=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,u=0;u<n;++u){var c=gf(e[u][r][1])?e[u][r][0]:e[u][r][1];c>=0?(e[u][r][0]=a,e[u][r][1]=a+c,a=e[u][r][1]):(e[u][r][0]=s,e[u][r][1]=s+c,s=e[u][r][1])}},dQ=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var u=gf(e[s][r][1])?e[s][r][0]:e[s][r][1];u>=0?(e[s][r][0]=a,e[s][r][1]=a+u,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},hQ={sign:fQ,expand:ZF,none:Zs,silhouette:e9,wiggle:t9,positive:dQ},pQ=function(e,n,r){var i=n.map(function(u){return u.props.dataKey}),a=hQ[r],s=QF().keys(i).value(function(u,c){return+mn(u,c,0)}).order(aw).offset(a);return s(e)},mQ=function(e,n,r,i,a,s){if(!e)return null;var u=s?n.reverse():n,c={},f=u.reduce(function(p,g){var b,S=(b=g.type)!==null&&b!==void 0&&b.defaultProps?Pt(Pt({},g.type.defaultProps),g.props):g.props,E=S.stackId,x=S.hide;if(x)return p;var A=S[r],O=p[A]||{hasStack:!1,stackGroups:{}};if(Ft(E)){var C=O.stackGroups[E]||{numericAxisId:r,cateAxisId:i,items:[]};C.items.push(g),O.hasStack=!0,O.stackGroups[E]=C}else O.stackGroups[vf("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[g]};return Pt(Pt({},p),{},Ys({},A,O))},c),h={};return Object.keys(f).reduce(function(p,g){var b=f[g];if(b.hasStack){var S={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(E,x){var A=b.stackGroups[x];return Pt(Pt({},E),{},Ys({},x,{numericAxisId:r,cateAxisId:i,items:A.items,stackedData:pQ(e,A.items,a)}))},S)}return Pt(Pt({},p),{},Ys({},g,b))},h)},bq=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,u=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=RX(f,a,u);return e.domain([gm(h),mm(h)]),{niceTicks:h}}if(a&&i==="number"){var p=e.domain(),g=PX(p,a,u);return{niceTicks:g}}return null},f2=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,u=e.index;if(n.type==="category")return r[u]?r[u].coordinate+i:null;var c=mn(s,n.dataKey,n.domain[u]);return Ue(c)?null:n.scale(c)-a/2+i},gQ=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},vQ=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Pt(Pt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Ft(a)){var s=n[a];if(s){var u=s.items.indexOf(e);return u>=0?s.stackedData[u]:null}}return null},yQ=function(e){return e.reduce(function(n,r){return[gm(r.concat([n[0]]).filter(he)),mm(r.concat([n[1]]).filter(he))]},[1/0,-1/0])},_q=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],u=s.stackedData,c=u.reduce(function(f,h){var p=yQ(h.slice(n,r+1));return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},d2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,h2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Pw=function(e,n,r){if(Oe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(he(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(d2.test(e[0])){var a=+d2.exec(e[0])[1];i[0]=n[0]-a}else Oe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(he(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(h2.test(e[1])){var s=+h2.exec(e[1])[1];i[1]=n[1]+s}else Oe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},rp=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=OE(n,function(p){return p.coordinate}),s=1/0,u=1,c=a.length;u<c;u++){var f=a[u],h=a[u-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},p2=function(e,n,r){return!e||!e.length||vm(e,Jn(r,"type.defaultProps.domain"))?n:e},xq=function(e,n){var r=e.type.defaultProps?Pt(Pt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,u=r.formatter,c=r.tooltipType,f=r.chartType,h=r.hide;return Pt(Pt({},Ae(e,!1)),{},{dataKey:i,unit:s,formatter:u,name:a||i,color:eT(e),value:mn(n,i),type:c,payload:n,chartType:f,hide:h})};function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function m2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m2(Object(n),!0).forEach(function(r){wq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wq(t,e,n){return e=bQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bQ(t){var e=_Q(t,"string");return qc(e)=="symbol"?e:e+""}function _Q(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xQ(t,e){return TQ(t)||EQ(t,e)||SQ(t,e)||wQ()}function wQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SQ(t,e){if(t){if(typeof t=="string")return g2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g2(t,e)}}function g2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function EQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function TQ(t){if(Array.isArray(t))return t}var ip=Math.PI/180,AQ=function(e){return e*180/Math.PI},ht=function(e,n,r,i){return{x:e+Math.cos(-ip*i)*r,y:n+Math.sin(-ip*i)*r}},Sq=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},CQ=function(e,n,r,i,a){var s=e.width,u=e.height,c=e.startAngle,f=e.endAngle,h=wn(e.cx,s,s/2),p=wn(e.cy,u,u/2),g=Sq(s,u,r),b=wn(e.innerRadius,g,0),S=wn(e.outerRadius,g,g*.8),E=Object.keys(n);return E.reduce(function(x,A){var O=n[A],C=O.domain,P=O.reversed,R;if(Ue(O.range))i==="angleAxis"?R=[c,f]:i==="radiusAxis"&&(R=[b,S]),P&&(R=[R[1],R[0]]);else{R=O.range;var N=R,I=xQ(N,2);c=I[0],f=I[1]}var D=vq(O,a),L=D.realScaleType,V=D.scale;V.domain(C).range(R),yq(V);var $=bq(V,Oi(Oi({},O),{},{realScaleType:L})),Y=Oi(Oi(Oi({},O),$),{},{range:R,radius:S,realScaleType:L,scale:V,cx:h,cy:p,innerRadius:b,outerRadius:S,startAngle:c,endAngle:f});return Oi(Oi({},x),{},wq({},A,Y))},{})},OQ=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},RQ=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,u=OQ({x:r,y:i},{x:a,y:s});if(u<=0)return{radius:u};var c=(r-a)/u,f=Math.acos(c);return i>s&&(f=2*Math.PI-f),{radius:u,angle:AQ(f),angleInRadian:f}},PQ=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},NQ=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),u=Math.min(a,s);return e+u*360},v2=function(e,n){var r=e.x,i=e.y,a=RQ({x:r,y:i},n),s=a.radius,u=a.angle,c=n.innerRadius,f=n.outerRadius;if(s<c||s>f)return!1;if(s===0)return!0;var h=PQ(n),p=h.startAngle,g=h.endAngle,b=u,S;if(p<=g){for(;b>g;)b-=360;for(;b<p;)b+=360;S=b>=p&&b<=g}else{for(;b>p;)b-=360;for(;b<g;)b+=360;S=b>=g&&b<=p}return S?Oi(Oi({},n),{},{radius:s,angle:NQ(b,n)}):null},Eq=function(e){return!U.isValidElement(e)&&!Oe(e)&&typeof e!="boolean"?e.className:""};function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}var MQ=["offset"];function IQ(t){return jQ(t)||LQ(t)||DQ(t)||kQ()}function kQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DQ(t,e){if(t){if(typeof t=="string")return Nw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nw(t,e)}}function LQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jQ(t){if(Array.isArray(t))return Nw(t)}function Nw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UQ(t,e){if(t==null)return{};var n=$Q(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $Q(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y2(Object(n),!0).forEach(function(r){qQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qQ(t,e,n){return e=BQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BQ(t){var e=HQ(t,"string");return Bc(e)=="symbol"?e:e+""}function HQ(t,e){if(Bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hc(){return Hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hc.apply(this,arguments)}var zQ=function(e){var n=e.value,r=e.formatter,i=Ue(e.children)?n:e.children;return Oe(r)?r(i):i},VQ=function(e,n){var r=xn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},GQ=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,u=e.className,c=a,f=c.cx,h=c.cy,p=c.innerRadius,g=c.outerRadius,b=c.startAngle,S=c.endAngle,E=c.clockWise,x=(p+g)/2,A=VQ(b,S),O=A>=0?1:-1,C,P;i==="insideStart"?(C=b+O*s,P=E):i==="insideEnd"?(C=S-O*s,P=!E):i==="end"&&(C=S+O*s,P=E),P=A<=0?P:!P;var R=ht(f,h,x,C),N=ht(f,h,x,C+(P?1:-1)*359),I="M".concat(R.x,",").concat(R.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(P?0:1,`,
    `).concat(N.x,",").concat(N.y),D=Ue(e.id)?vf("recharts-radial-line-"):e.id;return G.createElement("text",Hc({},r,{dominantBaseline:"central",className:Le("recharts-radial-bar-label",u)}),G.createElement("defs",null,G.createElement("path",{id:D,d:I})),G.createElement("textPath",{xlinkHref:"#".concat(D)},n))},FQ=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,u=a.cy,c=a.innerRadius,f=a.outerRadius,h=a.startAngle,p=a.endAngle,g=(h+p)/2;if(i==="outside"){var b=ht(s,u,f+r,g),S=b.x,E=b.y;return{x:S,y:E,textAnchor:S>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"end"};var x=(c+f)/2,A=ht(s,u,x,g),O=A.x,C=A.y;return{x:O,y:C,textAnchor:"middle",verticalAnchor:"middle"}},KQ=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,u=s.x,c=s.y,f=s.width,h=s.height,p=h>=0?1:-1,g=p*i,b=p>0?"end":"start",S=p>0?"start":"end",E=f>=0?1:-1,x=E*i,A=E>0?"end":"start",O=E>0?"start":"end";if(a==="top"){var C={x:u+f/2,y:c-p*i,textAnchor:"middle",verticalAnchor:b};return Vt(Vt({},C),r?{height:Math.max(c-r.y,0),width:f}:{})}if(a==="bottom"){var P={x:u+f/2,y:c+h+g,textAnchor:"middle",verticalAnchor:S};return Vt(Vt({},P),r?{height:Math.max(r.y+r.height-(c+h),0),width:f}:{})}if(a==="left"){var R={x:u-x,y:c+h/2,textAnchor:A,verticalAnchor:"middle"};return Vt(Vt({},R),r?{width:Math.max(R.x-r.x,0),height:h}:{})}if(a==="right"){var N={x:u+f+x,y:c+h/2,textAnchor:O,verticalAnchor:"middle"};return Vt(Vt({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:h}:{})}var I=r?{width:f,height:h}:{};return a==="insideLeft"?Vt({x:u+x,y:c+h/2,textAnchor:O,verticalAnchor:"middle"},I):a==="insideRight"?Vt({x:u+f-x,y:c+h/2,textAnchor:A,verticalAnchor:"middle"},I):a==="insideTop"?Vt({x:u+f/2,y:c+g,textAnchor:"middle",verticalAnchor:S},I):a==="insideBottom"?Vt({x:u+f/2,y:c+h-g,textAnchor:"middle",verticalAnchor:b},I):a==="insideTopLeft"?Vt({x:u+x,y:c+g,textAnchor:O,verticalAnchor:S},I):a==="insideTopRight"?Vt({x:u+f-x,y:c+g,textAnchor:A,verticalAnchor:S},I):a==="insideBottomLeft"?Vt({x:u+x,y:c+h-g,textAnchor:O,verticalAnchor:b},I):a==="insideBottomRight"?Vt({x:u+f-x,y:c+h-g,textAnchor:A,verticalAnchor:b},I):Ml(a)&&(he(a.x)||go(a.x))&&(he(a.y)||go(a.y))?Vt({x:u+wn(a.x,f),y:c+wn(a.y,h),textAnchor:"end",verticalAnchor:"end"},I):Vt({x:u+f/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},I)},WQ=function(e){return"cx"in e&&he(e.cx)};function Xt(t){var e=t.offset,n=e===void 0?5:e,r=UQ(t,MQ),i=Vt({offset:n},r),a=i.viewBox,s=i.position,u=i.value,c=i.children,f=i.content,h=i.className,p=h===void 0?"":h,g=i.textBreakAll;if(!a||Ue(u)&&Ue(c)&&!U.isValidElement(f)&&!Oe(f))return null;if(U.isValidElement(f))return U.cloneElement(f,i);var b;if(Oe(f)){if(b=U.createElement(f,i),U.isValidElement(b))return b}else b=zQ(i);var S=WQ(a),E=Ae(i,!0);if(S&&(s==="insideStart"||s==="insideEnd"||s==="end"))return GQ(i,b,E);var x=S?FQ(i):KQ(i);return G.createElement(To,Hc({className:Le("recharts-label",p)},E,x,{breakAll:g}),b)}Xt.displayName="Label";var Tq=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,u=e.r,c=e.radius,f=e.innerRadius,h=e.outerRadius,p=e.x,g=e.y,b=e.top,S=e.left,E=e.width,x=e.height,A=e.clockWise,O=e.labelViewBox;if(O)return O;if(he(E)&&he(x)){if(he(p)&&he(g))return{x:p,y:g,width:E,height:x};if(he(b)&&he(S))return{x:b,y:S,width:E,height:x}}return he(p)&&he(g)?{x:p,y:g,width:0,height:0}:he(n)&&he(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:h||c||u||0,clockWise:A}:e.viewBox?e.viewBox:{}},YQ=function(e,n){return e?e===!0?G.createElement(Xt,{key:"label-implicit",viewBox:n}):Ft(e)?G.createElement(Xt,{key:"label-implicit",viewBox:n,value:e}):U.isValidElement(e)?e.type===Xt?U.cloneElement(e,{key:"label-implicit",viewBox:n}):G.createElement(Xt,{key:"label-implicit",content:e,viewBox:n}):Oe(e)?G.createElement(Xt,{key:"label-implicit",content:e,viewBox:n}):Ml(e)?G.createElement(Xt,Hc({viewBox:n},e,{key:"label-implicit"})):null:null},JQ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=Tq(e),s=vr(i,Xt).map(function(c,f){return U.cloneElement(c,{viewBox:n||a,key:"label-".concat(f)})});if(!r)return s;var u=YQ(e.label,n||a);return[u].concat(IQ(s))};Xt.parseViewBox=Tq;Xt.renderCallByParent=JQ;var F_,b2;function XQ(){if(b2)return F_;b2=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return F_=t,F_}var QQ=XQ();const ZQ=Ge(QQ);function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}var eZ=["valueAccessor"],tZ=["data","dataKey","clockWise","id","textBreakAll"];function nZ(t){return oZ(t)||aZ(t)||iZ(t)||rZ()}function rZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iZ(t,e){if(t){if(typeof t=="string")return Mw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mw(t,e)}}function aZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oZ(t){if(Array.isArray(t))return Mw(t)}function Mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ap(){return ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ap.apply(this,arguments)}function _2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_2(Object(n),!0).forEach(function(r){sZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sZ(t,e,n){return e=lZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lZ(t){var e=uZ(t,"string");return zc(e)=="symbol"?e:e+""}function uZ(t,e){if(zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function w2(t,e){if(t==null)return{};var n=cZ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var fZ=function(e){return Array.isArray(e.value)?ZQ(e.value):e.value};function Oa(t){var e=t.valueAccessor,n=e===void 0?fZ:e,r=w2(t,eZ),i=r.data,a=r.dataKey,s=r.clockWise,u=r.id,c=r.textBreakAll,f=w2(r,tZ);return!i||!i.length?null:G.createElement(rt,{className:"recharts-label-list"},i.map(function(h,p){var g=Ue(a)?n(h,p):mn(h&&h.payload,a),b=Ue(u)?{}:{id:"".concat(u,"-").concat(p)};return G.createElement(Xt,ap({},Ae(h,!0),f,b,{parentViewBox:h.parentViewBox,value:g,textBreakAll:c,viewBox:Xt.parseViewBox(Ue(s)?h:x2(x2({},h),{},{clockWise:s})),key:"label-".concat(p),index:p}))}))}Oa.displayName="LabelList";function dZ(t,e){return t?t===!0?G.createElement(Oa,{key:"labelList-implicit",data:e}):G.isValidElement(t)||Oe(t)?G.createElement(Oa,{key:"labelList-implicit",data:e,content:t}):Ml(t)?G.createElement(Oa,ap({data:e},t,{key:"labelList-implicit"})):null:null}function hZ(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=vr(r,Oa).map(function(s,u){return U.cloneElement(s,{data:e,key:"labelList-".concat(u)})});if(!n)return i;var a=dZ(t.label,e);return[a].concat(nZ(i))}Oa.renderCallByParent=hZ;function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function Iw(){return Iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iw.apply(this,arguments)}function S2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(n),!0).forEach(function(r){pZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pZ(t,e,n){return e=mZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mZ(t){var e=gZ(t,"string");return Vc(e)=="symbol"?e:e+""}function gZ(t,e){if(Vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vZ=function(e,n){var r=xn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},nh=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,u=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,h=c*(u?1:-1)+i,p=Math.asin(c/h)/ip,g=f?a:a+s*p,b=ht(n,r,h,g),S=ht(n,r,i,g),E=f?a-s*p:a,x=ht(n,r,h*Math.cos(p*ip),E);return{center:b,circleTangency:S,lineTangency:x,theta:p}},Aq=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,u=e.endAngle,c=vZ(s,u),f=s+c,h=ht(n,r,a,s),p=ht(n,r,a,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var b=ht(n,r,i,s),S=ht(n,r,i,f);g+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(b.x,",").concat(b.y," Z")}else g+="L ".concat(n,",").concat(r," Z");return g},yZ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,u=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,p=xn(h-f),g=nh({cx:n,cy:r,radius:a,angle:f,sign:p,cornerRadius:s,cornerIsExternal:c}),b=g.circleTangency,S=g.lineTangency,E=g.theta,x=nh({cx:n,cy:r,radius:a,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:c}),A=x.circleTangency,O=x.lineTangency,C=x.theta,P=c?Math.abs(f-h):Math.abs(f-h)-E-C;if(P<0)return u?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):Aq({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h});var R="M ".concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(P>180),",").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(O.x,",").concat(O.y,`
  `);if(i>0){var N=nh({cx:n,cy:r,radius:i,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),I=N.circleTangency,D=N.lineTangency,L=N.theta,V=nh({cx:n,cy:r,radius:i,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),$=V.circleTangency,Y=V.lineTangency,H=V.theta,W=c?Math.abs(f-h):Math.abs(f-h)-L-H;if(W<0&&s===0)return"".concat(R,"L").concat(n,",").concat(r,"Z");R+="L".concat(Y.x,",").concat(Y.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat($.x,",").concat($.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(W>180),",").concat(+(p>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,"Z")}else R+="L".concat(n,",").concat(r,"Z");return R},bZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Cq=function(e){var n=E2(E2({},bZ),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,u=n.cornerRadius,c=n.forceCornerRadius,f=n.cornerIsExternal,h=n.startAngle,p=n.endAngle,g=n.className;if(s<a||h===p)return null;var b=Le("recharts-sector",g),S=s-a,E=wn(u,S,0,!0),x;return E>0&&Math.abs(h-p)<360?x=yZ({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(E,S/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:p}):x=Aq({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:h,endAngle:p}),G.createElement("path",Iw({},Ae(n,!0),{className:b,d:x,role:"img"}))};function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function kw(){return kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kw.apply(this,arguments)}function T2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(n),!0).forEach(function(r){_Z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Z(t,e,n){return e=xZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xZ(t){var e=wZ(t,"string");return Gc(e)=="symbol"?e:e+""}function wZ(t,e){if(Gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C2={curveBasisClosed:BF,curveBasisOpen:HF,curveBasis:qF,curveBumpX:AF,curveBumpY:CF,curveLinearClosed:zF,curveLinear:rm,curveMonotoneX:VF,curveMonotoneY:GF,curveNatural:FF,curveStep:KF,curveStepAfter:YF,curveStepBefore:WF},rh=function(e){return e.x===+e.x&&e.y===+e.y},Gu=function(e){return e.x},Fu=function(e){return e.y},SZ=function(e,n){if(Oe(e))return e;var r="curve".concat(tm(e));return(r==="curveMonotone"||r==="curveBump")&&n?C2["".concat(r).concat(n==="vertical"?"Y":"X")]:C2[r]||rm},EZ=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,u=e.layout,c=e.connectNulls,f=c===void 0?!1:c,h=SZ(r,u),p=f?a.filter(function(E){return rh(E)}):a,g;if(Array.isArray(s)){var b=f?s.filter(function(E){return rh(E)}):s,S=p.map(function(E,x){return A2(A2({},E),{},{base:b[x]})});return u==="vertical"?g=Wd().y(Fu).x1(Gu).x0(function(E){return E.base.x}):g=Wd().x(Gu).y1(Fu).y0(function(E){return E.base.y}),g.defined(rh).curve(h),g(S)}return u==="vertical"&&he(s)?g=Wd().y(Fu).x1(Gu).x0(s):he(s)?g=Wd().x(Gu).y1(Fu).y0(s):g=EU().x(Gu).y(Fu),g.defined(rh).curve(h),g(p)},Dw=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?EZ(e):i;return U.createElement("path",kw({},Ae(e,!1),Ih(e),{className:Le("recharts-curve",n),d:s,ref:a}))},K_={exports:{}},W_,O2;function TZ(){if(O2)return W_;O2=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return W_=t,W_}var Y_,R2;function AZ(){if(R2)return Y_;R2=1;var t=TZ();function e(){}function n(){}return n.resetWarningCache=e,Y_=function(){function r(s,u,c,f,h,p){if(p!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},Y_}var P2;function CZ(){return P2||(P2=1,K_.exports=AZ()()),K_.exports}var OZ=CZ();const Ze=Ge(OZ),{getOwnPropertyNames:RZ,getOwnPropertySymbols:PZ}=Object,{hasOwnProperty:NZ}=Object.prototype;function J_(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function ih(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,s=a.get(n),u=a.get(r);if(s&&u)return s===r&&u===n;a.set(n,r),a.set(r,n);const c=t(n,r,i);return a.delete(n),a.delete(r),c}}function MZ(t){return t!=null?t[Symbol.toStringTag]:void 0}function N2(t){return RZ(t).concat(PZ(t))}const IZ=Object.hasOwn||((t,e)=>NZ.call(t,e));function Do(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const kZ="__v",DZ="__o",LZ="_owner",{getOwnPropertyDescriptor:M2,keys:I2}=Object;function jZ(t,e){return t.byteLength===e.byteLength&&op(new Uint8Array(t),new Uint8Array(e))}function UZ(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function $Z(t,e){return t.byteLength===e.byteLength&&op(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function qZ(t,e){return Do(t.getTime(),e.getTime())}function BZ(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function HZ(t,e){return t===e}function k2(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let s,u,c=0;for(;(s=a.next())&&!s.done;){const f=e.entries();let h=!1,p=0;for(;(u=f.next())&&!u.done;){if(i[p]){p++;continue}const g=s.value,b=u.value;if(n.equals(g[0],b[0],c,p,t,e,n)&&n.equals(g[1],b[1],g[0],b[0],t,e,n)){h=i[p]=!0;break}p++}if(!h)return!1;c++}return!0}const zZ=Do;function VZ(t,e,n){const r=I2(t);let i=r.length;if(I2(e).length!==i)return!1;for(;i-- >0;)if(!Oq(t,e,n,r[i]))return!1;return!0}function Ku(t,e,n){const r=N2(t);let i=r.length;if(N2(e).length!==i)return!1;let a,s,u;for(;i-- >0;)if(a=r[i],!Oq(t,e,n,a)||(s=M2(t,a),u=M2(e,a),(s||u)&&(!s||!u||s.configurable!==u.configurable||s.enumerable!==u.enumerable||s.writable!==u.writable)))return!1;return!0}function GZ(t,e){return Do(t.valueOf(),e.valueOf())}function FZ(t,e){return t.source===e.source&&t.flags===e.flags}function D2(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let s,u;for(;(s=a.next())&&!s.done;){const c=e.values();let f=!1,h=0;for(;(u=c.next())&&!u.done;){if(!i[h]&&n.equals(s.value,u.value,s.value,u.value,t,e,n)){f=i[h]=!0;break}h++}if(!f)return!1}return!0}function op(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function KZ(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Oq(t,e,n,r){return(r===LZ||r===DZ||r===kZ)&&(t.$$typeof||e.$$typeof)?!0:IZ(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const WZ="[object ArrayBuffer]",YZ="[object Arguments]",JZ="[object Boolean]",XZ="[object DataView]",QZ="[object Date]",ZZ="[object Error]",eee="[object Map]",tee="[object Number]",nee="[object Object]",ree="[object RegExp]",iee="[object Set]",aee="[object String]",oee={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},see="[object URL]",lee=Object.prototype.toString;function uee({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:u,areObjectsEqual:c,arePrimitiveWrappersEqual:f,areRegExpsEqual:h,areSetsEqual:p,areTypedArraysEqual:g,areUrlsEqual:b,unknownTagComparators:S}){return function(x,A,O){if(x===A)return!0;if(x==null||A==null)return!1;const C=typeof x;if(C!==typeof A)return!1;if(C!=="object")return C==="number"?u(x,A,O):C==="function"?a(x,A,O):!1;const P=x.constructor;if(P!==A.constructor)return!1;if(P===Object)return c(x,A,O);if(Array.isArray(x))return e(x,A,O);if(P===Date)return r(x,A,O);if(P===RegExp)return h(x,A,O);if(P===Map)return s(x,A,O);if(P===Set)return p(x,A,O);const R=lee.call(x);if(R===QZ)return r(x,A,O);if(R===ree)return h(x,A,O);if(R===eee)return s(x,A,O);if(R===iee)return p(x,A,O);if(R===nee)return typeof x.then!="function"&&typeof A.then!="function"&&c(x,A,O);if(R===see)return b(x,A,O);if(R===ZZ)return i(x,A,O);if(R===YZ)return c(x,A,O);if(oee[R])return g(x,A,O);if(R===WZ)return t(x,A,O);if(R===XZ)return n(x,A,O);if(R===JZ||R===tee||R===aee)return f(x,A,O);if(S){let N=S[R];if(!N){const I=MZ(x);I&&(N=S[I])}if(N)return N(x,A,O)}return!1}}function cee({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:jZ,areArraysEqual:n?Ku:UZ,areDataViewsEqual:$Z,areDatesEqual:qZ,areErrorsEqual:BZ,areFunctionsEqual:HZ,areMapsEqual:n?J_(k2,Ku):k2,areNumbersEqual:zZ,areObjectsEqual:n?Ku:VZ,arePrimitiveWrappersEqual:GZ,areRegExpsEqual:FZ,areSetsEqual:n?J_(D2,Ku):D2,areTypedArraysEqual:n?J_(op,Ku):op,areUrlsEqual:KZ,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=ih(r.areArraysEqual),a=ih(r.areMapsEqual),s=ih(r.areObjectsEqual),u=ih(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:u})}return r}function fee(t){return function(e,n,r,i,a,s,u){return t(e,n,u)}}function dee({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(u,c){const{cache:f=t?new WeakMap:void 0,meta:h}=n();return e(u,c,{cache:f,equals:r,meta:h,strict:i})};if(t)return function(u,c){return e(u,c,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(u,c){return e(u,c,a)}}const hee=ka();ka({strict:!0});ka({circular:!0});ka({circular:!0,strict:!0});ka({createInternalComparator:()=>Do});ka({strict:!0,createInternalComparator:()=>Do});ka({circular:!0,createInternalComparator:()=>Do});ka({circular:!0,createInternalComparator:()=>Do,strict:!0});function ka(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=cee(t),s=uee(a),u=n?n(s):fee(s);return dee({circular:e,comparator:s,createState:r,equals:u,strict:i})}function pee(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function L2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):pee(i)};requestAnimationFrame(r)}function Lw(t){"@babel/helpers - typeof";return Lw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lw(t)}function mee(t){return bee(t)||yee(t)||vee(t)||gee()}function gee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vee(t,e){if(t){if(typeof t=="string")return j2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j2(t,e)}}function j2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bee(t){if(Array.isArray(t))return t}function _ee(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,u=mee(s),c=u[0],f=u.slice(1);if(typeof c=="number"){L2(i.bind(null,f),c);return}i(c),L2(i.bind(null,f));return}Lw(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function U2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U2(Object(n),!0).forEach(function(r){Rq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rq(t,e,n){return e=xee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xee(t){var e=wee(t,"string");return Fc(e)==="symbol"?e:String(e)}function wee(t,e){if(Fc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var See=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Eee=function(e){return e},Tee=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},pc=function(e,n){return Object.keys(n).reduce(function(r,i){return $2($2({},r),{},Rq({},i,e(i,n[i])))},{})},q2=function(e,n,r){return e.map(function(i){return"".concat(Tee(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Aee(t,e){return Ree(t)||Oee(t,e)||Pq(t,e)||Cee()}function Cee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function Ree(t){if(Array.isArray(t))return t}function Pee(t){return Iee(t)||Mee(t)||Pq(t)||Nee()}function Nee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pq(t,e){if(t){if(typeof t=="string")return jw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jw(t,e)}}function Mee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Iee(t){if(Array.isArray(t))return jw(t)}function jw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sp=1e-4,Nq=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},Mq=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},B2=function(e,n){return function(r){var i=Nq(e,n);return Mq(i,r)}},kee=function(e,n){return function(r){var i=Nq(e,n),a=[].concat(Pee(i.map(function(s,u){return s*u}).slice(1)),[0]);return Mq(a,r)}},H2=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],u=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,u=1;break;case"ease":i=.25,a=.1,s=.25,u=1;break;case"ease-in":i=.42,a=0,s=1,u=1;break;case"ease-out":i=.42,a=0,s=.58,u=1;break;case"ease-in-out":i=0,a=0,s=.58,u=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),h=Aee(f,4);i=h[0],a=h[1],s=h[2],u=h[3]}}}var p=B2(i,s),g=B2(a,u),b=kee(i,s),S=function(A){return A>1?1:A<0?0:A},E=function(A){for(var O=A>1?1:A,C=O,P=0;P<8;++P){var R=p(C)-O,N=b(C);if(Math.abs(R-O)<sp||N<sp)return g(C);C=S(C-R/N)}return g(C)};return E.isStepper=!1,E},Dee=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,u=s===void 0?17:s,c=function(h,p,g){var b=-(h-p)*r,S=g*a,E=g+(b-S)*u/1e3,x=g*u/1e3+h;return Math.abs(x-p)<sp&&Math.abs(E)<sp?[p,0]:[x,E]};return c.isStepper=!0,c.dt=u,c},Lee=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return H2(i);case"spring":return Dee();default:if(i.split("(")[0]==="cubic-bezier")return H2(i)}return typeof i=="function"?i:null};function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function z2(t){return $ee(t)||Uee(t)||Iq(t)||jee()}function jee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $ee(t){if(Array.isArray(t))return $w(t)}function V2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(n),!0).forEach(function(r){Uw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uw(t,e,n){return e=qee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qee(t){var e=Bee(t,"string");return Kc(e)==="symbol"?e:String(e)}function Bee(t,e){if(Kc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hee(t,e){return Gee(t)||Vee(t,e)||Iq(t,e)||zee()}function zee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iq(t,e){if(t){if(typeof t=="string")return $w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $w(t,e)}}function $w(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function Gee(t){if(Array.isArray(t))return t}var lp=function(e,n,r){return e+(n-e)*r},qw=function(e){var n=e.from,r=e.to;return n!==r},Fee=function t(e,n,r){var i=pc(function(a,s){if(qw(s)){var u=e(s.from,s.to,s.velocity),c=Hee(u,2),f=c[0],h=c[1];return ln(ln({},s),{},{from:f,velocity:h})}return s},n);return r<1?pc(function(a,s){return qw(s)?ln(ln({},s),{},{velocity:lp(s.velocity,i[a].velocity,r),from:lp(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const Kee=(function(t,e,n,r,i){var a=See(t,e),s=a.reduce(function(x,A){return ln(ln({},x),{},Uw({},A,[t[A],e[A]]))},{}),u=a.reduce(function(x,A){return ln(ln({},x),{},Uw({},A,{from:t[A],velocity:0,to:e[A]}))},{}),c=-1,f,h,p=function(){return null},g=function(){return pc(function(A,O){return O.from},u)},b=function(){return!Object.values(u).filter(qw).length},S=function(A){f||(f=A);var O=A-f,C=O/n.dt;u=Fee(n,u,C),i(ln(ln(ln({},t),e),g())),f=A,b()||(c=requestAnimationFrame(p))},E=function(A){h||(h=A);var O=(A-h)/r,C=pc(function(R,N){return lp.apply(void 0,z2(N).concat([n(O)]))},s);if(i(ln(ln(ln({},t),e),C)),O<1)c=requestAnimationFrame(p);else{var P=pc(function(R,N){return lp.apply(void 0,z2(N).concat([n(1)]))},s);i(ln(ln(ln({},t),e),P))}};return p=n.isStepper?S:E,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}});function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}var Wee=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Yee(t,e){if(t==null)return{};var n=Jee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jee(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function X_(t){return ete(t)||Zee(t)||Qee(t)||Xee()}function Xee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qee(t,e){if(t){if(typeof t=="string")return Bw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bw(t,e)}}function Zee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ete(t){if(Array.isArray(t))return Bw(t)}function Bw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function G2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G2(Object(n),!0).forEach(function(r){ec(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ec(t,e,n){return e=kq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kq(r.key),r)}}function rte(t,e,n){return e&&nte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kq(t){var e=ite(t,"string");return ul(e)==="symbol"?e:String(e)}function ite(t,e){if(ul(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ul(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ate(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hw(t,e)}function Hw(t,e){return Hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hw(t,e)}function ote(t){var e=ste();return function(){var r=up(t),i;if(e){var a=up(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return zw(this,i)}}function zw(t,e){if(e&&(ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vw(t)}function Vw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ste(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function up(t){return up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},up(t)}var Bi=(function(t){ate(n,t);var e=ote(n);function n(r,i){var a;tte(this,n),a=e.call(this,r,i);var s=a.props,u=s.isActive,c=s.attributeName,f=s.from,h=s.to,p=s.steps,g=s.children,b=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Vw(a)),a.changeStyle=a.changeStyle.bind(Vw(a)),!u||b<=0)return a.state={style:{}},typeof g=="function"&&(a.state={style:h}),zw(a);if(p&&p.length)a.state={style:p[0].style};else if(f){if(typeof g=="function")return a.state={style:f},zw(a);a.state={style:c?ec({},c,f):f}}else a.state={style:{}};return a}return rte(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,u=a.canBegin,c=a.attributeName,f=a.shouldReAnimate,h=a.to,p=a.from,g=this.state.style;if(u){if(!s){var b={style:c?ec({},c,h):h};this.state&&g&&(c&&g[c]!==h||!c&&g!==h)&&this.setState(b);return}if(!(hee(i.to,h)&&i.canBegin&&i.isActive)){var S=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var E=S||f?p:i.to;if(this.state&&g){var x={style:c?ec({},c,E):E};(c&&g[c]!==E||!c&&g!==E)&&this.setState(x)}this.runAnimation(Pr(Pr({},this.props),{},{from:E,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,u=i.to,c=i.duration,f=i.easing,h=i.begin,p=i.onAnimationEnd,g=i.onAnimationStart,b=Kee(s,u,Lee(f),c,this.changeStyle),S=function(){a.stopJSAnimation=b()};this.manager.start([g,h,S,c,p])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,u=i.begin,c=i.onAnimationStart,f=s[0],h=f.style,p=f.duration,g=p===void 0?0:p,b=function(E,x,A){if(A===0)return E;var O=x.duration,C=x.easing,P=C===void 0?"ease":C,R=x.style,N=x.properties,I=x.onAnimationEnd,D=A>0?s[A-1]:x,L=N||Object.keys(R);if(typeof P=="function"||P==="spring")return[].concat(X_(E),[a.runJSAnimation.bind(a,{from:D.style,to:R,duration:O,easing:P}),O]);var V=q2(L,O,P),$=Pr(Pr(Pr({},D.style),R),{},{transition:V});return[].concat(X_(E),[$,O,I]).filter(Eee)};return this.manager.start([c].concat(X_(s.reduce(b,[h,Math.max(g,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=_ee());var a=i.begin,s=i.duration,u=i.attributeName,c=i.to,f=i.easing,h=i.onAnimationStart,p=i.onAnimationEnd,g=i.steps,b=i.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof f=="function"||typeof b=="function"||f==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var E=u?ec({},u,c):c,x=q2(Object.keys(E),s,f);S.start([h,a,Pr(Pr({},E),{},{transition:x}),s,p])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Yee(i,Wee),f=U.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!u||f===0||s<=0)return a;var p=function(b){var S=b.props,E=S.style,x=E===void 0?{}:E,A=S.className,O=U.cloneElement(b,Pr(Pr({},c),{},{style:Pr(Pr({},x),h),className:A}));return O};return f===1?p(U.Children.only(a)):G.createElement("div",null,U.Children.map(a,function(g){return p(g)}))}}]),n})(U.PureComponent);Bi.displayName="Animate";Bi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Bi.propTypes={from:Ze.oneOfType([Ze.object,Ze.string]),to:Ze.oneOfType([Ze.object,Ze.string]),attributeName:Ze.string,duration:Ze.number,begin:Ze.number,easing:Ze.oneOfType([Ze.string,Ze.func]),steps:Ze.arrayOf(Ze.shape({duration:Ze.number.isRequired,style:Ze.object.isRequired,easing:Ze.oneOfType([Ze.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ze.func]),properties:Ze.arrayOf("string"),onAnimationEnd:Ze.func})),children:Ze.oneOfType([Ze.node,Ze.func]),isActive:Ze.bool,canBegin:Ze.bool,onAnimationEnd:Ze.func,shouldReAnimate:Ze.bool,onAnimationStart:Ze.func,onAnimationReStart:Ze.func};function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function cp(){return cp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cp.apply(this,arguments)}function lte(t,e){return dte(t)||fte(t,e)||cte(t,e)||ute()}function ute(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cte(t,e){if(t){if(typeof t=="string")return F2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F2(t,e)}}function F2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function dte(t){if(Array.isArray(t))return t}function K2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K2(Object(n),!0).forEach(function(r){hte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hte(t,e,n){return e=pte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pte(t){var e=mte(t,"string");return Wc(e)=="symbol"?e:e+""}function mte(t,e){if(Wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Y2=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),u=i>=0?1:-1,c=r>=0?1:-1,f=i>=0&&r>=0||i<0&&r<0?1:0,h;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],g=0,b=4;g<b;g++)p[g]=a[g]>s?s:a[g];h="M".concat(e,",").concat(n+u*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+c*p[0],",").concat(n)),h+="L ".concat(e+r-c*p[1],",").concat(n),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(n+u*p[1])),h+="L ".concat(e+r,",").concat(n+i-u*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+r-c*p[2],",").concat(n+i)),h+="L ".concat(e+c*p[3],",").concat(n+i),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(n+i-u*p[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var S=Math.min(s,a);h="M ".concat(e,",").concat(n+u*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+c*S,",").concat(n,`
            L `).concat(e+r-c*S,",").concat(n,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+r,",").concat(n+u*S,`
            L `).concat(e+r,",").concat(n+i-u*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+r-c*S,",").concat(n+i,`
            L `).concat(e+c*S,",").concat(n+i,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e,",").concat(n+i-u*S," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},gte=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,u=n.width,c=n.height;if(Math.abs(u)>0&&Math.abs(c)>0){var f=Math.min(a,a+u),h=Math.max(a,a+u),p=Math.min(s,s+c),g=Math.max(s,s+c);return r>=f&&r<=h&&i>=p&&i<=g}return!1},vte={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tT=function(e){var n=W2(W2({},vte),e),r=U.useRef(),i=U.useState(-1),a=lte(i,2),s=a[0],u=a[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&u(P)}catch{}},[]);var c=n.x,f=n.y,h=n.width,p=n.height,g=n.radius,b=n.className,S=n.animationEasing,E=n.animationDuration,x=n.animationBegin,A=n.isAnimationActive,O=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||p!==+p||h===0||p===0)return null;var C=Le("recharts-rectangle",b);return O?G.createElement(Bi,{canBegin:s>0,from:{width:h,height:p,x:c,y:f},to:{width:h,height:p,x:c,y:f},duration:E,animationEasing:S,isActive:O},function(P){var R=P.width,N=P.height,I=P.x,D=P.y;return G.createElement(Bi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:E,isActive:A,easing:S},G.createElement("path",cp({},Ae(n,!0),{className:C,d:Y2(I,D,R,N,g),ref:r})))}):G.createElement("path",cp({},Ae(n,!0),{className:C,d:Y2(c,f,h,p,g)}))},yte=["points","className","baseLinePoints","connectNulls"];function js(){return js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},js.apply(this,arguments)}function bte(t,e){if(t==null)return{};var n=_te(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _te(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function J2(t){return Ete(t)||Ste(t)||wte(t)||xte()}function xte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wte(t,e){if(t){if(typeof t=="string")return Gw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gw(t,e)}}function Ste(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ete(t){if(Array.isArray(t))return Gw(t)}function Gw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var X2=function(e){return e&&e.x===+e.x&&e.y===+e.y},Tte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){X2(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),X2(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},mc=function(e,n){var r=Tte(e);n&&(r=[r.reduce(function(a,s){return[].concat(J2(a),J2(s))},[])]);var i=r.map(function(a){return a.reduce(function(s,u,c){return"".concat(s).concat(c===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Ate=function(e,n,r){var i=mc(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(mc(n.reverse(),r).slice(1))},Cte=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,s=bte(e,yte);if(!n||!n.length)return null;var u=Le("recharts-polygon",r);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",f=Ate(n,i,a);return G.createElement("g",{className:u},G.createElement("path",js({},Ae(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),c?G.createElement("path",js({},Ae(s,!0),{fill:"none",d:mc(n,a)})):null,c?G.createElement("path",js({},Ae(s,!0),{fill:"none",d:mc(i,a)})):null)}var h=mc(n,a);return G.createElement("path",js({},Ae(s,!0),{fill:h.slice(-1)==="Z"?s.fill:"none",className:u,d:h}))};function Fw(){return Fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fw.apply(this,arguments)}var nT=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=Le("recharts-dot",a);return n===+n&&r===+r&&i===+i?U.createElement("circle",Fw({},Ae(e,!1),Ih(e),{className:s,cx:n,cy:r,r:i})):null};function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}var Ote=["x","y","top","left","width","height","className"];function Kw(){return Kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kw.apply(this,arguments)}function Q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q2(Object(n),!0).forEach(function(r){Pte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pte(t,e,n){return e=Nte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nte(t){var e=Mte(t,"string");return Yc(e)=="symbol"?e:e+""}function Mte(t,e){if(Yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ite(t,e){if(t==null)return{};var n=kte(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Dte=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},Lte=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,u=s===void 0?0:s,c=e.left,f=c===void 0?0:c,h=e.width,p=h===void 0?0:h,g=e.height,b=g===void 0?0:g,S=e.className,E=Ite(e,Ote),x=Rte({x:r,y:a,top:u,left:f,width:p,height:b},E);return!he(r)||!he(a)||!he(p)||!he(b)||!he(u)||!he(f)?null:G.createElement("path",Kw({},Ae(x,!0),{className:Le("recharts-cross",S),d:Dte(r,a,p,b,u,f)}))},Q_,Z2;function jte(){if(Z2)return Q_;Z2=1;var t=pm(),e=Y$(),n=ii();function r(i,a){return i&&i.length?t(i,n(a,2),e):void 0}return Q_=r,Q_}var Ute=jte();const $te=Ge(Ute);var Z_,ek;function qte(){if(ek)return Z_;ek=1;var t=pm(),e=ii(),n=J$();function r(i,a){return i&&i.length?t(i,e(a,2),n):void 0}return Z_=r,Z_}var Bte=qte();const Hte=Ge(Bte);var zte=["cx","cy","angle","ticks","axisLine"],Vte=["ticks","tick","angle","tickFormatter","stroke"];function cl(t){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(t)}function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gc.apply(this,arguments)}function tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(n),!0).forEach(function(r){xm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nk(t,e){if(t==null)return{};var n=Gte(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Fte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lq(r.key),r)}}function Kte(t,e,n){return e&&rk(t.prototype,e),n&&rk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wte(t,e,n){return e=fp(e),Yte(t,Dq()?Reflect.construct(e,n||[],fp(t).constructor):e.apply(t,n))}function Yte(t,e){if(e&&(cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jte(t)}function Jte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dq=function(){return!!t})()}function fp(t){return fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fp(t)}function Xte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ww(t,e)}function Ww(t,e){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ww(t,e)}function xm(t,e,n){return e=Lq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lq(t){var e=Qte(t,"string");return cl(e)=="symbol"?e:e+""}function Qte(t,e){if(cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wm=(function(t){function e(){return Fte(this,e),Wte(this,e,arguments)}return Xte(e,t),Kte(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,s=a.angle,u=a.cx,c=a.cy;return ht(u,c,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,u=r.ticks,c=$te(u,function(h){return h.coordinate||0}),f=Hte(u,function(h){return h.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:f.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,u=r.ticks,c=r.axisLine,f=nk(r,zte),h=u.reduce(function(S,E){return[Math.min(S[0],E.coordinate),Math.max(S[1],E.coordinate)]},[1/0,-1/0]),p=ht(i,a,h[0],s),g=ht(i,a,h[1],s),b=io(io(io({},Ae(f,!1)),{},{fill:"none"},Ae(c,!1)),{},{x1:p.x,y1:p.y,x2:g.x,y2:g.y});return G.createElement("line",gc({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,u=i.angle,c=i.tickFormatter,f=i.stroke,h=nk(i,Vte),p=this.getTickTextAnchor(),g=Ae(h,!1),b=Ae(s,!1),S=a.map(function(E,x){var A=r.getTickValueCoord(E),O=io(io(io(io({textAnchor:p,transform:"rotate(".concat(90-u,", ").concat(A.x,", ").concat(A.y,")")},g),{},{stroke:"none",fill:f},b),{},{index:x},A),{},{payload:E});return G.createElement(rt,gc({className:Le("recharts-polar-radius-axis-tick",Eq(s)),key:"tick-".concat(E.coordinate)},Eo(r.props,E,x)),e.renderTickItem(s,O,c?c(E.value,x):E.value))});return G.createElement(rt,{className:"recharts-polar-radius-axis-ticks"},S)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,s=r.tick;return!i||!i.length?null:G.createElement(rt,{className:Le("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),Xt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return G.isValidElement(r)?s=G.cloneElement(r,i):Oe(r)?s=r(i):s=G.createElement(To,gc({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])})(U.PureComponent);xm(wm,"displayName","PolarRadiusAxis");xm(wm,"axisType","radiusAxis");xm(wm,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function ho(){return ho=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ho.apply(this,arguments)}function ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ao(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(n),!0).forEach(function(r){Sm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ak(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Uq(r.key),r)}}function ene(t,e,n){return e&&ak(t.prototype,e),n&&ak(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tne(t,e,n){return e=dp(e),nne(t,jq()?Reflect.construct(e,n||[],dp(t).constructor):e.apply(t,n))}function nne(t,e){if(e&&(fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rne(t)}function rne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jq=function(){return!!t})()}function dp(t){return dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dp(t)}function ine(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yw(t,e)}function Yw(t,e){return Yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yw(t,e)}function Sm(t,e,n){return e=Uq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uq(t){var e=ane(t,"string");return fl(e)=="symbol"?e:e+""}function ane(t,e){if(fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var one=Math.PI/180,ok=1e-5,Em=(function(t){function e(){return Zte(this,e),tne(this,e,arguments)}return ine(e,t),ene(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,s=i.cy,u=i.radius,c=i.orientation,f=i.tickSize,h=f||8,p=ht(a,s,u,r.coordinate),g=ht(a,s,u+(c==="inner"?-1:1)*h,r.coordinate);return{x1:p.x,y1:p.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*one),s;return a>ok?s=i==="outer"?"start":"end":a<-ok?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.radius,u=r.axisLine,c=r.axisLineType,f=ao(ao({},Ae(this.props,!1)),{},{fill:"none"},Ae(u,!1));if(c==="circle")return G.createElement(nT,ho({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:a,r:s}));var h=this.props.ticks,p=h.map(function(g){return ht(i,a,s,g.coordinate)});return G.createElement(Cte,ho({className:"recharts-polar-angle-axis-line"},f,{points:p}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,u=i.tickLine,c=i.tickFormatter,f=i.stroke,h=Ae(this.props,!1),p=Ae(s,!1),g=ao(ao({},h),{},{fill:"none"},Ae(u,!1)),b=a.map(function(S,E){var x=r.getTickLineCoord(S),A=r.getTickTextAnchor(S),O=ao(ao(ao({textAnchor:A},h),{},{stroke:"none",fill:f},p),{},{index:E,payload:S,x:x.x2,y:x.y2});return G.createElement(rt,ho({className:Le("recharts-polar-angle-axis-tick",Eq(s)),key:"tick-".concat(S.coordinate)},Eo(r.props,S,E)),u&&G.createElement("line",ho({className:"recharts-polar-angle-axis-tick-line"},g,x)),s&&e.renderTickItem(s,O,c?c(S.value,E):S.value))});return G.createElement(rt,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,s=r.axisLine;return a<=0||!i||!i.length?null:G.createElement(rt,{className:Le("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var s;return G.isValidElement(r)?s=G.cloneElement(r,i):Oe(r)?s=r(i):s=G.createElement(To,ho({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])})(U.PureComponent);Sm(Em,"displayName","PolarAngleAxis");Sm(Em,"axisType","angleAxis");Sm(Em,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ex,sk;function sne(){if(sk)return ex;sk=1;var t=KU(),e=t(Object.getPrototypeOf,Object);return ex=e,ex}var tx,lk;function lne(){if(lk)return tx;lk=1;var t=Vi(),e=sne(),n=Gi(),r="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,u=a.hasOwnProperty,c=s.call(Object);function f(h){if(!n(h)||t(h)!=r)return!1;var p=e(h);if(p===null)return!0;var g=u.call(p,"constructor")&&p.constructor;return typeof g=="function"&&g instanceof g&&s.call(g)==c}return tx=f,tx}var une=lne();const cne=Ge(une);var nx,uk;function fne(){if(uk)return nx;uk=1;var t=Vi(),e=Gi(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return nx=r,nx}var dne=fne();const hne=Ge(dne);function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function hp(){return hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hp.apply(this,arguments)}function pne(t,e){return yne(t)||vne(t,e)||gne(t,e)||mne()}function mne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gne(t,e){if(t){if(typeof t=="string")return ck(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ck(t,e)}}function ck(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function yne(t){if(Array.isArray(t))return t}function fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(n),!0).forEach(function(r){bne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bne(t,e,n){return e=_ne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ne(t){var e=xne(t,"string");return Jc(e)=="symbol"?e:e+""}function xne(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hk=function(e,n,r,i,a){var s=r-i,u;return u="M ".concat(e,",").concat(n),u+="L ".concat(e+r,",").concat(n),u+="L ".concat(e+r-s/2,",").concat(n+a),u+="L ".concat(e+r-s/2-i,",").concat(n+a),u+="L ".concat(e,",").concat(n," Z"),u},wne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Sne=function(e){var n=dk(dk({},wne),e),r=U.useRef(),i=U.useState(-1),a=pne(i,2),s=a[0],u=a[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&u(C)}catch{}},[]);var c=n.x,f=n.y,h=n.upperWidth,p=n.lowerWidth,g=n.height,b=n.className,S=n.animationEasing,E=n.animationDuration,x=n.animationBegin,A=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||p!==+p||g!==+g||h===0&&p===0||g===0)return null;var O=Le("recharts-trapezoid",b);return A?G.createElement(Bi,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:g,x:c,y:f},to:{upperWidth:h,lowerWidth:p,height:g,x:c,y:f},duration:E,animationEasing:S,isActive:A},function(C){var P=C.upperWidth,R=C.lowerWidth,N=C.height,I=C.x,D=C.y;return G.createElement(Bi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:E,easing:S},G.createElement("path",hp({},Ae(n,!0),{className:O,d:hk(I,D,P,R,N),ref:r})))}):G.createElement("g",null,G.createElement("path",hp({},Ae(n,!0),{className:O,d:hk(c,f,h,p,g)})))},Ene=["option","shapeType","propTransformer","activeClassName","isActive"];function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function Tne(t,e){if(t==null)return{};var n=Ane(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ane(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(n),!0).forEach(function(r){Cne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cne(t,e,n){return e=One(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function One(t){var e=Rne(t,"string");return Xc(e)=="symbol"?e:e+""}function Rne(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pne(t,e){return pp(pp({},e),t)}function Nne(t,e){return t==="symbols"}function mk(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return G.createElement(tT,n);case"trapezoid":return G.createElement(Sne,n);case"sector":return G.createElement(Cq,n);case"symbols":if(Nne(e))return G.createElement(_E,n);break;default:return null}}function Mne(t){return U.isValidElement(t)?t.props:t}function $q(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Pne:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,u=t.isActive,c=Tne(t,Ene),f;if(U.isValidElement(e))f=U.cloneElement(e,pp(pp({},c),Mne(e)));else if(Oe(e))f=e(c);else if(cne(e)&&!hne(e)){var h=i(e,c);f=G.createElement(mk,{shapeType:n,elementProps:h})}else{var p=c;f=G.createElement(mk,{shapeType:n,elementProps:p})}return u?G.createElement(rt,{className:s},f):f}function Tm(t,e){return e!=null&&"trapezoids"in t.props}function Am(t,e){return e!=null&&"sectors"in t.props}function Qc(t,e){return e!=null&&"points"in t.props}function Ine(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function kne(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Dne(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Lne(t,e){var n;return Tm(t,e)?n=Ine:Am(t,e)?n=kne:Qc(t,e)&&(n=Dne),n}function jne(t,e){var n;return Tm(t,e)?n="trapezoids":Am(t,e)?n="sectors":Qc(t,e)&&(n="points"),n}function Une(t,e){if(Tm(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Am(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Qc(t,e)?e.payload:{}}function $ne(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=jne(n,e),a=Une(n,e),s=r.filter(function(c,f){var h=vm(a,c),p=n.props[i].filter(function(S){var E=Lne(n,e);return E(S,e)}),g=n.props[i].indexOf(p[p.length-1]),b=f===g;return h&&b}),u=r.indexOf(s[s.length-1]);return u}var Eh;function dl(t){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}function Us(){return Us=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Us.apply(this,arguments)}function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){dr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bq(r.key),r)}}function Bne(t,e,n){return e&&vk(t.prototype,e),n&&vk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hne(t,e,n){return e=mp(e),zne(t,qq()?Reflect.construct(e,n||[],mp(t).constructor):e.apply(t,n))}function zne(t,e){if(e&&(dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vne(t)}function Vne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qq=function(){return!!t})()}function mp(t){return mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mp(t)}function Gne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jw(t,e)}function Jw(t,e){return Jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jw(t,e)}function dr(t,e,n){return e=Bq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bq(t){var e=Fne(t,"string");return dl(e)=="symbol"?e:e+""}function Fne(t,e){if(dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ai=(function(t){function e(n){var r;return qne(this,e),r=Hne(this,e,[n]),dr(r,"pieRef",null),dr(r,"sectorRefs",[]),dr(r,"id",vf("recharts-pie-")),dr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Oe(i)&&i()}),dr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Oe(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Gne(e,t),Bne(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,u=a.labelLine,c=a.dataKey,f=a.valueKey,h=Ae(this.props,!1),p=Ae(s,!1),g=Ae(u,!1),b=s&&s.offsetRadius||20,S=r.map(function(E,x){var A=(E.startAngle+E.endAngle)/2,O=ht(E.cx,E.cy,E.outerRadius+b,A),C=ft(ft(ft(ft({},h),E),{},{stroke:"none"},p),{},{index:x,textAnchor:e.getTextAnchor(O.x,E.cx)},O),P=ft(ft(ft(ft({},h),E),{},{fill:"none",stroke:E.fill},g),{},{index:x,points:[ht(E.cx,E.cy,E.outerRadius,A),O]}),R=c;return Ue(c)&&Ue(f)?R="value":Ue(c)&&(R=f),G.createElement(rt,{key:"label-".concat(E.startAngle,"-").concat(E.endAngle,"-").concat(E.midAngle,"-").concat(x)},u&&e.renderLabelLineItem(u,P,"line"),e.renderLabelItem(s,C,mn(E,R)))});return G.createElement(rt,{className:"recharts-pie-labels"},S)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,s=a.activeShape,u=a.blendStroke,c=a.inactiveShape;return r.map(function(f,h){if((f==null?void 0:f.startAngle)===0&&(f==null?void 0:f.endAngle)===0&&r.length!==1)return null;var p=i.isActiveIndex(h),g=c&&i.hasActiveIndex()?c:null,b=p?s:g,S=ft(ft({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return G.createElement(rt,Us({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Eo(i.props,f,h),{key:"sector-".concat(f==null?void 0:f.startAngle,"-").concat(f==null?void 0:f.endAngle,"-").concat(f.midAngle,"-").concat(h)}),G.createElement($q,Us({option:b,isActive:p,shapeType:"sector"},S)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,s=i.isAnimationActive,u=i.animationBegin,c=i.animationDuration,f=i.animationEasing,h=i.animationId,p=this.state,g=p.prevSectors,b=p.prevIsAnimationActive;return G.createElement(Bi,{begin:u,duration:c,isActive:s,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(b),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(S){var E=S.t,x=[],A=a&&a[0],O=A.startAngle;return a.forEach(function(C,P){var R=g&&g[P],N=P>0?Jn(C,"paddingAngle",0):0;if(R){var I=wa(R.endAngle-R.startAngle,C.endAngle-C.startAngle),D=ft(ft({},C),{},{startAngle:O+N,endAngle:O+I(E)+N});x.push(D),O=D.endAngle}else{var L=C.endAngle,V=C.startAngle,$=wa(0,L-V),Y=$(E),H=ft(ft({},C),{},{startAngle:O+N,endAngle:O+Y+N});x.push(H),O=H.endAngle}}),G.createElement(rt,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!vm(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,s=i.sectors,u=i.className,c=i.label,f=i.cx,h=i.cy,p=i.innerRadius,g=i.outerRadius,b=i.isAnimationActive,S=this.state.isAnimationFinished;if(a||!s||!s.length||!he(f)||!he(h)||!he(p)||!he(g))return null;var E=Le("recharts-pie",u);return G.createElement(rt,{tabIndex:this.props.rootTabIndex,className:E,ref:function(A){r.pieRef=A}},this.renderSectors(),c&&this.renderLabels(s),Xt.renderCallByParent(this.props,null,!1),(!b||S)&&Oa.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(G.isValidElement(r))return G.cloneElement(r,i);if(Oe(r))return r(i);var s=Le("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return G.createElement(Dw,Us({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,a){if(G.isValidElement(r))return G.cloneElement(r,i);var s=a;if(Oe(r)&&(s=r(i),G.isValidElement(s)))return s;var u=Le("recharts-pie-label-text",typeof r!="boolean"&&!Oe(r)?r.className:"");return G.createElement(To,Us({},i,{alignmentBaseline:"middle",className:u}),s)}}])})(U.PureComponent);Eh=ai;dr(ai,"displayName","Pie");dr(ai,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!kl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});dr(ai,"parseDeltaAngle",function(t,e){var n=xn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});dr(ai,"getRealPieData",function(t){var e=t.data,n=t.children,r=Ae(t,!1),i=vr(n,il);return e&&e.length?e.map(function(a,s){return ft(ft(ft({payload:a},r),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return ft(ft({},r),a.props)}):[]});dr(ai,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,s=Sq(i,a),u=r+wn(t.cx,i,i/2),c=n+wn(t.cy,a,a/2),f=wn(t.innerRadius,s,0),h=wn(t.outerRadius,s,s*.8),p=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:u,cy:c,innerRadius:f,outerRadius:h,maxRadius:p}});dr(ai,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?ft(ft({},e.type.defaultProps),e.props):e.props,i=Eh.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,s=r.startAngle,u=r.endAngle,c=r.paddingAngle,f=r.dataKey,h=r.nameKey,p=r.valueKey,g=r.tooltipType,b=Math.abs(r.minAngle),S=Eh.parseCoordinateOfPie(r,n),E=Eh.parseDeltaAngle(s,u),x=Math.abs(E),A=f;Ue(f)&&Ue(p)?(Ur(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A="value"):Ue(f)&&(Ur(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A=p);var O=i.filter(function(D){return mn(D,A,0)!==0}).length,C=(x>=360?O:O-1)*c,P=x-O*b-C,R=i.reduce(function(D,L){var V=mn(L,A,0);return D+(he(V)?V:0)},0),N;if(R>0){var I;N=i.map(function(D,L){var V=mn(D,A,0),$=mn(D,h,L),Y=(he(V)?V:0)/R,H;L?H=I.endAngle+xn(E)*c*(V!==0?1:0):H=s;var W=H+xn(E)*((V!==0?b:0)+Y*P),B=(H+W)/2,j=(S.innerRadius+S.outerRadius)/2,K=[{name:$,value:V,payload:D,dataKey:A,type:g}],ee=ht(S.cx,S.cy,j,B);return I=ft(ft(ft({percent:Y,cornerRadius:a,name:$,tooltipPayload:K,midAngle:B,middleRadius:j,tooltipPosition:ee},D),S),{},{value:mn(D,A),startAngle:H,endAngle:W,payload:D,paddingAngle:xn(E)*c}),I})}return ft(ft({},S),{},{sectors:N,data:i})});var rx,yk;function Kne(){if(yk)return rx;yk=1;var t=Math.ceil,e=Math.max;function n(r,i,a,s){for(var u=-1,c=e(t((i-r)/(a||1)),0),f=Array(c);c--;)f[s?c:++u]=r,r+=a;return f}return rx=n,rx}var ix,bk;function Hq(){if(bk)return ix;bk=1;var t=u$(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*n}return i===i?i:0}return ix=r,ix}var ax,_k;function Wne(){if(_k)return ax;_k=1;var t=Kne(),e=sm(),n=Hq();function r(i){return function(a,s,u){return u&&typeof u!="number"&&e(a,s,u)&&(s=u=void 0),a=n(a),s===void 0?(s=a,a=0):s=n(s),u=u===void 0?a<s?1:-1:n(u),t(a,s,u,i)}}return ax=r,ax}var ox,xk;function Yne(){if(xk)return ox;xk=1;var t=Wne(),e=t();return ox=e,ox}var Jne=Yne();const gp=Ge(Jne);function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(n),!0).forEach(function(r){zq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zq(t,e,n){return e=Xne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xne(t){var e=Qne(t,"string");return Zc(e)=="symbol"?e:e+""}function Qne(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zne=["Webkit","Moz","O","ms"],ere=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Zne.reduce(function(a,s){return Sk(Sk({},a),{},zq({},s+r,n))},{});return i[e]=n,i};function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function vp(){return vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vp.apply(this,arguments)}function Ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ek(Object(n),!0).forEach(function(r){Gn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gq(r.key),r)}}function nre(t,e,n){return e&&Tk(t.prototype,e),n&&Tk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rre(t,e,n){return e=yp(e),ire(t,Vq()?Reflect.construct(e,n||[],yp(t).constructor):e.apply(t,n))}function ire(t,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return are(t)}function are(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vq=function(){return!!t})()}function yp(t){return yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yp(t)}function ore(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xw(t,e)}function Xw(t,e){return Xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xw(t,e)}function Gn(t,e,n){return e=Gq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gq(t){var e=sre(t,"string");return hl(e)=="symbol"?e:e+""}function sre(t,e){if(hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lre=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,u=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,f=dc().domain(gp(0,c)).range([a,a+s-u]),h=f.domain().map(function(p){return f(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(i),scale:f,scaleValues:h}},Ak=function(e){return e.changedTouches&&!!e.changedTouches.length},pl=(function(t){function e(n){var r;return tre(this,e),r=rre(this,e,[n]),Gn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Gn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Gn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,u=i.startIndex;s==null||s({endIndex:a,startIndex:u})}),r.detachDragEndListener()}),Gn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Gn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Gn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Gn(r,"handleSlideDragStart",function(i){var a=Ak(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return ore(e,t),nre(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,u=this.props,c=u.gap,f=u.data,h=f.length-1,p=Math.min(i,a),g=Math.max(i,a),b=e.getIndexInRange(s,p),S=e.getIndexInRange(s,g);return{startIndex:b-b%c,endIndex:S===h?h:S-S%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,u=i.dataKey,c=mn(a[r],u,r);return Oe(s)?s(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,u=i.endX,c=this.props,f=c.x,h=c.width,p=c.travellerWidth,g=c.startIndex,b=c.endIndex,S=c.onChange,E=r.pageX-a;E>0?E=Math.min(E,f+h-p-u,f+h-p-s):E<0&&(E=Math.max(E,f-s,f-u));var x=this.getIndex({startX:s+E,endX:u+E});(x.startIndex!==g||x.endIndex!==b)&&S&&S(x),this.setState({startX:s+E,endX:u+E,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=Ak(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,u=i.endX,c=i.startX,f=this.state[s],h=this.props,p=h.x,g=h.width,b=h.travellerWidth,S=h.onChange,E=h.gap,x=h.data,A={startX:this.state.startX,endX:this.state.endX},O=r.pageX-a;O>0?O=Math.min(O,p+g-b-f):O<0&&(O=Math.max(O,p-f)),A[s]=f+O;var C=this.getIndex(A),P=C.startIndex,R=C.endIndex,N=function(){var D=x.length-1;return s==="startX"&&(u>c?P%E===0:R%E===0)||u<c&&R===D||s==="endX"&&(u>c?R%E===0:P%E===0)||u>c&&R===D};this.setState(Gn(Gn({},s,f+O),"brushMoveStartX",r.pageX),function(){S&&N()&&S(C)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,u=s.scaleValues,c=s.startX,f=s.endX,h=this.state[i],p=u.indexOf(h);if(p!==-1){var g=p+r;if(!(g===-1||g>=u.length)){var b=u[g];i==="startX"&&b>=f||i==="endX"&&b<=c||this.setState(Gn({},i,b),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,u=r.height,c=r.fill,f=r.stroke;return G.createElement("rect",{stroke:f,fill:c,x:i,y:a,width:s,height:u})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,u=r.height,c=r.data,f=r.children,h=r.padding,p=U.Children.only(f);return p?G.cloneElement(p,{x:i,y:a,width:s,height:u,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,u=this,c=this.props,f=c.y,h=c.travellerWidth,p=c.height,g=c.traveller,b=c.ariaLabel,S=c.data,E=c.startIndex,x=c.endIndex,A=Math.max(r,this.props.x),O=sx(sx({},Ae(this.props,!1)),{},{x:A,y:f,width:h,height:p}),C=b||"Min value: ".concat((a=S[E])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=S[x])===null||s===void 0?void 0:s.name);return G.createElement(rt,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(R){["ArrowLeft","ArrowRight"].includes(R.key)&&(R.preventDefault(),R.stopPropagation(),u.handleTravellerMoveKeyboard(R.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,O))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,u=a.height,c=a.stroke,f=a.travellerWidth,h=Math.min(r,i)+f,p=Math.max(Math.abs(i-r)-f,0);return G.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:s,width:p,height:u})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,u=r.height,c=r.travellerWidth,f=r.stroke,h=this.state,p=h.startX,g=h.endX,b=5,S={pointerEvents:"none",fill:f};return G.createElement(rt,{className:"recharts-brush-texts"},G.createElement(To,vp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,g)-b,y:s+u/2},S),this.getTextOfTick(i)),G.createElement(To,vp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,g)+c+b,y:s+u/2},S),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,u=r.x,c=r.y,f=r.width,h=r.height,p=r.alwaysShowText,g=this.state,b=g.startX,S=g.endX,E=g.isTextActive,x=g.isSlideMoving,A=g.isTravellerMoving,O=g.isTravellerFocused;if(!i||!i.length||!he(u)||!he(c)||!he(f)||!he(h)||f<=0||h<=0)return null;var C=Le("recharts-brush",a),P=G.Children.count(s)===1,R=ere("userSelect","none");return G.createElement(rt,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:R},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(b,S),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(S,"endX"),(E||x||A||O||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,u=r.height,c=r.stroke,f=Math.floor(a+u/2)-1;return G.createElement(G.Fragment,null,G.createElement("rect",{x:i,y:a,width:s,height:u,fill:c,stroke:"none"}),G.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),G.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return G.isValidElement(r)?a=G.cloneElement(r,i):Oe(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,u=r.x,c=r.travellerWidth,f=r.updateId,h=r.startIndex,p=r.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return sx({prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:s},a&&a.length?lre({data:a,width:s,x:u,travellerWidth:c,startIndex:h,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||u!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([u,u+s-c]);var g=i.scale.domain().map(function(b){return i.scale(b)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,u=a-1;u-s>1;){var c=Math.floor((s+u)/2);r[c]>i?u=c:s=c}return i>=r[u]?u:s}}])})(U.PureComponent);Gn(pl,"displayName","Brush");Gn(pl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var lx,Ck;function ure(){if(Ck)return lx;Ck=1;var t=CE();function e(n,r){var i;return t(n,function(a,s,u){return i=r(a,s,u),!i}),!!i}return lx=e,lx}var ux,Ok;function cre(){if(Ok)return ux;Ok=1;var t=qU(),e=ii(),n=ure(),r=kn(),i=sm();function a(s,u,c){var f=r(s)?t:n;return c&&i(s,u,c)&&(u=void 0),f(s,e(u,3))}return ux=a,ux}var fre=cre();const dre=Ge(fre);var ei=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},cx,Rk;function hre(){if(Rk)return cx;Rk=1;var t=i$();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return cx=e,cx}var fx,Pk;function pre(){if(Pk)return fx;Pk=1;var t=hre(),e=n$(),n=ii();function r(i,a){var s={};return a=n(a,3),e(i,function(u,c,f){t(s,c,a(u,c,f))}),s}return fx=r,fx}var mre=pre();const gre=Ge(mre);var dx,Nk;function vre(){if(Nk)return dx;Nk=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return dx=t,dx}var hx,Mk;function yre(){if(Mk)return hx;Mk=1;var t=CE();function e(n,r){var i=!0;return t(n,function(a,s,u){return i=!!r(a,s,u),i}),i}return hx=e,hx}var px,Ik;function bre(){if(Ik)return px;Ik=1;var t=vre(),e=yre(),n=ii(),r=kn(),i=sm();function a(s,u,c){var f=r(s)?t:e;return c&&i(s,u,c)&&(u=void 0),f(s,n(u,3))}return px=a,px}var _re=bre();const Fq=Ge(_re);var xre=["x","y"];function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qw.apply(this,arguments)}function kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(n),!0).forEach(function(r){wre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wre(t,e,n){return e=Sre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sre(t){var e=Ere(t,"string");return ef(e)=="symbol"?e:e+""}function Ere(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tre(t,e){if(t==null)return{};var n=Are(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Are(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cre(t,e){var n=t.x,r=t.y,i=Tre(t,xre),a="".concat(n),s=parseInt(a,10),u="".concat(r),c=parseInt(u,10),f="".concat(e.height||i.height),h=parseInt(f,10),p="".concat(e.width||i.width),g=parseInt(p,10);return Wu(Wu(Wu(Wu(Wu({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:g,name:e.name,radius:e.radius})}function Dk(t){return G.createElement($q,Qw({shapeType:"rectangle",propTransformer:Cre,activeClassName:"recharts-active-bar"},t))}var Ore=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=he(r)||YG(r);return a?e(r,i):(a||Oo(),n)}},Rre=["value","background"],Kq;function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function Pre(t,e){if(t==null)return{};var n=Nre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bp(){return bp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bp.apply(this,arguments)}function Lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lk(Object(n),!0).forEach(function(r){Aa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yq(r.key),r)}}function Ire(t,e,n){return e&&jk(t.prototype,e),n&&jk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kre(t,e,n){return e=_p(e),Dre(t,Wq()?Reflect.construct(e,n||[],_p(t).constructor):e.apply(t,n))}function Dre(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lre(t)}function Lre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wq=function(){return!!t})()}function _p(t){return _p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_p(t)}function jre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zw(t,e)}function Zw(t,e){return Zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zw(t,e)}function Aa(t,e,n){return e=Yq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yq(t){var e=Ure(t,"string");return ml(e)=="symbol"?e:e+""}function Ure(t,e){if(ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hr=(function(t){function e(){var n;Mre(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=kre(this,e,[].concat(i)),Aa(n,"state",{isAnimationFinished:!1}),Aa(n,"id",vf("recharts-bar-")),Aa(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Aa(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return jre(e,t),Ire(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,u=a.dataKey,c=a.activeIndex,f=a.activeBar,h=Ae(this.props,!1);return r&&r.map(function(p,g){var b=g===c,S=b?f:s,E=Ut(Ut(Ut({},h),p),{},{isActive:b,option:S,index:g,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return G.createElement(rt,bp({className:"recharts-bar-rectangle"},Eo(i.props,p,g),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(g)}),G.createElement(Dk,E))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,u=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,g=this.state.prevData;return G.createElement(Bi,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var S=b.t,E=a.map(function(x,A){var O=g&&g[A];if(O){var C=wa(O.x,x.x),P=wa(O.y,x.y),R=wa(O.width,x.width),N=wa(O.height,x.height);return Ut(Ut({},x),{},{x:C(S),y:P(S),width:R(S),height:N(S)})}if(s==="horizontal"){var I=wa(0,x.height),D=I(S);return Ut(Ut({},x),{},{y:x.y+x.height-D,height:D})}var L=wa(0,x.width),V=L(S);return Ut(Ut({},x),{},{width:V})});return G.createElement(rt,null,r.renderRectanglesStatically(E))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!vm(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,u=i.activeIndex,c=Ae(this.props.background,!1);return a.map(function(f,h){f.value;var p=f.background,g=Pre(f,Rre);if(!p)return null;var b=Ut(Ut(Ut(Ut(Ut({},g),{},{fill:"#eee"},p),c),Eo(r.props,f,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return G.createElement(Dk,bp({key:"background-bar-".concat(h),option:r.props.background,isActive:h===u},b))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,u=a.xAxis,c=a.yAxis,f=a.layout,h=a.children,p=vr(h,_m);if(!p)return null;var g=f==="vertical"?s[0].height/2:s[0].width/2,b=function(x,A){var O=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:O,errorVal:mn(x,A)}},S={clipPath:r?"url(#clipPath-".concat(i,")"):null};return G.createElement(rt,S,p.map(function(E){return G.cloneElement(E,{key:"error-bar-".concat(i,"-").concat(E.props.dataKey),data:s,xAxis:u,yAxis:c,layout:f,offset:g,dataPointFormatter:b})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,u=r.xAxis,c=r.yAxis,f=r.left,h=r.top,p=r.width,g=r.height,b=r.isAnimationActive,S=r.background,E=r.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,A=Le("recharts-bar",s),O=u&&u.allowDataOverflow,C=c&&c.allowDataOverflow,P=O||C,R=Ue(E)?this.id:E;return G.createElement(rt,{className:A},O||C?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(R)},G.createElement("rect",{x:O?f:f-p/2,y:C?h:h-g/2,width:O?p:p*2,height:C?g:g*2}))):null,G.createElement(rt,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(R,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,R),(!b||x)&&Oa.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(U.PureComponent);Kq=hr;Aa(hr,"displayName","Bar");Aa(hr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!kl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Aa(hr,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,u=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,p=t.displayedData,g=t.offset,b=uQ(r,n);if(!b)return null;var S=e.layout,E=n.type.defaultProps,x=E!==void 0?Ut(Ut({},E),n.props):n.props,A=x.dataKey,O=x.children,C=x.minPointSize,P=S==="horizontal"?s:a,R=f?P.scale.domain():null,N=gQ({numericAxis:P}),I=vr(O,il),D=p.map(function(L,V){var $,Y,H,W,B,j;f?$=cQ(f[h+V],R):($=mn(L,A),Array.isArray($)||($=[N,$]));var K=Ore(C,Kq.defaultProps.minPointSize)($[1],V);if(S==="horizontal"){var ee,oe=[s.scale($[0]),s.scale($[1])],ue=oe[0],q=oe[1];Y=f2({axis:a,ticks:u,bandSize:i,offset:b.offset,entry:L,index:V}),H=(ee=q??ue)!==null&&ee!==void 0?ee:void 0,W=b.size;var J=ue-q;if(B=Number.isNaN(J)?0:J,j={x:Y,y:s.y,width:W,height:s.height},Math.abs(K)>0&&Math.abs(B)<Math.abs(K)){var re=xn(B||K)*(Math.abs(K)-Math.abs(B));H-=re,B+=re}}else{var fe=[a.scale($[0]),a.scale($[1])],me=fe[0],xe=fe[1];if(Y=me,H=f2({axis:s,ticks:c,bandSize:i,offset:b.offset,entry:L,index:V}),W=xe-me,B=b.size,j={x:a.x,y:H,width:a.width,height:B},Math.abs(K)>0&&Math.abs(W)<Math.abs(K)){var je=xn(W||K)*(Math.abs(K)-Math.abs(W));W+=je}}return Ut(Ut(Ut({},L),{},{x:Y,y:H,width:W,height:B,value:f?$:$[1],payload:L,background:j},I&&I[V]&&I[V].props),{},{tooltipPayload:[xq(n,L)],tooltipPosition:{x:Y+W/2,y:H+B/2}})});return Ut({data:D,layout:S},g)});function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function $re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jq(r.key),r)}}function qre(t,e,n){return e&&Uk(t.prototype,e),n&&Uk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(n),!0).forEach(function(r){Cm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cm(t,e,n){return e=Jq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jq(t){var e=Bre(t,"string");return tf(e)=="symbol"?e:e+""}function Bre(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hre=function(e,n,r,i,a){var s=e.width,u=e.height,c=e.layout,f=e.children,h=Object.keys(n),p={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:u-r.bottom,bottomMirror:u-r.bottom},g=!!Fn(f,hr);return h.reduce(function(b,S){var E=n[S],x=E.orientation,A=E.domain,O=E.padding,C=O===void 0?{}:O,P=E.mirror,R=E.reversed,N="".concat(x).concat(P?"Mirror":""),I,D,L,V,$;if(E.type==="number"&&(E.padding==="gap"||E.padding==="no-gap")){var Y=A[1]-A[0],H=1/0,W=E.categoricalDomain.sort(QG);if(W.forEach(function(fe,me){me>0&&(H=Math.min((fe||0)-(W[me-1]||0),H))}),Number.isFinite(H)){var B=H/Y,j=E.layout==="vertical"?r.height:r.width;if(E.padding==="gap"&&(I=B*j/2),E.padding==="no-gap"){var K=wn(e.barCategoryGap,B*j),ee=B*j/2;I=ee-K-(ee-K)/j*K}}}i==="xAxis"?D=[r.left+(C.left||0)+(I||0),r.left+r.width-(C.right||0)-(I||0)]:i==="yAxis"?D=c==="horizontal"?[r.top+r.height-(C.bottom||0),r.top+(C.top||0)]:[r.top+(C.top||0)+(I||0),r.top+r.height-(C.bottom||0)-(I||0)]:D=E.range,R&&(D=[D[1],D[0]]);var oe=vq(E,a,g),ue=oe.scale,q=oe.realScaleType;ue.domain(A).range(D),yq(ue);var J=bq(ue,Dr(Dr({},E),{},{realScaleType:q}));i==="xAxis"?($=x==="top"&&!P||x==="bottom"&&P,L=r.left,V=p[N]-$*E.height):i==="yAxis"&&($=x==="left"&&!P||x==="right"&&P,L=p[N]-$*E.width,V=r.top);var re=Dr(Dr(Dr({},E),J),{},{realScaleType:q,x:L,y:V,scale:ue,width:i==="xAxis"?r.width:E.width,height:i==="yAxis"?r.height:E.height});return re.bandSize=rp(re,J),!E.hide&&i==="xAxis"?p[N]+=($?-1:1)*re.height:E.hide||(p[N]+=($?-1:1)*re.width),Dr(Dr({},b),{},Cm({},S,re))},{})},Xq=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},zre=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return Xq({x:n,y:r},{x:i,y:a})},Qq=(function(){function t(e){$re(this,t),this.scale=e}return qre(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(n)+u}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();Cm(Qq,"EPS",1e-4);var rT=function(e){var n=Object.keys(e).reduce(function(r,i){return Dr(Dr({},r),{},Cm({},i,Qq.create(e[i])))},{});return Dr(Dr({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,u=a.position;return gre(i,function(c,f){return n[f].apply(c,{bandAware:s,position:u})})},isInRange:function(i){return Fq(i,function(a,s){return n[s].isInRange(a)})}})};function Vre(t){return(t%180+180)%180}var Gre=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Vre(i),s=a*Math.PI/180,u=Math.atan(r/n),c=s>u&&s<Math.PI-u?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},mx,qk;function Fre(){if(qk)return mx;qk=1;var t=ii(),e=yf(),n=am();function r(i){return function(a,s,u){var c=Object(a);if(!e(a)){var f=t(s,3);a=n(a),s=function(p){return f(c[p],p,c)}}var h=i(a,s,u);return h>-1?c[f?a[h]:h]:void 0}}return mx=r,mx}var gx,Bk;function Kre(){if(Bk)return gx;Bk=1;var t=Hq();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return gx=e,gx}var vx,Hk;function Wre(){if(Hk)return vx;Hk=1;var t=XU(),e=ii(),n=Kre(),r=Math.max;function i(a,s,u){var c=a==null?0:a.length;if(!c)return-1;var f=u==null?0:n(u);return f<0&&(f=r(c+f,0)),t(a,e(s,3),f)}return vx=i,vx}var yx,zk;function Yre(){if(zk)return yx;zk=1;var t=Fre(),e=Wre(),n=t(e);return yx=n,yx}var Jre=Yre();const Xre=Ge(Jre);var Qre=dU();const Zre=Ge(Qre);var eie=Zre(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),iT=U.createContext(void 0),aT=U.createContext(void 0),Zq=U.createContext(void 0),e4=U.createContext({}),t4=U.createContext(void 0),n4=U.createContext(0),r4=U.createContext(0),Vk=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,u=e.children,c=e.width,f=e.height,h=eie(a);return G.createElement(iT.Provider,{value:r},G.createElement(aT.Provider,{value:i},G.createElement(e4.Provider,{value:a},G.createElement(Zq.Provider,{value:h},G.createElement(t4.Provider,{value:s},G.createElement(n4.Provider,{value:f},G.createElement(r4.Provider,{value:c},u)))))))},tie=function(){return U.useContext(t4)},i4=function(e){var n=U.useContext(iT);n==null&&Oo();var r=n[e];return r==null&&Oo(),r},nie=function(){var e=U.useContext(iT);return Ta(e)},rie=function(){var e=U.useContext(aT),n=Xre(e,function(r){return Fq(r.domain,Number.isFinite)});return n||Ta(e)},a4=function(e){var n=U.useContext(aT);n==null&&Oo();var r=n[e];return r==null&&Oo(),r},iie=function(){var e=U.useContext(Zq);return e},aie=function(){return U.useContext(e4)},oT=function(){return U.useContext(r4)},sT=function(){return U.useContext(n4)};function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function oie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s4(r.key),r)}}function lie(t,e,n){return e&&sie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uie(t,e,n){return e=xp(e),cie(t,o4()?Reflect.construct(e,n||[],xp(t).constructor):e.apply(t,n))}function cie(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fie(t)}function fie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o4=function(){return!!t})()}function xp(t){return xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xp(t)}function die(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eS(t,e)}function eS(t,e){return eS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eS(t,e)}function Gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(n),!0).forEach(function(r){lT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lT(t,e,n){return e=s4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s4(t){var e=hie(t,"string");return gl(e)=="symbol"?e:e+""}function hie(t,e){if(gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pie(t,e){return yie(t)||vie(t,e)||gie(t,e)||mie()}function mie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gie(t,e){if(t){if(typeof t=="string")return Kk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kk(t,e)}}function Kk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function yie(t){if(Array.isArray(t))return t}function tS(){return tS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tS.apply(this,arguments)}var bie=function(e,n){var r;return G.isValidElement(e)?r=G.cloneElement(e,n):Oe(e)?r=e(n):r=G.createElement("line",tS({},n,{className:"recharts-reference-line-line"})),r},_ie=function(e,n,r,i,a,s,u,c,f){var h=a.x,p=a.y,g=a.width,b=a.height;if(r){var S=f.y,E=e.y.apply(S,{position:s});if(ei(f,"discard")&&!e.y.isInRange(E))return null;var x=[{x:h+g,y:E},{x:h,y:E}];return c==="left"?x.reverse():x}if(n){var A=f.x,O=e.x.apply(A,{position:s});if(ei(f,"discard")&&!e.x.isInRange(O))return null;var C=[{x:O,y:p+b},{x:O,y:p}];return u==="top"?C.reverse():C}if(i){var P=f.segment,R=P.map(function(N){return e.apply(N,{position:s})});return ei(f,"discard")&&dre(R,function(N){return!e.isInRange(N)})?null:R}return null};function xie(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,u=t.className,c=t.alwaysShow,f=tie(),h=i4(i),p=a4(a),g=iie();if(!f||!g)return null;Ur(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=rT({x:h.scale,y:p.scale}),S=Ft(e),E=Ft(n),x=r&&r.length===2,A=_ie(b,S,E,x,g,t.position,h.orientation,p.orientation,t);if(!A)return null;var O=pie(A,2),C=O[0],P=C.x,R=C.y,N=O[1],I=N.x,D=N.y,L=ei(t,"hidden")?"url(#".concat(f,")"):void 0,V=Fk(Fk({clipPath:L},Ae(t,!0)),{},{x1:P,y1:R,x2:I,y2:D});return G.createElement(rt,{className:Le("recharts-reference-line",u)},bie(s,V),Xt.renderCallByParent(t,zre({x1:P,y1:R,x2:I,y2:D})))}var uT=(function(t){function e(){return oie(this,e),uie(this,e,arguments)}return die(e,t),lie(e,[{key:"render",value:function(){return G.createElement(xie,this.props)}}])})(G.Component);lT(uT,"displayName","ReferenceLine");lT(uT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function nS(){return nS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nS.apply(this,arguments)}function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function Wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(n),!0).forEach(function(r){Om(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u4(r.key),r)}}function Eie(t,e,n){return e&&Sie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tie(t,e,n){return e=wp(e),Aie(t,l4()?Reflect.construct(e,n||[],wp(t).constructor):e.apply(t,n))}function Aie(t,e){if(e&&(vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cie(t)}function Cie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l4=function(){return!!t})()}function wp(t){return wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wp(t)}function Oie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rS(t,e)}function rS(t,e){return rS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rS(t,e)}function Om(t,e,n){return e=u4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u4(t){var e=Rie(t,"string");return vl(e)=="symbol"?e:e+""}function Rie(t,e){if(vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pie=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=rT({x:i.scale,y:a.scale}),u=s.apply({x:n,y:r},{bandAware:!0});return ei(e,"discard")&&!s.isInRange(u)?null:u},Rm=(function(t){function e(){return wie(this,e),Tie(this,e,arguments)}return Oie(e,t),Eie(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,u=r.alwaysShow,c=r.clipPathId,f=Ft(i),h=Ft(a);if(Ur(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var p=Pie(this.props);if(!p)return null;var g=p.x,b=p.y,S=this.props,E=S.shape,x=S.className,A=ei(this.props,"hidden")?"url(#".concat(c,")"):void 0,O=Yk(Yk({clipPath:A},Ae(this.props,!0)),{},{cx:g,cy:b});return G.createElement(rt,{className:Le("recharts-reference-dot",x)},e.renderDot(E,O),Xt.renderCallByParent(this.props,{x:g-s,y:b-s,width:2*s,height:2*s}))}}])})(G.Component);Om(Rm,"displayName","ReferenceDot");Om(Rm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Om(Rm,"renderDot",function(t,e){var n;return G.isValidElement(t)?n=G.cloneElement(t,e):Oe(t)?n=t(e):n=G.createElement(nT,nS({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function iS(){return iS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iS.apply(this,arguments)}function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}function Jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(n),!0).forEach(function(r){Pm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f4(r.key),r)}}function Iie(t,e,n){return e&&Mie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kie(t,e,n){return e=Sp(e),Die(t,c4()?Reflect.construct(e,n||[],Sp(t).constructor):e.apply(t,n))}function Die(t,e){if(e&&(yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lie(t)}function Lie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c4=function(){return!!t})()}function Sp(t){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sp(t)}function jie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aS(t,e)}function aS(t,e){return aS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aS(t,e)}function Pm(t,e,n){return e=f4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f4(t){var e=Uie(t,"string");return yl(e)=="symbol"?e:e+""}function Uie(t,e){if(yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $ie=function(e,n,r,i,a){var s=a.x1,u=a.x2,c=a.y1,f=a.y2,h=a.xAxis,p=a.yAxis;if(!h||!p)return null;var g=rT({x:h.scale,y:p.scale}),b={x:e?g.x.apply(s,{position:"start"}):g.x.rangeMin,y:r?g.y.apply(c,{position:"start"}):g.y.rangeMin},S={x:n?g.x.apply(u,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(f,{position:"end"}):g.y.rangeMax};return ei(a,"discard")&&(!g.isInRange(b)||!g.isInRange(S))?null:Xq(b,S)},Nm=(function(t){function e(){return Nie(this,e),kie(this,e,arguments)}return jie(e,t),Iie(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,u=r.y2,c=r.className,f=r.alwaysShow,h=r.clipPathId;Ur(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Ft(i),g=Ft(a),b=Ft(s),S=Ft(u),E=this.props.shape;if(!p&&!g&&!b&&!S&&!E)return null;var x=$ie(p,g,b,S,this.props);if(!x&&!E)return null;var A=ei(this.props,"hidden")?"url(#".concat(h,")"):void 0;return G.createElement(rt,{className:Le("recharts-reference-area",c)},e.renderRect(E,Xk(Xk({clipPath:A},Ae(this.props,!0)),x)),Xt.renderCallByParent(this.props,x))}}])})(G.Component);Pm(Nm,"displayName","ReferenceArea");Pm(Nm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Pm(Nm,"renderRect",function(t,e){var n;return G.isValidElement(t)?n=G.cloneElement(t,e):Oe(t)?n=t(e):n=G.createElement(tT,iS({},e,{className:"recharts-reference-area-rect"})),n});function d4(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function qie(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Gre(r,n)}function Bie(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,u=t.height;return e===1?{start:r?i:a,end:r?i+s:a+u}:{start:r?i+s:a+u,end:r?i:a}}function Ep(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Hie(t,e){return d4(t,e+1)}function zie(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,u=e.end,c=0,f=1,h=s,p=function(){var S=r==null?void 0:r[c];if(S===void 0)return{v:d4(r,f)};var E=c,x,A=function(){return x===void 0&&(x=n(S,E)),x},O=S.coordinate,C=c===0||Ep(t,O,A,h,u);C||(c=0,h=s,f+=1),C&&(h=O+t*(A()/2+i),c+=f)},g;f<=a.length;)if(g=p(),g)return g.v;return[]}function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function Qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(n),!0).forEach(function(r){Vie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vie(t,e,n){return e=Gie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gie(t){var e=Fie(t,"string");return nf(e)=="symbol"?e:e+""}function Fie(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kie(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,u=e.start,c=e.end,f=function(g){var b=a[g],S,E=function(){return S===void 0&&(S=n(b,g)),S};if(g===s-1){var x=t*(b.coordinate+t*E()/2-c);a[g]=b=dn(dn({},b),{},{tickCoord:x>0?b.coordinate-x*t:b.coordinate})}else a[g]=b=dn(dn({},b),{},{tickCoord:b.coordinate});var A=Ep(t,b.tickCoord,E,u,c);A&&(c=b.tickCoord-t*(E()/2+i),a[g]=dn(dn({},b),{},{isShow:!0}))},h=s-1;h>=0;h--)f(h);return a}function Wie(t,e,n,r,i,a){var s=(r||[]).slice(),u=s.length,c=e.start,f=e.end;if(a){var h=r[u-1],p=n(h,u-1),g=t*(h.coordinate+t*p/2-f);s[u-1]=h=dn(dn({},h),{},{tickCoord:g>0?h.coordinate-g*t:h.coordinate});var b=Ep(t,h.tickCoord,function(){return p},c,f);b&&(f=h.tickCoord-t*(p/2+i),s[u-1]=dn(dn({},h),{},{isShow:!0}))}for(var S=a?u-1:u,E=function(O){var C=s[O],P,R=function(){return P===void 0&&(P=n(C,O)),P};if(O===0){var N=t*(C.coordinate-t*R()/2-c);s[O]=C=dn(dn({},C),{},{tickCoord:N<0?C.coordinate-N*t:C.coordinate})}else s[O]=C=dn(dn({},C),{},{tickCoord:C.coordinate});var I=Ep(t,C.tickCoord,R,c,f);I&&(c=C.tickCoord+t*(R()/2+i),s[O]=dn(dn({},C),{},{isShow:!0}))},x=0;x<S;x++)E(x);return s}function cT(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,u=t.orientation,c=t.interval,f=t.tickFormatter,h=t.unit,p=t.angle;if(!i||!i.length||!r)return[];if(he(c)||kl.isSsr)return Hie(i,typeof c=="number"&&he(c)?c:0);var g=[],b=u==="top"||u==="bottom"?"width":"height",S=h&&b==="width"?fc(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},E=function(C,P){var R=Oe(f)?f(C.value,P):C.value;return b==="width"?qie(fc(R,{fontSize:e,letterSpacing:n}),S,p):fc(R,{fontSize:e,letterSpacing:n})[b]},x=i.length>=2?xn(i[1].coordinate-i[0].coordinate):1,A=Bie(a,x,b);return c==="equidistantPreserveStart"?zie(x,A,E,i,s):(c==="preserveStart"||c==="preserveStartEnd"?g=Wie(x,A,E,i,s,c==="preserveStartEnd"):g=Kie(x,A,E,i,s),g.filter(function(O){return O.isShow}))}var Yie=["viewBox"],Jie=["viewBox"],Xie=["ticks"];function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function $s(){return $s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$s.apply(this,arguments)}function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){fT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bx(t,e){if(t==null)return{};var n=Qie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p4(r.key),r)}}function eae(t,e,n){return e&&eD(t.prototype,e),n&&eD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tae(t,e,n){return e=Tp(e),nae(t,h4()?Reflect.construct(e,n||[],Tp(t).constructor):e.apply(t,n))}function nae(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rae(t)}function rae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h4=function(){return!!t})()}function Tp(t){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tp(t)}function iae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oS(t,e)}function oS(t,e){return oS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oS(t,e)}function fT(t,e,n){return e=p4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p4(t){var e=aae(t,"string");return bl(e)=="symbol"?e:e+""}function aae(t,e){if(bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ul=(function(t){function e(n){var r;return Zie(this,e),r=tae(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return iae(e,t),eae(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=bx(r,Yie),u=this.props,c=u.viewBox,f=bx(u,Jie);return!Ks(a,c)||!Ks(s,f)||!Ks(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,u=i.width,c=i.height,f=i.orientation,h=i.tickSize,p=i.mirror,g=i.tickMargin,b,S,E,x,A,O,C=p?-1:1,P=r.tickSize||h,R=he(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":b=S=r.coordinate,x=s+ +!p*c,E=x-C*P,O=E-C*g,A=R;break;case"left":E=x=r.coordinate,S=a+ +!p*u,b=S-C*P,A=b-C*g,O=R;break;case"right":E=x=r.coordinate,S=a+ +p*u,b=S+C*P,A=b+C*g,O=R;break;default:b=S=r.coordinate,x=s+ +p*c,E=x+C*P,O=E+C*g,A=R;break}return{line:{x1:b,y1:E,x2:S,y2:x},tick:{x:A,y:O}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,u=r.height,c=r.orientation,f=r.mirror,h=r.axisLine,p=zt(zt(zt({},Ae(this.props,!1)),Ae(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var g=+(c==="top"&&!f||c==="bottom"&&f);p=zt(zt({},p),{},{x1:i,y1:a+g*u,x2:i+s,y2:a+g*u})}else{var b=+(c==="left"&&!f||c==="right"&&f);p=zt(zt({},p),{},{x1:i+b*s,y1:a,x2:i+b*s,y2:a+u})}return G.createElement("line",$s({},p,{className:Le("recharts-cartesian-axis-line",Jn(h,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,u=this.props,c=u.tickLine,f=u.stroke,h=u.tick,p=u.tickFormatter,g=u.unit,b=cT(zt(zt({},this.props),{},{ticks:r}),i,a),S=this.getTickTextAnchor(),E=this.getTickVerticalAnchor(),x=Ae(this.props,!1),A=Ae(h,!1),O=zt(zt({},x),{},{fill:"none"},Ae(c,!1)),C=b.map(function(P,R){var N=s.getTickLineCoord(P),I=N.line,D=N.tick,L=zt(zt(zt(zt({textAnchor:S,verticalAnchor:E},x),{},{stroke:"none",fill:f},A),D),{},{index:R,payload:P,visibleTicksCount:b.length,tickFormatter:p});return G.createElement(rt,$s({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},Eo(s.props,P,R)),c&&G.createElement("line",$s({},O,I,{className:Le("recharts-cartesian-axis-tick-line",Jn(c,"className"))})),h&&e.renderTickItem(h,L,"".concat(Oe(p)?p(P.value,R):P.value).concat(g||"")))});return G.createElement("g",{className:"recharts-cartesian-axis-ticks"},C)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,u=i.height,c=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var p=this.props,g=p.ticks,b=bx(p,Xie),S=g;return Oe(c)&&(S=g&&g.length>0?c(this.props):c(b)),s<=0||u<=0||!S||!S.length?null:G.createElement(rt,{className:Le("recharts-cartesian-axis",f),ref:function(x){r.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),Xt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,u=Le(i.className,"recharts-cartesian-axis-tick-value");return G.isValidElement(r)?s=G.cloneElement(r,zt(zt({},i),{},{className:u})):Oe(r)?s=r(zt(zt({},i),{},{className:u})):s=G.createElement(To,$s({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])})(U.Component);fT(Ul,"displayName","CartesianAxis");fT(Ul,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var oae=["x1","y1","x2","y2","key"],sae=["offset"];function Ro(t){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ro(t)}function tD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(n),!0).forEach(function(r){lae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lae(t,e,n){return e=uae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uae(t){var e=cae(t,"string");return Ro(e)=="symbol"?e:e+""}function cae(t,e){if(Ro(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ro(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bo(){return bo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bo.apply(this,arguments)}function nD(t,e){if(t==null)return{};var n=fae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var dae=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,u=e.height,c=e.ry;return G.createElement("rect",{x:i,y:a,ry:c,width:s,height:u,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function m4(t,e){var n;if(G.isValidElement(t))n=G.cloneElement(t,e);else if(Oe(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,u=e.key,c=nD(e,oae),f=Ae(c,!1);f.offset;var h=nD(f,sae);n=G.createElement("line",bo({},h,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:u}))}return n}function hae(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(u,c){var f=hn(hn({},t),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(c),index:c});return m4(i,f)});return G.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function pae(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(u,c){var f=hn(hn({},t),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(c),index:c});return m4(i,f)});return G.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function mae(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,u=t.horizontalPoints,c=t.horizontal,f=c===void 0?!0:c;if(!f||!e||!e.length)return null;var h=u.map(function(g){return Math.round(g+i-i)}).sort(function(g,b){return g-b});i!==h[0]&&h.unshift(0);var p=h.map(function(g,b){var S=!h[b+1],E=S?i+s-g:h[b+1]-g;if(E<=0)return null;var x=b%e.length;return G.createElement("rect",{key:"react-".concat(b),y:g,x:r,height:E,width:a,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function gae(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,u=t.width,c=t.height,f=t.verticalPoints;if(!n||!r||!r.length)return null;var h=f.map(function(g){return Math.round(g+a-a)}).sort(function(g,b){return g-b});a!==h[0]&&h.unshift(0);var p=h.map(function(g,b){var S=!h[b+1],E=S?a+u-g:h[b+1]-g;if(E<=0)return null;var x=b%r.length;return G.createElement("rect",{key:"react-".concat(b),x:g,y:s,width:E,height:c,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var vae=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return gq(cT(hn(hn(hn({},Ul.defaultProps),r),{},{ticks:Mi(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},yae=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return gq(cT(hn(hn(hn({},Ul.defaultProps),r),{},{ticks:Mi(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},Ps={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function dT(t){var e,n,r,i,a,s,u=oT(),c=sT(),f=aie(),h=hn(hn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ps.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ps.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ps.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ps.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Ps.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Ps.verticalFill,x:he(t.x)?t.x:f.left,y:he(t.y)?t.y:f.top,width:he(t.width)?t.width:f.width,height:he(t.height)?t.height:f.height}),p=h.x,g=h.y,b=h.width,S=h.height,E=h.syncWithTicks,x=h.horizontalValues,A=h.verticalValues,O=nie(),C=rie();if(!he(b)||b<=0||!he(S)||S<=0||!he(p)||p!==+p||!he(g)||g!==+g)return null;var P=h.verticalCoordinatesGenerator||vae,R=h.horizontalCoordinatesGenerator||yae,N=h.horizontalPoints,I=h.verticalPoints;if((!N||!N.length)&&Oe(R)){var D=x&&x.length,L=R({yAxis:C?hn(hn({},C),{},{ticks:D?x:C.ticks}):void 0,width:u,height:c,offset:f},D?!0:E);Ur(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ro(L),"]")),Array.isArray(L)&&(N=L)}if((!I||!I.length)&&Oe(P)){var V=A&&A.length,$=P({xAxis:O?hn(hn({},O),{},{ticks:V?A:O.ticks}):void 0,width:u,height:c,offset:f},V?!0:E);Ur(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ro($),"]")),Array.isArray($)&&(I=$)}return G.createElement("g",{className:"recharts-cartesian-grid"},G.createElement(dae,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),G.createElement(hae,bo({},h,{offset:f,horizontalPoints:N,xAxis:O,yAxis:C})),G.createElement(pae,bo({},h,{offset:f,verticalPoints:I,xAxis:O,yAxis:C})),G.createElement(mae,bo({},h,{horizontalPoints:N})),G.createElement(gae,bo({},h,{verticalPoints:I})))}dT.displayName="CartesianGrid";function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function bae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y4(r.key),r)}}function xae(t,e,n){return e&&_ae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wae(t,e,n){return e=Ap(e),Sae(t,g4()?Reflect.construct(e,n||[],Ap(t).constructor):e.apply(t,n))}function Sae(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eae(t)}function Eae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g4=function(){return!!t})()}function Ap(t){return Ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ap(t)}function Tae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sS(t,e)}function sS(t,e){return sS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sS(t,e)}function v4(t,e,n){return e=y4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y4(t){var e=Aae(t,"string");return _l(e)=="symbol"?e:e+""}function Aae(t,e){if(_l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lS(){return lS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lS.apply(this,arguments)}function Cae(t){var e=t.xAxisId,n=oT(),r=sT(),i=i4(e);return i==null?null:U.createElement(Ul,lS({},i,{className:Le("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Mi(s,!0)}}))}var xl=(function(t){function e(){return bae(this,e),wae(this,e,arguments)}return Tae(e,t),xae(e,[{key:"render",value:function(){return U.createElement(Cae,this.props)}}])})(U.Component);v4(xl,"displayName","XAxis");v4(xl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function Oae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x4(r.key),r)}}function Pae(t,e,n){return e&&Rae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nae(t,e,n){return e=Cp(e),Mae(t,b4()?Reflect.construct(e,n||[],Cp(t).constructor):e.apply(t,n))}function Mae(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iae(t)}function Iae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b4=function(){return!!t})()}function Cp(t){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cp(t)}function kae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uS(t,e)}function uS(t,e){return uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uS(t,e)}function _4(t,e,n){return e=x4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x4(t){var e=Dae(t,"string");return wl(e)=="symbol"?e:e+""}function Dae(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function cS(){return cS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cS.apply(this,arguments)}var Lae=function(e){var n=e.yAxisId,r=oT(),i=sT(),a=a4(n);return a==null?null:U.createElement(Ul,cS({},a,{className:Le("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(u){return Mi(u,!0)}}))},Sl=(function(t){function e(){return Oae(this,e),Nae(this,e,arguments)}return kae(e,t),Pae(e,[{key:"render",value:function(){return U.createElement(Lae,this.props)}}])})(U.Component);_4(Sl,"displayName","YAxis");_4(Sl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function rD(t){return qae(t)||$ae(t)||Uae(t)||jae()}function jae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uae(t,e){if(t){if(typeof t=="string")return fS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fS(t,e)}}function $ae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qae(t){if(Array.isArray(t))return fS(t)}function fS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var dS=function(e,n,r,i,a){var s=vr(e,uT),u=vr(e,Rm),c=[].concat(rD(s),rD(u)),f=vr(e,Nm),h="".concat(i,"Id"),p=i[0],g=n;if(c.length&&(g=c.reduce(function(E,x){if(x.props[h]===r&&ei(x.props,"extendDomain")&&he(x.props[p])){var A=x.props[p];return[Math.min(E[0],A),Math.max(E[1],A)]}return E},g)),f.length){var b="".concat(p,"1"),S="".concat(p,"2");g=f.reduce(function(E,x){if(x.props[h]===r&&ei(x.props,"extendDomain")&&he(x.props[b])&&he(x.props[S])){var A=x.props[b],O=x.props[S];return[Math.min(E[0],A,O),Math.max(E[1],A,O)]}return E},g)}return a&&a.length&&(g=a.reduce(function(E,x){return he(x)?[Math.min(E[0],x),Math.max(E[1],x)]:E},g)),g},_x={exports:{}},iD;function Bae(){return iD||(iD=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function a(c,f,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new i(h,p||c,g),S=n?n+f:f;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],b]:c._events[S].push(b):(c._events[S]=b,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,b=p.length,S=new Array(b);g<b;g++)S[g]=p[g].fn;return S},u.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(f,h,p,g,b,S){var E=n?n+f:f;if(!this._events[E])return!1;var x=this._events[E],A=arguments.length,O,C;if(x.fn){switch(x.once&&this.removeListener(f,x.fn,void 0,!0),A){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,p),!0;case 4:return x.fn.call(x.context,h,p,g),!0;case 5:return x.fn.call(x.context,h,p,g,b),!0;case 6:return x.fn.call(x.context,h,p,g,b,S),!0}for(C=1,O=new Array(A-1);C<A;C++)O[C-1]=arguments[C];x.fn.apply(x.context,O)}else{var P=x.length,R;for(C=0;C<P;C++)switch(x[C].once&&this.removeListener(f,x[C].fn,void 0,!0),A){case 1:x[C].fn.call(x[C].context);break;case 2:x[C].fn.call(x[C].context,h);break;case 3:x[C].fn.call(x[C].context,h,p);break;case 4:x[C].fn.call(x[C].context,h,p,g);break;default:if(!O)for(R=1,O=new Array(A-1);R<A;R++)O[R-1]=arguments[R];x[C].fn.apply(x[C].context,O)}}return!0},u.prototype.on=function(f,h,p){return a(this,f,h,p,!1)},u.prototype.once=function(f,h,p){return a(this,f,h,p,!0)},u.prototype.removeListener=function(f,h,p,g){var b=n?n+f:f;if(!this._events[b])return this;if(!h)return s(this,b),this;var S=this._events[b];if(S.fn)S.fn===h&&(!g||S.once)&&(!p||S.context===p)&&s(this,b);else{for(var E=0,x=[],A=S.length;E<A;E++)(S[E].fn!==h||g&&!S[E].once||p&&S[E].context!==p)&&x.push(S[E]);x.length?this._events[b]=x.length===1?x[0]:x:s(this,b)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(_x)),_x.exports}var Hae=Bae();const zae=Ge(Hae);var xx=new zae,wx="recharts.syncMouseEvents";function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function Vae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w4(r.key),r)}}function Fae(t,e,n){return e&&Gae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sx(t,e,n){return e=w4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w4(t){var e=Kae(t,"string");return rf(e)=="symbol"?e:e+""}function Kae(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wae=(function(){function t(){Vae(this,t),Sx(this,"activeIndex",0),Sx(this,"coordinateList",[]),Sx(this,"layout","horizontal")}return Fae(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,u=s===void 0?null:s,c=n.layout,f=c===void 0?null:c,h=n.offset,p=h===void 0?null:h,g=n.mouseHandlerCallback,b=g===void 0?null:g;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,u=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,p=a+c+f,g=s+this.offset.top+u/2+h;this.mouseHandlerCallback({pageX:p,pageY:g})}}}])})();function Yae(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&he(r)&&he(i))return!0}return!1}function Jae(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function S4(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=ht(e,n,r,i),u=ht(e,n,r,a);return{points:[s,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Xae(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,c=e.cy,f=e.innerRadius,h=e.outerRadius,p=e.angle,g=ht(u,c,f,p),b=ht(u,c,h,p);r=g.x,i=g.y,a=b.x,s=b.y}else return S4(e);return[{x:r,y:i},{x:a,y:s}]}function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function aD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ah(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(n),!0).forEach(function(r){Qae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qae(t,e,n){return e=Zae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zae(t){var e=eoe(t,"string");return af(e)=="symbol"?e:e+""}function eoe(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function toe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,u=t.activePayload,c=t.offset,f=t.activeTooltipIndex,h=t.tooltipAxisBandSize,p=t.layout,g=t.chartName,b=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!b||!a||!s||g!=="ScatterChart"&&i!=="axis")return null;var S,E=Dw;if(g==="ScatterChart")S=s,E=Lte;else if(g==="BarChart")S=Jae(p,s,c,h),E=tT;else if(p==="radial"){var x=S4(s),A=x.cx,O=x.cy,C=x.radius,P=x.startAngle,R=x.endAngle;S={cx:A,cy:O,startAngle:P,endAngle:R,innerRadius:C,outerRadius:C},E=Cq}else S={points:Xae(p,s,c)},E=Dw;var N=ah(ah(ah(ah({stroke:"#ccc",pointerEvents:"none"},c),S),Ae(b,!1)),{},{payload:u,payloadIndex:f,className:Le("recharts-tooltip-cursor",b.className)});return U.isValidElement(b)?U.cloneElement(b,N):U.createElement(E,N)}var noe=["item"],roe=["children","className","width","height","style","compact","title","desc"];function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function qs(){return qs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qs.apply(this,arguments)}function oD(t,e){return ooe(t)||aoe(t,e)||T4(t,e)||ioe()}function ioe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aoe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function ooe(t){if(Array.isArray(t))return t}function sD(t,e){if(t==null)return{};var n=soe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function soe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function loe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uoe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A4(r.key),r)}}function coe(t,e,n){return e&&uoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function foe(t,e,n){return e=Op(e),doe(t,E4()?Reflect.construct(e,n||[],Op(t).constructor):e.apply(t,n))}function doe(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hoe(t)}function hoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E4=function(){return!!t})()}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Op(t)}function poe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hS(t,e)}function hS(t,e){return hS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hS(t,e)}function Tl(t){return voe(t)||goe(t)||T4(t)||moe()}function moe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T4(t,e){if(t){if(typeof t=="string")return pS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pS(t,e)}}function goe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function voe(t){if(Array.isArray(t))return pS(t)}function pS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lD(Object(n),!0).forEach(function(r){Se(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Se(t,e,n){return e=A4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A4(t){var e=yoe(t,"string");return El(e)=="symbol"?e:e+""}function yoe(t,e){if(El(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var boe={xAxis:["bottom","top"],yAxis:["left","right"]},_oe={width:"100%",height:"100%"},C4={x:0,y:0};function oh(t){return t}var xoe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},woe=function(e,n,r,i){var a=n.find(function(h){return h&&h.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,u=i.radius;return ae(ae(ae({},i),ht(i.cx,i.cy,u,s)),{},{angle:s,radius:u})}var c=a.coordinate,f=i.angle;return ae(ae(ae({},i),ht(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return C4},Mm=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(u,c){var f=c.props.data;return f&&f.length?[].concat(Tl(u),Tl(f)):u},[]);return s.length>0?s:e&&e.length&&he(i)&&he(a)?e.slice(i,a+1):[]};function O4(t){return t==="number"?[0,"auto"]:void 0}var mS=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,u=Mm(n,e);return r<0||!a||!a.length||r>=u.length?null:a.reduce(function(c,f){var h,p=(h=f.props.data)!==null&&h!==void 0?h:n;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(s.dataKey&&!s.allowDuplicatedCategory){var b=p===void 0?u:p;g=Jx(b,s.dataKey,i)}else g=p&&p[r]||u[r];return g?[].concat(Tl(c),[xq(f,g)]):c},[])},uD=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=xoe(a,r),u=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,h=rQ(s,u,f,c);if(h>=0&&f){var p=f[h]&&f[h].value,g=mS(e,n,h,p),b=woe(r,u,h,a);return{activeTooltipIndex:h,activeLabel:p,activePayload:g,activeCoordinate:b}}return null},Soe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,u=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,p=e.children,g=e.stackOffset,b=mq(h,a);return r.reduce(function(S,E){var x,A=E.type.defaultProps!==void 0?ae(ae({},E.type.defaultProps),E.props):E.props,O=A.type,C=A.dataKey,P=A.allowDataOverflow,R=A.allowDuplicatedCategory,N=A.scale,I=A.ticks,D=A.includeHidden,L=A[s];if(S[L])return S;var V=Mm(e.data,{graphicalItems:i.filter(function(J){var re,fe=s in J.props?J.props[s]:(re=J.type.defaultProps)===null||re===void 0?void 0:re[s];return fe===L}),dataStartIndex:c,dataEndIndex:f}),$=V.length,Y,H,W;Yae(A.domain,P,O)&&(Y=Pw(A.domain,null,P),b&&(O==="number"||N!=="auto")&&(W=hc(V,C,"category")));var B=O4(O);if(!Y||Y.length===0){var j,K=(j=A.domain)!==null&&j!==void 0?j:B;if(C){if(Y=hc(V,C,O),O==="category"&&b){var ee=XG(Y);R&&ee?(H=Y,Y=gp(0,$)):R||(Y=p2(K,Y,E).reduce(function(J,re){return J.indexOf(re)>=0?J:[].concat(Tl(J),[re])},[]))}else if(O==="category")R?Y=Y.filter(function(J){return J!==""&&!Ue(J)}):Y=p2(K,Y,E).reduce(function(J,re){return J.indexOf(re)>=0||re===""||Ue(re)?J:[].concat(Tl(J),[re])},[]);else if(O==="number"){var oe=lQ(V,i.filter(function(J){var re,fe,me=s in J.props?J.props[s]:(re=J.type.defaultProps)===null||re===void 0?void 0:re[s],xe="hide"in J.props?J.props.hide:(fe=J.type.defaultProps)===null||fe===void 0?void 0:fe.hide;return me===L&&(D||!xe)}),C,a,h);oe&&(Y=oe)}b&&(O==="number"||N!=="auto")&&(W=hc(V,C,"category"))}else b?Y=gp(0,$):u&&u[L]&&u[L].hasStack&&O==="number"?Y=g==="expand"?[0,1]:_q(u[L].stackGroups,c,f):Y=pq(V,i.filter(function(J){var re=s in J.props?J.props[s]:J.type.defaultProps[s],fe="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return re===L&&(D||!fe)}),O,h,!0);if(O==="number")Y=dS(p,Y,L,a,I),K&&(Y=Pw(K,Y,P));else if(O==="category"&&K){var ue=K,q=Y.every(function(J){return ue.indexOf(J)>=0});q&&(Y=ue)}}return ae(ae({},S),{},Se({},L,ae(ae({},A),{},{axisType:a,domain:Y,categoricalDomain:W,duplicateDomain:H,originalDomain:(x=A.domain)!==null&&x!==void 0?x:B,isCategorical:b,layout:h})))},{})},Eoe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,u=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,p=e.children,g=Mm(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:f}),b=g.length,S=mq(h,a),E=-1;return r.reduce(function(x,A){var O=A.type.defaultProps!==void 0?ae(ae({},A.type.defaultProps),A.props):A.props,C=O[s],P=O4("number");if(!x[C]){E++;var R;return S?R=gp(0,b):u&&u[C]&&u[C].hasStack?(R=_q(u[C].stackGroups,c,f),R=dS(p,R,C,a)):(R=Pw(P,pq(g,r.filter(function(N){var I,D,L=s in N.props?N.props[s]:(I=N.type.defaultProps)===null||I===void 0?void 0:I[s],V="hide"in N.props?N.props.hide:(D=N.type.defaultProps)===null||D===void 0?void 0:D.hide;return L===C&&!V}),"number",h),i.defaultProps.allowDataOverflow),R=dS(p,R,C,a)),ae(ae({},x),{},Se({},C,ae(ae({axisType:a},i.defaultProps),{},{hide:!0,orientation:Jn(boe,"".concat(a,".").concat(E%2),null),domain:R,originalDomain:P,isCategorical:S,layout:h})))}return x},{})},Toe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,u=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.children,p="".concat(i,"Id"),g=vr(h,a),b={};return g&&g.length?b=Soe(e,{axes:g,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:c,dataEndIndex:f}):s&&s.length&&(b=Eoe(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:c,dataEndIndex:f})),b},Aoe=function(e){var n=Ta(e),r=Mi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:OE(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:rp(n,r)}},cD=function(e){var n=e.children,r=e.defaultShowTooltip,i=Fn(n,pl),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},Coe=function(e){return!e||!e.length?!1:e.some(function(n){var r=ki(n&&n.type);return r&&r.indexOf("Bar")>=0})},fD=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Ooe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,u=e.yAxisMap,c=u===void 0?{}:u,f=r.width,h=r.height,p=r.children,g=r.margin||{},b=Fn(p,pl),S=Fn(p,Di),E=Object.keys(c).reduce(function(R,N){var I=c[N],D=I.orientation;return!I.mirror&&!I.hide?ae(ae({},R),{},Se({},D,R[D]+I.width)):R},{left:g.left||0,right:g.right||0}),x=Object.keys(s).reduce(function(R,N){var I=s[N],D=I.orientation;return!I.mirror&&!I.hide?ae(ae({},R),{},Se({},D,Jn(R,"".concat(D))+I.height)):R},{top:g.top||0,bottom:g.bottom||0}),A=ae(ae({},x),E),O=A.bottom;b&&(A.bottom+=b.props.height||pl.defaultProps.height),S&&n&&(A=oQ(A,i,r,n));var C=f-A.left-A.right,P=h-A.top-A.bottom;return ae(ae({brushBottom:O},A),{},{width:Math.max(C,0),height:Math.max(P,0)})},Roe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},R4=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,u=s===void 0?["axis"]:s,c=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,p=e.defaultProps,g=function(A,O){var C=O.graphicalItems,P=O.stackGroups,R=O.offset,N=O.updateId,I=O.dataStartIndex,D=O.dataEndIndex,L=A.barSize,V=A.layout,$=A.barGap,Y=A.barCategoryGap,H=A.maxBarSize,W=fD(V),B=W.numericAxisName,j=W.cateAxisName,K=Coe(C),ee=[];return C.forEach(function(oe,ue){var q=Mm(A.data,{graphicalItems:[oe],dataStartIndex:I,dataEndIndex:D}),J=oe.type.defaultProps!==void 0?ae(ae({},oe.type.defaultProps),oe.props):oe.props,re=J.dataKey,fe=J.maxBarSize,me=J["".concat(B,"Id")],xe=J["".concat(j,"Id")],je={},Xe=c.reduce(function(Ar,oi){var Hl=O["".concat(oi.axisType,"Map")],cn=J["".concat(oi.axisType,"Id")];Hl&&Hl[cn]||oi.axisType==="zAxis"||Oo();var Sf=Hl[cn];return ae(ae({},Ar),{},Se(Se({},oi.axisType,Sf),"".concat(oi.axisType,"Ticks"),Mi(Sf)))},je),de=Xe[j],Ce=Xe["".concat(j,"Ticks")],Pe=P&&P[me]&&P[me].hasStack&&vQ(oe,P[me].stackGroups),ce=ki(oe.type).indexOf("Bar")>=0,pt=rp(de,Ce),Ie=[],wt=K&&iQ({barSize:L,stackGroups:P,totalSize:Roe(Xe,j)});if(ce){var St,un,Tr=Ue(fe)?H:fe,zr=(St=(un=rp(de,Ce,!0))!==null&&un!==void 0?un:Tr)!==null&&St!==void 0?St:0;Ie=aQ({barGap:$,barCategoryGap:Y,bandSize:zr!==pt?zr:pt,sizeList:wt[xe],maxBarSize:Tr}),zr!==pt&&(Ie=Ie.map(function(Ar){return ae(ae({},Ar),{},{position:ae(ae({},Ar.position),{},{offset:Ar.position.offset-zr/2})})}))}var Yi=oe&&oe.type&&oe.type.getComposedData;Yi&&ee.push({props:ae(ae({},Yi(ae(ae({},Xe),{},{displayedData:q,props:A,dataKey:re,item:oe,bandSize:pt,barPosition:Ie,offset:R,stackedData:Pe,layout:V,dataStartIndex:I,dataEndIndex:D}))),{},Se(Se(Se({key:oe.key||"item-".concat(ue)},B,Xe[B]),j,Xe[j]),"animationId",N)),childIndex:uF(oe,A.children),item:oe})}),ee},b=function(A,O){var C=A.props,P=A.dataStartIndex,R=A.dataEndIndex,N=A.updateId;if(!RP({props:C}))return null;var I=C.children,D=C.layout,L=C.stackOffset,V=C.data,$=C.reverseStackOrder,Y=fD(D),H=Y.numericAxisName,W=Y.cateAxisName,B=vr(I,r),j=mQ(V,B,"".concat(H,"Id"),"".concat(W,"Id"),L,$),K=c.reduce(function(J,re){var fe="".concat(re.axisType,"Map");return ae(ae({},J),{},Se({},fe,Toe(C,ae(ae({},re),{},{graphicalItems:B,stackGroups:re.axisType===H&&j,dataStartIndex:P,dataEndIndex:R}))))},{}),ee=Ooe(ae(ae({},K),{},{props:C,graphicalItems:B}),O==null?void 0:O.legendBBox);Object.keys(K).forEach(function(J){K[J]=h(C,K[J],ee,J.replace("Map",""),n)});var oe=K["".concat(W,"Map")],ue=Aoe(oe),q=g(C,ae(ae({},K),{},{dataStartIndex:P,dataEndIndex:R,updateId:N,graphicalItems:B,stackGroups:j,offset:ee}));return ae(ae({formattedGraphicalItems:q,graphicalItems:B,offset:ee,stackGroups:j},ue),K)},S=(function(x){function A(O){var C,P,R;return loe(this,A),R=foe(this,A,[O]),Se(R,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Se(R,"accessibilityManager",new Wae),Se(R,"handleLegendBBoxUpdate",function(N){if(N){var I=R.state,D=I.dataStartIndex,L=I.dataEndIndex,V=I.updateId;R.setState(ae({legendBBox:N},b({props:R.props,dataStartIndex:D,dataEndIndex:L,updateId:V},ae(ae({},R.state),{},{legendBBox:N}))))}}),Se(R,"handleReceiveSyncEvent",function(N,I,D){if(R.props.syncId===N){if(D===R.eventEmitterSymbol&&typeof R.props.syncMethod!="function")return;R.applySyncEvent(I)}}),Se(R,"handleBrushChange",function(N){var I=N.startIndex,D=N.endIndex;if(I!==R.state.dataStartIndex||D!==R.state.dataEndIndex){var L=R.state.updateId;R.setState(function(){return ae({dataStartIndex:I,dataEndIndex:D},b({props:R.props,dataStartIndex:I,dataEndIndex:D,updateId:L},R.state))}),R.triggerSyncEvent({dataStartIndex:I,dataEndIndex:D})}}),Se(R,"handleMouseEnter",function(N){var I=R.getMouseInfo(N);if(I){var D=ae(ae({},I),{},{isTooltipActive:!0});R.setState(D),R.triggerSyncEvent(D);var L=R.props.onMouseEnter;Oe(L)&&L(D,N)}}),Se(R,"triggeredAfterMouseMove",function(N){var I=R.getMouseInfo(N),D=I?ae(ae({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};R.setState(D),R.triggerSyncEvent(D);var L=R.props.onMouseMove;Oe(L)&&L(D,N)}),Se(R,"handleItemMouseEnter",function(N){R.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Se(R,"handleItemMouseLeave",function(){R.setState(function(){return{isTooltipActive:!1}})}),Se(R,"handleMouseMove",function(N){N.persist(),R.throttleTriggeredAfterMouseMove(N)}),Se(R,"handleMouseLeave",function(N){R.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};R.setState(I),R.triggerSyncEvent(I);var D=R.props.onMouseLeave;Oe(D)&&D(I,N)}),Se(R,"handleOuterEvent",function(N){var I=lF(N),D=Jn(R.props,"".concat(I));if(I&&Oe(D)){var L,V;/.*touch.*/i.test(I)?V=R.getMouseInfo(N.changedTouches[0]):V=R.getMouseInfo(N),D((L=V)!==null&&L!==void 0?L:{},N)}}),Se(R,"handleClick",function(N){var I=R.getMouseInfo(N);if(I){var D=ae(ae({},I),{},{isTooltipActive:!0});R.setState(D),R.triggerSyncEvent(D);var L=R.props.onClick;Oe(L)&&L(D,N)}}),Se(R,"handleMouseDown",function(N){var I=R.props.onMouseDown;if(Oe(I)){var D=R.getMouseInfo(N);I(D,N)}}),Se(R,"handleMouseUp",function(N){var I=R.props.onMouseUp;if(Oe(I)){var D=R.getMouseInfo(N);I(D,N)}}),Se(R,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&R.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Se(R,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&R.handleMouseDown(N.changedTouches[0])}),Se(R,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&R.handleMouseUp(N.changedTouches[0])}),Se(R,"handleDoubleClick",function(N){var I=R.props.onDoubleClick;if(Oe(I)){var D=R.getMouseInfo(N);I(D,N)}}),Se(R,"handleContextMenu",function(N){var I=R.props.onContextMenu;if(Oe(I)){var D=R.getMouseInfo(N);I(D,N)}}),Se(R,"triggerSyncEvent",function(N){R.props.syncId!==void 0&&xx.emit(wx,R.props.syncId,N,R.eventEmitterSymbol)}),Se(R,"applySyncEvent",function(N){var I=R.props,D=I.layout,L=I.syncMethod,V=R.state.updateId,$=N.dataStartIndex,Y=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)R.setState(ae({dataStartIndex:$,dataEndIndex:Y},b({props:R.props,dataStartIndex:$,dataEndIndex:Y,updateId:V},R.state)));else if(N.activeTooltipIndex!==void 0){var H=N.chartX,W=N.chartY,B=N.activeTooltipIndex,j=R.state,K=j.offset,ee=j.tooltipTicks;if(!K)return;if(typeof L=="function")B=L(ee,N);else if(L==="value"){B=-1;for(var oe=0;oe<ee.length;oe++)if(ee[oe].value===N.activeLabel){B=oe;break}}var ue=ae(ae({},K),{},{x:K.left,y:K.top}),q=Math.min(H,ue.x+ue.width),J=Math.min(W,ue.y+ue.height),re=ee[B]&&ee[B].value,fe=mS(R.state,R.props.data,B),me=ee[B]?{x:D==="horizontal"?ee[B].coordinate:q,y:D==="horizontal"?J:ee[B].coordinate}:C4;R.setState(ae(ae({},N),{},{activeLabel:re,activeCoordinate:me,activePayload:fe,activeTooltipIndex:B}))}else R.setState(N)}),Se(R,"renderCursor",function(N){var I,D=R.state,L=D.isTooltipActive,V=D.activeCoordinate,$=D.activePayload,Y=D.offset,H=D.activeTooltipIndex,W=D.tooltipAxisBandSize,B=R.getTooltipEventType(),j=(I=N.props.active)!==null&&I!==void 0?I:L,K=R.props.layout,ee=N.key||"_recharts-cursor";return G.createElement(toe,{key:ee,activeCoordinate:V,activePayload:$,activeTooltipIndex:H,chartName:n,element:N,isActive:j,layout:K,offset:Y,tooltipAxisBandSize:W,tooltipEventType:B})}),Se(R,"renderPolarAxis",function(N,I,D){var L=Jn(N,"type.axisType"),V=Jn(R.state,"".concat(L,"Map")),$=N.type.defaultProps,Y=$!==void 0?ae(ae({},$),N.props):N.props,H=V&&V[Y["".concat(L,"Id")]];return U.cloneElement(N,ae(ae({},H),{},{className:Le(L,H.className),key:N.key||"".concat(I,"-").concat(D),ticks:Mi(H,!0)}))}),Se(R,"renderPolarGrid",function(N){var I=N.props,D=I.radialLines,L=I.polarAngles,V=I.polarRadius,$=R.state,Y=$.radiusAxisMap,H=$.angleAxisMap,W=Ta(Y),B=Ta(H),j=B.cx,K=B.cy,ee=B.innerRadius,oe=B.outerRadius;return U.cloneElement(N,{polarAngles:Array.isArray(L)?L:Mi(B,!0).map(function(ue){return ue.coordinate}),polarRadius:Array.isArray(V)?V:Mi(W,!0).map(function(ue){return ue.coordinate}),cx:j,cy:K,innerRadius:ee,outerRadius:oe,key:N.key||"polar-grid",radialLines:D})}),Se(R,"renderLegend",function(){var N=R.state.formattedGraphicalItems,I=R.props,D=I.children,L=I.width,V=I.height,$=R.props.margin||{},Y=L-($.left||0)-($.right||0),H=dq({children:D,formattedGraphicalItems:N,legendWidth:Y,legendContent:f});if(!H)return null;var W=H.item,B=sD(H,noe);return U.cloneElement(W,ae(ae({},B),{},{chartWidth:L,chartHeight:V,margin:$,onBBoxUpdate:R.handleLegendBBoxUpdate}))}),Se(R,"renderTooltip",function(){var N,I=R.props,D=I.children,L=I.accessibilityLayer,V=Fn(D,Mn);if(!V)return null;var $=R.state,Y=$.isTooltipActive,H=$.activeCoordinate,W=$.activePayload,B=$.activeLabel,j=$.offset,K=(N=V.props.active)!==null&&N!==void 0?N:Y;return U.cloneElement(V,{viewBox:ae(ae({},j),{},{x:j.left,y:j.top}),active:K,label:B,payload:K?W:[],coordinate:H,accessibilityLayer:L})}),Se(R,"renderBrush",function(N){var I=R.props,D=I.margin,L=I.data,V=R.state,$=V.offset,Y=V.dataStartIndex,H=V.dataEndIndex,W=V.updateId;return U.cloneElement(N,{key:N.key||"_recharts-brush",onChange:th(R.handleBrushChange,N.props.onChange),data:L,x:he(N.props.x)?N.props.x:$.left,y:he(N.props.y)?N.props.y:$.top+$.height+$.brushBottom-(D.bottom||0),width:he(N.props.width)?N.props.width:$.width,startIndex:Y,endIndex:H,updateId:"brush-".concat(W)})}),Se(R,"renderReferenceElement",function(N,I,D){if(!N)return null;var L=R,V=L.clipPathId,$=R.state,Y=$.xAxisMap,H=$.yAxisMap,W=$.offset,B=N.type.defaultProps||{},j=N.props,K=j.xAxisId,ee=K===void 0?B.xAxisId:K,oe=j.yAxisId,ue=oe===void 0?B.yAxisId:oe;return U.cloneElement(N,{key:N.key||"".concat(I,"-").concat(D),xAxis:Y[ee],yAxis:H[ue],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:V})}),Se(R,"renderActivePoints",function(N){var I=N.item,D=N.activePoint,L=N.basePoint,V=N.childIndex,$=N.isRange,Y=[],H=I.props.key,W=I.item.type.defaultProps!==void 0?ae(ae({},I.item.type.defaultProps),I.item.props):I.item.props,B=W.activeDot,j=W.dataKey,K=ae(ae({index:V,dataKey:j,cx:D.x,cy:D.y,r:4,fill:eT(I.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},Ae(B,!1)),Ih(B));return Y.push(A.renderActiveDot(B,K,"".concat(H,"-activePoint-").concat(V))),L?Y.push(A.renderActiveDot(B,ae(ae({},K),{},{cx:L.x,cy:L.y}),"".concat(H,"-basePoint-").concat(V))):$&&Y.push(null),Y}),Se(R,"renderGraphicChild",function(N,I,D){var L=R.filterFormatItem(N,I,D);if(!L)return null;var V=R.getTooltipEventType(),$=R.state,Y=$.isTooltipActive,H=$.tooltipAxis,W=$.activeTooltipIndex,B=$.activeLabel,j=R.props.children,K=Fn(j,Mn),ee=L.props,oe=ee.points,ue=ee.isRange,q=ee.baseLine,J=L.item.type.defaultProps!==void 0?ae(ae({},L.item.type.defaultProps),L.item.props):L.item.props,re=J.activeDot,fe=J.hide,me=J.activeBar,xe=J.activeShape,je=!!(!fe&&Y&&K&&(re||me||xe)),Xe={};V!=="axis"&&K&&K.props.trigger==="click"?Xe={onClick:th(R.handleItemMouseEnter,N.props.onClick)}:V!=="axis"&&(Xe={onMouseLeave:th(R.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:th(R.handleItemMouseEnter,N.props.onMouseEnter)});var de=U.cloneElement(N,ae(ae({},L.props),Xe));function Ce(oi){return typeof H.dataKey=="function"?H.dataKey(oi.payload):null}if(je)if(W>=0){var Pe,ce;if(H.dataKey&&!H.allowDuplicatedCategory){var pt=typeof H.dataKey=="function"?Ce:"payload.".concat(H.dataKey.toString());Pe=Jx(oe,pt,B),ce=ue&&q&&Jx(q,pt,B)}else Pe=oe==null?void 0:oe[W],ce=ue&&q&&q[W];if(xe||me){var Ie=N.props.activeIndex!==void 0?N.props.activeIndex:W;return[U.cloneElement(N,ae(ae(ae({},L.props),Xe),{},{activeIndex:Ie})),null,null]}if(!Ue(Pe))return[de].concat(Tl(R.renderActivePoints({item:L,activePoint:Pe,basePoint:ce,childIndex:W,isRange:ue})))}else{var wt,St=(wt=R.getItemByXY(R.state.activeCoordinate))!==null&&wt!==void 0?wt:{graphicalItem:de},un=St.graphicalItem,Tr=un.item,zr=Tr===void 0?N:Tr,Yi=un.childIndex,Ar=ae(ae(ae({},L.props),Xe),{},{activeIndex:Yi});return[U.cloneElement(zr,Ar),null,null]}return ue?[de,null,null]:[de,null]}),Se(R,"renderCustomized",function(N,I,D){return U.cloneElement(N,ae(ae({key:"recharts-customized-".concat(D)},R.props),R.state))}),Se(R,"renderMap",{CartesianGrid:{handler:oh,once:!0},ReferenceArea:{handler:R.renderReferenceElement},ReferenceLine:{handler:oh},ReferenceDot:{handler:R.renderReferenceElement},XAxis:{handler:oh},YAxis:{handler:oh},Brush:{handler:R.renderBrush,once:!0},Bar:{handler:R.renderGraphicChild},Line:{handler:R.renderGraphicChild},Area:{handler:R.renderGraphicChild},Radar:{handler:R.renderGraphicChild},RadialBar:{handler:R.renderGraphicChild},Scatter:{handler:R.renderGraphicChild},Pie:{handler:R.renderGraphicChild},Funnel:{handler:R.renderGraphicChild},Tooltip:{handler:R.renderCursor,once:!0},PolarGrid:{handler:R.renderPolarGrid,once:!0},PolarAngleAxis:{handler:R.renderPolarAxis},PolarRadiusAxis:{handler:R.renderPolarAxis},Customized:{handler:R.renderCustomized}}),R.clipPathId="".concat((C=O.id)!==null&&C!==void 0?C:vf("recharts"),"-clip"),R.throttleTriggeredAfterMouseMove=c$(R.triggeredAfterMouseMove,(P=O.throttleDelay)!==null&&P!==void 0?P:1e3/60),R.state={},R}return poe(A,x),coe(A,[{key:"componentDidMount",value:function(){var C,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var C=this.props,P=C.children,R=C.data,N=C.height,I=C.layout,D=Fn(P,Mn);if(D){var L=D.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var V=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,$=mS(this.state,R,L,V),Y=this.state.tooltipTicks[L].coordinate,H=(this.state.offset.top+N)/2,W=I==="horizontal",B=W?{x:Y,y:H}:{y:Y,x:H},j=this.state.formattedGraphicalItems.find(function(ee){var oe=ee.item;return oe.type.name==="Scatter"});j&&(B=ae(ae({},B),j.props.points[L].tooltipPosition),$=j.props.points[L].tooltipPayload);var K={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:V,activePayload:$,activeCoordinate:B};this.setState(K),this.renderCursor(D),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(C,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==C.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==C.margin){var R,N;this.accessibilityManager.setDetails({offset:{left:(R=this.props.margin.left)!==null&&R!==void 0?R:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(C){Qx([Fn(C.children,Mn)],[Fn(this.props.children,Mn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var C=Fn(this.props.children,Mn);if(C&&typeof C.props.shared=="boolean"){var P=C.props.shared?"axis":"item";return u.indexOf(P)>=0?P:a}return a}},{key:"getMouseInfo",value:function(C){if(!this.container)return null;var P=this.container,R=P.getBoundingClientRect(),N=WK(R),I={chartX:Math.round(C.pageX-N.left),chartY:Math.round(C.pageY-N.top)},D=R.width/P.offsetWidth||1,L=this.inRange(I.chartX,I.chartY,D);if(!L)return null;var V=this.state,$=V.xAxisMap,Y=V.yAxisMap,H=this.getTooltipEventType(),W=uD(this.state,this.props.data,this.props.layout,L);if(H!=="axis"&&$&&Y){var B=Ta($).scale,j=Ta(Y).scale,K=B&&B.invert?B.invert(I.chartX):null,ee=j&&j.invert?j.invert(I.chartY):null;return ae(ae({},I),{},{xValue:K,yValue:ee},W)}return W?ae(ae({},I),W):null}},{key:"inRange",value:function(C,P){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,I=C/R,D=P/R;if(N==="horizontal"||N==="vertical"){var L=this.state.offset,V=I>=L.left&&I<=L.left+L.width&&D>=L.top&&D<=L.top+L.height;return V?{x:I,y:D}:null}var $=this.state,Y=$.angleAxisMap,H=$.radiusAxisMap;if(Y&&H){var W=Ta(Y);return v2({x:I,y:D},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var C=this.props.children,P=this.getTooltipEventType(),R=Fn(C,Mn),N={};R&&P==="axis"&&(R.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var I=Ih(this.props,this.handleOuterEvent);return ae(ae({},I),N)}},{key:"addListener",value:function(){xx.on(wx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){xx.removeListener(wx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(C,P,R){for(var N=this.state.formattedGraphicalItems,I=0,D=N.length;I<D;I++){var L=N[I];if(L.item===C||L.props.key===C.key||P===ki(L.item.type)&&R===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var C=this.clipPathId,P=this.state.offset,R=P.left,N=P.top,I=P.height,D=P.width;return G.createElement("defs",null,G.createElement("clipPath",{id:C},G.createElement("rect",{x:R,y:N,height:I,width:D})))}},{key:"getXScales",value:function(){var C=this.state.xAxisMap;return C?Object.entries(C).reduce(function(P,R){var N=oD(R,2),I=N[0],D=N[1];return ae(ae({},P),{},Se({},I,D.scale))},{}):null}},{key:"getYScales",value:function(){var C=this.state.yAxisMap;return C?Object.entries(C).reduce(function(P,R){var N=oD(R,2),I=N[0],D=N[1];return ae(ae({},P),{},Se({},I,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(C){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[C])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(C){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[C])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(C){var P=this.state,R=P.formattedGraphicalItems,N=P.activeItem;if(R&&R.length)for(var I=0,D=R.length;I<D;I++){var L=R[I],V=L.props,$=L.item,Y=$.type.defaultProps!==void 0?ae(ae({},$.type.defaultProps),$.props):$.props,H=ki($.type);if(H==="Bar"){var W=(V.data||[]).find(function(ee){return gte(C,ee)});if(W)return{graphicalItem:L,payload:W}}else if(H==="RadialBar"){var B=(V.data||[]).find(function(ee){return v2(C,ee)});if(B)return{graphicalItem:L,payload:B}}else if(Tm(L,N)||Am(L,N)||Qc(L,N)){var j=$ne({graphicalItem:L,activeTooltipItem:N,itemData:Y.data}),K=Y.activeIndex===void 0?j:Y.activeIndex;return{graphicalItem:ae(ae({},L),{},{childIndex:K}),payload:Qc(L,N)?Y.data[j]:L.props.data[j]}}}return null}},{key:"render",value:function(){var C=this;if(!RP(this))return null;var P=this.props,R=P.children,N=P.className,I=P.width,D=P.height,L=P.style,V=P.compact,$=P.title,Y=P.desc,H=sD(P,roe),W=Ae(H,!1);if(V)return G.createElement(Vk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement(ew,qs({},W,{width:I,height:D,title:$,desc:Y}),this.renderClipPath(),NP(R,this.renderMap)));if(this.props.accessibilityLayer){var B,j;W.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,W.role=(j=this.props.role)!==null&&j!==void 0?j:"application",W.onKeyDown=function(ee){C.accessibilityManager.keyboardEvent(ee)},W.onFocus=function(){C.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return G.createElement(Vk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement("div",qs({className:Le("recharts-wrapper",N),style:ae({position:"relative",cursor:"default",width:I,height:D},L)},K,{ref:function(oe){C.container=oe}}),G.createElement(ew,qs({},W,{width:I,height:D,title:$,desc:Y,style:_oe}),this.renderClipPath(),NP(R,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(U.Component);Se(S,"displayName",n),Se(S,"defaultProps",ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),Se(S,"getDerivedStateFromProps",function(x,A){var O=x.dataKey,C=x.data,P=x.children,R=x.width,N=x.height,I=x.layout,D=x.stackOffset,L=x.margin,V=A.dataStartIndex,$=A.dataEndIndex;if(A.updateId===void 0){var Y=cD(x);return ae(ae(ae({},Y),{},{updateId:0},b(ae(ae({props:x},Y),{},{updateId:0}),A)),{},{prevDataKey:O,prevData:C,prevWidth:R,prevHeight:N,prevLayout:I,prevStackOffset:D,prevMargin:L,prevChildren:P})}if(O!==A.prevDataKey||C!==A.prevData||R!==A.prevWidth||N!==A.prevHeight||I!==A.prevLayout||D!==A.prevStackOffset||!Ks(L,A.prevMargin)){var H=cD(x),W={chartX:A.chartX,chartY:A.chartY,isTooltipActive:A.isTooltipActive},B=ae(ae({},uD(A,C,I)),{},{updateId:A.updateId+1}),j=ae(ae(ae({},H),W),B);return ae(ae(ae({},j),b(ae({props:x},j),A)),{},{prevDataKey:O,prevData:C,prevWidth:R,prevHeight:N,prevLayout:I,prevStackOffset:D,prevMargin:L,prevChildren:P})}if(!Qx(P,A.prevChildren)){var K,ee,oe,ue,q=Fn(P,pl),J=q&&(K=(ee=q.props)===null||ee===void 0?void 0:ee.startIndex)!==null&&K!==void 0?K:V,re=q&&(oe=(ue=q.props)===null||ue===void 0?void 0:ue.endIndex)!==null&&oe!==void 0?oe:$,fe=J!==V||re!==$,me=!Ue(C),xe=me&&!fe?A.updateId:A.updateId+1;return ae(ae({updateId:xe},b(ae(ae({props:x},A),{},{updateId:xe,dataStartIndex:J,dataEndIndex:re}),A)),{},{prevChildren:P,dataStartIndex:J,dataEndIndex:re})}return null}),Se(S,"renderActiveDot",function(x,A,O){var C;return U.isValidElement(x)?C=U.cloneElement(x,A):Oe(x)?C=x(A):C=G.createElement(nT,A),G.createElement(rt,{className:"recharts-active-dot",key:O},C)});var E=U.forwardRef(function(A,O){return G.createElement(S,qs({},A,{ref:O}))});return E.displayName=S.displayName,E},gS=R4({chartName:"BarChart",GraphicalChild:hr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:xl},{axisType:"yAxis",AxisComp:Sl}],formatAxisMap:Hre}),P4=R4({chartName:"PieChart",GraphicalChild:ai,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Em},{axisType:"radiusAxis",AxisComp:wm}],formatAxisMap:CQ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Poe=["18-24","25-39","40-59","60+"],Noe=({topic:t,demographics:e,regionalRanking:n})=>{const r=n.slice(0,5).map(u=>({name:u.name,votos:u.total})),i=e?[{name:"Masculino",value:Object.values(e.byGender.Masculino||{}).reduce((u,c)=>u+c,0)},{name:"Femenino",value:Object.values(e.byGender.Femenino||{}).reduce((u,c)=>u+c,0)}].filter(u=>u.value>0):[],a=e?Poe.map(u=>{const c=e.byAge[u]||{};if(t.type==="binary"){const f=c.support||0,h=c.oppose||0,p=c.neutral||0;return{name:u,"A favor":f,"En contra":h,Neutral:p}}else{const f=Object.values(c).reduce((h,p)=>h+p,0);return{name:u,Votos:f}}}):[],s=a.some(u=>(t.type==="binary"?u["A favor"]+u["En contra"]+u.Neutral:u.Votos)>0);return!e||i.length===0&&!s&&r.length===0?null:T.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[r.length>0&&T.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-6 shadow-sm",children:[T.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[T.jsx("span",{className:"bg-blue-100 text-blue-600 p-1.5 rounded-lg mr-2",children:T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),"Regiones Activas"]}),T.jsx("div",{className:"h-48 w-full -ml-2",children:T.jsx(cc,{width:"100%",height:"100%",children:T.jsxs(gS,{data:r,layout:"vertical",margin:{top:5,right:30,left:30,bottom:5},children:[T.jsx(xl,{type:"number",hide:!0}),T.jsx(Sl,{type:"category",dataKey:"name",width:90,tick:{fontSize:11,fill:"#4b5563",fontWeight:500},tickLine:!1,axisLine:!1}),T.jsx(Mn,{cursor:{fill:"#f3f4f6"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),T.jsx(hr,{dataKey:"votos",fill:"#3b82f6",radius:[0,4,4,0],barSize:20})]})})})]}),i.length>0&&T.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-6 shadow-sm",children:[T.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[T.jsx("span",{className:"bg-pink-100 text-pink-600 p-1.5 rounded-lg mr-2",children:T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),"Participacin por Gnero"]}),T.jsx("div",{className:"h-48 w-full",children:T.jsx(cc,{width:"100%",height:"100%",children:T.jsxs(P4,{children:[T.jsx(ai,{data:i,cx:"50%",cy:"50%",innerRadius:40,outerRadius:65,paddingAngle:5,dataKey:"value",stroke:"none",children:i.map((u,c)=>T.jsx(il,{fill:u.name==="Masculino"?"#3b82f6":"#ec4899"},`cell-${c}`))}),T.jsx(Mn,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),T.jsx(Di,{verticalAlign:"bottom",height:36,iconType:"circle"})]})})})]}),s&&T.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-6 shadow-sm",children:[T.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[T.jsx("span",{className:"bg-purple-100 text-purple-600 p-1.5 rounded-lg mr-2",children:T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),"Voto por Edad"]}),T.jsx("div",{className:"h-60 w-full -ml-3",children:T.jsx(cc,{width:"100%",height:"100%",children:T.jsxs(gS,{data:a,margin:{top:10,right:10,left:10,bottom:0},barCategoryGap:20,children:[T.jsx(dT,{strokeDasharray:"3 3",vertical:!1,stroke:"#f3f4f6"}),T.jsx(xl,{dataKey:"name",tick:{fontSize:11,fill:"#6b7280"},tickLine:!1,axisLine:!1,dy:10}),T.jsx(Sl,{tick:{fontSize:11,fill:"#6b7280"},tickLine:!1,axisLine:!1}),T.jsx(Mn,{cursor:{fill:"#f9fafb"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),T.jsx(Di,{verticalAlign:"top",iconType:"circle",height:30,wrapperStyle:{fontSize:"12px"}}),t.type==="binary"?T.jsxs(T.Fragment,{children:[T.jsx(hr,{dataKey:"A favor",stackId:"a",fill:"#22c55e",radius:[0,0,4,4]}),T.jsx(hr,{dataKey:"En contra",stackId:"a",fill:"#ef4444",radius:[0,0,0,0]}),T.jsx(hr,{dataKey:"Neutral",stackId:"a",fill:"#94a3b8",radius:[4,4,0,0]})]}):T.jsx(hr,{dataKey:"Votos",fill:"#8b5cf6",radius:[4,4,4,4]})]})})})]})]})},dD={PSOE:"#E30613",PP:"#0056A7",Vox:"#63BE21",Sumar:"#E51C55",Podemos:"#6B1F5F",Junts:"#00C3B2",ERC:"#FFD700",PNV:"#008000",Bildu:"#B5CF18",SALF:"#A0522D",PACMA:"#9ACD32",Ciudadanos:"#EB6109",Otros:"#808080","En blanco":"#FFFFFF"},Moe=t=>{const e=Object.keys(dD).find(n=>t.includes(n));return e?dD[e]:"#aaaaaa"},Ioe=({votes:t,optionCounts:e,type:n="binary",labelSupport:r,labelOppose:i})=>{let a=[];return n==="multiple_choice"&&e?a=Object.entries(e).map(([s,u])=>({name:s,value:u,color:Moe(s)})).filter(s=>s.value>0).sort((s,u)=>u.value-s.value):a=[{name:r||"A favor",value:t.support,color:"#22c55e"},{name:i||"En contra",value:t.oppose,color:"#ef4444"},{name:"Neutral",value:t.neutral,color:"#94a3b8"}].filter(s=>s.value>0),a.length===0?T.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400 text-sm",children:"Sin votos registrados"}):n==="multiple_choice"?T.jsx("div",{className:"h-[400px] w-full",children:T.jsx(cc,{width:"100%",height:"100%",children:T.jsxs(gS,{layout:"vertical",data:a,margin:{top:5,right:30,left:40,bottom:5},children:[T.jsx(dT,{strokeDasharray:"3 3",horizontal:!1}),T.jsx(xl,{type:"number",hide:!0}),T.jsx(Sl,{type:"category",dataKey:"name",width:100,tick:{fontSize:11,fontWeight:"bold",fill:"#374151"}}),T.jsx(Mn,{cursor:{fill:"rgba(0,0,0,0.05)"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)"}}),T.jsx(hr,{dataKey:"value",radius:[0,4,4,0],barSize:20,children:a.map((s,u)=>T.jsx(il,{fill:s.color},`cell-${u}`))})]})})}):T.jsx("div",{className:"h-64 w-full",children:T.jsx(cc,{width:"100%",height:"100%",children:T.jsxs(P4,{children:[T.jsx(ai,{data:a,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:2,dataKey:"value",children:a.map((s,u)=>T.jsx(il,{fill:s.color},`cell-${u}`))}),T.jsx(Mn,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)"}}),T.jsx(Di,{verticalAlign:"bottom",height:36,iconType:"circle"})]})})})};var et=1e-6,Ve=Math.PI,qt=Ve/2,hD=Ve/4,xr=Ve*2,Mr=180/Ve,bn=Ve/180,xt=Math.abs,hT=Math.atan,Al=Math.atan2,bt=Math.cos,koe=Math.exp,vS=Math.log,Ex=Math.pow,Tt=Math.sin,tc=Math.sign||function(t){return t>0?1:t<0?-1:0},Da=Math.sqrt,N4=Math.tan;function Doe(t){return t>1?0:t<-1?Ve:Math.acos(t)}function of(t){return t>1?qt:t<-1?-qt:Math.asin(t)}function gr(){}function Rp(t,e){t&&mD.hasOwnProperty(t.type)&&mD[t.type](t,e)}var pD={Feature:function(t,e){Rp(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Rp(n[r].geometry,e)}},mD={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){yS(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)yS(n[r],e,0)},Polygon:function(t,e){gD(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)gD(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Rp(n[r],e)}};function yS(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function gD(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)yS(t[n],e,1);e.polygonEnd()}function po(t,e){t&&pD.hasOwnProperty(t.type)?pD[t.type](t,e):Rp(t,e)}function bS(t){return[Al(t[1],t[0]),of(t[2])]}function Cl(t){var e=t[0],n=t[1],r=bt(n);return[r*bt(e),r*Tt(e),Tt(n)]}function sh(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Pp(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Tx(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function lh(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function _S(t){var e=Da(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function xS(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function wS(t,e){return xt(t)>Ve&&(t-=Math.round(t/xr)*xr),[t,e]}wS.invert=wS;function Loe(t,e,n){return(t%=xr)?e||n?xS(yD(t),bD(e,n)):yD(t):e||n?bD(e,n):wS}function vD(t){return function(e,n){return e+=t,xt(e)>Ve&&(e-=Math.round(e/xr)*xr),[e,n]}}function yD(t){var e=vD(t);return e.invert=vD(-t),e}function bD(t,e){var n=bt(t),r=Tt(t),i=bt(e),a=Tt(e);function s(u,c){var f=bt(c),h=bt(u)*f,p=Tt(u)*f,g=Tt(c),b=g*n+h*r;return[Al(p*i-b*a,h*n-g*r),of(b*i+p*a)]}return s.invert=function(u,c){var f=bt(c),h=bt(u)*f,p=Tt(u)*f,g=Tt(c),b=g*i-p*a;return[Al(p*i+g*a,h*n+b*r),of(b*n-h*r)]},s}function joe(t,e,n,r,i,a){if(n){var s=bt(e),u=Tt(e),c=r*n;i==null?(i=e+r*xr,a=e-c/2):(i=_D(s,i),a=_D(s,a),(r>0?i<a:i>a)&&(i+=r*xr));for(var f,h=i;r>0?h>a:h<a;h-=c)f=bS([s,-u*bt(h),-u*Tt(h)]),t.point(f[0],f[1])}}function _D(t,e){e=Cl(e),e[0]-=t,_S(e);var n=Doe(-e[1]);return((-e[2]<0?-n:n)+xr-et)%xr}function M4(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:gr,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Th(t,e){return xt(t[0]-e[0])<et&&xt(t[1]-e[1])<et}function uh(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function I4(t,e,n,r,i){var a=[],s=[],u,c;if(t.forEach(function(S){if(!((E=S.length-1)<=0)){var E,x=S[0],A=S[E],O;if(Th(x,A)){if(!x[2]&&!A[2]){for(i.lineStart(),u=0;u<E;++u)i.point((x=S[u])[0],x[1]);i.lineEnd();return}A[0]+=2*et}a.push(O=new uh(x,S,null,!0)),s.push(O.o=new uh(x,null,O,!1)),a.push(O=new uh(A,S,null,!1)),s.push(O.o=new uh(A,null,O,!0))}}),!!a.length){for(s.sort(e),xD(a),xD(s),u=0,c=s.length;u<c;++u)s[u].e=n=!n;for(var f=a[0],h,p;;){for(var g=f,b=!0;g.v;)if((g=g.n)===f)return;h=g.z,i.lineStart();do{if(g.v=g.o.v=!0,g.e){if(b)for(u=0,c=h.length;u<c;++u)i.point((p=h[u])[0],p[1]);else r(g.x,g.n.x,1,i);g=g.n}else{if(b)for(h=g.p.z,u=h.length-1;u>=0;--u)i.point((p=h[u])[0],p[1]);else r(g.x,g.p.x,-1,i);g=g.p}g=g.o,h=g.z,b=!b}while(!g.v);i.lineEnd()}}}function xD(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Ax(t){return xt(t[0])<=Ve?t[0]:tc(t[0])*((xt(t[0])+Ve)%xr-Ve)}function Uoe(t,e){var n=Ax(e),r=e[1],i=Tt(r),a=[Tt(n),-bt(n),0],s=0,u=0,c=new Ao;i===1?r=qt+et:i===-1&&(r=-qt-et);for(var f=0,h=t.length;f<h;++f)if(g=(p=t[f]).length)for(var p,g,b=p[g-1],S=Ax(b),E=b[1]/2+hD,x=Tt(E),A=bt(E),O=0;O<g;++O,S=P,x=N,A=I,b=C){var C=p[O],P=Ax(C),R=C[1]/2+hD,N=Tt(R),I=bt(R),D=P-S,L=D>=0?1:-1,V=L*D,$=V>Ve,Y=x*N;if(c.add(Al(Y*L*Tt(V),A*I+Y*bt(V))),s+=$?D+L*xr:D,$^S>=n^P>=n){var H=Pp(Cl(b),Cl(C));_S(H);var W=Pp(a,H);_S(W);var B=($^D>=0?-1:1)*of(W[2]);(r>B||r===B&&(H[0]||H[1]))&&(u+=$^D>=0?1:-1)}}return(s<-et||s<et&&c<-1e-12)^u&1}function k4(t,e,n,r){return function(i){var a=e(i),s=M4(),u=e(s),c=!1,f,h,p,g={point:b,lineStart:E,lineEnd:x,polygonStart:function(){g.point=A,g.lineStart=O,g.lineEnd=C,h=[],f=[]},polygonEnd:function(){g.point=b,g.lineStart=E,g.lineEnd=x,h=y$(h);var P=Uoe(f,r);h.length?(c||(i.polygonStart(),c=!0),I4(h,qoe,P,n,i)):P&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),h=f=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function b(P,R){t(P,R)&&i.point(P,R)}function S(P,R){a.point(P,R)}function E(){g.point=S,a.lineStart()}function x(){g.point=b,a.lineEnd()}function A(P,R){p.push([P,R]),u.point(P,R)}function O(){u.lineStart(),p=[]}function C(){A(p[0][0],p[0][1]),u.lineEnd();var P=u.clean(),R=s.result(),N,I=R.length,D,L,V;if(p.pop(),f.push(p),p=null,!!I){if(P&1){if(L=R[0],(D=L.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),N=0;N<D;++N)i.point((V=L[N])[0],V[1]);i.lineEnd()}return}I>1&&P&2&&R.push(R.pop().concat(R.shift())),h.push(R.filter($oe))}}return g}}function $oe(t){return t.length>1}function qoe(t,e){return((t=t.x)[0]<0?t[1]-qt-et:qt-t[1])-((e=e.x)[0]<0?e[1]-qt-et:qt-e[1])}const wD=k4(function(){return!0},Boe,zoe,[-Ve,-qt]);function Boe(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,s){var u=a>0?Ve:-Ve,c=xt(a-e);xt(c-Ve)<et?(t.point(e,n=(n+s)/2>0?qt:-qt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(u,n),t.point(a,n),i=0):r!==u&&c>=Ve&&(xt(e-r)<et&&(e-=r*et),xt(a-u)<et&&(a-=u*et),n=Hoe(e,n,a,s),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(u,n),i=0),t.point(e=a,n=s),r=u},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function Hoe(t,e,n,r){var i,a,s=Tt(t-n);return xt(s)>et?hT((Tt(e)*(a=bt(r))*Tt(n)-Tt(r)*(i=bt(e))*Tt(t))/(i*a*s)):(e+r)/2}function zoe(t,e,n,r){var i;if(t==null)i=n*qt,r.point(-Ve,i),r.point(0,i),r.point(Ve,i),r.point(Ve,0),r.point(Ve,-i),r.point(0,-i),r.point(-Ve,-i),r.point(-Ve,0),r.point(-Ve,i);else if(xt(t[0]-e[0])>et){var a=t[0]<e[0]?Ve:-Ve;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function Voe(t){var e=bt(t),n=2*bn,r=e>0,i=xt(e)>et;function a(h,p,g,b){joe(b,t,n,g,h,p)}function s(h,p){return bt(h)*bt(p)>e}function u(h){var p,g,b,S,E;return{lineStart:function(){S=b=!1,E=1},point:function(x,A){var O=[x,A],C,P=s(x,A),R=r?P?0:f(x,A):P?f(x+(x<0?Ve:-Ve),A):0;if(!p&&(S=b=P)&&h.lineStart(),P!==b&&(C=c(p,O),(!C||Th(p,C)||Th(O,C))&&(O[2]=1)),P!==b)E=0,P?(h.lineStart(),C=c(O,p),h.point(C[0],C[1])):(C=c(p,O),h.point(C[0],C[1],2),h.lineEnd()),p=C;else if(i&&p&&r^P){var N;!(R&g)&&(N=c(O,p,!0))&&(E=0,r?(h.lineStart(),h.point(N[0][0],N[0][1]),h.point(N[1][0],N[1][1]),h.lineEnd()):(h.point(N[1][0],N[1][1]),h.lineEnd(),h.lineStart(),h.point(N[0][0],N[0][1],3)))}P&&(!p||!Th(p,O))&&h.point(O[0],O[1]),p=O,b=P,g=R},lineEnd:function(){b&&h.lineEnd(),p=null},clean:function(){return E|(S&&b)<<1}}}function c(h,p,g){var b=Cl(h),S=Cl(p),E=[1,0,0],x=Pp(b,S),A=sh(x,x),O=x[0],C=A-O*O;if(!C)return!g&&h;var P=e*A/C,R=-e*O/C,N=Pp(E,x),I=lh(E,P),D=lh(x,R);Tx(I,D);var L=N,V=sh(I,L),$=sh(L,L),Y=V*V-$*(sh(I,I)-1);if(!(Y<0)){var H=Da(Y),W=lh(L,(-V-H)/$);if(Tx(W,I),W=bS(W),!g)return W;var B=h[0],j=p[0],K=h[1],ee=p[1],oe;j<B&&(oe=B,B=j,j=oe);var ue=j-B,q=xt(ue-Ve)<et,J=q||ue<et;if(!q&&ee<K&&(oe=K,K=ee,ee=oe),J?q?K+ee>0^W[1]<(xt(W[0]-B)<et?K:ee):K<=W[1]&&W[1]<=ee:ue>Ve^(B<=W[0]&&W[0]<=j)){var re=lh(L,(-V+H)/$);return Tx(re,I),[W,bS(re)]}}}function f(h,p){var g=r?t:Ve-t,b=0;return h<-g?b|=1:h>g&&(b|=2),p<-g?b|=4:p>g&&(b|=8),b}return k4(s,u,a,r?[0,-t]:[-Ve,t-Ve])}function Goe(t,e,n,r,i,a){var s=t[0],u=t[1],c=e[0],f=e[1],h=0,p=1,g=c-s,b=f-u,S;if(S=n-s,!(!g&&S>0)){if(S/=g,g<0){if(S<h)return;S<p&&(p=S)}else if(g>0){if(S>p)return;S>h&&(h=S)}if(S=i-s,!(!g&&S<0)){if(S/=g,g<0){if(S>p)return;S>h&&(h=S)}else if(g>0){if(S<h)return;S<p&&(p=S)}if(S=r-u,!(!b&&S>0)){if(S/=b,b<0){if(S<h)return;S<p&&(p=S)}else if(b>0){if(S>p)return;S>h&&(h=S)}if(S=a-u,!(!b&&S<0)){if(S/=b,b<0){if(S>p)return;S>h&&(h=S)}else if(b>0){if(S<h)return;S<p&&(p=S)}return h>0&&(t[0]=s+h*g,t[1]=u+h*b),p<1&&(e[0]=s+p*g,e[1]=u+p*b),!0}}}}}var nc=1e9,ch=-nc;function Foe(t,e,n,r){function i(f,h){return t<=f&&f<=n&&e<=h&&h<=r}function a(f,h,p,g){var b=0,S=0;if(f==null||(b=s(f,p))!==(S=s(h,p))||c(f,h)<0^p>0)do g.point(b===0||b===3?t:n,b>1?r:e);while((b=(b+p+4)%4)!==S);else g.point(h[0],h[1])}function s(f,h){return xt(f[0]-t)<et?h>0?0:3:xt(f[0]-n)<et?h>0?2:1:xt(f[1]-e)<et?h>0?1:0:h>0?3:2}function u(f,h){return c(f.x,h.x)}function c(f,h){var p=s(f,1),g=s(h,1);return p!==g?p-g:p===0?h[1]-f[1]:p===1?f[0]-h[0]:p===2?f[1]-h[1]:h[0]-f[0]}return function(f){var h=f,p=M4(),g,b,S,E,x,A,O,C,P,R,N,I={point:D,lineStart:Y,lineEnd:H,polygonStart:V,polygonEnd:$};function D(B,j){i(B,j)&&h.point(B,j)}function L(){for(var B=0,j=0,K=b.length;j<K;++j)for(var ee=b[j],oe=1,ue=ee.length,q=ee[0],J,re,fe=q[0],me=q[1];oe<ue;++oe)J=fe,re=me,q=ee[oe],fe=q[0],me=q[1],re<=r?me>r&&(fe-J)*(r-re)>(me-re)*(t-J)&&++B:me<=r&&(fe-J)*(r-re)<(me-re)*(t-J)&&--B;return B}function V(){h=p,g=[],b=[],N=!0}function $(){var B=L(),j=N&&B,K=(g=y$(g)).length;(j||K)&&(f.polygonStart(),j&&(f.lineStart(),a(null,null,1,f),f.lineEnd()),K&&I4(g,u,B,a,f),f.polygonEnd()),h=f,g=b=S=null}function Y(){I.point=W,b&&b.push(S=[]),R=!0,P=!1,O=C=NaN}function H(){g&&(W(E,x),A&&P&&p.rejoin(),g.push(p.result())),I.point=D,P&&h.lineEnd()}function W(B,j){var K=i(B,j);if(b&&S.push([B,j]),R)E=B,x=j,A=K,R=!1,K&&(h.lineStart(),h.point(B,j));else if(K&&P)h.point(B,j);else{var ee=[O=Math.max(ch,Math.min(nc,O)),C=Math.max(ch,Math.min(nc,C))],oe=[B=Math.max(ch,Math.min(nc,B)),j=Math.max(ch,Math.min(nc,j))];Goe(ee,oe,t,e,n,r)?(P||(h.lineStart(),h.point(ee[0],ee[1])),h.point(oe[0],oe[1]),K||h.lineEnd(),N=!1):K&&(h.lineStart(),h.point(B,j),N=!1)}O=B,C=j,P=K}return I}}const SS=t=>t;var Cx=new Ao,ES=new Ao,D4,L4,TS,AS,Ri={point:gr,lineStart:gr,lineEnd:gr,polygonStart:function(){Ri.lineStart=Koe,Ri.lineEnd=Yoe},polygonEnd:function(){Ri.lineStart=Ri.lineEnd=Ri.point=gr,Cx.add(xt(ES)),ES=new Ao},result:function(){var t=Cx/2;return Cx=new Ao,t}};function Koe(){Ri.point=Woe}function Woe(t,e){Ri.point=j4,D4=TS=t,L4=AS=e}function j4(t,e){ES.add(AS*t-TS*e),TS=t,AS=e}function Yoe(){j4(D4,L4)}var Ol=1/0,Np=Ol,sf=-Ol,Mp=sf,Ip={point:Joe,lineStart:gr,lineEnd:gr,polygonStart:gr,polygonEnd:gr,result:function(){var t=[[Ol,Np],[sf,Mp]];return sf=Mp=-(Np=Ol=1/0),t}};function Joe(t,e){t<Ol&&(Ol=t),t>sf&&(sf=t),e<Np&&(Np=e),e>Mp&&(Mp=e)}var CS=0,OS=0,rc=0,kp=0,Dp=0,Bs=0,RS=0,PS=0,ic=0,U4,$4,Wr,Yr,pr={point:Po,lineStart:SD,lineEnd:ED,polygonStart:function(){pr.lineStart=Zoe,pr.lineEnd=ese},polygonEnd:function(){pr.point=Po,pr.lineStart=SD,pr.lineEnd=ED},result:function(){var t=ic?[RS/ic,PS/ic]:Bs?[kp/Bs,Dp/Bs]:rc?[CS/rc,OS/rc]:[NaN,NaN];return CS=OS=rc=kp=Dp=Bs=RS=PS=ic=0,t}};function Po(t,e){CS+=t,OS+=e,++rc}function SD(){pr.point=Xoe}function Xoe(t,e){pr.point=Qoe,Po(Wr=t,Yr=e)}function Qoe(t,e){var n=t-Wr,r=e-Yr,i=Da(n*n+r*r);kp+=i*(Wr+t)/2,Dp+=i*(Yr+e)/2,Bs+=i,Po(Wr=t,Yr=e)}function ED(){pr.point=Po}function Zoe(){pr.point=tse}function ese(){q4(U4,$4)}function tse(t,e){pr.point=q4,Po(U4=Wr=t,$4=Yr=e)}function q4(t,e){var n=t-Wr,r=e-Yr,i=Da(n*n+r*r);kp+=i*(Wr+t)/2,Dp+=i*(Yr+e)/2,Bs+=i,i=Yr*t-Wr*e,RS+=i*(Wr+t),PS+=i*(Yr+e),ic+=i*3,Po(Wr=t,Yr=e)}function B4(t){this._context=t}B4.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,xr);break}}},result:gr};var NS=new Ao,Ox,H4,z4,ac,oc,lf={point:gr,lineStart:function(){lf.point=nse},lineEnd:function(){Ox&&V4(H4,z4),lf.point=gr},polygonStart:function(){Ox=!0},polygonEnd:function(){Ox=null},result:function(){var t=+NS;return NS=new Ao,t}};function nse(t,e){lf.point=V4,H4=ac=t,z4=oc=e}function V4(t,e){ac-=t,oc-=e,NS.add(Da(ac*ac+oc*oc)),ac=t,oc=e}let TD,Lp,AD,CD;class OD{constructor(e){this._append=e==null?G4:rse(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==AD||this._append!==Lp){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,AD=r,Lp=this._append,CD=this._,this._=i}this._+=CD;break}}}result(){const e=this._;return this._="",e.length?e:null}}function G4(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function rse(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return G4;if(e!==TD){const n=10**e;TD=e,Lp=function(i){let a=1;this._+=i[0];for(const s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return Lp}function ise(t,e){let n=3,r=4.5,i,a;function s(u){return u&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),po(u,i(a))),a.result()}return s.area=function(u){return po(u,i(Ri)),Ri.result()},s.measure=function(u){return po(u,i(lf)),lf.result()},s.bounds=function(u){return po(u,i(Ip)),Ip.result()},s.centroid=function(u){return po(u,i(pr)),pr.result()},s.projection=function(u){return arguments.length?(i=u==null?(t=null,SS):(t=u).stream,s):t},s.context=function(u){return arguments.length?(a=u==null?(e=null,new OD(n)):new B4(e=u),typeof r!="function"&&a.pointRadius(r),s):e},s.pointRadius=function(u){return arguments.length?(r=typeof u=="function"?u:(a.pointRadius(+u),+u),s):r},s.digits=function(u){if(!arguments.length)return n;if(u==null)n=null;else{const c=Math.floor(u);if(!(c>=0))throw new RangeError(`invalid digits: ${u}`);n=c}return e===null&&(a=new OD(n)),s},s.projection(t).digits(n).context(e)}function pT(t){return function(e){var n=new MS;for(var r in t)n[r]=t[r];return n.stream=e,n}}function MS(){}MS.prototype={constructor:MS,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function mT(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),po(n,t.stream(Ip)),e(Ip.result()),r!=null&&t.clipExtent(r),t}function F4(t,e,n){return mT(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),u=+e[0][0]+(i-s*(r[1][0]+r[0][0]))/2,c=+e[0][1]+(a-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([u,c])},n)}function ase(t,e,n){return F4(t,[[0,0],e],n)}function ose(t,e,n){return mT(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,u=-a*r[0][1];t.scale(150*a).translate([s,u])},n)}function sse(t,e,n){return mT(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],u=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,u])},n)}var RD=16,lse=bt(30*bn);function PD(t,e){return+e?cse(t,e):use(t)}function use(t){return pT({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function cse(t,e){function n(r,i,a,s,u,c,f,h,p,g,b,S,E,x){var A=f-r,O=h-i,C=A*A+O*O;if(C>4*e&&E--){var P=s+g,R=u+b,N=c+S,I=Da(P*P+R*R+N*N),D=of(N/=I),L=xt(xt(N)-1)<et||xt(a-p)<et?(a+p)/2:Al(R,P),V=t(L,D),$=V[0],Y=V[1],H=$-r,W=Y-i,B=O*H-A*W;(B*B/C>e||xt((A*H+O*W)/C-.5)>.3||s*g+u*b+c*S<lse)&&(n(r,i,a,s,u,c,$,Y,L,P/=I,R/=I,N,E,x),x.point($,Y),n($,Y,L,P,R,N,f,h,p,g,b,S,E,x))}}return function(r){var i,a,s,u,c,f,h,p,g,b,S,E,x={point:A,lineStart:O,lineEnd:P,polygonStart:function(){r.polygonStart(),x.lineStart=R},polygonEnd:function(){r.polygonEnd(),x.lineStart=O}};function A(D,L){D=t(D,L),r.point(D[0],D[1])}function O(){p=NaN,x.point=C,r.lineStart()}function C(D,L){var V=Cl([D,L]),$=t(D,L);n(p,g,h,b,S,E,p=$[0],g=$[1],h=D,b=V[0],S=V[1],E=V[2],RD,r),r.point(p,g)}function P(){x.point=A,r.lineEnd()}function R(){O(),x.point=N,x.lineEnd=I}function N(D,L){C(i=D,L),a=p,s=g,u=b,c=S,f=E,x.point=C}function I(){n(p,g,h,b,S,E,a,s,i,u,c,f,RD,r),x.lineEnd=P,P()}return x}}var fse=pT({point:function(t,e){this.stream.point(t*bn,e*bn)}});function dse(t){return pT({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function hse(t,e,n,r,i){function a(s,u){return s*=r,u*=i,[e+t*s,n-t*u]}return a.invert=function(s,u){return[(s-e)/t*r,(n-u)/t*i]},a}function ND(t,e,n,r,i,a){if(!a)return hse(t,e,n,r,i);var s=bt(a),u=Tt(a),c=s*t,f=u*t,h=s/t,p=u/t,g=(u*n-s*e)/t,b=(u*e+s*n)/t;function S(E,x){return E*=r,x*=i,[c*E-f*x+e,n-f*E-c*x]}return S.invert=function(E,x){return[r*(h*E-p*x+g),i*(b-p*E-h*x)]},S}function pse(t){var e,n=150,r=480,i=250,a=0,s=0,u=0,c=0,f=0,h,p=0,g=1,b=1,S=null,E=wD,x=null,A,O,C,P=SS,R=.5,N,I,D,L,V;function $(B){return D(B[0]*bn,B[1]*bn)}function Y(B){return B=D.invert(B[0],B[1]),B&&[B[0]*Mr,B[1]*Mr]}$.stream=function(B){return L&&V===B?L:L=fse(dse(h)(E(N(P(V=B)))))},$.preclip=function(B){return arguments.length?(E=B,S=void 0,W()):E},$.postclip=function(B){return arguments.length?(P=B,x=A=O=C=null,W()):P},$.clipAngle=function(B){return arguments.length?(E=+B?Voe(S=B*bn):(S=null,wD),W()):S*Mr},$.clipExtent=function(B){return arguments.length?(P=B==null?(x=A=O=C=null,SS):Foe(x=+B[0][0],A=+B[0][1],O=+B[1][0],C=+B[1][1]),W()):x==null?null:[[x,A],[O,C]]},$.scale=function(B){return arguments.length?(n=+B,H()):n},$.translate=function(B){return arguments.length?(r=+B[0],i=+B[1],H()):[r,i]},$.center=function(B){return arguments.length?(a=B[0]%360*bn,s=B[1]%360*bn,H()):[a*Mr,s*Mr]},$.rotate=function(B){return arguments.length?(u=B[0]%360*bn,c=B[1]%360*bn,f=B.length>2?B[2]%360*bn:0,H()):[u*Mr,c*Mr,f*Mr]},$.angle=function(B){return arguments.length?(p=B%360*bn,H()):p*Mr},$.reflectX=function(B){return arguments.length?(g=B?-1:1,H()):g<0},$.reflectY=function(B){return arguments.length?(b=B?-1:1,H()):b<0},$.precision=function(B){return arguments.length?(N=PD(I,R=B*B),W()):Da(R)},$.fitExtent=function(B,j){return F4($,B,j)},$.fitSize=function(B,j){return ase($,B,j)},$.fitWidth=function(B,j){return ose($,B,j)},$.fitHeight=function(B,j){return sse($,B,j)};function H(){var B=ND(n,0,0,g,b,p).apply(null,e(a,s)),j=ND(n,r-B[0],i-B[1],g,b,p);return h=Loe(u,c,f),I=xS(e,j),D=xS(h,I),N=PD(I,R),W()}function W(){return L=V=null,$}return function(){return e=t.apply(this,arguments),$.invert=e.invert&&Y,H()}}function mse(t){var e=0,n=Ve/3,r=pse(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*bn,n=a[1]*bn):[e*Mr,n*Mr]},i}function K4(t,e){return[t,vS(N4((qt+e)/2))]}K4.invert=function(t,e){return[t,2*hT(koe(e))-qt]};function fh(t){return N4((qt+t)/2)}function gse(t,e){var n=bt(t),r=t===e?Tt(t):vS(n/bt(e))/vS(fh(e)/fh(t)),i=n*Ex(fh(t),r)/r;if(!r)return K4;function a(s,u){i>0?u<-qt+et&&(u=-qt+et):u>qt-et&&(u=qt-et);var c=i/Ex(fh(u),r);return[c*Tt(r*s),i-c*bt(r*s)]}return a.invert=function(s,u){var c=i-u,f=tc(r)*Da(s*s+c*c),h=Al(s,xt(c))*tc(c);return c*r<0&&(h-=Ve*tc(s)*tc(c)),[h/r,2*hT(Ex(i/f,1/r))-qt]},a}function MD(){return mse(gse).scale(109.5).parallels([30,30])}var dh=1e-6;function hh(){}var Rl=1/0,jp=Rl,uf=-Rl,Up=uf,ID={point:vse,lineStart:hh,lineEnd:hh,polygonStart:hh,polygonEnd:hh,result:function(){var t=[[Rl,jp],[uf,Up]];return uf=Up=-(jp=Rl=1/0),t}};function vse(t,e){t<Rl&&(Rl=t),t>uf&&(uf=t),e<jp&&(jp=e),e>Up&&(Up=e)}function W4(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],a=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),a!=null&&t.clipExtent(null),po(n,t.stream(ID));var s=ID.result(),u=Math.min(r/(s[1][0]-s[0][0]),i/(s[1][1]-s[0][1])),c=+e[0][0]+(r-u*(s[1][0]+s[0][0]))/2,f=+e[0][1]+(i-u*(s[1][1]+s[0][1]))/2;return a!=null&&t.clipExtent(a),t.scale(u*150).translate([c,f])}function yse(t,e,n){return W4(t,[[0,0],e],n)}function bse(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function _se(){var t,e,n=MD().rotate([5,-38.6]).parallels([0,60]),r,i=MD().rotate([5,-38.6]).parallels([0,60]),a,s,u={point:function(h,p){s=[h,p]}};function c(h){var p=h[0],g=h[1];return s=null,r.point(p,g),s||(a.point(p,g),s)}c.invert=function(h){var p=n.scale(),g=n.translate(),b=(h[0]-g[0])/p,S=(h[1]-g[1])/p;return(S>=.05346&&S<.0897&&b>=-.13388&&b<-.0322?i:n).invert(h)},c.stream=function(h){return t&&e===h?t:t=bse([n.stream(e=h),i.stream(h)])},c.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),f()):n.precision()},c.scale=function(h){return arguments.length?(n.scale(h),i.scale(h),c.translate(n.translate())):n.scale()},c.translate=function(h){if(!arguments.length)return n.translate();var p=n.scale(),g=+h[0],b=+h[1];return r=n.translate(h).clipExtent([[g-.06857*p,b-.1288*p],[g+.13249*p,b+.06*p]]).stream(u),a=i.translate([g+.1*p,b-.094*p]).clipExtent([[g-.1331*p+dh,b+.053457*p+dh],[g-.0354*p-dh,b+.08969*p-dh]]).stream(u),f()},c.fitExtent=function(h,p){return W4(c,h,p)},c.fitSize=function(h,p){return yse(c,h,p)};function f(){return t=e=null,c}return c.drawCompositionBorders=function(h){var p=n([-14.034675,34.965007]),g=n([-7.4208899,35.536988]),b=n([-7.3148275,33.54359]);h.moveTo(p[0],p[1]),h.lineTo(g[0],g[1]),h.lineTo(b[0],b[1])},c.getCompositionBorders=function(){var h=_U();return this.drawCompositionBorders(h),h.toString()},c.scale(2700)}const Rx={PSOE:"#E30613",PP:"#0056A7",Vox:"#63BE21",Sumar:"#E51C55",Podemos:"#6B1F5F",Junts:"#00C3B2",ERC:"#FFD700",PNV:"#008000",Bildu:"#B5CF18",SALF:"#A0522D",PACMA:"#9ACD32",Ciudadanos:"#EB6109",Otros:"#808080","En blanco":"#FFFFFF"},xse="#4B5563",ph={Andalucia:"AN",Andaluca:"AN",Aragon:"AR",Aragn:"AR",Asturias:"AS","Principado de Asturias":"AS",Baleares:"IB","Islas Baleares":"IB","Illes Balears":"IB",Canarias:"CN","Islas Canarias":"CN",Cantabria:"CB","Castilla-La Mancha":"CM","Castilla La Mancha":"CM","Castilla-Leon":"CL","Castilla y Leon":"CL","Castilla y Len":"CL",Cataluna:"CT",Catalua:"CT",Catalunya:"CT",Ceuta:"CE",Madrid:"MD","Comunidad de Madrid":"MD",Navarra:"NC","Comunidad Foral de Navarra":"NC","Nafarroako Foru Komunitatea":"NC",Valencia:"VC","Comunidad Valenciana":"VC","Comunitat Valenciana":"VC",Extremadura:"EX",Galicia:"GA",Rioja:"RI","La Rioja":"RI",Melilla:"ML",Murcia:"MC","Region de Murcia":"MC","Regin de Murcia":"MC","Pais Vasco":"PV","Pas Vasco":"PV",Euskadi:"PV"},wse=({regionalVotes:t,regionalOptionCounts:e,pollType:n="binary",labelSupport:r="A favor",labelOppose:i="En contra",onSelectRegion:a,selectedRegion:s})=>{const[u,c]=U.useState(null);U.useEffect(()=>{fetch("/spain-communities.json").then(E=>E.json()).then(E=>c(E)).catch(E=>console.error("Error loading map data:",E))},[]);const f=U.useMemo(()=>_se().scale(2500).translate([400,280]),[]),h=U.useMemo(()=>ise().projection(f),[f]),p=E=>{var x,A;return((x=E.properties)==null?void 0:x.name)||((A=E.properties)==null?void 0:A.noml_ccaa)||"Unknown"},g=E=>{const x=p(E);if(ph[x])return ph[x];const A=Object.keys(ph).find(O=>x.includes(O));return A?ph[A]:void 0},b=E=>{if(!e||!e[E])return null;const x=e[E];let A="",O=-1;if(Object.entries(x).forEach(([P,R])=>{R>O&&(O=R,A=P)}),O<=0)return null;const C=Object.keys(Rx).find(P=>A.includes(P)||P.includes(A));return{name:A,color:C?Rx[C]:xse,votes:O}},S=E=>{const x=g(E);if(!x)return"#e2e8f0";if(n==="multiple_choice"){const N=b(x);return N?N.color:"#e2e8f0"}const A=t[x];if(!A||A.support===0&&A.oppose===0&&A.neutral===0)return"#e2e8f0";const{support:O,oppose:C,neutral:P}=A,R=Math.max(O,C,P);return R===0?"#e2e8f0":O===R&&O>C&&O>P?"#22c55e":C===R&&C>O&&C>P?"#ef4444":"#94a3b8"};return u?T.jsxs("div",{className:"w-full bg-white rounded-2xl p-6 border border-gray-100 shadow-lg",children:[T.jsx("div",{className:"flex flex-wrap justify-center mb-6 gap-x-6 gap-y-2 text-xs font-bold uppercase tracking-wider text-gray-500",children:n==="binary"?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-2 shadow-sm"}),r]}),T.jsxs("div",{className:"flex items-center",children:[T.jsx("span",{className:"w-3 h-3 bg-red-500 rounded-full mr-2 shadow-sm"}),i]}),T.jsxs("div",{className:"flex items-center",children:[T.jsx("span",{className:"w-3 h-3 bg-slate-400 rounded-full mr-2 shadow-sm"}),"Neutral / Empate"]})]}):T.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 lg:grid-cols-6 gap-2 w-full",children:Object.entries(Rx).map(([E,x])=>T.jsxs("div",{className:"flex items-center",children:[T.jsx("span",{className:"w-3 h-3 rounded-full mr-2 shadow-sm flex-shrink-0",style:{backgroundColor:x}}),T.jsx("span",{className:"truncate",children:E})]},E))})}),T.jsx("div",{className:"relative mx-auto w-full aspect-[5/3]",children:T.jsx("svg",{viewBox:"0 0 800 500",className:"w-full h-full drop-shadow-sm",children:T.jsx("g",{children:u.features.map((E,x)=>{const A=g(E);let C=p(E);if(A)if(n==="binary"){const N=t[A];N&&(C+=`
${r}: ${N.support}
${i}: ${N.oppose}
Neutral: ${N.neutral}`)}else{const N=b(A);N?C+=`
Ganador: ${N.name} (${N.votes} votos)`:C+=`
Sin votos`}const P=s&&A&&s===A,R=s&&A&&s!==A;return T.jsx("path",{d:h(E)||"",fill:S(E),stroke:P?"#4f46e5":"#ffffff",strokeWidth:P?"2.5":"0.5",className:`transition-all duration-300 cursor-pointer focus:outline-none 
                    ${R?"opacity-25 grayscale-[0.5]":"hover:opacity-90"} 
                    ${s?"":"hover:stroke-indigo-500 hover:stroke-2"}
                  `,onClick:()=>{a&&A&&a(P?null:A)},children:T.jsx("title",{children:C})},x)})})})}),T.jsx("p",{className:"text-center text-xs text-gray-400 mt-4",children:"Mapa oficial por Comunidades Autnomas"})]}):T.jsx("div",{className:"h-96 w-full bg-slate-50 rounded-2xl animate-pulse flex items-center justify-center text-slate-400",children:"Cargando Mapa..."})},mh=43200,kD=1440,DD=Symbol.for("constructDateFrom");function gT(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&DD in t?t[DD](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ra(t,e){return gT(t,t)}let Sse={};function Ese(){return Sse}function LD(t){const e=Ra(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function vT(t,...e){const n=gT.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function Ah(t,e){const n=+Ra(t)-+Ra(e);return n<0?-1:n>0?1:n}function Tse(t){return gT(t,Date.now())}function Ase(t,e,n){const[r,i]=vT(n==null?void 0:n.in,t,e),a=r.getFullYear()-i.getFullYear(),s=r.getMonth()-i.getMonth();return a*12+s}function Cse(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function Ose(t,e){return+Ra(t)-+Ra(e)}function Rse(t,e){const n=Ra(t);return n.setHours(23,59,59,999),n}function Pse(t,e){const n=Ra(t),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Nse(t,e){const n=Ra(t);return+Rse(n)==+Pse(n)}function Mse(t,e,n){const[r,i,a]=vT(n==null?void 0:n.in,t,t,e),s=Ah(i,a),u=Math.abs(Ase(i,a));if(u<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-s*u);let c=Ah(i,a)===-s;Nse(r)&&u===1&&Ah(r,a)===1&&(c=!1);const f=s*(u-+c);return f===0?0:f}function Ise(t,e,n){const r=Ose(t,e)/1e3;return Cse(n==null?void 0:n.roundingMethod)(r)}const kse={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Dse=(t,e,n)=>{let r;const i=kse[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Js(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Lse={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},jse={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Use={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$se={date:Js({formats:Lse,defaultWidth:"full"}),time:Js({formats:jse,defaultWidth:"full"}),dateTime:Js({formats:Use,defaultWidth:"full"})},qse={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Bse=(t,e,n,r)=>qse[t];function Jr(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):s;i=t.formattingValues[u]||t.formattingValues[s]}else{const s=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[u]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const Hse={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zse={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Vse={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Gse={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Fse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Kse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Wse=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Yse={ordinalNumber:Wse,era:Jr({values:Hse,defaultWidth:"wide"}),quarter:Jr({values:zse,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Jr({values:Vse,defaultWidth:"wide"}),day:Jr({values:Gse,defaultWidth:"wide"}),dayPeriod:Jr({values:Fse,defaultWidth:"wide",formattingValues:Kse,defaultFormattingWidth:"wide"})};function Xr(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(u)?Xse(u,p=>p.test(s)):Jse(u,p=>p.test(s));let f;f=t.valueCallback?t.valueCallback(c):c,f=n.valueCallback?n.valueCallback(f):f;const h=e.slice(s.length);return{value:f,rest:h}}}function Jse(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Xse(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Y4(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const u=e.slice(i.length);return{value:s,rest:u}}}const Qse=/^(\d+)(th|st|nd|rd)?/i,Zse=/\d+/i,ele={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tle={any:[/^b/i,/^(a|c)/i]},nle={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rle={any:[/1/i,/2/i,/3/i,/4/i]},ile={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ale={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ole={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},sle={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lle={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ule={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cle={ordinalNumber:Y4({matchPattern:Qse,parsePattern:Zse,valueCallback:t=>parseInt(t,10)}),era:Xr({matchPatterns:ele,defaultMatchWidth:"wide",parsePatterns:tle,defaultParseWidth:"any"}),quarter:Xr({matchPatterns:nle,defaultMatchWidth:"wide",parsePatterns:rle,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Xr({matchPatterns:ile,defaultMatchWidth:"wide",parsePatterns:ale,defaultParseWidth:"any"}),day:Xr({matchPatterns:ole,defaultMatchWidth:"wide",parsePatterns:sle,defaultParseWidth:"any"}),dayPeriod:Xr({matchPatterns:lle,defaultMatchWidth:"any",parsePatterns:ule,defaultParseWidth:"any"})},fle={code:"en-US",formatDistance:Dse,formatLong:$se,formatRelative:Bse,localize:Yse,match:cle,options:{weekStartsOn:0,firstWeekContainsDate:1}};function dle(t,e,n){const r=Ese(),i=(n==null?void 0:n.locale)??r.locale??fle,a=2520,s=Ah(t,e);if(isNaN(s))throw new RangeError("Invalid time value");const u=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:s}),[c,f]=vT(n==null?void 0:n.in,...s>0?[e,t]:[t,e]),h=Ise(f,c),p=(LD(f)-LD(c))/1e3,g=Math.round((h-p)/60);let b;if(g<2)return n!=null&&n.includeSeconds?h<5?i.formatDistance("lessThanXSeconds",5,u):h<10?i.formatDistance("lessThanXSeconds",10,u):h<20?i.formatDistance("lessThanXSeconds",20,u):h<40?i.formatDistance("halfAMinute",0,u):h<60?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",1,u):g===0?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",g,u);if(g<45)return i.formatDistance("xMinutes",g,u);if(g<90)return i.formatDistance("aboutXHours",1,u);if(g<kD){const S=Math.round(g/60);return i.formatDistance("aboutXHours",S,u)}else{if(g<a)return i.formatDistance("xDays",1,u);if(g<mh){const S=Math.round(g/kD);return i.formatDistance("xDays",S,u)}else if(g<mh*2)return b=Math.round(g/mh),i.formatDistance("aboutXMonths",b,u)}if(b=Mse(f,c),b<12){const S=Math.round(g/mh);return i.formatDistance("xMonths",S,u)}else{const S=b%12,E=Math.trunc(b/12);return S<3?i.formatDistance("aboutXYears",E,u):S<9?i.formatDistance("overXYears",E,u):i.formatDistance("almostXYears",E+1,u)}}function hle(t,e){return dle(t,Tse(t),e)}const ple={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},mle=(t,e,n)=>{let r;const i=ple[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},gle={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},vle={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},yle={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ble={date:Js({formats:gle,defaultWidth:"full"}),time:Js({formats:vle,defaultWidth:"full"}),dateTime:Js({formats:yle,defaultWidth:"full"})},_le={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},xle={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},wle=(t,e,n,r)=>e.getHours()!==1?xle[t]:_le[t],Sle={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},Ele={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Tle={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},Ale={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},Cle={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},Ole={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},Rle=(t,e)=>Number(t)+"",Ple={ordinalNumber:Rle,era:Jr({values:Sle,defaultWidth:"wide"}),quarter:Jr({values:Ele,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Jr({values:Tle,defaultWidth:"wide"}),day:Jr({values:Ale,defaultWidth:"wide"}),dayPeriod:Jr({values:Cle,defaultWidth:"wide",formattingValues:Ole,defaultFormattingWidth:"wide"})},Nle=/^(\d+)()?/i,Mle=/\d+/i,Ile={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},kle={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},Dle={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Lle={any:[/1/i,/2/i,/3/i,/4/i]},jle={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},Ule={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},$le={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},qle={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Ble={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},Hle={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},zle={ordinalNumber:Y4({matchPattern:Nle,parsePattern:Mle,valueCallback:function(t){return parseInt(t,10)}}),era:Xr({matchPatterns:Ile,defaultMatchWidth:"wide",parsePatterns:kle,defaultParseWidth:"any"}),quarter:Xr({matchPatterns:Dle,defaultMatchWidth:"wide",parsePatterns:Lle,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Xr({matchPatterns:jle,defaultMatchWidth:"wide",parsePatterns:Ule,defaultParseWidth:"any"}),day:Xr({matchPatterns:$le,defaultMatchWidth:"wide",parsePatterns:qle,defaultParseWidth:"any"}),dayPeriod:Xr({matchPatterns:Ble,defaultMatchWidth:"any",parsePatterns:Hle,defaultParseWidth:"any"})},Vle={code:"es",formatDistance:mle,formatLong:ble,formatRelative:wle,localize:Ple,match:zle,options:{weekStartsOn:1,firstWeekContainsDate:1}},IS=t=>t?t.split(" ").map(e=>e[0]).slice(0,2).join("").toUpperCase():"??",J4=({comment:t,user:e,onRequireAuth:n,onVote:r,onReply:i,depth:a=0})=>{const[s,u]=U.useState(!1),[c,f]=U.useState(""),[h,p]=U.useState(!1),g=async S=>{if(S.preventDefault(),!!c.trim()){p(!0);try{await i(t.id,c),u(!1),f("")}finally{p(!1)}}};return T.jsxs("div",{className:`flex flex-col gap-4 ${a>0?"mt-4":""}`,children:[T.jsxs("div",{className:"flex gap-4 group",children:[T.jsx("div",{className:"flex-shrink-0",children:T.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold text-xs border border-indigo-200 shadow-sm",children:IS(t.userName)})}),T.jsxs("div",{className:"flex-grow",children:[T.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl rounded-tl-none border border-slate-100 group-hover:border-indigo-100 transition-colors",children:[T.jsxs("div",{className:"flex justify-between items-baseline mb-2",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"font-bold text-gray-900 text-sm",children:t.userName}),t.region&&T.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-200 px-1.5 py-0.5 rounded-full",children:t.region})]}),T.jsx("span",{className:"text-xs text-gray-500",children:hle(new Date(t.createdAt),{addSuffix:!0,locale:Vle})})]}),T.jsx("p",{className:"text-gray-700 text-sm leading-relaxed whitespace-pre-wrap",children:t.content}),T.jsxs("div",{className:"flex items-center mt-3 gap-4",children:[T.jsxs("button",{onClick:()=>r(t.id,"up"),className:`flex items-center gap-1.5 text-xs font-bold transition-colors ${t.userVote==="up"?"text-green-600":"text-gray-400 hover:text-green-500"}`,children:[T.jsx("svg",{className:"w-4 h-4",fill:t.userVote==="up"?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"})}),t.upvotes||0]}),T.jsxs("button",{onClick:()=>r(t.id,"down"),className:`flex items-center gap-1.5 text-xs font-bold transition-colors ${t.userVote==="down"?"text-red-500":"text-gray-400 hover:text-red-500"}`,children:[T.jsx("svg",{className:"w-4 h-4",fill:t.userVote==="down"?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018a2 2 0 01.485.06l3.76.94m-7 10v5a2 2 0 002 2h.095c.5 0 .905-.405.905-.905 0-.714.211-1.412.608-2.006L17 13V4m-7 10h2m5-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2.5"})}),t.downvotes||0]}),a<5&&T.jsxs("button",{onClick:()=>e?u(!s):n(),className:"flex items-center gap-1.5 text-xs font-bold text-gray-400 hover:text-indigo-600 transition-colors ml-2",children:[T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Responder"]})]})]}),s&&T.jsxs("form",{onSubmit:g,className:"mt-4 flex gap-3 animate-fade-in pl-4 border-l-2 border-indigo-100",children:[T.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold text-[10px] border border-indigo-200 flex-shrink-0",children:IS((e==null?void 0:e.full_name)||(e==null?void 0:e.email))}),T.jsxs("div",{className:"flex-grow",children:[T.jsx("textarea",{value:c,onChange:S=>f(S.target.value),placeholder:`Respondiendo a ${t.userName}...`,className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 text-sm min-h-[80px]",autoFocus:!0}),T.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[T.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-3 py-1.5 text-xs font-medium text-gray-500 hover:text-gray-700",children:"Cancelar"}),T.jsx("button",{type:"submit",disabled:h||!c.trim(),className:"px-4 py-1.5 bg-indigo-600 text-white text-xs font-bold rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:h?"Enviando...":"Responder"})]})]})]})]})]}),t.replies&&t.replies.length>0&&T.jsx("div",{className:"pl-12 border-l-2 border-gray-100 ml-4",children:t.replies.map(S=>T.jsx(J4,{comment:S,user:e,onRequireAuth:n,onVote:r,onReply:i,depth:a+1},S.id))})]})},Gle=({topicId:t,user:e,onRequireAuth:n})=>{const[r,i]=U.useState([]),[a,s]=U.useState(""),[u,c]=U.useState(!0),[f,h]=U.useState(!1),p=async()=>{try{const E=await _n.fetchComments(t);i(E)}catch(E){console.error("Error loading comments:",E)}finally{c(!1)}};U.useEffect(()=>{p()},[t]);const g=async E=>{if(E.preventDefault(),!e){n();return}if(a.trim()){h(!0);try{await _n.postComment(t,a,e.id),s(""),await p()}catch(x){console.error("Error posting comment:",x),alert("Error al publicar comentario")}finally{h(!1)}}},b=async(E,x)=>{e&&(await _n.postComment(t,x,e.id,E),await p())},S=async(E,x)=>{if(!e){n();return}const A=O=>O.map(C=>{if(C.id===E){const P=C.userVote;let R=C.upvotes||0,N=C.downvotes||0;P==="up"&&R--,P==="down"&&N--;const I=P===x?null:x;return I==="up"&&R++,I==="down"&&N++,{...C,userVote:I,upvotes:R,downvotes:N}}return C.replies?{...C,replies:A(C.replies)}:C});i(O=>A(O));try{await _n.voteComment(E,x)}catch(O){console.error(O),p()}};return T.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-8 shadow-sm",children:[T.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[T.jsx("svg",{className:"w-6 h-6 mr-2 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})}),"Debate Ciudadano"]}),T.jsx("div",{className:"mb-10",children:e?T.jsxs("form",{onSubmit:g,className:"flex flex-col gap-4",children:[T.jsxs("div",{className:"flex gap-4",children:[T.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold text-sm border border-indigo-200 shadow-sm flex-shrink-0",children:IS((e==null?void 0:e.full_name)||(e==null?void 0:e.email))}),T.jsx("textarea",{value:a,onChange:E=>s(E.target.value),placeholder:"Inicia un nuevo hilo de debate...",className:"flex-grow p-4 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 min-h-[100px] resize-y",disabled:f})]}),T.jsx("div",{className:"flex justify-end",children:T.jsx("button",{type:"submit",disabled:f||!a.trim(),className:"px-6 py-2 bg-indigo-600 text-white font-bold rounded-full hover:bg-indigo-700 transition disabled:opacity-50 shadow-md shadow-indigo-200",children:f?"Publicando...":"Publicar Nuevo Hilo"})})]}):T.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl text-center border border-slate-200",children:[T.jsx("p",{className:"text-slate-600 mb-3",children:"Inicia sesin para participar en el debate."}),T.jsx("button",{onClick:n,className:"text-indigo-600 font-bold hover:underline",children:"Iniciar sesin ahora"})]})}),T.jsx("div",{className:"space-y-6",children:u?T.jsx("div",{className:"text-center py-10 text-gray-400",children:"Cargando debate..."}):r.length===0?T.jsx("div",{className:"text-center py-10 text-gray-400 italic",children:"An no hay comentarios. S el primero en opinar!"}):r.map(E=>T.jsx(J4,{comment:E,user:e,onRequireAuth:n,onVote:S,onReply:b},E.id))})]})};class Fle extends U.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){var e;return this.state.hasError?T.jsxs("div",{className:"p-8 m-8 bg-red-50 border border-red-200 rounded-xl",children:[T.jsx("h1",{className:"text-xl font-bold text-red-800 mb-4",children:"Algo sali mal."}),T.jsx("pre",{className:"text-sm text-red-600 overflow-auto bg-white p-4 rounded border border-red-100",children:(e=this.state.error)==null?void 0:e.toString()}),T.jsx("p",{className:"mt-4 text-xs text-gray-500",children:"(Ver consola para ms detalles)"})]}):this.props.children}}const jD=[{code:"MD",name:"Madrid"},{code:"CT",name:"Catalua"},{code:"AN",name:"Andaluca"},{code:"VC",name:"Comunidad Valenciana"},{code:"GA",name:"Galicia"},{code:"PV",name:"Pas Vasco"},{code:"CL",name:"Castilla y Len"},{code:"CM",name:"Castilla-La Mancha"},{code:"AR",name:"Aragn"},{code:"EX",name:"Extremadura"},{code:"IB",name:"Baleares"},{code:"CN",name:"Canarias"},{code:"AS",name:"Asturias"},{code:"CB",name:"Cantabria"},{code:"NC",name:"Navarra"},{code:"MC",name:"Murcia"},{code:"RI",name:"La Rioja"},{code:"CE",name:"Ceuta"},{code:"ML",name:"Melilla"}],Kle=({topics:t,onVote:e,user:n,onRequireAuth:r})=>{var Y;const{id:i}=jj(),a=df(),s=t.find(H=>H.id===i),[u,c]=U.useState(!1),[f,h]=U.useState(null),[p,g]=U.useState({}),[b,S]=U.useState(null),[E,x]=U.useState(null),[A,O]=U.useState(null);U.useEffect(()=>{s&&_n.fetchDemographics(s.id).then(O)},[s==null?void 0:s.id]),U.useEffect(()=>{n&&s&&_n.fetchUserVoteForTopic(s.id).then(H=>{H&&(S({choice:H.choice,option:H.choice_option}),c(!0))})},[n,s==null?void 0:s.id]);const C=(H,W)=>{W.stopPropagation(),g(B=>({...B,[H]:!B[H]}))},P=U.useMemo(()=>{if(!s)return null;if(!f)return{votes:s.votes,optionCounts:s.optionCounts};if(s.type==="multiple_choice"){const H=s.regionalOptionCounts&&s.regionalOptionCounts[f]||{};return{votes:{support:0,oppose:0,neutral:0},optionCounts:H}}else return{votes:s.regionalVotes&&s.regionalVotes[f]||{support:0,oppose:0,neutral:0},optionCounts:{}}},[s,f]),R=U.useMemo(()=>s?jD.map(W=>{var j,K;let B=0;if(s.type==="binary"&&((j=s.regionalVotes)!=null&&j[W.code])){const ee=s.regionalVotes[W.code];B=ee.support+ee.oppose+ee.neutral}else if(s.type==="multiple_choice"&&((K=s.regionalOptionCounts)!=null&&K[W.code])){const ee=s.regionalOptionCounts[W.code];B=Object.values(ee).reduce((oe,ue)=>oe+ue,0)}return{code:W.code,name:W.name,total:B}}).filter(W=>W.total>0).sort((W,B)=>B.total-W.total).slice(0,6):[],[s]);if(!s)return T.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Tema no encontrado"}),T.jsx("button",{onClick:()=>a("/"),className:"mt-4 text-blue-600 hover:underline font-bold",children:"Volver al panel principal"})]});const N=(H,W)=>{!n||!n.region||(e(s.id,H,n.region,W),c(!0),S({choice:H,option:W||void 0}),x(null))},I=(H,W)=>{if(!n){r();return}if(!n.region){alert("Tu perfil no tiene una comunidad autnoma asignada. Por favor, actualiza tu perfil.");return}if(u&&b){const B=b.choice===H,j=b.option===W;if(B&&j)return;x({choice:H,option:W});return}N(H,W)},D=(P==null?void 0:P.votes)||{support:0,oppose:0,neutral:0},L=(P==null?void 0:P.optionCounts)||{},V=s.type==="multiple_choice"?Object.values(L).reduce((H,W)=>H+W,0):D.support+D.oppose+D.neutral,$=T.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-8 shadow-sm",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-100 pb-2",children:[T.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Estadsticas",f&&T.jsx("span",{className:"text-blue-600 block text-sm",children:(Y=jD.find(H=>H.code===f))==null?void 0:Y.name})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[f&&T.jsx("button",{onClick:()=>h(null),className:"text-xs text-gray-400 hover:text-blue-600 underline",children:"Ver Total"}),T.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-blue-50 text-blue-700 shadow-sm border border-blue-100",children:[V," votos"]})]})]}),T.jsx(Ioe,{votes:D,optionCounts:s.type==="multiple_choice"?L:void 0,type:s.type,labelSupport:s.type==="binary"?s.labelSupport:void 0,labelOppose:s.type==="binary"?s.labelOppose:void 0}),s.type==="binary"&&T.jsxs("div",{className:"mt-8 space-y-4",children:[T.jsxs("div",{className:"flex justify-between items-center text-sm p-3 bg-green-50 rounded-xl",children:[T.jsx("span",{className:"text-green-700 font-medium",children:s.labelSupport||"A favor"}),T.jsx("span",{className:"font-extrabold text-green-700",children:D.support})]}),T.jsxs("div",{className:"flex justify-between items-center text-sm p-3 bg-red-50 rounded-xl",children:[T.jsx("span",{className:"text-red-700 font-medium",children:s.labelOppose||"En contra"}),T.jsx("span",{className:"font-extrabold text-red-700",children:D.oppose})]}),T.jsxs("div",{className:"flex justify-between items-center text-sm p-3 bg-slate-100 rounded-xl",children:[T.jsx("span",{className:"text-slate-600 font-medium",children:"Neutral"}),T.jsx("span",{className:"font-extrabold text-slate-700",children:D.neutral})]})]}),T.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl shadow-lg text-white",children:[T.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[T.jsx("div",{className:"p-1 bg-white/20 rounded-lg",children:T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),T.jsx("h3",{className:"font-bold text-sm uppercase tracking-wider",children:"Perspectiva IA"})]}),T.jsxs("p",{className:"text-blue-50 leading-relaxed text-sm italic font-light",children:['"',s.aiAnalysis||"Analizando el pulso social...",'"']})]})]});return T.jsxs(Fle,{children:[T.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[T.jsxs(Y6,{children:[T.jsxs("title",{children:[s.title," - La Voz del Pueblo"]}),T.jsx("meta",{name:"description",content:s.description}),T.jsx("meta",{property:"og:title",content:`${s.title} - Debate y Vota`}),T.jsx("meta",{property:"og:description",content:s.description}),T.jsx("meta",{property:"og:url",content:`https://lavozdelpueblo.es/#/topic/${s.id}`}),T.jsx("meta",{name:"twitter:title",content:s.title}),T.jsx("meta",{name:"twitter:description",content:s.description}),T.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"DiscussionForumPosting",headline:s.title,description:s.description,url:`https://lavozdelpueblo.es/#/topic/${s.id}`,datePublished:new Date(s.createdAt||Date.now()).toISOString(),author:{"@type":"Organization",name:"La Voz del Pueblo"},interactionStatistic:{"@type":"InteractionCounter",interactionType:"https://schema.org/VoteAction",userInteractionCount:V},publisher:{"@type":"Organization",name:"La Voz del Pueblo",logo:{"@type":"ImageObject",url:"https://lavozdelpueblo.es/logo.svg"}}})})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[T.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[T.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-8 shadow-sm",children:[T.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[T.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-600 text-xs font-bold rounded-full uppercase tracking-wider",children:s.category}),T.jsx("span",{className:"text-gray-400 text-sm",children:" Encuesta Activa"})]}),T.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 mb-6 leading-tight",children:s.title}),T.jsx("p",{className:"text-lg text-gray-600 leading-relaxed mb-8",children:s.description}),T.jsxs("div",{className:"bg-slate-50 rounded-3xl p-8 border border-slate-100",children:[T.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Emite tu Voto"}),T.jsxs("div",{className:"space-y-8",children:[s.type==="multiple_choice"?T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:s.options.map(H=>{var oe;const B=(ue=>(ue.substring(0,2),ue.includes("PSOE")?{color:"bg-red-600 text-white",icon:T.jsx("span",{className:"font-black tracking-tighter",children:"PSOE"}),border:"hover:border-red-500 hover:bg-red-50"}:ue.includes("PP")?{color:"bg-blue-600 text-white",icon:T.jsx("span",{className:"font-black tracking-tighter",children:"PP"}),border:"hover:border-blue-500 hover:bg-blue-50"}:ue.includes("Vox")?{color:"bg-green-600 text-white",icon:T.jsx("span",{className:"font-black tracking-widest",children:"VOX"}),border:"hover:border-green-500 hover:bg-green-50"}:ue.includes("Sumar")?{color:"bg-fuchsia-600 text-white",icon:T.jsx("span",{className:"font-bold",children:"SUMAR"}),border:"hover:border-fuchsia-500 hover:bg-fuchsia-50"}:ue.includes("Podemos")?{color:"bg-purple-700 text-white",icon:T.jsx("span",{className:"font-bold",children:"PODEMOS"}),border:"hover:border-purple-500 hover:bg-purple-50"}:ue.includes("SALF")?{color:"bg-slate-800 text-white",icon:T.jsxs("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),border:"hover:border-slate-500 hover:bg-slate-50"}:ue.includes("Junts")?{color:"bg-teal-500 text-white",icon:T.jsx("span",{className:"font-bold",children:"JUNTS"}),border:"hover:border-teal-500 hover:bg-teal-50"}:ue.includes("ERC")?{color:"bg-yellow-400 text-black",icon:T.jsx("span",{className:"font-bold",children:"ERC"}),border:"hover:border-yellow-500 hover:bg-yellow-50"}:ue.includes("PNV")?{color:"bg-green-700 text-white",icon:T.jsx("span",{className:"font-bold",children:"PNV"}),border:"hover:border-green-600 hover:bg-green-50"}:ue.includes("Bildu")?{color:"bg-emerald-500 text-white",icon:T.jsx("span",{className:"font-bold",children:"BILDU"}),border:"hover:border-emerald-500 hover:bg-emerald-50"}:{color:"bg-gray-100 text-gray-600",icon:T.jsx("span",{className:"font-bold text-xs",children:"?"}),border:"hover:border-blue-500 hover:bg-blue-50"}))(H),j=(oe=s.optionDetails)==null?void 0:oe[H],K=p[H],ee=(b==null?void 0:b.option)===H;return T.jsxs("div",{className:"flex flex-col",children:[T.jsxs("button",{onClick:()=>I("support",H),className:`relative z-10 flex justify-between items-center p-4 bg-white border border-gray-200 ${B.border} ${K?"rounded-t-xl border-b-0":"rounded-xl"} transition-all shadow-sm group text-left ${!(n!=null&&n.region)&&"opacity-60 grayscale"} 
                                ${ee?"ring-2 ring-blue-600 bg-blue-50/50 border-blue-500":""}`,disabled:!(n!=null&&n.region)&&!!n,children:[T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shadow-sm ${B.color} text-[10px] sm:text-xs overflow-hidden`,children:B.icon}),T.jsx("span",{className:"font-bold text-gray-800",children:H})]}),T.jsxs("div",{className:"flex items-center space-x-2",children:[ee&&T.jsx("div",{className:"bg-blue-600 text-white rounded-full p-1 shadow-sm",children:T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),!ee&&T.jsx("div",{className:"bg-blue-100 text-blue-600 rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),j&&T.jsx("div",{onClick:ue=>C(H,ue),className:`p-1.5 rounded-full hover:bg-gray-100 text-gray-400 hover:text-blue-600 transition-colors ${K?"rotate-180 bg-gray-100 text-blue-600":""}`,children:T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),K&&j&&T.jsx("div",{className:"bg-slate-50 border border-t-0 border-gray-200 rounded-b-xl p-5 -mt-1 pt-4 relative z-0 animate-fadeIn",children:T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-xs sm:text-sm",children:[T.jsxs("div",{children:[T.jsxs("h5",{className:"font-bold text-green-700 mb-2 flex items-center",children:[T.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Puntos Fuertes"]}),T.jsx("ul",{className:"space-y-1.5 text-gray-600",children:j.pros.map((ue,q)=>T.jsxs("li",{className:"flex items-start",children:[T.jsx("span",{className:"text-green-500 mr-2",children:""}),T.jsx("span",{children:ue})]},q))})]}),T.jsxs("div",{children:[T.jsxs("h5",{className:"font-bold text-red-700 mb-2 flex items-center",children:[T.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Puntos Dbiles"]}),T.jsx("ul",{className:"space-y-1.5 text-gray-600",children:j.cons.map((ue,q)=>T.jsxs("li",{className:"flex items-start",children:[T.jsx("span",{className:"text-red-500 mr-2",children:""}),T.jsx("span",{children:ue})]},q))})]})]})})]},H)})}):T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[T.jsxs("button",{onClick:()=>I("support"),className:`flex flex-col items-center p-6 bg-white border-2 border-gray-100 hover:border-green-500 rounded-2xl transition-all group shadow-sm hover:shadow-md ${!(n!=null&&n.region)&&"opacity-60 grayscale-[0.5]"}
                          ${(b==null?void 0:b.choice)==="support"?"ring-2 ring-green-500 bg-green-50 border-green-500":""}`,disabled:!(n!=null&&n.region)&&!!n,children:[T.jsx("div",{className:"w-14 h-14 bg-green-50 text-green-600 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:T.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),T.jsx("span",{className:"font-bold text-gray-900 uppercase tracking-wide text-sm",children:s.labelSupport||"A favor"}),(b==null?void 0:b.choice)==="support"&&T.jsx("span",{className:"mt-2 text-xs bg-green-200 text-green-800 px-2 py-0.5 rounded-full font-bold",children:"Tu Voto"})]}),T.jsxs("button",{onClick:()=>I("oppose"),className:`flex flex-col items-center p-6 bg-white border-2 border-gray-100 hover:border-red-500 rounded-2xl transition-all group shadow-sm hover:shadow-md ${!(n!=null&&n.region)&&"opacity-60 grayscale-[0.5]"}
                          ${(b==null?void 0:b.choice)==="oppose"?"ring-2 ring-red-500 bg-red-50 border-red-500":""}`,disabled:!(n!=null&&n.region)&&!!n,children:[T.jsx("div",{className:"w-14 h-14 bg-red-50 text-red-600 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:T.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),T.jsx("span",{className:"font-bold text-gray-900 uppercase tracking-wide text-sm",children:s.labelOppose||"En contra"}),(b==null?void 0:b.choice)==="oppose"&&T.jsx("span",{className:"mt-2 text-xs bg-red-200 text-red-800 px-2 py-0.5 rounded-full font-bold",children:"Tu Voto"})]}),T.jsxs("button",{onClick:()=>I("neutral"),className:`flex flex-col items-center p-6 bg-white border-2 border-gray-100 hover:border-gray-500 rounded-2xl transition-all group shadow-sm hover:shadow-md ${!(n!=null&&n.region)&&"opacity-60 grayscale-[0.5]"}
                          ${(b==null?void 0:b.choice)==="neutral"?"ring-2 ring-gray-500 bg-gray-50 border-gray-500":""}`,disabled:!(n!=null&&n.region)&&!!n,children:[T.jsx("div",{className:"w-14 h-14 bg-gray-100 text-gray-600 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:T.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),T.jsx("span",{className:"font-bold text-gray-900 uppercase tracking-wide text-sm",children:"Neutral"}),(b==null?void 0:b.choice)==="neutral"&&T.jsx("span",{className:"mt-2 text-xs bg-gray-200 text-gray-800 px-2 py-0.5 rounded-full font-bold",children:"Tu Voto"})]})]}),n?n.region?null:T.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg border border-yellow-200 text-yellow-800 text-sm",children:[T.jsx("p",{className:"font-bold",children:"Perfil incompleto"}),T.jsx("p",{children:"Necesitamos saber tu Comunidad Autnoma para registrar el voto."}),T.jsx("p",{className:"mt-2 text-xs",children:"Por favor, cierra sesin y regstrate de nuevo (o espera a que implementemos 'Editar Perfil')."})]}):T.jsxs("div",{className:"text-center",children:[T.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"Es necesario estar identificado para votar"}),T.jsx("button",{onClick:r,className:"text-blue-600 font-bold hover:text-blue-700 underline text-sm",children:"Iniciar sesin ahora"})]}),T.jsx("div",{className:"space-y-6",children:u&&T.jsxs("div",{className:"animate-fadeIn",children:[T.jsxs("div",{className:"text-center py-6 bg-green-50/80 rounded-2xl text-green-800 font-bold border border-green-200 mb-6",children:[T.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-1",children:[T.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),T.jsx("span",{children:"Tu voz ha sido registrada!"})]}),T.jsx("p",{className:"text-sm font-normal text-green-700",children:"Ahora haz que cuente: Comprtelo para que otros voten."})]}),T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[T.jsxs("a",{href:`https://api.whatsapp.com/send?text=${encodeURIComponent(`He votado sobre "${s.title}" en La Voz Del Pueblo. Entra y vota t tambin!  https://lavozdelpueblo.es/#/topic/${s.id}`)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center space-x-2 w-full py-3 bg-[#25D366] hover:bg-[#20bd5a] text-white rounded-xl font-bold transition-transform hover:scale-105 shadow-sm",children:[T.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),T.jsx("span",{children:"WhatsApp"})]}),T.jsxs("a",{href:`https://twitter.com/intent/tweet?text=${encodeURIComponent(`He votado sobre "${s.title}" en La Voz Del Pueblo. Vota t tambin y decide! `)}&url=${encodeURIComponent(`https://lavozdelpueblo.es/#/topic/${s.id}`)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center space-x-2 w-full py-3 bg-black hover:bg-gray-800 text-white rounded-xl font-bold transition-transform hover:scale-105 shadow-sm",children:[T.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),T.jsx("span",{children:"X (Twitter)"})]}),T.jsxs("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(`https://lavozdelpueblo.es/#/topic/${s.id}`)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center space-x-2 w-full py-3 bg-[#1877F2] hover:bg-[#166fe5] text-white rounded-xl font-bold transition-transform hover:scale-105 shadow-sm",children:[T.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036c-2.148 0-2.971.956-2.971 3.594v.376h3.413l-.565 3.667h-2.848v7.98h-4.843Z"})}),T.jsx("span",{children:"Facebook"})]})]})]})})]})]}),T.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-8 shadow-sm",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Distribucin Geogrfica"}),s.type!=="multiple_choice"&&T.jsxs("div",{className:"flex space-x-2",children:[T.jsx("div",{className:"h-3 w-10 bg-green-500 rounded-full"}),T.jsx("div",{className:"h-3 w-10 bg-red-500 rounded-full"})]})]}),T.jsx(wse,{regionalVotes:s.regionalVotes,regionalOptionCounts:s.type==="multiple_choice"?s.regionalOptionCounts:void 0,pollType:s.type,labelSupport:s.type==="binary"?s.labelSupport:void 0,labelOppose:s.type==="binary"?s.labelOppose:void 0,onSelectRegion:h,selectedRegion:f})]})]}),(!("optionDetails"in s)||!s.optionDetails)&&T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[T.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-8 shadow-sm group hover:border-green-100 transition-colors",children:[T.jsxs("h3",{className:"text-lg font-bold text-green-600 mb-6 flex items-center",children:[T.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Argumentos A Favor"]}),T.jsx("ul",{className:"space-y-4",children:s.pros.map((H,W)=>T.jsxs("li",{className:"flex items-start text-gray-600 text-sm leading-relaxed",children:[T.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-1.5 mr-3 flex-shrink-0"}),H]},W))})]}),T.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-8 shadow-sm group hover:border-red-100 transition-colors",children:[T.jsxs("h3",{className:"text-lg font-bold text-red-600 mb-6 flex items-center",children:[T.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Argumentos En Contra"]}),T.jsx("ul",{className:"space-y-4",children:s.cons.map((H,W)=>T.jsxs("li",{className:"flex items-start text-gray-600 text-sm leading-relaxed",children:[T.jsx("span",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mt-1.5 mr-3 flex-shrink-0"}),H]},W))})]})]}),T.jsx(Gle,{topicId:s.id,user:n,onRequireAuth:r})]}),T.jsxs("div",{className:"space-y-8 mt-12 lg:mt-0",children:[$,T.jsx(Noe,{topic:s,demographics:A,regionalRanking:R})]})]})]}),E&&T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:T.jsx("div",{className:"bg-white rounded-2xl shadow-xl max-w-sm w-full p-6 transform transition-all scale-100 animate-in zoom-in-95 duration-200",children:T.jsxs("div",{className:"flex flex-col items-center text-center",children:[T.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center mb-4 text-yellow-600",children:T.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),T.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Cambiar tu voto?"}),T.jsx("p",{className:"text-gray-500 mb-6",children:"Ya has votado anteriormente. Ests seguro de que quieres cambiar tu eleccin? Tu voto anterior ser eliminado."}),T.jsxs("div",{className:"flex gap-3 w-full",children:[T.jsx("button",{onClick:()=>x(null),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 font-semibold rounded-xl hover:bg-gray-200 transition-colors",children:"Cancelar"}),T.jsx("button",{onClick:()=>N(E.choice,E.option),className:"flex-1 px-4 py-2 bg-blue-600 text-white font-semibold rounded-xl hover:bg-blue-700 transition-colors shadow-lg shadow-blue-200",children:"Confirmar"})]})]})})})]})};var Wle={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Yle,Jle;function Xle(){return{geminiUrl:Yle,vertexUrl:Jle}}function Qle(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const s=Xle();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(a=s.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ki{}function pe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function y(t,e,n){for(let a=0;a<e.length-1;a++){const s=e[a];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let f=0;f<c.length;f++){const h=c[f];y(h,e.slice(a+1),n[f])}else for(const f of c)y(f,e.slice(a+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];y(c[0],e.slice(a+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function v(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const s=t[a];return Array.isArray(s)?s.map(u=>v(u,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Zle(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),a=r.split("."),s=new Set;let u=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){u=c;break}if(u!==-1&&a.length>u)for(let c=u;c<a.length;c++){const f=a[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&s.add(f)}kS(t,i,a,0,s)}}function kS(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const s=a.slice(0,-2),u=t;if(s in u&&Array.isArray(u[s]))for(const c of u[s])kS(c,e,n,r+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,u=Object.keys(s).filter(f=>!f.startsWith("_")&&!i.has(f)),c={};for(const f of u)c[f]=s[f];for(const[f,h]of Object.entries(c)){const p=[];for(const g of n.slice(r))g==="*"?p.push(f):p.push(g);y(s,p,h)}for(const f of u)delete s[f]}}else{const s=t;a in s&&kS(s[a],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yT(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eue(t){const e={},n=v(t,["operationName"]);n!=null&&y(e,["operationName"],n);const r=v(t,["resourceName"]);return r!=null&&y(e,["_url","resourceName"],r),e}function tue(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=v(t,["done"]);i!=null&&y(e,["done"],i);const a=v(t,["error"]);a!=null&&y(e,["error"],a);const s=v(t,["response","generateVideoResponse"]);return s!=null&&y(e,["response"],rue(s)),e}function nue(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=v(t,["done"]);i!=null&&y(e,["done"],i);const a=v(t,["error"]);a!=null&&y(e,["error"],a);const s=v(t,["response"]);return s!=null&&y(e,["response"],iue(s)),e}function rue(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>aue(s))),y(e,["generatedVideos"],a)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function iue(t){const e={},n=v(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>oue(s))),y(e,["generatedVideos"],a)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function aue(t){const e={},n=v(t,["video"]);return n!=null&&y(e,["video"],due(n)),e}function oue(t){const e={},n=v(t,["_self"]);return n!=null&&y(e,["video"],hue(n)),e}function sue(t){const e={},n=v(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function lue(t){const e={},n=v(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function uue(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=v(t,["done"]);i!=null&&y(e,["done"],i);const a=v(t,["error"]);a!=null&&y(e,["error"],a);const s=v(t,["response"]);return s!=null&&y(e,["response"],cue(s)),e}function cue(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&y(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function X4(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=v(t,["done"]);i!=null&&y(e,["done"],i);const a=v(t,["error"]);a!=null&&y(e,["error"],a);const s=v(t,["response"]);return s!=null&&y(e,["response"],fue(s)),e}function fue(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&y(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function due(t){const e={},n=v(t,["uri"]);n!=null&&y(e,["uri"],n);const r=v(t,["encodedVideo"]);r!=null&&y(e,["videoBytes"],yT(r));const i=v(t,["encoding"]);return i!=null&&y(e,["mimeType"],i),e}function hue(t){const e={},n=v(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&y(e,["videoBytes"],yT(r));const i=v(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var UD;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(UD||(UD={}));var $D;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})($D||($D={}));var qD;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(qD||(qD={}));var pn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(pn||(pn={}));var BD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(BD||(BD={}));var HD;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(HD||(HD={}));var zD;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(zD||(zD={}));var VD;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(VD||(VD={}));var GD;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(GD||(GD={}));var FD;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(FD||(FD={}));var KD;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(KD||(KD={}));var WD;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(WD||(WD={}));var YD;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(YD||(YD={}));var JD;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(JD||(JD={}));var XD;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(XD||(XD={}));var QD;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(QD||(QD={}));var ZD;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ZD||(ZD={}));var eL;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(eL||(eL={}));var tL;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(tL||(tL={}));var $p;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})($p||($p={}));var nL;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(nL||(nL={}));var rL;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(rL||(rL={}));var iL;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(iL||(iL={}));var DS;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(DS||(DS={}));var aL;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(aL||(aL={}));var oL;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(oL||(oL={}));var sL;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(sL||(sL={}));var lL;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(lL||(lL={}));var uL;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(uL||(uL={}));var cL;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(cL||(cL={}));var fL;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(fL||(fL={}));var dL;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(dL||(dL={}));var hL;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(hL||(hL={}));var pL;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(pL||(pL={}));var mL;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(mL||(mL={}));var gL;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(gL||(gL={}));var vL;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(vL||(vL={}));var yL;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(yL||(yL={}));var bL;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(bL||(bL={}));var _L;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(_L||(_L={}));var xL;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(xL||(xL={}));var wL;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(wL||(wL={}));var SL;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(SL||(SL={}));var EL;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(EL||(EL={}));var TL;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(TL||(TL={}));var AL;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(AL||(AL={}));var CL;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(CL||(CL={}));var OL;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(OL||(OL={}));var RL;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(RL||(RL={}));var PL;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(PL||(PL={}));var NL;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(NL||(NL={}));var ML;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(ML||(ML={}));var IL;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(IL||(IL={}));var kL;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(kL||(kL={}));var DL;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(DL||(DL={}));var Hs;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Hs||(Hs={}));class LS{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Yu{get text(){var e,n,r,i,a,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const p=[];for(const g of(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[b,S]of Object.entries(g))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(S!==null||S!==void 0)&&p.push(b);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,f+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,n,r,i,a,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const p of(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[g,b]of Object.entries(p))g!=="inlineData"&&(b!==null||b!==void 0)&&h.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,a,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,i,a,s,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,a,s,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class LL{}class jL{}class pue{}class mue{}class gue{}class vue{}class UL{}class $L{}class qL{}class yue{}class qp{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new qp;let i;const a=e;return n?i=nue(a):i=tue(a),Object.assign(r,i),r}}class BL{}class HL{}class zL{}class VL{}class bue{}class _ue{}class xue{}class bT{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new bT,a=uue(e);return Object.assign(r,a),r}}class wue{}class Sue{}class Eue{}class GL{}class Tue{get text(){var e,n,r;let i="",a=!1;const s=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&s.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;a=!0,i+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(s))u!=="inlineData"&&c!==null&&a.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Aue{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class _T{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new _T,a=X4(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ye(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Q4(t,e){const n=Ye(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Z4(t){return Array.isArray(t)?t.map(e=>Bp(e)):[Bp(t)]}function Bp(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function e3(t){const e=Bp(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function t3(t){const e=Bp(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function FL(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function n3(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>FL(e)):[FL(t)]}function jS(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function KL(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function WL(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function gn(t){if(t==null)throw new Error("ContentUnion is required");return jS(t)?t:{role:"user",parts:n3(t)}}function xT(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=gn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=gn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>gn(n)):[gn(e)]}function yr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(KL(t)||WL(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[gn(t)]}const e=[],n=[],r=jS(t[0]);for(const i of t){const a=jS(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(KL(i)||WL(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:n3(n)}),e}function Cue(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(pn).includes(n[0].toUpperCase())?n[0].toUpperCase():pn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(pn).includes(r.toUpperCase())?r.toUpperCase():pn.TYPE_UNSPECIFIED})}}function Xs(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&Cue(t.type,e);for(const[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(pn).includes(u.toUpperCase())?u.toUpperCase():pn.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Xs(u);else if(r.includes(s)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(Xs(f))}e[s]=c}else if(i.includes(s)){const c={};for(const[f,h]of Object.entries(u))c[f]=Xs(h);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=u}return e}function wT(t){return Xs(t)}function ST(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function ET(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function $l(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Xs(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Xs(e.response));return t}function ql(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Oue(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Wi(t,e){if(typeof e!="string")throw new Error("name must be a string");return Oue(t,e,"cachedContents")}function r3(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function La(t){return yT(t)}function Rue(t){return t!=null&&typeof t=="object"&&"name"in t}function Pue(t){return t!=null&&typeof t=="object"&&"video"in t}function Nue(t){return t!=null&&typeof t=="object"&&"uri"in t}function i3(t){var e;let n;if(Rue(t)&&(n=t.name),!(Nue(t)&&(n=t.uri,n===void 0))&&!(Pue(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function a3(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function o3(t){for(const e of["models","tunedModels","publisherModels"])if(Mue(t,e))return t[e];return[]}function Mue(t,e){return t!==null&&typeof t=="object"&&e in t}function Iue(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function kue(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const s=Iue(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function s3(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Due(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function l3(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Bl(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function u3(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lue(t){const e={},n=v(t,["responsesFile"]);n!=null&&y(e,["fileName"],n);const r=v(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>gce(s))),y(e,["inlinedResponses"],a)}const i=v(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["inlinedEmbedContentResponses"],a)}return e}function jue(t){const e={},n=v(t,["predictionsFormat"]);n!=null&&y(e,["format"],n);const r=v(t,["gcsDestination","outputUriPrefix"]);r!=null&&y(e,["gcsUri"],r);const i=v(t,["bigqueryDestination","outputUri"]);return i!=null&&y(e,["bigqueryUri"],i),e}function Uue(t){const e={},n=v(t,["format"]);n!=null&&y(e,["predictionsFormat"],n);const r=v(t,["gcsUri"]);r!=null&&y(e,["gcsDestination","outputUriPrefix"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&y(e,["bigqueryDestination","outputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(v(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Ch(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["metadata","displayName"]);r!=null&&y(e,["displayName"],r);const i=v(t,["metadata","state"]);i!=null&&y(e,["state"],u3(i));const a=v(t,["metadata","createTime"]);a!=null&&y(e,["createTime"],a);const s=v(t,["metadata","endTime"]);s!=null&&y(e,["endTime"],s);const u=v(t,["metadata","updateTime"]);u!=null&&y(e,["updateTime"],u);const c=v(t,["metadata","model"]);c!=null&&y(e,["model"],c);const f=v(t,["metadata","output"]);return f!=null&&y(e,["dest"],Lue(l3(f))),e}function US(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=v(t,["state"]);i!=null&&y(e,["state"],u3(i));const a=v(t,["error"]);a!=null&&y(e,["error"],a);const s=v(t,["createTime"]);s!=null&&y(e,["createTime"],s);const u=v(t,["startTime"]);u!=null&&y(e,["startTime"],u);const c=v(t,["endTime"]);c!=null&&y(e,["endTime"],c);const f=v(t,["updateTime"]);f!=null&&y(e,["updateTime"],f);const h=v(t,["model"]);h!=null&&y(e,["model"],h);const p=v(t,["inputConfig"]);p!=null&&y(e,["src"],$ue(p));const g=v(t,["outputConfig"]);g!=null&&y(e,["dest"],jue(l3(g)));const b=v(t,["completionStats"]);return b!=null&&y(e,["completionStats"],b),e}function $ue(t){const e={},n=v(t,["instancesFormat"]);n!=null&&y(e,["format"],n);const r=v(t,["gcsSource","uris"]);r!=null&&y(e,["gcsUri"],r);const i=v(t,["bigquerySource","inputUri"]);return i!=null&&y(e,["bigqueryUri"],i),e}function que(t,e){const n={};if(v(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=v(e,["fileName"]);r!=null&&y(n,["fileName"],r);const i=v(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>mce(t,s))),y(n,["requests","requests"],a)}return n}function Bue(t){const e={},n=v(t,["format"]);n!=null&&y(e,["instancesFormat"],n);const r=v(t,["gcsUri"]);r!=null&&y(e,["gcsSource","uris"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&y(e,["bigquerySource","inputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Hue(t){const e={},n=v(t,["data"]);if(n!=null&&y(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function zue(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],Bl(t,r)),n}function Vue(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],Bl(t,r)),n}function Gue(t){const e={},n=v(t,["content"]);n!=null&&y(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&y(e,["citationMetadata"],Fue(r));const i=v(t,["tokenCount"]);i!=null&&y(e,["tokenCount"],i);const a=v(t,["finishReason"]);a!=null&&y(e,["finishReason"],a);const s=v(t,["avgLogprobs"]);s!=null&&y(e,["avgLogprobs"],s);const u=v(t,["groundingMetadata"]);u!=null&&y(e,["groundingMetadata"],u);const c=v(t,["index"]);c!=null&&y(e,["index"],c);const f=v(t,["logprobsResult"]);f!=null&&y(e,["logprobsResult"],f);const h=v(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(b=>b)),y(e,["safetyRatings"],g)}const p=v(t,["urlContextMetadata"]);return p!=null&&y(e,["urlContextMetadata"],p),e}function Fue(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["citations"],r)}return e}function c3(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Sce(a))),y(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&y(e,["role"],r),e}function Kue(t,e){const n={},r=v(t,["displayName"]);if(e!==void 0&&r!=null&&y(e,["batch","displayName"],r),v(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Wue(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=v(t,["dest"]);return e!==void 0&&i!=null&&y(e,["outputConfig"],Uue(Due(i))),n}function YL(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["src"]);i!=null&&y(n,["batch","inputConfig"],que(t,s3(t,i)));const a=v(e,["config"]);return a!=null&&Kue(a,n),n}function Yue(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["model"],Ye(t,r));const i=v(e,["src"]);i!=null&&y(n,["inputConfig"],Bue(s3(t,i)));const a=v(e,["config"]);return a!=null&&Wue(a,n),n}function Jue(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&y(e,["batch","displayName"],r),n}function Xue(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["src"]);i!=null&&y(n,["batch","inputConfig"],ice(t,i));const a=v(e,["config"]);return a!=null&&Jue(a,n),n}function Que(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],Bl(t,r)),n}function Zue(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],Bl(t,r)),n}function ece(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&y(e,["name"],r);const i=v(t,["done"]);i!=null&&y(e,["done"],i);const a=v(t,["error"]);return a!=null&&y(e,["error"],a),e}function tce(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&y(e,["name"],r);const i=v(t,["done"]);i!=null&&y(e,["done"],i);const a=v(t,["error"]);return a!=null&&y(e,["error"],a),e}function nce(t,e){const n={},r=v(e,["contents"]);if(r!=null){let a=xT(t,r);Array.isArray(a)&&(a=a.map(s=>s)),y(n,["requests[]","request","content"],a)}const i=v(e,["config"]);return i!=null&&(y(n,["_self"],rce(i,n)),Zle(n,{"requests[].*":"requests[].request.*"})),n}function rce(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&y(e,["requests[]","taskType"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&y(e,["requests[]","title"],i);const a=v(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&y(e,["requests[]","outputDimensionality"],a),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function ice(t,e){const n={},r=v(e,["fileName"]);r!=null&&y(n,["file_name"],r);const i=v(e,["inlinedRequests"]);return i!=null&&y(n,["requests"],nce(t,i)),n}function ace(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function oce(t){const e={},n=v(t,["id"]);n!=null&&y(e,["id"],n);const r=v(t,["args"]);r!=null&&y(e,["args"],r);const i=v(t,["name"]);if(i!=null&&y(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sce(t){const e={},n=v(t,["mode"]);n!=null&&y(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function lce(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],c3(gn(i)));const a=v(e,["temperature"]);a!=null&&y(r,["temperature"],a);const s=v(e,["topP"]);s!=null&&y(r,["topP"],s);const u=v(e,["topK"]);u!=null&&y(r,["topK"],u);const c=v(e,["candidateCount"]);c!=null&&y(r,["candidateCount"],c);const f=v(e,["maxOutputTokens"]);f!=null&&y(r,["maxOutputTokens"],f);const h=v(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const p=v(e,["responseLogprobs"]);p!=null&&y(r,["responseLogprobs"],p);const g=v(e,["logprobs"]);g!=null&&y(r,["logprobs"],g);const b=v(e,["presencePenalty"]);b!=null&&y(r,["presencePenalty"],b);const S=v(e,["frequencyPenalty"]);S!=null&&y(r,["frequencyPenalty"],S);const E=v(e,["seed"]);E!=null&&y(r,["seed"],E);const x=v(e,["responseMimeType"]);x!=null&&y(r,["responseMimeType"],x);const A=v(e,["responseSchema"]);A!=null&&y(r,["responseSchema"],wT(A));const O=v(e,["responseJsonSchema"]);if(O!=null&&y(r,["responseJsonSchema"],O),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const C=v(e,["safetySettings"]);if(n!==void 0&&C!=null){let H=C;Array.isArray(H)&&(H=H.map(W=>Ece(W))),y(n,["safetySettings"],H)}const P=v(e,["tools"]);if(n!==void 0&&P!=null){let H=ql(P);Array.isArray(H)&&(H=H.map(W=>Ace($l(W)))),y(n,["tools"],H)}const R=v(e,["toolConfig"]);if(n!==void 0&&R!=null&&y(n,["toolConfig"],Tce(R)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=v(e,["cachedContent"]);n!==void 0&&N!=null&&y(n,["cachedContent"],Wi(t,N));const I=v(e,["responseModalities"]);I!=null&&y(r,["responseModalities"],I);const D=v(e,["mediaResolution"]);D!=null&&y(r,["mediaResolution"],D);const L=v(e,["speechConfig"]);if(L!=null&&y(r,["speechConfig"],ST(L)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=v(e,["thinkingConfig"]);V!=null&&y(r,["thinkingConfig"],V);const $=v(e,["imageConfig"]);$!=null&&y(r,["imageConfig"],pce($));const Y=v(e,["enableEnhancedCivicAnswers"]);return Y!=null&&y(r,["enableEnhancedCivicAnswers"],Y),r}function uce(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>Gue(f))),y(e,["candidates"],c)}const i=v(t,["modelVersion"]);i!=null&&y(e,["modelVersion"],i);const a=v(t,["promptFeedback"]);a!=null&&y(e,["promptFeedback"],a);const s=v(t,["responseId"]);s!=null&&y(e,["responseId"],s);const u=v(t,["usageMetadata"]);return u!=null&&y(e,["usageMetadata"],u),e}function cce(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],Bl(t,r)),n}function fce(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],Bl(t,r)),n}function dce(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function hce(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function pce(t){const e={},n=v(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=v(t,["imageSize"]);if(r!=null&&y(e,["imageSize"],r),v(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function mce(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["request","model"],Ye(t,r));const i=v(e,["contents"]);if(i!=null){let u=yr(i);Array.isArray(u)&&(u=u.map(c=>c3(c))),y(n,["request","contents"],u)}const a=v(e,["metadata"]);a!=null&&y(n,["metadata"],a);const s=v(e,["config"]);return s!=null&&y(n,["request","generationConfig"],lce(t,s,v(n,["request"],{}))),n}function gce(t){const e={},n=v(t,["response"]);n!=null&&y(e,["response"],uce(n));const r=v(t,["error"]);return r!=null&&y(e,["error"],r),e}function vce(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);if(e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),v(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function yce(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);e!==void 0&&i!=null&&y(e,["_query","pageToken"],i);const a=v(t,["filter"]);return e!==void 0&&a!=null&&y(e,["_query","filter"],a),n}function bce(t){const e={},n=v(t,["config"]);return n!=null&&vce(n,e),e}function _ce(t){const e={},n=v(t,["config"]);return n!=null&&yce(n,e),e}function xce(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=v(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Ch(s))),y(e,["batchJobs"],a)}return e}function wce(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=v(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>US(s))),y(e,["batchJobs"],a)}return e}function Sce(t){const e={},n=v(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&y(e,["fileData"],ace(a));const s=v(t,["functionCall"]);s!=null&&y(e,["functionCall"],oce(s));const u=v(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const c=v(t,["inlineData"]);c!=null&&y(e,["inlineData"],Hue(c));const f=v(t,["text"]);f!=null&&y(e,["text"],f);const h=v(t,["thought"]);h!=null&&y(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&y(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&y(e,["videoMetadata"],g),e}function Ece(t){const e={},n=v(t,["category"]);if(n!=null&&y(e,["category"],n),v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(t,["threshold"]);return r!=null&&y(e,["threshold"],r),e}function Tce(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],sce(n));const r=v(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function Ace(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),y(e,["functionDeclarations"],h)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const a=v(t,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const s=v(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],dce(u));const c=v(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],hce(c));const f=v(t,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Hi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Hi||(Hi={}));class Lo{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cce extends Ki{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Lo(Hi.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=YL(this.apiClient,e),r=n._url,i=pe("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,c=u.requests,f=[];for(const h of c){const p=Object.assign({},h);if(p.systemInstruction){const g=p.systemInstruction;delete p.systemInstruction;const b=p.request;b.systemInstruction=g,p.request=b}f.push(p)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),s=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Yue(this.apiClient,e);return u=pe("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>US(h))}else{const f=YL(this.apiClient,e);return u=pe("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>Ch(h))}}async createEmbeddingsInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Xue(this.apiClient,e);return a=pe("{model}:asyncBatchEmbedContent",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>Ch(c))}}async get(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=fce(this.apiClient,e);return u=pe("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>US(h))}else{const f=cce(this.apiClient,e);return u=pe("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>Ch(h))}}async cancel(e){var n,r,i,a;let s="",u={};if(this.apiClient.isVertexAI()){const c=Vue(this.apiClient,e);s=pe("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=zue(this.apiClient,e);s=pe("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=_ce(e);return u=pe("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=wce(h),g=new GL;return Object.assign(g,p),g})}else{const f=bce(e);return u=pe("batches",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=xce(h),g=new GL;return Object.assign(g,p),g})}}async delete(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Zue(this.apiClient,e);return u=pe("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>tce(h))}else{const f=Que(this.apiClient,e);return u=pe("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>ece(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oce(t){const e={},n=v(t,["data"]);if(n!=null&&y(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function JL(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Xce(a))),y(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&y(e,["role"],r),e}function Rce(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&y(e,["expireTime"],i);const a=v(t,["displayName"]);e!==void 0&&a!=null&&y(e,["displayName"],a);const s=v(t,["contents"]);if(e!==void 0&&s!=null){let h=yr(s);Array.isArray(h)&&(h=h.map(p=>JL(p))),y(e,["contents"],h)}const u=v(t,["systemInstruction"]);e!==void 0&&u!=null&&y(e,["systemInstruction"],JL(gn(u)));const c=v(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>Zce(p))),y(e,["tools"],h)}const f=v(t,["toolConfig"]);if(e!==void 0&&f!=null&&y(e,["toolConfig"],Qce(f)),v(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Pce(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&y(e,["expireTime"],i);const a=v(t,["displayName"]);e!==void 0&&a!=null&&y(e,["displayName"],a);const s=v(t,["contents"]);if(e!==void 0&&s!=null){let p=yr(s);Array.isArray(p)&&(p=p.map(g=>g)),y(e,["contents"],p)}const u=v(t,["systemInstruction"]);e!==void 0&&u!=null&&y(e,["systemInstruction"],gn(u));const c=v(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>efe(g))),y(e,["tools"],p)}const f=v(t,["toolConfig"]);e!==void 0&&f!=null&&y(e,["toolConfig"],f);const h=v(t,["kmsKeyName"]);return e!==void 0&&h!=null&&y(e,["encryption_spec","kmsKeyName"],h),n}function Nce(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["model"],Q4(t,r));const i=v(e,["config"]);return i!=null&&Rce(i,n),n}function Mce(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["model"],Q4(t,r));const i=v(e,["config"]);return i!=null&&Pce(i,n),n}function Ice(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],Wi(t,r)),n}function kce(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],Wi(t,r)),n}function Dce(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function Lce(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function jce(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Uce(t){const e={},n=v(t,["id"]);n!=null&&y(e,["id"],n);const r=v(t,["args"]);r!=null&&y(e,["args"],r);const i=v(t,["name"]);if(i!=null&&y(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function $ce(t){const e={},n=v(t,["mode"]);n!=null&&y(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function qce(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&y(e,["description"],n);const r=v(t,["name"]);r!=null&&y(e,["name"],r);const i=v(t,["parameters"]);i!=null&&y(e,["parameters"],i);const a=v(t,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const s=v(t,["response"]);s!=null&&y(e,["response"],s);const u=v(t,["responseJsonSchema"]);return u!=null&&y(e,["responseJsonSchema"],u),e}function Bce(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],Wi(t,r)),n}function Hce(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],Wi(t,r)),n}function zce(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function Vce(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function Gce(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function Fce(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function Kce(t){const e={},n=v(t,["config"]);return n!=null&&Gce(n,e),e}function Wce(t){const e={},n=v(t,["config"]);return n!=null&&Fce(n,e),e}function Yce(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=v(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["cachedContents"],a)}return e}function Jce(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=v(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["cachedContents"],a)}return e}function Xce(t){const e={},n=v(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&y(e,["fileData"],jce(a));const s=v(t,["functionCall"]);s!=null&&y(e,["functionCall"],Uce(s));const u=v(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const c=v(t,["inlineData"]);c!=null&&y(e,["inlineData"],Oce(c));const f=v(t,["text"]);f!=null&&y(e,["text"],f);const h=v(t,["thought"]);h!=null&&y(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&y(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&y(e,["videoMetadata"],g),e}function Qce(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],$ce(n));const r=v(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function Zce(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),y(e,["functionDeclarations"],h)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const a=v(t,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const s=v(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],zce(u));const c=v(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],Vce(c));const f=v(t,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}function efe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>qce(g))),y(e,["functionDeclarations"],p)}const r=v(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=v(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const a=v(t,["computerUse"]);if(a!=null&&y(e,["computerUse"],a),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=v(t,["codeExecution"]);s!=null&&y(e,["codeExecution"],s);const u=v(t,["enterpriseWebSearch"]);u!=null&&y(e,["enterpriseWebSearch"],u);const c=v(t,["googleMaps"]);c!=null&&y(e,["googleMaps"],c);const f=v(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],f);const h=v(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function tfe(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&y(e,["expireTime"],i),n}function nfe(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&y(e,["expireTime"],i),n}function rfe(t,e){const n={},r=v(e,["name"]);r!=null&&y(n,["_url","name"],Wi(t,r));const i=v(e,["config"]);return i!=null&&tfe(i,n),n}function ife(t,e){const n={},r=v(e,["name"]);r!=null&&y(n,["_url","name"],Wi(t,r));const i=v(e,["config"]);return i!=null&&nfe(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class afe extends Ki{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Lo(Hi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Mce(this.apiClient,e);return u=pe("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=Nce(this.apiClient,e);return u=pe("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Hce(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=Bce(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=kce(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Lce(h),g=new zL;return Object.assign(g,p),g})}else{const f=Ice(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Dce(h),g=new zL;return Object.assign(g,p),g})}}async update(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=ife(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=rfe(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Wce(e);return u=pe("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Jce(h),g=new VL;return Object.assign(g,p),g})}else{const f=Kce(e);return u=pe("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Yce(h),g=new VL;return Object.assign(g,p),g})}}}function Hp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function XL(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Re(t){return this instanceof Re?(this.v=t,this):new Re(t)}function $r(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(b){return function(S){return Promise.resolve(S).then(b,p)}}function u(b,S){r[b]&&(i[b]=function(E){return new Promise(function(x,A){a.push([b,E,x,A])>1||c(b,E)})},S&&(i[b]=S(i[b])))}function c(b,S){try{f(r[b](S))}catch(E){g(a[0][3],E)}}function f(b){b.value instanceof Re?Promise.resolve(b.value.v).then(h,p):g(a[0][2],b)}function h(b){c("next",b)}function p(b){c("throw",b)}function g(b,S){b(S),a.shift(),a.length&&c(a[0][0],a[0][1])}}function qr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof XL=="function"?XL(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(s){return new Promise(function(u,c){s=t[a](s),i(u,c,s.done,s.value)})}}function i(a,s,u,c){Promise.resolve(c).then(function(f){a({value:f,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ofe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:f3(n)}function f3(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function sfe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function QL(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!f3(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class lfe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new ufe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class ufe{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),sfe(a)}async sendMessage(e){var n;await this.sendPromise;const r=gn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,s,u;const c=await i,f=(s=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,h=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let g=[];h!=null&&(g=(u=h.slice(p))!==null&&u!==void 0?u:[]);const b=f?[f]:[];this.recordHistory(r,b,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=gn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?QL(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return $r(this,arguments,function*(){var i,a,s,u,c,f;const h=[];try{for(var p=!0,g=qr(e),b;b=yield Re(g.next()),i=b.done,!i;p=!0){u=b.value,p=!1;const S=u;if(ofe(S)){const E=(f=(c=S.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content;E!==void 0&&h.push(E)}yield yield Re(S)}}catch(S){a={error:S}}finally{try{!p&&!i&&(s=g.return)&&(yield Re(s.call(g)))}finally{if(a)throw a.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...QL(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Im extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Im.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cfe(t){const e={},n=v(t,["file"]);return n!=null&&y(e,["file"],n),e}function ffe(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function dfe(t){const e={},n=v(t,["name"]);return n!=null&&y(e,["_url","file"],i3(n)),e}function hfe(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function pfe(t){const e={},n=v(t,["name"]);return n!=null&&y(e,["_url","file"],i3(n)),e}function mfe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function gfe(t){const e={},n=v(t,["config"]);return n!=null&&mfe(n,e),e}function vfe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=v(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yfe extends Ki{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Lo(Hi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=gfe(e);return a=pe("files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=vfe(c),h=new wue;return Object.assign(h,f),h})}}async createInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=cfe(e);return a=pe("upload/v1beta/files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=ffe(c),h=new Sue;return Object.assign(h,f),h})}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=pfe(e);return a=pe("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=dfe(e);return a=pe("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=hfe(c),h=new Eue;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oh(t){const e={},n=v(t,["data"]);if(n!=null&&y(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function bfe(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Dfe(a))),y(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&y(e,["role"],r),e}function _fe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function xfe(t){const e={},n=v(t,["id"]);n!=null&&y(e,["id"],n);const r=v(t,["args"]);r!=null&&y(e,["args"],r);const i=v(t,["name"]);if(i!=null&&y(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wfe(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&y(e,["description"],n);const r=v(t,["name"]);r!=null&&y(e,["name"],r);const i=v(t,["parameters"]);i!=null&&y(e,["parameters"],i);const a=v(t,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const s=v(t,["response"]);s!=null&&y(e,["response"],s);const u=v(t,["responseJsonSchema"]);return u!=null&&y(e,["responseJsonSchema"],u),e}function Sfe(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const r=v(t,["responseJsonSchema"]);r!=null&&y(e,["responseJsonSchema"],r);const i=v(t,["audioTimestamp"]);i!=null&&y(e,["audioTimestamp"],i);const a=v(t,["candidateCount"]);a!=null&&y(e,["candidateCount"],a);const s=v(t,["enableAffectiveDialog"]);s!=null&&y(e,["enableAffectiveDialog"],s);const u=v(t,["frequencyPenalty"]);u!=null&&y(e,["frequencyPenalty"],u);const c=v(t,["logprobs"]);c!=null&&y(e,["logprobs"],c);const f=v(t,["maxOutputTokens"]);f!=null&&y(e,["maxOutputTokens"],f);const h=v(t,["mediaResolution"]);h!=null&&y(e,["mediaResolution"],h);const p=v(t,["presencePenalty"]);p!=null&&y(e,["presencePenalty"],p);const g=v(t,["responseLogprobs"]);g!=null&&y(e,["responseLogprobs"],g);const b=v(t,["responseMimeType"]);b!=null&&y(e,["responseMimeType"],b);const S=v(t,["responseModalities"]);S!=null&&y(e,["responseModalities"],S);const E=v(t,["responseSchema"]);E!=null&&y(e,["responseSchema"],E);const x=v(t,["routingConfig"]);x!=null&&y(e,["routingConfig"],x);const A=v(t,["seed"]);A!=null&&y(e,["seed"],A);const O=v(t,["speechConfig"]);O!=null&&y(e,["speechConfig"],O);const C=v(t,["stopSequences"]);C!=null&&y(e,["stopSequences"],C);const P=v(t,["temperature"]);P!=null&&y(e,["temperature"],P);const R=v(t,["thinkingConfig"]);R!=null&&y(e,["thinkingConfig"],R);const N=v(t,["topK"]);N!=null&&y(e,["topK"],N);const I=v(t,["topP"]);if(I!=null&&y(e,["topP"],I),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Efe(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function Tfe(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function Afe(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const a=v(t,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const s=v(t,["topP"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","topP"],s);const u=v(t,["topK"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topK"],u);const c=v(t,["maxOutputTokens"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","maxOutputTokens"],c);const f=v(t,["mediaResolution"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","mediaResolution"],f);const h=v(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const p=v(t,["speechConfig"]);e!==void 0&&p!=null&&y(e,["setup","generationConfig","speechConfig"],ET(p));const g=v(t,["thinkingConfig"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","thinkingConfig"],g);const b=v(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],b);const S=v(t,["systemInstruction"]);e!==void 0&&S!=null&&y(e,["setup","systemInstruction"],bfe(gn(S)));const E=v(t,["tools"]);if(e!==void 0&&E!=null){let N=ql(E);Array.isArray(N)&&(N=N.map(I=>jfe($l(I)))),y(e,["setup","tools"],N)}const x=v(t,["sessionResumption"]);e!==void 0&&x!=null&&y(e,["setup","sessionResumption"],Lfe(x));const A=v(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&y(e,["setup","inputAudioTranscription"],A);const O=v(t,["outputAudioTranscription"]);e!==void 0&&O!=null&&y(e,["setup","outputAudioTranscription"],O);const C=v(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&y(e,["setup","realtimeInputConfig"],C);const P=v(t,["contextWindowCompression"]);e!==void 0&&P!=null&&y(e,["setup","contextWindowCompression"],P);const R=v(t,["proactivity"]);if(e!==void 0&&R!=null&&y(e,["setup","proactivity"],R),v(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Cfe(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],Sfe(r));const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const a=v(t,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const s=v(t,["topP"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","topP"],s);const u=v(t,["topK"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topK"],u);const c=v(t,["maxOutputTokens"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","maxOutputTokens"],c);const f=v(t,["mediaResolution"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","mediaResolution"],f);const h=v(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const p=v(t,["speechConfig"]);e!==void 0&&p!=null&&y(e,["setup","generationConfig","speechConfig"],ET(p));const g=v(t,["thinkingConfig"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","thinkingConfig"],g);const b=v(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],b);const S=v(t,["systemInstruction"]);e!==void 0&&S!=null&&y(e,["setup","systemInstruction"],gn(S));const E=v(t,["tools"]);if(e!==void 0&&E!=null){let I=ql(E);Array.isArray(I)&&(I=I.map(D=>Ufe($l(D)))),y(e,["setup","tools"],I)}const x=v(t,["sessionResumption"]);e!==void 0&&x!=null&&y(e,["setup","sessionResumption"],x);const A=v(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&y(e,["setup","inputAudioTranscription"],A);const O=v(t,["outputAudioTranscription"]);e!==void 0&&O!=null&&y(e,["setup","outputAudioTranscription"],O);const C=v(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&y(e,["setup","realtimeInputConfig"],C);const P=v(t,["contextWindowCompression"]);e!==void 0&&P!=null&&y(e,["setup","contextWindowCompression"],P);const R=v(t,["proactivity"]);e!==void 0&&R!=null&&y(e,["setup","proactivity"],R);const N=v(t,["explicitVadSignal"]);return e!==void 0&&N!=null&&y(e,["setup","explicitVadSignal"],N),n}function Ofe(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["setup","model"],Ye(t,r));const i=v(e,["config"]);return i!=null&&y(n,["config"],Afe(i,n)),n}function Rfe(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["setup","model"],Ye(t,r));const i=v(e,["config"]);return i!=null&&y(n,["config"],Cfe(i,n)),n}function Pfe(t){const e={},n=v(t,["musicGenerationConfig"]);return n!=null&&y(e,["musicGenerationConfig"],n),e}function Nfe(t){const e={},n=v(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["weightedPrompts"],r)}return e}function Mfe(t){const e={},n=v(t,["media"]);if(n!=null){let f=Z4(n);Array.isArray(f)&&(f=f.map(h=>Oh(h))),y(e,["mediaChunks"],f)}const r=v(t,["audio"]);r!=null&&y(e,["audio"],Oh(t3(r)));const i=v(t,["audioStreamEnd"]);i!=null&&y(e,["audioStreamEnd"],i);const a=v(t,["video"]);a!=null&&y(e,["video"],Oh(e3(a)));const s=v(t,["text"]);s!=null&&y(e,["text"],s);const u=v(t,["activityStart"]);u!=null&&y(e,["activityStart"],u);const c=v(t,["activityEnd"]);return c!=null&&y(e,["activityEnd"],c),e}function Ife(t){const e={},n=v(t,["media"]);if(n!=null){let f=Z4(n);Array.isArray(f)&&(f=f.map(h=>h)),y(e,["mediaChunks"],f)}const r=v(t,["audio"]);r!=null&&y(e,["audio"],t3(r));const i=v(t,["audioStreamEnd"]);i!=null&&y(e,["audioStreamEnd"],i);const a=v(t,["video"]);a!=null&&y(e,["video"],e3(a));const s=v(t,["text"]);s!=null&&y(e,["text"],s);const u=v(t,["activityStart"]);u!=null&&y(e,["activityStart"],u);const c=v(t,["activityEnd"]);return c!=null&&y(e,["activityEnd"],c),e}function kfe(t){const e={},n=v(t,["setupComplete"]);n!=null&&y(e,["setupComplete"],n);const r=v(t,["serverContent"]);r!=null&&y(e,["serverContent"],r);const i=v(t,["toolCall"]);i!=null&&y(e,["toolCall"],i);const a=v(t,["toolCallCancellation"]);a!=null&&y(e,["toolCallCancellation"],a);const s=v(t,["usageMetadata"]);s!=null&&y(e,["usageMetadata"],$fe(s));const u=v(t,["goAway"]);u!=null&&y(e,["goAway"],u);const c=v(t,["sessionResumptionUpdate"]);c!=null&&y(e,["sessionResumptionUpdate"],c);const f=v(t,["voiceActivityDetectionSignal"]);return f!=null&&y(e,["voiceActivityDetectionSignal"],f),e}function Dfe(t){const e={},n=v(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&y(e,["fileData"],_fe(a));const s=v(t,["functionCall"]);s!=null&&y(e,["functionCall"],xfe(s));const u=v(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const c=v(t,["inlineData"]);c!=null&&y(e,["inlineData"],Oh(c));const f=v(t,["text"]);f!=null&&y(e,["text"],f);const h=v(t,["thought"]);h!=null&&y(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&y(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&y(e,["videoMetadata"],g),e}function Lfe(t){const e={},n=v(t,["handle"]);if(n!=null&&y(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function jfe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),y(e,["functionDeclarations"],h)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const a=v(t,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const s=v(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],Efe(u));const c=v(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],Tfe(c));const f=v(t,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}function Ufe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>wfe(g))),y(e,["functionDeclarations"],p)}const r=v(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=v(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const a=v(t,["computerUse"]);if(a!=null&&y(e,["computerUse"],a),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=v(t,["codeExecution"]);s!=null&&y(e,["codeExecution"],s);const u=v(t,["enterpriseWebSearch"]);u!=null&&y(e,["enterpriseWebSearch"],u);const c=v(t,["googleMaps"]);c!=null&&y(e,["googleMaps"],c);const f=v(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],f);const h=v(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function $fe(t){const e={},n=v(t,["promptTokenCount"]);n!=null&&y(e,["promptTokenCount"],n);const r=v(t,["cachedContentTokenCount"]);r!=null&&y(e,["cachedContentTokenCount"],r);const i=v(t,["candidatesTokenCount"]);i!=null&&y(e,["responseTokenCount"],i);const a=v(t,["toolUsePromptTokenCount"]);a!=null&&y(e,["toolUsePromptTokenCount"],a);const s=v(t,["thoughtsTokenCount"]);s!=null&&y(e,["thoughtsTokenCount"],s);const u=v(t,["totalTokenCount"]);u!=null&&y(e,["totalTokenCount"],u);const c=v(t,["promptTokensDetails"]);if(c!=null){let b=c;Array.isArray(b)&&(b=b.map(S=>S)),y(e,["promptTokensDetails"],b)}const f=v(t,["cacheTokensDetails"]);if(f!=null){let b=f;Array.isArray(b)&&(b=b.map(S=>S)),y(e,["cacheTokensDetails"],b)}const h=v(t,["candidatesTokensDetails"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(S=>S)),y(e,["responseTokensDetails"],b)}const p=v(t,["toolUsePromptTokensDetails"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(S=>S)),y(e,["toolUsePromptTokensDetails"],b)}const g=v(t,["trafficType"]);return g!=null&&y(e,["trafficType"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qfe(t){const e={},n=v(t,["data"]);if(n!=null&&y(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Bfe(t){const e={},n=v(t,["content"]);n!=null&&y(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&y(e,["citationMetadata"],Hfe(r));const i=v(t,["tokenCount"]);i!=null&&y(e,["tokenCount"],i);const a=v(t,["finishReason"]);a!=null&&y(e,["finishReason"],a);const s=v(t,["avgLogprobs"]);s!=null&&y(e,["avgLogprobs"],s);const u=v(t,["groundingMetadata"]);u!=null&&y(e,["groundingMetadata"],u);const c=v(t,["index"]);c!=null&&y(e,["index"],c);const f=v(t,["logprobsResult"]);f!=null&&y(e,["logprobsResult"],f);const h=v(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(b=>b)),y(e,["safetyRatings"],g)}const p=v(t,["urlContextMetadata"]);return p!=null&&y(e,["urlContextMetadata"],p),e}function Hfe(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["citations"],r)}return e}function zfe(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["contents"]);if(i!=null){let a=yr(i);Array.isArray(a)&&(a=a.map(s=>s)),y(n,["contents"],a)}return n}function Vfe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(e,["tokensInfo"],i)}return e}function Gfe(t){const e={},n=v(t,["values"]);n!=null&&y(e,["values"],n);const r=v(t,["statistics"]);return r!=null&&y(e,["statistics"],Ffe(r)),e}function Ffe(t){const e={},n=v(t,["truncated"]);n!=null&&y(e,["truncated"],n);const r=v(t,["token_count"]);return r!=null&&y(e,["tokenCount"],r),e}function km(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>the(a))),y(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&y(e,["role"],r),e}function Kfe(t){const e={},n=v(t,["controlType"]);n!=null&&y(e,["controlType"],n);const r=v(t,["enableControlImageComputation"]);return r!=null&&y(e,["computeControl"],r),e}function Wfe(t){const e={};if(v(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(v(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(v(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Yfe(t,e){const n={},r=v(t,["systemInstruction"]);e!==void 0&&r!=null&&y(e,["systemInstruction"],gn(r));const i=v(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>m3(u))),y(e,["tools"],s)}const a=v(t,["generationConfig"]);return e!==void 0&&a!=null&&y(e,["generationConfig"],qde(a)),n}function Jfe(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["contents"]);if(i!=null){let s=yr(i);Array.isArray(s)&&(s=s.map(u=>km(u))),y(n,["contents"],s)}const a=v(e,["config"]);return a!=null&&Wfe(a),n}function Xfe(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["contents"]);if(i!=null){let s=yr(i);Array.isArray(s)&&(s=s.map(u=>u)),y(n,["contents"],s)}const a=v(e,["config"]);return a!=null&&Yfe(a,n),n}function Qfe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["totalTokens"]);r!=null&&y(e,["totalTokens"],r);const i=v(t,["cachedContentTokenCount"]);return i!=null&&y(e,["cachedContentTokenCount"],i),e}function Zfe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["totalTokens"]);return r!=null&&y(e,["totalTokens"],r),e}function ede(t,e){const n={},r=v(e,["model"]);return r!=null&&y(n,["_url","name"],Ye(t,r)),n}function tde(t,e){const n={},r=v(e,["model"]);return r!=null&&y(n,["_url","name"],Ye(t,r)),n}function nde(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function rde(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function ide(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=v(t,["negativePrompt"]);e!==void 0&&i!=null&&y(e,["parameters","negativePrompt"],i);const a=v(t,["numberOfImages"]);e!==void 0&&a!=null&&y(e,["parameters","sampleCount"],a);const s=v(t,["aspectRatio"]);e!==void 0&&s!=null&&y(e,["parameters","aspectRatio"],s);const u=v(t,["guidanceScale"]);e!==void 0&&u!=null&&y(e,["parameters","guidanceScale"],u);const c=v(t,["seed"]);e!==void 0&&c!=null&&y(e,["parameters","seed"],c);const f=v(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&y(e,["parameters","safetySetting"],f);const h=v(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const p=v(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&y(e,["parameters","includeSafetyAttributes"],p);const g=v(t,["includeRaiReason"]);e!==void 0&&g!=null&&y(e,["parameters","includeRaiReason"],g);const b=v(t,["language"]);e!==void 0&&b!=null&&y(e,["parameters","language"],b);const S=v(t,["outputMimeType"]);e!==void 0&&S!=null&&y(e,["parameters","outputOptions","mimeType"],S);const E=v(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&y(e,["parameters","outputOptions","compressionQuality"],E);const x=v(t,["addWatermark"]);e!==void 0&&x!=null&&y(e,["parameters","addWatermark"],x);const A=v(t,["labels"]);e!==void 0&&A!=null&&y(e,["labels"],A);const O=v(t,["editMode"]);e!==void 0&&O!=null&&y(e,["parameters","editMode"],O);const C=v(t,["baseSteps"]);return e!==void 0&&C!=null&&y(e,["parameters","editConfig","baseSteps"],C),n}function ade(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=v(e,["referenceImages"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>she(c))),y(n,["instances[0]","referenceImages"],u)}const s=v(e,["config"]);return s!=null&&ide(s,n),n}function ode(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Dm(a))),y(e,["generatedImages"],i)}return e}function sde(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&y(e,["requests[]","taskType"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&y(e,["requests[]","title"],i);const a=v(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&y(e,["requests[]","outputDimensionality"],a),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function lde(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&y(e,["instances[]","task_type"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&y(e,["instances[]","title"],i);const a=v(t,["outputDimensionality"]);e!==void 0&&a!=null&&y(e,["parameters","outputDimensionality"],a);const s=v(t,["mimeType"]);e!==void 0&&s!=null&&y(e,["instances[]","mimeType"],s);const u=v(t,["autoTruncate"]);return e!==void 0&&u!=null&&y(e,["parameters","autoTruncate"],u),n}function ude(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["contents"]);if(i!=null){let u=xT(t,i);Array.isArray(u)&&(u=u.map(c=>c)),y(n,["requests[]","content"],u)}const a=v(e,["config"]);a!=null&&sde(a,n);const s=v(e,["model"]);return s!==void 0&&y(n,["requests[]","model"],Ye(t,s)),n}function cde(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["contents"]);if(i!=null){let s=xT(t,i);Array.isArray(s)&&(s=s.map(u=>u)),y(n,["instances[]","content"],s)}const a=v(e,["config"]);return a!=null&&lde(a,n),n}function fde(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["embeddings"],a)}const i=v(t,["metadata"]);return i!=null&&y(e,["metadata"],i),e}function dde(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Gfe(s))),y(e,["embeddings"],a)}const i=v(t,["metadata"]);return i!=null&&y(e,["metadata"],i),e}function hde(t){const e={},n=v(t,["endpoint"]);n!=null&&y(e,["name"],n);const r=v(t,["deployedModelId"]);return r!=null&&y(e,["deployedModelId"],r),e}function pde(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function mde(t){const e={},n=v(t,["id"]);n!=null&&y(e,["id"],n);const r=v(t,["args"]);r!=null&&y(e,["args"],r);const i=v(t,["name"]);if(i!=null&&y(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function gde(t){const e={},n=v(t,["mode"]);n!=null&&y(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function vde(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&y(e,["description"],n);const r=v(t,["name"]);r!=null&&y(e,["name"],r);const i=v(t,["parameters"]);i!=null&&y(e,["parameters"],i);const a=v(t,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const s=v(t,["response"]);s!=null&&y(e,["response"],s);const u=v(t,["responseJsonSchema"]);return u!=null&&y(e,["responseJsonSchema"],u),e}function yde(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],km(gn(i)));const a=v(e,["temperature"]);a!=null&&y(r,["temperature"],a);const s=v(e,["topP"]);s!=null&&y(r,["topP"],s);const u=v(e,["topK"]);u!=null&&y(r,["topK"],u);const c=v(e,["candidateCount"]);c!=null&&y(r,["candidateCount"],c);const f=v(e,["maxOutputTokens"]);f!=null&&y(r,["maxOutputTokens"],f);const h=v(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const p=v(e,["responseLogprobs"]);p!=null&&y(r,["responseLogprobs"],p);const g=v(e,["logprobs"]);g!=null&&y(r,["logprobs"],g);const b=v(e,["presencePenalty"]);b!=null&&y(r,["presencePenalty"],b);const S=v(e,["frequencyPenalty"]);S!=null&&y(r,["frequencyPenalty"],S);const E=v(e,["seed"]);E!=null&&y(r,["seed"],E);const x=v(e,["responseMimeType"]);x!=null&&y(r,["responseMimeType"],x);const A=v(e,["responseSchema"]);A!=null&&y(r,["responseSchema"],wT(A));const O=v(e,["responseJsonSchema"]);if(O!=null&&y(r,["responseJsonSchema"],O),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const C=v(e,["safetySettings"]);if(n!==void 0&&C!=null){let H=C;Array.isArray(H)&&(H=H.map(W=>lhe(W))),y(n,["safetySettings"],H)}const P=v(e,["tools"]);if(n!==void 0&&P!=null){let H=ql(P);Array.isArray(H)&&(H=H.map(W=>mhe($l(W)))),y(n,["tools"],H)}const R=v(e,["toolConfig"]);if(n!==void 0&&R!=null&&y(n,["toolConfig"],phe(R)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=v(e,["cachedContent"]);n!==void 0&&N!=null&&y(n,["cachedContent"],Wi(t,N));const I=v(e,["responseModalities"]);I!=null&&y(r,["responseModalities"],I);const D=v(e,["mediaResolution"]);D!=null&&y(r,["mediaResolution"],D);const L=v(e,["speechConfig"]);if(L!=null&&y(r,["speechConfig"],ST(L)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=v(e,["thinkingConfig"]);V!=null&&y(r,["thinkingConfig"],V);const $=v(e,["imageConfig"]);$!=null&&y(r,["imageConfig"],Gde($));const Y=v(e,["enableEnhancedCivicAnswers"]);return Y!=null&&y(r,["enableEnhancedCivicAnswers"],Y),r}function bde(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],gn(i));const a=v(e,["temperature"]);a!=null&&y(r,["temperature"],a);const s=v(e,["topP"]);s!=null&&y(r,["topP"],s);const u=v(e,["topK"]);u!=null&&y(r,["topK"],u);const c=v(e,["candidateCount"]);c!=null&&y(r,["candidateCount"],c);const f=v(e,["maxOutputTokens"]);f!=null&&y(r,["maxOutputTokens"],f);const h=v(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const p=v(e,["responseLogprobs"]);p!=null&&y(r,["responseLogprobs"],p);const g=v(e,["logprobs"]);g!=null&&y(r,["logprobs"],g);const b=v(e,["presencePenalty"]);b!=null&&y(r,["presencePenalty"],b);const S=v(e,["frequencyPenalty"]);S!=null&&y(r,["frequencyPenalty"],S);const E=v(e,["seed"]);E!=null&&y(r,["seed"],E);const x=v(e,["responseMimeType"]);x!=null&&y(r,["responseMimeType"],x);const A=v(e,["responseSchema"]);A!=null&&y(r,["responseSchema"],wT(A));const O=v(e,["responseJsonSchema"]);O!=null&&y(r,["responseJsonSchema"],O);const C=v(e,["routingConfig"]);C!=null&&y(r,["routingConfig"],C);const P=v(e,["modelSelectionConfig"]);P!=null&&y(r,["modelConfig"],P);const R=v(e,["safetySettings"]);if(n!==void 0&&R!=null){let j=R;Array.isArray(j)&&(j=j.map(K=>K)),y(n,["safetySettings"],j)}const N=v(e,["tools"]);if(n!==void 0&&N!=null){let j=ql(N);Array.isArray(j)&&(j=j.map(K=>m3($l(K)))),y(n,["tools"],j)}const I=v(e,["toolConfig"]);n!==void 0&&I!=null&&y(n,["toolConfig"],I);const D=v(e,["labels"]);n!==void 0&&D!=null&&y(n,["labels"],D);const L=v(e,["cachedContent"]);n!==void 0&&L!=null&&y(n,["cachedContent"],Wi(t,L));const V=v(e,["responseModalities"]);V!=null&&y(r,["responseModalities"],V);const $=v(e,["mediaResolution"]);$!=null&&y(r,["mediaResolution"],$);const Y=v(e,["speechConfig"]);Y!=null&&y(r,["speechConfig"],ST(Y));const H=v(e,["audioTimestamp"]);H!=null&&y(r,["audioTimestamp"],H);const W=v(e,["thinkingConfig"]);W!=null&&y(r,["thinkingConfig"],W);const B=v(e,["imageConfig"]);if(B!=null&&y(r,["imageConfig"],Fde(B)),v(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function ZL(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["contents"]);if(i!=null){let s=yr(i);Array.isArray(s)&&(s=s.map(u=>km(u))),y(n,["contents"],s)}const a=v(e,["config"]);return a!=null&&y(n,["generationConfig"],yde(t,a,n)),n}function ej(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["contents"]);if(i!=null){let s=yr(i);Array.isArray(s)&&(s=s.map(u=>u)),y(n,["contents"],s)}const a=v(e,["config"]);return a!=null&&y(n,["generationConfig"],bde(t,a,n)),n}function tj(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>Bfe(f))),y(e,["candidates"],c)}const i=v(t,["modelVersion"]);i!=null&&y(e,["modelVersion"],i);const a=v(t,["promptFeedback"]);a!=null&&y(e,["promptFeedback"],a);const s=v(t,["responseId"]);s!=null&&y(e,["responseId"],s);const u=v(t,["usageMetadata"]);return u!=null&&y(e,["usageMetadata"],u),e}function nj(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),y(e,["candidates"],f)}const i=v(t,["createTime"]);i!=null&&y(e,["createTime"],i);const a=v(t,["modelVersion"]);a!=null&&y(e,["modelVersion"],a);const s=v(t,["promptFeedback"]);s!=null&&y(e,["promptFeedback"],s);const u=v(t,["responseId"]);u!=null&&y(e,["responseId"],u);const c=v(t,["usageMetadata"]);return c!=null&&y(e,["usageMetadata"],c),e}function _de(t,e){const n={};if(v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=v(t,["aspectRatio"]);e!==void 0&&i!=null&&y(e,["parameters","aspectRatio"],i);const a=v(t,["guidanceScale"]);if(e!==void 0&&a!=null&&y(e,["parameters","guidanceScale"],a),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=v(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&y(e,["parameters","safetySetting"],s);const u=v(t,["personGeneration"]);e!==void 0&&u!=null&&y(e,["parameters","personGeneration"],u);const c=v(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&y(e,["parameters","includeSafetyAttributes"],c);const f=v(t,["includeRaiReason"]);e!==void 0&&f!=null&&y(e,["parameters","includeRaiReason"],f);const h=v(t,["language"]);e!==void 0&&h!=null&&y(e,["parameters","language"],h);const p=v(t,["outputMimeType"]);e!==void 0&&p!=null&&y(e,["parameters","outputOptions","mimeType"],p);const g=v(t,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&y(e,["parameters","outputOptions","compressionQuality"],g),v(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=v(t,["imageSize"]);if(e!==void 0&&b!=null&&y(e,["parameters","sampleImageSize"],b),v(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function xde(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=v(t,["negativePrompt"]);e!==void 0&&i!=null&&y(e,["parameters","negativePrompt"],i);const a=v(t,["numberOfImages"]);e!==void 0&&a!=null&&y(e,["parameters","sampleCount"],a);const s=v(t,["aspectRatio"]);e!==void 0&&s!=null&&y(e,["parameters","aspectRatio"],s);const u=v(t,["guidanceScale"]);e!==void 0&&u!=null&&y(e,["parameters","guidanceScale"],u);const c=v(t,["seed"]);e!==void 0&&c!=null&&y(e,["parameters","seed"],c);const f=v(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&y(e,["parameters","safetySetting"],f);const h=v(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const p=v(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&y(e,["parameters","includeSafetyAttributes"],p);const g=v(t,["includeRaiReason"]);e!==void 0&&g!=null&&y(e,["parameters","includeRaiReason"],g);const b=v(t,["language"]);e!==void 0&&b!=null&&y(e,["parameters","language"],b);const S=v(t,["outputMimeType"]);e!==void 0&&S!=null&&y(e,["parameters","outputOptions","mimeType"],S);const E=v(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&y(e,["parameters","outputOptions","compressionQuality"],E);const x=v(t,["addWatermark"]);e!==void 0&&x!=null&&y(e,["parameters","addWatermark"],x);const A=v(t,["labels"]);e!==void 0&&A!=null&&y(e,["labels"],A);const O=v(t,["imageSize"]);e!==void 0&&O!=null&&y(e,["parameters","sampleImageSize"],O);const C=v(t,["enhancePrompt"]);return e!==void 0&&C!=null&&y(e,["parameters","enhancePrompt"],C),n}function wde(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=v(e,["config"]);return a!=null&&_de(a,n),n}function Sde(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=v(e,["config"]);return a!=null&&xde(a,n),n}function Ede(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Lde(s))),y(e,["generatedImages"],a)}const i=v(t,["positivePromptSafetyAttributes"]);return i!=null&&y(e,["positivePromptSafetyAttributes"],h3(i)),e}function Tde(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Dm(s))),y(e,["generatedImages"],a)}const i=v(t,["positivePromptSafetyAttributes"]);return i!=null&&y(e,["positivePromptSafetyAttributes"],p3(i)),e}function Ade(t,e){const n={},r=v(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r),v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=v(t,["durationSeconds"]);if(e!==void 0&&i!=null&&y(e,["parameters","durationSeconds"],i),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=v(t,["aspectRatio"]);e!==void 0&&a!=null&&y(e,["parameters","aspectRatio"],a);const s=v(t,["resolution"]);e!==void 0&&s!=null&&y(e,["parameters","resolution"],s);const u=v(t,["personGeneration"]);if(e!==void 0&&u!=null&&y(e,["parameters","personGeneration"],u),v(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=v(t,["negativePrompt"]);e!==void 0&&c!=null&&y(e,["parameters","negativePrompt"],c);const f=v(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&y(e,["parameters","enhancePrompt"],f),v(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=v(t,["lastFrame"]);e!==void 0&&h!=null&&y(e,["instances[0]","lastFrame"],Lm(h));const p=v(t,["referenceImages"]);if(e!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(b=>Ohe(b))),y(e,["instances[0]","referenceImages"],g)}if(v(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(v(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Cde(t,e){const n={},r=v(t,["numberOfVideos"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=v(t,["outputGcsUri"]);e!==void 0&&i!=null&&y(e,["parameters","storageUri"],i);const a=v(t,["fps"]);e!==void 0&&a!=null&&y(e,["parameters","fps"],a);const s=v(t,["durationSeconds"]);e!==void 0&&s!=null&&y(e,["parameters","durationSeconds"],s);const u=v(t,["seed"]);e!==void 0&&u!=null&&y(e,["parameters","seed"],u);const c=v(t,["aspectRatio"]);e!==void 0&&c!=null&&y(e,["parameters","aspectRatio"],c);const f=v(t,["resolution"]);e!==void 0&&f!=null&&y(e,["parameters","resolution"],f);const h=v(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const p=v(t,["pubsubTopic"]);e!==void 0&&p!=null&&y(e,["parameters","pubsubTopic"],p);const g=v(t,["negativePrompt"]);e!==void 0&&g!=null&&y(e,["parameters","negativePrompt"],g);const b=v(t,["enhancePrompt"]);e!==void 0&&b!=null&&y(e,["parameters","enhancePrompt"],b);const S=v(t,["generateAudio"]);e!==void 0&&S!=null&&y(e,["parameters","generateAudio"],S);const E=v(t,["lastFrame"]);e!==void 0&&E!=null&&y(e,["instances[0]","lastFrame"],Hr(E));const x=v(t,["referenceImages"]);if(e!==void 0&&x!=null){let C=x;Array.isArray(C)&&(C=C.map(P=>Rhe(P))),y(e,["instances[0]","referenceImages"],C)}const A=v(t,["mask"]);e!==void 0&&A!=null&&y(e,["instances[0]","mask"],Che(A));const O=v(t,["compressionQuality"]);return e!==void 0&&O!=null&&y(e,["parameters","compressionQuality"],O),n}function Ode(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=v(t,["done"]);i!=null&&y(e,["done"],i);const a=v(t,["error"]);a!=null&&y(e,["error"],a);const s=v(t,["response","generateVideoResponse"]);return s!=null&&y(e,["response"],Mde(s)),e}function Rde(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=v(t,["done"]);i!=null&&y(e,["done"],i);const a=v(t,["error"]);a!=null&&y(e,["error"],a);const s=v(t,["response"]);return s!=null&&y(e,["response"],Ide(s)),e}function Pde(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=v(e,["image"]);a!=null&&y(n,["instances[0]","image"],Lm(a));const s=v(e,["video"]);s!=null&&y(n,["instances[0]","video"],g3(s));const u=v(e,["source"]);u!=null&&kde(u,n);const c=v(e,["config"]);return c!=null&&Ade(c,n),n}function Nde(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=v(e,["image"]);a!=null&&y(n,["instances[0]","image"],Hr(a));const s=v(e,["video"]);s!=null&&y(n,["instances[0]","video"],v3(s));const u=v(e,["source"]);u!=null&&Dde(u,n);const c=v(e,["config"]);return c!=null&&Cde(c,n),n}function Mde(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Ude(s))),y(e,["generatedVideos"],a)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function Ide(t){const e={},n=v(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>$de(s))),y(e,["generatedVideos"],a)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function kde(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],Lm(i));const a=v(t,["video"]);return e!==void 0&&a!=null&&y(e,["instances[0]","video"],g3(a)),n}function Dde(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],Hr(i));const a=v(t,["video"]);return e!==void 0&&a!=null&&y(e,["instances[0]","video"],v3(a)),n}function Lde(t){const e={},n=v(t,["_self"]);n!=null&&y(e,["image"],Kde(n));const r=v(t,["raiFilteredReason"]);r!=null&&y(e,["raiFilteredReason"],r);const i=v(t,["_self"]);return i!=null&&y(e,["safetyAttributes"],h3(i)),e}function Dm(t){const e={},n=v(t,["_self"]);n!=null&&y(e,["image"],d3(n));const r=v(t,["raiFilteredReason"]);r!=null&&y(e,["raiFilteredReason"],r);const i=v(t,["_self"]);i!=null&&y(e,["safetyAttributes"],p3(i));const a=v(t,["prompt"]);return a!=null&&y(e,["enhancedPrompt"],a),e}function jde(t){const e={},n=v(t,["_self"]);n!=null&&y(e,["mask"],d3(n));const r=v(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(e,["labels"],i)}return e}function Ude(t){const e={},n=v(t,["video"]);return n!=null&&y(e,["video"],The(n)),e}function $de(t){const e={},n=v(t,["_self"]);return n!=null&&y(e,["video"],Ahe(n)),e}function qde(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const r=v(t,["responseJsonSchema"]);r!=null&&y(e,["responseJsonSchema"],r);const i=v(t,["audioTimestamp"]);i!=null&&y(e,["audioTimestamp"],i);const a=v(t,["candidateCount"]);a!=null&&y(e,["candidateCount"],a);const s=v(t,["enableAffectiveDialog"]);s!=null&&y(e,["enableAffectiveDialog"],s);const u=v(t,["frequencyPenalty"]);u!=null&&y(e,["frequencyPenalty"],u);const c=v(t,["logprobs"]);c!=null&&y(e,["logprobs"],c);const f=v(t,["maxOutputTokens"]);f!=null&&y(e,["maxOutputTokens"],f);const h=v(t,["mediaResolution"]);h!=null&&y(e,["mediaResolution"],h);const p=v(t,["presencePenalty"]);p!=null&&y(e,["presencePenalty"],p);const g=v(t,["responseLogprobs"]);g!=null&&y(e,["responseLogprobs"],g);const b=v(t,["responseMimeType"]);b!=null&&y(e,["responseMimeType"],b);const S=v(t,["responseModalities"]);S!=null&&y(e,["responseModalities"],S);const E=v(t,["responseSchema"]);E!=null&&y(e,["responseSchema"],E);const x=v(t,["routingConfig"]);x!=null&&y(e,["routingConfig"],x);const A=v(t,["seed"]);A!=null&&y(e,["seed"],A);const O=v(t,["speechConfig"]);O!=null&&y(e,["speechConfig"],O);const C=v(t,["stopSequences"]);C!=null&&y(e,["stopSequences"],C);const P=v(t,["temperature"]);P!=null&&y(e,["temperature"],P);const R=v(t,["thinkingConfig"]);R!=null&&y(e,["thinkingConfig"],R);const N=v(t,["topK"]);N!=null&&y(e,["topK"],N);const I=v(t,["topP"]);if(I!=null&&y(e,["topP"],I),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Bde(t,e){const n={},r=v(e,["model"]);return r!=null&&y(n,["_url","name"],Ye(t,r)),n}function Hde(t,e){const n={},r=v(e,["model"]);return r!=null&&y(n,["_url","name"],Ye(t,r)),n}function zde(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function Vde(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function Gde(t){const e={},n=v(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=v(t,["imageSize"]);if(r!=null&&y(e,["imageSize"],r),v(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Fde(t){const e={},n=v(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=v(t,["imageSize"]);r!=null&&y(e,["imageSize"],r);const i=v(t,["outputMimeType"]);i!=null&&y(e,["imageOutputOptions","mimeType"],i);const a=v(t,["outputCompressionQuality"]);return a!=null&&y(e,["imageOutputOptions","compressionQuality"],a),e}function Kde(t){const e={},n=v(t,["bytesBase64Encoded"]);n!=null&&y(e,["imageBytes"],La(n));const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function d3(t){const e={},n=v(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&y(e,["imageBytes"],La(r));const i=v(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function Lm(t){const e={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=v(t,["imageBytes"]);n!=null&&y(e,["bytesBase64Encoded"],La(n));const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Hr(t){const e={},n=v(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const r=v(t,["imageBytes"]);r!=null&&y(e,["bytesBase64Encoded"],La(r));const i=v(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function Wde(t,e,n){const r={},i=v(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const a=v(e,["pageToken"]);n!==void 0&&a!=null&&y(n,["_query","pageToken"],a);const s=v(e,["filter"]);n!==void 0&&s!=null&&y(n,["_query","filter"],s);const u=v(e,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],a3(t,u)),r}function Yde(t,e,n){const r={},i=v(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const a=v(e,["pageToken"]);n!==void 0&&a!=null&&y(n,["_query","pageToken"],a);const s=v(e,["filter"]);n!==void 0&&s!=null&&y(n,["_query","filter"],s);const u=v(e,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],a3(t,u)),r}function Jde(t,e){const n={},r=v(e,["config"]);return r!=null&&Wde(t,r,n),n}function Xde(t,e){const n={},r=v(e,["config"]);return r!=null&&Yde(t,r,n),n}function Qde(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=v(t,["_self"]);if(i!=null){let a=o3(i);Array.isArray(a)&&(a=a.map(s=>$S(s))),y(e,["models"],a)}return e}function Zde(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=v(t,["_self"]);if(i!=null){let a=o3(i);Array.isArray(a)&&(a=a.map(s=>qS(s))),y(e,["models"],a)}return e}function ehe(t){const e={},n=v(t,["maskMode"]);n!=null&&y(e,["maskMode"],n);const r=v(t,["segmentationClasses"]);r!=null&&y(e,["maskClasses"],r);const i=v(t,["maskDilation"]);return i!=null&&y(e,["dilation"],i),e}function $S(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=v(t,["description"]);i!=null&&y(e,["description"],i);const a=v(t,["version"]);a!=null&&y(e,["version"],a);const s=v(t,["_self"]);s!=null&&y(e,["tunedModelInfo"],ghe(s));const u=v(t,["inputTokenLimit"]);u!=null&&y(e,["inputTokenLimit"],u);const c=v(t,["outputTokenLimit"]);c!=null&&y(e,["outputTokenLimit"],c);const f=v(t,["supportedGenerationMethods"]);f!=null&&y(e,["supportedActions"],f);const h=v(t,["temperature"]);h!=null&&y(e,["temperature"],h);const p=v(t,["maxTemperature"]);p!=null&&y(e,["maxTemperature"],p);const g=v(t,["topP"]);g!=null&&y(e,["topP"],g);const b=v(t,["topK"]);b!=null&&y(e,["topK"],b);const S=v(t,["thinking"]);return S!=null&&y(e,["thinking"],S),e}function qS(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=v(t,["description"]);i!=null&&y(e,["description"],i);const a=v(t,["versionId"]);a!=null&&y(e,["version"],a);const s=v(t,["deployedModels"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>hde(g))),y(e,["endpoints"],p)}const u=v(t,["labels"]);u!=null&&y(e,["labels"],u);const c=v(t,["_self"]);c!=null&&y(e,["tunedModelInfo"],vhe(c));const f=v(t,["defaultCheckpointId"]);f!=null&&y(e,["defaultCheckpointId"],f);const h=v(t,["checkpoints"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(g=>g)),y(e,["checkpoints"],p)}return e}function the(t){const e={},n=v(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&y(e,["fileData"],pde(a));const s=v(t,["functionCall"]);s!=null&&y(e,["functionCall"],mde(s));const u=v(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const c=v(t,["inlineData"]);c!=null&&y(e,["inlineData"],qfe(c));const f=v(t,["text"]);f!=null&&y(e,["text"],f);const h=v(t,["thought"]);h!=null&&y(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&y(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&y(e,["videoMetadata"],g),e}function nhe(t){const e={},n=v(t,["productImage"]);return n!=null&&y(e,["image"],Hr(n)),e}function rhe(t,e){const n={},r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=v(t,["baseSteps"]);e!==void 0&&i!=null&&y(e,["parameters","baseSteps"],i);const a=v(t,["outputGcsUri"]);e!==void 0&&a!=null&&y(e,["parameters","storageUri"],a);const s=v(t,["seed"]);e!==void 0&&s!=null&&y(e,["parameters","seed"],s);const u=v(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&y(e,["parameters","safetySetting"],u);const c=v(t,["personGeneration"]);e!==void 0&&c!=null&&y(e,["parameters","personGeneration"],c);const f=v(t,["addWatermark"]);e!==void 0&&f!=null&&y(e,["parameters","addWatermark"],f);const h=v(t,["outputMimeType"]);e!==void 0&&h!=null&&y(e,["parameters","outputOptions","mimeType"],h);const p=v(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&y(e,["parameters","outputOptions","compressionQuality"],p);const g=v(t,["enhancePrompt"]);e!==void 0&&g!=null&&y(e,["parameters","enhancePrompt"],g);const b=v(t,["labels"]);return e!==void 0&&b!=null&&y(e,["labels"],b),n}function ihe(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["source"]);i!=null&&ohe(i,n);const a=v(e,["config"]);return a!=null&&rhe(a,n),n}function ahe(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Dm(i))),y(e,["generatedImages"],r)}return e}function ohe(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=v(t,["personImage"]);e!==void 0&&i!=null&&y(e,["instances[0]","personImage","image"],Hr(i));const a=v(t,["productImages"]);if(e!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>nhe(u))),y(e,["instances[0]","productImages"],s)}return n}function she(t){const e={},n=v(t,["referenceImage"]);n!=null&&y(e,["referenceImage"],Hr(n));const r=v(t,["referenceId"]);r!=null&&y(e,["referenceId"],r);const i=v(t,["referenceType"]);i!=null&&y(e,["referenceType"],i);const a=v(t,["maskImageConfig"]);a!=null&&y(e,["maskImageConfig"],ehe(a));const s=v(t,["controlImageConfig"]);s!=null&&y(e,["controlImageConfig"],Kfe(s));const u=v(t,["styleImageConfig"]);u!=null&&y(e,["styleImageConfig"],u);const c=v(t,["subjectImageConfig"]);return c!=null&&y(e,["subjectImageConfig"],c),e}function h3(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&y(e,["scores"],r);const i=v(t,["contentType"]);return i!=null&&y(e,["contentType"],i),e}function p3(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&y(e,["scores"],r);const i=v(t,["contentType"]);return i!=null&&y(e,["contentType"],i),e}function lhe(t){const e={},n=v(t,["category"]);if(n!=null&&y(e,["category"],n),v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(t,["threshold"]);return r!=null&&y(e,["threshold"],r),e}function uhe(t){const e={},n=v(t,["image"]);return n!=null&&y(e,["image"],Hr(n)),e}function che(t,e){const n={},r=v(t,["mode"]);e!==void 0&&r!=null&&y(e,["parameters","mode"],r);const i=v(t,["maxPredictions"]);e!==void 0&&i!=null&&y(e,["parameters","maxPredictions"],i);const a=v(t,["confidenceThreshold"]);e!==void 0&&a!=null&&y(e,["parameters","confidenceThreshold"],a);const s=v(t,["maskDilation"]);e!==void 0&&s!=null&&y(e,["parameters","maskDilation"],s);const u=v(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&y(e,["parameters","binaryColorThreshold"],u);const c=v(t,["labels"]);return e!==void 0&&c!=null&&y(e,["labels"],c),n}function fhe(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["source"]);i!=null&&hhe(i,n);const a=v(e,["config"]);return a!=null&&che(a,n),n}function dhe(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>jde(i))),y(e,["generatedMasks"],r)}return e}function hhe(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],Hr(i));const a=v(t,["scribbleImage"]);return e!==void 0&&a!=null&&y(e,["instances[0]","scribble"],uhe(a)),n}function phe(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],gde(n));const r=v(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function mhe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),y(e,["functionDeclarations"],h)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const a=v(t,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const s=v(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],zde(u));const c=v(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],Vde(c));const f=v(t,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}function m3(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>vde(g))),y(e,["functionDeclarations"],p)}const r=v(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=v(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const a=v(t,["computerUse"]);if(a!=null&&y(e,["computerUse"],a),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=v(t,["codeExecution"]);s!=null&&y(e,["codeExecution"],s);const u=v(t,["enterpriseWebSearch"]);u!=null&&y(e,["enterpriseWebSearch"],u);const c=v(t,["googleMaps"]);c!=null&&y(e,["googleMaps"],c);const f=v(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],f);const h=v(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function ghe(t){const e={},n=v(t,["baseModel"]);n!=null&&y(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&y(e,["createTime"],r);const i=v(t,["updateTime"]);return i!=null&&y(e,["updateTime"],i),e}function vhe(t){const e={},n=v(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&y(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&y(e,["createTime"],r);const i=v(t,["updateTime"]);return i!=null&&y(e,["updateTime"],i),e}function yhe(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=v(t,["description"]);e!==void 0&&i!=null&&y(e,["description"],i);const a=v(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&y(e,["defaultCheckpointId"],a),n}function bhe(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=v(t,["description"]);e!==void 0&&i!=null&&y(e,["description"],i);const a=v(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&y(e,["defaultCheckpointId"],a),n}function _he(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","name"],Ye(t,r));const i=v(e,["config"]);return i!=null&&yhe(i,n),n}function xhe(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["config"]);return i!=null&&bhe(i,n),n}function whe(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=v(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&y(e,["parameters","safetySetting"],i);const a=v(t,["personGeneration"]);e!==void 0&&a!=null&&y(e,["parameters","personGeneration"],a);const s=v(t,["includeRaiReason"]);e!==void 0&&s!=null&&y(e,["parameters","includeRaiReason"],s);const u=v(t,["outputMimeType"]);e!==void 0&&u!=null&&y(e,["parameters","outputOptions","mimeType"],u);const c=v(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&y(e,["parameters","outputOptions","compressionQuality"],c);const f=v(t,["enhanceInputImage"]);e!==void 0&&f!=null&&y(e,["parameters","upscaleConfig","enhanceInputImage"],f);const h=v(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&y(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const p=v(t,["labels"]);e!==void 0&&p!=null&&y(e,["labels"],p);const g=v(t,["numberOfImages"]);e!==void 0&&g!=null&&y(e,["parameters","sampleCount"],g);const b=v(t,["mode"]);return e!==void 0&&b!=null&&y(e,["parameters","mode"],b),n}function She(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["image"]);i!=null&&y(n,["instances[0]","image"],Hr(i));const a=v(e,["upscaleFactor"]);a!=null&&y(n,["parameters","upscaleConfig","upscaleFactor"],a);const s=v(e,["config"]);return s!=null&&whe(s,n),n}function Ehe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Dm(a))),y(e,["generatedImages"],i)}return e}function The(t){const e={},n=v(t,["uri"]);n!=null&&y(e,["uri"],n);const r=v(t,["encodedVideo"]);r!=null&&y(e,["videoBytes"],La(r));const i=v(t,["encoding"]);return i!=null&&y(e,["mimeType"],i),e}function Ahe(t){const e={},n=v(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&y(e,["videoBytes"],La(r));const i=v(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function Che(t){const e={},n=v(t,["image"]);n!=null&&y(e,["_self"],Hr(n));const r=v(t,["maskMode"]);return r!=null&&y(e,["maskMode"],r),e}function Ohe(t){const e={},n=v(t,["image"]);n!=null&&y(e,["image"],Lm(n));const r=v(t,["referenceType"]);return r!=null&&y(e,["referenceType"],r),e}function Rhe(t){const e={},n=v(t,["image"]);n!=null&&y(e,["image"],Hr(n));const r=v(t,["referenceType"]);return r!=null&&y(e,["referenceType"],r),e}function g3(t){const e={},n=v(t,["uri"]);n!=null&&y(e,["uri"],n);const r=v(t,["videoBytes"]);r!=null&&y(e,["encodedVideo"],La(r));const i=v(t,["mimeType"]);return i!=null&&y(e,["encoding"],i),e}function v3(t){const e={},n=v(t,["uri"]);n!=null&&y(e,["gcsUri"],n);const r=v(t,["videoBytes"]);r!=null&&y(e,["bytesBase64Encoded"],La(r));const i=v(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Phe(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&y(e,["displayName"],r),n}function Nhe(t){const e={},n=v(t,["config"]);return n!=null&&Phe(n,e),e}function Mhe(t,e){const n={},r=v(t,["force"]);return e!==void 0&&r!=null&&y(e,["_query","force"],r),n}function Ihe(t){const e={},n=v(t,["name"]);n!=null&&y(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&Mhe(r,e),e}function khe(t){const e={},n=v(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function Dhe(t,e){const n={},r=v(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["customMetadata"],a)}const i=v(t,["chunkingConfig"]);return e!==void 0&&i!=null&&y(e,["chunkingConfig"],i),n}function Lhe(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=v(t,["done"]);i!=null&&y(e,["done"],i);const a=v(t,["error"]);a!=null&&y(e,["error"],a);const s=v(t,["response"]);return s!=null&&y(e,["response"],Uhe(s)),e}function jhe(t){const e={},n=v(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);const r=v(t,["fileName"]);r!=null&&y(e,["fileName"],r);const i=v(t,["config"]);return i!=null&&Dhe(i,e),e}function Uhe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&y(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function $he(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function qhe(t){const e={},n=v(t,["config"]);return n!=null&&$he(n,e),e}function Bhe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=v(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["fileSearchStores"],a)}return e}function y3(t,e){const n={},r=v(t,["mimeType"]);e!==void 0&&r!=null&&y(e,["mimeType"],r);const i=v(t,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);const a=v(t,["customMetadata"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>c)),y(e,["customMetadata"],u)}const s=v(t,["chunkingConfig"]);return e!==void 0&&s!=null&&y(e,["chunkingConfig"],s),n}function Hhe(t){const e={},n=v(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);const r=v(t,["config"]);return r!=null&&y3(r,e),e}function zhe(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vhe="Content-Type",Ghe="X-Server-Timeout",Fhe="User-Agent",BS="x-goog-api-client",Khe="1.34.0",Whe=`google-genai-sdk/${Khe}`,Yhe="v1beta1",Jhe="v1beta";class Xhe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Yhe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Jhe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))i.searchParams.append(s,String(u));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const a=new AbortController,s=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>a.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=s}return n&&n.extraBody!==null&&Qhe(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await rj(i),new LS(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await rj(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return $r(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const u="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:h}=yield Re(i.read());if(f){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=a.decode(h,{stream:!0});try{const S=JSON.parse(p);if("error"in S){const E=JSON.parse(JSON.stringify(S.error)),x=E.status,A=E.code,O=`got status: ${x}. ${JSON.stringify(S)}`;if(A>=400&&A<600)throw new Im({message:O,status:A})}}catch(S){if(S.name==="ApiError")throw S}s+=p;let g=-1,b=0;for(;;){g=-1,b=0;for(const x of c){const A=s.indexOf(x);A!==-1&&(g===-1||A<g)&&(g=A,b=x.length)}if(g===-1)break;const S=s.substring(0,g);s=s.substring(g+b);const E=S.trim();if(E.startsWith(u)){const x=E.substring(u.length).trim();try{const A=new Response(x,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Re(new LS(A))}catch(A){throw new Error(`exception parsing stream chunk ${x}. ${A}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Whe+" "+this.clientOptions.userAgentExtra;return e[Fhe]=n,e[BS]=n,e[Vhe]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))r.append(i,a);e.timeout&&e.timeout>0&&r.append(Ghe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(e);i.sizeBytes=String(s.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c={file:i},f=this.getFileName(e),h=pe("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,f,c,n==null?void 0:n.httpOptions);return a.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,r){var i;const a=this.clientOptions.uploader,s=await a.stat(n),u=String(s.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),p={};r!=null&&y3(r,p);const g=await this.fetchUploadUrl(f,u,c,h,p,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,a,s){var u;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:c});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=f==null?void 0:f.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function rj(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Im({message:i,status:n}):new Error(i)}}function Qhe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,s){const u=Object.assign({},a);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const f=s[c],h=u[c];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?u[c]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),u[c]=f)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zhe="mcp_used/unknown";let epe=!1;function b3(t){for(const e of t)if(tpe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return epe}function _3(t){var e;const n=(e=t[BS])!==null&&e!==void 0?e:"";t[BS]=(n+` ${Zhe}`).trimStart()}function tpe(t){return t!==null&&typeof t=="object"&&t instanceof TT}function npe(t){return $r(this,arguments,function*(n,r=100){let i,a=0;for(;a<r;){const s=yield Re(n.listTools({cursor:i}));for(const u of s.tools)yield yield Re(u),a++;if(!s.nextCursor)break;i=s.nextCursor}})}class TT{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new TT(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const h of this.mcpClients)try{for(var u=!0,c=(n=void 0,qr(npe(h))),f;f=await c.next(),e=f.done,!e;u=!0){i=f.value,u=!1;const p=i;s.push(p);const g=p.name;if(a[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);a[g]=h}}catch(p){n={error:p}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),kue(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function rpe(t,e,n){const r=new Aue;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class ipe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=spe(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const h=new Promise(C=>{f=C}),p=e.callbacks,g=function(){f({})},b=this.apiClient,S={onopen:g,onmessage:C=>{rpe(b,p.onmessage,C)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(C){}},E=this.webSocketFactory.create(c,ope(s),S);E.connect(),await h;const O={setup:{model:Ye(this.apiClient,e.model)}};return E.send(JSON.stringify(O)),new ape(E,this.apiClient)}}class ape{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Nfe(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Pfe(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Hs.PLAY)}pause(){this.sendPlaybackControl(Hs.PAUSE)}stop(){this.sendPlaybackControl(Hs.STOP)}resetContext(){this.sendPlaybackControl(Hs.RESET_CONTEXT)}close(){this.conn.close()}}function ope(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function spe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lpe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function upe(t,e,n){const r=new Tue;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const s=kfe(a);Object.assign(r,s)}else Object.assign(r,a);e(r)}class cpe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new ipe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,s,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&b3(e.config.tools)&&_3(p);const g=ppe(p);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h);else{const L=this.apiClient.getApiKey();let V="BidiGenerateContent",$="key";L!=null&&L.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),V="BidiGenerateContentConstrained",$="access_token"),h=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${V}?${$}=${L}`}let b=()=>{};const S=new Promise(L=>{b=L}),E=e.callbacks,x=function(){var L;(L=E==null?void 0:E.onopen)===null||L===void 0||L.call(E),b({})},A=this.apiClient,O={onopen:x,onmessage:L=>{upe(A,E.onmessage,L)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(L){},onclose:(r=E==null?void 0:E.onclose)!==null&&r!==void 0?r:function(L){}},C=this.webSocketFactory.create(h,hpe(g),O);C.connect(),await S;let P=Ye(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&P.startsWith("publishers/")){const L=this.apiClient.getProject(),V=this.apiClient.getLocation();P=`projects/${L}/locations/${V}/`+P}let R={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[$p.AUDIO]}:e.config.responseModalities=[$p.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],I=[];for(const L of N)if(this.isCallableTool(L)){const V=L;I.push(await V.tool())}else I.push(L);I.length>0&&(e.config.tools=I);const D={model:P,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?R=Rfe(this.apiClient,D):R=Ofe(this.apiClient,D),delete R.config,C.send(JSON.stringify(R)),new dpe(C,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const fpe={turnComplete:!0};class dpe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=yr(n.turns),e.isVertexAI()||(r=r.map(i=>km(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(lpe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},fpe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Ife(e)}:n={realtimeInput:Mfe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function hpe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function ppe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ij=10;function aj(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Qs(s)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Qs(t){return"callTool"in t&&typeof t.callTool=="function"}function mpe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Qs(i)))!==null&&r!==void 0?r:!1}function oj(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Qs(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function sj(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gpe extends Ki{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,s,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!mpe(n)||aj(n.config))return await this.generateContentInternal(c);const f=oj(n);if(f.length>0){const E=f.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let h,p;const g=yr(c.contents),b=(a=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:ij;let S=0;for(;S<b&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const E=h.candidates[0].content,x=[];for(const A of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(Qs(A)){const C=await A.callTool(h.functionCalls);x.push(...C)}S++,p={role:"user",parts:x},c.contents=yr(c.contents),c.contents.push(E),c.contents.push(p),sj(c.config)&&(g.push(E),g.push(p))}return sj(c.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async n=>{var r,i,a,s,u;if(this.maybeMoveToResponseJsonSchem(n),aj(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const c=oj(n);if(c.length>0){const p=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,h=(u=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(f&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const s=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c==null?void 0:c.safetyAttributes:s.push(c);let u;return a?u={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Lo(Hi.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,s,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(a=n.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const s=await Promise.all(a.map(async c=>Qs(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&b3(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),_3(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Qs(s)){const u=s,c=await u.tool();for(const f of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(a.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);a.set(f.name,u)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:ij;let s=!1,u=0;const c=await this.initAfcToolsMap(e);return(function(f,h,p){return $r(this,arguments,function*(){for(var g,b,S,E,x,A;u<a;){s&&(u++,s=!1);const R=yield Re(f.processParamsMaybeAddMcpUsage(p)),N=yield Re(f.generateContentStreamInternal(R)),I=[],D=[];try{for(var O=!0,C=(b=void 0,qr(N)),P;P=yield Re(C.next()),g=P.done,!g;O=!0){E=P.value,O=!1;const L=E;if(yield yield Re(L),L.candidates&&(!((x=L.candidates[0])===null||x===void 0)&&x.content)){D.push(L.candidates[0].content);for(const V of(A=L.candidates[0].content.parts)!==null&&A!==void 0?A:[])if(u<a&&V.functionCall){if(!V.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(V.functionCall.name)){const $=yield Re(h.get(V.functionCall.name).callTool([V.functionCall]));I.push(...$)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${V.functionCall.name}`)}}}}catch(L){b={error:L}}finally{try{!O&&!g&&(S=C.return)&&(yield Re(S.call(C)))}finally{if(b)throw b.error}}if(I.length>0){s=!0;const L=new Yu;L.candidates=[{content:{role:"user",parts:I}}],yield yield Re(L);const V=[];V.push(...D),V.push({role:"user",parts:I});const $=yr(p.contents).concat(V);p.contents=$}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=ej(this.apiClient,e);return u=pe("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=nj(h),g=new Yu;return Object.assign(g,p),g})}else{const f=ZL(this.apiClient,e);return u=pe("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=tj(h),g=new Yu;return Object.assign(g,p),g})}}async generateContentStreamInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=ej(this.apiClient,e);return u=pe("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(p){return $r(this,arguments,function*(){var g,b,S,E;try{for(var x=!0,A=qr(p),O;O=yield Re(A.next()),g=O.done,!g;x=!0){E=O.value,x=!1;const C=E,P=nj(yield Re(C.json()));P.sdkHttpResponse={headers:C.headers};const R=new Yu;Object.assign(R,P),yield yield Re(R)}}catch(C){b={error:C}}finally{try{!x&&!g&&(S=A.return)&&(yield Re(S.call(A)))}finally{if(b)throw b.error}}})})}else{const f=ZL(this.apiClient,e);return u=pe("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(p){return $r(this,arguments,function*(){var g,b,S,E;try{for(var x=!0,A=qr(p),O;O=yield Re(A.next()),g=O.done,!g;x=!0){E=O.value,x=!1;const C=E,P=tj(yield Re(C.json()));P.sdkHttpResponse={headers:C.headers};const R=new Yu;Object.assign(R,P),yield yield Re(R)}}catch(C){b={error:C}}finally{try{!x&&!g&&(S=A.return)&&(yield Re(S.call(A)))}finally{if(b)throw b.error}}})})}}async embedContent(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=cde(this.apiClient,e);return u=pe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=dde(h),g=new LL;return Object.assign(g,p),g})}else{const f=ude(this.apiClient,e);return u=pe("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=fde(h),g=new LL;return Object.assign(g,p),g})}}async generateImagesInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Sde(this.apiClient,e);return u=pe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Tde(h),g=new jL;return Object.assign(g,p),g})}else{const f=wde(this.apiClient,e);return u=pe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Ede(h),g=new jL;return Object.assign(g,p),g})}}async editImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=ade(this.apiClient,e);return a=pe("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=ode(c),h=new pue;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=She(this.apiClient,e);return a=pe("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Ehe(c),h=new mue;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=ihe(this.apiClient,e);return a=pe("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=ahe(c),h=new gue;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=fhe(this.apiClient,e);return a=pe("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=dhe(c),h=new vue;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Hde(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>qS(h))}else{const f=Bde(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>$S(h))}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Xde(this.apiClient,e);return u=pe("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Zde(h),g=new UL;return Object.assign(g,p),g})}else{const f=Jde(this.apiClient,e);return u=pe("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Qde(h),g=new UL;return Object.assign(g,p),g})}}async update(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=xhe(this.apiClient,e);return u=pe("{model}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>qS(h))}else{const f=_he(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>$S(h))}}async delete(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=tde(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=rde(h),g=new $L;return Object.assign(g,p),g})}else{const f=ede(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=nde(h),g=new $L;return Object.assign(g,p),g})}}async countTokens(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Xfe(this.apiClient,e);return u=pe("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Zfe(h),g=new qL;return Object.assign(g,p),g})}else{const f=Jfe(this.apiClient,e);return u=pe("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Qfe(h),g=new qL;return Object.assign(g,p),g})}}async computeTokens(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=zfe(this.apiClient,e);return a=pe("{model}:computeTokens",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Vfe(c),h=new yue;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Nde(this.apiClient,e);return u=pe("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const p=Rde(h),g=new qp;return Object.assign(g,p),g})}else{const f=Pde(this.apiClient,e);return u=pe("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>{const p=Ode(h),g=new qp;return Object.assign(g,p),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vpe extends Ki{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=lue(e);return u=pe("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}else{const f=sue(e);return u=pe("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=eue(e);return a=pe("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ype(t){const e={},n=v(t,["data"]);if(n!=null&&y(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function bpe(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Ope(a))),y(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&y(e,["role"],r),e}function _pe(t,e,n){const r={},i=v(e,["expireTime"]);n!==void 0&&i!=null&&y(n,["expireTime"],i);const a=v(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&y(n,["newSessionExpireTime"],a);const s=v(e,["uses"]);n!==void 0&&s!=null&&y(n,["uses"],s);const u=v(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&y(n,["bidiGenerateContentSetup"],Cpe(t,u));const c=v(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&y(n,["fieldMask"],c),r}function xpe(t,e){const n={},r=v(e,["config"]);return r!=null&&y(n,["config"],_pe(t,r,n)),n}function wpe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Spe(t){const e={},n=v(t,["id"]);n!=null&&y(e,["id"],n);const r=v(t,["args"]);r!=null&&y(e,["args"],r);const i=v(t,["name"]);if(i!=null&&y(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Epe(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function Tpe(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function Ape(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const a=v(t,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const s=v(t,["topP"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","topP"],s);const u=v(t,["topK"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topK"],u);const c=v(t,["maxOutputTokens"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","maxOutputTokens"],c);const f=v(t,["mediaResolution"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","mediaResolution"],f);const h=v(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const p=v(t,["speechConfig"]);e!==void 0&&p!=null&&y(e,["setup","generationConfig","speechConfig"],ET(p));const g=v(t,["thinkingConfig"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","thinkingConfig"],g);const b=v(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],b);const S=v(t,["systemInstruction"]);e!==void 0&&S!=null&&y(e,["setup","systemInstruction"],bpe(gn(S)));const E=v(t,["tools"]);if(e!==void 0&&E!=null){let N=ql(E);Array.isArray(N)&&(N=N.map(I=>Ppe($l(I)))),y(e,["setup","tools"],N)}const x=v(t,["sessionResumption"]);e!==void 0&&x!=null&&y(e,["setup","sessionResumption"],Rpe(x));const A=v(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&y(e,["setup","inputAudioTranscription"],A);const O=v(t,["outputAudioTranscription"]);e!==void 0&&O!=null&&y(e,["setup","outputAudioTranscription"],O);const C=v(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&y(e,["setup","realtimeInputConfig"],C);const P=v(t,["contextWindowCompression"]);e!==void 0&&P!=null&&y(e,["setup","contextWindowCompression"],P);const R=v(t,["proactivity"]);if(e!==void 0&&R!=null&&y(e,["setup","proactivity"],R),v(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Cpe(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["setup","model"],Ye(t,r));const i=v(e,["config"]);return i!=null&&y(n,["config"],Ape(i,n)),n}function Ope(t){const e={},n=v(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&y(e,["fileData"],wpe(a));const s=v(t,["functionCall"]);s!=null&&y(e,["functionCall"],Spe(s));const u=v(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const c=v(t,["inlineData"]);c!=null&&y(e,["inlineData"],ype(c));const f=v(t,["text"]);f!=null&&y(e,["text"],f);const h=v(t,["thought"]);h!=null&&y(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&y(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&y(e,["videoMetadata"],g),e}function Rpe(t){const e={},n=v(t,["handle"]);if(n!=null&&y(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Ppe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),y(e,["functionDeclarations"],h)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const a=v(t,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const s=v(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],Epe(u));const c=v(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],Tpe(c));const f=v(t,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Npe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function Mpe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=Npe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>s.includes(f)?`generationConfig.${f}`:f));const c=[];a&&c.push(a),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Ipe extends Ki{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=xpe(this.apiClient,e);a=pe("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const c=Mpe(u,e.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kpe(t,e){const n={},r=v(t,["force"]);return e!==void 0&&r!=null&&y(e,["_query","force"],r),n}function Dpe(t){const e={},n=v(t,["name"]);n!=null&&y(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&kpe(r,e),e}function Lpe(t){const e={},n=v(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function jpe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function Upe(t){const e={},n=v(t,["parent"]);n!=null&&y(e,["_url","parent"],n);const r=v(t,["config"]);return r!=null&&jpe(r,e),e}function $pe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=v(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qpe extends Ki{constructor(e){super(),this.apiClient=e,this.list=async n=>new Lo(Hi.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Lpe(e);return a=pe("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Dpe(e);i=pe("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Upe(e);return a=pe("{parent}/documents",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=$pe(c),h=new bue;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bpe extends Ki{constructor(e,n=new qpe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Lo(Hi.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Nhe(e);return a=pe("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=khe(e);return a=pe("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Ihe(e);i=pe("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=qhe(e);return a=pe("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Bhe(c),h=new _ue;return Object.assign(h,f),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Hhe(e);return a=pe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=zhe(c),h=new xue;return Object.assign(h,f),h})}}async importFile(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=jhe(e);return a=pe("{file_search_store_name}:importFile",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Lhe(c),h=new bT;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let x3=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return x3=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Hpe=()=>x3();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HS(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const zS=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wr extends Error{}class En extends wr{constructor(e,n,r,i){super(`${En.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new jm({message:r,cause:zS(n)});const a=n;return e===400?new S3(e,a,r,i):e===401?new E3(e,a,r,i):e===403?new T3(e,a,r,i):e===404?new A3(e,a,r,i):e===409?new C3(e,a,r,i):e===422?new O3(e,a,r,i):e===429?new R3(e,a,r,i):e>=500?new P3(e,a,r,i):new En(e,a,r,i)}}class VS extends En{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class jm extends En{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class w3 extends jm{constructor({message:e}={}){super({message:e??"Request timed out."})}}class S3 extends En{}class E3 extends En{}class T3 extends En{}class A3 extends En{}class C3 extends En{}class O3 extends En{}class R3 extends En{}class P3 extends En{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zpe=/^[a-z][a-z0-9+.-]*:/i,Vpe=t=>zpe.test(t);let GS=t=>(GS=Array.isArray,GS(t));const Gpe=GS;let Fpe=Gpe;const lj=Fpe;function Kpe(t){if(!t)return!0;for(const e in t)return!1;return!0}function Wpe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const Ype=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new wr(`${t} must be an integer`);if(e<0)throw new wr(`${t} must be a positive integer`);return e},Jpe=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xpe=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ks="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qpe(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Zpe=()=>{var t,e,n,r,i;const a=Qpe();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ks,"X-Stainless-OS":cj(Deno.build.os),"X-Stainless-Arch":uj(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ks,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ks,"X-Stainless-OS":cj((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":uj((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=eme();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ks,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ks,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function eme(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${a}.${s}`}}}return null}const uj=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",cj=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let gh;const tme=()=>gh??(gh=Zpe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nme(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function N3(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function rme(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return N3({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function M3(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function ime(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ame=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const I3=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Px(t,e,n){return I3(),new File(t,e??"unknown_file",n)}function ome(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const sme=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const k3=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",lme=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&k3(t),ume=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function cme(t,e,n){if(I3(),t=await t,lme(t))return t instanceof File?t:Px([await t.arrayBuffer()],t.name);if(ume(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Px(await FS(i),e,n)}const r=await FS(t);if(e||(e=ome(t)),!(n!=null&&n.type)){const i=r.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Px(r,e,n)}async function FS(t){var e,n,r,i,a;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(k3(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(sme(t))try{for(var u=!0,c=qr(t),f;f=await c.next(),e=f.done,!e;u=!0){i=f.value,u=!1;const h=i;s.push(...await FS(h))}}catch(h){n={error:h}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}else{const h=(a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${h?`; constructor: ${h}`:""}${fme(t)}`)}return s}function fme(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class D3{constructor(e){this._client=e}}D3._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L3(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const fj=Object.freeze(Object.create(null)),dme=(t=L3)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const a=[],s=n.reduce((h,p,g)=>{var b,S,E;/[?#]/.test(p)&&(i=!0);const x=r[g];let A=(i?encodeURIComponent:t)(""+x);return g!==r.length&&(x==null||typeof x=="object"&&x.toString===((E=Object.getPrototypeOf((S=Object.getPrototypeOf((b=x.hasOwnProperty)!==null&&b!==void 0?b:fj))!==null&&S!==void 0?S:fj))===null||E===void 0?void 0:E.toString))&&(A=x+"",a.push({start:h.length+p.length,length:A.length,error:`Value of type ${Object.prototype.toString.call(x).slice(8,-1)} is not a valid path parameter`})),h+p+(g===r.length?"":A)},""),u=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=c.exec(u))!==null;)a.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(a.sort((h,p)=>h.start-p.start),a.length>0){let h=0;const p=a.reduce((g,b)=>{const S=" ".repeat(b.start-h),E="^".repeat(b.length);return h=b.start+b.length,g+S+E},"");throw new wr(`Path parameters result in path with invalid segments:
${a.map(g=>g.error).join(`
`)}
${s}
${p}`)}return s}),vh=dme(L3);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class j3 extends D3{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,a=Hp(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new wr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new wr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(vh`/${i}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(vh`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(vh`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const a=n??{},{api_version:s=this._client.apiVersion}=a,u=Hp(a,["api_version"]);return this._client.get(vh`/${s}/interactions/${e}`,Object.assign(Object.assign({query:u},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}j3._key=Object.freeze(["interactions"]);class U3 extends j3{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hme(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let yh;function AT(t){let e;return(yh??(e=new globalThis.TextEncoder,yh=e.encode.bind(e)))(t)}let bh;function dj(t){let e;return(bh??(e=new globalThis.TextDecoder,bh=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Um{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?AT(e):e;this.buffer=hme([this.buffer,n]);const r=[];let i;for(;(i=pme(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(dj(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=dj(this.buffer.subarray(0,a));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Um.NEWLINE_CHARS=new Set([`
`,"\r"]);Um.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function pme(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function mme(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zp={off:0,error:200,warn:300,info:400,debug:500},hj=(t,e,n)=>{if(t){if(Wpe(zp,t))return t;yn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(zp))}`)}};function sc(){}function _h(t,e,n){return!e||zp[t]>zp[n]?sc:e[t].bind(e)}const gme={error:sc,warn:sc,info:sc,debug:sc};let pj=new WeakMap;function yn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return gme;const i=pj.get(n);if(i&&i[0]===r)return i[1];const a={error:_h("error",n,r),warn:_h("warn",n,r),info:_h("info",n,r),debug:_h("debug",n,r)};return pj.set(n,[r,a]),a}const uo=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zs{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const a=r?yn(r):console;function s(){return $r(this,arguments,function*(){var c,f,h,p;if(i)throw new wr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var b=!0,S=qr(vme(e,n)),E;E=yield Re(S.next()),c=E.done,!c;b=!0){p=E.value,b=!1;const x=p;if(!g)if(x.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield Re(JSON.parse(x.data))}catch(A){throw a.error("Could not parse message into JSON:",x.data),a.error("From chunk:",x.raw),A}}}catch(x){f={error:x}}finally{try{!b&&!c&&(h=S.return)&&(yield Re(h.call(S)))}finally{if(f)throw f.error}}g=!0}catch(x){if(HS(x))return yield Re(void 0);throw x}finally{g||n.abort()}})}return new zs(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function a(){return $r(this,arguments,function*(){var c,f,h,p;const g=new Um,b=M3(e);try{for(var S=!0,E=qr(b),x;x=yield Re(E.next()),c=x.done,!c;S=!0){p=x.value,S=!1;const A=p;for(const O of g.decode(A))yield yield Re(O)}}catch(A){f={error:A}}finally{try{!S&&!c&&(h=E.return)&&(yield Re(h.call(E)))}finally{if(f)throw f.error}}for(const A of g.flush())yield yield Re(A)})}function s(){return $r(this,arguments,function*(){var c,f,h,p;if(i)throw new wr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var b=!0,S=qr(a()),E;E=yield Re(S.next()),c=E.done,!c;b=!0){p=E.value,b=!1;const x=p;g||x&&(yield yield Re(JSON.parse(x)))}}catch(x){f={error:x}}finally{try{!b&&!c&&(h=S.return)&&(yield Re(h.call(S)))}finally{if(f)throw f.error}}g=!0}catch(x){if(HS(x))return yield Re(void 0);throw x}finally{g||n.abort()}})}return new zs(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const s=r.next();e.push(s),n.push(s)}return a.shift()}});return[new zs(()=>i(e),this.controller,this.client),new zs(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return N3({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:a}=await n.next();if(a)return r.close();const s=AT(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function vme(t,e){return $r(this,arguments,function*(){var r,i,a,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new wr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new wr("Attempted to iterate over a response with no body");const u=new bme,c=new Um,f=M3(t.body);try{for(var h=!0,p=qr(yme(f)),g;g=yield Re(p.next()),r=g.done,!r;h=!0){s=g.value,h=!1;const b=s;for(const S of c.decode(b)){const E=u.decode(S);E&&(yield yield Re(E))}}}catch(b){i={error:b}}finally{try{!h&&!r&&(a=p.return)&&(yield Re(a.call(p)))}finally{if(i)throw i.error}}for(const b of c.flush()){const S=u.decode(b);S&&(yield yield Re(S))}})}function yme(t){return $r(this,arguments,function*(){var n,r,i,a;let s=new Uint8Array;try{for(var u=!0,c=qr(t),f;f=yield Re(c.next()),n=f.done,!n;u=!0){a=f.value,u=!1;const h=a;if(h==null)continue;const p=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?AT(h):h;let g=new Uint8Array(s.length+p.length);g.set(s),g.set(p,s.length),s=g;let b;for(;(b=mme(s))!==-1;)yield yield Re(s.slice(0,b)),s=s.slice(b)}}catch(h){r={error:h}}finally{try{!u&&!n&&(i=c.return)&&(yield Re(i.call(c)))}finally{if(r)throw r.error}}s.length>0&&(yield yield Re(s))})}class bme{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=_me(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function _me(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function xme(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:a}=e,s=await(async()=>{var u;if(e.options.stream)return yn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):zs.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),f=(u=c==null?void 0:c.split(";")[0])===null||u===void 0?void 0:u.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return yn(t).debug(`[${r}] response parsed`,uo({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-a})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CT extends Promise{constructor(e,n,r=xme){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new CT(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $3=Symbol("brand.privateNullableHeaders");function*wme(t){if(!t)return;if($3 in t){const{values:r,nulls:i}=t;yield*r.entries();for(const a of i)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():lj(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=lj(r[1])?r[1]:[r[1]];let s=!1;for(const u of a)u!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,u])}}const Ju=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[a,s]of wme(r)){const u=a.toLowerCase();i.has(u)||(e.delete(a),i.add(u)),s===null?(e.delete(a),n.add(u)):(e.append(a,s),n.delete(u))}}return{[$3]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nx=t=>{var e,n,r,i,a,s;if(typeof globalThis.process<"u")return(r=(n=(e=Wle)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var q3;class $m{constructor(e){var n,r,i,a,s,u,c,{baseURL:f=Nx("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=Nx("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=e,g=Hp(e,["baseURL","apiKey","apiVersion"]);const b=Object.assign(Object.assign({apiKey:h,apiVersion:p},g),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=b.baseURL,this.timeout=(r=b.timeout)!==null&&r!==void 0?r:$m.DEFAULT_TIMEOUT,this.logger=(i=b.logger)!==null&&i!==void 0?i:console;const S="warn";this.logLevel=S,this.logLevel=(s=(a=hj(b.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:hj(Nx("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:S,this.fetchOptions=b.fetchOptions,this.maxRetries=(u=b.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(c=b.fetch)!==null&&c!==void 0?c:nme(),this.encoder=ame,this._options=b,this.apiKey=h,this.apiVersion=p,this.clientAdapter=b.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Ju([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Ju([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Ju([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new wr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ks}`}defaultIdempotencyKey(){return`stainless-node-retry-${Hpe()}`}makeStatusError(e,n,r,i){return En.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,a=Vpe(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return Kpe(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new CT(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,a,s;const u=await e,c=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=c),await this.prepareOptions(u);const{req:f,url:h,timeout:p}=await this.buildRequest(u,{retryCount:c-n});await this.prepareRequest(f,{url:h,options:u});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=r===void 0?"":`, retryOf: ${r}`,S=Date.now();if(yn(this).debug(`[${g}] sending request`,uo({retryOfRequestLogID:r,method:u.method,url:h,options:u,headers:f.headers})),!((a=u.signal)===null||a===void 0)&&a.aborted)throw new VS;const E=new AbortController,x=await this.fetchWithTimeout(h,f,p,E).catch(zS),A=Date.now();if(x instanceof globalThis.Error){const C=`retrying, ${n} attempts remaining`;if(!((s=u.signal)===null||s===void 0)&&s.aborted)throw new VS;const P=HS(x)||/timed? ?out/i.test(String(x)+("cause"in x?String(x.cause):""));if(n)return yn(this).info(`[${g}] connection ${P?"timed out":"failed"} - ${C}`),yn(this).debug(`[${g}] connection ${P?"timed out":"failed"} (${C})`,uo({retryOfRequestLogID:r,url:h,durationMs:A-S,message:x.message})),this.retryRequest(u,n,r??g);throw yn(this).info(`[${g}] connection ${P?"timed out":"failed"} - error; no more retries left`),yn(this).debug(`[${g}] connection ${P?"timed out":"failed"} (error; no more retries left)`,uo({retryOfRequestLogID:r,url:h,durationMs:A-S,message:x.message})),P?new w3:new jm({cause:x})}const O=`[${g}${b}] ${f.method} ${h} ${x.ok?"succeeded":"failed"} with status ${x.status} in ${A-S}ms`;if(!x.ok){const C=await this.shouldRetry(x);if(n&&C){const L=`retrying, ${n} attempts remaining`;return await ime(x.body),yn(this).info(`${O} - ${L}`),yn(this).debug(`[${g}] response error (${L})`,uo({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,durationMs:A-S})),this.retryRequest(u,n,r??g,x.headers)}const P=C?"error; no more retries left":"error; not retryable";yn(this).info(`${O} - ${P}`);const R=await x.text().catch(L=>zS(L).message),N=Jpe(R),I=N?void 0:R;throw yn(this).debug(`[${g}] response error (${P})`,uo({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,message:I,durationMs:Date.now()-S})),this.makeStatusError(x.status,N,I,x.headers)}return yn(this).info(O),yn(this).debug(`[${g}] response start`,uo({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,durationMs:A-S})),{response:x,options:u,controller:E,requestLogID:g,retryOfRequestLogID:r,startTime:S}}async fetchWithTimeout(e,n,r,i){const a=n||{},{signal:s,method:u}=a,c=Hp(a,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const f=setTimeout(()=>i.abort(),r),h=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,p=Object.assign(Object.assign(Object.assign({signal:i.signal},h?{duplex:"half"}:{}),{method:"GET"}),c);u&&(p.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,p)}finally{clearTimeout(f)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var a;let s;const u=i==null?void 0:i.get("retry-after-ms");if(u){const f=parseFloat(u);Number.isNaN(f)||(s=f)}const c=i==null?void 0:i.get("retry-after");if(c&&!s){const f=parseFloat(c);Number.isNaN(f)?s=Date.parse(c)-Date.now():s=f*1e3}if(!(s&&0<=s&&s<60*1e3)){const f=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,f)}return await Xpe(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,s=Math.min(.5*Math.pow(2,a),8),u=1-Math.random()*.25;return s*u*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,a;const s=Object.assign({},e),{method:u,path:c,query:f,defaultBaseURL:h}=s,p=this.buildURL(c,f,h);"timeout"in s&&Ype("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:g,body:b}=this.buildBody({options:s}),S=await this.buildHeaders({options:e,method:u,bodyHeaders:g,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:S},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=s.fetchOptions)!==null&&a!==void 0?a:{}),url:p,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let u=Ju([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),tme()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Ju([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:rme(e)}:this.encoder({body:e,headers:r})}}$m.DEFAULT_TIMEOUT=6e4;class Zt extends $m{constructor(){super(...arguments),this.interactions=new U3(this)}}q3=Zt;Zt.GeminiNextGenAPIClient=q3;Zt.GeminiNextGenAPIClientError=wr;Zt.APIError=En;Zt.APIConnectionError=jm;Zt.APIConnectionTimeoutError=w3;Zt.APIUserAbortError=VS;Zt.NotFoundError=A3;Zt.ConflictError=C3;Zt.RateLimitError=R3;Zt.BadRequestError=S3;Zt.AuthenticationError=E3;Zt.InternalServerError=P3;Zt.PermissionDeniedError=T3;Zt.UnprocessableEntityError=O3;Zt.toFile=cme;Zt.Interactions=U3;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sme(t,e){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function Eme(t,e){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function Tme(t,e){const n={},r=v(t,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function Ame(t,e){const n={},r=v(t,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function Cme(t,e,n){const r={};if(v(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=v(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&y(e,["displayName"],i),v(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=v(t,["epochCount"]);e!==void 0&&a!=null&&y(e,["tuningTask","hyperparameters","epochCount"],a);const s=v(t,["learningRateMultiplier"]);if(s!=null&&y(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),v(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(v(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(v(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=v(t,["batchSize"]);e!==void 0&&u!=null&&y(e,["tuningTask","hyperparameters","batchSize"],u);const c=v(t,["learningRate"]);if(e!==void 0&&c!=null&&y(e,["tuningTask","hyperparameters","learningRate"],c),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(v(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Ome(t,e,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const b=v(t,["validationDataset"]);e!==void 0&&b!=null&&y(e,["supervisedTuningSpec"],mj(b))}else if(i==="PREFERENCE_TUNING"){const b=v(t,["validationDataset"]);e!==void 0&&b!=null&&y(e,["preferenceOptimizationSpec"],mj(b))}const a=v(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&y(e,["tunedModelDisplayName"],a);const s=v(t,["description"]);e!==void 0&&s!=null&&y(e,["description"],s);let u=v(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const b=v(t,["epochCount"]);e!==void 0&&b!=null&&y(e,["supervisedTuningSpec","hyperParameters","epochCount"],b)}else if(u==="PREFERENCE_TUNING"){const b=v(t,["epochCount"]);e!==void 0&&b!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],b)}let c=v(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const b=v(t,["learningRateMultiplier"]);e!==void 0&&b!=null&&y(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],b)}else if(c==="PREFERENCE_TUNING"){const b=v(t,["learningRateMultiplier"]);e!==void 0&&b!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],b)}let f=v(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const b=v(t,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&y(e,["supervisedTuningSpec","exportLastCheckpointOnly"],b)}else if(f==="PREFERENCE_TUNING"){const b=v(t,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&y(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],b)}let h=v(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const b=v(t,["adapterSize"]);e!==void 0&&b!=null&&y(e,["supervisedTuningSpec","hyperParameters","adapterSize"],b)}else if(h==="PREFERENCE_TUNING"){const b=v(t,["adapterSize"]);e!==void 0&&b!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],b)}if(v(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(v(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=v(t,["labels"]);e!==void 0&&p!=null&&y(e,["labels"],p);const g=v(t,["beta"]);return e!==void 0&&g!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function Rme(t,e){const n={},r=v(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=v(t,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const a=v(t,["trainingDataset"]);a!=null&&qme(a);const s=v(t,["config"]);return s!=null&&Cme(s,n),n}function Pme(t,e){const n={},r=v(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=v(t,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const a=v(t,["trainingDataset"]);a!=null&&Bme(a,n,e);const s=v(t,["config"]);return s!=null&&Ome(s,n,e),n}function Nme(t,e){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function Mme(t,e){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function Ime(t,e,n){const r={},i=v(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const a=v(t,["pageToken"]);e!==void 0&&a!=null&&y(e,["_query","pageToken"],a);const s=v(t,["filter"]);return e!==void 0&&s!=null&&y(e,["_query","filter"],s),r}function kme(t,e,n){const r={},i=v(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const a=v(t,["pageToken"]);e!==void 0&&a!=null&&y(e,["_query","pageToken"],a);const s=v(t,["filter"]);return e!==void 0&&s!=null&&y(e,["_query","filter"],s),r}function Dme(t,e){const n={},r=v(t,["config"]);return r!=null&&Ime(r,n),n}function Lme(t,e){const n={},r=v(t,["config"]);return r!=null&&kme(r,n),n}function jme(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const a=v(t,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>B3(u))),y(n,["tuningJobs"],s)}return n}function Ume(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const a=v(t,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>KS(u))),y(n,["tuningJobs"],s)}return n}function $me(t,e){const n={},r=v(t,["name"]);r!=null&&y(n,["model"],r);const i=v(t,["name"]);return i!=null&&y(n,["endpoint"],i),n}function qme(t,e){const n={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=v(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(n,["examples","examples"],i)}return n}function Bme(t,e,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=v(t,["gcsUri"]);e!==void 0&&s!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=v(t,["gcsUri"]);e!==void 0&&s!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let a=v(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=v(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=v(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(v(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function B3(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&y(n,["name"],i);const a=v(t,["state"]);a!=null&&y(n,["state"],r3(a));const s=v(t,["createTime"]);s!=null&&y(n,["createTime"],s);const u=v(t,["tuningTask","startTime"]);u!=null&&y(n,["startTime"],u);const c=v(t,["tuningTask","completeTime"]);c!=null&&y(n,["endTime"],c);const f=v(t,["updateTime"]);f!=null&&y(n,["updateTime"],f);const h=v(t,["description"]);h!=null&&y(n,["description"],h);const p=v(t,["baseModel"]);p!=null&&y(n,["baseModel"],p);const g=v(t,["_self"]);return g!=null&&y(n,["tunedModel"],$me(g)),n}function KS(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&y(n,["name"],i);const a=v(t,["state"]);a!=null&&y(n,["state"],r3(a));const s=v(t,["createTime"]);s!=null&&y(n,["createTime"],s);const u=v(t,["startTime"]);u!=null&&y(n,["startTime"],u);const c=v(t,["endTime"]);c!=null&&y(n,["endTime"],c);const f=v(t,["updateTime"]);f!=null&&y(n,["updateTime"],f);const h=v(t,["error"]);h!=null&&y(n,["error"],h);const p=v(t,["description"]);p!=null&&y(n,["description"],p);const g=v(t,["baseModel"]);g!=null&&y(n,["baseModel"],g);const b=v(t,["tunedModel"]);b!=null&&y(n,["tunedModel"],b);const S=v(t,["preTunedModel"]);S!=null&&y(n,["preTunedModel"],S);const E=v(t,["supervisedTuningSpec"]);E!=null&&y(n,["supervisedTuningSpec"],E);const x=v(t,["preferenceOptimizationSpec"]);x!=null&&y(n,["preferenceOptimizationSpec"],x);const A=v(t,["tuningDataStats"]);A!=null&&y(n,["tuningDataStats"],A);const O=v(t,["encryptionSpec"]);O!=null&&y(n,["encryptionSpec"],O);const C=v(t,["partnerModelTuningSpec"]);C!=null&&y(n,["partnerModelTuningSpec"],C);const P=v(t,["customBaseModel"]);P!=null&&y(n,["customBaseModel"],P);const R=v(t,["experiment"]);R!=null&&y(n,["experiment"],R);const N=v(t,["labels"]);N!=null&&y(n,["labels"],N);const I=v(t,["outputUri"]);I!=null&&y(n,["outputUri"],I);const D=v(t,["pipelineJob"]);D!=null&&y(n,["pipelineJob"],D);const L=v(t,["serviceAccount"]);L!=null&&y(n,["serviceAccount"],L);const V=v(t,["tunedModelDisplayName"]);V!=null&&y(n,["tunedModelDisplayName"],V);const $=v(t,["veoTuningSpec"]);return $!=null&&y(n,["veoTuningSpec"],$),n}function Hme(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&y(n,["name"],i);const a=v(t,["metadata"]);a!=null&&y(n,["metadata"],a);const s=v(t,["done"]);s!=null&&y(n,["done"],s);const u=v(t,["error"]);return u!=null&&y(n,["error"],u),n}function mj(t,e){const n={},r=v(t,["gcsUri"]);r!=null&&y(n,["validationDatasetUri"],r);const i=v(t,["vertexDatasetResource"]);return i!=null&&y(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zme extends Ki{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Lo(Hi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:DS.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Mme(e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>KS(h))}else{const f=Nme(e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>B3(h))}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Lme(e);return u=pe("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Ume(h),g=new BL;return Object.assign(g,p),g})}else{const f=Dme(e);return u=pe("tunedModels",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=jme(h),g=new BL;return Object.assign(g,p),g})}}async cancel(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Eme(e);return u=pe("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Ame(h),g=new HL;return Object.assign(g,p),g})}else{const f=Sme(e);return u=pe("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Tme(h),g=new HL;return Object.assign(g,p),g})}}async tuneInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=Pme(e,e);return a=pe("tuningJobs",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>KS(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Rme(e);return a=pe("tunedModels",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>Hme(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vme{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Gme=1024*1024*8,Fme=3,Kme=1e3,Wme=2,Vp="x-goog-upload-status";async function Yme(t,e,n){var r;const i=await H3(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Vp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function Jme(t,e,n){var r;const i=await H3(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Vp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=X4(a),u=new _T;return Object.assign(u,s),u}async function H3(t,e,n){var r,i;let a=0,s=0,u=new LS(new Response),c="upload";for(a=t.size;s<a;){const f=Math.min(Gme,a-s),h=t.slice(s,s+f);s+f>=a&&(c+=", finalize");let p=0,g=Kme;for(;p<Fme&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[Vp]));)p++,await Qme(g),g=g*Wme;if(s+=f,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[Vp])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function Xme(t){return{size:t.size,type:t.type}}function Qme(t){return new Promise(e=>setTimeout(e,t))}class Zme{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Yme(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Jme(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Xme(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ege{create(e,n,r){return new tge(e,n,r)}}class tge{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gj="x-goog-api-key";class nge{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(gj)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(gj,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rge="gl-node/";class ige{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Zt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Qle(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new nge(this.apiKey);this.apiClient=new Xhe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:rge+"web",uploader:new Zme,downloader:new Vme}),this.models=new gpe(this.apiClient),this.live=new cpe(this.apiClient,i,new ege),this.batches=new Cce(this.apiClient),this.chats=new lfe(this.models,this.apiClient),this.caches=new afe(this.apiClient),this.files=new yfe(this.apiClient),this.operations=new vpe(this.apiClient),this.authTokens=new Ipe(this.apiClient),this.tunings=new zme(this.apiClient),this.fileSearchStores=new Bpe(this.apiClient)}}var age={};const z3=()=>new ige({apiKey:age.API_KEY||""}),oge=async(t,e)=>{const n=z3(),r=`Analiza el siguiente tema poltico de forma objetiva y proporciona un resumen equilibrado, 3 argumentos clave a favor y 3 argumentos clave en contra.
  Ttulo del tema: ${t}
  Contexto: ${e}
  
  Asegrate de que el tono sea neutral, educativo y evite sesgos partidistas. Responde exclusivamente en espaol y en formato JSON.`,i=await n.models.generateContent({model:"gemini-3-flash-preview",contents:r,config:{responseMimeType:"application/json",responseSchema:{type:pn.OBJECT,properties:{summary:{type:pn.STRING},pros:{type:pn.ARRAY,items:{type:pn.STRING}},cons:{type:pn.ARRAY,items:{type:pn.STRING}}},required:["summary","pros","cons"]}}});try{return JSON.parse(i.text.trim())}catch(a){throw console.error("Failed to parse AI response",a),new Error("Error al analizar el tema.")}},sge=async()=>{const n=await z3().models.generateContent({model:"gemini-3-flash-preview",contents:"Lista 5 temas actuales, populares y debatidos de la poltica o sociedad espaola que sean adecuados para una plataforma de votacin pblica. Devuelve un array JSON de strings en espaol.",config:{responseMimeType:"application/json",responseSchema:{type:pn.ARRAY,items:{type:pn.STRING}}}});return JSON.parse(n.text.trim())},lge=["AN","AR","AS","IB","CN","CB","CM","CL","CT","VC","EX","GA","MD","MC","NC","PV","RI","CE","ML"],uge=({onAddTopic:t})=>{const e=df(),[n,r]=U.useState(!1),[i,a]=U.useState([]),[s,u]=U.useState({title:"",description:"",category:"Economa"});U.useEffect(()=>{(async()=>{try{const h=await sge();a(h)}catch{console.error("Failed to fetch suggestions")}})()},[]);const c=async f=>{if(f.preventDefault(),!(!s.title||!s.description)){r(!0);try{const h=await oge(s.title,s.description),p={};lge.forEach(b=>{p[b]={support:0,oppose:0,neutral:0}});const g={id:Math.random().toString(36).substr(2,9),title:s.title,description:s.description,category:s.category,createdAt:Date.now(),votes:{support:0,oppose:0,neutral:0},regionalVotes:p,pros:h.pros,cons:h.cons,aiAnalysis:h.summary,type:"binary",options:["IS_PROPOSAL"],labelSupport:"Me Interesa",labelOppose:"Pasar"};t(g),e("/")}catch{alert("Error al analizar el tema. Por favor, revisa tu conexin o intntalo de nuevo.")}finally{r(!1)}}};return T.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:T.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 shadow-sm overflow-hidden",children:[T.jsxs("div",{className:"bg-indigo-600 px-8 py-10 text-white",children:[T.jsx("h1",{className:"text-3xl font-extrabold mb-2",children:"Proponer un Nuevo Debate"}),T.jsx("p",{className:"text-indigo-100",children:"La IA generar automticamente una lista equilibrada de argumentos y un anlisis para tu tema."})]}),T.jsxs("form",{onSubmit:c,className:"p-8 space-y-8",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Ttulo del Tema"}),T.jsx("input",{type:"text",required:!0,placeholder:"p.ej. Implementacin del voto obligatorio en elecciones generales",className:"w-full px-4 py-3 rounded-xl border border-gray-300 text-gray-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",value:s.title,onChange:f=>u({...s,title:f.target.value})}),i.length>0&&T.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[T.jsx("span",{className:"text-xs text-gray-400 self-center",children:"Sugerencias:"}),i.map(f=>T.jsx("button",{type:"button",onClick:()=>u({...s,title:f}),className:"text-xs bg-gray-100 hover:bg-indigo-50 hover:text-indigo-600 px-2 py-1 rounded transition",children:f},f))]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Categora"}),T.jsxs("select",{className:"w-full px-4 py-3 rounded-xl border border-gray-300 text-gray-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",value:s.category,onChange:f=>u({...s,category:f.target.value}),children:[T.jsx("option",{value:"Economa",className:"text-gray-900",children:"Economa"}),T.jsx("option",{value:"Medio Ambiente",className:"text-gray-900",children:"Medio Ambiente"}),T.jsx("option",{value:"Social",className:"text-gray-900",children:"Social"}),T.jsx("option",{value:"Legal",className:"text-gray-900",children:"Legal"}),T.jsx("option",{value:"Salud",className:"text-gray-900",children:"Salud"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Duracin de la Votacin"}),T.jsx("select",{disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-100 bg-gray-50 text-gray-400 cursor-not-allowed",children:T.jsx("option",{children:"7 Das (Estndar)"})})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Descripcin y Contexto"}),T.jsx("textarea",{required:!0,rows:4,placeholder:"Proporciona un breve resumen de por qu este tema es importante y qu se debera votar especficamente.",className:"w-full px-4 py-3 rounded-xl border border-gray-300 text-gray-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",value:s.description,onChange:f=>u({...s,description:f.target.value})})]}),T.jsxs("div",{className:"pt-4 border-t border-gray-100 flex justify-end items-center space-x-4",children:[T.jsx("button",{type:"button",onClick:()=>e("/"),className:"px-6 py-3 text-sm font-bold text-gray-600 hover:text-gray-900",children:"Cancelar"}),T.jsx("button",{type:"submit",disabled:n,className:`px-10 py-3 bg-indigo-600 text-white font-bold rounded-xl shadow-lg shadow-indigo-200 transition-all ${n?"opacity-50 cursor-not-allowed":"hover:bg-indigo-700 active:scale-95"}`,children:n?"Analizando...":"Proponer Tema"})]})]})]})})},cge=({isOpen:t,onClose:e})=>{const[n,r]=U.useState(!1),[i,a]=U.useState("password"),[s,u]=U.useState("signin"),[c,f]=U.useState(""),[h,p]=U.useState(""),[g,b]=U.useState(""),[S,E]=U.useState(""),[x,A]=U.useState(!1),[O,C]=U.useState(!1);U.useEffect(()=>{p(""),C(!1)},[s]);const P=async I=>{I.preventDefault(),r(!0);const{error:D}=await De.auth.signInWithOtp({email:c,options:{emailRedirectTo:window.location.origin}});D?alert("Error: "+D.message):A(!0),r(!1)},R=async I=>{r(!0);const{error:D}=await De.auth.signInWithOAuth({provider:I,options:{redirectTo:window.location.origin}});D&&(alert("Error con "+I+": "+D.message),r(!1))},N=async I=>{if(I.preventDefault(),r(!0),s==="signup"){if(!g){alert("Por favor, elige un nombre de usuario."),r(!1);return}const{data:D}=await De.from("profiles").select("username").eq("username",g).single();if(D){alert("Este nombre de usuario ya est cogido. Por favor elige otro."),r(!1);return}const{data:L,error:V}=await De.auth.signUp({email:c,password:h,options:{data:{username:g,region:S}}});V?V.message.includes("unique constraint")||V.message.includes("profiles_username_key")?alert("El nombre de usuario no est disponible."):alert("Error al registrarse: "+V.message):(alert("Usuario registrado! "+(L.session?"Sesin iniciada.":"Por favor revisa tu correo para confirmar.")),L.session&&e())}else{const{error:D}=await De.auth.signInWithPassword({email:c,password:h});D?alert("Error al entrar: "+D.message):e()}r(!1)};return t?T.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[T.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity",onClick:e}),T.jsx("div",{className:"relative bg-white w-full max-w-md rounded-3xl shadow-2xl overflow-hidden transform transition-all border border-gray-100",children:T.jsxs("div",{className:"p-8",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Acceso Ciudadano"}),T.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition p-1 hover:bg-gray-100 rounded-full",children:T.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),T.jsx("div",{className:"flex flex-col gap-3 mb-6",children:T.jsxs("button",{onClick:()=>R("google"),className:"flex items-center justify-center w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 transition",children:[T.jsxs("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[T.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),T.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),T.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),T.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continuar con Google"]})}),T.jsxs("div",{className:"relative mb-6",children:[T.jsx("div",{className:"absolute inset-0 flex items-center",children:T.jsx("div",{className:"w-full border-t border-gray-200"})}),T.jsx("div",{className:"relative flex justify-center text-sm",children:T.jsx("span",{className:"px-2 bg-white text-gray-500",children:"O usa tu correo"})})]}),T.jsxs("div",{className:"flex space-x-2 mb-6 bg-gray-100 p-1 rounded-lg",children:[T.jsx("button",{onClick:()=>a("password"),className:`flex - 1 py - 1.5 text - sm font - medium rounded - md transition - all ${i==="password"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"} `,children:"Contrasea"}),T.jsx("button",{onClick:()=>a("magic_link"),className:`flex - 1 py - 1.5 text - sm font - medium rounded - md transition - all ${i==="magic_link"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"} `,children:"Link Mgico"})]}),i==="magic_link"?x?T.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg border border-blue-100",children:[T.jsx("h3",{className:"text-lg font-medium text-blue-900",children:"Enlace enviado!"}),T.jsxs("p",{className:"mt-2 text-sm text-blue-600",children:["Revisa ",c]}),T.jsx("button",{onClick:e,className:"mt-4 text-sm font-medium text-blue-600 hover:text-blue-500",children:"Cerrar"})]}):T.jsxs("form",{onSubmit:P,className:"space-y-4",children:[T.jsx("p",{className:"text-gray-600 text-sm",children:"Te enviaremos un enlace a tu correo. Sin contraseas."}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Correo Electrnico"}),T.jsx("input",{type:"email",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"ejemplo@correo.com",value:c,onChange:I=>f(I.target.value)})]}),T.jsx("button",{type:"submit",disabled:n,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-full font-bold shadow-md disabled:opacity-50",children:n?"Enviando...":"Enviar Enlace Mgico "})]}):T.jsxs("form",{onSubmit:N,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Correo Electrnico"}),T.jsx("input",{type:"email",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"ejemplo@correo.com",value:c,onChange:I=>f(I.target.value)})]}),s==="signup"&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre de Usuario"}),T.jsx("input",{type:"text",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"usuario_unico",value:g,onChange:I=>b(I.target.value)})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Comunidad Autnoma"}),T.jsxs("select",{required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",value:S,onChange:I=>E(I.target.value),children:[T.jsx("option",{value:"",children:"Selecciona tu regin..."}),T.jsx("option",{value:"AN",children:"Andaluca"}),T.jsx("option",{value:"AR",children:"Aragn"}),T.jsx("option",{value:"AS",children:"Asturias"}),T.jsx("option",{value:"IB",children:"Baleares"}),T.jsx("option",{value:"CN",children:"Canarias"}),T.jsx("option",{value:"CB",children:"Cantabria"}),T.jsx("option",{value:"CM",children:"Castilla-La Mancha"}),T.jsx("option",{value:"CL",children:"Castilla y Len"}),T.jsx("option",{value:"CT",children:"Catalua"}),T.jsx("option",{value:"CE",children:"Ceuta"}),T.jsx("option",{value:"VC",children:"Comunidad Valenciana"}),T.jsx("option",{value:"EX",children:"Extremadura"}),T.jsx("option",{value:"GA",children:"Galicia"}),T.jsx("option",{value:"RI",children:"La Rioja"}),T.jsx("option",{value:"MD",children:"Madrid"}),T.jsx("option",{value:"ML",children:"Melilla"}),T.jsx("option",{value:"MC",children:"Murcia"}),T.jsx("option",{value:"NC",children:"Navarra"}),T.jsx("option",{value:"PV",children:"Pas Vasco"})]})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contrasea"}),s==="signup"?T.jsxs("div",{className:"relative mt-1",children:[T.jsx("input",{type:O?"text":"password",required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 pr-10",placeholder:"********",value:h,onChange:I=>p(I.target.value),autoComplete:"new-password"}),h.length>0&&T.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 focus:outline-none",onClick:()=>C(!O),children:O?T.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):T.jsxs("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}):T.jsx("input",{type:"password",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"********",value:h,onChange:I=>p(I.target.value)})]}),T.jsx("button",{type:"submit",disabled:n,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-full font-bold shadow-md disabled:opacity-50",children:n?"Procesando...":s==="signin"?"Iniciar Sesin":"Registrarse"}),T.jsx("div",{className:"text-center mt-4",children:T.jsx("button",{type:"button",className:"text-sm text-indigo-600 hover:text-indigo-500 font-medium",onClick:()=>u(s==="signin"?"signup":"signin"),children:s==="signin"?"No tienes cuenta? Regstrate":"Ya tienes cuenta? Inicia Sesin"})})]}),T.jsx("div",{className:"mt-8 text-center",children:T.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest font-bold",children:"Powered by Supabase Auth"})})]})})]}):null},vj="G-P4NBXBDES5",fge=()=>{const[t,e]=U.useState(!1);U.useEffect(()=>{const a=localStorage.getItem("cookie_consent");if(a==="accepted")n();else if(!a){const s=setTimeout(()=>e(!0),500);return()=>clearTimeout(s)}},[]);const n=()=>{if(document.getElementById("ga-script"))return;const a=document.createElement("script");a.id="ga-script",a.async=!0,a.src=`https://www.googletagmanager.com/gtag/js?id=${vj}`,document.head.appendChild(a);const s=document.createElement("script");s.innerHTML=`
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', '${vj}');
    `,document.head.appendChild(s)},r=()=>{localStorage.setItem("cookie_consent","accepted"),n(),e(!1)},i=()=>{localStorage.setItem("cookie_consent","rejected"),e(!1)};return t?T.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-[0_-4px_20px_rgba(0,0,0,0.1)] z-[200] p-4 md:p-6 animate-fade-in-up",children:T.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-4",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-1",children:" Poltica de Cookies"}),T.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Utilizamos cookies para analizar el trfico (Google Analytics) y mejorar la experiencia. Sin tu permiso, no cargaremos scripts de seguimiento. Solo almacenamos tu sesin tcnica."})]}),T.jsxs("div",{className:"flex w-full md:w-auto gap-3",children:[T.jsx("button",{onClick:i,className:"flex-1 md:flex-none px-4 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors",children:"Solo Esenciales"}),T.jsx("button",{onClick:r,className:"flex-1 md:flex-none px-6 py-2.5 text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 rounded-lg shadow-sm transition-colors",children:"Aceptar Todo"})]})]})}):null},dge=t=>{if(!/^\d{8}[A-Za-z]$/.test(t))return!1;const n=parseInt(t.substring(0,8),10),r=t.substring(8,9).toUpperCase(),a="TRWAGMYFPDXBNJZSQVHLCKE".charAt(n%23);return r===a},hge=[{code:"MD",name:"Madrid"},{code:"CT",name:"Catalua"},{code:"AN",name:"Andaluca"},{code:"VC",name:"Comunidad Valenciana"},{code:"GA",name:"Galicia"},{code:"PV",name:"Pas Vasco"},{code:"CL",name:"Castilla y Len"},{code:"CM",name:"Castilla-La Mancha"},{code:"AR",name:"Aragn"},{code:"EX",name:"Extremadura"},{code:"IB",name:"Baleares"},{code:"CN",name:"Canarias"},{code:"AS",name:"Asturias"},{code:"CB",name:"Cantabria"},{code:"NC",name:"Navarra"},{code:"MC",name:"Murcia"},{code:"RI",name:"La Rioja"},{code:"CE",name:"Ceuta"},{code:"ML",name:"Melilla"}],pge=["Estudiante","Desempleado","Trabajador Manual / Obrero","Trabajador Servicios / Administrativo","Profesional Tcnico / Autnomo","Directivo / Empresario","Jubilado","Otras"],mge=["Masculino","Femenino","Otro","Prefiero no decir"],gge=({user:t})=>{const[e,n]=U.useState(t.region||""),[r,i]=U.useState(""),[a,s]=U.useState(""),[u,c]=U.useState(""),[f,h]=U.useState(""),[p,g]=U.useState({dni:"",age:"",occupation:"",gender:""}),[b,S]=U.useState(!1),[E,x]=U.useState(null);U.useEffect(()=>{n(t.region||""),(async()=>{const{data:R}=await De.from("profiles").select("dni, avatar_url, age, occupation, gender").eq("id",t.id).single();if(R){const N=R.dni||"",I=R.age?R.age.toString():"",D=R.occupation||"",L=R.gender||"";i(N),s(I),c(D),h(L),g({dni:N,age:I,occupation:D,gender:L})}})()},[t.id,t.region]);const A=e!==(t.region||"")||r!==p.dni||a!==p.age||u!==p.occupation||f!==p.gender,O=async()=>{if(x(null),r&&!dge(r)){x({type:"error",text:"El DNI introducido no es vlido. Verifica la letra."});return}S(!0);try{await _n.updateUserProfile(t.id,{region:e,dni:r||void 0,avatar_url:"",age:a?parseInt(a):void 0,occupation:u||void 0,gender:f||void 0}),x({type:"success",text:"Perfil actualizado correctamente."}),g({dni:r,age:a,occupation:u,gender:f})}catch(P){x({type:"error",text:"Error al actualizar: "+P.message})}finally{S(!1)}},C=async()=>{if(window.confirm("Ests seguro de que quieres eliminar tu usuario? Esta accin borrar todos tus datos y no se puede deshacer.")){S(!0);try{const{error:P}=await De.from("profiles").delete().eq("id",t.id);if(P)throw P;await De.auth.signOut(),window.location.href="/"}catch(P){alert("Error al eliminar cuenta: "+P.message),S(!1)}}};return T.jsxs("div",{className:"max-w-2xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[T.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[T.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[T.jsx("h3",{className:"text-lg leading-6 font-bold text-gray-900",children:"Mi Perfil"}),T.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Detalles de tu cuenta en La Voz Del Pueblo."})]}),T.jsx("div",{className:"border-t border-gray-200",children:T.jsxs("dl",{children:[T.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[T.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Nombre de Usuario"}),T.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 font-medium flex items-center",children:t.name})]}),T.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[T.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Correo Electrnico"}),T.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:t.email})]}),T.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[T.jsx("dt",{className:"text-sm font-medium text-gray-500 pt-3",children:"Ocupacin / Clase"}),T.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:T.jsxs("select",{value:u,onChange:P=>c(P.target.value),className:"block w-full max-w-xs pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md border",children:[T.jsx("option",{value:"",disabled:!0,children:"Selecciona tu ocupacin..."}),pge.map(P=>T.jsx("option",{value:P,children:P},P))]})})]}),T.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[T.jsx("dt",{className:"text-sm font-medium text-gray-500 pt-3",children:"Datos Demogrficos"}),T.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:T.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-xs",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Edad"}),T.jsx("input",{type:"number",min:"16",max:"120",value:a,onChange:P=>s(P.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Gnero"}),T.jsxs("select",{value:f,onChange:P=>h(P.target.value),className:"block w-full pl-3 pr-8 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[T.jsx("option",{value:"",disabled:!0,children:"Selecciona..."}),mge.map(P=>T.jsx("option",{value:P,children:P},P))]})]})]})})]}),T.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[T.jsx("dt",{className:"text-sm font-medium text-gray-500 pt-3",children:"Comunidad Autnoma"}),T.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:T.jsxs("div",{className:"flex flex-col space-y-3",children:[T.jsxs("select",{value:e,onChange:P=>n(P.target.value),className:"block w-full max-w-xs pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md border",children:[T.jsx("option",{value:"",disabled:!0,children:"Selecciona tu CCAA..."}),hge.map(P=>T.jsx("option",{value:P.code,children:P.name},P.code))]}),T.jsx("p",{className:"text-xs text-gray-400",children:"Tu CCAA se utiliza para registrar tus votos automticamente."})]})})]})]})})]}),T.jsx("div",{className:"px-4 py-3 bg-gray-50 text-right sm:px-6 border-t border-gray-200",children:T.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[E&&T.jsx("span",{className:`text-sm font-medium ${E.type==="success"?"text-green-600":"text-red-600"}`,children:E.text}),T.jsx("button",{onClick:O,disabled:b||!A,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Guardando...":"Guardar Cambios"})]})}),T.jsxs("div",{className:"mt-10 bg-white shadow sm:rounded-lg overflow-hidden border border-red-200",children:[T.jsxs("div",{className:"px-4 py-5 sm:px-6 bg-red-50",children:[T.jsx("h3",{className:"text-lg leading-6 font-medium text-red-900",children:"Zona de Peligro"}),T.jsx("p",{className:"mt-1 max-w-2xl text-sm text-red-700",children:"Acciones irreversibles para tu cuenta."})]}),T.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[T.jsx("div",{className:"max-w-xl text-sm text-gray-500",children:T.jsx("p",{children:"Una vez que elimines tu cuenta, no hay vuelta atrs. Por favor, asegrate."})}),T.jsx("div",{className:"mt-5",children:T.jsx("button",{type:"button",onClick:C,className:"inline-flex items-center justify-center px-4 py-2 border border-transparent font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:text-sm",children:"Eliminar mi usuario"})})]})]})]})},vge=({userId:t})=>{const[e,n]=U.useState([]),[r,i]=U.useState(!0);U.useEffect(()=>{t&&(async()=>{try{const u=await _n.fetchUserVotes(t);n(u.filter(c=>{var f;return!((f=c.topic.options)!=null&&f.includes("IS_PROPOSAL"))}))}catch(u){console.error("Error loading votes:",u)}finally{i(!1)}})()},[t]);const a=(s,u)=>{if(u)return T.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800 border border-blue-200",children:u});switch(s){case"support":return T.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"A Favor"});case"oppose":return T.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"En Contra"});default:return T.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:"Neutral"})}};return r?T.jsx("div",{className:"p-8 text-center",children:"Cargando historial..."}):T.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Mis Votos"}),e.length===0?T.jsxs("div",{className:"text-center py-10 bg-gray-50 rounded-lg",children:[T.jsx("p",{className:"text-gray-500",children:"An no has votado en ningn tema."}),T.jsx(It,{to:"/",className:"mt-4 inline-block text-blue-600 hover:text-blue-500",children:"Ir a votar "})]}):T.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:T.jsx("ul",{className:"divide-y divide-gray-200",children:e.map(s=>T.jsx("li",{children:T.jsx(It,{to:`/topic/${s.topic_id}`,className:"block hover:bg-gray-50",children:T.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("p",{className:"text-sm font-medium text-blue-600 truncate",children:s.topic.title}),T.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:a(s.choice,s.choice_option)})]}),T.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[T.jsx("div",{className:"sm:flex",children:T.jsx("p",{className:"flex items-center text-sm text-gray-500",children:s.topic.category})}),T.jsx("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:T.jsxs("p",{children:["Votado el ",new Date(s.created_at).toLocaleDateString()]})})]})]})})},s.id))})})]})},yge=({userId:t})=>{const[e,n]=U.useState([]),[r,i]=U.useState(!0);return U.useEffect(()=>{t&&(async()=>{try{const u=(await _n.fetchUserVotes(t)).filter(c=>{var f;return(f=c.topic.options)==null?void 0:f.includes("IS_PROPOSAL")});n(u)}catch(s){console.error("Error loading supports:",s)}finally{i(!1)}})()},[t]),r?T.jsx("div",{className:"p-8 text-center",children:"Cargando apoyos..."}):T.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Mis Apoyos"}),e.length===0?T.jsxs("div",{className:"text-center py-10 bg-gray-50 rounded-lg",children:[T.jsx("p",{className:"text-gray-500",children:"An no has apoyado ninguna propuesta."}),T.jsx(It,{to:"/new-topics",className:"mt-4 inline-block text-blue-600 hover:text-blue-500",children:"Ver propuestas recientes "})]}):T.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:T.jsx("ul",{className:"divide-y divide-gray-200",children:e.map(a=>T.jsx("li",{children:T.jsxs("div",{className:"px-4 py-4 sm:px-6 hover:bg-gray-50 transition",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("p",{className:"text-sm font-medium text-blue-600 truncate",children:a.topic.title}),T.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:" Apoyado"})]}),T.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[T.jsx("div",{className:"sm:flex",children:T.jsx("p",{className:"flex items-center text-sm text-gray-500",children:a.topic.category})}),T.jsx("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:T.jsxs("p",{children:["Apoyado el ",new Date(a.created_at).toLocaleDateString()]})})]})]})},a.id))})})]})},bge=[{id:"Poltica",name:"Poltica",icon:T.jsx("svg",{className:"w-12 h-12 drop-shadow-sm",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),description:"Debates sobre gobierno, leyes y derechos."},{id:"Economa",name:"Economa",icon:T.jsx("svg",{className:"w-12 h-12 drop-shadow-sm",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),description:"Impuestos, empleo, moneda y mercados."},{id:"Social",name:"Social",icon:T.jsx("svg",{className:"w-12 h-12 drop-shadow-sm",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),description:"Cuestiones sociales, igualdad y comunidad."},{id:"Medio Ambiente",name:"Medio Ambiente",icon:T.jsx("svg",{className:"w-12 h-12 drop-shadow-sm",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),description:"Cambio climtico, energa y naturaleza."},{id:"Tecnologa",name:"Tecnologa",icon:T.jsx("svg",{className:"w-12 h-12 drop-shadow-sm",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),description:"Innovacin, IA y privacidad digital."},{id:"Sanidad",name:"Sanidad",icon:T.jsx("svg",{className:"w-12 h-12 drop-shadow-sm",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),description:"Salud pblica, medicina y bienestar."},{id:"Educacin",name:"Educacin",icon:T.jsx("svg",{className:"w-12 h-12 drop-shadow-sm",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 14l9-5-9-5-9 5 9 5z M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"})}),description:"Sistema educativo, becas y docencia."},{id:"Ciencia",name:"Ciencia",icon:T.jsx("svg",{className:"w-12 h-12 drop-shadow-sm",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),description:"Investigacin, espacio y descubrimientos."},{id:"Entretenimiento",name:"Entretenimiento",icon:T.jsx("svg",{className:"w-12 h-12 drop-shadow-sm",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),description:"Cine, msica, cultura y ocio."}],_ge=()=>{const[t,e]=U.useState(null),n=()=>{_n.fetchUserCount().then(r=>e(r))};return U.useEffect(()=>{n();const{data:{subscription:r}}=De.auth.onAuthStateChange(i=>{(i==="SIGNED_IN"||i==="SIGNED_OUT")&&setTimeout(n,1500)});return()=>r.unsubscribe()},[]),T.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[T.jsxs("div",{className:"text-center mb-16",children:[T.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 sm:text-5xl sm:tracking-tight lg:text-6xl",children:"Elige tu Campo de Batalla"}),t!==null&&T.jsxs("p",{className:"mt-2 text-sm text-blue-600 font-medium",children:["Ya somos ",T.jsx("span",{className:"font-bold text-lg",children:t.toLocaleString()})," ciudadanos registrados"]}),T.jsx("p",{className:"mt-5 max-w-xl mx-auto text-xl text-gray-500",children:"Selecciona una categora para explorar los debates activos y haz or tu voz."})]}),T.jsx("div",{className:"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:bge.map(r=>T.jsxs(It,{to:`/category/${r.id}`,className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-2xl shadow-sm hover:shadow-lg transition-all duration-200 border border-gray-100 flex flex-col items-center text-center",children:[T.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-20 w-20 rounded-full bg-gradient-to-br from-white via-gray-100 to-gray-200 shadow-[0_4px_10px_rgba(0,0,0,0.1)] border border-white text-gray-700 mb-6 group-hover:scale-105 transition-all duration-300",children:r.icon}),T.jsxs("div",{children:[T.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[T.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),r.name]}),T.jsx("p",{className:"mt-2 text-sm text-gray-500",children:r.description})]})]},r.id))}),T.jsx("div",{className:"mt-12 text-center",children:T.jsx(It,{to:"/latest",className:"text-blue-600 hover:text-blue-500 font-medium",children:"Ver Temas en Votacin "})})]})},xge=({topics:t})=>{const{categoryId:e}=jj(),n=e?decodeURIComponent(e):"",r=t.filter(i=>i.category===n);return T.jsx(lU,{topics:r,title:`Debates de ${n}`,showFilters:!1})},wge=()=>T.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[T.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 mb-8",children:"Trminos y Condiciones de Uso"}),T.jsxs("div",{className:"prose prose-indigo text-gray-500",children:[T.jsx("p",{className:"mb-4",children:"Bienvenido a La Voz del Pueblo. Al acceder y utilizar nuestra plataforma, aceptas cumplir con los siguientes trminos y condiciones. Si no ests de acuerdo con alguna parte de estos trminos, por favor no utilices nuestros servicios."}),T.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"1. Uso de la Plataforma"}),T.jsx("p",{className:"mb-4",children:"Nuestra misin es fomentar el debate democrtico y la participacin ciudadana. Al usar la plataforma, te comprometes a:"}),T.jsxs("ul",{className:"list-disc pl-5 mb-4 space-y-2",children:[T.jsx("li",{children:"Mantener un tono respetuoso y constructivo en los debates."}),T.jsx("li",{children:"No publicar contenido ofensivo, discriminatorio o ilegal."}),T.jsx("li",{children:"Proporcionar informacin veraz en tu perfil de usuario."}),T.jsx("li",{children:"No intentar manipular las votaciones mediante el uso de bots o cuentas falsas (salvo las generadas por el sistema para demostraciones internas)."})]}),T.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"2. Registro y Seguridad"}),T.jsx("p",{className:"mb-4",children:"Para participar en las votaciones, es necesario registrarse. Eres responsable de mantener la confidencialidad de tus credenciales de acceso y de toda la actividad que ocurra bajo tu cuenta."}),T.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"3. Propiedad Intelectual"}),T.jsx("p",{className:"mb-4",children:"El contenido generado por los usuarios (comentarios, propuestas) es propiedad de sus respectivos autores, pero al publicarlo en La Voz del Pueblo, nos otorgas una licencia no exclusiva para mostrarlo y utilizarlo con fines estadsticos y analticos."}),T.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"4. Limitacin de Responsabilidad"}),T.jsx("p",{className:"mb-4",children:'La Voz del Pueblo ofrece esta plataforma "tal cual" para fines informativos y de participacin. No nos hacemos responsables de las opiniones vertidas por los usuarios ni garantizamos que los resultados de las votaciones sean vinculantes para ninguna institucin gubernamental.'}),T.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"5. Modificaciones"}),T.jsx("p",{className:"mb-4",children:"Nos reservamos el derecho de modificar estos trminos en cualquier momento. Te notificaremos sobre cambios significativos a travs de la plataforma."}),T.jsx("p",{className:"mt-8 text-sm text-gray-400",children:"ltima actualizacin: Enero 2026"})]})]}),Sge=()=>T.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[T.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 mb-8",children:"Poltica de Privacidad"}),T.jsxs("div",{className:"prose prose-indigo text-gray-500",children:[T.jsx("p",{className:"mb-4",children:"En La Voz del Pueblo, nos tomamos muy en serio tu privacidad. Esta poltica describe cmo recopilamos, usamos y protegemos tu informacin personal."}),T.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"1. Informacin que Recopilamos"}),T.jsxs("ul",{className:"list-disc pl-5 mb-4 space-y-2",children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Datos de Registro:"})," Correo electrnico, nombre de usuario y contrasea (cifrada)."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Perfil Demogrfico:"})," Edad, ocupacin, gnero y comunidad autnoma. Estos datos se utilizan para segmentar estadsticas."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Actividad:"})," Tu historial de votos y propuestas en la plataforma."]})]}),T.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"2. Uso de la Informacin"}),T.jsx("p",{className:"mb-4",children:"Utilizamos tus datos exclusivamente para:"}),T.jsxs("ul",{className:"list-disc pl-5 mb-4 space-y-2",children:[T.jsx("li",{children:"Gestionar tu cuenta y autenticacin."}),T.jsx("li",{children:'Generar estadsticas demogrficas annimas sobre las votaciones (ej. "Qu opinan los estudiantes en Madrid?").'}),T.jsx("li",{children:"Mejorar la experiencia de usuario en la plataforma."})]}),T.jsx("p",{className:"mb-4 font-semibold",children:"Nunca vendemos tus datos personales a terceros."}),T.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"3. Seguridad de los Datos"}),T.jsx("p",{className:"mb-4",children:"Utilizamos Supabase como proveedor de infraestructura, que implementa estndares de seguridad de la industria (cifrado en trnsito y en reposo) para proteger tu informacin."}),T.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"4. Tus Derechos"}),T.jsx("p",{className:"mb-4",children:'Tienes derecho a acceder, rectificar o eliminar tus datos personales en cualquier momento. Puedes gestionar tu perfil desde la seccin "Mi Perfil" o contactarnos para una eliminacin completa de la cuenta.'}),T.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"5. Cookies"}),T.jsx("p",{className:"mb-4",children:"Utilizamos cookies esenciales para mantener tu sesin iniciada. No utilizamos cookies de rastreo publicitario de terceros."}),T.jsx("p",{className:"mt-8 text-sm text-gray-400",children:"ltima actualizacin: Enero 2026"})]})]}),Ege=({topics:t,user:e,onVote:n,onRemoveVote:r,onRequireAuth:i})=>{const a=df(),u=[...t.filter(h=>{var p;return(p=h.options)==null?void 0:p.includes("IS_PROPOSAL")})].sort((h,p)=>{var S,E;const g=((S=h.votes)==null?void 0:S.support)||0;return(((E=p.votes)==null?void 0:E.support)||0)-g}),c=(h,p)=>{if(h.stopPropagation(),h.preventDefault(),!e){i();return}if(!e.region){alert("Necesitas completar tu perfil con tu regin para votar.");return}n(p.id,"support",e.region)},f=(h,p)=>{h.stopPropagation(),h.preventDefault(),r(p.id)};return T.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[T.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8",children:[T.jsxs("div",{children:[T.jsx("h1",{className:"text-3xl font-extrabold text-gray-900",children:"Nuevos Temas Propuestos"}),T.jsx("p",{className:"text-gray-500 mt-2",children:"Apoya con un  los temas que te gustara ver en debate oficial."})]}),T.jsxs("button",{onClick:()=>a("/propose"),className:"mt-4 md:mt-0 px-6 py-3 bg-blue-600 text-white font-bold rounded-xl shadow-lg hover:bg-blue-700 transition flex items-center",children:[T.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Proponer Tema"]})]}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.map(h=>{var g;const p=((g=h.votes)==null?void 0:g.support)||0;return T.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 hover:shadow-xl transition-shadow duration-300 flex flex-col h-full group",children:[T.jsxs("div",{className:"flex justify-between items-start mb-4",children:[T.jsx("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-xs font-semibold bg-blue-50 text-blue-700",children:h.category}),T.jsx("span",{className:"text-gray-400 text-xs",children:new Date(h.createdAt).toLocaleDateString()})]}),T.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 line-clamp-2",children:h.title}),T.jsx("p",{className:"text-gray-600 text-sm line-clamp-3 mb-6 flex-grow",children:h.description}),T.jsxs("div",{className:"mt-auto pt-6 border-t border-gray-100 flex items-center justify-between",children:[T.jsxs("div",{className:"text-sm font-medium text-gray-500",children:[T.jsx("span",{className:"text-2xl font-bold text-gray-900 mr-1",children:p})," apoyos"]}),h.hasVoted?T.jsxs("button",{onClick:b=>f(b,h),className:"flex items-center space-x-2 px-6 py-2 bg-red-50 text-red-600 rounded-full font-bold hover:bg-red-100 transition active:scale-95 border border-red-100",children:[T.jsx("span",{children:""}),T.jsx("span",{children:"Quitar Apoyo"})]}):T.jsxs("button",{onClick:b=>c(b,h),className:"flex items-center space-x-2 px-6 py-2 bg-blue-50 text-blue-600 rounded-full font-bold hover:bg-blue-600 hover:text-white transition-all active:scale-95 group/btn shadow-sm",children:[T.jsx("span",{className:"group-hover/btn:scale-110 transition-transform",children:""}),T.jsx("span",{children:"Apoyar"})]})]})]},h.id)})}),u.length===0&&T.jsxs("div",{className:"text-center py-20 bg-white rounded-3xl border-2 border-dashed border-gray-300",children:[T.jsx("p",{className:"text-gray-500 text-lg",children:"No hay propuestas activas. S el primero en proponer un tema!"}),T.jsx("button",{onClick:()=>a("/propose"),className:"mt-4 text-blue-600 font-bold hover:underline",children:"Proponer ahora "})]})]})},Tge=t=>{if(!t)return"??";const n=t.replace(/[._-]/g," ").trim().split(/\s+/).filter(Boolean);return n.length===0?"??":n.length>=2?(n[0][0]+n[1][0]).toUpperCase():n[0].substring(0,2).toUpperCase()},Age=({user:t,onLogin:e,onLogout:n})=>{const r=Pa(),i=df(),a=p=>r.pathname===p,[s,u]=U.useState(!1),[c,f]=U.useState(!1),h=async()=>{u(!1),f(!1),await n(),i("/")};return T.jsxs("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:[T.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"flex justify-between h-16",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("div",{className:"-ml-2 mr-2 flex items-center sm:hidden",children:T.jsxs("button",{onClick:()=>f(!c),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 transition-colors",children:[T.jsx("span",{className:"sr-only",children:"Open main menu"}),T.jsx("svg",{className:`${c?"hidden":"block"} h-6 w-6`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),T.jsx("svg",{className:`${c?"block":"hidden"} h-6 w-6`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})}),T.jsxs(It,{to:"/",className:"flex items-center space-x-2",children:[T.jsx("div",{className:"bg-blue-600 text-white p-2 rounded-lg",children:T.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2-2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),T.jsxs("span",{className:"text-xl font-extrabold text-gray-900 tracking-tight",children:["La Voz Del ",T.jsx("span",{className:"text-blue-600",children:"Pueblo"})]})]})]}),T.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[T.jsx(It,{to:"/",className:`${a("/")?"border-blue-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium`,children:"Temas en Votacin"}),T.jsx(It,{to:"/new-topics",className:`${a("/new-topics")?"border-blue-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium`,children:"Nuevos Temas"})]}),T.jsx("div",{className:"flex items-center space-x-4",children:t?T.jsxs("div",{className:"flex items-center space-x-3 bg-gray-50 pr-1 pl-3 py-1 rounded-full border border-gray-200",children:[T.jsxs(It,{to:"/profile",className:"flex items-center space-x-2 hover:opacity-80",children:[T.jsx("span",{className:"text-xs font-bold text-gray-700",children:t.name}),T.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-700 font-bold text-xs border border-white shadow-sm",children:Tge(t.name)})]}),T.jsxs("div",{className:"relative",children:[T.jsx("button",{onClick:()=>u(!s),className:"p-1 text-gray-400 hover:text-gray-600 focus:outline-none rounded-full hover:bg-gray-100 transition-colors",children:T.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})}),s&&T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"fixed inset-0 z-10 w-full h-full",onClick:()=>u(!1)}),T.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 ring-1 ring-black ring-opacity-5 z-20",children:[T.jsx(It,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>u(!1),children:"Configuracin"}),T.jsx(It,{to:"/profile/votes",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>u(!1),children:"Mis Votos"}),T.jsx(It,{to:"/profile/supports",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>u(!1),children:"Mis Apoyos"}),T.jsx(It,{to:"/propose",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>u(!1),children:"Proponer Tema"}),T.jsx("button",{onClick:()=>{h(),u(!1)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-50 bg-red-50/10 border-t border-gray-100",children:"Cerrar Sesin"})]})]})]}),T.jsx("div",{className:"h-4 w-px bg-gray-300 mx-1"}),T.jsx("button",{onClick:h,className:"p-1.5 text-gray-400 hover:text-red-500 transition",title:"Cerrar Sesin",children:T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]}):T.jsx("button",{onClick:e,className:"bg-blue-600 text-white px-6 py-2 rounded-full text-sm font-bold shadow-lg shadow-blue-100 hover:bg-blue-700 transition active:scale-95",children:"Iniciar Sesin"})})]})}),c&&T.jsx("div",{className:"sm:hidden bg-white border-t border-gray-200",children:T.jsxs("div",{className:"pt-2 pb-3 space-y-1",children:[T.jsx(It,{to:"/",className:`${a("/")?"bg-blue-50 border-blue-500 text-blue-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700"} block pl-3 pr-4 py-2 border-l-4 text-base font-medium`,onClick:()=>f(!1),children:"Temas en Votacin"}),T.jsx(It,{to:"/new-topics",className:`${a("/new-topics")?"bg-blue-50 border-blue-500 text-blue-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700"} block pl-3 pr-4 py-2 border-l-4 text-base font-medium`,onClick:()=>f(!1),children:"Nuevos Temas"})]})})]})},Cge=()=>{const[t,e]=U.useState([]),[n,r]=U.useState(null),[i,a]=U.useState(!1),s=async()=>{try{const p=await _n.fetchTopics();if(n){const g=await _n.fetchUserVotes(n.id),b=new Set(g.map(E=>E.topic_id)),S=p.map(E=>({...E,hasVoted:b.has(E.id)}));e(S)}else e(p)}catch(p){console.error("Error fetching topics:",p)}};U.useEffect(()=>{s()},[n]),U.useEffect(()=>{De.auth.getSession().then(({data:{session:g}})=>{g!=null&&g.user&&u(g.user)});const{data:{subscription:p}}=De.auth.onAuthStateChange((g,b)=>{b!=null&&b.user?u(b.user):r(null)});return()=>{p.unsubscribe()}},[]);const u=async p=>{var S,E,x,A;const g=((S=p.user_metadata)==null?void 0:S.username)||((E=p.email)==null?void 0:E.split("@")[0])||"Ciudadano";let{data:b}=await De.from("profiles").select("region, is_fake, avatar_url").eq("id",p.id).single();if(!b){console.log("Profile missing for user. Attempting auto-repair...");try{const{error:O}=await De.from("profiles").insert({id:p.id,region:((x=p.user_metadata)==null?void 0:x.region)||"MD",is_fake:!1});if(O){console.error("Auto-repair failed:",O),await De.auth.signOut(),r(null);return}else{const{data:C}=await De.from("profiles").select("region, is_fake, avatar_url").eq("id",p.id).single();b=C}}catch(O){console.error("Auto-repair exception:",O),await De.auth.signOut(),r(null);return}}r({id:p.id,name:g,email:p.email||"",avatar:(b==null?void 0:b.avatar_url)||"",region:(b==null?void 0:b.region)||((A=p.user_metadata)==null?void 0:A.region),is_fake:b==null?void 0:b.is_fake})},c=async p=>{try{await _n.createTopic(p),await s()}catch(g){alert("Error creating topic: "+g.message)}},f=async(p,g,b,S)=>{if(!n){a(!0);return}try{await _n.castVote(p,g,b,S),await s()}catch(E){alert(E.message)}},h=async p=>{if(n)try{await _n.removeVote(p),await s()}catch(g){alert(g.message)}};return T.jsx(JS,{children:T.jsx(gH,{children:T.jsxs("div",{className:"min-h-screen flex flex-col relative",children:[T.jsx(Age,{user:n,onLogin:()=>a(!0),onLogout:async()=>{await De.auth.signOut(),r(null)}}),T.jsx("main",{className:"flex-grow",children:T.jsxs(F8,{children:[T.jsx(cr,{path:"/",element:T.jsx(_ge,{})}),T.jsx(cr,{path:"/latest",element:T.jsx(lU,{topics:t})}),T.jsx(cr,{path:"/category/:categoryId",element:T.jsx(xge,{topics:t})}),T.jsx(cr,{path:"/topic/:id",element:T.jsx(Kle,{topics:t,onVote:f,user:n,onRequireAuth:()=>a(!0)})}),T.jsx(cr,{path:"/propose",element:T.jsx(uge,{onAddTopic:c})}),T.jsx(cr,{path:"/new-topics",element:T.jsx(Ege,{topics:t,user:n,onVote:f,onRemoveVote:h,onRequireAuth:()=>a(!0)})}),n&&T.jsxs(T.Fragment,{children:[T.jsx(cr,{path:"/profile",element:T.jsx(gge,{user:n})}),T.jsx(cr,{path:"/profile/votes",element:T.jsx(vge,{userId:n.id})}),T.jsx(cr,{path:"/profile/supports",element:T.jsx(yge,{userId:n.id})})]}),T.jsx(cr,{path:"/terms",element:T.jsx(wge,{})}),T.jsx(cr,{path:"/privacy",element:T.jsx(Sge,{})})]})}),T.jsx(cge,{isOpen:i,onClose:()=>a(!1)}),T.jsx("footer",{className:"bg-white/80 backdrop-blur-sm border-t border-gray-200 py-12 mt-12",children:T.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center text-gray-500 text-sm",children:[T.jsx("p",{children:" 2026 LaVozDelPueblo.es. Todos los derechos reservados."}),T.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[T.jsx(It,{to:"/terms",className:"hover:text-blue-600 transition",children:"Trminos"}),T.jsx(It,{to:"/privacy",className:"hover:text-blue-600 transition",children:"Privacidad"})]})]})}),T.jsx(fge,{})]})})})},V3=document.getElementById("root");if(!V3)throw new Error("Could not find root element to mount to");const Oge=w6.createRoot(V3);Oge.render(T.jsx(G.StrictMode,{children:T.jsx(JS,{children:T.jsx(Cge,{})})}));
