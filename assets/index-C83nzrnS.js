var sG=Object.defineProperty;var lG=(t,e,n)=>e in t?sG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var xi=(t,e,n)=>lG(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ve(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xv={exports:{}},Nu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EO;function uG(){if(EO)return Nu;EO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Nu.Fragment=e,Nu.jsx=n,Nu.jsxs=n,Nu}var TO;function cG(){return TO||(TO=1,Xv.exports=uG()),Xv.exports}var R=cG(),Qv={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AO;function fG(){if(AO)return Me;AO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function b(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,w={};function T(q,Y,re){this.props=q,this.context=Y,this.refs=w,this.updater=re||x}T.prototype.isReactComponent={},T.prototype.setState=function(q,Y){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Y,"setState")},T.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function C(){}C.prototype=T.prototype;function A(q,Y,re){this.props=q,this.context=Y,this.refs=w,this.updater=re||x}var P=A.prototype=new C;P.constructor=A,E(P,T.prototype),P.isPureReactComponent=!0;var O=Array.isArray;function M(){}var I={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function L(q,Y,re){var ce=re.ref;return{$$typeof:t,type:q,key:Y,ref:ce!==void 0?ce:null,props:re}}function G(q,Y){return L(q.type,Y,q.props)}function $(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function W(q){var Y={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(re){return Y[re]})}var F=/\/+/g;function X(q,Y){return typeof q=="object"&&q!==null&&q.key!=null?W(""+q.key):Y.toString(36)}function B(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(M,M):(q.status="pending",q.then(function(Y){q.status==="pending"&&(q.status="fulfilled",q.value=Y)},function(Y){q.status==="pending"&&(q.status="rejected",q.reason=Y)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function U(q,Y,re,ce,me){var we=typeof q;(we==="undefined"||we==="boolean")&&(q=null);var Le=!1;if(q===null)Le=!0;else switch(we){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(q.$$typeof){case t:case e:Le=!0;break;case h:return Le=q._init,U(Le(q._payload),Y,re,ce,me)}}if(Le)return me=me(q),Le=ce===""?"."+X(q,0):ce,O(me)?(re="",Le!=null&&(re=Le.replace(F,"$&/")+"/"),U(me,Y,re,"",function(Ce){return Ce})):me!=null&&($(me)&&(me=G(me,re+(me.key==null||q&&q.key===me.key?"":(""+me.key).replace(F,"$&/")+"/")+Le)),Y.push(me)),1;Le=0;var Xe=ce===""?".":ce+":";if(O(q))for(var fe=0;fe<q.length;fe++)ce=q[fe],we=Xe+X(ce,fe),Le+=U(ce,Y,re,we,me);else if(fe=b(q),typeof fe=="function")for(q=fe.call(q),fe=0;!(ce=q.next()).done;)ce=ce.value,we=Xe+X(ce,fe++),Le+=U(ce,Y,re,we,me);else if(we==="object"){if(typeof q.then=="function")return U(B(q),Y,re,ce,me);throw Y=String(q),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Le}function K(q,Y,re){if(q==null)return q;var ce=[],me=0;return U(q,ce,"","",function(we){return Y.call(re,we,me++)}),ce}function te(q){if(q._status===-1){var Y=q._result;Y=Y(),Y.then(function(re){(q._status===0||q._status===-1)&&(q._status=1,q._result=re)},function(re){(q._status===0||q._status===-1)&&(q._status=2,q._result=re)}),q._status===-1&&(q._status=0,q._result=Y)}if(q._status===1)return q._result.default;throw q._result}var se=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},de={map:K,forEach:function(q,Y,re){K(q,function(){Y.apply(this,arguments)},re)},count:function(q){var Y=0;return K(q,function(){Y++}),Y},toArray:function(q){return K(q,function(Y){return Y})||[]},only:function(q){if(!$(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Me.Activity=p,Me.Children=de,Me.Component=T,Me.Fragment=n,Me.Profiler=i,Me.PureComponent=A,Me.StrictMode=r,Me.Suspense=c,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Me.__COMPILER_RUNTIME={__proto__:null,c:function(q){return I.H.useMemoCache(q)}},Me.cache=function(q){return function(){return q.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(q,Y,re){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ce=E({},q.props),me=q.key;if(Y!=null)for(we in Y.key!==void 0&&(me=""+Y.key),Y)!k.call(Y,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&Y.ref===void 0||(ce[we]=Y[we]);var we=arguments.length-2;if(we===1)ce.children=re;else if(1<we){for(var Le=Array(we),Xe=0;Xe<we;Xe++)Le[Xe]=arguments[Xe+2];ce.children=Le}return L(q.type,me,ce)},Me.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:a,_context:q},q},Me.createElement=function(q,Y,re){var ce,me={},we=null;if(Y!=null)for(ce in Y.key!==void 0&&(we=""+Y.key),Y)k.call(Y,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(me[ce]=Y[ce]);var Le=arguments.length-2;if(Le===1)me.children=re;else if(1<Le){for(var Xe=Array(Le),fe=0;fe<Le;fe++)Xe[fe]=arguments[fe+2];me.children=Xe}if(q&&q.defaultProps)for(ce in Le=q.defaultProps,Le)me[ce]===void 0&&(me[ce]=Le[ce]);return L(q,we,me)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(q){return{$$typeof:u,render:q}},Me.isValidElement=$,Me.lazy=function(q){return{$$typeof:h,_payload:{_status:-1,_result:q},_init:te}},Me.memo=function(q,Y){return{$$typeof:f,type:q,compare:Y===void 0?null:Y}},Me.startTransition=function(q){var Y=I.T,re={};I.T=re;try{var ce=q(),me=I.S;me!==null&&me(re,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(M,se)}catch(we){se(we)}finally{Y!==null&&re.types!==null&&(Y.types=re.types),I.T=Y}},Me.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Me.use=function(q){return I.H.use(q)},Me.useActionState=function(q,Y,re){return I.H.useActionState(q,Y,re)},Me.useCallback=function(q,Y){return I.H.useCallback(q,Y)},Me.useContext=function(q){return I.H.useContext(q)},Me.useDebugValue=function(){},Me.useDeferredValue=function(q,Y){return I.H.useDeferredValue(q,Y)},Me.useEffect=function(q,Y){return I.H.useEffect(q,Y)},Me.useEffectEvent=function(q){return I.H.useEffectEvent(q)},Me.useId=function(){return I.H.useId()},Me.useImperativeHandle=function(q,Y,re){return I.H.useImperativeHandle(q,Y,re)},Me.useInsertionEffect=function(q,Y){return I.H.useInsertionEffect(q,Y)},Me.useLayoutEffect=function(q,Y){return I.H.useLayoutEffect(q,Y)},Me.useMemo=function(q,Y){return I.H.useMemo(q,Y)},Me.useOptimistic=function(q,Y){return I.H.useOptimistic(q,Y)},Me.useReducer=function(q,Y,re){return I.H.useReducer(q,Y,re)},Me.useRef=function(q){return I.H.useRef(q)},Me.useState=function(q){return I.H.useState(q)},Me.useSyncExternalStore=function(q,Y,re){return I.H.useSyncExternalStore(q,Y,re)},Me.useTransition=function(){return I.H.useTransition()},Me.version="19.2.3",Me}var CO;function Fx(){return CO||(CO=1,Qv.exports=fG()),Qv.exports}var j=Fx();const z=Ve(j);var Zv={exports:{}},Iu={},ey={exports:{}},ty={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OO;function dG(){return OO||(OO=1,(function(t){function e(U,K){var te=U.length;U.push(K);e:for(;0<te;){var se=te-1>>>1,de=U[se];if(0<i(de,K))U[se]=K,U[te]=de,te=se;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var K=U[0],te=U.pop();if(te!==K){U[0]=te;e:for(var se=0,de=U.length,q=de>>>1;se<q;){var Y=2*(se+1)-1,re=U[Y],ce=Y+1,me=U[ce];if(0>i(re,te))ce<de&&0>i(me,re)?(U[se]=me,U[ce]=te,se=ce):(U[se]=re,U[Y]=te,se=Y);else if(ce<de&&0>i(me,te))U[se]=me,U[ce]=te,se=ce;else break e}}return K}function i(U,K){var te=U.sortIndex-K.sortIndex;return te!==0?te:U.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],f=[],h=1,p=null,g=3,b=!1,x=!1,E=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function P(U){for(var K=n(f);K!==null;){if(K.callback===null)r(f);else if(K.startTime<=U)r(f),K.sortIndex=K.expirationTime,e(c,K);else break;K=n(f)}}function O(U){if(E=!1,P(U),!x)if(n(c)!==null)x=!0,M||(M=!0,W());else{var K=n(f);K!==null&&B(O,K.startTime-U)}}var M=!1,I=-1,k=5,L=-1;function G(){return w?!0:!(t.unstable_now()-L<k)}function $(){if(w=!1,M){var U=t.unstable_now();L=U;var K=!0;try{e:{x=!1,E&&(E=!1,C(I),I=-1),b=!0;var te=g;try{t:{for(P(U),p=n(c);p!==null&&!(p.expirationTime>U&&G());){var se=p.callback;if(typeof se=="function"){p.callback=null,g=p.priorityLevel;var de=se(p.expirationTime<=U);if(U=t.unstable_now(),typeof de=="function"){p.callback=de,P(U),K=!0;break t}p===n(c)&&r(c),P(U)}else r(c);p=n(c)}if(p!==null)K=!0;else{var q=n(f);q!==null&&B(O,q.startTime-U),K=!1}}break e}finally{p=null,g=te,b=!1}K=void 0}}finally{K?W():M=!1}}}var W;if(typeof A=="function")W=function(){A($)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,X=F.port2;F.port1.onmessage=$,W=function(){X.postMessage(null)}}else W=function(){T($,0)};function B(U,K){I=T(function(){U(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(U){switch(g){case 1:case 2:case 3:var K=3;break;default:K=g}var te=g;g=K;try{return U()}finally{g=te}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var te=g;g=U;try{return K()}finally{g=te}},t.unstable_scheduleCallback=function(U,K,te){var se=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?se+te:se):te=se,U){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=te+de,U={id:h++,callback:K,priorityLevel:U,startTime:te,expirationTime:de,sortIndex:-1},te>se?(U.sortIndex=te,e(f,U),n(c)===null&&U===n(f)&&(E?(C(I),I=-1):E=!0,B(O,te-se))):(U.sortIndex=de,e(c,U),x||b||(x=!0,M||(M=!0,W()))),U},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(U){var K=g;return function(){var te=g;g=K;try{return U.apply(this,arguments)}finally{g=te}}}})(ty)),ty}var RO;function hG(){return RO||(RO=1,ey.exports=dG()),ey.exports}var ny={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PO;function pG(){if(PO)return cn;PO=1;var t=Fx();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:f,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,cn.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(c,f,null,h)},cn.flushSync=function(c){var f=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=f,r.p=h,r.d.f()}},cn.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},cn.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},cn.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,p=u(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:b}):h==="script"&&r.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},cn.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},cn.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=u(h,f.crossOrigin);r.d.L(c,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},cn.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=u(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},cn.requestFormReset=function(c){r.d.r(c)},cn.unstable_batchedUpdates=function(c,f){return c(f)},cn.useFormState=function(c,f,h){return s.H.useFormState(c,f,h)},cn.useFormStatus=function(){return s.H.useHostTransitionStatus()},cn.version="19.2.3",cn}var MO;function mG(){if(MO)return ny.exports;MO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ny.exports=pG(),ny.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NO;function gG(){if(NO)return Iu;NO=1;var t=hG(),e=Fx(),n=mG();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(o.tag===31){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(r(188))}function f(o){var l=o.alternate;if(!l){if(l=a(o),l===null)throw Error(r(188));return l!==o?null:o}for(var d=o,m=l;;){var _=d.return;if(_===null)break;var S=_.alternate;if(S===null){if(m=_.return,m!==null){d=m;continue}break}if(_.child===S.child){for(S=_.child;S;){if(S===d)return c(_),o;if(S===m)return c(_),l;S=S.sibling}throw Error(r(188))}if(d.return!==m.return)d=_,m=S;else{for(var N=!1,D=_.child;D;){if(D===d){N=!0,d=_,m=S;break}if(D===m){N=!0,m=_,d=S;break}D=D.sibling}if(!N){for(D=S.child;D;){if(D===d){N=!0,d=S,m=_;break}if(D===m){N=!0,m=S,d=_;break}D=D.sibling}if(!N)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?o:l}function h(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=h(o),l!==null)return l;o=o.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),A=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function W(o){return o===null||typeof o!="object"?null:(o=$&&o[$]||o["@@iterator"],typeof o=="function"?o:null)}var F=Symbol.for("react.client.reference");function X(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===F?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case E:return"Fragment";case T:return"Profiler";case w:return"StrictMode";case O:return"Suspense";case M:return"SuspenseList";case L:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case x:return"Portal";case A:return o.displayName||"Context";case C:return(o._context.displayName||"Context")+".Consumer";case P:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case I:return l=o.displayName||null,l!==null?l:X(o.type)||"Memo";case k:l=o._payload,o=o._init;try{return X(o(l))}catch{}}return null}var B=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},se=[],de=-1;function q(o){return{current:o}}function Y(o){0>de||(o.current=se[de],se[de]=null,de--)}function re(o,l){de++,se[de]=o.current,o.current=l}var ce=q(null),me=q(null),we=q(null),Le=q(null);function Xe(o,l){switch(re(we,l),re(me,o),re(ce,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?KC(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=KC(l),o=WC(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Y(ce),re(ce,o)}function fe(){Y(ce),Y(me),Y(we)}function Ce(o){o.memoizedState!==null&&re(Le,o);var l=ce.current,d=WC(l,o.type);l!==d&&(re(me,o),re(ce,d))}function Pe(o){me.current===o&&(Y(ce),Y(me)),Le.current===o&&(Y(Le),Ou._currentValue=te)}var ue,pt;function Ie(o){if(ue===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);ue=l&&l[1]||"",pt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+o+pt}var St=!1;function xt(o,l){if(!o||St)return"";St=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ne){var ee=ne}Reflect.construct(o,[],le)}else{try{le.call()}catch(ne){ee=ne}o.call(le.prototype)}}else{try{throw Error()}catch(ne){ee=ne}(le=o())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ne){if(ne&&ee&&typeof ne.stack=="string")return[ne.stack,ee.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),N=S[0],D=S[1];if(N&&D){var H=N.split(`
`),Z=D.split(`
`);for(_=m=0;m<H.length&&!H[m].includes("DetermineComponentFrameRoot");)m++;for(;_<Z.length&&!Z[_].includes("DetermineComponentFrameRoot");)_++;if(m===H.length||_===Z.length)for(m=H.length-1,_=Z.length-1;1<=m&&0<=_&&H[m]!==Z[_];)_--;for(;1<=m&&0<=_;m--,_--)if(H[m]!==Z[_]){if(m!==1||_!==1)do if(m--,_--,0>_||H[m]!==Z[_]){var ie=`
`+H[m].replace(" at new "," at ");return o.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",o.displayName)),ie}while(1<=m&&0<=_);break}}}finally{St=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?Ie(d):""}function ln(o,l){switch(o.tag){case 26:case 27:case 5:return Ie(o.type);case 16:return Ie("Lazy");case 13:return o.child!==l&&l!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return xt(o.type,!1);case 11:return xt(o.type.render,!1);case 1:return xt(o.type,!0);case 31:return Ie("Activity");default:return""}}function wr(o){try{var l="",d=null;do l+=ln(o,d),d=o,o=o.return;while(o);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var qr=Object.prototype.hasOwnProperty,Ki=t.unstable_scheduleCallback,Sr=t.unstable_cancelCallback,ii=t.unstable_shouldYield,jl=t.unstable_requestPaint,un=t.unstable_now,bf=t.unstable_getCurrentPriorityLevel,TT=t.unstable_ImmediatePriority,AT=t.unstable_UserBlockingPriority,_f=t.unstable_NormalPriority,H3=t.unstable_LowPriority,CT=t.unstable_IdlePriority,G3=t.log,z3=t.unstable_setDisableYieldValue,ql=null,In=null;function Wi(o){if(typeof G3=="function"&&z3(o),In&&typeof In.setStrictMode=="function")try{In.setStrictMode(ql,o)}catch{}}var Dn=Math.clz32?Math.clz32:K3,V3=Math.log,F3=Math.LN2;function K3(o){return o>>>=0,o===0?32:31-(V3(o)/F3|0)|0}var wf=256,Sf=262144,xf=4194304;function ka(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Ef(o,l,d){var m=o.pendingLanes;if(m===0)return 0;var _=0,S=o.suspendedLanes,N=o.pingedLanes;o=o.warmLanes;var D=m&134217727;return D!==0?(m=D&~S,m!==0?_=ka(m):(N&=D,N!==0?_=ka(N):d||(d=D&~o,d!==0&&(_=ka(d))))):(D=m&~S,D!==0?_=ka(D):N!==0?_=ka(N):d||(d=m&~o,d!==0&&(_=ka(d)))),_===0?0:l!==0&&l!==_&&(l&S)===0&&(S=_&-_,d=l&-l,S>=d||S===32&&(d&4194048)!==0)?l:_}function Bl(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function W3(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OT(){var o=xf;return xf<<=1,(xf&62914560)===0&&(xf=4194304),o}function jm(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function Hl(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Y3(o,l,d,m,_,S){var N=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var D=o.entanglements,H=o.expirationTimes,Z=o.hiddenUpdates;for(d=N&~d;0<d;){var ie=31-Dn(d),le=1<<ie;D[ie]=0,H[ie]=-1;var ee=Z[ie];if(ee!==null)for(Z[ie]=null,ie=0;ie<ee.length;ie++){var ne=ee[ie];ne!==null&&(ne.lane&=-536870913)}d&=~le}m!==0&&RT(o,m,0),S!==0&&_===0&&o.tag!==0&&(o.suspendedLanes|=S&~(N&~l))}function RT(o,l,d){o.pendingLanes|=l,o.suspendedLanes&=~l;var m=31-Dn(l);o.entangledLanes|=l,o.entanglements[m]=o.entanglements[m]|1073741824|d&261930}function PT(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var m=31-Dn(d),_=1<<m;_&l|o[m]&l&&(o[m]|=l),d&=~_}}function MT(o,l){var d=l&-l;return d=(d&42)!==0?1:qm(d),(d&(o.suspendedLanes|l))!==0?0:d}function qm(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Bm(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function NT(){var o=K.p;return o!==0?o:(o=window.event,o===void 0?32:vO(o.type))}function IT(o,l){var d=K.p;try{return K.p=o,l()}finally{K.p=d}}var Yi=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Yi,En="__reactProps$"+Yi,Uo="__reactContainer$"+Yi,Hm="__reactEvents$"+Yi,J3="__reactListeners$"+Yi,X3="__reactHandles$"+Yi,DT="__reactResources$"+Yi,Gl="__reactMarker$"+Yi;function Gm(o){delete o[Zt],delete o[En],delete o[Hm],delete o[J3],delete o[X3]}function $o(o){var l=o[Zt];if(l)return l;for(var d=o.parentNode;d;){if(l=d[Uo]||d[Zt]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=tO(o);o!==null;){if(d=o[Zt])return d;o=tO(o)}return l}o=d,d=o.parentNode}return null}function jo(o){if(o=o[Zt]||o[Uo]){var l=o.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return o}return null}function zl(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function qo(o){var l=o[DT];return l||(l=o[DT]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Kt(o){o[Gl]=!0}var kT=new Set,LT={};function La(o,l){Bo(o,l),Bo(o+"Capture",l)}function Bo(o,l){for(LT[o]=l,o=0;o<l.length;o++)kT.add(l[o])}var Q3=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),UT={},$T={};function Z3(o){return qr.call($T,o)?!0:qr.call(UT,o)?!1:Q3.test(o)?$T[o]=!0:(UT[o]=!0,!1)}function Tf(o,l,d){if(Z3(l))if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+d)}}function Af(o,l,d){if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+d)}}function ai(o,l,d,m){if(m===null)o.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(l,d,""+m)}}function Yn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function jT(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function e4(o,l,d){var m=Object.getOwnPropertyDescriptor(o.constructor.prototype,l);if(!o.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var _=m.get,S=m.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return _.call(this)},set:function(N){d=""+N,S.call(this,N)}}),Object.defineProperty(o,l,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(N){d=""+N},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function zm(o){if(!o._valueTracker){var l=jT(o)?"checked":"value";o._valueTracker=e4(o,l,""+o[l])}}function qT(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return o&&(m=jT(o)?o.checked?"true":"false":o.value),o=m,o!==d?(l.setValue(o),!0):!1}function Cf(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var t4=/[\n"\\]/g;function Jn(o){return o.replace(t4,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Vm(o,l,d,m,_,S,N,D){o.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?o.type=N:o.removeAttribute("type"),l!=null?N==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+Yn(l)):o.value!==""+Yn(l)&&(o.value=""+Yn(l)):N!=="submit"&&N!=="reset"||o.removeAttribute("value"),l!=null?Fm(o,N,Yn(l)):d!=null?Fm(o,N,Yn(d)):m!=null&&o.removeAttribute("value"),_==null&&S!=null&&(o.defaultChecked=!!S),_!=null&&(o.checked=_&&typeof _!="function"&&typeof _!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?o.name=""+Yn(D):o.removeAttribute("name")}function BT(o,l,d,m,_,S,N,D){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(o.type=S),l!=null||d!=null){if(!(S!=="submit"&&S!=="reset"||l!=null)){zm(o);return}d=d!=null?""+Yn(d):"",l=l!=null?""+Yn(l):d,D||l===o.value||(o.value=l),o.defaultValue=l}m=m??_,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=D?o.checked:!!m,o.defaultChecked=!!m,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(o.name=N),zm(o)}function Fm(o,l,d){l==="number"&&Cf(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function Ho(o,l,d,m){if(o=o.options,l){l={};for(var _=0;_<d.length;_++)l["$"+d[_]]=!0;for(d=0;d<o.length;d++)_=l.hasOwnProperty("$"+o[d].value),o[d].selected!==_&&(o[d].selected=_),_&&m&&(o[d].defaultSelected=!0)}else{for(d=""+Yn(d),l=null,_=0;_<o.length;_++){if(o[_].value===d){o[_].selected=!0,m&&(o[_].defaultSelected=!0);return}l!==null||o[_].disabled||(l=o[_])}l!==null&&(l.selected=!0)}}function HT(o,l,d){if(l!=null&&(l=""+Yn(l),l!==o.value&&(o.value=l),d==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=d!=null?""+Yn(d):""}function GT(o,l,d,m){if(l==null){if(m!=null){if(d!=null)throw Error(r(92));if(B(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),l=d}d=Yn(l),o.defaultValue=d,m=o.textContent,m===d&&m!==""&&m!==null&&(o.value=m),zm(o)}function Go(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var n4=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zT(o,l,d){var m=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":m?o.setProperty(l,d):typeof d!="number"||d===0||n4.has(l)?l==="float"?o.cssFloat=d:o[l]=(""+d).trim():o[l]=d+"px"}function VT(o,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var _ in l)m=l[_],l.hasOwnProperty(_)&&d[_]!==m&&zT(o,_,m)}else for(var S in l)l.hasOwnProperty(S)&&zT(o,S,l[S])}function Km(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var r4=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),i4=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Of(o){return i4.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function oi(){}var Wm=null;function Ym(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var zo=null,Vo=null;function FT(o){var l=jo(o);if(l&&(o=l.stateNode)){var d=o[En]||null;e:switch(o=l.stateNode,l.type){case"input":if(Vm(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Jn(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==o&&m.form===o.form){var _=m[En]||null;if(!_)throw Error(r(90));Vm(m,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(l=0;l<d.length;l++)m=d[l],m.form===o.form&&qT(m)}break e;case"textarea":HT(o,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Ho(o,!!d.multiple,l,!1)}}}var Jm=!1;function KT(o,l,d){if(Jm)return o(l,d);Jm=!0;try{var m=o(l);return m}finally{if(Jm=!1,(zo!==null||Vo!==null)&&(md(),zo&&(l=zo,o=Vo,Vo=zo=null,FT(l),o)))for(l=0;l<o.length;l++)FT(o[l])}}function Vl(o,l){var d=o.stateNode;if(d===null)return null;var m=d[En]||null;if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xm=!1;if(si)try{var Fl={};Object.defineProperty(Fl,"passive",{get:function(){Xm=!0}}),window.addEventListener("test",Fl,Fl),window.removeEventListener("test",Fl,Fl)}catch{Xm=!1}var Ji=null,Qm=null,Rf=null;function WT(){if(Rf)return Rf;var o,l=Qm,d=l.length,m,_="value"in Ji?Ji.value:Ji.textContent,S=_.length;for(o=0;o<d&&l[o]===_[o];o++);var N=d-o;for(m=1;m<=N&&l[d-m]===_[S-m];m++);return Rf=_.slice(o,1<m?1-m:void 0)}function Pf(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Mf(){return!0}function YT(){return!1}function Tn(o){function l(d,m,_,S,N){this._reactName=d,this._targetInst=_,this.type=m,this.nativeEvent=S,this.target=N,this.currentTarget=null;for(var D in o)o.hasOwnProperty(D)&&(d=o[D],this[D]=d?d(S):S[D]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Mf:YT,this.isPropagationStopped=YT,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Mf)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Mf)},persist:function(){},isPersistent:Mf}),l}var Ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nf=Tn(Ua),Kl=p({},Ua,{view:0,detail:0}),a4=Tn(Kl),Zm,eg,Wl,If=p({},Kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ng,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Wl&&(Wl&&o.type==="mousemove"?(Zm=o.screenX-Wl.screenX,eg=o.screenY-Wl.screenY):eg=Zm=0,Wl=o),Zm)},movementY:function(o){return"movementY"in o?o.movementY:eg}}),JT=Tn(If),o4=p({},If,{dataTransfer:0}),s4=Tn(o4),l4=p({},Kl,{relatedTarget:0}),tg=Tn(l4),u4=p({},Ua,{animationName:0,elapsedTime:0,pseudoElement:0}),c4=Tn(u4),f4=p({},Ua,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),d4=Tn(f4),h4=p({},Ua,{data:0}),XT=Tn(h4),p4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v4(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=g4[o])?!!l[o]:!1}function ng(){return v4}var y4=p({},Kl,{key:function(o){if(o.key){var l=p4[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Pf(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?m4[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ng,charCode:function(o){return o.type==="keypress"?Pf(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Pf(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),b4=Tn(y4),_4=p({},If,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),QT=Tn(_4),w4=p({},Kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ng}),S4=Tn(w4),x4=p({},Ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),E4=Tn(x4),T4=p({},If,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),A4=Tn(T4),C4=p({},Ua,{newState:0,oldState:0}),O4=Tn(C4),R4=[9,13,27,32],rg=si&&"CompositionEvent"in window,Yl=null;si&&"documentMode"in document&&(Yl=document.documentMode);var P4=si&&"TextEvent"in window&&!Yl,ZT=si&&(!rg||Yl&&8<Yl&&11>=Yl),eA=" ",tA=!1;function nA(o,l){switch(o){case"keyup":return R4.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rA(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Fo=!1;function M4(o,l){switch(o){case"compositionend":return rA(l);case"keypress":return l.which!==32?null:(tA=!0,eA);case"textInput":return o=l.data,o===eA&&tA?null:o;default:return null}}function N4(o,l){if(Fo)return o==="compositionend"||!rg&&nA(o,l)?(o=WT(),Rf=Qm=Ji=null,Fo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ZT&&l.locale!=="ko"?null:l.data;default:return null}}var I4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iA(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!I4[o.type]:l==="textarea"}function aA(o,l,d,m){zo?Vo?Vo.push(m):Vo=[m]:zo=m,l=Sd(l,"onChange"),0<l.length&&(d=new Nf("onChange","change",null,d,m),o.push({event:d,listeners:l}))}var Jl=null,Xl=null;function D4(o){BC(o,0)}function Df(o){var l=zl(o);if(qT(l))return o}function oA(o,l){if(o==="change")return l}var sA=!1;if(si){var ig;if(si){var ag="oninput"in document;if(!ag){var lA=document.createElement("div");lA.setAttribute("oninput","return;"),ag=typeof lA.oninput=="function"}ig=ag}else ig=!1;sA=ig&&(!document.documentMode||9<document.documentMode)}function uA(){Jl&&(Jl.detachEvent("onpropertychange",cA),Xl=Jl=null)}function cA(o){if(o.propertyName==="value"&&Df(Xl)){var l=[];aA(l,Xl,o,Ym(o)),KT(D4,l)}}function k4(o,l,d){o==="focusin"?(uA(),Jl=l,Xl=d,Jl.attachEvent("onpropertychange",cA)):o==="focusout"&&uA()}function L4(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Df(Xl)}function U4(o,l){if(o==="click")return Df(l)}function $4(o,l){if(o==="input"||o==="change")return Df(l)}function j4(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var kn=typeof Object.is=="function"?Object.is:j4;function Ql(o,l){if(kn(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var _=d[m];if(!qr.call(l,_)||!kn(o[_],l[_]))return!1}return!0}function fA(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function dA(o,l){var d=fA(o);o=0;for(var m;d;){if(d.nodeType===3){if(m=o+d.textContent.length,o<=l&&m>=l)return{node:d,offset:l-o};o=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=fA(d)}}function hA(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?hA(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function pA(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=Cf(o.document);l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=Cf(o.document)}return l}function og(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var q4=si&&"documentMode"in document&&11>=document.documentMode,Ko=null,sg=null,Zl=null,lg=!1;function mA(o,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;lg||Ko==null||Ko!==Cf(m)||(m=Ko,"selectionStart"in m&&og(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Zl&&Ql(Zl,m)||(Zl=m,m=Sd(sg,"onSelect"),0<m.length&&(l=new Nf("onSelect","select",null,l,d),o.push({event:l,listeners:m}),l.target=Ko)))}function $a(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var Wo={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionrun:$a("Transition","TransitionRun"),transitionstart:$a("Transition","TransitionStart"),transitioncancel:$a("Transition","TransitionCancel"),transitionend:$a("Transition","TransitionEnd")},ug={},gA={};si&&(gA=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function ja(o){if(ug[o])return ug[o];if(!Wo[o])return o;var l=Wo[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in gA)return ug[o]=l[d];return o}var vA=ja("animationend"),yA=ja("animationiteration"),bA=ja("animationstart"),B4=ja("transitionrun"),H4=ja("transitionstart"),G4=ja("transitioncancel"),_A=ja("transitionend"),wA=new Map,cg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cg.push("scrollEnd");function xr(o,l){wA.set(o,l),La(l,[o])}var kf=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Xn=[],Yo=0,fg=0;function Lf(){for(var o=Yo,l=fg=Yo=0;l<o;){var d=Xn[l];Xn[l++]=null;var m=Xn[l];Xn[l++]=null;var _=Xn[l];Xn[l++]=null;var S=Xn[l];if(Xn[l++]=null,m!==null&&_!==null){var N=m.pending;N===null?_.next=_:(_.next=N.next,N.next=_),m.pending=_}S!==0&&SA(d,_,S)}}function Uf(o,l,d,m){Xn[Yo++]=o,Xn[Yo++]=l,Xn[Yo++]=d,Xn[Yo++]=m,fg|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function dg(o,l,d,m){return Uf(o,l,d,m),$f(o)}function qa(o,l){return Uf(o,null,null,l),$f(o)}function SA(o,l,d){o.lanes|=d;var m=o.alternate;m!==null&&(m.lanes|=d);for(var _=!1,S=o.return;S!==null;)S.childLanes|=d,m=S.alternate,m!==null&&(m.childLanes|=d),S.tag===22&&(o=S.stateNode,o===null||o._visibility&1||(_=!0)),o=S,S=S.return;return o.tag===3?(S=o.stateNode,_&&l!==null&&(_=31-Dn(d),o=S.hiddenUpdates,m=o[_],m===null?o[_]=[l]:m.push(l),l.lane=d|536870912),S):null}function $f(o){if(50<wu)throw wu=0,wv=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var Jo={};function z4(o,l,d,m){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(o,l,d,m){return new z4(o,l,d,m)}function hg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function li(o,l){var d=o.alternate;return d===null?(d=Ln(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function xA(o,l){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,l=d.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function jf(o,l,d,m,_,S){var N=0;if(m=o,typeof o=="function")hg(o)&&(N=1);else if(typeof o=="string")N=YH(o,d,ce.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case L:return o=Ln(31,d,l,_),o.elementType=L,o.lanes=S,o;case E:return Ba(d.children,_,S,l);case w:N=8,_|=24;break;case T:return o=Ln(12,d,l,_|2),o.elementType=T,o.lanes=S,o;case O:return o=Ln(13,d,l,_),o.elementType=O,o.lanes=S,o;case M:return o=Ln(19,d,l,_),o.elementType=M,o.lanes=S,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case A:N=10;break e;case C:N=9;break e;case P:N=11;break e;case I:N=14;break e;case k:N=16,m=null;break e}N=29,d=Error(r(130,o===null?"null":typeof o,"")),m=null}return l=Ln(N,d,l,_),l.elementType=o,l.type=m,l.lanes=S,l}function Ba(o,l,d,m){return o=Ln(7,o,m,l),o.lanes=d,o}function pg(o,l,d){return o=Ln(6,o,null,l),o.lanes=d,o}function EA(o){var l=Ln(18,null,null,0);return l.stateNode=o,l}function mg(o,l,d){return l=Ln(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var TA=new WeakMap;function Qn(o,l){if(typeof o=="object"&&o!==null){var d=TA.get(o);return d!==void 0?d:(l={value:o,source:l,stack:wr(l)},TA.set(o,l),l)}return{value:o,source:l,stack:wr(l)}}var Xo=[],Qo=0,qf=null,eu=0,Zn=[],er=0,Xi=null,Br=1,Hr="";function ui(o,l){Xo[Qo++]=eu,Xo[Qo++]=qf,qf=o,eu=l}function AA(o,l,d){Zn[er++]=Br,Zn[er++]=Hr,Zn[er++]=Xi,Xi=o;var m=Br;o=Hr;var _=32-Dn(m)-1;m&=~(1<<_),d+=1;var S=32-Dn(l)+_;if(30<S){var N=_-_%5;S=(m&(1<<N)-1).toString(32),m>>=N,_-=N,Br=1<<32-Dn(l)+_|d<<_|m,Hr=S+o}else Br=1<<S|d<<_|m,Hr=o}function gg(o){o.return!==null&&(ui(o,1),AA(o,1,0))}function vg(o){for(;o===qf;)qf=Xo[--Qo],Xo[Qo]=null,eu=Xo[--Qo],Xo[Qo]=null;for(;o===Xi;)Xi=Zn[--er],Zn[er]=null,Hr=Zn[--er],Zn[er]=null,Br=Zn[--er],Zn[er]=null}function CA(o,l){Zn[er++]=Br,Zn[er++]=Hr,Zn[er++]=Xi,Br=l.id,Hr=l.overflow,Xi=o}var en=null,mt=null,He=!1,Qi=null,tr=!1,yg=Error(r(519));function Zi(o){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tu(Qn(l,o)),yg}function OA(o){var l=o.stateNode,d=o.type,m=o.memoizedProps;switch(l[Zt]=o,l[En]=m,d){case"dialog":je("cancel",l),je("close",l);break;case"iframe":case"object":case"embed":je("load",l);break;case"video":case"audio":for(d=0;d<xu.length;d++)je(xu[d],l);break;case"source":je("error",l);break;case"img":case"image":case"link":je("error",l),je("load",l);break;case"details":je("toggle",l);break;case"input":je("invalid",l),BT(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":je("invalid",l);break;case"textarea":je("invalid",l),GT(l,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||m.suppressHydrationWarning===!0||VC(l.textContent,d)?(m.popover!=null&&(je("beforetoggle",l),je("toggle",l)),m.onScroll!=null&&je("scroll",l),m.onScrollEnd!=null&&je("scrollend",l),m.onClick!=null&&(l.onclick=oi),l=!0):l=!1,l||Zi(o,!0)}function RA(o){for(en=o.return;en;)switch(en.tag){case 5:case 31:case 13:tr=!1;return;case 27:case 3:tr=!0;return;default:en=en.return}}function Zo(o){if(o!==en)return!1;if(!He)return RA(o),He=!0,!1;var l=o.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||Lv(o.type,o.memoizedProps)),d=!d),d&&mt&&Zi(o),RA(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));mt=eO(o)}else if(l===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));mt=eO(o)}else l===27?(l=mt,ha(o.type)?(o=Bv,Bv=null,mt=o):mt=l):mt=en?rr(o.stateNode.nextSibling):null;return!0}function Ha(){mt=en=null,He=!1}function bg(){var o=Qi;return o!==null&&(Rn===null?Rn=o:Rn.push.apply(Rn,o),Qi=null),o}function tu(o){Qi===null?Qi=[o]:Qi.push(o)}var _g=q(null),Ga=null,ci=null;function ea(o,l,d){re(_g,l._currentValue),l._currentValue=d}function fi(o){o._currentValue=_g.current,Y(_g)}function wg(o,l,d){for(;o!==null;){var m=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),o===d)break;o=o.return}}function Sg(o,l,d,m){var _=o.child;for(_!==null&&(_.return=o);_!==null;){var S=_.dependencies;if(S!==null){var N=_.child;S=S.firstContext;e:for(;S!==null;){var D=S;S=_;for(var H=0;H<l.length;H++)if(D.context===l[H]){S.lanes|=d,D=S.alternate,D!==null&&(D.lanes|=d),wg(S.return,d,o),m||(N=null);break e}S=D.next}}else if(_.tag===18){if(N=_.return,N===null)throw Error(r(341));N.lanes|=d,S=N.alternate,S!==null&&(S.lanes|=d),wg(N,d,o),N=null}else N=_.child;if(N!==null)N.return=_;else for(N=_;N!==null;){if(N===o){N=null;break}if(_=N.sibling,_!==null){_.return=N.return,N=_;break}N=N.return}_=N}}function es(o,l,d,m){o=null;for(var _=l,S=!1;_!==null;){if(!S){if((_.flags&524288)!==0)S=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var N=_.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var D=_.type;kn(_.pendingProps.value,N.value)||(o!==null?o.push(D):o=[D])}}else if(_===Le.current){if(N=_.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(o!==null?o.push(Ou):o=[Ou])}_=_.return}o!==null&&Sg(l,o,d,m),l.flags|=262144}function Bf(o){for(o=o.firstContext;o!==null;){if(!kn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function za(o){Ga=o,ci=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function tn(o){return PA(Ga,o)}function Hf(o,l){return Ga===null&&za(o),PA(o,l)}function PA(o,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},ci===null){if(o===null)throw Error(r(308));ci=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else ci=ci.next=l;return d}var V4=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(d,m){o.push(m)}};this.abort=function(){l.aborted=!0,o.forEach(function(d){return d()})}},F4=t.unstable_scheduleCallback,K4=t.unstable_NormalPriority,It={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xg(){return{controller:new V4,data:new Map,refCount:0}}function nu(o){o.refCount--,o.refCount===0&&F4(K4,function(){o.controller.abort()})}var ru=null,Eg=0,ts=0,ns=null;function W4(o,l){if(ru===null){var d=ru=[];Eg=0,ts=Cv(),ns={status:"pending",value:void 0,then:function(m){d.push(m)}}}return Eg++,l.then(MA,MA),l}function MA(){if(--Eg===0&&ru!==null){ns!==null&&(ns.status="fulfilled");var o=ru;ru=null,ts=0,ns=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function Y4(o,l){var d=[],m={status:"pending",value:null,reason:null,then:function(_){d.push(_)}};return o.then(function(){m.status="fulfilled",m.value=l;for(var _=0;_<d.length;_++)(0,d[_])(l)},function(_){for(m.status="rejected",m.reason=_,_=0;_<d.length;_++)(0,d[_])(void 0)}),m}var NA=U.S;U.S=function(o,l){mC=un(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&W4(o,l),NA!==null&&NA(o,l)};var Va=q(null);function Tg(){var o=Va.current;return o!==null?o:lt.pooledCache}function Gf(o,l){l===null?re(Va,Va.current):re(Va,l.pool)}function IA(){var o=Tg();return o===null?null:{parent:It._currentValue,pool:o}}var rs=Error(r(460)),Ag=Error(r(474)),zf=Error(r(542)),Vf={then:function(){}};function DA(o){return o=o.status,o==="fulfilled"||o==="rejected"}function kA(o,l,d){switch(d=o[d],d===void 0?o.push(l):d!==l&&(l.then(oi,oi),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,UA(o),o;default:if(typeof l.status=="string")l.then(oi,oi);else{if(o=lt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(m){if(l.status==="pending"){var _=l;_.status="fulfilled",_.value=m}},function(m){if(l.status==="pending"){var _=l;_.status="rejected",_.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,UA(o),o}throw Ka=l,rs}}function Fa(o){try{var l=o._init;return l(o._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Ka=d,rs):d}}var Ka=null;function LA(){if(Ka===null)throw Error(r(459));var o=Ka;return Ka=null,o}function UA(o){if(o===rs||o===zf)throw Error(r(483))}var is=null,iu=0;function Ff(o){var l=iu;return iu+=1,is===null&&(is=[]),kA(is,o,l)}function au(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function Kf(o,l){throw l.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function $A(o){function l(J,V){if(o){var Q=J.deletions;Q===null?(J.deletions=[V],J.flags|=16):Q.push(V)}}function d(J,V){if(!o)return null;for(;V!==null;)l(J,V),V=V.sibling;return null}function m(J){for(var V=new Map;J!==null;)J.key!==null?V.set(J.key,J):V.set(J.index,J),J=J.sibling;return V}function _(J,V){return J=li(J,V),J.index=0,J.sibling=null,J}function S(J,V,Q){return J.index=Q,o?(Q=J.alternate,Q!==null?(Q=Q.index,Q<V?(J.flags|=67108866,V):Q):(J.flags|=67108866,V)):(J.flags|=1048576,V)}function N(J){return o&&J.alternate===null&&(J.flags|=67108866),J}function D(J,V,Q,oe){return V===null||V.tag!==6?(V=pg(Q,J.mode,oe),V.return=J,V):(V=_(V,Q),V.return=J,V)}function H(J,V,Q,oe){var _e=Q.type;return _e===E?ie(J,V,Q.props.children,oe,Q.key):V!==null&&(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===k&&Fa(_e)===V.type)?(V=_(V,Q.props),au(V,Q),V.return=J,V):(V=jf(Q.type,Q.key,Q.props,null,J.mode,oe),au(V,Q),V.return=J,V)}function Z(J,V,Q,oe){return V===null||V.tag!==4||V.stateNode.containerInfo!==Q.containerInfo||V.stateNode.implementation!==Q.implementation?(V=mg(Q,J.mode,oe),V.return=J,V):(V=_(V,Q.children||[]),V.return=J,V)}function ie(J,V,Q,oe,_e){return V===null||V.tag!==7?(V=Ba(Q,J.mode,oe,_e),V.return=J,V):(V=_(V,Q),V.return=J,V)}function le(J,V,Q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=pg(""+V,J.mode,Q),V.return=J,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return Q=jf(V.type,V.key,V.props,null,J.mode,Q),au(Q,V),Q.return=J,Q;case x:return V=mg(V,J.mode,Q),V.return=J,V;case k:return V=Fa(V),le(J,V,Q)}if(B(V)||W(V))return V=Ba(V,J.mode,Q,null),V.return=J,V;if(typeof V.then=="function")return le(J,Ff(V),Q);if(V.$$typeof===A)return le(J,Hf(J,V),Q);Kf(J,V)}return null}function ee(J,V,Q,oe){var _e=V!==null?V.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return _e!==null?null:D(J,V,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return Q.key===_e?H(J,V,Q,oe):null;case x:return Q.key===_e?Z(J,V,Q,oe):null;case k:return Q=Fa(Q),ee(J,V,Q,oe)}if(B(Q)||W(Q))return _e!==null?null:ie(J,V,Q,oe,null);if(typeof Q.then=="function")return ee(J,V,Ff(Q),oe);if(Q.$$typeof===A)return ee(J,V,Hf(J,Q),oe);Kf(J,Q)}return null}function ne(J,V,Q,oe,_e){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return J=J.get(Q)||null,D(V,J,""+oe,_e);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case b:return J=J.get(oe.key===null?Q:oe.key)||null,H(V,J,oe,_e);case x:return J=J.get(oe.key===null?Q:oe.key)||null,Z(V,J,oe,_e);case k:return oe=Fa(oe),ne(J,V,Q,oe,_e)}if(B(oe)||W(oe))return J=J.get(Q)||null,ie(V,J,oe,_e,null);if(typeof oe.then=="function")return ne(J,V,Q,Ff(oe),_e);if(oe.$$typeof===A)return ne(J,V,Q,Hf(V,oe),_e);Kf(V,oe)}return null}function ve(J,V,Q,oe){for(var _e=null,Fe=null,ye=V,De=V=0,Be=null;ye!==null&&De<Q.length;De++){ye.index>De?(Be=ye,ye=null):Be=ye.sibling;var Ke=ee(J,ye,Q[De],oe);if(Ke===null){ye===null&&(ye=Be);break}o&&ye&&Ke.alternate===null&&l(J,ye),V=S(Ke,V,De),Fe===null?_e=Ke:Fe.sibling=Ke,Fe=Ke,ye=Be}if(De===Q.length)return d(J,ye),He&&ui(J,De),_e;if(ye===null){for(;De<Q.length;De++)ye=le(J,Q[De],oe),ye!==null&&(V=S(ye,V,De),Fe===null?_e=ye:Fe.sibling=ye,Fe=ye);return He&&ui(J,De),_e}for(ye=m(ye);De<Q.length;De++)Be=ne(ye,J,De,Q[De],oe),Be!==null&&(o&&Be.alternate!==null&&ye.delete(Be.key===null?De:Be.key),V=S(Be,V,De),Fe===null?_e=Be:Fe.sibling=Be,Fe=Be);return o&&ye.forEach(function(ya){return l(J,ya)}),He&&ui(J,De),_e}function Se(J,V,Q,oe){if(Q==null)throw Error(r(151));for(var _e=null,Fe=null,ye=V,De=V=0,Be=null,Ke=Q.next();ye!==null&&!Ke.done;De++,Ke=Q.next()){ye.index>De?(Be=ye,ye=null):Be=ye.sibling;var ya=ee(J,ye,Ke.value,oe);if(ya===null){ye===null&&(ye=Be);break}o&&ye&&ya.alternate===null&&l(J,ye),V=S(ya,V,De),Fe===null?_e=ya:Fe.sibling=ya,Fe=ya,ye=Be}if(Ke.done)return d(J,ye),He&&ui(J,De),_e;if(ye===null){for(;!Ke.done;De++,Ke=Q.next())Ke=le(J,Ke.value,oe),Ke!==null&&(V=S(Ke,V,De),Fe===null?_e=Ke:Fe.sibling=Ke,Fe=Ke);return He&&ui(J,De),_e}for(ye=m(ye);!Ke.done;De++,Ke=Q.next())Ke=ne(ye,J,De,Ke.value,oe),Ke!==null&&(o&&Ke.alternate!==null&&ye.delete(Ke.key===null?De:Ke.key),V=S(Ke,V,De),Fe===null?_e=Ke:Fe.sibling=Ke,Fe=Ke);return o&&ye.forEach(function(oG){return l(J,oG)}),He&&ui(J,De),_e}function ot(J,V,Q,oe){if(typeof Q=="object"&&Q!==null&&Q.type===E&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:e:{for(var _e=Q.key;V!==null;){if(V.key===_e){if(_e=Q.type,_e===E){if(V.tag===7){d(J,V.sibling),oe=_(V,Q.props.children),oe.return=J,J=oe;break e}}else if(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===k&&Fa(_e)===V.type){d(J,V.sibling),oe=_(V,Q.props),au(oe,Q),oe.return=J,J=oe;break e}d(J,V);break}else l(J,V);V=V.sibling}Q.type===E?(oe=Ba(Q.props.children,J.mode,oe,Q.key),oe.return=J,J=oe):(oe=jf(Q.type,Q.key,Q.props,null,J.mode,oe),au(oe,Q),oe.return=J,J=oe)}return N(J);case x:e:{for(_e=Q.key;V!==null;){if(V.key===_e)if(V.tag===4&&V.stateNode.containerInfo===Q.containerInfo&&V.stateNode.implementation===Q.implementation){d(J,V.sibling),oe=_(V,Q.children||[]),oe.return=J,J=oe;break e}else{d(J,V);break}else l(J,V);V=V.sibling}oe=mg(Q,J.mode,oe),oe.return=J,J=oe}return N(J);case k:return Q=Fa(Q),ot(J,V,Q,oe)}if(B(Q))return ve(J,V,Q,oe);if(W(Q)){if(_e=W(Q),typeof _e!="function")throw Error(r(150));return Q=_e.call(Q),Se(J,V,Q,oe)}if(typeof Q.then=="function")return ot(J,V,Ff(Q),oe);if(Q.$$typeof===A)return ot(J,V,Hf(J,Q),oe);Kf(J,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,V!==null&&V.tag===6?(d(J,V.sibling),oe=_(V,Q),oe.return=J,J=oe):(d(J,V),oe=pg(Q,J.mode,oe),oe.return=J,J=oe),N(J)):d(J,V)}return function(J,V,Q,oe){try{iu=0;var _e=ot(J,V,Q,oe);return is=null,_e}catch(ye){if(ye===rs||ye===zf)throw ye;var Fe=Ln(29,ye,null,J.mode);return Fe.lanes=oe,Fe.return=J,Fe}finally{}}}var Wa=$A(!0),jA=$A(!1),ta=!1;function Cg(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Og(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function na(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function ra(o,l,d){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(Je&2)!==0){var _=m.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),m.pending=l,l=$f(o),SA(o,null,d),l}return Uf(o,m,l,d),$f(o)}function ou(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,PT(o,d)}}function Rg(o,l){var d=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var _=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var N={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};S===null?_=S=N:S=S.next=N,d=d.next}while(d!==null);S===null?_=S=l:S=S.next=l}else _=S=l;d={baseState:m.baseState,firstBaseUpdate:_,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}var Pg=!1;function su(){if(Pg){var o=ns;if(o!==null)throw o}}function lu(o,l,d,m){Pg=!1;var _=o.updateQueue;ta=!1;var S=_.firstBaseUpdate,N=_.lastBaseUpdate,D=_.shared.pending;if(D!==null){_.shared.pending=null;var H=D,Z=H.next;H.next=null,N===null?S=Z:N.next=Z,N=H;var ie=o.alternate;ie!==null&&(ie=ie.updateQueue,D=ie.lastBaseUpdate,D!==N&&(D===null?ie.firstBaseUpdate=Z:D.next=Z,ie.lastBaseUpdate=H))}if(S!==null){var le=_.baseState;N=0,ie=Z=H=null,D=S;do{var ee=D.lane&-536870913,ne=ee!==D.lane;if(ne?(qe&ee)===ee:(m&ee)===ee){ee!==0&&ee===ts&&(Pg=!0),ie!==null&&(ie=ie.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var ve=o,Se=D;ee=l;var ot=d;switch(Se.tag){case 1:if(ve=Se.payload,typeof ve=="function"){le=ve.call(ot,le,ee);break e}le=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Se.payload,ee=typeof ve=="function"?ve.call(ot,le,ee):ve,ee==null)break e;le=p({},le,ee);break e;case 2:ta=!0}}ee=D.callback,ee!==null&&(o.flags|=64,ne&&(o.flags|=8192),ne=_.callbacks,ne===null?_.callbacks=[ee]:ne.push(ee))}else ne={lane:ee,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ie===null?(Z=ie=ne,H=le):ie=ie.next=ne,N|=ee;if(D=D.next,D===null){if(D=_.shared.pending,D===null)break;ne=D,D=ne.next,ne.next=null,_.lastBaseUpdate=ne,_.shared.pending=null}}while(!0);ie===null&&(H=le),_.baseState=H,_.firstBaseUpdate=Z,_.lastBaseUpdate=ie,S===null&&(_.shared.lanes=0),la|=N,o.lanes=N,o.memoizedState=le}}function qA(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function BA(o,l){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)qA(d[o],l)}var as=q(null),Wf=q(0);function HA(o,l){o=_i,re(Wf,o),re(as,l),_i=o|l.baseLanes}function Mg(){re(Wf,_i),re(as,as.current)}function Ng(){_i=Wf.current,Y(as),Y(Wf)}var Un=q(null),nr=null;function ia(o){var l=o.alternate;re(Mt,Mt.current&1),re(Un,o),nr===null&&(l===null||as.current!==null||l.memoizedState!==null)&&(nr=o)}function Ig(o){re(Mt,Mt.current),re(Un,o),nr===null&&(nr=o)}function GA(o){o.tag===22?(re(Mt,Mt.current),re(Un,o),nr===null&&(nr=o)):aa()}function aa(){re(Mt,Mt.current),re(Un,Un.current)}function $n(o){Y(Un),nr===o&&(nr=null),Y(Mt)}var Mt=q(0);function Yf(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||jv(d)||qv(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var di=0,Ne=null,it=null,Dt=null,Jf=!1,os=!1,Ya=!1,Xf=0,uu=0,ss=null,J4=0;function Ct(){throw Error(r(321))}function Dg(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!kn(o[d],l[d]))return!1;return!0}function kg(o,l,d,m,_,S){return di=S,Ne=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,U.H=o===null||o.memoizedState===null?A1:Jg,Ya=!1,S=d(m,_),Ya=!1,os&&(S=VA(l,d,m,_)),zA(o),S}function zA(o){U.H=du;var l=it!==null&&it.next!==null;if(di=0,Dt=it=Ne=null,Jf=!1,uu=0,ss=null,l)throw Error(r(300));o===null||kt||(o=o.dependencies,o!==null&&Bf(o)&&(kt=!0))}function VA(o,l,d,m){Ne=o;var _=0;do{if(os&&(ss=null),uu=0,os=!1,25<=_)throw Error(r(301));if(_+=1,Dt=it=null,o.updateQueue!=null){var S=o.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}U.H=C1,S=l(d,m)}while(os);return S}function X4(){var o=U.H,l=o.useState()[0];return l=typeof l.then=="function"?cu(l):l,o=o.useState()[0],(it!==null?it.memoizedState:null)!==o&&(Ne.flags|=1024),l}function Lg(){var o=Xf!==0;return Xf=0,o}function Ug(o,l,d){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~d}function $g(o){if(Jf){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}Jf=!1}di=0,Dt=it=Ne=null,os=!1,uu=Xf=0,ss=null}function gn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Ne.memoizedState=Dt=o:Dt=Dt.next=o,Dt}function Nt(){if(it===null){var o=Ne.alternate;o=o!==null?o.memoizedState:null}else o=it.next;var l=Dt===null?Ne.memoizedState:Dt.next;if(l!==null)Dt=l,it=o;else{if(o===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));it=o,o={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Dt===null?Ne.memoizedState=Dt=o:Dt=Dt.next=o}return Dt}function Qf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cu(o){var l=uu;return uu+=1,ss===null&&(ss=[]),o=kA(ss,o,l),l=Ne,(Dt===null?l.memoizedState:Dt.next)===null&&(l=l.alternate,U.H=l===null||l.memoizedState===null?A1:Jg),o}function Zf(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return cu(o);if(o.$$typeof===A)return tn(o)}throw Error(r(438,String(o)))}function jg(o){var l=null,d=Ne.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var m=Ne.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(_){return _.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=Qf(),Ne.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(o),m=0;m<o;m++)d[m]=G;return l.index++,d}function hi(o,l){return typeof l=="function"?l(o):l}function ed(o){var l=Nt();return qg(l,it,o)}function qg(o,l,d){var m=o.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var _=o.baseQueue,S=m.pending;if(S!==null){if(_!==null){var N=_.next;_.next=S.next,S.next=N}l.baseQueue=_=S,m.pending=null}if(S=o.baseState,_===null)o.memoizedState=S;else{l=_.next;var D=N=null,H=null,Z=l,ie=!1;do{var le=Z.lane&-536870913;if(le!==Z.lane?(qe&le)===le:(di&le)===le){var ee=Z.revertLane;if(ee===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),le===ts&&(ie=!0);else if((di&ee)===ee){Z=Z.next,ee===ts&&(ie=!0);continue}else le={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(D=H=le,N=S):H=H.next=le,Ne.lanes|=ee,la|=ee;le=Z.action,Ya&&d(S,le),S=Z.hasEagerState?Z.eagerState:d(S,le)}else ee={lane:le,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(D=H=ee,N=S):H=H.next=ee,Ne.lanes|=le,la|=le;Z=Z.next}while(Z!==null&&Z!==l);if(H===null?N=S:H.next=D,!kn(S,o.memoizedState)&&(kt=!0,ie&&(d=ns,d!==null)))throw d;o.memoizedState=S,o.baseState=N,o.baseQueue=H,m.lastRenderedState=S}return _===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function Bg(o){var l=Nt(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var m=d.dispatch,_=d.pending,S=l.memoizedState;if(_!==null){d.pending=null;var N=_=_.next;do S=o(S,N.action),N=N.next;while(N!==_);kn(S,l.memoizedState)||(kt=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),d.lastRenderedState=S}return[S,m]}function FA(o,l,d){var m=Ne,_=Nt(),S=He;if(S){if(d===void 0)throw Error(r(407));d=d()}else d=l();var N=!kn((it||_).memoizedState,d);if(N&&(_.memoizedState=d,kt=!0),_=_.queue,zg(YA.bind(null,m,_,o),[o]),_.getSnapshot!==l||N||Dt!==null&&Dt.memoizedState.tag&1){if(m.flags|=2048,ls(9,{destroy:void 0},WA.bind(null,m,_,d,l),null),lt===null)throw Error(r(349));S||(di&127)!==0||KA(m,l,d)}return d}function KA(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=Ne.updateQueue,l===null?(l=Qf(),Ne.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function WA(o,l,d,m){l.value=d,l.getSnapshot=m,JA(l)&&XA(o)}function YA(o,l,d){return d(function(){JA(l)&&XA(o)})}function JA(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!kn(o,d)}catch{return!0}}function XA(o){var l=qa(o,2);l!==null&&Pn(l,o,2)}function Hg(o){var l=gn();if(typeof o=="function"){var d=o;if(o=d(),Ya){Wi(!0);try{d()}finally{Wi(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:o},l}function QA(o,l,d,m){return o.baseState=d,qg(o,it,typeof m=="function"?m:hi)}function Q4(o,l,d,m,_){if(rd(o))throw Error(r(485));if(o=l.action,o!==null){var S={payload:_,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){S.listeners.push(N)}};U.T!==null?d(!0):S.isTransition=!1,m(S),d=l.pending,d===null?(S.next=l.pending=S,ZA(l,S)):(S.next=d.next,l.pending=d.next=S)}}function ZA(o,l){var d=l.action,m=l.payload,_=o.state;if(l.isTransition){var S=U.T,N={};U.T=N;try{var D=d(_,m),H=U.S;H!==null&&H(N,D),e1(o,l,D)}catch(Z){Gg(o,l,Z)}finally{S!==null&&N.types!==null&&(S.types=N.types),U.T=S}}else try{S=d(_,m),e1(o,l,S)}catch(Z){Gg(o,l,Z)}}function e1(o,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){t1(o,l,m)},function(m){return Gg(o,l,m)}):t1(o,l,d)}function t1(o,l,d){l.status="fulfilled",l.value=d,n1(l),o.state=d,l=o.pending,l!==null&&(d=l.next,d===l?o.pending=null:(d=d.next,l.next=d,ZA(o,d)))}function Gg(o,l,d){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=d,n1(l),l=l.next;while(l!==m)}o.action=null}function n1(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function r1(o,l){return l}function i1(o,l){if(He){var d=lt.formState;if(d!==null){e:{var m=Ne;if(He){if(mt){t:{for(var _=mt,S=tr;_.nodeType!==8;){if(!S){_=null;break t}if(_=rr(_.nextSibling),_===null){_=null;break t}}S=_.data,_=S==="F!"||S==="F"?_:null}if(_){mt=rr(_.nextSibling),m=_.data==="F!";break e}}Zi(m)}m=!1}m&&(l=d[0])}}return d=gn(),d.memoizedState=d.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r1,lastRenderedState:l},d.queue=m,d=x1.bind(null,Ne,m),m.dispatch=d,m=Hg(!1),S=Yg.bind(null,Ne,!1,m.queue),m=gn(),_={state:l,dispatch:null,action:o,pending:null},m.queue=_,d=Q4.bind(null,Ne,_,S,d),_.dispatch=d,m.memoizedState=o,[l,d,!1]}function a1(o){var l=Nt();return o1(l,it,o)}function o1(o,l,d){if(l=qg(o,l,r1)[0],o=ed(hi)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=cu(l)}catch(N){throw N===rs?zf:N}else m=l;l=Nt();var _=l.queue,S=_.dispatch;return d!==l.memoizedState&&(Ne.flags|=2048,ls(9,{destroy:void 0},Z4.bind(null,_,d),null)),[m,S,o]}function Z4(o,l){o.action=l}function s1(o){var l=Nt(),d=it;if(d!==null)return o1(l,d,o);Nt(),l=l.memoizedState,d=Nt();var m=d.queue.dispatch;return d.memoizedState=o,[l,m,!1]}function ls(o,l,d,m){return o={tag:o,create:d,deps:m,inst:l,next:null},l=Ne.updateQueue,l===null&&(l=Qf(),Ne.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=o.next=o:(m=d.next,d.next=o,o.next=m,l.lastEffect=o),o}function l1(){return Nt().memoizedState}function td(o,l,d,m){var _=gn();Ne.flags|=o,_.memoizedState=ls(1|l,{destroy:void 0},d,m===void 0?null:m)}function nd(o,l,d,m){var _=Nt();m=m===void 0?null:m;var S=_.memoizedState.inst;it!==null&&m!==null&&Dg(m,it.memoizedState.deps)?_.memoizedState=ls(l,S,d,m):(Ne.flags|=o,_.memoizedState=ls(1|l,S,d,m))}function u1(o,l){td(8390656,8,o,l)}function zg(o,l){nd(2048,8,o,l)}function eH(o){Ne.flags|=4;var l=Ne.updateQueue;if(l===null)l=Qf(),Ne.updateQueue=l,l.events=[o];else{var d=l.events;d===null?l.events=[o]:d.push(o)}}function c1(o){var l=Nt().memoizedState;return eH({ref:l,nextImpl:o}),function(){if((Je&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function f1(o,l){return nd(4,2,o,l)}function d1(o,l){return nd(4,4,o,l)}function h1(o,l){if(typeof l=="function"){o=o();var d=l(o);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function p1(o,l,d){d=d!=null?d.concat([o]):null,nd(4,4,h1.bind(null,l,o),d)}function Vg(){}function m1(o,l){var d=Nt();l=l===void 0?null:l;var m=d.memoizedState;return l!==null&&Dg(l,m[1])?m[0]:(d.memoizedState=[o,l],o)}function g1(o,l){var d=Nt();l=l===void 0?null:l;var m=d.memoizedState;if(l!==null&&Dg(l,m[1]))return m[0];if(m=o(),Ya){Wi(!0);try{o()}finally{Wi(!1)}}return d.memoizedState=[m,l],m}function Fg(o,l,d){return d===void 0||(di&1073741824)!==0&&(qe&261930)===0?o.memoizedState=l:(o.memoizedState=d,o=vC(),Ne.lanes|=o,la|=o,d)}function v1(o,l,d,m){return kn(d,l)?d:as.current!==null?(o=Fg(o,d,m),kn(o,l)||(kt=!0),o):(di&42)===0||(di&1073741824)!==0&&(qe&261930)===0?(kt=!0,o.memoizedState=d):(o=vC(),Ne.lanes|=o,la|=o,l)}function y1(o,l,d,m,_){var S=K.p;K.p=S!==0&&8>S?S:8;var N=U.T,D={};U.T=D,Yg(o,!1,l,d);try{var H=_(),Z=U.S;if(Z!==null&&Z(D,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ie=Y4(H,m);fu(o,l,ie,Bn(o))}else fu(o,l,m,Bn(o))}catch(le){fu(o,l,{then:function(){},status:"rejected",reason:le},Bn())}finally{K.p=S,N!==null&&D.types!==null&&(N.types=D.types),U.T=N}}function tH(){}function Kg(o,l,d,m){if(o.tag!==5)throw Error(r(476));var _=b1(o).queue;y1(o,_,l,te,d===null?tH:function(){return _1(o),d(m)})}function b1(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:te},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:d},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function _1(o){var l=b1(o);l.next===null&&(l=o.alternate.memoizedState),fu(o,l.next.queue,{},Bn())}function Wg(){return tn(Ou)}function w1(){return Nt().memoizedState}function S1(){return Nt().memoizedState}function nH(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var d=Bn();o=na(d);var m=ra(l,o,d);m!==null&&(Pn(m,l,d),ou(m,l,d)),l={cache:xg()},o.payload=l;return}l=l.return}}function rH(o,l,d){var m=Bn();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},rd(o)?E1(l,d):(d=dg(o,l,d,m),d!==null&&(Pn(d,o,m),T1(d,l,m)))}function x1(o,l,d){var m=Bn();fu(o,l,d,m)}function fu(o,l,d,m){var _={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(rd(o))E1(l,_);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var N=l.lastRenderedState,D=S(N,d);if(_.hasEagerState=!0,_.eagerState=D,kn(D,N))return Uf(o,l,_,0),lt===null&&Lf(),!1}catch{}finally{}if(d=dg(o,l,_,m),d!==null)return Pn(d,o,m),T1(d,l,m),!0}return!1}function Yg(o,l,d,m){if(m={lane:2,revertLane:Cv(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},rd(o)){if(l)throw Error(r(479))}else l=dg(o,d,m,2),l!==null&&Pn(l,o,2)}function rd(o){var l=o.alternate;return o===Ne||l!==null&&l===Ne}function E1(o,l){os=Jf=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function T1(o,l,d){if((d&4194048)!==0){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,PT(o,d)}}var du={readContext:tn,use:Zf,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};du.useEffectEvent=Ct;var A1={readContext:tn,use:Zf,useCallback:function(o,l){return gn().memoizedState=[o,l===void 0?null:l],o},useContext:tn,useEffect:u1,useImperativeHandle:function(o,l,d){d=d!=null?d.concat([o]):null,td(4194308,4,h1.bind(null,l,o),d)},useLayoutEffect:function(o,l){return td(4194308,4,o,l)},useInsertionEffect:function(o,l){td(4,2,o,l)},useMemo:function(o,l){var d=gn();l=l===void 0?null:l;var m=o();if(Ya){Wi(!0);try{o()}finally{Wi(!1)}}return d.memoizedState=[m,l],m},useReducer:function(o,l,d){var m=gn();if(d!==void 0){var _=d(l);if(Ya){Wi(!0);try{d(l)}finally{Wi(!1)}}}else _=l;return m.memoizedState=m.baseState=_,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:_},m.queue=o,o=o.dispatch=rH.bind(null,Ne,o),[m.memoizedState,o]},useRef:function(o){var l=gn();return o={current:o},l.memoizedState=o},useState:function(o){o=Hg(o);var l=o.queue,d=x1.bind(null,Ne,l);return l.dispatch=d,[o.memoizedState,d]},useDebugValue:Vg,useDeferredValue:function(o,l){var d=gn();return Fg(d,o,l)},useTransition:function(){var o=Hg(!1);return o=y1.bind(null,Ne,o.queue,!0,!1),gn().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,d){var m=Ne,_=gn();if(He){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),lt===null)throw Error(r(349));(qe&127)!==0||KA(m,l,d)}_.memoizedState=d;var S={value:d,getSnapshot:l};return _.queue=S,u1(YA.bind(null,m,S,o),[o]),m.flags|=2048,ls(9,{destroy:void 0},WA.bind(null,m,S,d,l),null),d},useId:function(){var o=gn(),l=lt.identifierPrefix;if(He){var d=Hr,m=Br;d=(m&~(1<<32-Dn(m)-1)).toString(32)+d,l="_"+l+"R_"+d,d=Xf++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=J4++,l="_"+l+"r_"+d.toString(32)+"_";return o.memoizedState=l},useHostTransitionStatus:Wg,useFormState:i1,useActionState:i1,useOptimistic:function(o){var l=gn();l.memoizedState=l.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=Yg.bind(null,Ne,!0,d),d.dispatch=l,[o,l]},useMemoCache:jg,useCacheRefresh:function(){return gn().memoizedState=nH.bind(null,Ne)},useEffectEvent:function(o){var l=gn(),d={impl:o};return l.memoizedState=d,function(){if((Je&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},Jg={readContext:tn,use:Zf,useCallback:m1,useContext:tn,useEffect:zg,useImperativeHandle:p1,useInsertionEffect:f1,useLayoutEffect:d1,useMemo:g1,useReducer:ed,useRef:l1,useState:function(){return ed(hi)},useDebugValue:Vg,useDeferredValue:function(o,l){var d=Nt();return v1(d,it.memoizedState,o,l)},useTransition:function(){var o=ed(hi)[0],l=Nt().memoizedState;return[typeof o=="boolean"?o:cu(o),l]},useSyncExternalStore:FA,useId:w1,useHostTransitionStatus:Wg,useFormState:a1,useActionState:a1,useOptimistic:function(o,l){var d=Nt();return QA(d,it,o,l)},useMemoCache:jg,useCacheRefresh:S1};Jg.useEffectEvent=c1;var C1={readContext:tn,use:Zf,useCallback:m1,useContext:tn,useEffect:zg,useImperativeHandle:p1,useInsertionEffect:f1,useLayoutEffect:d1,useMemo:g1,useReducer:Bg,useRef:l1,useState:function(){return Bg(hi)},useDebugValue:Vg,useDeferredValue:function(o,l){var d=Nt();return it===null?Fg(d,o,l):v1(d,it.memoizedState,o,l)},useTransition:function(){var o=Bg(hi)[0],l=Nt().memoizedState;return[typeof o=="boolean"?o:cu(o),l]},useSyncExternalStore:FA,useId:w1,useHostTransitionStatus:Wg,useFormState:s1,useActionState:s1,useOptimistic:function(o,l){var d=Nt();return it!==null?QA(d,it,o,l):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:jg,useCacheRefresh:S1};C1.useEffectEvent=c1;function Xg(o,l,d,m){l=o.memoizedState,d=d(m,l),d=d==null?l:p({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var Qg={enqueueSetState:function(o,l,d){o=o._reactInternals;var m=Bn(),_=na(m);_.payload=l,d!=null&&(_.callback=d),l=ra(o,_,m),l!==null&&(Pn(l,o,m),ou(l,o,m))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var m=Bn(),_=na(m);_.tag=1,_.payload=l,d!=null&&(_.callback=d),l=ra(o,_,m),l!==null&&(Pn(l,o,m),ou(l,o,m))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=Bn(),m=na(d);m.tag=2,l!=null&&(m.callback=l),l=ra(o,m,d),l!==null&&(Pn(l,o,d),ou(l,o,d))}};function O1(o,l,d,m,_,S,N){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,S,N):l.prototype&&l.prototype.isPureReactComponent?!Ql(d,m)||!Ql(_,S):!0}function R1(o,l,d,m){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==o&&Qg.enqueueReplaceState(l,l.state,null)}function Ja(o,l){var d=l;if("ref"in l){d={};for(var m in l)m!=="ref"&&(d[m]=l[m])}if(o=o.defaultProps){d===l&&(d=p({},d));for(var _ in o)d[_]===void 0&&(d[_]=o[_])}return d}function P1(o){kf(o)}function M1(o){console.error(o)}function N1(o){kf(o)}function id(o,l){try{var d=o.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function I1(o,l,d){try{var m=o.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function Zg(o,l,d){return d=na(d),d.tag=3,d.payload={element:null},d.callback=function(){id(o,l)},d}function D1(o){return o=na(o),o.tag=3,o}function k1(o,l,d,m){var _=d.type.getDerivedStateFromError;if(typeof _=="function"){var S=m.value;o.payload=function(){return _(S)},o.callback=function(){I1(l,d,m)}}var N=d.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(o.callback=function(){I1(l,d,m),typeof _!="function"&&(ua===null?ua=new Set([this]):ua.add(this));var D=m.stack;this.componentDidCatch(m.value,{componentStack:D!==null?D:""})})}function iH(o,l,d,m,_){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=d.alternate,l!==null&&es(l,d,_,!0),d=Un.current,d!==null){switch(d.tag){case 31:case 13:return nr===null?gd():d.alternate===null&&Ot===0&&(Ot=3),d.flags&=-257,d.flags|=65536,d.lanes=_,m===Vf?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([m]):l.add(m),Ev(o,m,_)),!1;case 22:return d.flags|=65536,m===Vf?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([m]):d.add(m)),Ev(o,m,_)),!1}throw Error(r(435,d.tag))}return Ev(o,m,_),gd(),!1}if(He)return l=Un.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=_,m!==yg&&(o=Error(r(422),{cause:m}),tu(Qn(o,d)))):(m!==yg&&(l=Error(r(423),{cause:m}),tu(Qn(l,d))),o=o.current.alternate,o.flags|=65536,_&=-_,o.lanes|=_,m=Qn(m,d),_=Zg(o.stateNode,m,_),Rg(o,_),Ot!==4&&(Ot=2)),!1;var S=Error(r(520),{cause:m});if(S=Qn(S,d),_u===null?_u=[S]:_u.push(S),Ot!==4&&(Ot=2),l===null)return!0;m=Qn(m,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,o=_&-_,d.lanes|=o,o=Zg(d.stateNode,m,o),Rg(d,o),!1;case 1:if(l=d.type,S=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ua===null||!ua.has(S))))return d.flags|=65536,_&=-_,d.lanes|=_,_=D1(_),k1(_,o,d,m),Rg(d,_),!1}d=d.return}while(d!==null);return!1}var ev=Error(r(461)),kt=!1;function nn(o,l,d,m){l.child=o===null?jA(l,null,d,m):Wa(l,o.child,d,m)}function L1(o,l,d,m,_){d=d.render;var S=l.ref;if("ref"in m){var N={};for(var D in m)D!=="ref"&&(N[D]=m[D])}else N=m;return za(l),m=kg(o,l,d,N,S,_),D=Lg(),o!==null&&!kt?(Ug(o,l,_),pi(o,l,_)):(He&&D&&gg(l),l.flags|=1,nn(o,l,m,_),l.child)}function U1(o,l,d,m,_){if(o===null){var S=d.type;return typeof S=="function"&&!hg(S)&&S.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=S,$1(o,l,S,m,_)):(o=jf(d.type,null,m,l,l.mode,_),o.ref=l.ref,o.return=l,l.child=o)}if(S=o.child,!lv(o,_)){var N=S.memoizedProps;if(d=d.compare,d=d!==null?d:Ql,d(N,m)&&o.ref===l.ref)return pi(o,l,_)}return l.flags|=1,o=li(S,m),o.ref=l.ref,o.return=l,l.child=o}function $1(o,l,d,m,_){if(o!==null){var S=o.memoizedProps;if(Ql(S,m)&&o.ref===l.ref)if(kt=!1,l.pendingProps=m=S,lv(o,_))(o.flags&131072)!==0&&(kt=!0);else return l.lanes=o.lanes,pi(o,l,_)}return tv(o,l,d,m,_)}function j1(o,l,d,m){var _=m.children,S=o!==null?o.memoizedState:null;if(o===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(S=S!==null?S.baseLanes|d:d,o!==null){for(m=l.child=o.child,_=0;m!==null;)_=_|m.lanes|m.childLanes,m=m.sibling;m=_&~S}else m=0,l.child=null;return q1(o,l,S,d,m)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&Gf(l,S!==null?S.cachePool:null),S!==null?HA(l,S):Mg(),GA(l);else return m=l.lanes=536870912,q1(o,l,S!==null?S.baseLanes|d:d,d,m)}else S!==null?(Gf(l,S.cachePool),HA(l,S),aa(),l.memoizedState=null):(o!==null&&Gf(l,null),Mg(),aa());return nn(o,l,_,d),l.child}function hu(o,l){return o!==null&&o.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function q1(o,l,d,m,_){var S=Tg();return S=S===null?null:{parent:It._currentValue,pool:S},l.memoizedState={baseLanes:d,cachePool:S},o!==null&&Gf(l,null),Mg(),GA(l),o!==null&&es(o,l,m,!0),l.childLanes=_,null}function ad(o,l){return l=sd({mode:l.mode,children:l.children},o.mode),l.ref=o.ref,o.child=l,l.return=o,l}function B1(o,l,d){return Wa(l,o.child,null,d),o=ad(l,l.pendingProps),o.flags|=2,$n(l),l.memoizedState=null,o}function aH(o,l,d){var m=l.pendingProps,_=(l.flags&128)!==0;if(l.flags&=-129,o===null){if(He){if(m.mode==="hidden")return o=ad(l,m),l.lanes=536870912,hu(null,o);if(Ig(l),(o=mt)?(o=ZC(o,tr),o=o!==null&&o.data==="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Xi!==null?{id:Br,overflow:Hr}:null,retryLane:536870912,hydrationErrors:null},d=EA(o),d.return=l,l.child=d,en=l,mt=null)):o=null,o===null)throw Zi(l);return l.lanes=536870912,null}return ad(l,m)}var S=o.memoizedState;if(S!==null){var N=S.dehydrated;if(Ig(l),_)if(l.flags&256)l.flags&=-257,l=B1(o,l,d);else if(l.memoizedState!==null)l.child=o.child,l.flags|=128,l=null;else throw Error(r(558));else if(kt||es(o,l,d,!1),_=(d&o.childLanes)!==0,kt||_){if(m=lt,m!==null&&(N=MT(m,d),N!==0&&N!==S.retryLane))throw S.retryLane=N,qa(o,N),Pn(m,o,N),ev;gd(),l=B1(o,l,d)}else o=S.treeContext,mt=rr(N.nextSibling),en=l,He=!0,Qi=null,tr=!1,o!==null&&CA(l,o),l=ad(l,m),l.flags|=4096;return l}return o=li(o.child,{mode:m.mode,children:m.children}),o.ref=l.ref,l.child=o,o.return=l,o}function od(o,l){var d=l.ref;if(d===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(o===null||o.ref!==d)&&(l.flags|=4194816)}}function tv(o,l,d,m,_){return za(l),d=kg(o,l,d,m,void 0,_),m=Lg(),o!==null&&!kt?(Ug(o,l,_),pi(o,l,_)):(He&&m&&gg(l),l.flags|=1,nn(o,l,d,_),l.child)}function H1(o,l,d,m,_,S){return za(l),l.updateQueue=null,d=VA(l,m,d,_),zA(o),m=Lg(),o!==null&&!kt?(Ug(o,l,S),pi(o,l,S)):(He&&m&&gg(l),l.flags|=1,nn(o,l,d,S),l.child)}function G1(o,l,d,m,_){if(za(l),l.stateNode===null){var S=Jo,N=d.contextType;typeof N=="object"&&N!==null&&(S=tn(N)),S=new d(m,S),l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Qg,l.stateNode=S,S._reactInternals=l,S=l.stateNode,S.props=m,S.state=l.memoizedState,S.refs={},Cg(l),N=d.contextType,S.context=typeof N=="object"&&N!==null?tn(N):Jo,S.state=l.memoizedState,N=d.getDerivedStateFromProps,typeof N=="function"&&(Xg(l,d,N,m),S.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(N=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),N!==S.state&&Qg.enqueueReplaceState(S,S.state,null),lu(l,m,S,_),su(),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(o===null){S=l.stateNode;var D=l.memoizedProps,H=Ja(d,D);S.props=H;var Z=S.context,ie=d.contextType;N=Jo,typeof ie=="object"&&ie!==null&&(N=tn(ie));var le=d.getDerivedStateFromProps;ie=typeof le=="function"||typeof S.getSnapshotBeforeUpdate=="function",D=l.pendingProps!==D,ie||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D||Z!==N)&&R1(l,S,m,N),ta=!1;var ee=l.memoizedState;S.state=ee,lu(l,m,S,_),su(),Z=l.memoizedState,D||ee!==Z||ta?(typeof le=="function"&&(Xg(l,d,le,m),Z=l.memoizedState),(H=ta||O1(l,d,H,m,ee,Z,N))?(ie||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(l.flags|=4194308)):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=Z),S.props=m,S.state=Z,S.context=N,m=H):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{S=l.stateNode,Og(o,l),N=l.memoizedProps,ie=Ja(d,N),S.props=ie,le=l.pendingProps,ee=S.context,Z=d.contextType,H=Jo,typeof Z=="object"&&Z!==null&&(H=tn(Z)),D=d.getDerivedStateFromProps,(Z=typeof D=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(N!==le||ee!==H)&&R1(l,S,m,H),ta=!1,ee=l.memoizedState,S.state=ee,lu(l,m,S,_),su();var ne=l.memoizedState;N!==le||ee!==ne||ta||o!==null&&o.dependencies!==null&&Bf(o.dependencies)?(typeof D=="function"&&(Xg(l,d,D,m),ne=l.memoizedState),(ie=ta||O1(l,d,ie,m,ee,ne,H)||o!==null&&o.dependencies!==null&&Bf(o.dependencies))?(Z||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,ne,H),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,ne,H)),typeof S.componentDidUpdate=="function"&&(l.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof S.componentDidUpdate!="function"||N===o.memoizedProps&&ee===o.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&ee===o.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=ne),S.props=m,S.state=ne,S.context=H,m=ie):(typeof S.componentDidUpdate!="function"||N===o.memoizedProps&&ee===o.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&ee===o.memoizedState||(l.flags|=1024),m=!1)}return S=m,od(o,l),m=(l.flags&128)!==0,S||m?(S=l.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:S.render(),l.flags|=1,o!==null&&m?(l.child=Wa(l,o.child,null,_),l.child=Wa(l,null,d,_)):nn(o,l,d,_),l.memoizedState=S.state,o=l.child):o=pi(o,l,_),o}function z1(o,l,d,m){return Ha(),l.flags|=256,nn(o,l,d,m),l.child}var nv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rv(o){return{baseLanes:o,cachePool:IA()}}function iv(o,l,d){return o=o!==null?o.childLanes&~d:0,l&&(o|=qn),o}function V1(o,l,d){var m=l.pendingProps,_=!1,S=(l.flags&128)!==0,N;if((N=S)||(N=o!==null&&o.memoizedState===null?!1:(Mt.current&2)!==0),N&&(_=!0,l.flags&=-129),N=(l.flags&32)!==0,l.flags&=-33,o===null){if(He){if(_?ia(l):aa(),(o=mt)?(o=ZC(o,tr),o=o!==null&&o.data!=="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Xi!==null?{id:Br,overflow:Hr}:null,retryLane:536870912,hydrationErrors:null},d=EA(o),d.return=l,l.child=d,en=l,mt=null)):o=null,o===null)throw Zi(l);return qv(o)?l.lanes=32:l.lanes=536870912,null}var D=m.children;return m=m.fallback,_?(aa(),_=l.mode,D=sd({mode:"hidden",children:D},_),m=Ba(m,_,d,null),D.return=l,m.return=l,D.sibling=m,l.child=D,m=l.child,m.memoizedState=rv(d),m.childLanes=iv(o,N,d),l.memoizedState=nv,hu(null,m)):(ia(l),av(l,D))}var H=o.memoizedState;if(H!==null&&(D=H.dehydrated,D!==null)){if(S)l.flags&256?(ia(l),l.flags&=-257,l=ov(o,l,d)):l.memoizedState!==null?(aa(),l.child=o.child,l.flags|=128,l=null):(aa(),D=m.fallback,_=l.mode,m=sd({mode:"visible",children:m.children},_),D=Ba(D,_,d,null),D.flags|=2,m.return=l,D.return=l,m.sibling=D,l.child=m,Wa(l,o.child,null,d),m=l.child,m.memoizedState=rv(d),m.childLanes=iv(o,N,d),l.memoizedState=nv,l=hu(null,m));else if(ia(l),qv(D)){if(N=D.nextSibling&&D.nextSibling.dataset,N)var Z=N.dgst;N=Z,m=Error(r(419)),m.stack="",m.digest=N,tu({value:m,source:null,stack:null}),l=ov(o,l,d)}else if(kt||es(o,l,d,!1),N=(d&o.childLanes)!==0,kt||N){if(N=lt,N!==null&&(m=MT(N,d),m!==0&&m!==H.retryLane))throw H.retryLane=m,qa(o,m),Pn(N,o,m),ev;jv(D)||gd(),l=ov(o,l,d)}else jv(D)?(l.flags|=192,l.child=o.child,l=null):(o=H.treeContext,mt=rr(D.nextSibling),en=l,He=!0,Qi=null,tr=!1,o!==null&&CA(l,o),l=av(l,m.children),l.flags|=4096);return l}return _?(aa(),D=m.fallback,_=l.mode,H=o.child,Z=H.sibling,m=li(H,{mode:"hidden",children:m.children}),m.subtreeFlags=H.subtreeFlags&65011712,Z!==null?D=li(Z,D):(D=Ba(D,_,d,null),D.flags|=2),D.return=l,m.return=l,m.sibling=D,l.child=m,hu(null,m),m=l.child,D=o.child.memoizedState,D===null?D=rv(d):(_=D.cachePool,_!==null?(H=It._currentValue,_=_.parent!==H?{parent:H,pool:H}:_):_=IA(),D={baseLanes:D.baseLanes|d,cachePool:_}),m.memoizedState=D,m.childLanes=iv(o,N,d),l.memoizedState=nv,hu(o.child,m)):(ia(l),d=o.child,o=d.sibling,d=li(d,{mode:"visible",children:m.children}),d.return=l,d.sibling=null,o!==null&&(N=l.deletions,N===null?(l.deletions=[o],l.flags|=16):N.push(o)),l.child=d,l.memoizedState=null,d)}function av(o,l){return l=sd({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function sd(o,l){return o=Ln(22,o,null,l),o.lanes=0,o}function ov(o,l,d){return Wa(l,o.child,null,d),o=av(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function F1(o,l,d){o.lanes|=l;var m=o.alternate;m!==null&&(m.lanes|=l),wg(o.return,l,d)}function sv(o,l,d,m,_,S){var N=o.memoizedState;N===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:_,treeForkCount:S}:(N.isBackwards=l,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=d,N.tailMode=_,N.treeForkCount=S)}function K1(o,l,d){var m=l.pendingProps,_=m.revealOrder,S=m.tail;m=m.children;var N=Mt.current,D=(N&2)!==0;if(D?(N=N&1|2,l.flags|=128):N&=1,re(Mt,N),nn(o,l,m,d),m=He?eu:0,!D&&o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&F1(o,d,l);else if(o.tag===19)F1(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(_){case"forwards":for(d=l.child,_=null;d!==null;)o=d.alternate,o!==null&&Yf(o)===null&&(_=d),d=d.sibling;d=_,d===null?(_=l.child,l.child=null):(_=d.sibling,d.sibling=null),sv(l,!1,_,d,S,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,_=l.child,l.child=null;_!==null;){if(o=_.alternate,o!==null&&Yf(o)===null){l.child=_;break}o=_.sibling,_.sibling=d,d=_,_=o}sv(l,!0,d,null,S,m);break;case"together":sv(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function pi(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),la|=l.lanes,(d&l.childLanes)===0)if(o!==null){if(es(o,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,d=li(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=li(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function lv(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&Bf(o)))}function oH(o,l,d){switch(l.tag){case 3:Xe(l,l.stateNode.containerInfo),ea(l,It,o.memoizedState.cache),Ha();break;case 27:case 5:Ce(l);break;case 4:Xe(l,l.stateNode.containerInfo);break;case 10:ea(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Ig(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(ia(l),l.flags|=128,null):(d&l.child.childLanes)!==0?V1(o,l,d):(ia(l),o=pi(o,l,d),o!==null?o.sibling:null);ia(l);break;case 19:var _=(o.flags&128)!==0;if(m=(d&l.childLanes)!==0,m||(es(o,l,d,!1),m=(d&l.childLanes)!==0),_){if(m)return K1(o,l,d);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),re(Mt,Mt.current),m)break;return null;case 22:return l.lanes=0,j1(o,l,d,l.pendingProps);case 24:ea(l,It,o.memoizedState.cache)}return pi(o,l,d)}function W1(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps)kt=!0;else{if(!lv(o,d)&&(l.flags&128)===0)return kt=!1,oH(o,l,d);kt=(o.flags&131072)!==0}else kt=!1,He&&(l.flags&1048576)!==0&&AA(l,eu,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(o=Fa(l.elementType),l.type=o,typeof o=="function")hg(o)?(m=Ja(o,m),l.tag=1,l=G1(null,l,o,m,d)):(l.tag=0,l=tv(null,l,o,m,d));else{if(o!=null){var _=o.$$typeof;if(_===P){l.tag=11,l=L1(null,l,o,m,d);break e}else if(_===I){l.tag=14,l=U1(null,l,o,m,d);break e}}throw l=X(o)||o,Error(r(306,l,""))}}return l;case 0:return tv(o,l,l.type,l.pendingProps,d);case 1:return m=l.type,_=Ja(m,l.pendingProps),G1(o,l,m,_,d);case 3:e:{if(Xe(l,l.stateNode.containerInfo),o===null)throw Error(r(387));m=l.pendingProps;var S=l.memoizedState;_=S.element,Og(o,l),lu(l,m,null,d);var N=l.memoizedState;if(m=N.cache,ea(l,It,m),m!==S.cache&&Sg(l,[It],d,!0),su(),m=N.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:N.cache},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){l=z1(o,l,m,d);break e}else if(m!==_){_=Qn(Error(r(424)),l),tu(_),l=z1(o,l,m,d);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(mt=rr(o.firstChild),en=l,He=!0,Qi=null,tr=!0,d=jA(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Ha(),m===_){l=pi(o,l,d);break e}nn(o,l,m,d)}l=l.child}return l;case 26:return od(o,l),o===null?(d=aO(l.type,null,l.pendingProps,null))?l.memoizedState=d:He||(d=l.type,o=l.pendingProps,m=xd(we.current).createElement(d),m[Zt]=l,m[En]=o,rn(m,d,o),Kt(m),l.stateNode=m):l.memoizedState=aO(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return Ce(l),o===null&&He&&(m=l.stateNode=nO(l.type,l.pendingProps,we.current),en=l,tr=!0,_=mt,ha(l.type)?(Bv=_,mt=rr(m.firstChild)):mt=_),nn(o,l,l.pendingProps.children,d),od(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&He&&((_=m=mt)&&(m=LH(m,l.type,l.pendingProps,tr),m!==null?(l.stateNode=m,en=l,mt=rr(m.firstChild),tr=!1,_=!0):_=!1),_||Zi(l)),Ce(l),_=l.type,S=l.pendingProps,N=o!==null?o.memoizedProps:null,m=S.children,Lv(_,S)?m=null:N!==null&&Lv(_,N)&&(l.flags|=32),l.memoizedState!==null&&(_=kg(o,l,X4,null,null,d),Ou._currentValue=_),od(o,l),nn(o,l,m,d),l.child;case 6:return o===null&&He&&((o=d=mt)&&(d=UH(d,l.pendingProps,tr),d!==null?(l.stateNode=d,en=l,mt=null,o=!0):o=!1),o||Zi(l)),null;case 13:return V1(o,l,d);case 4:return Xe(l,l.stateNode.containerInfo),m=l.pendingProps,o===null?l.child=Wa(l,null,m,d):nn(o,l,m,d),l.child;case 11:return L1(o,l,l.type,l.pendingProps,d);case 7:return nn(o,l,l.pendingProps,d),l.child;case 8:return nn(o,l,l.pendingProps.children,d),l.child;case 12:return nn(o,l,l.pendingProps.children,d),l.child;case 10:return m=l.pendingProps,ea(l,l.type,m.value),nn(o,l,m.children,d),l.child;case 9:return _=l.type._context,m=l.pendingProps.children,za(l),_=tn(_),m=m(_),l.flags|=1,nn(o,l,m,d),l.child;case 14:return U1(o,l,l.type,l.pendingProps,d);case 15:return $1(o,l,l.type,l.pendingProps,d);case 19:return K1(o,l,d);case 31:return aH(o,l,d);case 22:return j1(o,l,d,l.pendingProps);case 24:return za(l),m=tn(It),o===null?(_=Tg(),_===null&&(_=lt,S=xg(),_.pooledCache=S,S.refCount++,S!==null&&(_.pooledCacheLanes|=d),_=S),l.memoizedState={parent:m,cache:_},Cg(l),ea(l,It,_)):((o.lanes&d)!==0&&(Og(o,l),lu(l,null,null,d),su()),_=o.memoizedState,S=l.memoizedState,_.parent!==m?(_={parent:m,cache:m},l.memoizedState=_,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=_),ea(l,It,m)):(m=S.cache,ea(l,It,m),m!==_.cache&&Sg(l,[It],d,!0))),nn(o,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function mi(o){o.flags|=4}function uv(o,l,d,m,_){if((l=(o.mode&32)!==0)&&(l=!1),l){if(o.flags|=16777216,(_&335544128)===_)if(o.stateNode.complete)o.flags|=8192;else if(wC())o.flags|=8192;else throw Ka=Vf,Ag}else o.flags&=-16777217}function Y1(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!cO(l))if(wC())o.flags|=8192;else throw Ka=Vf,Ag}function ld(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?OT():536870912,o.lanes|=l,ds|=l)}function pu(o,l){if(!He)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function gt(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,m=0;if(l)for(var _=o.child;_!==null;)d|=_.lanes|_.childLanes,m|=_.subtreeFlags&65011712,m|=_.flags&65011712,_.return=o,_=_.sibling;else for(_=o.child;_!==null;)d|=_.lanes|_.childLanes,m|=_.subtreeFlags,m|=_.flags,_.return=o,_=_.sibling;return o.subtreeFlags|=m,o.childLanes=d,l}function sH(o,l,d){var m=l.pendingProps;switch(vg(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(l),null;case 1:return gt(l),null;case 3:return d=l.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),fi(It),fe(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(Zo(l)?mi(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,bg())),gt(l),null;case 26:var _=l.type,S=l.memoizedState;return o===null?(mi(l),S!==null?(gt(l),Y1(l,S)):(gt(l),uv(l,_,null,m,d))):S?S!==o.memoizedState?(mi(l),gt(l),Y1(l,S)):(gt(l),l.flags&=-16777217):(o=o.memoizedProps,o!==m&&mi(l),gt(l),uv(l,_,o,m,d)),null;case 27:if(Pe(l),d=we.current,_=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==m&&mi(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return gt(l),null}o=ce.current,Zo(l)?OA(l):(o=nO(_,m,d),l.stateNode=o,mi(l))}return gt(l),null;case 5:if(Pe(l),_=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==m&&mi(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return gt(l),null}if(S=ce.current,Zo(l))OA(l);else{var N=xd(we.current);switch(S){case 1:S=N.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:S=N.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":S=N.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":S=N.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":S=N.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof m.is=="string"?N.createElement("select",{is:m.is}):N.createElement("select"),m.multiple?S.multiple=!0:m.size&&(S.size=m.size);break;default:S=typeof m.is=="string"?N.createElement(_,{is:m.is}):N.createElement(_)}}S[Zt]=l,S[En]=m;e:for(N=l.child;N!==null;){if(N.tag===5||N.tag===6)S.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===l)break e;for(;N.sibling===null;){if(N.return===null||N.return===l)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}l.stateNode=S;e:switch(rn(S,_,m),_){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&mi(l)}}return gt(l),uv(l,l.type,o===null?null:o.memoizedProps,l.pendingProps,d),null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==m&&mi(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(o=we.current,Zo(l)){if(o=l.stateNode,d=l.memoizedProps,m=null,_=en,_!==null)switch(_.tag){case 27:case 5:m=_.memoizedProps}o[Zt]=l,o=!!(o.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||VC(o.nodeValue,d)),o||Zi(l,!0)}else o=xd(o).createTextNode(m),o[Zt]=l,l.stateNode=o}return gt(l),null;case 31:if(d=l.memoizedState,o===null||o.memoizedState!==null){if(m=Zo(l),d!==null){if(o===null){if(!m)throw Error(r(318));if(o=l.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[Zt]=l}else Ha(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;gt(l),o=!1}else d=bg(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=d),o=!0;if(!o)return l.flags&256?($n(l),l):($n(l),null);if((l.flags&128)!==0)throw Error(r(558))}return gt(l),null;case 13:if(m=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(_=Zo(l),m!==null&&m.dehydrated!==null){if(o===null){if(!_)throw Error(r(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[Zt]=l}else Ha(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;gt(l),_=!1}else _=bg(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=_),_=!0;if(!_)return l.flags&256?($n(l),l):($n(l),null)}return $n(l),(l.flags&128)!==0?(l.lanes=d,l):(d=m!==null,o=o!==null&&o.memoizedState!==null,d&&(m=l.child,_=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(_=m.alternate.memoizedState.cachePool.pool),S=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==_&&(m.flags|=2048)),d!==o&&d&&(l.child.flags|=8192),ld(l,l.updateQueue),gt(l),null);case 4:return fe(),o===null&&Mv(l.stateNode.containerInfo),gt(l),null;case 10:return fi(l.type),gt(l),null;case 19:if(Y(Mt),m=l.memoizedState,m===null)return gt(l),null;if(_=(l.flags&128)!==0,S=m.rendering,S===null)if(_)pu(m,!1);else{if(Ot!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(S=Yf(o),S!==null){for(l.flags|=128,pu(m,!1),o=S.updateQueue,l.updateQueue=o,ld(l,o),l.subtreeFlags=0,o=d,d=l.child;d!==null;)xA(d,o),d=d.sibling;return re(Mt,Mt.current&1|2),He&&ui(l,m.treeForkCount),l.child}o=o.sibling}m.tail!==null&&un()>hd&&(l.flags|=128,_=!0,pu(m,!1),l.lanes=4194304)}else{if(!_)if(o=Yf(S),o!==null){if(l.flags|=128,_=!0,o=o.updateQueue,l.updateQueue=o,ld(l,o),pu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!S.alternate&&!He)return gt(l),null}else 2*un()-m.renderingStartTime>hd&&d!==536870912&&(l.flags|=128,_=!0,pu(m,!1),l.lanes=4194304);m.isBackwards?(S.sibling=l.child,l.child=S):(o=m.last,o!==null?o.sibling=S:l.child=S,m.last=S)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=un(),o.sibling=null,d=Mt.current,re(Mt,_?d&1|2:d&1),He&&ui(l,m.treeForkCount),o):(gt(l),null);case 22:case 23:return $n(l),Ng(),m=l.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(d&536870912)!==0&&(l.flags&128)===0&&(gt(l),l.subtreeFlags&6&&(l.flags|=8192)):gt(l),d=l.updateQueue,d!==null&&ld(l,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048),o!==null&&Y(Va),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),fi(It),gt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function lH(o,l){switch(vg(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return fi(It),fe(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return Pe(l),null;case 31:if(l.memoizedState!==null){if($n(l),l.alternate===null)throw Error(r(340));Ha()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 13:if($n(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Ha()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Y(Mt),null;case 4:return fe(),null;case 10:return fi(l.type),null;case 22:case 23:return $n(l),Ng(),o!==null&&Y(Va),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return fi(It),null;case 25:return null;default:return null}}function J1(o,l){switch(vg(l),l.tag){case 3:fi(It),fe();break;case 26:case 27:case 5:Pe(l);break;case 4:fe();break;case 31:l.memoizedState!==null&&$n(l);break;case 13:$n(l);break;case 19:Y(Mt);break;case 10:fi(l.type);break;case 22:case 23:$n(l),Ng(),o!==null&&Y(Va);break;case 24:fi(It)}}function mu(o,l){try{var d=l.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var _=m.next;d=_;do{if((d.tag&o)===o){m=void 0;var S=d.create,N=d.inst;m=S(),N.destroy=m}d=d.next}while(d!==_)}}catch(D){nt(l,l.return,D)}}function oa(o,l,d){try{var m=l.updateQueue,_=m!==null?m.lastEffect:null;if(_!==null){var S=_.next;m=S;do{if((m.tag&o)===o){var N=m.inst,D=N.destroy;if(D!==void 0){N.destroy=void 0,_=l;var H=d,Z=D;try{Z()}catch(ie){nt(_,H,ie)}}}m=m.next}while(m!==S)}}catch(ie){nt(l,l.return,ie)}}function X1(o){var l=o.updateQueue;if(l!==null){var d=o.stateNode;try{BA(l,d)}catch(m){nt(o,o.return,m)}}}function Q1(o,l,d){d.props=Ja(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(m){nt(o,l,m)}}function gu(o,l){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var m=o.stateNode;break;case 30:m=o.stateNode;break;default:m=o.stateNode}typeof d=="function"?o.refCleanup=d(m):d.current=m}}catch(_){nt(o,l,_)}}function Gr(o,l){var d=o.ref,m=o.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(_){nt(o,l,_)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(_){nt(o,l,_)}else d.current=null}function Z1(o){var l=o.type,d=o.memoizedProps,m=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(_){nt(o,o.return,_)}}function cv(o,l,d){try{var m=o.stateNode;PH(m,o.type,d,l),m[En]=l}catch(_){nt(o,o.return,_)}}function eC(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&ha(o.type)||o.tag===4}function fv(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||eC(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&ha(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function dv(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(o),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=oi));else if(m!==4&&(m===27&&ha(o.type)&&(d=o.stateNode,l=null),o=o.child,o!==null))for(dv(o,l,d),o=o.sibling;o!==null;)dv(o,l,d),o=o.sibling}function ud(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(m!==4&&(m===27&&ha(o.type)&&(d=o.stateNode),o=o.child,o!==null))for(ud(o,l,d),o=o.sibling;o!==null;)ud(o,l,d),o=o.sibling}function tC(o){var l=o.stateNode,d=o.memoizedProps;try{for(var m=o.type,_=l.attributes;_.length;)l.removeAttributeNode(_[0]);rn(l,m,d),l[Zt]=o,l[En]=d}catch(S){nt(o,o.return,S)}}var gi=!1,Lt=!1,hv=!1,nC=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function uH(o,l){if(o=o.containerInfo,Dv=Pd,o=pA(o),og(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var _=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var N=0,D=-1,H=-1,Z=0,ie=0,le=o,ee=null;t:for(;;){for(var ne;le!==d||_!==0&&le.nodeType!==3||(D=N+_),le!==S||m!==0&&le.nodeType!==3||(H=N+m),le.nodeType===3&&(N+=le.nodeValue.length),(ne=le.firstChild)!==null;)ee=le,le=ne;for(;;){if(le===o)break t;if(ee===d&&++Z===_&&(D=N),ee===S&&++ie===m&&(H=N),(ne=le.nextSibling)!==null)break;le=ee,ee=le.parentNode}le=ne}d=D===-1||H===-1?null:{start:D,end:H}}else d=null}d=d||{start:0,end:0}}else d=null;for(kv={focusedElem:o,selectionRange:d},Pd=!1,Wt=l;Wt!==null;)if(l=Wt,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Wt=o;else for(;Wt!==null;){switch(l=Wt,S=l.alternate,o=l.flags,l.tag){case 0:if((o&4)!==0&&(o=l.updateQueue,o=o!==null?o.events:null,o!==null))for(d=0;d<o.length;d++)_=o[d],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&S!==null){o=void 0,d=l,_=S.memoizedProps,S=S.memoizedState,m=d.stateNode;try{var ve=Ja(d.type,_);o=m.getSnapshotBeforeUpdate(ve,S),m.__reactInternalSnapshotBeforeUpdate=o}catch(Se){nt(d,d.return,Se)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,d=o.nodeType,d===9)$v(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":$v(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,Wt=o;break}Wt=l.return}}function rC(o,l,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:yi(o,d),m&4&&mu(5,d);break;case 1:if(yi(o,d),m&4)if(o=d.stateNode,l===null)try{o.componentDidMount()}catch(N){nt(d,d.return,N)}else{var _=Ja(d.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(_,l,o.__reactInternalSnapshotBeforeUpdate)}catch(N){nt(d,d.return,N)}}m&64&&X1(d),m&512&&gu(d,d.return);break;case 3:if(yi(o,d),m&64&&(o=d.updateQueue,o!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{BA(o,l)}catch(N){nt(d,d.return,N)}}break;case 27:l===null&&m&4&&tC(d);case 26:case 5:yi(o,d),l===null&&m&4&&Z1(d),m&512&&gu(d,d.return);break;case 12:yi(o,d);break;case 31:yi(o,d),m&4&&oC(o,d);break;case 13:yi(o,d),m&4&&sC(o,d),m&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=yH.bind(null,d),$H(o,d))));break;case 22:if(m=d.memoizedState!==null||gi,!m){l=l!==null&&l.memoizedState!==null||Lt,_=gi;var S=Lt;gi=m,(Lt=l)&&!S?bi(o,d,(d.subtreeFlags&8772)!==0):yi(o,d),gi=_,Lt=S}break;case 30:break;default:yi(o,d)}}function iC(o){var l=o.alternate;l!==null&&(o.alternate=null,iC(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&Gm(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var yt=null,An=!1;function vi(o,l,d){for(d=d.child;d!==null;)aC(o,l,d),d=d.sibling}function aC(o,l,d){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(ql,d)}catch{}switch(d.tag){case 26:Lt||Gr(d,l),vi(o,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Lt||Gr(d,l);var m=yt,_=An;ha(d.type)&&(yt=d.stateNode,An=!1),vi(o,l,d),Tu(d.stateNode),yt=m,An=_;break;case 5:Lt||Gr(d,l);case 6:if(m=yt,_=An,yt=null,vi(o,l,d),yt=m,An=_,yt!==null)if(An)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(d.stateNode)}catch(S){nt(d,l,S)}else try{yt.removeChild(d.stateNode)}catch(S){nt(d,l,S)}break;case 18:yt!==null&&(An?(o=yt,XC(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),_s(o)):XC(yt,d.stateNode));break;case 4:m=yt,_=An,yt=d.stateNode.containerInfo,An=!0,vi(o,l,d),yt=m,An=_;break;case 0:case 11:case 14:case 15:oa(2,d,l),Lt||oa(4,d,l),vi(o,l,d);break;case 1:Lt||(Gr(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"&&Q1(d,l,m)),vi(o,l,d);break;case 21:vi(o,l,d);break;case 22:Lt=(m=Lt)||d.memoizedState!==null,vi(o,l,d),Lt=m;break;default:vi(o,l,d)}}function oC(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{_s(o)}catch(d){nt(l,l.return,d)}}}function sC(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{_s(o)}catch(d){nt(l,l.return,d)}}function cH(o){switch(o.tag){case 31:case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new nC),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new nC),l;default:throw Error(r(435,o.tag))}}function cd(o,l){var d=cH(o);l.forEach(function(m){if(!d.has(m)){d.add(m);var _=bH.bind(null,o,m);m.then(_,_)}})}function Cn(o,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var _=d[m],S=o,N=l,D=N;e:for(;D!==null;){switch(D.tag){case 27:if(ha(D.type)){yt=D.stateNode,An=!1;break e}break;case 5:yt=D.stateNode,An=!1;break e;case 3:case 4:yt=D.stateNode.containerInfo,An=!0;break e}D=D.return}if(yt===null)throw Error(r(160));aC(S,N,_),yt=null,An=!1,S=_.alternate,S!==null&&(S.return=null),_.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)lC(l,o),l=l.sibling}var Er=null;function lC(o,l){var d=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Cn(l,o),On(o),m&4&&(oa(3,o,o.return),mu(3,o),oa(5,o,o.return));break;case 1:Cn(l,o),On(o),m&512&&(Lt||d===null||Gr(d,d.return)),m&64&&gi&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var _=Er;if(Cn(l,o),On(o),m&512&&(Lt||d===null||Gr(d,d.return)),m&4){var S=d!==null?d.memoizedState:null;if(m=o.memoizedState,d===null)if(m===null)if(o.stateNode===null){e:{m=o.type,d=o.memoizedProps,_=_.ownerDocument||_;t:switch(m){case"title":S=_.getElementsByTagName("title")[0],(!S||S[Gl]||S[Zt]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=_.createElement(m),_.head.insertBefore(S,_.querySelector("head > title"))),rn(S,m,d),S[Zt]=o,Kt(S),m=S;break e;case"link":var N=lO("link","href",_).get(m+(d.href||""));if(N){for(var D=0;D<N.length;D++)if(S=N[D],S.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&S.getAttribute("rel")===(d.rel==null?null:d.rel)&&S.getAttribute("title")===(d.title==null?null:d.title)&&S.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){N.splice(D,1);break t}}S=_.createElement(m),rn(S,m,d),_.head.appendChild(S);break;case"meta":if(N=lO("meta","content",_).get(m+(d.content||""))){for(D=0;D<N.length;D++)if(S=N[D],S.getAttribute("content")===(d.content==null?null:""+d.content)&&S.getAttribute("name")===(d.name==null?null:d.name)&&S.getAttribute("property")===(d.property==null?null:d.property)&&S.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&S.getAttribute("charset")===(d.charSet==null?null:d.charSet)){N.splice(D,1);break t}}S=_.createElement(m),rn(S,m,d),_.head.appendChild(S);break;default:throw Error(r(468,m))}S[Zt]=o,Kt(S),m=S}o.stateNode=m}else uO(_,o.type,o.stateNode);else o.stateNode=sO(_,m,o.memoizedProps);else S!==m?(S===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):S.count--,m===null?uO(_,o.type,o.stateNode):sO(_,m,o.memoizedProps)):m===null&&o.stateNode!==null&&cv(o,o.memoizedProps,d.memoizedProps)}break;case 27:Cn(l,o),On(o),m&512&&(Lt||d===null||Gr(d,d.return)),d!==null&&m&4&&cv(o,o.memoizedProps,d.memoizedProps);break;case 5:if(Cn(l,o),On(o),m&512&&(Lt||d===null||Gr(d,d.return)),o.flags&32){_=o.stateNode;try{Go(_,"")}catch(ve){nt(o,o.return,ve)}}m&4&&o.stateNode!=null&&(_=o.memoizedProps,cv(o,_,d!==null?d.memoizedProps:_)),m&1024&&(hv=!0);break;case 6:if(Cn(l,o),On(o),m&4){if(o.stateNode===null)throw Error(r(162));m=o.memoizedProps,d=o.stateNode;try{d.nodeValue=m}catch(ve){nt(o,o.return,ve)}}break;case 3:if(Ad=null,_=Er,Er=Ed(l.containerInfo),Cn(l,o),Er=_,On(o),m&4&&d!==null&&d.memoizedState.isDehydrated)try{_s(l.containerInfo)}catch(ve){nt(o,o.return,ve)}hv&&(hv=!1,uC(o));break;case 4:m=Er,Er=Ed(o.stateNode.containerInfo),Cn(l,o),On(o),Er=m;break;case 12:Cn(l,o),On(o);break;case 31:Cn(l,o),On(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,cd(o,m)));break;case 13:Cn(l,o),On(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(dd=un()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,cd(o,m)));break;case 22:_=o.memoizedState!==null;var H=d!==null&&d.memoizedState!==null,Z=gi,ie=Lt;if(gi=Z||_,Lt=ie||H,Cn(l,o),Lt=ie,gi=Z,On(o),m&8192)e:for(l=o.stateNode,l._visibility=_?l._visibility&-2:l._visibility|1,_&&(d===null||H||gi||Lt||Xa(o)),d=null,l=o;;){if(l.tag===5||l.tag===26){if(d===null){H=d=l;try{if(S=H.stateNode,_)N=S.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{D=H.stateNode;var le=H.memoizedProps.style,ee=le!=null&&le.hasOwnProperty("display")?le.display:null;D.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(ve){nt(H,H.return,ve)}}}else if(l.tag===6){if(d===null){H=l;try{H.stateNode.nodeValue=_?"":H.memoizedProps}catch(ve){nt(H,H.return,ve)}}}else if(l.tag===18){if(d===null){H=l;try{var ne=H.stateNode;_?QC(ne,!0):QC(H.stateNode,!1)}catch(ve){nt(H,H.return,ve)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=o.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,cd(o,d))));break;case 19:Cn(l,o),On(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,cd(o,m)));break;case 30:break;case 21:break;default:Cn(l,o),On(o)}}function On(o){var l=o.flags;if(l&2){try{for(var d,m=o.return;m!==null;){if(eC(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var _=d.stateNode,S=fv(o);ud(o,S,_);break;case 5:var N=d.stateNode;d.flags&32&&(Go(N,""),d.flags&=-33);var D=fv(o);ud(o,D,N);break;case 3:case 4:var H=d.stateNode.containerInfo,Z=fv(o);dv(o,Z,H);break;default:throw Error(r(161))}}catch(ie){nt(o,o.return,ie)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function uC(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;uC(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function yi(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)rC(o,l.alternate,l),l=l.sibling}function Xa(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:oa(4,l,l.return),Xa(l);break;case 1:Gr(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&Q1(l,l.return,d),Xa(l);break;case 27:Tu(l.stateNode);case 26:case 5:Gr(l,l.return),Xa(l);break;case 22:l.memoizedState===null&&Xa(l);break;case 30:Xa(l);break;default:Xa(l)}o=o.sibling}}function bi(o,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,_=o,S=l,N=S.flags;switch(S.tag){case 0:case 11:case 15:bi(_,S,d),mu(4,S);break;case 1:if(bi(_,S,d),m=S,_=m.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(Z){nt(m,m.return,Z)}if(m=S,_=m.updateQueue,_!==null){var D=m.stateNode;try{var H=_.shared.hiddenCallbacks;if(H!==null)for(_.shared.hiddenCallbacks=null,_=0;_<H.length;_++)qA(H[_],D)}catch(Z){nt(m,m.return,Z)}}d&&N&64&&X1(S),gu(S,S.return);break;case 27:tC(S);case 26:case 5:bi(_,S,d),d&&m===null&&N&4&&Z1(S),gu(S,S.return);break;case 12:bi(_,S,d);break;case 31:bi(_,S,d),d&&N&4&&oC(_,S);break;case 13:bi(_,S,d),d&&N&4&&sC(_,S);break;case 22:S.memoizedState===null&&bi(_,S,d),gu(S,S.return);break;case 30:break;default:bi(_,S,d)}l=l.sibling}}function pv(o,l){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&nu(d))}function mv(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&nu(o))}function Tr(o,l,d,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)cC(o,l,d,m),l=l.sibling}function cC(o,l,d,m){var _=l.flags;switch(l.tag){case 0:case 11:case 15:Tr(o,l,d,m),_&2048&&mu(9,l);break;case 1:Tr(o,l,d,m);break;case 3:Tr(o,l,d,m),_&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&nu(o)));break;case 12:if(_&2048){Tr(o,l,d,m),o=l.stateNode;try{var S=l.memoizedProps,N=S.id,D=S.onPostCommit;typeof D=="function"&&D(N,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(H){nt(l,l.return,H)}}else Tr(o,l,d,m);break;case 31:Tr(o,l,d,m);break;case 13:Tr(o,l,d,m);break;case 23:break;case 22:S=l.stateNode,N=l.alternate,l.memoizedState!==null?S._visibility&2?Tr(o,l,d,m):vu(o,l):S._visibility&2?Tr(o,l,d,m):(S._visibility|=2,us(o,l,d,m,(l.subtreeFlags&10256)!==0||!1)),_&2048&&pv(N,l);break;case 24:Tr(o,l,d,m),_&2048&&mv(l.alternate,l);break;default:Tr(o,l,d,m)}}function us(o,l,d,m,_){for(_=_&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var S=o,N=l,D=d,H=m,Z=N.flags;switch(N.tag){case 0:case 11:case 15:us(S,N,D,H,_),mu(8,N);break;case 23:break;case 22:var ie=N.stateNode;N.memoizedState!==null?ie._visibility&2?us(S,N,D,H,_):vu(S,N):(ie._visibility|=2,us(S,N,D,H,_)),_&&Z&2048&&pv(N.alternate,N);break;case 24:us(S,N,D,H,_),_&&Z&2048&&mv(N.alternate,N);break;default:us(S,N,D,H,_)}l=l.sibling}}function vu(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=o,m=l,_=m.flags;switch(m.tag){case 22:vu(d,m),_&2048&&pv(m.alternate,m);break;case 24:vu(d,m),_&2048&&mv(m.alternate,m);break;default:vu(d,m)}l=l.sibling}}var yu=8192;function cs(o,l,d){if(o.subtreeFlags&yu)for(o=o.child;o!==null;)fC(o,l,d),o=o.sibling}function fC(o,l,d){switch(o.tag){case 26:cs(o,l,d),o.flags&yu&&o.memoizedState!==null&&JH(d,Er,o.memoizedState,o.memoizedProps);break;case 5:cs(o,l,d);break;case 3:case 4:var m=Er;Er=Ed(o.stateNode.containerInfo),cs(o,l,d),Er=m;break;case 22:o.memoizedState===null&&(m=o.alternate,m!==null&&m.memoizedState!==null?(m=yu,yu=16777216,cs(o,l,d),yu=m):cs(o,l,d));break;default:cs(o,l,d)}}function dC(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function bu(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];Wt=m,pC(m,o)}dC(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)hC(o),o=o.sibling}function hC(o){switch(o.tag){case 0:case 11:case 15:bu(o),o.flags&2048&&oa(9,o,o.return);break;case 3:bu(o);break;case 12:bu(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,fd(o)):bu(o);break;default:bu(o)}}function fd(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];Wt=m,pC(m,o)}dC(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:oa(8,l,l.return),fd(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,fd(l));break;default:fd(l)}o=o.sibling}}function pC(o,l){for(;Wt!==null;){var d=Wt;switch(d.tag){case 0:case 11:case 15:oa(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:nu(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,Wt=m;else e:for(d=o;Wt!==null;){m=Wt;var _=m.sibling,S=m.return;if(iC(m),m===d){Wt=null;break e}if(_!==null){_.return=S,Wt=_;break e}Wt=S}}}var fH={getCacheForType:function(o){var l=tn(It),d=l.data.get(o);return d===void 0&&(d=o(),l.data.set(o,d)),d},cacheSignal:function(){return tn(It).controller.signal}},dH=typeof WeakMap=="function"?WeakMap:Map,Je=0,lt=null,$e=null,qe=0,tt=0,jn=null,sa=!1,fs=!1,gv=!1,_i=0,Ot=0,la=0,Qa=0,vv=0,qn=0,ds=0,_u=null,Rn=null,yv=!1,dd=0,mC=0,hd=1/0,pd=null,ua=null,Bt=0,ca=null,hs=null,wi=0,bv=0,_v=null,gC=null,wu=0,wv=null;function Bn(){return(Je&2)!==0&&qe!==0?qe&-qe:U.T!==null?Cv():NT()}function vC(){if(qn===0)if((qe&536870912)===0||He){var o=Sf;Sf<<=1,(Sf&3932160)===0&&(Sf=262144),qn=o}else qn=536870912;return o=Un.current,o!==null&&(o.flags|=32),qn}function Pn(o,l,d){(o===lt&&(tt===2||tt===9)||o.cancelPendingCommit!==null)&&(ps(o,0),fa(o,qe,qn,!1)),Hl(o,d),((Je&2)===0||o!==lt)&&(o===lt&&((Je&2)===0&&(Qa|=d),Ot===4&&fa(o,qe,qn,!1)),zr(o))}function yC(o,l,d){if((Je&6)!==0)throw Error(r(327));var m=!d&&(l&127)===0&&(l&o.expiredLanes)===0||Bl(o,l),_=m?mH(o,l):xv(o,l,!0),S=m;do{if(_===0){fs&&!m&&fa(o,l,0,!1);break}else{if(d=o.current.alternate,S&&!hH(d)){_=xv(o,l,!1),S=!1;continue}if(_===2){if(S=l,o.errorRecoveryDisabledLanes&S)var N=0;else N=o.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){l=N;e:{var D=o;_=_u;var H=D.current.memoizedState.isDehydrated;if(H&&(ps(D,N).flags|=256),N=xv(D,N,!1),N!==2){if(gv&&!H){D.errorRecoveryDisabledLanes|=S,Qa|=S,_=4;break e}S=Rn,Rn=_,S!==null&&(Rn===null?Rn=S:Rn.push.apply(Rn,S))}_=N}if(S=!1,_!==2)continue}}if(_===1){ps(o,0),fa(o,l,0,!0);break}e:{switch(m=o,S=_,S){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:fa(m,l,qn,!sa);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(_=dd+300-un(),10<_)){if(fa(m,l,qn,!sa),Ef(m,0,!0)!==0)break e;wi=l,m.timeoutHandle=YC(bC.bind(null,m,d,Rn,pd,yv,l,qn,Qa,ds,sa,S,"Throttled",-0,0),_);break e}bC(m,d,Rn,pd,yv,l,qn,Qa,ds,sa,S,null,-0,0)}}break}while(!0);zr(o)}function bC(o,l,d,m,_,S,N,D,H,Z,ie,le,ee,ne){if(o.timeoutHandle=-1,le=l.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},fC(l,S,le);var ve=(S&62914560)===S?dd-un():(S&4194048)===S?mC-un():0;if(ve=XH(le,ve),ve!==null){wi=S,o.cancelPendingCommit=ve(CC.bind(null,o,l,S,d,m,_,N,D,H,ie,le,null,ee,ne)),fa(o,S,N,!Z);return}}CC(o,l,S,d,m,_,N,D,H)}function hH(o){for(var l=o;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var _=d[m],S=_.getSnapshot;_=_.value;try{if(!kn(S(),_))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function fa(o,l,d,m){l&=~vv,l&=~Qa,o.suspendedLanes|=l,o.pingedLanes&=~l,m&&(o.warmLanes|=l),m=o.expirationTimes;for(var _=l;0<_;){var S=31-Dn(_),N=1<<S;m[S]=-1,_&=~N}d!==0&&RT(o,d,l)}function md(){return(Je&6)===0?(Su(0),!1):!0}function Sv(){if($e!==null){if(tt===0)var o=$e.return;else o=$e,ci=Ga=null,$g(o),is=null,iu=0,o=$e;for(;o!==null;)J1(o.alternate,o),o=o.return;$e=null}}function ps(o,l){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,IH(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),wi=0,Sv(),lt=o,$e=d=li(o.current,null),qe=l,tt=0,jn=null,sa=!1,fs=Bl(o,l),gv=!1,ds=qn=vv=Qa=la=Ot=0,Rn=_u=null,yv=!1,(l&8)!==0&&(l|=l&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=l;0<m;){var _=31-Dn(m),S=1<<_;l|=o[_],m&=~S}return _i=l,Lf(),d}function _C(o,l){Ne=null,U.H=du,l===rs||l===zf?(l=LA(),tt=3):l===Ag?(l=LA(),tt=4):tt=l===ev?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,jn=l,$e===null&&(Ot=1,id(o,Qn(l,o.current)))}function wC(){var o=Un.current;return o===null?!0:(qe&4194048)===qe?nr===null:(qe&62914560)===qe||(qe&536870912)!==0?o===nr:!1}function SC(){var o=U.H;return U.H=du,o===null?du:o}function xC(){var o=U.A;return U.A=fH,o}function gd(){Ot=4,sa||(qe&4194048)!==qe&&Un.current!==null||(fs=!0),(la&134217727)===0&&(Qa&134217727)===0||lt===null||fa(lt,qe,qn,!1)}function xv(o,l,d){var m=Je;Je|=2;var _=SC(),S=xC();(lt!==o||qe!==l)&&(pd=null,ps(o,l)),l=!1;var N=Ot;e:do try{if(tt!==0&&$e!==null){var D=$e,H=jn;switch(tt){case 8:Sv(),N=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(l=!0);var Z=tt;if(tt=0,jn=null,ms(o,D,H,Z),d&&fs){N=0;break e}break;default:Z=tt,tt=0,jn=null,ms(o,D,H,Z)}}pH(),N=Ot;break}catch(ie){_C(o,ie)}while(!0);return l&&o.shellSuspendCounter++,ci=Ga=null,Je=m,U.H=_,U.A=S,$e===null&&(lt=null,qe=0,Lf()),N}function pH(){for(;$e!==null;)EC($e)}function mH(o,l){var d=Je;Je|=2;var m=SC(),_=xC();lt!==o||qe!==l?(pd=null,hd=un()+500,ps(o,l)):fs=Bl(o,l);e:do try{if(tt!==0&&$e!==null){l=$e;var S=jn;t:switch(tt){case 1:tt=0,jn=null,ms(o,l,S,1);break;case 2:case 9:if(DA(S)){tt=0,jn=null,TC(l);break}l=function(){tt!==2&&tt!==9||lt!==o||(tt=7),zr(o)},S.then(l,l);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:DA(S)?(tt=0,jn=null,TC(l)):(tt=0,jn=null,ms(o,l,S,7));break;case 5:var N=null;switch($e.tag){case 26:N=$e.memoizedState;case 5:case 27:var D=$e;if(N?cO(N):D.stateNode.complete){tt=0,jn=null;var H=D.sibling;if(H!==null)$e=H;else{var Z=D.return;Z!==null?($e=Z,vd(Z)):$e=null}break t}}tt=0,jn=null,ms(o,l,S,5);break;case 6:tt=0,jn=null,ms(o,l,S,6);break;case 8:Sv(),Ot=6;break e;default:throw Error(r(462))}}gH();break}catch(ie){_C(o,ie)}while(!0);return ci=Ga=null,U.H=m,U.A=_,Je=d,$e!==null?0:(lt=null,qe=0,Lf(),Ot)}function gH(){for(;$e!==null&&!ii();)EC($e)}function EC(o){var l=W1(o.alternate,o,_i);o.memoizedProps=o.pendingProps,l===null?vd(o):$e=l}function TC(o){var l=o,d=l.alternate;switch(l.tag){case 15:case 0:l=H1(d,l,l.pendingProps,l.type,void 0,qe);break;case 11:l=H1(d,l,l.pendingProps,l.type.render,l.ref,qe);break;case 5:$g(l);default:J1(d,l),l=$e=xA(l,_i),l=W1(d,l,_i)}o.memoizedProps=o.pendingProps,l===null?vd(o):$e=l}function ms(o,l,d,m){ci=Ga=null,$g(l),is=null,iu=0;var _=l.return;try{if(iH(o,_,l,d,qe)){Ot=1,id(o,Qn(d,o.current)),$e=null;return}}catch(S){if(_!==null)throw $e=_,S;Ot=1,id(o,Qn(d,o.current)),$e=null;return}l.flags&32768?(He||m===1?o=!0:fs||(qe&536870912)!==0?o=!1:(sa=o=!0,(m===2||m===9||m===3||m===6)&&(m=Un.current,m!==null&&m.tag===13&&(m.flags|=16384))),AC(l,o)):vd(l)}function vd(o){var l=o;do{if((l.flags&32768)!==0){AC(l,sa);return}o=l.return;var d=sH(l.alternate,l,_i);if(d!==null){$e=d;return}if(l=l.sibling,l!==null){$e=l;return}$e=l=o}while(l!==null);Ot===0&&(Ot=5)}function AC(o,l){do{var d=lH(o.alternate,o);if(d!==null){d.flags&=32767,$e=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(o=o.sibling,o!==null)){$e=o;return}$e=o=d}while(o!==null);Ot=6,$e=null}function CC(o,l,d,m,_,S,N,D,H){o.cancelPendingCommit=null;do yd();while(Bt!==0);if((Je&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(S=l.lanes|l.childLanes,S|=fg,Y3(o,d,S,N,D,H),o===lt&&($e=lt=null,qe=0),hs=l,ca=o,wi=d,bv=S,_v=_,gC=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,_H(_f,function(){return NC(),null})):(o.callbackNode=null,o.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=U.T,U.T=null,_=K.p,K.p=2,N=Je,Je|=4;try{uH(o,l,d)}finally{Je=N,K.p=_,U.T=m}}Bt=1,OC(),RC(),PC()}}function OC(){if(Bt===1){Bt=0;var o=ca,l=hs,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=U.T,U.T=null;var m=K.p;K.p=2;var _=Je;Je|=4;try{lC(l,o);var S=kv,N=pA(o.containerInfo),D=S.focusedElem,H=S.selectionRange;if(N!==D&&D&&D.ownerDocument&&hA(D.ownerDocument.documentElement,D)){if(H!==null&&og(D)){var Z=H.start,ie=H.end;if(ie===void 0&&(ie=Z),"selectionStart"in D)D.selectionStart=Z,D.selectionEnd=Math.min(ie,D.value.length);else{var le=D.ownerDocument||document,ee=le&&le.defaultView||window;if(ee.getSelection){var ne=ee.getSelection(),ve=D.textContent.length,Se=Math.min(H.start,ve),ot=H.end===void 0?Se:Math.min(H.end,ve);!ne.extend&&Se>ot&&(N=ot,ot=Se,Se=N);var J=dA(D,Se),V=dA(D,ot);if(J&&V&&(ne.rangeCount!==1||ne.anchorNode!==J.node||ne.anchorOffset!==J.offset||ne.focusNode!==V.node||ne.focusOffset!==V.offset)){var Q=le.createRange();Q.setStart(J.node,J.offset),ne.removeAllRanges(),Se>ot?(ne.addRange(Q),ne.extend(V.node,V.offset)):(Q.setEnd(V.node,V.offset),ne.addRange(Q))}}}}for(le=[],ne=D;ne=ne.parentNode;)ne.nodeType===1&&le.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<le.length;D++){var oe=le[D];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Pd=!!Dv,kv=Dv=null}finally{Je=_,K.p=m,U.T=d}}o.current=l,Bt=2}}function RC(){if(Bt===2){Bt=0;var o=ca,l=hs,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=U.T,U.T=null;var m=K.p;K.p=2;var _=Je;Je|=4;try{rC(o,l.alternate,l)}finally{Je=_,K.p=m,U.T=d}}Bt=3}}function PC(){if(Bt===4||Bt===3){Bt=0,jl();var o=ca,l=hs,d=wi,m=gC;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Bt=5:(Bt=0,hs=ca=null,MC(o,o.pendingLanes));var _=o.pendingLanes;if(_===0&&(ua=null),Bm(d),l=l.stateNode,In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(ql,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=U.T,_=K.p,K.p=2,U.T=null;try{for(var S=o.onRecoverableError,N=0;N<m.length;N++){var D=m[N];S(D.value,{componentStack:D.stack})}}finally{U.T=l,K.p=_}}(wi&3)!==0&&yd(),zr(o),_=o.pendingLanes,(d&261930)!==0&&(_&42)!==0?o===wv?wu++:(wu=0,wv=o):wu=0,Su(0)}}function MC(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,nu(l)))}function yd(){return OC(),RC(),PC(),NC()}function NC(){if(Bt!==5)return!1;var o=ca,l=bv;bv=0;var d=Bm(wi),m=U.T,_=K.p;try{K.p=32>d?32:d,U.T=null,d=_v,_v=null;var S=ca,N=wi;if(Bt=0,hs=ca=null,wi=0,(Je&6)!==0)throw Error(r(331));var D=Je;if(Je|=4,hC(S.current),cC(S,S.current,N,d),Je=D,Su(0,!1),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(ql,S)}catch{}return!0}finally{K.p=_,U.T=m,MC(o,l)}}function IC(o,l,d){l=Qn(d,l),l=Zg(o.stateNode,l,2),o=ra(o,l,2),o!==null&&(Hl(o,2),zr(o))}function nt(o,l,d){if(o.tag===3)IC(o,o,d);else for(;l!==null;){if(l.tag===3){IC(l,o,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ua===null||!ua.has(m))){o=Qn(d,o),d=D1(2),m=ra(l,d,2),m!==null&&(k1(d,m,l,o),Hl(m,2),zr(m));break}}l=l.return}}function Ev(o,l,d){var m=o.pingCache;if(m===null){m=o.pingCache=new dH;var _=new Set;m.set(l,_)}else _=m.get(l),_===void 0&&(_=new Set,m.set(l,_));_.has(d)||(gv=!0,_.add(d),o=vH.bind(null,o,l,d),l.then(o,o))}function vH(o,l,d){var m=o.pingCache;m!==null&&m.delete(l),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,lt===o&&(qe&d)===d&&(Ot===4||Ot===3&&(qe&62914560)===qe&&300>un()-dd?(Je&2)===0&&ps(o,0):vv|=d,ds===qe&&(ds=0)),zr(o)}function DC(o,l){l===0&&(l=OT()),o=qa(o,l),o!==null&&(Hl(o,l),zr(o))}function yH(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),DC(o,d)}function bH(o,l){var d=0;switch(o.tag){case 31:case 13:var m=o.stateNode,_=o.memoizedState;_!==null&&(d=_.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),DC(o,d)}function _H(o,l){return Ki(o,l)}var bd=null,gs=null,Tv=!1,_d=!1,Av=!1,da=0;function zr(o){o!==gs&&o.next===null&&(gs===null?bd=gs=o:gs=gs.next=o),_d=!0,Tv||(Tv=!0,SH())}function Su(o,l){if(!Av&&_d){Av=!0;do for(var d=!1,m=bd;m!==null;){if(o!==0){var _=m.pendingLanes;if(_===0)var S=0;else{var N=m.suspendedLanes,D=m.pingedLanes;S=(1<<31-Dn(42|o)+1)-1,S&=_&~(N&~D),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(d=!0,$C(m,S))}else S=qe,S=Ef(m,m===lt?S:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(S&3)===0||Bl(m,S)||(d=!0,$C(m,S));m=m.next}while(d);Av=!1}}function wH(){kC()}function kC(){_d=Tv=!1;var o=0;da!==0&&NH()&&(o=da);for(var l=un(),d=null,m=bd;m!==null;){var _=m.next,S=LC(m,l);S===0?(m.next=null,d===null?bd=_:d.next=_,_===null&&(gs=d)):(d=m,(o!==0||(S&3)!==0)&&(_d=!0)),m=_}Bt!==0&&Bt!==5||Su(o),da!==0&&(da=0)}function LC(o,l){for(var d=o.suspendedLanes,m=o.pingedLanes,_=o.expirationTimes,S=o.pendingLanes&-62914561;0<S;){var N=31-Dn(S),D=1<<N,H=_[N];H===-1?((D&d)===0||(D&m)!==0)&&(_[N]=W3(D,l)):H<=l&&(o.expiredLanes|=D),S&=~D}if(l=lt,d=qe,d=Ef(o,o===l?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m=o.callbackNode,d===0||o===l&&(tt===2||tt===9)||o.cancelPendingCommit!==null)return m!==null&&m!==null&&Sr(m),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||Bl(o,d)){if(l=d&-d,l===o.callbackPriority)return l;switch(m!==null&&Sr(m),Bm(d)){case 2:case 8:d=AT;break;case 32:d=_f;break;case 268435456:d=CT;break;default:d=_f}return m=UC.bind(null,o),d=Ki(d,m),o.callbackPriority=l,o.callbackNode=d,l}return m!==null&&m!==null&&Sr(m),o.callbackPriority=2,o.callbackNode=null,2}function UC(o,l){if(Bt!==0&&Bt!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(yd()&&o.callbackNode!==d)return null;var m=qe;return m=Ef(o,o===lt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m===0?null:(yC(o,m,l),LC(o,un()),o.callbackNode!=null&&o.callbackNode===d?UC.bind(null,o):null)}function $C(o,l){if(yd())return null;yC(o,l,!0)}function SH(){DH(function(){(Je&6)!==0?Ki(TT,wH):kC()})}function Cv(){if(da===0){var o=ts;o===0&&(o=wf,wf<<=1,(wf&261888)===0&&(wf=256)),da=o}return da}function jC(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Of(""+o)}function qC(o,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,o.id&&d.setAttribute("form",o.id),l.parentNode.insertBefore(d,l),o=new FormData(o),d.parentNode.removeChild(d),o}function xH(o,l,d,m,_){if(l==="submit"&&d&&d.stateNode===_){var S=jC((_[En]||null).action),N=m.submitter;N&&(l=(l=N[En]||null)?jC(l.formAction):N.getAttribute("formAction"),l!==null&&(S=l,N=null));var D=new Nf("action","action",null,m,_);o.push({event:D,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(da!==0){var H=N?qC(_,N):new FormData(_);Kg(d,{pending:!0,data:H,method:_.method,action:S},null,H)}}else typeof S=="function"&&(D.preventDefault(),H=N?qC(_,N):new FormData(_),Kg(d,{pending:!0,data:H,method:_.method,action:S},S,H))},currentTarget:_}]})}}for(var Ov=0;Ov<cg.length;Ov++){var Rv=cg[Ov],EH=Rv.toLowerCase(),TH=Rv[0].toUpperCase()+Rv.slice(1);xr(EH,"on"+TH)}xr(vA,"onAnimationEnd"),xr(yA,"onAnimationIteration"),xr(bA,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(B4,"onTransitionRun"),xr(H4,"onTransitionStart"),xr(G4,"onTransitionCancel"),xr(_A,"onTransitionEnd"),Bo("onMouseEnter",["mouseout","mouseover"]),Bo("onMouseLeave",["mouseout","mouseover"]),Bo("onPointerEnter",["pointerout","pointerover"]),Bo("onPointerLeave",["pointerout","pointerover"]),La("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),La("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),La("onBeforeInput",["compositionend","keypress","textInput","paste"]),La("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),La("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),La("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AH=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xu));function BC(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var m=o[d],_=m.event;m=m.listeners;e:{var S=void 0;if(l)for(var N=m.length-1;0<=N;N--){var D=m[N],H=D.instance,Z=D.currentTarget;if(D=D.listener,H!==S&&_.isPropagationStopped())break e;S=D,_.currentTarget=Z;try{S(_)}catch(ie){kf(ie)}_.currentTarget=null,S=H}else for(N=0;N<m.length;N++){if(D=m[N],H=D.instance,Z=D.currentTarget,D=D.listener,H!==S&&_.isPropagationStopped())break e;S=D,_.currentTarget=Z;try{S(_)}catch(ie){kf(ie)}_.currentTarget=null,S=H}}}}function je(o,l){var d=l[Hm];d===void 0&&(d=l[Hm]=new Set);var m=o+"__bubble";d.has(m)||(HC(l,o,2,!1),d.add(m))}function Pv(o,l,d){var m=0;l&&(m|=4),HC(d,o,m,l)}var wd="_reactListening"+Math.random().toString(36).slice(2);function Mv(o){if(!o[wd]){o[wd]=!0,kT.forEach(function(d){d!=="selectionchange"&&(AH.has(d)||Pv(d,!1,o),Pv(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[wd]||(l[wd]=!0,Pv("selectionchange",!1,l))}}function HC(o,l,d,m){switch(vO(l)){case 2:var _=eG;break;case 8:_=tG;break;default:_=Fv}d=_.bind(null,l,d,o),_=void 0,!Xm||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),m?_!==void 0?o.addEventListener(l,d,{capture:!0,passive:_}):o.addEventListener(l,d,!0):_!==void 0?o.addEventListener(l,d,{passive:_}):o.addEventListener(l,d,!1)}function Nv(o,l,d,m,_){var S=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var D=m.stateNode.containerInfo;if(D===_)break;if(N===4)for(N=m.return;N!==null;){var H=N.tag;if((H===3||H===4)&&N.stateNode.containerInfo===_)return;N=N.return}for(;D!==null;){if(N=$o(D),N===null)return;if(H=N.tag,H===5||H===6||H===26||H===27){m=S=N;continue e}D=D.parentNode}}m=m.return}KT(function(){var Z=S,ie=Ym(d),le=[];e:{var ee=wA.get(o);if(ee!==void 0){var ne=Nf,ve=o;switch(o){case"keypress":if(Pf(d)===0)break e;case"keydown":case"keyup":ne=b4;break;case"focusin":ve="focus",ne=tg;break;case"focusout":ve="blur",ne=tg;break;case"beforeblur":case"afterblur":ne=tg;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=JT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=s4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=S4;break;case vA:case yA:case bA:ne=c4;break;case _A:ne=E4;break;case"scroll":case"scrollend":ne=a4;break;case"wheel":ne=A4;break;case"copy":case"cut":case"paste":ne=d4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=QT;break;case"toggle":case"beforetoggle":ne=O4}var Se=(l&4)!==0,ot=!Se&&(o==="scroll"||o==="scrollend"),J=Se?ee!==null?ee+"Capture":null:ee;Se=[];for(var V=Z,Q;V!==null;){var oe=V;if(Q=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Q===null||J===null||(oe=Vl(V,J),oe!=null&&Se.push(Eu(V,oe,Q))),ot)break;V=V.return}0<Se.length&&(ee=new ne(ee,ve,null,d,ie),le.push({event:ee,listeners:Se}))}}if((l&7)===0){e:{if(ee=o==="mouseover"||o==="pointerover",ne=o==="mouseout"||o==="pointerout",ee&&d!==Wm&&(ve=d.relatedTarget||d.fromElement)&&($o(ve)||ve[Uo]))break e;if((ne||ee)&&(ee=ie.window===ie?ie:(ee=ie.ownerDocument)?ee.defaultView||ee.parentWindow:window,ne?(ve=d.relatedTarget||d.toElement,ne=Z,ve=ve?$o(ve):null,ve!==null&&(ot=a(ve),Se=ve.tag,ve!==ot||Se!==5&&Se!==27&&Se!==6)&&(ve=null)):(ne=null,ve=Z),ne!==ve)){if(Se=JT,oe="onMouseLeave",J="onMouseEnter",V="mouse",(o==="pointerout"||o==="pointerover")&&(Se=QT,oe="onPointerLeave",J="onPointerEnter",V="pointer"),ot=ne==null?ee:zl(ne),Q=ve==null?ee:zl(ve),ee=new Se(oe,V+"leave",ne,d,ie),ee.target=ot,ee.relatedTarget=Q,oe=null,$o(ie)===Z&&(Se=new Se(J,V+"enter",ve,d,ie),Se.target=Q,Se.relatedTarget=ot,oe=Se),ot=oe,ne&&ve)t:{for(Se=CH,J=ne,V=ve,Q=0,oe=J;oe;oe=Se(oe))Q++;oe=0;for(var _e=V;_e;_e=Se(_e))oe++;for(;0<Q-oe;)J=Se(J),Q--;for(;0<oe-Q;)V=Se(V),oe--;for(;Q--;){if(J===V||V!==null&&J===V.alternate){Se=J;break t}J=Se(J),V=Se(V)}Se=null}else Se=null;ne!==null&&GC(le,ee,ne,Se,!1),ve!==null&&ot!==null&&GC(le,ot,ve,Se,!0)}}e:{if(ee=Z?zl(Z):window,ne=ee.nodeName&&ee.nodeName.toLowerCase(),ne==="select"||ne==="input"&&ee.type==="file")var Fe=oA;else if(iA(ee))if(sA)Fe=$4;else{Fe=L4;var ye=k4}else ne=ee.nodeName,!ne||ne.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&Km(Z.elementType)&&(Fe=oA):Fe=U4;if(Fe&&(Fe=Fe(o,Z))){aA(le,Fe,d,ie);break e}ye&&ye(o,ee,Z),o==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&Fm(ee,"number",ee.value)}switch(ye=Z?zl(Z):window,o){case"focusin":(iA(ye)||ye.contentEditable==="true")&&(Ko=ye,sg=Z,Zl=null);break;case"focusout":Zl=sg=Ko=null;break;case"mousedown":lg=!0;break;case"contextmenu":case"mouseup":case"dragend":lg=!1,mA(le,d,ie);break;case"selectionchange":if(q4)break;case"keydown":case"keyup":mA(le,d,ie)}var De;if(rg)e:{switch(o){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Fo?nA(o,d)&&(Be="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Be="onCompositionStart");Be&&(ZT&&d.locale!=="ko"&&(Fo||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Fo&&(De=WT()):(Ji=ie,Qm="value"in Ji?Ji.value:Ji.textContent,Fo=!0)),ye=Sd(Z,Be),0<ye.length&&(Be=new XT(Be,o,null,d,ie),le.push({event:Be,listeners:ye}),De?Be.data=De:(De=rA(d),De!==null&&(Be.data=De)))),(De=P4?M4(o,d):N4(o,d))&&(Be=Sd(Z,"onBeforeInput"),0<Be.length&&(ye=new XT("onBeforeInput","beforeinput",null,d,ie),le.push({event:ye,listeners:Be}),ye.data=De)),xH(le,o,Z,d,ie)}BC(le,l)})}function Eu(o,l,d){return{instance:o,listener:l,currentTarget:d}}function Sd(o,l){for(var d=l+"Capture",m=[];o!==null;){var _=o,S=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||S===null||(_=Vl(o,d),_!=null&&m.unshift(Eu(o,_,S)),_=Vl(o,l),_!=null&&m.push(Eu(o,_,S))),o.tag===3)return m;o=o.return}return[]}function CH(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function GC(o,l,d,m,_){for(var S=l._reactName,N=[];d!==null&&d!==m;){var D=d,H=D.alternate,Z=D.stateNode;if(D=D.tag,H!==null&&H===m)break;D!==5&&D!==26&&D!==27||Z===null||(H=Z,_?(Z=Vl(d,S),Z!=null&&N.unshift(Eu(d,Z,H))):_||(Z=Vl(d,S),Z!=null&&N.push(Eu(d,Z,H)))),d=d.return}N.length!==0&&o.push({event:l,listeners:N})}var OH=/\r\n?/g,RH=/\u0000|\uFFFD/g;function zC(o){return(typeof o=="string"?o:""+o).replace(OH,`
`).replace(RH,"")}function VC(o,l){return l=zC(l),zC(o)===l}function at(o,l,d,m,_,S){switch(d){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||Go(o,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&Go(o,""+m);break;case"className":Af(o,"class",m);break;case"tabIndex":Af(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Af(o,d,m);break;case"style":VT(o,m,S);break;case"data":if(l!=="object"){Af(o,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||d!=="href")){o.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(d);break}m=Of(""+m),o.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(d==="formAction"?(l!=="input"&&at(o,l,"name",_.name,_,null),at(o,l,"formEncType",_.formEncType,_,null),at(o,l,"formMethod",_.formMethod,_,null),at(o,l,"formTarget",_.formTarget,_,null)):(at(o,l,"encType",_.encType,_,null),at(o,l,"method",_.method,_,null),at(o,l,"target",_.target,_,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(d);break}m=Of(""+m),o.setAttribute(d,m);break;case"onClick":m!=null&&(o.onclick=oi);break;case"onScroll":m!=null&&je("scroll",o);break;case"onScrollEnd":m!=null&&je("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(_.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}d=Of(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(d,""+m):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":m===!0?o.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(d,m):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(d,m):o.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(d):o.setAttribute(d,m);break;case"popover":je("beforetoggle",o),je("toggle",o),Tf(o,"popover",m);break;case"xlinkActuate":ai(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":ai(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":ai(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":ai(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":ai(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":ai(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":ai(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":ai(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":ai(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Tf(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=r4.get(d)||d,Tf(o,d,m))}}function Iv(o,l,d,m,_,S){switch(d){case"style":VT(o,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(_.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"children":typeof m=="string"?Go(o,m):(typeof m=="number"||typeof m=="bigint")&&Go(o,""+m);break;case"onScroll":m!=null&&je("scroll",o);break;case"onScrollEnd":m!=null&&je("scrollend",o);break;case"onClick":m!=null&&(o.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!LT.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(_=d.endsWith("Capture"),l=d.slice(2,_?d.length-7:void 0),S=o[En]||null,S=S!=null?S[d]:null,typeof S=="function"&&o.removeEventListener(l,S,_),typeof m=="function")){typeof S!="function"&&S!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(l,m,_);break e}d in o?o[d]=m:m===!0?o.setAttribute(d,""):Tf(o,d,m)}}}function rn(o,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",o),je("load",o);var m=!1,_=!1,S;for(S in d)if(d.hasOwnProperty(S)){var N=d[S];if(N!=null)switch(S){case"src":m=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:at(o,l,S,N,d,null)}}_&&at(o,l,"srcSet",d.srcSet,d,null),m&&at(o,l,"src",d.src,d,null);return;case"input":je("invalid",o);var D=S=N=_=null,H=null,Z=null;for(m in d)if(d.hasOwnProperty(m)){var ie=d[m];if(ie!=null)switch(m){case"name":_=ie;break;case"type":N=ie;break;case"checked":H=ie;break;case"defaultChecked":Z=ie;break;case"value":S=ie;break;case"defaultValue":D=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,l));break;default:at(o,l,m,ie,d,null)}}BT(o,S,D,H,Z,N,_,!1);return;case"select":je("invalid",o),m=N=S=null;for(_ in d)if(d.hasOwnProperty(_)&&(D=d[_],D!=null))switch(_){case"value":S=D;break;case"defaultValue":N=D;break;case"multiple":m=D;default:at(o,l,_,D,d,null)}l=S,d=N,o.multiple=!!m,l!=null?Ho(o,!!m,l,!1):d!=null&&Ho(o,!!m,d,!0);return;case"textarea":je("invalid",o),S=_=m=null;for(N in d)if(d.hasOwnProperty(N)&&(D=d[N],D!=null))switch(N){case"value":m=D;break;case"defaultValue":_=D;break;case"children":S=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:at(o,l,N,D,d,null)}GT(o,m,_,S);return;case"option":for(H in d)if(d.hasOwnProperty(H)&&(m=d[H],m!=null))switch(H){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:at(o,l,H,m,d,null)}return;case"dialog":je("beforetoggle",o),je("toggle",o),je("cancel",o),je("close",o);break;case"iframe":case"object":je("load",o);break;case"video":case"audio":for(m=0;m<xu.length;m++)je(xu[m],o);break;case"image":je("error",o),je("load",o);break;case"details":je("toggle",o);break;case"embed":case"source":case"link":je("error",o),je("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in d)if(d.hasOwnProperty(Z)&&(m=d[Z],m!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:at(o,l,Z,m,d,null)}return;default:if(Km(l)){for(ie in d)d.hasOwnProperty(ie)&&(m=d[ie],m!==void 0&&Iv(o,l,ie,m,d,void 0));return}}for(D in d)d.hasOwnProperty(D)&&(m=d[D],m!=null&&at(o,l,D,m,d,null))}function PH(o,l,d,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,S=null,N=null,D=null,H=null,Z=null,ie=null;for(ne in d){var le=d[ne];if(d.hasOwnProperty(ne)&&le!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":H=le;default:m.hasOwnProperty(ne)||at(o,l,ne,null,m,le)}}for(var ee in m){var ne=m[ee];if(le=d[ee],m.hasOwnProperty(ee)&&(ne!=null||le!=null))switch(ee){case"type":S=ne;break;case"name":_=ne;break;case"checked":Z=ne;break;case"defaultChecked":ie=ne;break;case"value":N=ne;break;case"defaultValue":D=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,l));break;default:ne!==le&&at(o,l,ee,ne,m,le)}}Vm(o,N,D,H,Z,ie,S,_);return;case"select":ne=N=D=ee=null;for(S in d)if(H=d[S],d.hasOwnProperty(S)&&H!=null)switch(S){case"value":break;case"multiple":ne=H;default:m.hasOwnProperty(S)||at(o,l,S,null,m,H)}for(_ in m)if(S=m[_],H=d[_],m.hasOwnProperty(_)&&(S!=null||H!=null))switch(_){case"value":ee=S;break;case"defaultValue":D=S;break;case"multiple":N=S;default:S!==H&&at(o,l,_,S,m,H)}l=D,d=N,m=ne,ee!=null?Ho(o,!!d,ee,!1):!!m!=!!d&&(l!=null?Ho(o,!!d,l,!0):Ho(o,!!d,d?[]:"",!1));return;case"textarea":ne=ee=null;for(D in d)if(_=d[D],d.hasOwnProperty(D)&&_!=null&&!m.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:at(o,l,D,null,m,_)}for(N in m)if(_=m[N],S=d[N],m.hasOwnProperty(N)&&(_!=null||S!=null))switch(N){case"value":ee=_;break;case"defaultValue":ne=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==S&&at(o,l,N,_,m,S)}HT(o,ee,ne);return;case"option":for(var ve in d)if(ee=d[ve],d.hasOwnProperty(ve)&&ee!=null&&!m.hasOwnProperty(ve))switch(ve){case"selected":o.selected=!1;break;default:at(o,l,ve,null,m,ee)}for(H in m)if(ee=m[H],ne=d[H],m.hasOwnProperty(H)&&ee!==ne&&(ee!=null||ne!=null))switch(H){case"selected":o.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:at(o,l,H,ee,m,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in d)ee=d[Se],d.hasOwnProperty(Se)&&ee!=null&&!m.hasOwnProperty(Se)&&at(o,l,Se,null,m,ee);for(Z in m)if(ee=m[Z],ne=d[Z],m.hasOwnProperty(Z)&&ee!==ne&&(ee!=null||ne!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,l));break;default:at(o,l,Z,ee,m,ne)}return;default:if(Km(l)){for(var ot in d)ee=d[ot],d.hasOwnProperty(ot)&&ee!==void 0&&!m.hasOwnProperty(ot)&&Iv(o,l,ot,void 0,m,ee);for(ie in m)ee=m[ie],ne=d[ie],!m.hasOwnProperty(ie)||ee===ne||ee===void 0&&ne===void 0||Iv(o,l,ie,ee,m,ne);return}}for(var J in d)ee=d[J],d.hasOwnProperty(J)&&ee!=null&&!m.hasOwnProperty(J)&&at(o,l,J,null,m,ee);for(le in m)ee=m[le],ne=d[le],!m.hasOwnProperty(le)||ee===ne||ee==null&&ne==null||at(o,l,le,ee,m,ne)}function FC(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function MH(){if(typeof performance.getEntriesByType=="function"){for(var o=0,l=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var _=d[m],S=_.transferSize,N=_.initiatorType,D=_.duration;if(S&&D&&FC(N)){for(N=0,D=_.responseEnd,m+=1;m<d.length;m++){var H=d[m],Z=H.startTime;if(Z>D)break;var ie=H.transferSize,le=H.initiatorType;ie&&FC(le)&&(H=H.responseEnd,N+=ie*(H<D?1:(D-Z)/(H-Z)))}if(--m,l+=8*(S+N)/(_.duration/1e3),o++,10<o)break}}if(0<o)return l/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Dv=null,kv=null;function xd(o){return o.nodeType===9?o:o.ownerDocument}function KC(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function WC(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function Lv(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Uv=null;function NH(){var o=window.event;return o&&o.type==="popstate"?o===Uv?!1:(Uv=o,!0):(Uv=null,!1)}var YC=typeof setTimeout=="function"?setTimeout:void 0,IH=typeof clearTimeout=="function"?clearTimeout:void 0,JC=typeof Promise=="function"?Promise:void 0,DH=typeof queueMicrotask=="function"?queueMicrotask:typeof JC<"u"?function(o){return JC.resolve(null).then(o).catch(kH)}:YC;function kH(o){setTimeout(function(){throw o})}function ha(o){return o==="head"}function XC(o,l){var d=l,m=0;do{var _=d.nextSibling;if(o.removeChild(d),_&&_.nodeType===8)if(d=_.data,d==="/$"||d==="/&"){if(m===0){o.removeChild(_),_s(l);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")Tu(o.ownerDocument.documentElement);else if(d==="head"){d=o.ownerDocument.head,Tu(d);for(var S=d.firstChild;S;){var N=S.nextSibling,D=S.nodeName;S[Gl]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&S.rel.toLowerCase()==="stylesheet"||d.removeChild(S),S=N}}else d==="body"&&Tu(o.ownerDocument.body);d=_}while(d);_s(l)}function QC(o,l){var d=o;o=0;do{var m=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(o===0)break;o--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||o++;d=m}while(d)}function $v(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":$v(d),Gm(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function LH(o,l,d,m){for(;o.nodeType===1;){var _=d;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[Gl])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(S=o.getAttribute("rel"),S==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(S!==_.rel||o.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||o.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||o.getAttribute("title")!==(_.title==null?null:_.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(S=o.getAttribute("src"),(S!==(_.src==null?null:_.src)||o.getAttribute("type")!==(_.type==null?null:_.type)||o.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&S&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var S=_.name==null?null:""+_.name;if(_.type==="hidden"&&o.getAttribute("name")===S)return o}else return o;if(o=rr(o.nextSibling),o===null)break}return null}function UH(o,l,d){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=rr(o.nextSibling),o===null))return null;return o}function ZC(o,l){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=rr(o.nextSibling),o===null))return null;return o}function jv(o){return o.data==="$?"||o.data==="$~"}function qv(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function $H(o,l){var d=o.ownerDocument;if(o.data==="$~")o._reactRetry=l;else if(o.data!=="$?"||d.readyState!=="loading")l();else{var m=function(){l(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),o._reactRetry=m}}function rr(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return o}var Bv=null;function eO(o){o=o.nextSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"||d==="/&"){if(l===0)return rr(o.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}o=o.nextSibling}return null}function tO(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return o;l--}else d!=="/$"&&d!=="/&"||l++}o=o.previousSibling}return null}function nO(o,l,d){switch(l=xd(d),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Tu(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);Gm(o)}var ir=new Map,rO=new Set;function Ed(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Si=K.d;K.d={f:jH,r:qH,D:BH,C:HH,L:GH,m:zH,X:FH,S:VH,M:KH};function jH(){var o=Si.f(),l=md();return o||l}function qH(o){var l=jo(o);l!==null&&l.tag===5&&l.type==="form"?_1(l):Si.r(o)}var vs=typeof document>"u"?null:document;function iO(o,l,d){var m=vs;if(m&&typeof l=="string"&&l){var _=Jn(l);_='link[rel="'+o+'"][href="'+_+'"]',typeof d=="string"&&(_+='[crossorigin="'+d+'"]'),rO.has(_)||(rO.add(_),o={rel:o,crossOrigin:d,href:l},m.querySelector(_)===null&&(l=m.createElement("link"),rn(l,"link",o),Kt(l),m.head.appendChild(l)))}}function BH(o){Si.D(o),iO("dns-prefetch",o,null)}function HH(o,l){Si.C(o,l),iO("preconnect",o,l)}function GH(o,l,d){Si.L(o,l,d);var m=vs;if(m&&o&&l){var _='link[rel="preload"][as="'+Jn(l)+'"]';l==="image"&&d&&d.imageSrcSet?(_+='[imagesrcset="'+Jn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(_+='[imagesizes="'+Jn(d.imageSizes)+'"]')):_+='[href="'+Jn(o)+'"]';var S=_;switch(l){case"style":S=ys(o);break;case"script":S=bs(o)}ir.has(S)||(o=p({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:o,as:l},d),ir.set(S,o),m.querySelector(_)!==null||l==="style"&&m.querySelector(Au(S))||l==="script"&&m.querySelector(Cu(S))||(l=m.createElement("link"),rn(l,"link",o),Kt(l),m.head.appendChild(l)))}}function zH(o,l){Si.m(o,l);var d=vs;if(d&&o){var m=l&&typeof l.as=="string"?l.as:"script",_='link[rel="modulepreload"][as="'+Jn(m)+'"][href="'+Jn(o)+'"]',S=_;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=bs(o)}if(!ir.has(S)&&(o=p({rel:"modulepreload",href:o},l),ir.set(S,o),d.querySelector(_)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Cu(S)))return}m=d.createElement("link"),rn(m,"link",o),Kt(m),d.head.appendChild(m)}}}function VH(o,l,d){Si.S(o,l,d);var m=vs;if(m&&o){var _=qo(m).hoistableStyles,S=ys(o);l=l||"default";var N=_.get(S);if(!N){var D={loading:0,preload:null};if(N=m.querySelector(Au(S)))D.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":l},d),(d=ir.get(S))&&Hv(o,d);var H=N=m.createElement("link");Kt(H),rn(H,"link",o),H._p=new Promise(function(Z,ie){H.onload=Z,H.onerror=ie}),H.addEventListener("load",function(){D.loading|=1}),H.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Td(N,l,m)}N={type:"stylesheet",instance:N,count:1,state:D},_.set(S,N)}}}function FH(o,l){Si.X(o,l);var d=vs;if(d&&o){var m=qo(d).hoistableScripts,_=bs(o),S=m.get(_);S||(S=d.querySelector(Cu(_)),S||(o=p({src:o,async:!0},l),(l=ir.get(_))&&Gv(o,l),S=d.createElement("script"),Kt(S),rn(S,"link",o),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(_,S))}}function KH(o,l){Si.M(o,l);var d=vs;if(d&&o){var m=qo(d).hoistableScripts,_=bs(o),S=m.get(_);S||(S=d.querySelector(Cu(_)),S||(o=p({src:o,async:!0,type:"module"},l),(l=ir.get(_))&&Gv(o,l),S=d.createElement("script"),Kt(S),rn(S,"link",o),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(_,S))}}function aO(o,l,d,m){var _=(_=we.current)?Ed(_):null;if(!_)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=ys(d.href),d=qo(_).hoistableStyles,m=d.get(l),m||(m={type:"style",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=ys(d.href);var S=qo(_).hoistableStyles,N=S.get(o);if(N||(_=_.ownerDocument||_,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(o,N),(S=_.querySelector(Au(o)))&&!S._p&&(N.instance=S,N.state.loading=5),ir.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},ir.set(o,d),S||WH(_,o,d,N.state))),l&&m===null)throw Error(r(528,""));return N}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=bs(d),d=qo(_).hoistableScripts,m=d.get(l),m||(m={type:"script",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function ys(o){return'href="'+Jn(o)+'"'}function Au(o){return'link[rel="stylesheet"]['+o+"]"}function oO(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function WH(o,l,d,m){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=o.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),rn(l,"link",d),Kt(l),o.head.appendChild(l))}function bs(o){return'[src="'+Jn(o)+'"]'}function Cu(o){return"script[async]"+o}function sO(o,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var m=o.querySelector('style[data-href~="'+Jn(d.href)+'"]');if(m)return l.instance=m,Kt(m),m;var _=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),Kt(m),rn(m,"style",_),Td(m,d.precedence,o),l.instance=m;case"stylesheet":_=ys(d.href);var S=o.querySelector(Au(_));if(S)return l.state.loading|=4,l.instance=S,Kt(S),S;m=oO(d),(_=ir.get(_))&&Hv(m,_),S=(o.ownerDocument||o).createElement("link"),Kt(S);var N=S;return N._p=new Promise(function(D,H){N.onload=D,N.onerror=H}),rn(S,"link",m),l.state.loading|=4,Td(S,d.precedence,o),l.instance=S;case"script":return S=bs(d.src),(_=o.querySelector(Cu(S)))?(l.instance=_,Kt(_),_):(m=d,(_=ir.get(S))&&(m=p({},d),Gv(m,_)),o=o.ownerDocument||o,_=o.createElement("script"),Kt(_),rn(_,"link",m),o.head.appendChild(_),l.instance=_);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Td(m,d.precedence,o));return l.instance}function Td(o,l,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=m.length?m[m.length-1]:null,S=_,N=0;N<m.length;N++){var D=m[N];if(D.dataset.precedence===l)S=D;else if(S!==_)break}S?S.parentNode.insertBefore(o,S.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(o,l.firstChild))}function Hv(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function Gv(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var Ad=null;function lO(o,l,d){if(Ad===null){var m=new Map,_=Ad=new Map;_.set(d,m)}else _=Ad,m=_.get(d),m||(m=new Map,_.set(d,m));if(m.has(o))return m;for(m.set(o,null),d=d.getElementsByTagName(o),_=0;_<d.length;_++){var S=d[_];if(!(S[Gl]||S[Zt]||o==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var N=S.getAttribute(l)||"";N=o+N;var D=m.get(N);D?D.push(S):m.set(N,[S])}}return m}function uO(o,l,d){o=o.ownerDocument||o,o.head.insertBefore(d,l==="title"?o.querySelector("head > title"):null)}function YH(o,l,d){if(d===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function cO(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function JH(o,l,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var _=ys(m.href),S=l.querySelector(Au(_));if(S){l=S._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(o.count++,o=Cd.bind(o),l.then(o,o)),d.state.loading|=4,d.instance=S,Kt(S);return}S=l.ownerDocument||l,m=oO(m),(_=ir.get(_))&&Hv(m,_),S=S.createElement("link"),Kt(S);var N=S;N._p=new Promise(function(D,H){N.onload=D,N.onerror=H}),rn(S,"link",m),d.instance=S}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(o.count++,d=Cd.bind(o),l.addEventListener("load",d),l.addEventListener("error",d))}}var zv=0;function XH(o,l){return o.stylesheets&&o.count===0&&Rd(o,o.stylesheets),0<o.count||0<o.imgCount?function(d){var m=setTimeout(function(){if(o.stylesheets&&Rd(o,o.stylesheets),o.unsuspend){var S=o.unsuspend;o.unsuspend=null,S()}},6e4+l);0<o.imgBytes&&zv===0&&(zv=62500*MH());var _=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Rd(o,o.stylesheets),o.unsuspend)){var S=o.unsuspend;o.unsuspend=null,S()}},(o.imgBytes>zv?50:800)+l);return o.unsuspend=d,function(){o.unsuspend=null,clearTimeout(m),clearTimeout(_)}}:null}function Cd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rd(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Od=null;function Rd(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Od=new Map,l.forEach(QH,o),Od=null,Cd.call(o))}function QH(o,l){if(!(l.state.loading&4)){var d=Od.get(o);if(d)var m=d.get(null);else{d=new Map,Od.set(o,d);for(var _=o.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<_.length;S++){var N=_[S];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(d.set(N.dataset.precedence,N),m=N)}m&&d.set(null,m)}_=l.instance,N=_.getAttribute("data-precedence"),S=d.get(N)||m,S===m&&d.set(null,_),d.set(N,_),this.count++,m=Cd.bind(this),_.addEventListener("load",m),_.addEventListener("error",m),S?S.parentNode.insertBefore(_,S.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(_,o.firstChild)),l.state.loading|=4}}var Ou={$$typeof:A,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function ZH(o,l,d,m,_,S,N,D,H){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jm(0),this.hiddenUpdates=jm(null),this.identifierPrefix=m,this.onUncaughtError=_,this.onCaughtError=S,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function fO(o,l,d,m,_,S,N,D,H,Z,ie,le){return o=new ZH(o,l,d,N,H,Z,ie,le,D),l=1,S===!0&&(l|=24),S=Ln(3,null,null,l),o.current=S,S.stateNode=o,l=xg(),l.refCount++,o.pooledCache=l,l.refCount++,S.memoizedState={element:m,isDehydrated:d,cache:l},Cg(S),o}function dO(o){return o?(o=Jo,o):Jo}function hO(o,l,d,m,_,S){_=dO(_),m.context===null?m.context=_:m.pendingContext=_,m=na(l),m.payload={element:d},S=S===void 0?null:S,S!==null&&(m.callback=S),d=ra(o,m,l),d!==null&&(Pn(d,o,l),ou(d,o,l))}function pO(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function Vv(o,l){pO(o,l),(o=o.alternate)&&pO(o,l)}function mO(o){if(o.tag===13||o.tag===31){var l=qa(o,67108864);l!==null&&Pn(l,o,67108864),Vv(o,67108864)}}function gO(o){if(o.tag===13||o.tag===31){var l=Bn();l=qm(l);var d=qa(o,l);d!==null&&Pn(d,o,l),Vv(o,l)}}var Pd=!0;function eG(o,l,d,m){var _=U.T;U.T=null;var S=K.p;try{K.p=2,Fv(o,l,d,m)}finally{K.p=S,U.T=_}}function tG(o,l,d,m){var _=U.T;U.T=null;var S=K.p;try{K.p=8,Fv(o,l,d,m)}finally{K.p=S,U.T=_}}function Fv(o,l,d,m){if(Pd){var _=Kv(m);if(_===null)Nv(o,l,m,Md,d),yO(o,m);else if(rG(_,o,l,d,m))m.stopPropagation();else if(yO(o,m),l&4&&-1<nG.indexOf(o)){for(;_!==null;){var S=jo(_);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var N=ka(S.pendingLanes);if(N!==0){var D=S;for(D.pendingLanes|=2,D.entangledLanes|=2;N;){var H=1<<31-Dn(N);D.entanglements[1]|=H,N&=~H}zr(S),(Je&6)===0&&(hd=un()+500,Su(0))}}break;case 31:case 13:D=qa(S,2),D!==null&&Pn(D,S,2),md(),Vv(S,2)}if(S=Kv(m),S===null&&Nv(o,l,m,Md,d),S===_)break;_=S}_!==null&&m.stopPropagation()}else Nv(o,l,m,null,d)}}function Kv(o){return o=Ym(o),Wv(o)}var Md=null;function Wv(o){if(Md=null,o=$o(o),o!==null){var l=a(o);if(l===null)o=null;else{var d=l.tag;if(d===13){if(o=s(l),o!==null)return o;o=null}else if(d===31){if(o=u(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return Md=o,null}function vO(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bf()){case TT:return 2;case AT:return 8;case _f:case H3:return 32;case CT:return 268435456;default:return 32}default:return 32}}var Yv=!1,pa=null,ma=null,ga=null,Ru=new Map,Pu=new Map,va=[],nG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yO(o,l){switch(o){case"focusin":case"focusout":pa=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":ga=null;break;case"pointerover":case"pointerout":Ru.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pu.delete(l.pointerId)}}function Mu(o,l,d,m,_,S){return o===null||o.nativeEvent!==S?(o={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:S,targetContainers:[_]},l!==null&&(l=jo(l),l!==null&&mO(l)),o):(o.eventSystemFlags|=m,l=o.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),o)}function rG(o,l,d,m,_){switch(l){case"focusin":return pa=Mu(pa,o,l,d,m,_),!0;case"dragenter":return ma=Mu(ma,o,l,d,m,_),!0;case"mouseover":return ga=Mu(ga,o,l,d,m,_),!0;case"pointerover":var S=_.pointerId;return Ru.set(S,Mu(Ru.get(S)||null,o,l,d,m,_)),!0;case"gotpointercapture":return S=_.pointerId,Pu.set(S,Mu(Pu.get(S)||null,o,l,d,m,_)),!0}return!1}function bO(o){var l=$o(o.target);if(l!==null){var d=a(l);if(d!==null){if(l=d.tag,l===13){if(l=s(d),l!==null){o.blockedOn=l,IT(o.priority,function(){gO(d)});return}}else if(l===31){if(l=u(d),l!==null){o.blockedOn=l,IT(o.priority,function(){gO(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Nd(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=Kv(o.nativeEvent);if(d===null){d=o.nativeEvent;var m=new d.constructor(d.type,d);Wm=m,d.target.dispatchEvent(m),Wm=null}else return l=jo(d),l!==null&&mO(l),o.blockedOn=d,!1;l.shift()}return!0}function _O(o,l,d){Nd(o)&&d.delete(l)}function iG(){Yv=!1,pa!==null&&Nd(pa)&&(pa=null),ma!==null&&Nd(ma)&&(ma=null),ga!==null&&Nd(ga)&&(ga=null),Ru.forEach(_O),Pu.forEach(_O)}function Id(o,l){o.blockedOn===l&&(o.blockedOn=null,Yv||(Yv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,iG)))}var Dd=null;function wO(o){Dd!==o&&(Dd=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Dd===o&&(Dd=null);for(var l=0;l<o.length;l+=3){var d=o[l],m=o[l+1],_=o[l+2];if(typeof m!="function"){if(Wv(m||d)===null)continue;break}var S=jo(d);S!==null&&(o.splice(l,3),l-=3,Kg(S,{pending:!0,data:_,method:d.method,action:m},m,_))}}))}function _s(o){function l(H){return Id(H,o)}pa!==null&&Id(pa,o),ma!==null&&Id(ma,o),ga!==null&&Id(ga,o),Ru.forEach(l),Pu.forEach(l);for(var d=0;d<va.length;d++){var m=va[d];m.blockedOn===o&&(m.blockedOn=null)}for(;0<va.length&&(d=va[0],d.blockedOn===null);)bO(d),d.blockedOn===null&&va.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var _=d[m],S=d[m+1],N=_[En]||null;if(typeof S=="function")N||wO(d);else if(N){var D=null;if(S&&S.hasAttribute("formAction")){if(_=S,N=S[En]||null)D=N.formAction;else if(Wv(_)!==null)continue}else D=N.action;typeof D=="function"?d[m+1]=D:(d.splice(m,3),m-=3),wO(d)}}}function SO(){function o(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(N){return _=N})},focusReset:"manual",scroll:"manual"})}function l(){_!==null&&(_(),_=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,_=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),_!==null&&(_(),_=null)}}}function Jv(o){this._internalRoot=o}kd.prototype.render=Jv.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,m=Bn();hO(d,m,o,l,null,null)},kd.prototype.unmount=Jv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;hO(o.current,2,null,o,null,null),md(),l[Uo]=null}};function kd(o){this._internalRoot=o}kd.prototype.unstable_scheduleHydration=function(o){if(o){var l=NT();o={blockedOn:null,target:o,priority:l};for(var d=0;d<va.length&&l!==0&&l<va[d].priority;d++);va.splice(d,0,o),d===0&&bO(o)}};var xO=e.version;if(xO!=="19.2.3")throw Error(r(527,xO,"19.2.3"));K.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(l),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var aG={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ld.isDisabled&&Ld.supportsFiber)try{ql=Ld.inject(aG),In=Ld}catch{}}return Iu.createRoot=function(o,l){if(!i(o))throw Error(r(299));var d=!1,m="",_=P1,S=M1,N=N1;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError)),l=fO(o,1,!1,null,null,d,m,null,_,S,N,SO),o[Uo]=l.current,Mv(o),new Jv(l)},Iu.hydrateRoot=function(o,l,d){if(!i(o))throw Error(r(299));var m=!1,_="",S=P1,N=M1,D=N1,H=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(_=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(N=d.onCaughtError),d.onRecoverableError!==void 0&&(D=d.onRecoverableError),d.formState!==void 0&&(H=d.formState)),l=fO(o,1,!0,l,d??null,m,_,H,S,N,D,SO),l.context=dO(null),d=l.current,m=Bn(),m=qm(m),_=na(m),_.callback=null,ra(d,_,m),d=m,l.current.lanes=d,Hl(l,d),zr(l),o[Uo]=l.current,Mv(o),new kd(l)},Iu.version="19.2.3",Iu}var IO;function vG(){if(IO)return Zv.exports;IO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zv.exports=gG(),Zv.exports}var yG=vG();const bG=Ve(yG);var ry,DO;function _G(){if(DO)return ry;DO=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(a,s){if(a===s)return!0;if(a&&s&&typeof a=="object"&&typeof s=="object"){if(a.constructor!==s.constructor)return!1;var u,c,f;if(Array.isArray(a)){if(u=a.length,u!=s.length)return!1;for(c=u;c--!==0;)if(!i(a[c],s[c]))return!1;return!0}var h;if(e&&a instanceof Map&&s instanceof Map){if(a.size!==s.size)return!1;for(h=a.entries();!(c=h.next()).done;)if(!s.has(c.value[0]))return!1;for(h=a.entries();!(c=h.next()).done;)if(!i(c.value[1],s.get(c.value[0])))return!1;return!0}if(n&&a instanceof Set&&s instanceof Set){if(a.size!==s.size)return!1;for(h=a.entries();!(c=h.next()).done;)if(!s.has(c.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(s)){if(u=a.length,u!=s.length)return!1;for(c=u;c--!==0;)if(a[c]!==s[c])return!1;return!0}if(a.constructor===RegExp)return a.source===s.source&&a.flags===s.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof s.valueOf=="function")return a.valueOf()===s.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof s.toString=="function")return a.toString()===s.toString();if(f=Object.keys(a),u=f.length,u!==Object.keys(s).length)return!1;for(c=u;c--!==0;)if(!Object.prototype.hasOwnProperty.call(s,f[c]))return!1;if(t&&a instanceof Element)return!1;for(c=u;c--!==0;)if(!((f[c]==="_owner"||f[c]==="__v"||f[c]==="__o")&&a.$$typeof)&&!i(a[f[c]],s[f[c]]))return!1;return!0}return a!==a&&s!==s}return ry=function(s,u){try{return i(s,u)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},ry}var wG=_G();const SG=Ve(wG);var iy,kO;function xG(){if(kO)return iy;kO=1;var t=function(e,n,r,i,a,s,u,c){if(!e){var f;if(n===void 0)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[r,i,a,s,u,c],p=0;f=new Error(n.replace(/%s/g,function(){return h[p++]})),f.name="Invariant Violation"}throw f.framesToPop=1,f}};return iy=t,iy}var EG=xG();const LO=Ve(EG);var ay,UO;function TG(){return UO||(UO=1,ay=function(e,n,r,i){var a=r?r.call(i,e,n):void 0;if(a!==void 0)return!!a;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var s=Object.keys(e),u=Object.keys(n);if(s.length!==u.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(n),f=0;f<s.length;f++){var h=s[f];if(!c(h))return!1;var p=e[h],g=n[h];if(a=r?r.call(i,p,g,h):void 0,a===!1||a===void 0&&p!==g)return!1}return!0}),ay}var AG=TG();const CG=Ve(AG);var mU=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(mU||{}),oy={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},$O=Object.values(mU),Kx={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},OG=Object.entries(Kx).reduce((t,[e,n])=>(t[n]=e,t),{}),Dr="data-rh",zs={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Vs=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},RG=t=>{let e=Vs(t,"title");const n=Vs(t,zs.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=Vs(t,zs.DEFAULT_TITLE);return e||r||void 0},PG=t=>Vs(t,zs.ON_CHANGE_CLIENT_STATE)||(()=>{}),sy=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),MG=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let a=0;a<i.length;a+=1){const u=i[a].toLowerCase();if(t.indexOf(u)!==-1&&r[u])return n.concat(r)}}return n},[]),NG=t=>console&&typeof console.warn=="function"&&console.warn(t),Du=(t,e,n)=>{const r={};return n.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&NG(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,a)=>{const s={};a.filter(c=>{let f;const h=Object.keys(c);for(let g=0;g<h.length;g+=1){const b=h[g],x=b.toLowerCase();e.indexOf(x)!==-1&&!(f==="rel"&&c[f].toLowerCase()==="canonical")&&!(x==="rel"&&c[x].toLowerCase()==="stylesheet")&&(f=x),e.indexOf(b)!==-1&&(b==="innerHTML"||b==="cssText"||b==="itemprop")&&(f=b)}if(!f||!c[f])return!1;const p=c[f].toLowerCase();return r[f]||(r[f]={}),s[f]||(s[f]={}),r[f][p]?!1:(s[f][p]=!0,!0)}).reverse().forEach(c=>i.push(c));const u=Object.keys(s);for(let c=0;c<u.length;c+=1){const f=u[c],h={...r[f],...s[f]};r[f]=h}return i},[]).reverse()},IG=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},DG=t=>({baseTag:MG(["href"],t),bodyAttributes:sy("bodyAttributes",t),defer:Vs(t,zs.DEFER),encode:Vs(t,zs.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:sy("htmlAttributes",t),linkTags:Du("link",["rel","href"],t),metaTags:Du("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:Du("noscript",["innerHTML"],t),onChangeClientState:PG(t),scriptTags:Du("script",["src","innerHTML"],t),styleTags:Du("style",["cssText"],t),title:RG(t),titleAttributes:sy("titleAttributes",t),prioritizeSeoTags:IG(t,zs.PRIORITIZE_SEO_TAGS)}),gU=t=>Array.isArray(t)?t.join(""):t,kG=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},ly=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(kG(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},jO=(t,e)=>({...t,[e]:void 0}),LG=["noscript","script","style"],Nw=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),vU=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),UG=(t,e,n,r)=>{const i=vU(n),a=gU(e);return i?`<${t} ${Dr}="true" ${i}>${Nw(a,r)}</${t}>`:`<${t} ${Dr}="true">${Nw(a,r)}</${t}>`},$G=(t,e,n=!0)=>e.reduce((r,i)=>{const a=i,s=Object.keys(a).filter(f=>!(f==="innerHTML"||f==="cssText")).reduce((f,h)=>{const p=typeof a[h]>"u"?h:`${h}="${Nw(a[h],n)}"`;return f?`${f} ${p}`:p},""),u=a.innerHTML||a.cssText||"",c=LG.indexOf(t)===-1;return`${r}<${t} ${Dr}="true" ${s}${c?"/>":`>${u}</${t}>`}`},""),yU=(t,e={})=>Object.keys(t).reduce((n,r)=>{const i=Kx[r];return n[i||r]=t[r],n},e),jG=(t,e,n)=>{const r={key:e,[Dr]:!0},i=yU(n,r);return[z.createElement("title",i,e)]},vh=(t,e)=>e.map((n,r)=>{const i={key:r,[Dr]:!0};return Object.keys(n).forEach(a=>{const u=Kx[a]||a;if(u==="innerHTML"||u==="cssText"){const c=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:c}}else i[u]=n[a]}),z.createElement(t,i)}),lr=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>jG(t,e.title,e.titleAttributes),toString:()=>UG(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>yU(e),toString:()=>vU(e)};default:return{toComponent:()=>vh(t,e),toString:()=>$G(t,e,n)}}},qG=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const i=ly(t,oy.meta),a=ly(e,oy.link),s=ly(n,oy.script);return{priorityMethods:{toComponent:()=>[...vh("meta",i.priority),...vh("link",a.priority),...vh("script",s.priority)],toString:()=>`${lr("meta",i.priority,r)} ${lr("link",a.priority,r)} ${lr("script",s.priority,r)}`},metaTags:i.default,linkTags:a.default,scriptTags:s.default}},BG=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:a,styleTags:s,title:u="",titleAttributes:c,prioritizeSeoTags:f}=t;let{linkTags:h,metaTags:p,scriptTags:g}=t,b={toComponent:()=>{},toString:()=>""};return f&&({priorityMethods:b,linkTags:h,metaTags:p,scriptTags:g}=qG(t)),{priority:b,base:lr("base",e,r),bodyAttributes:lr("bodyAttributes",n,r),htmlAttributes:lr("htmlAttributes",i,r),link:lr("link",h,r),meta:lr("meta",p,r),noscript:lr("noscript",a,r),script:lr("script",g,r),style:lr("style",s,r),title:lr("title",{title:u,titleAttributes:c},r)}},Iw=BG,$d=[],bU=!!(typeof window<"u"&&window.document&&window.document.createElement),Dw=class{constructor(t,e){xi(this,"instances",[]);xi(this,"canUseDOM",bU);xi(this,"context");xi(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?$d:this.instances,add:t=>{(this.canUseDOM?$d:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?$d:this.instances).indexOf(t);(this.canUseDOM?$d:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=Iw({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},HG={},_U=z.createContext(HG),yo,Wx=(yo=class extends j.Component{constructor(n){super(n);xi(this,"helmetData");this.helmetData=new Dw(this.props.context||{},yo.canUseDOM)}render(){return z.createElement(_U.Provider,{value:this.helmetData.value},this.props.children)}},xi(yo,"canUseDOM",bU),yo),ws=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${Dr}]`),i=[].slice.call(r),a=[];let s;return e&&e.length&&e.forEach(u=>{const c=document.createElement(t);for(const f in u)if(Object.prototype.hasOwnProperty.call(u,f))if(f==="innerHTML")c.innerHTML=u.innerHTML;else if(f==="cssText")c.styleSheet?c.styleSheet.cssText=u.cssText:c.appendChild(document.createTextNode(u.cssText));else{const h=f,p=typeof u[h]>"u"?"":u[h];c.setAttribute(f,p)}c.setAttribute(Dr,"true"),i.some((f,h)=>(s=h,c.isEqualNode(f)))?i.splice(s,1):a.push(c)}),i.forEach(u=>{var c;return(c=u.parentNode)==null?void 0:c.removeChild(u)}),a.forEach(u=>n.appendChild(u)),{oldTags:i,newTags:a}},kw=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(Dr),i=r?r.split(","):[],a=[...i],s=Object.keys(e);for(const u of s){const c=e[u]||"";n.getAttribute(u)!==c&&n.setAttribute(u,c),i.indexOf(u)===-1&&i.push(u);const f=a.indexOf(u);f!==-1&&a.splice(f,1)}for(let u=a.length-1;u>=0;u-=1)n.removeAttribute(a[u]);i.length===a.length?n.removeAttribute(Dr):n.getAttribute(Dr)!==s.join(",")&&n.setAttribute(Dr,s.join(","))},GG=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=gU(t)),kw("title",e)},qO=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:a,metaTags:s,noscriptTags:u,onChangeClientState:c,scriptTags:f,styleTags:h,title:p,titleAttributes:g}=t;kw("body",r),kw("html",i),GG(p,g);const b={baseTag:ws("base",n),linkTags:ws("link",a),metaTags:ws("meta",s),noscriptTags:ws("noscript",u),scriptTags:ws("script",f),styleTags:ws("style",h)},x={},E={};Object.keys(b).forEach(w=>{const{newTags:T,oldTags:C}=b[w];T.length&&(x[w]=T),C.length&&(E[w]=b[w].oldTags)}),e&&e(),c(t,x,E)},ku=null,zG=t=>{ku&&cancelAnimationFrame(ku),t.defer?ku=requestAnimationFrame(()=>{qO(t,()=>{ku=null})}):(qO(t),ku=null)},VG=zG,BO=class extends j.Component{constructor(){super(...arguments);xi(this,"rendered",!1)}shouldComponentUpdate(e){return!CG(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const i=DG(e.get().map(a=>{const s={...a.props};return delete s.context,s}));Wx.canUseDOM?VG(i):Iw&&(r=Iw(i)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Mw,FG=(Mw=class extends j.Component{shouldComponentUpdate(t){return!SG(jO(this.props,"helmetData"),jO(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return LO($O.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${$O.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),LO(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return z.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:i,...a}=r.props,s=Object.keys(a).reduce((c,f)=>(c[OG[f]||f]=a[f],c),{});let{type:u}=r;switch(typeof u=="symbol"?u=u.toString():this.warnOnInvalidChildren(r,i),u){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,s,i);break;default:e=this.mapObjectTypeChildren(r,e,s,i);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof Dw)){const i=r;r=new Dw(i.context,!0),delete n.helmetData}return r?z.createElement(BO,{...n,context:r.value}):z.createElement(_U.Consumer,null,i=>z.createElement(BO,{...n,context:i}))}},xi(Mw,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Mw);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var HO="popstate";function KG(t={}){function e(i,a){let{pathname:s="/",search:u="",hash:c=""}=Po(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),Lw("",{pathname:s,search:u,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),u="";if(s&&s.getAttribute("href")){let c=i.location.href,f=c.indexOf("#");u=f===-1?c:c.slice(0,f)}return u+"#"+(typeof a=="string"?a:hc(a))}function r(i,a){mr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return YG(e,n,r,t)}function At(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WG(){return Math.random().toString(36).substring(2,10)}function GO(t,e){return{usr:t.state,key:t.key,idx:e}}function Lw(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Po(e):e,state:n,key:e&&e.key||r||WG()}}function hc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Po(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function YG(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,u="POP",c=null,f=h();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function h(){return(s.state||{idx:null}).idx}function p(){u="POP";let w=h(),T=w==null?null:w-f;f=w,c&&c({action:u,location:E.location,delta:T})}function g(w,T){u="PUSH";let C=Lw(E.location,w,T);n&&n(C,w),f=h()+1;let A=GO(C,f),P=E.createHref(C);try{s.pushState(A,"",P)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(P)}a&&c&&c({action:u,location:E.location,delta:1})}function b(w,T){u="REPLACE";let C=Lw(E.location,w,T);n&&n(C,w),f=h();let A=GO(C,f),P=E.createHref(C);s.replaceState(A,"",P),a&&c&&c({action:u,location:E.location,delta:0})}function x(w){return JG(w)}let E={get action(){return u},get location(){return t(i,s)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(HO,p),c=w,()=>{i.removeEventListener(HO,p),c=null}},createHref(w){return e(i,w)},createURL:x,encodeLocation(w){let T=x(w);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:g,replace:b,go(w){return s.go(w)}};return E}function JG(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),At(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:hc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function wU(t,e,n="/"){return XG(t,e,n,!1)}function XG(t,e,n,r){let i=typeof e=="string"?Po(e):e,a=Di(i.pathname||"/",n);if(a==null)return null;let s=SU(t);QG(s);let u=null;for(let c=0;u==null&&c<s.length;++c){let f=uz(a);u=sz(s[c],f,r)}return u}function SU(t,e=[],n=[],r="",i=!1){let a=(s,u,c=i,f)=>{let h={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:u,route:s};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&c)return;At(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let p=Mi([r,h.relativePath]),g=n.concat(h);s.children&&s.children.length>0&&(At(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),SU(s.children,e,g,p,c)),!(s.path==null&&!s.index)&&e.push({path:p,score:az(p,s.index),routesMeta:g})};return t.forEach((s,u)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))a(s,u);else for(let f of xU(s.path))a(s,u,!0,f)}),e}function xU(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=xU(r.join("/")),u=[];return u.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&u.push(...s),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function QG(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:oz(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var ZG=/^:[\w-]+$/,ez=3,tz=2,nz=1,rz=10,iz=-2,zO=t=>t==="*";function az(t,e){let n=t.split("/"),r=n.length;return n.some(zO)&&(r+=iz),e&&(r+=tz),n.filter(i=>!zO(i)).reduce((i,a)=>i+(ZG.test(a)?ez:a===""?nz:rz),r)}function oz(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function sz(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let u=0;u<r.length;++u){let c=r[u],f=u===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",p=Th({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),g=c.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=Th({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:Mi([a,p.pathname]),pathnameBase:hz(Mi([a,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(a=Mi([a,p.pathnameBase]))}return s}function Th(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lz(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:h,isOptional:p},g)=>{if(h==="*"){let x=u[g]||"";s=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const b=u[g];return p&&!b?f[h]=void 0:f[h]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:t}}function lz(t,e=!1,n=!0){mr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function uz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Di(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var EU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cz=t=>EU.test(t);function fz(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Po(t):t,a;if(n)if(cz(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),mr(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?a=VO(n.substring(1),"/"):a=VO(n,e)}else a=e;return{pathname:a,search:pz(r),hash:mz(i)}}function VO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function uy(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function TU(t){let e=dz(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function AU(t,e,n,r=!1){let i;typeof t=="string"?i=Po(t):(i={...t},At(!i.pathname||!i.pathname.includes("?"),uy("?","pathname","search",i)),At(!i.pathname||!i.pathname.includes("#"),uy("#","pathname","hash",i)),At(!i.search||!i.search.includes("#"),uy("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,u;if(s==null)u=n;else{let p=e.length-1;if(!r&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}u=p>=0?e[p]:"/"}let c=fz(i,u),f=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}var Mi=t=>t.join("/").replace(/\/\/+/g,"/"),hz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,gz=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function vz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function yz(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var CU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function OU(t,e){let n=t;if(typeof n!="string"||!EU.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(CU)try{let a=new URL(window.location.href),s=n.startsWith("//")?new URL(a.protocol+n):new URL(n),u=Di(s.pathname,e);s.origin===a.origin&&u!=null?n=u+s.search+s.hash:i=!0}catch{mr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var RU=["POST","PUT","PATCH","DELETE"];new Set(RU);var bz=["GET",...RU];new Set(bz);var Cl=j.createContext(null);Cl.displayName="DataRouter";var Bp=j.createContext(null);Bp.displayName="DataRouterState";var _z=j.createContext(!1),PU=j.createContext({isTransitioning:!1});PU.displayName="ViewTransition";var wz=j.createContext(new Map);wz.displayName="Fetchers";var Sz=j.createContext(null);Sz.displayName="Await";var br=j.createContext(null);br.displayName="Navigation";var sf=j.createContext(null);sf.displayName="Location";var ti=j.createContext({outlet:null,matches:[],isDataRoute:!1});ti.displayName="Route";var Yx=j.createContext(null);Yx.displayName="RouteError";var MU="REACT_ROUTER_ERROR",xz="REDIRECT",Ez="ROUTE_ERROR_RESPONSE";function Tz(t){if(t.startsWith(`${MU}:${xz}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Az(t){if(t.startsWith(`${MU}:${Ez}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new gz(e.status,e.statusText,e.data)}catch{}}function Cz(t,{relative:e}={}){At(lf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext(br),{hash:i,pathname:a,search:s}=uf(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:Mi([n,a])),r.createHref({pathname:u,search:s,hash:i})}function lf(){return j.useContext(sf)!=null}function Oa(){return At(lf(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(sf).location}var NU="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function IU(t){j.useContext(br).static||j.useLayoutEffect(t)}function Hp(){let{isDataRoute:t}=j.useContext(ti);return t?qz():Oz()}function Oz(){At(lf(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(Cl),{basename:e,navigator:n}=j.useContext(br),{matches:r}=j.useContext(ti),{pathname:i}=Oa(),a=JSON.stringify(TU(r)),s=j.useRef(!1);return IU(()=>{s.current=!0}),j.useCallback((c,f={})=>{if(mr(s.current,NU),!s.current)return;if(typeof c=="number"){n.go(c);return}let h=AU(c,JSON.parse(a),i,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Mi([e,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[e,n,a,i,t])}j.createContext(null);function DU(){let{matches:t}=j.useContext(ti),e=t[t.length-1];return e?e.params:{}}function uf(t,{relative:e}={}){let{matches:n}=j.useContext(ti),{pathname:r}=Oa(),i=JSON.stringify(TU(n));return j.useMemo(()=>AU(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function Rz(t,e){return kU(t,e)}function kU(t,e,n,r,i){var C;At(lf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=j.useContext(br),{matches:s}=j.useContext(ti),u=s[s.length-1],c=u?u.params:{},f=u?u.pathname:"/",h=u?u.pathnameBase:"/",p=u&&u.route;{let A=p&&p.path||"";UU(f,!p||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let g=Oa(),b;if(e){let A=typeof e=="string"?Po(e):e;At(h==="/"||((C=A.pathname)==null?void 0:C.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${A.pathname}" was given in the \`location\` prop.`),b=A}else b=g;let x=b.pathname||"/",E=x;if(h!=="/"){let A=h.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(A.length).join("/")}let w=wU(t,{pathname:E});mr(p||w!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),mr(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=Dz(w&&w.map(A=>Object.assign({},A,{params:Object.assign({},c,A.params),pathname:Mi([h,a.encodeLocation?a.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?h:Mi([h,a.encodeLocation?a.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),s,n,r,i);return e&&T?j.createElement(sf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},T):T}function Pz(){let t=jz(),e=vz(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:a},"ErrorBoundary")," or"," ",j.createElement("code",{style:a},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,s)}var Mz=j.createElement(Pz,null),LU=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=Az(t.digest);n&&(t=n)}let e=t!==void 0?j.createElement(ti.Provider,{value:this.props.routeContext},j.createElement(Yx.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?j.createElement(Nz,{error:t},e):e}};LU.contextType=_z;var cy=new WeakMap;function Nz({children:t,error:e}){let{basename:n}=j.useContext(br);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=Tz(e.digest);if(r){let i=cy.get(e);if(i)throw i;let a=OU(r.location,n);if(CU&&!cy.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw cy.set(e,s),s}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function Iz({routeContext:t,match:e,children:n}){let r=j.useContext(Cl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(ti.Provider,{value:t},n)}function Dz(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n==null?void 0:n.errors;if(s!=null){let h=a.findIndex(p=>p.route.id&&(s==null?void 0:s[p.route.id])!==void 0);At(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,c=-1;if(n)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:g,errors:b}=n,x=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||x){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}let f=n&&r?(h,p)=>{var g,b;r(h,{location:n.location,params:((b=(g=n.matches)==null?void 0:g[0])==null?void 0:b.params)??{},unstable_pattern:yz(n.matches),errorInfo:p})}:void 0;return a.reduceRight((h,p,g)=>{let b,x=!1,E=null,w=null;n&&(b=s&&p.route.id?s[p.route.id]:void 0,E=p.route.errorElement||Mz,u&&(c<0&&g===0?(UU("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,w=null):c===g&&(x=!0,w=p.route.hydrateFallbackElement||null)));let T=e.concat(a.slice(0,g+1)),C=()=>{let A;return b?A=E:x?A=w:p.route.Component?A=j.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=h,j.createElement(Iz,{match:p,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:A})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?j.createElement(LU,{location:n.location,revalidation:n.revalidation,component:E,error:b,children:C(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:f}):C()},null)}function Jx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kz(t){let e=j.useContext(Cl);return At(e,Jx(t)),e}function Lz(t){let e=j.useContext(Bp);return At(e,Jx(t)),e}function Uz(t){let e=j.useContext(ti);return At(e,Jx(t)),e}function Xx(t){let e=Uz(t),n=e.matches[e.matches.length-1];return At(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function $z(){return Xx("useRouteId")}function jz(){var r;let t=j.useContext(Yx),e=Lz("useRouteError"),n=Xx("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function qz(){let{router:t}=kz("useNavigate"),e=Xx("useNavigate"),n=j.useRef(!1);return IU(()=>{n.current=!0}),j.useCallback(async(i,a={})=>{mr(n.current,NU),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var FO={};function UU(t,e,n){!e&&!FO[t]&&(FO[t]=!0,mr(!1,n))}j.memo(Bz);function Bz({routes:t,future:e,state:n,onError:r}){return kU(t,void 0,n,r,e)}function Vr(t){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Hz({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){At(!lf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:u,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[u,i,a,s]);typeof n=="string"&&(n=Po(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:b="default"}=n,x=j.useMemo(()=>{let E=Di(f,u);return E==null?null:{location:{pathname:E,search:h,hash:p,state:g,key:b},navigationType:r}},[u,f,h,p,g,b,r]);return mr(x!=null,`<Router basename="${u}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:j.createElement(br.Provider,{value:c},j.createElement(sf.Provider,{children:e,value:x}))}function Gz({children:t,location:e}){return Rz(Uw(t),e)}function Uw(t,e=[]){let n=[];return j.Children.forEach(t,(r,i)=>{if(!j.isValidElement(r))return;let a=[...e,i];if(r.type===j.Fragment){n.push.apply(n,Uw(r.props.children,a));return}At(r.type===Vr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Uw(r.props.children,a)),n.push(s)}),n}var yh="get",bh="application/x-www-form-urlencoded";function Gp(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function zz(t){return Gp(t)&&t.tagName.toLowerCase()==="button"}function Vz(t){return Gp(t)&&t.tagName.toLowerCase()==="form"}function Fz(t){return Gp(t)&&t.tagName.toLowerCase()==="input"}function Kz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Wz(t,e){return t.button===0&&(!e||e==="_self")&&!Kz(t)}var jd=null;function Yz(){if(jd===null)try{new FormData(document.createElement("form"),0),jd=!1}catch{jd=!0}return jd}var Jz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fy(t){return t!=null&&!Jz.has(t)?(mr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bh}"`),null):t}function Xz(t,e){let n,r,i,a,s;if(Vz(t)){let u=t.getAttribute("action");r=u?Di(u,e):null,n=t.getAttribute("method")||yh,i=fy(t.getAttribute("enctype"))||bh,a=new FormData(t)}else if(zz(t)||Fz(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||u.getAttribute("action");if(r=c?Di(c,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||yh,i=fy(t.getAttribute("formenctype"))||fy(u.getAttribute("enctype"))||bh,a=new FormData(u,t),!Yz()){let{name:f,type:h,value:p}=t;if(h==="image"){let g=f?`${f}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else f&&a.append(f,p)}}else{if(Gp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=yh,r=null,i=bh,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qx(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qz(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Di(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Zz(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eV(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function tV(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await Zz(a,n);return s.links?s.links():[]}return[]}));return aV(r.flat(1).filter(eV).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function KO(t,e,n,r,i,a){let s=(c,f)=>n[f]?c.route.id!==n[f].route.id:!0,u=(c,f)=>{var h;return n[f].pathname!==c.pathname||((h=n[f].route.path)==null?void 0:h.endsWith("*"))&&n[f].params["*"]!==c.params["*"]};return a==="assets"?e.filter((c,f)=>s(c,f)||u(c,f)):a==="data"?e.filter((c,f)=>{var p;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(s(c,f)||u(c,f))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function nV(t,e,{includeHydrateFallback:n}={}){return rV(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function rV(t){return[...new Set(t)]}function iV(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function aV(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(iV(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function $U(){let t=j.useContext(Cl);return Qx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function oV(){let t=j.useContext(Bp);return Qx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Zx=j.createContext(void 0);Zx.displayName="FrameworkContext";function jU(){let t=j.useContext(Zx);return Qx(t,"You must render this element inside a <HydratedRouter> element"),t}function sV(t,e){let n=j.useContext(Zx),[r,i]=j.useState(!1),[a,s]=j.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:f,onMouseLeave:h,onTouchStart:p}=e,g=j.useRef(null);j.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let E=T=>{T.forEach(C=>{s(C.isIntersecting)})},w=new IntersectionObserver(E,{threshold:.5});return g.current&&w.observe(g.current),()=>{w.disconnect()}}},[t]),j.useEffect(()=>{if(r){let E=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(E)}}},[r]);let b=()=>{i(!0)},x=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,g,{}]:[a,g,{onFocus:Lu(u,b),onBlur:Lu(c,x),onMouseEnter:Lu(f,b),onMouseLeave:Lu(h,x),onTouchStart:Lu(p,b)}]:[!1,g,{}]}function Lu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function lV({page:t,...e}){let{router:n}=$U(),r=j.useMemo(()=>wU(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?j.createElement(cV,{page:t,matches:r,...e}):null}function uV(t){let{manifest:e,routeModules:n}=jU(),[r,i]=j.useState([]);return j.useEffect(()=>{let a=!1;return tV(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function cV({page:t,matches:e,...n}){let r=Oa(),{manifest:i,routeModules:a}=jU(),{basename:s}=$U(),{loaderData:u,matches:c}=oV(),f=j.useMemo(()=>KO(t,e,c,i,r,"data"),[t,e,c,i,r]),h=j.useMemo(()=>KO(t,e,c,i,r,"assets"),[t,e,c,i,r]),p=j.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,E=!1;if(e.forEach(T=>{var A;let C=i.routes[T.route.id];!C||!C.hasLoader||(!f.some(P=>P.route.id===T.route.id)&&T.route.id in u&&((A=a[T.route.id])!=null&&A.shouldRevalidate)||C.hasClientLoader?E=!0:x.add(T.route.id))}),x.size===0)return[];let w=Qz(t,s,"data");return E&&x.size>0&&w.searchParams.set("_routes",e.filter(T=>x.has(T.route.id)).map(T=>T.route.id).join(",")),[w.pathname+w.search]},[s,u,r,i,f,e,t,a]),g=j.useMemo(()=>nV(h,i),[h,i]),b=uV(h);return j.createElement(j.Fragment,null,p.map(x=>j.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),g.map(x=>j.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),b.map(({key:x,link:E})=>j.createElement("link",{key:x,nonce:n.nonce,...E})))}function fV(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var dV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dV&&(window.__reactRouterVersion="7.11.0")}catch{}function hV({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=j.useRef();i.current==null&&(i.current=KG({window:r,v5Compat:!0}));let a=i.current,[s,u]=j.useState({action:a.action,location:a.location}),c=j.useCallback(f=>{n===!1?u(f):j.startTransition(()=>u(f))},[n]);return j.useLayoutEffect(()=>a.listen(c),[a,c]),j.createElement(Hz,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:n})}var qU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bn=j.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:u,target:c,to:f,preventScrollReset:h,viewTransition:p,unstable_defaultShouldRevalidate:g,...b},x){let{basename:E,unstable_useTransitions:w}=j.useContext(br),T=typeof f=="string"&&qU.test(f),C=OU(f,E);f=C.to;let A=Cz(f,{relative:i}),[P,O,M]=sV(r,b),I=vV(f,{replace:s,state:u,target:c,preventScrollReset:h,relative:i,viewTransition:p,unstable_defaultShouldRevalidate:g,unstable_useTransitions:w});function k(G){e&&e(G),G.defaultPrevented||I(G)}let L=j.createElement("a",{...b,...M,href:C.absoluteURL||A,onClick:C.isExternal||a?e:k,ref:fV(x,O),target:c,"data-discover":!T&&n==="render"?"true":void 0});return P&&!T?j.createElement(j.Fragment,null,L,j.createElement(lV,{page:A})):L});bn.displayName="Link";var pV=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:u,children:c,...f},h){let p=uf(s,{relative:f.relative}),g=Oa(),b=j.useContext(Bp),{navigator:x,basename:E}=j.useContext(br),w=b!=null&&SV(p)&&u===!0,T=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,C=g.pathname,A=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(C=C.toLowerCase(),A=A?A.toLowerCase():null,T=T.toLowerCase()),A&&E&&(A=Di(A,E)||A);const P=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let O=C===T||!i&&C.startsWith(T)&&C.charAt(P)==="/",M=A!=null&&(A===T||!i&&A.startsWith(T)&&A.charAt(T.length)==="/"),I={isActive:O,isPending:M,isTransitioning:w},k=O?e:void 0,L;typeof r=="function"?L=r(I):L=[r,O?"active":null,M?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let G=typeof a=="function"?a(I):a;return j.createElement(bn,{...f,"aria-current":k,className:L,ref:h,style:G,to:s,viewTransition:u},typeof c=="function"?c(I):c)});pV.displayName="NavLink";var mV=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=yh,action:u,onSubmit:c,relative:f,preventScrollReset:h,viewTransition:p,unstable_defaultShouldRevalidate:g,...b},x)=>{let{unstable_useTransitions:E}=j.useContext(br),w=_V(),T=wV(u,{relative:f}),C=s.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&qU.test(u),P=O=>{if(c&&c(O),O.defaultPrevented)return;O.preventDefault();let M=O.nativeEvent.submitter,I=(M==null?void 0:M.getAttribute("formmethod"))||s,k=()=>w(M||O.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:i,state:a,relative:f,preventScrollReset:h,viewTransition:p,unstable_defaultShouldRevalidate:g});E&&n!==!1?j.startTransition(()=>k()):k()};return j.createElement("form",{ref:x,method:C,action:T,onSubmit:r?c:P,...b,"data-discover":!A&&t==="render"?"true":void 0})});mV.displayName="Form";function gV(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BU(t){let e=j.useContext(Cl);return At(e,gV(t)),e}function vV(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:u,unstable_useTransitions:c}={}){let f=Hp(),h=Oa(),p=uf(t,{relative:a});return j.useCallback(g=>{if(Wz(g,e)){g.preventDefault();let b=n!==void 0?n:hc(h)===hc(p),x=()=>f(t,{replace:b,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:u});c?j.startTransition(()=>x()):x()}},[h,f,p,n,r,e,t,i,a,s,u,c])}var yV=0,bV=()=>`__${String(++yV)}__`;function _V(){let{router:t}=BU("useSubmit"),{basename:e}=j.useContext(br),n=$z(),r=t.fetch,i=t.navigate;return j.useCallback(async(a,s={})=>{let{action:u,method:c,encType:f,formData:h,body:p}=Xz(a,e);if(s.navigate===!1){let g=s.fetcherKey||bV();await r(g,n,s.action||u,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||c,formEncType:s.encType||f,flushSync:s.flushSync})}else await i(s.action||u,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||c,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,e,n])}function wV(t,{relative:e}={}){let{basename:n}=j.useContext(br),r=j.useContext(ti);At(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...uf(t||".",{relative:e})},s=Oa();if(t==null){a.search=s.search;let u=new URLSearchParams(a.search),c=u.getAll("index");if(c.some(h=>h==="")){u.delete("index"),c.filter(p=>p).forEach(p=>u.append("index",p));let h=u.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Mi([n,a.pathname])),hc(a)}function SV(t,{relative:e}={}){let n=j.useContext(PU);At(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=BU("useViewTransitionState"),i=uf(t,{relative:e});if(!n.isTransitioning)return!1;let a=Di(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Di(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Th(i.pathname,s)!=null||Th(i.pathname,a)!=null}function zp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function xV(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function u(h){try{f(r.next(h))}catch(p){s(p)}}function c(h){try{f(r.throw(h))}catch(p){s(p)}}function f(h){h.done?a(h.value):i(h.value).then(u,c)}f((r=r.apply(t,e||[])).next())})}const EV=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class eE extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class TV extends eE{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class WO extends eE{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class YO extends eE{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var $w;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})($w||($w={}));class AV{constructor(e,{headers:n={},customFetch:r,region:i=$w.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=EV(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return xV(this,arguments,void 0,function*(n,r={}){var i;let a,s;try{const{headers:u,method:c,body:f,signal:h,timeout:p}=r;let g={},{region:b}=r;b||(b=this.region);const x=new URL(`${this.url}/${n}`);b&&b!=="any"&&(g["x-region"]=b,x.searchParams.set("forceFunctionRegion",b));let E;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",E=f):typeof f=="string"?(g["Content-Type"]="text/plain",E=f):typeof FormData<"u"&&f instanceof FormData?E=f:(g["Content-Type"]="application/json",E=JSON.stringify(f)):E=f;let w=h;p&&(s=new AbortController,a=setTimeout(()=>s.abort(),p),h?(w=s.signal,h.addEventListener("abort",()=>s.abort())):w=s.signal);const T=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),u),body:E,signal:w}).catch(O=>{throw new TV(O)}),C=T.headers.get("x-relay-error");if(C&&C==="true")throw new WO(T);if(!T.ok)throw new YO(T);let A=((i=T.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),P;return A==="application/json"?P=yield T.json():A==="application/octet-stream"||A==="application/pdf"?P=yield T.blob():A==="text/event-stream"?P=T:A==="multipart/form-data"?P=yield T.formData():P=yield T.text(),{data:P,error:null,response:T}}catch(u){return{data:null,error:u,response:u instanceof YO||u instanceof WO?u.context:void 0}}finally{a&&clearTimeout(a)}})}}var CV=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},OV=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let s=null,u=null,c=null,f=a.status,h=a.statusText;if(a.ok){var p,g;if(n.method!=="HEAD"){var b;const T=await a.text();T===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((b=n.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?u=T:u=JSON.parse(T))}const E=(p=n.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),w=(g=a.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");E&&w&&w.length>1&&(c=parseInt(w[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(u)&&(u.length>1?(s={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,c=null,f=406,h="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var x;const E=await a.text();try{s=JSON.parse(E),Array.isArray(s)&&a.status===404&&(u=[],s=null,f=200,h="OK")}catch{a.status===404&&E===""?(f=204,h="No Content"):s={message:E}}if(s&&n.isMaybeSingle&&(!(s==null||(x=s.details)===null||x===void 0)&&x.includes("0 rows"))&&(s=null,f=200,h="OK"),s&&n.shouldThrowOnError)throw new CV(s)}return{error:s,data:u,count:c,status:f,statusText:h}});return this.shouldThrowOnError||(i=i.catch(a=>{var s;let u="";const c=a==null?void 0:a.cause;if(c){var f,h,p,g;const x=(f=c==null?void 0:c.message)!==null&&f!==void 0?f:"",E=(h=c==null?void 0:c.code)!==null&&h!==void 0?h:"";u=`${(p=a==null?void 0:a.name)!==null&&p!==void 0?p:"FetchError"}: ${a==null?void 0:a.message}`,u+=`

Caused by: ${(g=c==null?void 0:c.name)!==null&&g!==void 0?g:"Error"}: ${x}`,E&&(u+=` (${E})`),c!=null&&c.stack&&(u+=`
${c.stack}`)}else{var b;u=(b=a==null?void 0:a.stack)!==null&&b!==void 0?b:""}return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},RV=class extends OV{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:a="text"}={}){var s;const u=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${u};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const JO=new RegExp("[,()]");var Ms=class extends RV{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&JO.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&JO.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},PV=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let a=!1;const s=(t??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",s),r&&this.headers.append("Prefer",`count=${r}`),new Ms({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((s,u)=>s.concat(Object.keys(u)),[]);if(a.length>0){const s=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",s.join(","))}}return new Ms({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var a;const s="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(u.length>0){const c=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ms({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:e}={}){var n;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Ms({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Ms({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},MV=class HU{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new PV(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new HU(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:a}={}){var s;let u;const c=new URL(`${this.url}/rpc/${e}`);let f;r||i?(u=r?"HEAD":"GET",Object.entries(n).filter(([p,g])=>g!==void 0).map(([p,g])=>[p,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([p,g])=>{c.searchParams.append(p,g)})):(u="POST",f=n);const h=new Headers(this.headers);return a&&h.set("Prefer",`count=${a}`),new Ms({method:u,url:c,headers:h,schema:this.schemaName,body:f,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};class NV{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const IV="2.89.0",DV=`realtime-js/${IV}`,GU="1.0.0",kV="2.0.0",XO=GU,jw=1e4,LV=1e3,UV=100;var ba;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ba||(ba={}));var zt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(zt||(zt={}));var Pr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Pr||(Pr={}));var qw;(function(t){t.websocket="websocket"})(qw||(qw={}));var lo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(lo||(lo={}));class $V{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(e,n,r){var i,a;const s=e.topic,u=(i=e.ref)!==null&&i!==void 0?i:"",c=(a=e.join_ref)!==null&&a!==void 0?a:"",f=e.payload.event,h=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},p=Object.keys(h).length===0?"":JSON.stringify(h);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+u.length+s.length+f.length+p.length,b=new ArrayBuffer(this.HEADER_LENGTH+g);let x=new DataView(b),E=0;x.setUint8(E++,this.KINDS.userBroadcastPush),x.setUint8(E++,c.length),x.setUint8(E++,u.length),x.setUint8(E++,s.length),x.setUint8(E++,f.length),x.setUint8(E++,p.length),x.setUint8(E++,n),Array.from(c,T=>x.setUint8(E++,T.charCodeAt(0))),Array.from(u,T=>x.setUint8(E++,T.charCodeAt(0))),Array.from(s,T=>x.setUint8(E++,T.charCodeAt(0))),Array.from(f,T=>x.setUint8(E++,T.charCodeAt(0))),Array.from(p,T=>x.setUint8(E++,T.charCodeAt(0)));var w=new Uint8Array(b.byteLength+r.byteLength);return w.set(new Uint8Array(b),0),w.set(new Uint8Array(r),b.byteLength),w.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,a,s,u,c]=r;return n({join_ref:i,ref:a,topic:s,event:u,payload:c})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2),s=n.getUint8(3),u=n.getUint8(4);let c=this.HEADER_LENGTH+4;const f=r.decode(e.slice(c,c+i));c=c+i;const h=r.decode(e.slice(c,c+a));c=c+a;const p=r.decode(e.slice(c,c+s));c=c+s;const g=e.slice(c,e.byteLength),b=u===this.JSON_ENCODING?JSON.parse(r.decode(g)):g,x={type:this.BROADCAST_EVENT,event:h,payload:b};return s>0&&(x.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class zU{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ct;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ct||(ct={}));const QO=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,s)=>(a[s]=jV(s,t,e,i),a),{}):{}},jV=(t,e,n,r)=>{const i=e.find(u=>u.name===t),a=i==null?void 0:i.type,s=n[t];return a&&!r.includes(a)?VU(a,s):Bw(s)},VU=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return GV(e,n)}switch(t){case ct.bool:return qV(e);case ct.float4:case ct.float8:case ct.int2:case ct.int4:case ct.int8:case ct.numeric:case ct.oid:return BV(e);case ct.json:case ct.jsonb:return HV(e);case ct.timestamp:return zV(e);case ct.abstime:case ct.date:case ct.daterange:case ct.int4range:case ct.int8range:case ct.money:case ct.reltime:case ct.text:case ct.time:case ct.timestamptz:case ct.timetz:case ct.tsrange:case ct.tstzrange:return Bw(e);default:return Bw(e)}},Bw=t=>t,qV=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},BV=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},HV=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},GV=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const s=t.slice(1,n);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(u=>VU(e,u))}return t},zV=t=>typeof t=="string"?t.replace(" ","T"):t,FU=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class dy{constructor(e,n,r={},i=jw){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ZO;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ZO||(ZO={}));class ac{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:s,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ac.syncState(this.state,i,a,s),this.pendingDiffs.forEach(c=>{this.state=ac.syncDiff(this.state,c,a,s)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ac.syncDiff(this.state,i,a,s),u())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),s=this.transformState(n),u={},c={};return this.map(a,(f,h)=>{s[f]||(c[f]=h)}),this.map(s,(f,h)=>{const p=a[f];if(p){const g=h.map(w=>w.presence_ref),b=p.map(w=>w.presence_ref),x=h.filter(w=>b.indexOf(w.presence_ref)<0),E=p.filter(w=>g.indexOf(w.presence_ref)<0);x.length>0&&(u[f]=x),E.length>0&&(c[f]=E)}else u[f]=h}),this.syncDiff(a,{joins:u,leaves:c},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(u,c)=>{var f;const h=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(c),h.length>0){const p=e[u].map(b=>b.presence_ref),g=h.filter(b=>p.indexOf(b.presence_ref)<0);e[u].unshift(...g)}r(u,h,c)}),this.map(s,(u,c)=>{let f=e[u];if(!f)return;const h=c.map(p=>p.presence_ref);f=f.filter(p=>h.indexOf(p.presence_ref)<0),e[u]=f,i(u,f,c),f.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var eR;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(eR||(eR={}));var oc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(oc||(oc={}));var Ti;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ti||(Ti={}));class ks{constructor(e,n={config:{}},r){var i,a;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=zt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new dy(this,Pr.join,this.params,this.timeout),this.rejoinTimer=new zU(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=zt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=zt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pr.reply,{},(s,u)=>{this._trigger(this._replyEventName(u),s)}),this.presence=new ac(this),this.broadcastEndpointURL=FU(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==zt.closed){const{config:{broadcast:s,presence:u,private:c}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[oc.PRESENCE]&&this.bindings[oc.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},g={broadcast:s,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:f,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(Ti.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(Ti.CLOSED)),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){e==null||e(Ti.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,w=(x=E==null?void 0:E.length)!==null&&x!==void 0?x:0,T=[];for(let C=0;C<w;C++){const A=E[C],{filter:{event:P,schema:O,table:M,filter:I}}=A,k=b&&b[C];if(k&&k.event===P&&ks.isFilterValueEqual(k.schema,O)&&ks.isFilterValueEqual(k.table,M)&&ks.isFilterValueEqual(k.filter,I))T.push(Object.assign(Object.assign({},A),{id:k.id}));else{this.unsubscribe(),this.state=zt.errored,e==null||e(Ti.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(Ti.SUBSCRIBED);return}}).receive("error",b=>{this.state=zt.errored,e==null||e(Ti.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ti.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===zt.joined&&e===oc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let c=u.statusText;try{const f=await u.json();c=f.error||f.message||c}catch{}return Promise.reject(new Error(c))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=e,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,u,c;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(u=(s=this.params)===null||s===void 0?void 0:s.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=zt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new dy(this,Pr.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=zt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new dy(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>UV){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const s=e.toLocaleLowerCase(),{close:u,error:c,leave:f,join:h}=Pr;if(r&&[u,c,f,h].indexOf(s)>=0&&r!==this._joinRef())return;let g=this._onMessage(s,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var x,E,w;return((x=b.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(E=b.filter)===null||E===void 0?void 0:E.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===s}).map(b=>b.callback(g,r)):(a=this.bindings[s])===null||a===void 0||a.filter(b=>{var x,E,w,T,C,A;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in b){const P=b.id,O=(x=b.filter)===null||x===void 0?void 0:x.event;return P&&((E=n.ids)===null||E===void 0?void 0:E.includes(P))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const P=(C=(T=b==null?void 0:b.filter)===null||T===void 0?void 0:T.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return P==="*"||P===((A=n==null?void 0:n.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===s}).map(b=>{if(typeof g=="object"&&"ids"in g){const x=g.data,{schema:E,table:w,commit_timestamp:T,type:C,errors:A}=x;g=Object.assign(Object.assign({},{schema:E,table:w,commit_timestamp:T,eventType:C,new:{},old:{},errors:A}),this._getPayloadRecords(x))}b.callback(g,r)})}_isClosed(){return this.state===zt.closed}_isJoined(){return this.state===zt.joined}_isJoining(){return this.state===zt.joining}_isLeaving(){return this.state===zt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&ks.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Pr.close,{},e)}_onError(e){this._on(Pr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=QO(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=QO(e.columns,e.old_record)),n}}const hy=()=>{},qd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},VV=[1e3,2e3,5e3,1e4],FV=1e4,KV=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class WV{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=jw,this.transport=null,this.heartbeatIntervalMs=qd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hy,this.ref=0,this.reconnectTimer=null,this.vsn=XO,this.logger=hy,this.conn=null,this.sendBuffer=[],this.serializer=new $V,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${qw.websocket}`,this.httpEndpoint=FU(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=NV.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ba.connecting:return lo.Connecting;case ba.open:return lo.Open;case ba.closing:return lo.Closing;default:return lo.Closed}}isConnected(){return this.connectionState()===lo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new ks(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,s=()=>{this.encode(e,u=>{var c;(c=this.conn)===null||c===void 0||c.send(u)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(LV,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},qd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:s}=n,u=s?`(${s})`:"",c=a.status||"";this.log("receive",`${c} ${r} ${i} ${u}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,a,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===ba.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ba.open||this.conn.readyState===ba.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Pr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([KV],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const a={access_token:n,version:DV};n&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Pr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new zU(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,a,s,u,c,f,h,p,g,b;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:jw,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:qd.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=e==null?void 0:e.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:hy,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:XO,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:(x=>VV[x-1]||FV),this.vsn){case GU:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:((x,E)=>E(JSON.stringify(x))),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:((x,E)=>E(JSON.parse(x)));break;case kV:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var pc=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function YV(t,e,n){const r=new URL(e,t);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function JV(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function XV(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:s}){const u=YV(t.baseUrl,r,i),c=await JV(t.auth),f=await e(u,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...c,...s},body:a?JSON.stringify(a):void 0}),h=await f.text(),p=(f.headers.get("content-type")||"").includes("application/json"),g=p&&h?JSON.parse(h):h;if(!f.ok){const b=p?g:void 0,x=b==null?void 0:b.error;throw new pc((x==null?void 0:x.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:b})}return{status:f.status,headers:f.headers,data:g}}}}function Bd(t){return t.join("")}var QV=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Bd(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Bd(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Bd(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Bd(t.namespace)}`}),!0}catch(e){if(e instanceof pc&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof pc&&n.status===409)return;throw n}}};function Ss(t){return t.join("")}var ZV=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ss(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ss(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ss(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ss(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ss(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ss(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof pc&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof pc&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},e5=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=XV({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new QV(this.client,e),this.tableOps=new ZV(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Vp=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Et(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var t5=class extends Vp{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Hw=class extends Vp{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const tE=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),n5=()=>Response,Gw=t=>{if(Array.isArray(t))return t.map(n=>Gw(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Gw(r)}),e},r5=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},i5=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function a5(t,e){if(mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o5(t){var e=a5(t,"string");return mc(e)=="symbol"?e:e+""}function s5(t,e,n){return(e=o5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Te(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(n),!0).forEach(function(r){s5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const py=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},l5=async(t,e,n)=>{t instanceof await n5()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const i=t.status||500,a=(r==null?void 0:r.statusCode)||i+"";e(new t5(py(r),i,a))}).catch(r=>{e(new Hw(py(r),r))}):e(new Hw(py(t),t))},u5=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(r5(r)?(i.headers=Te({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Te(Te({},i),n))};async function cf(t,e,n,r,i,a){return new Promise((s,u)=>{t(n,u5(e,r,i,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>l5(c,u,r))})}async function gc(t,e,n,r){return cf(t,"GET",e,n,r)}async function Rr(t,e,n,r,i){return cf(t,"POST",e,r,i,n)}async function zw(t,e,n,r,i){return cf(t,"PUT",e,r,i,n)}async function c5(t,e,n,r){return cf(t,"HEAD",e,Te(Te({},n),{},{noResolveJson:!0}),r)}async function nE(t,e,n,r,i){return cf(t,"DELETE",e,r,i,n)}var f5=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Et(e))return{data:null,error:e};throw e}}};let KU;KU=Symbol.toStringTag;var d5=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[KU]="BlobDownloadBuilder",this.promise=null}asStream(){return new f5(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Et(e))return{data:null,error:e};throw e}}};const h5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nR={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var p5=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=tE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var i=this;try{let a;const s=Te(Te({},nR),r);let u=Te(Te({},i.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",i.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),c&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(c))):(a=n,u["cache-control"]=`max-age=${s.cacheControl}`,u["content-type"]=s.contentType,c&&(u["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),r!=null&&r.headers&&(u=Te(Te({},u),r.headers));const f=i._removeEmptyFolders(e),h=i._getFinalPath(f),p=await(t=="PUT"?zw:Rr)(i.fetch,`${i.url}/object/${h}`,a,Te({headers:u},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Et(a))return{data:null,error:a};throw a}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const a=i._removeEmptyFolders(t),s=i._getFinalPath(a),u=new URL(i.url+`/object/upload/sign/${s}`);u.searchParams.set("token",e);try{let c;const f=Te({upsert:nR.upsert},r),h=Te(Te({},i.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",f.cacheControl)):(c=n,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType),{data:{path:a,fullPath:(await zw(i.fetch,u.toString(),c,{headers:h})).Key},error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Et(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const i=Te({},n.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const a=await Rr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(n.url+a.url),u=s.searchParams.get("token");if(!u)throw new Vp("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:u},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await Rr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}async copy(t,e,n){var r=this;try{return{data:{path:(await Rr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var r=this;try{let i=r._getFinalPath(t),a=await Rr(r.fetch,`${r.url}/object/sign/${i}`,Te({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${r.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var r=this;try{const i=await Rr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Te(Te({},s),{},{signedUrl:s.signedURL?encodeURI(`${r.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=r?`?${r}`:"",a=this._getFinalPath(t),s=()=>gc(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new d5(s,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:Gw(await gc(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await c5(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Et(r)&&r instanceof Hw){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const a=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});s!==""&&r.push(s);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}async remove(t){var e=this;try{return{data:await nE(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const i=Te(Te(Te({},h5),e),{},{prefix:t||""});return{data:await Rr(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const r=Te({},t);return{data:await Rr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const WU="2.89.0",YU={"X-Client-Info":`storage-js/${WU}`};var m5=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Te(Te({},YU),e),this.fetch=tE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await gc(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await gc(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await Rr(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await zw(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await Rr(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await nE(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},g5=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Te(Te({},YU),e),this.fetch=tE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Rr(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await gc(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await nE(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Et(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!i5(t))throw new Vp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new e5({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,a){const s=i[a];return typeof s!="function"?s:async(...u)=>{try{return{data:await s.apply(i,u),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}};const rE={"X-Client-Info":`storage-js/${WU}`,"Content-Type":"application/json"};var JU=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Vn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var my=class extends JU{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},v5=class extends JU{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const iE=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),y5=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},rR=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),b5=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,i=t;if(typeof i.json=="function")i.json().then(a=>{const s=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||r+"";e(new my(rR(a),r,s))}).catch(()=>{const a=r+"";e(new my(i.statusText||`HTTP ${r} error`,r,a))});else{const a=r+"";e(new my(i.statusText||`HTTP ${r} error`,r,a))}}else e(new v5(rR(t),t))},_5=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(y5(r)?(i.headers=Te({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Te(Te({},i),n)):i};async function w5(t,e,n,r,i,a){return new Promise((s,u)=>{t(n,_5(e,r,i,a)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const f=c.headers.get("content-type");return!f||!f.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>b5(c,u,r))})}async function Fn(t,e,n,r,i){return w5(t,"POST",e,r,i,n)}var S5=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Te(Te({},rE),e),this.fetch=iE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Fn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Vn(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Fn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Vn(r))return{data:null,error:r};throw r}}},x5=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Te(Te({},rE),e),this.fetch=iE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Fn(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Fn(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Fn(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}},E5=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Te(Te({},rE),e),this.fetch=iE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}},T5=class extends E5{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new A5(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},A5=class extends S5{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new C5(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},C5=class extends x5{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},O5=class extends m5{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new p5(this.url,this.headers,t,this.fetch)}get vectors(){return new T5(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new g5(this.url+"/iceberg",this.headers,this.fetch)}};const XU="2.89.0",Ns=30*1e3,Vw=3,gy=Vw*Ns,R5="http://localhost:9999",P5="supabase.auth.token",M5={"X-Client-Info":`gotrue-js/${XU}`},Fw="X-Supabase-Api-Version",QU={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},N5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,I5=600*1e3;class vc extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function be(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class D5 extends vc{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function k5(t){return be(t)&&t.name==="AuthApiError"}class uo extends vc{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class qi extends vc{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Hn extends qi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function L5(t){return be(t)&&t.name==="AuthSessionMissingError"}class xs extends qi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hd extends qi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Gd extends qi{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function U5(t){return be(t)&&t.name==="AuthImplicitGrantRedirectError"}class iR extends qi{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $5 extends qi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Kw extends qi{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function vy(t){return be(t)&&t.name==="AuthRetryableFetchError"}class aR extends qi{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ww extends qi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ah="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),oR=` 	
\r=`.split(""),j5=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<oR.length;e+=1)t[oR[e].charCodeAt(0)]=-2;for(let e=0;e<Ah.length;e+=1)t[Ah[e].charCodeAt(0)]=e;return t})();function sR(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ah[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ah[r]),e.queuedBits-=6}}function ZU(t,e,n){const r=j5[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function lR(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{H5(s,r,n)};for(let s=0;s<t.length;s+=1)ZU(t.charCodeAt(s),i,a);return e.join("")}function q5(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function B5(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}q5(r,e)}}function H5(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Fs(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)ZU(t.charCodeAt(i),n,r);return new Uint8Array(e)}function G5(t){const e=[];return B5(t,n=>e.push(n)),new Uint8Array(e)}function ho(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>sR(i,n,r)),sR(null,n,r),e.join("")}function z5(t){return Math.round(Date.now()/1e3)+t}function V5(){return Symbol("auth-callback")}const on=()=>typeof window<"u"&&typeof document<"u",Za={tested:!1,writable:!1},e$=()=>{if(!on())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Za.tested)return Za.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Za.tested=!0,Za.writable=!0}catch{Za.tested=!0,Za.writable=!1}return Za.writable};function F5(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const t$=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),K5=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Is=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},eo=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},an=async(t,e)=>{await t.removeItem(e)};class Fp{constructor(){this.promise=new Fp.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Fp.promiseConstructor=Promise;function yy(t){const e=t.split(".");if(e.length!==3)throw new Ww("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!N5.test(e[r]))throw new Ww("JWT not in base64url format");return{header:JSON.parse(lR(e[0])),payload:JSON.parse(lR(e[1])),signature:Fs(e[2]),raw:{header:e[0],payload:e[1]}}}async function W5(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Y5(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){r(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function J5(t){return("0"+t.toString(16)).substr(-2)}function X5(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,J5).join("")}async function Q5(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Z5(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Q5(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Es(t,e,n=!1){const r=X5();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Is(t,`${e}-code-verifier`,i);const a=await Z5(r);return[a,r===a?"plain":"s256"]}const eF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function tF(t){const e=t.headers.get(Fw);if(!e||!e.match(eF))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function nF(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function rF(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const iF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ts(t){if(!iF.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function by(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function aF(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function uR(t){return JSON.parse(JSON.stringify(t))}const io=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),oF=[502,503,504];async function cR(t){var e;if(!K5(t))throw new Kw(io(t),0);if(oF.includes(t.status))throw new Kw(io(t),t.status);let n;try{n=await t.json()}catch(a){throw new uo(io(a),a)}let r;const i=tF(t);if(i&&i.getTime()>=QU["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new aR(io(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Hn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new aR(io(n),t.status,n.weak_password.reasons);throw new D5(io(n),t.status||500,r)}const sF=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ee(t,e,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[Fw]||(a[Fw]=QU["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const s=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const u=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await lF(t,e,n+u,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function lF(t,e,n,r,i,a){const s=sF(e,r,i,a);let u;try{u=await t(n,Object.assign({},s))}catch(c){throw console.error(c),new Kw(io(c),0)}if(u.ok||await cR(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(c){await cR(c)}}function Cr(t){var e;let n=null;fF(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=z5(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function fR(t){const e=Cr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Sa(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function uF(t){return{data:t,error:null}}function cF(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,s=zp(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},c=Object.assign({},s);return{data:{properties:u,user:c},error:null}}function dR(t){return t}function fF(t){return t.access_token&&t.refresh_token&&t.expires_in}const _y=["global","local","others"];class dF{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=t$(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=_y[0]){if(_y.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_y.join(", ")}`);try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Sa})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=zp(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:cF,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(be(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Sa})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,s,u,c;try{const f={nextPage:null,lastPage:0,total:0},h=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:dR});if(h.error)throw h.error;const p=await h.json(),g=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,b=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return b.length>0&&(b.forEach(x=>{const E=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);f[`${w}Page`]=E}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(be(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Ts(e);try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Sa})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ts(e);try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Sa})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Ts(e);try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Sa})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ts(e.userId);try{const{data:n,error:r}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ts(e.userId),Ts(e.id);try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,a,s,u,c;try{const f={nextPage:null,lastPage:0,total:0},h=await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:dR});if(h.error)throw h.error;const p=await h.json(),g=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,b=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return b.length>0&&(b.forEach(x=>{const E=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);f[`${w}Page`]=E}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(be(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}}function hR(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const As={debug:!!(globalThis&&e$()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class n$ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class hF extends n${}async function pF(t,e,n){As.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),As.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){As.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{As.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw As.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new hF(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(As.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function mF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function r$(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function gF(t){return parseInt(t,16)}function vF(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function yF(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:u,requestId:c,resources:f,scheme:h,uri:p,version:g}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=r$(t.address),x=h?`${h}://${r}`:r,E=t.statement?`${t.statement}
`:"",w=`${x} wants you to sign in with your Ethereum account:
${b}

${E}`;let T=`URI: ${p}
Version: ${g}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(T+=`
Expiration Time: ${i.toISOString()}`),u&&(T+=`
Not Before: ${u.toISOString()}`),c&&(T+=`
Request ID: ${c}`),f){let C=`
Resources:`;for(const A of f){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);C+=`
- ${A}`}T+=C}return`${w}
${T}`}class $t extends Error{constructor({message:e,code:n,cause:r,name:i}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Ch extends $t{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function bF({error:t,options:e}){var n,r,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new $t({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new $t({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new $t({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new $t({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new $t({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new $t({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new $t({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new $t({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(i$(s)){if(a.rp.id!==s)return new $t({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new $t({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new $t({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new $t({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new $t({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function _F({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new $t({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new $t({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(i$(r)){if(n.rpId!==r)return new $t({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new $t({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new $t({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new $t({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class wF{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const SF=new wF;function xF(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=zp(t,["challenge","user","excludeCredentials"]),a=Fs(e).buffer,s=Object.assign(Object.assign({},n),{id:Fs(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:a,user:s});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const f=r[c];u.excludeCredentials[c]=Object.assign(Object.assign({},f),{id:Fs(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function EF(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=zp(t,["challenge","allowCredentials"]),i=Fs(e).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const u=n[s];a.allowCredentials[s]=Object.assign(Object.assign({},u),{id:Fs(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function TF(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:ho(new Uint8Array(t.response.attestationObject)),clientDataJSON:ho(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function AF(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ho(new Uint8Array(i.authenticatorData)),clientDataJSON:ho(new Uint8Array(i.clientDataJSON)),signature:ho(new Uint8Array(i.signature)),userHandle:i.userHandle?ho(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function i$(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function pR(){var t,e;return!!(on()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function CF(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ch("Browser returned unexpected credential type",e)}:{data:null,error:new Ch("Empty credential response",e)}}catch(e){return{data:null,error:bF({error:e,options:t})}}}async function OF(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ch("Browser returned unexpected credential type",e)}:{data:null,error:new Ch("Empty credential response",e)}}catch(e){return{data:null,error:_F({error:e,options:t})}}}const RF={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},PF={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Oh(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))r[a]=s;else if(n(s))r[a]=s;else if(e(s)){const u=r[a];e(u)?r[a]=Oh(u,s):r[a]=Oh(s)}else r[a]=s}return r}function MF(t,e){return Oh(RF,t,e||{})}function NF(t,e){return Oh(PF,t,e||{})}class IF{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},a){try{const{data:s,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!s)return{data:null,error:u};const c=i??SF.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:f}=s.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(s.webauthn.type){case"create":{const f=MF(s.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:h,error:p}=await CF({publicKey:f,signal:c});return h?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const f=NF(s.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:h,error:p}=await OF(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:f,signal:c}));return h?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(s){return be(s)?{data:null,error:s}:{data:null,error:new uo("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new vc("rpId is required for WebAuthn authentication")};try{if(!pR())return{data:null,error:new uo("Browser does not support WebAuthn",null)};const{data:s,error:u}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!s)return{data:null,error:u};const{webauthn:c}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(s){return be(s)?{data:null,error:s}:{data:null,error:new uo("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new vc("rpId is required for WebAuthn registration")};try{if(!pR())return{data:null,error:new uo("Browser does not support WebAuthn",null)};const{data:s,error:u}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:c,error:f}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:f}}catch(s){return be(s)?{data:null,error:s}:{data:null,error:new uo("Unexpected error in register",s)}}}}mF();const DF={url:R5,storageKey:P5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:M5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function mR(t,e,n){return await n()}const Cs={};class yc{get jwks(){var e,n;return(n=(e=Cs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Cs[this.storageKey]=Object.assign(Object.assign({},Cs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Cs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Cs[this.storageKey]=Object.assign(Object.assign({},Cs[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},DF),e);if(this.storageKey=a.storageKey,this.instanceID=(n=yc.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,yc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&on()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new dF({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=t$(a.fetch),this.lock=a.lock||mR,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&on()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=pF:this.lock=mR,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new IF(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:e$()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=hR(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=hR(this.memoryStorage)),on()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${XU}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(on()&&(n=F5(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),on()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),U5(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",u),await this._saveSession(s),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return be(n)?this._returnResult({error:n}):this._returnResult({error:new uo("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Cr}),{data:s,error:u}=a;if(u||!s)return this._returnResult({data:{user:null,session:null},error:u});const c=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(a){if(be(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:h,password:p,options:g}=e;let b=null,x=null;this.flowType==="pkce"&&([b,x]=await Es(this.storage,this.storageKey)),a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:p,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:b,code_challenge_method:x},xform:Cr})}else if("phone"in e){const{phone:h,password:p,options:g}=e;a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Cr})}else throw new Hd("You must provide either an email or phone number and a password");const{data:s,error:u}=a;if(u||!s)return await an(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const c=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(a){if(await an(this.storage,`${this.storageKey}-code-verifier`),be(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:s,options:u}=e;n=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:fR})}else if("phone"in e){const{phone:a,password:s,options:u}=e;n=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:fR})}else throw new Hd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new xs;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,a,s,u,c,f,h,p,g;let b,x;if("message"in e)b=e.message,x=e.signature;else{const{chain:E,wallet:w,statement:T,options:C}=e;let A;if(on())if(typeof w=="object")A=w;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")A=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=w}const P=new URL((n=C==null?void 0:C.url)!==null&&n!==void 0?n:window.location.href),O=await A.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=r$(O[0]);let I=(r=C==null?void 0:C.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!I){const L=await A.request({method:"eth_chainId"});I=gF(L)}const k={domain:P.host,address:M,statement:T,uri:P.href,version:"1",chainId:I,nonce:(i=C==null?void 0:C.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=C==null?void 0:C.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(u=C==null?void 0:C.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(c=C==null?void 0:C.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(f=C==null?void 0:C.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(h=C==null?void 0:C.signInWithEthereum)===null||h===void 0?void 0:h.resources};b=yF(k),x=await A.request({method:"personal_sign",params:[vF(b),M]})}try{const{data:E,error:w}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:x},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Cr});if(w)throw w;if(!E||!E.session||!E.user){const T=new xs;return this._returnResult({data:{user:null,session:null},error:T})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:w})}catch(E){if(be(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var n,r,i,a,s,u,c,f,h,p,g,b;let x,E;if("message"in e)x=e.message,E=e.signature;else{const{chain:w,wallet:T,statement:C,options:A}=e;let P;if(on())if(typeof T=="object")P=T;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))P=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=T}const O=new URL((n=A==null?void 0:A.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const M=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),C?{statement:C}:null));let I;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")I=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)I=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)x=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),E=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${O.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(i=(r=A==null?void 0:A.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=A==null?void 0:A.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((s=A==null?void 0:A.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((u=A==null?void 0:A.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((c=A==null?void 0:A.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((f=A==null?void 0:A.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((p=(h=A==null?void 0:A.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...A.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const M=await P.signMessage(new TextEncoder().encode(x),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=M}}try{const{data:w,error:T}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:ho(E)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Cr});if(T)throw T;if(!w||!w.session||!w.user){const C=new xs;return this._returnResult({data:{user:null,session:null},error:C})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:T})}catch(w){if(be(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(e){const n=await eo(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new $5;const{data:a,error:s}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Cr});if(await an(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const u=new xs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(await an(this.storage,`${this.storageKey}-code-verifier`),be(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:s}=e,u=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Cr}),{data:c,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!c||!c.session||!c.user){const h=new xs;return this._returnResult({data:{user:null,session:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:f})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,a,s;try{if("email"in e){const{email:u,options:c}=e;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await Es(this.storage,this.storageKey));const{error:p}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in e){const{phone:u,options:c}=e,{data:f,error:h}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h})}throw new Hd("You must provide either an email or phone number.")}catch(u){if(await an(this.storage,`${this.storageKey}-code-verifier`),be(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:u}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Cr});if(u)throw u;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,f=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(i){if(be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,a,s;try{let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Es(this.storage,this.storageKey));const f=await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:c}),headers:this.headers,xform:uF});return!((a=f.data)===null||a===void 0)&&a.url&&on()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await an(this.storage,`${this.storageKey}-code-verifier`),be(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Hn;const{error:i}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(be(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:s}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:s,error:u}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:u})}throw new Hd("You must provide either an email or phone number and a type")}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await eo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<gy:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const s=await eo(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=by()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};e.user=aF(e.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Sa}):await this._useSession(async n=>{var r,i,a;const{data:s,error:u}=n;if(u)throw u;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Hn}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Sa})})}catch(n){if(be(n))return L5(n)&&(await this._removeSession(),await an(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Hn;const s=i.session;let u=null,c=null;this.flowType==="pkce"&&e.email!=null&&([u,c]=await Es(this.storage,this.storageKey));const{data:f,error:h}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:c}),jwt:s.access_token,xform:Sa});if(h)throw h;return s.user=f.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(r){if(await an(this.storage,`${this.storageKey}-code-verifier`),be(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Hn;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:s}=yy(e.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{data:u,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(be(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:u}=n;if(u)throw u;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Hn;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!on())throw new Gd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Gd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new iR("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new iR("No code detected.");const{data:C,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:u,expires_at:c,token_type:f}=e;if(!a||!u||!s||!f)throw new Gd("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(u);let g=h+p;c&&(g=parseInt(c));const b=g-h;b*1e3<=Ns&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${p}s`);const x=g-p;h-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,g,h):h-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,g,h);const{data:E,error:w}=await this._getUser(a);if(w)throw w;const T={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:g,refresh_token:s,token_type:f,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:e.type},error:null})}catch(r){if(be(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await eo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:u}=await this.admin.signOut(s,e);if(u&&!(k5(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await an(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=V5(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Es(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await an(this.storage,`${this.storageKey}-code-verifier`),be(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var s,u,c,f,h;const{data:p,error:g}=a;if(g)throw g;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",b,{headers:this.headers,jwt:(h=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return on()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(be(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:s,provider:u,token:c,access_token:f,nonce:h}=e,p=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:c,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Cr}),{data:g,error:b}=p;return b?this._returnResult({data:{user:null,session:null},error:b}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new xs}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:b}))}catch(i){if(await an(this.storage,`${this.storageKey}-code-verifier`),be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)throw s;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Y5(async i=>(i>0&&await W5(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Cr})),(i,a)=>{const s=200*Math.pow(2,i);return a&&vy(a)&&Date.now()+s-r<Ns})}catch(r){if(this._debug(n,"error",r),be(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),on()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await eo(this.storage,this.storageKey);if(i&&this.userStorage){let s=await eo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Is(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:by()}else if(i&&!i.user&&!i.user){const s=await eo(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await an(this.storage,this.storageKey+"-user"),await Is(this.storage,this.storageKey,i)):i.user=by()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<gy;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${gy}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),vy(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:u}=await this._getUser(i.access_token);!u&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Hn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Fp;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new Hn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(i,"error",a),be(a)){const s={data:null,error:a};return vy(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(c){a.push(c)}});if(await Promise.all(s),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await an(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Is(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=uR(i);await Is(this.storage,this.storageKey,a)}else{const i=uR(n);await Is(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await an(this.storage,this.storageKey),await an(this.storage,this.storageKey+"-code-verifier"),await an(this.storage,this.storageKey+"-user"),this.userStorage&&await an(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&on()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ns);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Ns);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ns}ms, refresh threshold is ${Vw} ticks`),i<=Vw&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof n$)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!on()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,s]=await Es(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await Ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)return this._returnResult({data:null,error:s});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:f}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?TF(e.webauthn.credential_response):AF(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:c}=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:c}))})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(s.error)return s;const{data:u}=s;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:xF(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:EF(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=yy(r.access_token);let s=null;a.aal&&(s=a.aal);let u=s;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const f=a.amr||[];return{data:{currentLevel:s,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Hn})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Hn});const s=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return s.data&&s.data.redirect_url&&on()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Hn});const s=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return s.data&&s.data.redirect_url&&on()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await Ee(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Hn})})}catch(e){if(be(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await Ee(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Hn})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(u=>u.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===e),r&&this.jwks_cached_at+I5>i)return r;const{data:a,error:s}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(u=>u.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:b,error:x}=await this.getSession();if(x||!b.session)return this._returnResult({data:null,error:x});r=b.session.access_token}const{header:i,payload:a,signature:s,raw:{header:u,payload:c}}=yy(r);n!=null&&n.allowExpired||nF(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:a,header:i,signature:s},error:null}}const h=rF(i.alg),p=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,s,G5(`${u}.${c}`)))throw new Ww("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}}yc.nextInstanceID={};const kF=yc,LF="2.89.0";let Wu="";typeof Deno<"u"?Wu="deno":typeof document<"u"?Wu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wu="react-native":Wu="node";const UF={"X-Client-Info":`supabase-js-${Wu}/${LF}`},$F={headers:UF},jF={schema:"public"},qF={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},BF={};function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}function HF(t,e){if(bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GF(t){var e=HF(t,"string");return bc(e)=="symbol"?e:e+""}function zF(t,e,n){return(e=GF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(n),!0).forEach(function(r){zF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const VF=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),FF=()=>Headers,KF=(t,e,n)=>{const r=VF(n),i=FF();return async(a,s)=>{var u;const c=(u=await e())!==null&&u!==void 0?u:t;let f=new i(s==null?void 0:s.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${c}`),r(a,Rt(Rt({},s),{},{headers:f}))}};function WF(t){return t.endsWith("/")?t:t+"/"}function YF(t,e){var n,r;const{db:i,auth:a,realtime:s,global:u}=t,{db:c,auth:f,realtime:h,global:p}=e,g={db:Rt(Rt({},c),i),auth:Rt(Rt({},f),a),realtime:Rt(Rt({},h),s),storage:{},global:Rt(Rt(Rt({},p),u),{},{headers:Rt(Rt({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function JF(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(WF(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var XF=class extends kF{constructor(t){super(t)}},QF=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const a=JF(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const s=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:jF,realtime:BF,auth:Rt(Rt({},qF),{},{storageKey:s}),global:$F},c=YF(n??{},u);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=c.auth)!==null&&f!==void 0?f:{},this.headers,c.global.fetch)}this.fetch=KF(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Rt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new MV(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new O5(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new AV(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:a,flowType:s,lock:u,debug:c,throwOnError:f},h,p){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new XF({url:this.authUrl.href,headers:Rt(Rt({},g),h),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:s,lock:u,debug:c,throwOnError:f,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new WV(this.realtimeUrl.href,Rt(Rt({},t),{},{params:Rt(Rt({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const ZF=(t,e,n)=>new QF(t,e,n);function e6(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}e6()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const t6="https://dwbvegnxmyvpolvofkfn.supabase.co",n6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR3YnZlZ254bXl2cG9sdm9ma2ZuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc1Mzg1NTUsImV4cCI6MjA4MzExNDU1NX0.eT5ZSce8H8Yk8pWKyLUYChU0HtmZljywP4eEQd5FkOI",ze=ZF(t6,n6),r6=t=>{let e=t.type,n=t.options;(t.title.includes("Qu partido")||t.title.includes("partido poltico"))&&(!e||e==="binary")&&(e="multiple_choice",(!n||n.length===0)&&(n=["PSOE","PP","Vox","Sumar","Podemos","Junts","ERC","PNV","Bildu","SALF (Alvise)","PACMA","Otros / Blanco"]));const r={id:t.id,title:t.title,category:t.category,description:t.description,createdAt:new Date(t.created_at).getTime(),votes:{support:t.support_count||0,oppose:t.oppose_count||0,neutral:t.neutral_count||0},pros:t.pros||[],cons:t.cons||[],aiAnalysis:t.ai_analysis,hasVoted:t.hasVoted,regionalVotes:t.regionalVotes||{}};return e==="multiple_choice"?{...r,type:"multiple_choice",options:n||[],optionCounts:t.option_counts||{},regionalOptionCounts:t.regional_options||{},userVoteOption:null}:{...r,type:"binary",labelSupport:t.label_support,labelOppose:t.label_oppose,userVoteOption:null}},Jr={async fetchComments(t){const{data:e,error:n}=await ze.from("comments_with_votes").select("*").eq("topic_id",t).order("created_at",{ascending:!1});if(n)throw n;const r=[...new Set(e.map(h=>h.user_id))];let i={};if(r.length>0){const{data:h}=await ze.from("profiles").select("id, username").in("id",r);h==null||h.forEach(p=>{i[p.id]={username:p.username}})}const{data:{session:a}}=await ze.auth.getSession();let s={};if(a!=null&&a.user){const h=e.map(p=>p.id);if(h.length>0){const{data:p}=await ze.from("comment_votes").select("comment_id, vote_type").eq("user_id",a.user.id).in("comment_id",h);p==null||p.forEach(g=>{s[g.comment_id]=g.vote_type})}}const u=e.map(h=>{var b;const p=(b=i[h.user_id])==null?void 0:b.username,g="Ciudadano "+h.user_id.slice(0,4);return{id:h.id,topicId:t,userId:h.user_id,userName:p||g,avatar:h.avatar_url||`https://api.dicebear.com/7.x/avataaars/svg?seed=${h.user_id}`,content:h.content,region:h.region,createdAt:h.created_at,isFake:h.is_fake,upvotes:h.upvotes||0,downvotes:h.downvotes||0,userVote:s[h.id]||null,parentId:h.parent_id,replies:[]}}),c={};u.forEach(h=>c[h.id]=h);const f=[];return u.forEach(h=>{var p;h.parentId&&c[h.parentId]?(p=c[h.parentId].replies)==null||p.push(h):f.push(h)}),f.sort((h,p)=>0),f.forEach(h=>{h.replies&&h.replies.reverse()}),f},async voteComment(t,e){const{data:{user:n}}=await ze.auth.getUser();if(!n)throw new Error("Must be logged in");const{data:r}=await ze.from("comment_votes").select("*").eq("comment_id",t).eq("user_id",n.id).single();return r?r.vote_type===e?(await ze.from("comment_votes").delete().eq("comment_id",t).eq("user_id",n.id),null):(await ze.from("comment_votes").update({vote_type:e}).eq("comment_id",t).eq("user_id",n.id),e):(await ze.from("comment_votes").insert({comment_id:t,user_id:n.id,vote_type:e}),e)},async postComment(t,e,n,r){const{data:i,error:a}=await ze.from("comments").insert({topic_id:t,user_id:n,content:e,parent_id:r}).select().single();if(a)throw a;return i},async fetchTopics(t){let e=ze.from("topics_with_stats").select("*, regional_options, option_counts, options, type").order("created_at",{ascending:!1});t&&(e=e.eq("category",t));const{data:n,error:r}=await e;if(r)throw r;return n.map(r6)},async createTopic(t){const{data:e,error:n}=await ze.from("topics").insert({title:t.title,category:t.category,description:t.description,pros:t.pros,cons:t.cons,ai_analysis:t.aiAnalysis,label_support:t.labelSupport,label_oppose:t.labelOppose,type:t.type||"binary",options:t.options||[]}).select().single();if(n)throw n;return e},async castVote(t,e,n,r){const{error:i}=await ze.from("votes").insert({topic_id:t,choice:e,region:n,choice_option:r});if(i)throw i.code==="23505"?new Error("Ya has votado en este tema."):i;return!0},async fetchUserVotes(t){const{data:e,error:n}=await ze.from("votes").select(`
                *,
                topic:topics (title, category)
            `).eq("user_id",t).order("created_at",{ascending:!1});if(n)throw n;return e},async updateUserProfile(t,e){const{error:n}=await ze.from("profiles").update(e).eq("id",t);if(n)throw n;return!0},async fetchUserCount(){const{count:t,error:e}=await ze.from("profiles").select("*",{count:"exact",head:!0});if(e)throw e;return t||0}},vR={PSOE:"#E30613",PP:"#0056A7",Vox:"#63BE21",Sumar:"#E51C55",Podemos:"#6B1F5F",Junts:"#00C3B2",ERC:"#FFD700",PNV:"#008000",Bildu:"#B5CF18",SALF:"#A0522D",PACMA:"#9ACD32",Ciudadanos:"#EB6109",Otros:"#808080","En blanco":"#FFFFFF"},i6=t=>{const e=Object.keys(vR).find(n=>t.includes(n));return e?vR[e]:"#aaaaaa"},a6=({topic:t})=>{const e=t.type==="multiple_choice"?Object.values(t.optionCounts).reduce((r,i)=>r+i,0):t.votes.support+t.votes.oppose+t.votes.neutral,n=e>0?Math.round(t.votes.support/e*100):0;return R.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 hover:shadow-xl transition-shadow duration-300 group",children:[R.jsxs("div",{className:"flex justify-between items-start mb-4",children:[R.jsx("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-xs font-semibold bg-indigo-50 text-indigo-700",children:t.category}),R.jsx("span",{className:"text-gray-400 text-xs",children:new Date(t.createdAt).toLocaleDateString()})]}),R.jsx(bn,{to:`/topic/${t.id}`,children:R.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-indigo-600 transition-colors mb-2",children:t.title})}),R.jsx("p",{className:"text-gray-600 line-clamp-3 mb-6 text-sm",children:t.description}),R.jsxs("div",{className:"space-y-2",children:[R.jsxs("div",{className:"flex justify-between text-xs font-semibold text-gray-500",children:[R.jsxs("span",{children:[e.toLocaleString()," Votos"]}),t.type==="binary"&&R.jsxs("span",{children:[n,"% A favor"]}),t.type==="multiple_choice"&&R.jsx("span",{children:"Multirespuesta"})]}),R.jsx("div",{className:"h-2 w-full bg-gray-100 rounded-full overflow-hidden flex",children:e===0?R.jsx("div",{className:"w-full h-full bg-gray-200"}):t.type==="multiple_choice"?Object.entries(t.optionCounts).sort((r,i)=>i[1]-r[1]).map(([r,i])=>R.jsx("div",{className:"h-full",style:{width:`${i/e*100}%`,backgroundColor:i6(r)},title:`${r}: ${i}`},r)):R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"bg-green-500 h-full",style:{width:`${t.votes.support/e*100}%`}}),R.jsx("div",{className:"bg-red-500 h-full",style:{width:`${t.votes.oppose/e*100}%`}}),R.jsx("div",{className:"bg-gray-400 h-full",style:{width:`${t.votes.neutral/e*100}%`}})]})})]}),R.jsx(bn,{to:`/topic/${t.id}`,className:"mt-6 block w-full text-center py-2.5 px-4 bg-gray-50 text-gray-900 font-bold rounded-xl hover:bg-gray-100 transition-colors",children:"Ver Anlisis"})]})},a$=({topics:t,title:e="Temas en Tendencia",showFilters:n=!0})=>R.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[R.jsxs("header",{className:"mb-12 text-center",children:[R.jsxs("h1",{className:"text-4xl sm:text-5xl font-extrabold text-gray-900 mb-4 tracking-tight",children:["Democracia impulsada por ",R.jsx("span",{className:"text-indigo-600",children:"Inteligencia Popular"})]}),R.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Explora los debates polticos actuales, emite tu voto y obtn anlisis equilibrados potenciados por IA avanzada."})]}),R.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 space-y-4 md:space-y-0",children:[R.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e}),n&&R.jsx("div",{className:"flex flex-wrap gap-2",children:["Todos","Economa","Medio Ambiente","Social","Legal"].map(r=>R.jsx("button",{className:"px-4 py-2 rounded-full text-sm font-medium text-gray-600 hover:bg-gray-100 transition border border-gray-200",children:r},r))})]}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(r=>R.jsx(a6,{topic:r},r.id))}),t.length===0&&R.jsx("div",{className:"text-center py-20 bg-white rounded-3xl border-2 border-dashed border-gray-300",children:R.jsx("p",{className:"text-gray-500 text-lg",children:"No hay temas activos. Por qu no propones uno?"})})]});function o$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=o$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ke(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=o$(t))&&(r&&(r+=" "),r+=e);return r}var wy,yR;function Nn(){if(yR)return wy;yR=1;var t=Array.isArray;return wy=t,wy}var Sy,bR;function s$(){if(bR)return Sy;bR=1;var t=typeof Ud=="object"&&Ud&&Ud.Object===Object&&Ud;return Sy=t,Sy}var xy,_R;function ni(){if(_R)return xy;_R=1;var t=s$(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return xy=n,xy}var Ey,wR;function ff(){if(wR)return Ey;wR=1;var t=ni(),e=t.Symbol;return Ey=e,Ey}var Ty,SR;function o6(){if(SR)return Ty;SR=1;var t=ff(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(s){var u=n.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var h=r.call(s);return f&&(u?s[i]=c:delete s[i]),h}return Ty=a,Ty}var Ay,xR;function s6(){if(xR)return Ay;xR=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Ay=n,Ay}var Cy,ER;function Bi(){if(ER)return Cy;ER=1;var t=ff(),e=o6(),n=s6(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(u){return u==null?u===void 0?i:r:a&&a in Object(u)?e(u):n(u)}return Cy=s,Cy}var Oy,TR;function Hi(){if(TR)return Oy;TR=1;function t(e){return e!=null&&typeof e=="object"}return Oy=t,Oy}var Ry,AR;function Ol(){if(AR)return Ry;AR=1;var t=Bi(),e=Hi(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return Ry=r,Ry}var Py,CR;function aE(){if(CR)return Py;CR=1;var t=Nn(),e=Ol(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){if(t(a))return!1;var u=typeof a;return u=="number"||u=="symbol"||u=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||s!=null&&a in Object(s)}return Py=i,Py}var My,OR;function Ra(){if(OR)return My;OR=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return My=t,My}var Ny,RR;function oE(){if(RR)return Ny;RR=1;var t=Bi(),e=Ra(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(u){if(!e(u))return!1;var c=t(u);return c==r||c==i||c==n||c==a}return Ny=s,Ny}var Iy,PR;function l6(){if(PR)return Iy;PR=1;var t=ni(),e=t["__core-js_shared__"];return Iy=e,Iy}var Dy,MR;function u6(){if(MR)return Dy;MR=1;var t=l6(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return Dy=n,Dy}var ky,NR;function l$(){if(NR)return ky;NR=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return ky=n,ky}var Ly,IR;function c6(){if(IR)return Ly;IR=1;var t=oE(),e=u6(),n=Ra(),r=l$(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,c=s.toString,f=u.hasOwnProperty,h=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!n(g)||e(g))return!1;var b=t(g)?h:a;return b.test(r(g))}return Ly=p,Ly}var Uy,DR;function f6(){if(DR)return Uy;DR=1;function t(e,n){return e==null?void 0:e[n]}return Uy=t,Uy}var $y,kR;function Mo(){if(kR)return $y;kR=1;var t=c6(),e=f6();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return $y=n,$y}var jy,LR;function Kp(){if(LR)return jy;LR=1;var t=Mo(),e=t(Object,"create");return jy=e,jy}var qy,UR;function d6(){if(UR)return qy;UR=1;var t=Kp();function e(){this.__data__=t?t(null):{},this.size=0}return qy=e,qy}var By,$R;function h6(){if($R)return By;$R=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return By=t,By}var Hy,jR;function p6(){if(jR)return Hy;jR=1;var t=Kp(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var s=this.__data__;if(t){var u=s[a];return u===e?void 0:u}return r.call(s,a)?s[a]:void 0}return Hy=i,Hy}var Gy,qR;function m6(){if(qR)return Gy;qR=1;var t=Kp(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return Gy=r,Gy}var zy,BR;function g6(){if(BR)return zy;BR=1;var t=Kp(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return zy=n,zy}var Vy,HR;function v6(){if(HR)return Vy;HR=1;var t=d6(),e=h6(),n=p6(),r=m6(),i=g6();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Vy=a,Vy}var Fy,GR;function y6(){if(GR)return Fy;GR=1;function t(){this.__data__=[],this.size=0}return Fy=t,Fy}var Ky,zR;function sE(){if(zR)return Ky;zR=1;function t(e,n){return e===n||e!==e&&n!==n}return Ky=t,Ky}var Wy,VR;function Wp(){if(VR)return Wy;VR=1;var t=sE();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return Wy=e,Wy}var Yy,FR;function b6(){if(FR)return Yy;FR=1;var t=Wp(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var u=a.length-1;return s==u?a.pop():n.call(a,s,1),--this.size,!0}return Yy=r,Yy}var Jy,KR;function _6(){if(KR)return Jy;KR=1;var t=Wp();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Jy=e,Jy}var Xy,WR;function w6(){if(WR)return Xy;WR=1;var t=Wp();function e(n){return t(this.__data__,n)>-1}return Xy=e,Xy}var Qy,YR;function S6(){if(YR)return Qy;YR=1;var t=Wp();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return Qy=e,Qy}var Zy,JR;function Yp(){if(JR)return Zy;JR=1;var t=y6(),e=b6(),n=_6(),r=w6(),i=S6();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Zy=a,Zy}var e0,XR;function lE(){if(XR)return e0;XR=1;var t=Mo(),e=ni(),n=t(e,"Map");return e0=n,e0}var t0,QR;function x6(){if(QR)return t0;QR=1;var t=v6(),e=Yp(),n=lE();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return t0=r,t0}var n0,ZR;function E6(){if(ZR)return n0;ZR=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return n0=t,n0}var r0,eP;function Jp(){if(eP)return r0;eP=1;var t=E6();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return r0=e,r0}var i0,tP;function T6(){if(tP)return i0;tP=1;var t=Jp();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return i0=e,i0}var a0,nP;function A6(){if(nP)return a0;nP=1;var t=Jp();function e(n){return t(this,n).get(n)}return a0=e,a0}var o0,rP;function C6(){if(rP)return o0;rP=1;var t=Jp();function e(n){return t(this,n).has(n)}return o0=e,o0}var s0,iP;function O6(){if(iP)return s0;iP=1;var t=Jp();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return s0=e,s0}var l0,aP;function uE(){if(aP)return l0;aP=1;var t=x6(),e=T6(),n=A6(),r=C6(),i=O6();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,l0=a,l0}var u0,oP;function u$(){if(oP)return u0;oP=1;var t=uE(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,u=i?i.apply(this,s):s[0],c=a.cache;if(c.has(u))return c.get(u);var f=r.apply(this,s);return a.cache=c.set(u,f)||c,f};return a.cache=new(n.Cache||t),a}return n.Cache=t,u0=n,u0}var c0,sP;function R6(){if(sP)return c0;sP=1;var t=u$(),e=500;function n(r){var i=t(r,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return c0=n,c0}var f0,lP;function P6(){if(lP)return f0;lP=1;var t=R6(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,u,c,f){a.push(c?f.replace(n,"$1"):u||s)}),a});return f0=r,f0}var d0,uP;function cE(){if(uP)return d0;uP=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return d0=t,d0}var h0,cP;function M6(){if(cP)return h0;cP=1;var t=ff(),e=cE(),n=Nn(),r=Ol(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(u){if(typeof u=="string")return u;if(n(u))return e(u,s)+"";if(r(u))return a?a.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}return h0=s,h0}var p0,fP;function c$(){if(fP)return p0;fP=1;var t=M6();function e(n){return n==null?"":t(n)}return p0=e,p0}var m0,dP;function f$(){if(dP)return m0;dP=1;var t=Nn(),e=aE(),n=P6(),r=c$();function i(a,s){return t(a)?a:e(a,s)?[a]:n(r(a))}return m0=i,m0}var g0,hP;function Xp(){if(hP)return g0;hP=1;var t=Ol();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return g0=e,g0}var v0,pP;function fE(){if(pP)return v0;pP=1;var t=f$(),e=Xp();function n(r,i){i=t(i,r);for(var a=0,s=i.length;r!=null&&a<s;)r=r[e(i[a++])];return a&&a==s?r:void 0}return v0=n,v0}var y0,mP;function d$(){if(mP)return y0;mP=1;var t=fE();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return y0=e,y0}var N6=d$();const Wn=Ve(N6);var b0,gP;function I6(){if(gP)return b0;gP=1;function t(e){return e==null}return b0=t,b0}var D6=I6();const Ue=Ve(D6);var _0,vP;function k6(){if(vP)return _0;vP=1;var t=Bi(),e=Nn(),n=Hi(),r="[object String]";function i(a){return typeof a=="string"||!e(a)&&n(a)&&t(a)==r}return _0=i,_0}var L6=k6();const So=Ve(L6);var U6=oE();const Oe=Ve(U6);var $6=Ra();const Rl=Ve($6);var w0={exports:{}},Qe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yP;function j6(){if(yP)return Qe;yP=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function E(w){if(typeof w=="object"&&w!==null){var T=w.$$typeof;switch(T){case t:switch(w=w.type,w){case n:case i:case r:case f:case h:return w;default:switch(w=w&&w.$$typeof,w){case u:case s:case c:case g:case p:case a:return w;default:return T}}case e:return T}}}return Qe.ContextConsumer=s,Qe.ContextProvider=a,Qe.Element=t,Qe.ForwardRef=c,Qe.Fragment=n,Qe.Lazy=g,Qe.Memo=p,Qe.Portal=e,Qe.Profiler=i,Qe.StrictMode=r,Qe.Suspense=f,Qe.SuspenseList=h,Qe.isAsyncMode=function(){return!1},Qe.isConcurrentMode=function(){return!1},Qe.isContextConsumer=function(w){return E(w)===s},Qe.isContextProvider=function(w){return E(w)===a},Qe.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},Qe.isForwardRef=function(w){return E(w)===c},Qe.isFragment=function(w){return E(w)===n},Qe.isLazy=function(w){return E(w)===g},Qe.isMemo=function(w){return E(w)===p},Qe.isPortal=function(w){return E(w)===e},Qe.isProfiler=function(w){return E(w)===i},Qe.isStrictMode=function(w){return E(w)===r},Qe.isSuspense=function(w){return E(w)===f},Qe.isSuspenseList=function(w){return E(w)===h},Qe.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===f||w===h||w===b||typeof w=="object"&&w!==null&&(w.$$typeof===g||w.$$typeof===p||w.$$typeof===a||w.$$typeof===s||w.$$typeof===c||w.$$typeof===x||w.getModuleId!==void 0)},Qe.typeOf=E,Qe}var bP;function q6(){return bP||(bP=1,w0.exports=j6()),w0.exports}var B6=q6(),S0,_P;function h$(){if(_P)return S0;_P=1;var t=Bi(),e=Hi(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return S0=r,S0}var x0,wP;function H6(){if(wP)return x0;wP=1;var t=h$();function e(n){return t(n)&&n!=+n}return x0=e,x0}var G6=H6();const df=Ve(G6);var z6=h$();const V6=Ve(z6);var _n=function(e){return e===0?0:e>0?1:-1},po=function(e){return So(e)&&e.indexOf("%")===e.length-1},he=function(e){return V6(e)&&!df(e)},F6=function(e){return Ue(e)},Vt=function(e){return he(e)||So(e)},K6=0,hf=function(e){var n=++K6;return"".concat(e||"").concat(n)},wn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!he(e)&&!So(e))return r;var a;if(po(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return df(a)&&(a=r),i&&a>n&&(a=n),a},xa=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},W6=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},_a=function(e,n){return he(e)&&he(n)?function(r){return e+r*(n-e)}:function(){return n}};function Yw(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Wn(r,e))===n})}var Y6=function(e,n){return he(e)&&he(n)?e-n:So(e)&&So(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Ks(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Jw(t){"@babel/helpers - typeof";return Jw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jw(t)}var J6=["viewBox","children"],X6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],SP=["points","pathLength"],E0={svg:J6,polygon:SP,polyline:SP},dE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Rh=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),!Rl(r))return null;var i={};return Object.keys(r).forEach(function(a){dE.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},Q6=function(e,n,r){return function(i){return e(n,r,i),null}},xo=function(e,n,r){if(!Rl(e)||Jw(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];dE.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=Q6(s,n,r))}),i},Z6=["children"],e8=["children"];function xP(t,e){if(t==null)return{};var n=t8(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function t8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var EP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ni=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},TP=null,T0=null,hE=function t(e){if(e===TP&&Array.isArray(T0))return T0;var n=[];return j.Children.forEach(e,function(r){Ue(r)||(B6.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),T0=n,TP=e,n};function hr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ni(i)}):r=[Ni(e)],hE(t).forEach(function(i){var a=Wn(i,"type.displayName")||Wn(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function zn(t,e){var n=hr(t,e);return n&&n[0]}var AP=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!he(r)||r<=0||!he(i)||i<=0)},n8=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],r8=function(e){return e&&e.type&&So(e.type)&&n8.indexOf(e.type)>=0},i8=function(e,n,r,i){var a,s=(a=E0==null?void 0:E0[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Oe(e)&&(i&&s.includes(n)||X6.includes(n))||r&&dE.includes(n)},Ae=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(j.isValidElement(e)&&(i=e.props),!Rl(i))return null;var a={};return Object.keys(i).forEach(function(s){var u;i8((u=i)===null||u===void 0?void 0:u[s],s,n,r)&&(a[s]=i[s])}),a},Xw=function t(e,n){if(e===n)return!0;var r=j.Children.count(e);if(r!==j.Children.count(n))return!1;if(r===0)return!0;if(r===1)return CP(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!CP(a,s))return!1}return!0},CP=function(e,n){if(Ue(e)&&Ue(n))return!0;if(!Ue(e)&&!Ue(n)){var r=e.props||{},i=r.children,a=xP(r,Z6),s=n.props||{},u=s.children,c=xP(s,e8);return i&&u?Ks(a,c)&&Xw(i,u):!i&&!u?Ks(a,c):!1}return!1},OP=function(e,n){var r=[],i={};return hE(e).forEach(function(a,s){if(r8(a))r.push(a);else if(a){var u=Ni(a.type),c=n[u]||{},f=c.handler,h=c.once;if(f&&(!h||!i[u])){var p=f(a,u,s);r.push(p),i[u]=!0}}}),r},a8=function(e){var n=e&&e.type;return n&&EP[n]?EP[n]:null},o8=function(e,n){return hE(n).indexOf(e)},s8=["children","width","height","viewBox","className","style","title","desc"];function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qw.apply(this,arguments)}function l8(t,e){if(t==null)return{};var n=u8(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function u8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zw(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,u=t.title,c=t.desc,f=l8(t,s8),h=i||{width:n,height:r,x:0,y:0},p=ke("recharts-surface",a);return z.createElement("svg",Qw({},Ae(f,!0,"svg"),{className:p,width:n,height:r,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),z.createElement("title",null,u),z.createElement("desc",null,c),e)}var c8=["children","className"];function eS(){return eS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eS.apply(this,arguments)}function f8(t,e){if(t==null)return{};var n=d8(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function d8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var rt=z.forwardRef(function(t,e){var n=t.children,r=t.className,i=f8(t,c8),a=ke("recharts-layer",r);return z.createElement("g",eS({className:a},Ae(i,!0),{ref:e}),n)}),kr=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},A0,RP;function h8(){if(RP)return A0;RP=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+n];return s}return A0=t,A0}var C0,PP;function p8(){if(PP)return C0;PP=1;var t=h8();function e(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:t(n,r,i)}return C0=e,C0}var O0,MP;function p$(){if(MP)return O0;MP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",s="\\u200d",u=RegExp("["+s+t+i+a+"]");function c(f){return u.test(f)}return O0=c,O0}var R0,NP;function m8(){if(NP)return R0;NP=1;function t(e){return e.split("")}return R0=t,R0}var P0,IP;function g8(){if(IP)return P0;IP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",s="["+t+"]",u="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+c+")",h="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",x=f+"?",E="["+a+"]?",w="(?:"+b+"(?:"+[h,p,g].join("|")+")"+E+x+")*",T=E+x+w,C="(?:"+[h+u+"?",u,p,g,s].join("|")+")",A=RegExp(c+"(?="+c+")|"+C+T,"g");function P(O){return O.match(A)||[]}return P0=P,P0}var M0,DP;function v8(){if(DP)return M0;DP=1;var t=m8(),e=p$(),n=g8();function r(i){return e(i)?n(i):t(i)}return M0=r,M0}var N0,kP;function y8(){if(kP)return N0;kP=1;var t=p8(),e=p$(),n=v8(),r=c$();function i(a){return function(s){s=r(s);var u=e(s)?n(s):void 0,c=u?u[0]:s.charAt(0),f=u?t(u,1).join(""):s.slice(1);return c[a]()+f}}return N0=i,N0}var I0,LP;function b8(){if(LP)return I0;LP=1;var t=y8(),e=t("toUpperCase");return I0=e,I0}var _8=b8();const Qp=Ve(_8);function dt(t){return function(){return t}}const m$=Math.cos,Ph=Math.sin,$r=Math.sqrt,Mh=Math.PI,Zp=2*Mh,tS=Math.PI,nS=2*tS,ao=1e-6,w8=nS-ao;function g$(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function S8(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return g$;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class pE{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?g$:S8(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,u=this._y1,c=r-e,f=i-n,h=s-e,p=u-n,g=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>ao)if(!(Math.abs(p*c-f*h)>ao)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-s,x=i-u,E=c*c+f*f,w=b*b+x*x,T=Math.sqrt(E),C=Math.sqrt(g),A=a*Math.tan((tS-Math.acos((E+g-w)/(2*T*C)))/2),P=A/C,O=A/T;Math.abs(P-1)>ao&&this._append`L${e+P*h},${n+P*p}`,this._append`A${a},${a},0,0,${+(p*b>h*x)},${this._x1=e+O*c},${this._y1=n+O*f}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),f=e+u,h=n+c,p=1^s,g=s?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>ao||Math.abs(this._y1-h)>ao)&&this._append`L${f},${h}`,r&&(g<0&&(g=g%nS+nS),g>w8?this._append`A${r},${r},0,1,${p},${e-u},${n-c}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:g>ao&&this._append`A${r},${r},0,${+(g>=tS)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function v$(){return new pE}v$.prototype=pE.prototype;function mE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new pE(e)}function gE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function y$(t){this._context=t}y$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function em(t){return new y$(t)}function b$(t){return t[0]}function _$(t){return t[1]}function w$(t,e){var n=dt(!0),r=null,i=em,a=null,s=mE(u);t=typeof t=="function"?t:t===void 0?b$:dt(t),e=typeof e=="function"?e:e===void 0?_$:dt(e);function u(c){var f,h=(c=gE(c)).length,p,g=!1,b;for(r==null&&(a=i(b=s())),f=0;f<=h;++f)!(f<h&&n(p=c[f],f,c))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+t(p,f,c),+e(p,f,c));if(b)return a=null,b+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:dt(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:dt(+c),u):e},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:dt(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),u):r},u}function zd(t,e,n){var r=null,i=dt(!0),a=null,s=em,u=null,c=mE(f);t=typeof t=="function"?t:t===void 0?b$:dt(+t),e=typeof e=="function"?e:dt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?_$:dt(+n);function f(p){var g,b,x,E=(p=gE(p)).length,w,T=!1,C,A=new Array(E),P=new Array(E);for(a==null&&(u=s(C=c())),g=0;g<=E;++g){if(!(g<E&&i(w=p[g],g,p))===T)if(T=!T)b=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),x=g-1;x>=b;--x)u.point(A[x],P[x]);u.lineEnd(),u.areaEnd()}T&&(A[g]=+t(w,g,p),P[g]=+e(w,g,p),u.point(r?+r(w,g,p):A[g],n?+n(w,g,p):P[g]))}if(C)return u=null,C+""||null}function h(){return w$().defined(i).curve(s).context(a)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:dt(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:dt(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:dt(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:dt(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:dt(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:dt(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:dt(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,a!=null&&(u=s(a)),f):s},f.context=function(p){return arguments.length?(p==null?a=u=null:u=s(a=p),f):a},f}class S${constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function x8(t){return new S$(t,!0)}function E8(t){return new S$(t,!1)}const vE={draw(t,e){const n=$r(e/Mh);t.moveTo(n,0),t.arc(0,0,n,0,Zp)}},T8={draw(t,e){const n=$r(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},x$=$r(1/3),A8=x$*2,C8={draw(t,e){const n=$r(e/A8),r=n*x$;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},O8={draw(t,e){const n=$r(e),r=-n/2;t.rect(r,r,n,n)}},R8=.8908130915292852,E$=Ph(Mh/10)/Ph(7*Mh/10),P8=Ph(Zp/10)*E$,M8=-m$(Zp/10)*E$,N8={draw(t,e){const n=$r(e*R8),r=P8*n,i=M8*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=Zp*a/5,u=m$(s),c=Ph(s);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},D0=$r(3),I8={draw(t,e){const n=-$r(e/(D0*3));t.moveTo(0,n*2),t.lineTo(-D0*n,-n),t.lineTo(D0*n,-n),t.closePath()}},ar=-.5,or=$r(3)/2,rS=1/$r(12),D8=(rS/2+1)*3,k8={draw(t,e){const n=$r(e/D8),r=n/2,i=n*rS,a=r,s=n*rS+n,u=-a,c=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(u,c),t.lineTo(ar*r-or*i,or*r+ar*i),t.lineTo(ar*a-or*s,or*a+ar*s),t.lineTo(ar*u-or*c,or*u+ar*c),t.lineTo(ar*r+or*i,ar*i-or*r),t.lineTo(ar*a+or*s,ar*s-or*a),t.lineTo(ar*u+or*c,ar*c-or*u),t.closePath()}};function L8(t,e){let n=null,r=mE(i);t=typeof t=="function"?t:dt(t||vE),e=typeof e=="function"?e:dt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:dt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:dt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Nh(){}function Ih(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function T$(t){this._context=t}T$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ih(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ih(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function U8(t){return new T$(t)}function A$(t){this._context=t}A$.prototype={areaStart:Nh,areaEnd:Nh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ih(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $8(t){return new A$(t)}function C$(t){this._context=t}C$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ih(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function j8(t){return new C$(t)}function O$(t){this._context=t}O$.prototype={areaStart:Nh,areaEnd:Nh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function q8(t){return new O$(t)}function UP(t){return t<0?-1:1}function $P(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),u=(a*i+s*r)/(r+i);return(UP(a)+UP(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(u))||0}function jP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function k0(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,s-u*n,a,s)}function Dh(t){this._context=t}Dh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:k0(this,this._t0,jP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,k0(this,jP(this,n=$P(this,t,e)),n);break;default:k0(this,this._t0,n=$P(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function R$(t){this._context=new P$(t)}(R$.prototype=Object.create(Dh.prototype)).point=function(t,e){Dh.prototype.point.call(this,e,t)};function P$(t){this._context=t}P$.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function B8(t){return new Dh(t)}function H8(t){return new R$(t)}function M$(t){this._context=t}M$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=qP(t),i=qP(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function qP(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function G8(t){return new M$(t)}function tm(t,e){this._context=t,this._t=e}tm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function z8(t){return new tm(t,.5)}function V8(t){return new tm(t,0)}function F8(t){return new tm(t,1)}function Zs(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,u=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function iS(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function K8(t,e){return t[e]}function W8(t){const e=[];return e.key=t,e}function Y8(){var t=dt([]),e=iS,n=Zs,r=K8;function i(a){var s=Array.from(t.apply(this,arguments),W8),u,c=s.length,f=-1,h;for(const p of a)for(u=0,++f;u<c;++u)(s[u][f]=[0,+r(p,s[u].key,f,a)]).data=p;for(u=0,h=gE(e(s));u<c;++u)s[h[u]].index=u;return n(s,h),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:dt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:dt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?iS:typeof a=="function"?a:dt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Zs,i):n},i}function J8(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Zs(t,e)}}function X8(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,u=0;s<i;++s)u+=t[s][n][1]||0;r[n][1]+=r[n][0]=-u/2}Zs(t,e)}}function Q8(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var u=0,c=0,f=0;u<s;++u){for(var h=t[e[u]],p=h[r][1]||0,g=h[r-1][1]||0,b=(p-g)/2,x=0;x<u;++x){var E=t[e[x]],w=E[r][1]||0,T=E[r-1][1]||0;b+=w-T}c+=p,f+=b*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,Zs(t,e)}}function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}var Z8=["type","size","sizeType"];function aS(){return aS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aS.apply(this,arguments)}function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){e9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e9(t,e,n){return e=t9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t9(t){var e=n9(t,"string");return _c(e)=="symbol"?e:e+""}function n9(t,e){if(_c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r9(t,e){if(t==null)return{};var n=i9(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function i9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var N$={symbolCircle:vE,symbolCross:T8,symbolDiamond:C8,symbolSquare:O8,symbolStar:N8,symbolTriangle:I8,symbolWye:k8},a9=Math.PI/180,o9=function(e){var n="symbol".concat(Qp(e));return N$[n]||vE},s9=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*a9;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},l9=function(e,n){N$["symbol".concat(Qp(e))]=n},yE=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,u=s===void 0?"area":s,c=r9(e,Z8),f=HP(HP({},c),{},{type:r,size:a,sizeType:u}),h=function(){var w=o9(r),T=L8().type(w).size(s9(a,u,r));return T()},p=f.className,g=f.cx,b=f.cy,x=Ae(f,!0);return g===+g&&b===+b&&a===+a?z.createElement("path",aS({},x,{className:ke("recharts-symbols",p),transform:"translate(".concat(g,", ").concat(b,")"),d:h()})):null};yE.registerSymbol=l9;function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function oS(){return oS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oS.apply(this,arguments)}function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){wc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D$(r.key),r)}}function d9(t,e,n){return e&&f9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function h9(t,e,n){return e=kh(e),p9(t,I$()?Reflect.construct(e,n||[],kh(t).constructor):e.apply(t,n))}function p9(t,e){if(e&&(el(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m9(t)}function m9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I$=function(){return!!t})()}function kh(t){return kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kh(t)}function g9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sS(t,e)}function sS(t,e){return sS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sS(t,e)}function wc(t,e,n){return e=D$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D$(t){var e=v9(t,"string");return el(e)=="symbol"?e:e+""}function v9(t,e){if(el(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sr=32,bE=(function(t){function e(){return c9(this,e),h9(this,e,arguments)}return g9(e,t),d9(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=sr/2,s=sr/6,u=sr/3,c=r.inactive?i:r.color;if(r.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:sr,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(u,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*u,",").concat(a,`
            H`).concat(sr,"M").concat(2*u,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(u,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return z.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(sr/8,"h").concat(sr,"v").concat(sr*3/4,"h").concat(-sr,"z"),className:"recharts-legend-icon"});if(z.isValidElement(r.legendIcon)){var f=u9({},r);return delete f.legendIcon,z.cloneElement(r.legendIcon,f)}return z.createElement(yE,{fill:c,cx:a,cy:a,size:sr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,u=i.layout,c=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:sr,height:sr},p={display:u==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(b,x){var E=b.formatter||c,w=ke(wc(wc({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",b.inactive));if(b.type==="none")return null;var T=Oe(b.value)?null:b.value;kr(!Oe(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=b.inactive?f:b.color;return z.createElement("li",oS({className:w,style:p,key:"legend-item-".concat(x)},xo(r.props,b,x)),z.createElement(Zw,{width:s,height:s,viewBox:h,style:g},r.renderIcon(b)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},E?E(T,b,x):T))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(j.PureComponent);wc(bE,"displayName","Legend");wc(bE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var L0,zP;function y9(){if(zP)return L0;zP=1;var t=Yp();function e(){this.__data__=new t,this.size=0}return L0=e,L0}var U0,VP;function b9(){if(VP)return U0;VP=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return U0=t,U0}var $0,FP;function _9(){if(FP)return $0;FP=1;function t(e){return this.__data__.get(e)}return $0=t,$0}var j0,KP;function w9(){if(KP)return j0;KP=1;function t(e){return this.__data__.has(e)}return j0=t,j0}var q0,WP;function S9(){if(WP)return q0;WP=1;var t=Yp(),e=lE(),n=uE(),r=200;function i(a,s){var u=this.__data__;if(u instanceof t){var c=u.__data__;if(!e||c.length<r-1)return c.push([a,s]),this.size=++u.size,this;u=this.__data__=new n(c)}return u.set(a,s),this.size=u.size,this}return q0=i,q0}var B0,YP;function k$(){if(YP)return B0;YP=1;var t=Yp(),e=y9(),n=b9(),r=_9(),i=w9(),a=S9();function s(u){var c=this.__data__=new t(u);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=a,B0=s,B0}var H0,JP;function x9(){if(JP)return H0;JP=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return H0=e,H0}var G0,XP;function E9(){if(XP)return G0;XP=1;function t(e){return this.__data__.has(e)}return G0=t,G0}var z0,QP;function L$(){if(QP)return z0;QP=1;var t=uE(),e=x9(),n=E9();function r(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,z0=r,z0}var V0,ZP;function U$(){if(ZP)return V0;ZP=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return V0=t,V0}var F0,eM;function $$(){if(eM)return F0;eM=1;function t(e,n){return e.has(n)}return F0=t,F0}var K0,tM;function j$(){if(tM)return K0;tM=1;var t=L$(),e=U$(),n=$$(),r=1,i=2;function a(s,u,c,f,h,p){var g=c&r,b=s.length,x=u.length;if(b!=x&&!(g&&x>b))return!1;var E=p.get(s),w=p.get(u);if(E&&w)return E==u&&w==s;var T=-1,C=!0,A=c&i?new t:void 0;for(p.set(s,u),p.set(u,s);++T<b;){var P=s[T],O=u[T];if(f)var M=g?f(O,P,T,u,s,p):f(P,O,T,s,u,p);if(M!==void 0){if(M)continue;C=!1;break}if(A){if(!e(u,function(I,k){if(!n(A,k)&&(P===I||h(P,I,c,f,p)))return A.push(k)})){C=!1;break}}else if(!(P===O||h(P,O,c,f,p))){C=!1;break}}return p.delete(s),p.delete(u),C}return K0=a,K0}var W0,nM;function T9(){if(nM)return W0;nM=1;var t=ni(),e=t.Uint8Array;return W0=e,W0}var Y0,rM;function A9(){if(rM)return Y0;rM=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return Y0=t,Y0}var J0,iM;function _E(){if(iM)return J0;iM=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return J0=t,J0}var X0,aM;function C9(){if(aM)return X0;aM=1;var t=ff(),e=T9(),n=sE(),r=j$(),i=A9(),a=_E(),s=1,u=2,c="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Map]",g="[object Number]",b="[object RegExp]",x="[object Set]",E="[object String]",w="[object Symbol]",T="[object ArrayBuffer]",C="[object DataView]",A=t?t.prototype:void 0,P=A?A.valueOf:void 0;function O(M,I,k,L,G,$,W){switch(k){case C:if(M.byteLength!=I.byteLength||M.byteOffset!=I.byteOffset)return!1;M=M.buffer,I=I.buffer;case T:return!(M.byteLength!=I.byteLength||!$(new e(M),new e(I)));case c:case f:case g:return n(+M,+I);case h:return M.name==I.name&&M.message==I.message;case b:case E:return M==I+"";case p:var F=i;case x:var X=L&s;if(F||(F=a),M.size!=I.size&&!X)return!1;var B=W.get(M);if(B)return B==I;L|=u,W.set(M,I);var U=r(F(M),F(I),L,G,$,W);return W.delete(M),U;case w:if(P)return P.call(M)==P.call(I)}return!1}return X0=O,X0}var Q0,oM;function q$(){if(oM)return Q0;oM=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return Q0=t,Q0}var Z0,sM;function O9(){if(sM)return Z0;sM=1;var t=q$(),e=Nn();function n(r,i,a){var s=i(r);return e(r)?s:t(s,a(r))}return Z0=n,Z0}var eb,lM;function R9(){if(lM)return eb;lM=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,s=[];++r<i;){var u=e[r];n(u,r,e)&&(s[a++]=u)}return s}return eb=t,eb}var tb,uM;function P9(){if(uM)return tb;uM=1;function t(){return[]}return tb=t,tb}var nb,cM;function M9(){if(cM)return nb;cM=1;var t=R9(),e=P9(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(u){return r.call(s,u)}))}:e;return nb=a,nb}var rb,fM;function N9(){if(fM)return rb;fM=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return rb=t,rb}var ib,dM;function I9(){if(dM)return ib;dM=1;var t=Bi(),e=Hi(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return ib=r,ib}var ab,hM;function wE(){if(hM)return ab;hM=1;var t=I9(),e=Hi(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return ab=a,ab}var Yu={exports:{}},ob,pM;function D9(){if(pM)return ob;pM=1;function t(){return!1}return ob=t,ob}Yu.exports;var mM;function B$(){return mM||(mM=1,(function(t,e){var n=ni(),r=D9(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,u=s?n.Buffer:void 0,c=u?u.isBuffer:void 0,f=c||r;t.exports=f})(Yu,Yu.exports)),Yu.exports}var sb,gM;function SE(){if(gM)return sb;gM=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return sb=n,sb}var lb,vM;function xE(){if(vM)return lb;vM=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return lb=e,lb}var ub,yM;function k9(){if(yM)return ub;yM=1;var t=Bi(),e=xE(),n=Hi(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",u="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",p="[object Object]",g="[object RegExp]",b="[object Set]",x="[object String]",E="[object WeakMap]",w="[object ArrayBuffer]",T="[object DataView]",C="[object Float32Array]",A="[object Float64Array]",P="[object Int8Array]",O="[object Int16Array]",M="[object Int32Array]",I="[object Uint8Array]",k="[object Uint8ClampedArray]",L="[object Uint16Array]",G="[object Uint32Array]",$={};$[C]=$[A]=$[P]=$[O]=$[M]=$[I]=$[k]=$[L]=$[G]=!0,$[r]=$[i]=$[w]=$[a]=$[T]=$[s]=$[u]=$[c]=$[f]=$[h]=$[p]=$[g]=$[b]=$[x]=$[E]=!1;function W(F){return n(F)&&e(F.length)&&!!$[t(F)]}return ub=W,ub}var cb,bM;function H$(){if(bM)return cb;bM=1;function t(e){return function(n){return e(n)}}return cb=t,cb}var Ju={exports:{}};Ju.exports;var _M;function L9(){return _M||(_M=1,(function(t,e){var n=s$(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,u=(function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();t.exports=u})(Ju,Ju.exports)),Ju.exports}var fb,wM;function G$(){if(wM)return fb;wM=1;var t=k9(),e=H$(),n=L9(),r=n&&n.isTypedArray,i=r?e(r):t;return fb=i,fb}var db,SM;function U9(){if(SM)return db;SM=1;var t=N9(),e=wE(),n=Nn(),r=B$(),i=SE(),a=G$(),s=Object.prototype,u=s.hasOwnProperty;function c(f,h){var p=n(f),g=!p&&e(f),b=!p&&!g&&r(f),x=!p&&!g&&!b&&a(f),E=p||g||b||x,w=E?t(f.length,String):[],T=w.length;for(var C in f)(h||u.call(f,C))&&!(E&&(C=="length"||b&&(C=="offset"||C=="parent")||x&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||i(C,T)))&&w.push(C);return w}return db=c,db}var hb,xM;function $9(){if(xM)return hb;xM=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return hb=e,hb}var pb,EM;function z$(){if(EM)return pb;EM=1;function t(e,n){return function(r){return e(n(r))}}return pb=t,pb}var mb,TM;function j9(){if(TM)return mb;TM=1;var t=z$(),e=t(Object.keys,Object);return mb=e,mb}var gb,AM;function q9(){if(AM)return gb;AM=1;var t=$9(),e=j9(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var u in Object(a))r.call(a,u)&&u!="constructor"&&s.push(u);return s}return gb=i,gb}var vb,CM;function pf(){if(CM)return vb;CM=1;var t=oE(),e=xE();function n(r){return r!=null&&e(r.length)&&!t(r)}return vb=n,vb}var yb,OM;function nm(){if(OM)return yb;OM=1;var t=U9(),e=q9(),n=pf();function r(i){return n(i)?t(i):e(i)}return yb=r,yb}var bb,RM;function B9(){if(RM)return bb;RM=1;var t=O9(),e=M9(),n=nm();function r(i){return t(i,n,e)}return bb=r,bb}var _b,PM;function H9(){if(PM)return _b;PM=1;var t=B9(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,s,u,c,f,h){var p=u&e,g=t(a),b=g.length,x=t(s),E=x.length;if(b!=E&&!p)return!1;for(var w=b;w--;){var T=g[w];if(!(p?T in s:r.call(s,T)))return!1}var C=h.get(a),A=h.get(s);if(C&&A)return C==s&&A==a;var P=!0;h.set(a,s),h.set(s,a);for(var O=p;++w<b;){T=g[w];var M=a[T],I=s[T];if(c)var k=p?c(I,M,T,s,a,h):c(M,I,T,a,s,h);if(!(k===void 0?M===I||f(M,I,u,c,h):k)){P=!1;break}O||(O=T=="constructor")}if(P&&!O){var L=a.constructor,G=s.constructor;L!=G&&"constructor"in a&&"constructor"in s&&!(typeof L=="function"&&L instanceof L&&typeof G=="function"&&G instanceof G)&&(P=!1)}return h.delete(a),h.delete(s),P}return _b=i,_b}var wb,MM;function G9(){if(MM)return wb;MM=1;var t=Mo(),e=ni(),n=t(e,"DataView");return wb=n,wb}var Sb,NM;function z9(){if(NM)return Sb;NM=1;var t=Mo(),e=ni(),n=t(e,"Promise");return Sb=n,Sb}var xb,IM;function V$(){if(IM)return xb;IM=1;var t=Mo(),e=ni(),n=t(e,"Set");return xb=n,xb}var Eb,DM;function V9(){if(DM)return Eb;DM=1;var t=Mo(),e=ni(),n=t(e,"WeakMap");return Eb=n,Eb}var Tb,kM;function F9(){if(kM)return Tb;kM=1;var t=G9(),e=lE(),n=z9(),r=V$(),i=V9(),a=Bi(),s=l$(),u="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",p="[object WeakMap]",g="[object DataView]",b=s(t),x=s(e),E=s(n),w=s(r),T=s(i),C=a;return(t&&C(new t(new ArrayBuffer(1)))!=g||e&&C(new e)!=u||n&&C(n.resolve())!=f||r&&C(new r)!=h||i&&C(new i)!=p)&&(C=function(A){var P=a(A),O=P==c?A.constructor:void 0,M=O?s(O):"";if(M)switch(M){case b:return g;case x:return u;case E:return f;case w:return h;case T:return p}return P}),Tb=C,Tb}var Ab,LM;function K9(){if(LM)return Ab;LM=1;var t=k$(),e=j$(),n=C9(),r=H9(),i=F9(),a=Nn(),s=B$(),u=G$(),c=1,f="[object Arguments]",h="[object Array]",p="[object Object]",g=Object.prototype,b=g.hasOwnProperty;function x(E,w,T,C,A,P){var O=a(E),M=a(w),I=O?h:i(E),k=M?h:i(w);I=I==f?p:I,k=k==f?p:k;var L=I==p,G=k==p,$=I==k;if($&&s(E)){if(!s(w))return!1;O=!0,L=!1}if($&&!L)return P||(P=new t),O||u(E)?e(E,w,T,C,A,P):n(E,w,I,T,C,A,P);if(!(T&c)){var W=L&&b.call(E,"__wrapped__"),F=G&&b.call(w,"__wrapped__");if(W||F){var X=W?E.value():E,B=F?w.value():w;return P||(P=new t),A(X,B,T,C,P)}}return $?(P||(P=new t),r(E,w,T,C,A,P)):!1}return Ab=x,Ab}var Cb,UM;function EE(){if(UM)return Cb;UM=1;var t=K9(),e=Hi();function n(r,i,a,s,u){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,s,n,u)}return Cb=n,Cb}var Ob,$M;function W9(){if($M)return Ob;$M=1;var t=k$(),e=EE(),n=1,r=2;function i(a,s,u,c){var f=u.length,h=f,p=!c;if(a==null)return!h;for(a=Object(a);f--;){var g=u[f];if(p&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++f<h;){g=u[f];var b=g[0],x=a[b],E=g[1];if(p&&g[2]){if(x===void 0&&!(b in a))return!1}else{var w=new t;if(c)var T=c(x,E,b,a,s,w);if(!(T===void 0?e(E,x,n|r,c,w):T))return!1}}return!0}return Ob=i,Ob}var Rb,jM;function F$(){if(jM)return Rb;jM=1;var t=Ra();function e(n){return n===n&&!t(n)}return Rb=e,Rb}var Pb,qM;function Y9(){if(qM)return Pb;qM=1;var t=F$(),e=nm();function n(r){for(var i=e(r),a=i.length;a--;){var s=i[a],u=r[s];i[a]=[s,u,t(u)]}return i}return Pb=n,Pb}var Mb,BM;function K$(){if(BM)return Mb;BM=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return Mb=t,Mb}var Nb,HM;function J9(){if(HM)return Nb;HM=1;var t=W9(),e=Y9(),n=K$();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return Nb=r,Nb}var Ib,GM;function X9(){if(GM)return Ib;GM=1;function t(e,n){return e!=null&&n in Object(e)}return Ib=t,Ib}var Db,zM;function Q9(){if(zM)return Db;zM=1;var t=f$(),e=wE(),n=Nn(),r=SE(),i=xE(),a=Xp();function s(u,c,f){c=t(c,u);for(var h=-1,p=c.length,g=!1;++h<p;){var b=a(c[h]);if(!(g=u!=null&&f(u,b)))break;u=u[b]}return g||++h!=p?g:(p=u==null?0:u.length,!!p&&i(p)&&r(b,p)&&(n(u)||e(u)))}return Db=s,Db}var kb,VM;function Z9(){if(VM)return kb;VM=1;var t=X9(),e=Q9();function n(r,i){return r!=null&&e(r,i,t)}return kb=n,kb}var Lb,FM;function eK(){if(FM)return Lb;FM=1;var t=EE(),e=d$(),n=Z9(),r=aE(),i=F$(),a=K$(),s=Xp(),u=1,c=2;function f(h,p){return r(h)&&i(p)?a(s(h),p):function(g){var b=e(g,h);return b===void 0&&b===p?n(g,h):t(p,b,u|c)}}return Lb=f,Lb}var Ub,KM;function Pl(){if(KM)return Ub;KM=1;function t(e){return e}return Ub=t,Ub}var $b,WM;function tK(){if(WM)return $b;WM=1;function t(e){return function(n){return n==null?void 0:n[e]}}return $b=t,$b}var jb,YM;function nK(){if(YM)return jb;YM=1;var t=fE();function e(n){return function(r){return t(r,n)}}return jb=e,jb}var qb,JM;function rK(){if(JM)return qb;JM=1;var t=tK(),e=nK(),n=aE(),r=Xp();function i(a){return n(a)?t(r(a)):e(a)}return qb=i,qb}var Bb,XM;function ri(){if(XM)return Bb;XM=1;var t=J9(),e=eK(),n=Pl(),r=Nn(),i=rK();function a(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):i(s)}return Bb=a,Bb}var Hb,QM;function W$(){if(QM)return Hb;QM=1;function t(e,n,r,i){for(var a=e.length,s=r+(i?1:-1);i?s--:++s<a;)if(n(e[s],s,e))return s;return-1}return Hb=t,Hb}var Gb,ZM;function iK(){if(ZM)return Gb;ZM=1;function t(e){return e!==e}return Gb=t,Gb}var zb,eN;function aK(){if(eN)return zb;eN=1;function t(e,n,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===n)return i;return-1}return zb=t,zb}var Vb,tN;function oK(){if(tN)return Vb;tN=1;var t=W$(),e=iK(),n=aK();function r(i,a,s){return a===a?n(i,a,s):t(i,e,s)}return Vb=r,Vb}var Fb,nN;function sK(){if(nN)return Fb;nN=1;var t=oK();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return Fb=e,Fb}var Kb,rN;function lK(){if(rN)return Kb;rN=1;function t(e,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(n,e[i]))return!0;return!1}return Kb=t,Kb}var Wb,iN;function uK(){if(iN)return Wb;iN=1;function t(){}return Wb=t,Wb}var Yb,aN;function cK(){if(aN)return Yb;aN=1;var t=V$(),e=uK(),n=_E(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(a){return new t(a)}:e;return Yb=i,Yb}var Jb,oN;function fK(){if(oN)return Jb;oN=1;var t=L$(),e=sK(),n=lK(),r=$$(),i=cK(),a=_E(),s=200;function u(c,f,h){var p=-1,g=e,b=c.length,x=!0,E=[],w=E;if(h)x=!1,g=n;else if(b>=s){var T=f?null:i(c);if(T)return a(T);x=!1,g=r,w=new t}else w=f?[]:E;e:for(;++p<b;){var C=c[p],A=f?f(C):C;if(C=h||C!==0?C:0,x&&A===A){for(var P=w.length;P--;)if(w[P]===A)continue e;f&&w.push(A),E.push(C)}else g(w,A,h)||(w!==E&&w.push(A),E.push(C))}return E}return Jb=u,Jb}var Xb,sN;function dK(){if(sN)return Xb;sN=1;var t=ri(),e=fK();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return Xb=n,Xb}var hK=dK();const lN=Ve(hK);function Y$(t,e,n){return e===!0?lN(t,n):Oe(e)?lN(t,e):t}function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}var pK=["ref"];function uN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ei(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uN(Object(n),!0).forEach(function(r){rm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X$(r.key),r)}}function gK(t,e,n){return e&&cN(t.prototype,e),n&&cN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vK(t,e,n){return e=Lh(e),yK(t,J$()?Reflect.construct(e,n||[],Lh(t).constructor):e.apply(t,n))}function yK(t,e){if(e&&(tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bK(t)}function bK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J$=function(){return!!t})()}function Lh(t){return Lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lh(t)}function _K(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lS(t,e)}function lS(t,e){return lS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lS(t,e)}function rm(t,e,n){return e=X$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X$(t){var e=wK(t,"string");return tl(e)=="symbol"?e:e+""}function wK(t,e){if(tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function SK(t,e){if(t==null)return{};var n=xK(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function EK(t){return t.value}function TK(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var n=SK(e,pK);return z.createElement(bE,n)}var fN=1,bo=(function(t){function e(){var n;mK(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=vK(this,e,[].concat(i)),rm(n,"lastBoundingBox",{width:-1,height:-1}),n}return _K(e,t),gK(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>fN||Math.abs(i.height-this.lastBoundingBox.height)>fN)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ei({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,u=i.verticalAlign,c=i.margin,f=i.chartWidth,h=i.chartHeight,p,g;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var b=this.getBBoxSnapshot();p={left:((f||0)-b.width)/2}}else p=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(u==="middle"){var x=this.getBBoxSnapshot();g={top:((h||0)-x.height)/2}}else g=u==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ei(Ei({},p),g)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,u=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,p=Ei(Ei({position:"absolute",width:s||"auto",height:u||"auto"},this.getDefaultPosition(c)),c);return z.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(b){r.wrapperNode=b}},TK(a,Ei(Ei({},this.props),{},{payload:Y$(h,f,EK)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Ei(Ei({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&he(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])})(j.PureComponent);rm(bo,"displayName","Legend");rm(bo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Qb,dN;function AK(){if(dN)return Qb;dN=1;var t=ff(),e=wE(),n=Nn(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return Qb=i,Qb}var Zb,hN;function Q$(){if(hN)return Zb;hN=1;var t=q$(),e=AK();function n(r,i,a,s,u){var c=-1,f=r.length;for(a||(a=e),u||(u=[]);++c<f;){var h=r[c];i>0&&a(h)?i>1?n(h,i-1,a,s,u):t(u,h):s||(u[u.length]=h)}return u}return Zb=n,Zb}var e_,pN;function CK(){if(pN)return e_;pN=1;function t(e){return function(n,r,i){for(var a=-1,s=Object(n),u=i(n),c=u.length;c--;){var f=u[e?c:++a];if(r(s[f],f,s)===!1)break}return n}}return e_=t,e_}var t_,mN;function OK(){if(mN)return t_;mN=1;var t=CK(),e=t();return t_=e,t_}var n_,gN;function Z$(){if(gN)return n_;gN=1;var t=OK(),e=nm();function n(r,i){return r&&t(r,i,e)}return n_=n,n_}var r_,vN;function RK(){if(vN)return r_;vN=1;var t=pf();function e(n,r){return function(i,a){if(i==null)return i;if(!t(i))return n(i,a);for(var s=i.length,u=r?s:-1,c=Object(i);(r?u--:++u<s)&&a(c[u],u,c)!==!1;);return i}}return r_=e,r_}var i_,yN;function TE(){if(yN)return i_;yN=1;var t=Z$(),e=RK(),n=e(t);return i_=n,i_}var a_,bN;function ej(){if(bN)return a_;bN=1;var t=TE(),e=pf();function n(r,i){var a=-1,s=e(r)?Array(r.length):[];return t(r,function(u,c,f){s[++a]=i(u,c,f)}),s}return a_=n,a_}var o_,_N;function PK(){if(_N)return o_;_N=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return o_=t,o_}var s_,wN;function MK(){if(wN)return s_;wN=1;var t=Ol();function e(n,r){if(n!==r){var i=n!==void 0,a=n===null,s=n===n,u=t(n),c=r!==void 0,f=r===null,h=r===r,p=t(r);if(!f&&!p&&!u&&n>r||u&&c&&h&&!f&&!p||a&&c&&h||!i&&h||!s)return 1;if(!a&&!u&&!p&&n<r||p&&i&&s&&!a&&!u||f&&i&&s||!c&&s||!h)return-1}return 0}return s_=e,s_}var l_,SN;function NK(){if(SN)return l_;SN=1;var t=MK();function e(n,r,i){for(var a=-1,s=n.criteria,u=r.criteria,c=s.length,f=i.length;++a<c;){var h=t(s[a],u[a]);if(h){if(a>=f)return h;var p=i[a];return h*(p=="desc"?-1:1)}}return n.index-r.index}return l_=e,l_}var u_,xN;function IK(){if(xN)return u_;xN=1;var t=cE(),e=fE(),n=ri(),r=ej(),i=PK(),a=H$(),s=NK(),u=Pl(),c=Nn();function f(h,p,g){p.length?p=t(p,function(E){return c(E)?function(w){return e(w,E.length===1?E[0]:E)}:E}):p=[u];var b=-1;p=t(p,a(n));var x=r(h,function(E,w,T){var C=t(p,function(A){return A(E)});return{criteria:C,index:++b,value:E}});return i(x,function(E,w){return s(E,w,g)})}return u_=f,u_}var c_,EN;function DK(){if(EN)return c_;EN=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return c_=t,c_}var f_,TN;function kK(){if(TN)return f_;TN=1;var t=DK(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var s=arguments,u=-1,c=e(s.length-i,0),f=Array(c);++u<c;)f[u]=s[i+u];u=-1;for(var h=Array(i+1);++u<i;)h[u]=s[u];return h[i]=a(f),t(r,this,h)}}return f_=n,f_}var d_,AN;function LK(){if(AN)return d_;AN=1;function t(e){return function(){return e}}return d_=t,d_}var h_,CN;function tj(){if(CN)return h_;CN=1;var t=Mo(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return h_=e,h_}var p_,ON;function UK(){if(ON)return p_;ON=1;var t=LK(),e=tj(),n=Pl(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return p_=r,p_}var m_,RN;function $K(){if(RN)return m_;RN=1;var t=800,e=16,n=Date.now;function r(i){var a=0,s=0;return function(){var u=n(),c=e-(u-s);if(s=u,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return m_=r,m_}var g_,PN;function jK(){if(PN)return g_;PN=1;var t=UK(),e=$K(),n=e(t);return g_=n,g_}var v_,MN;function qK(){if(MN)return v_;MN=1;var t=Pl(),e=kK(),n=jK();function r(i,a){return n(e(i,a,t),i+"")}return v_=r,v_}var y_,NN;function im(){if(NN)return y_;NN=1;var t=sE(),e=pf(),n=SE(),r=Ra();function i(a,s,u){if(!r(u))return!1;var c=typeof s;return(c=="number"?e(u)&&n(s,u.length):c=="string"&&s in u)?t(u[s],a):!1}return y_=i,y_}var b_,IN;function BK(){if(IN)return b_;IN=1;var t=Q$(),e=IK(),n=qK(),r=im(),i=n(function(a,s){if(a==null)return[];var u=s.length;return u>1&&r(a,s[0],s[1])?s=[]:u>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])});return b_=i,b_}var HK=BK();const AE=Ve(HK);function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function uS(){return uS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uS.apply(this,arguments)}function GK(t,e){return KK(t)||FK(t,e)||VK(t,e)||zK()}function zK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VK(t,e){if(t){if(typeof t=="string")return DN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DN(t,e)}}function DN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function KK(t){if(Array.isArray(t))return t}function kN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function __(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kN(Object(n),!0).forEach(function(r){WK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WK(t,e,n){return e=YK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YK(t){var e=JK(t,"string");return Sc(e)=="symbol"?e:e+""}function JK(t,e){if(Sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XK(t){return Array.isArray(t)&&Vt(t[0])&&Vt(t[1])?t.join(" ~ "):t}var QK=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,u=s===void 0?{}:s,c=e.labelStyle,f=c===void 0?{}:c,h=e.payload,p=e.formatter,g=e.itemSorter,b=e.wrapperClassName,x=e.labelClassName,E=e.label,w=e.labelFormatter,T=e.accessibilityLayer,C=T===void 0?!1:T,A=function(){if(h&&h.length){var W={padding:0,margin:0},F=(g?AE(h,g):h).map(function(X,B){if(X.type==="none")return null;var U=__({display:"block",paddingTop:4,paddingBottom:4,color:X.color||"#000"},u),K=X.formatter||p||XK,te=X.value,se=X.name,de=te,q=se;if(K&&de!=null&&q!=null){var Y=K(te,se,X,B,h);if(Array.isArray(Y)){var re=GK(Y,2);de=re[0],q=re[1]}else de=Y}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:U},Vt(q)?z.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Vt(q)?z.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,z.createElement("span",{className:"recharts-tooltip-item-value"},de),z.createElement("span",{className:"recharts-tooltip-item-unit"},X.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:W},F)}return null},P=__({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),O=__({margin:0},f),M=!Ue(E),I=M?E:"",k=ke("recharts-default-tooltip",b),L=ke("recharts-tooltip-label",x);M&&w&&h!==void 0&&h!==null&&(I=w(E,h));var G=C?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",uS({className:k,style:P},G),z.createElement("p",{className:L,style:O},z.isValidElement(I)?I:"".concat(I)),A())};function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function Vd(t,e,n){return e=ZK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZK(t){var e=e7(t,"string");return xc(e)=="symbol"?e:e+""}function e7(t,e){if(xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uu="recharts-tooltip-wrapper",t7={visibility:"hidden"};function n7(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ke(Uu,Vd(Vd(Vd(Vd({},"".concat(Uu,"-right"),he(n)&&e&&he(e.x)&&n>=e.x),"".concat(Uu,"-left"),he(n)&&e&&he(e.x)&&n<e.x),"".concat(Uu,"-bottom"),he(r)&&e&&he(e.y)&&r>=e.y),"".concat(Uu,"-top"),he(r)&&e&&he(e.y)&&r<e.y))}function LN(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,u=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(a&&he(a[r]))return a[r];var h=n[r]-u-i,p=n[r]+i;if(e[r])return s[r]?h:p;if(s[r]){var g=h,b=c[r];return g<b?Math.max(p,c[r]):Math.max(h,c[r])}var x=p+u,E=c[r]+f;return x>E?Math.max(h,c[r]):Math.max(p,c[r])}function r7(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function i7(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,u=t.useTranslate3d,c=t.viewBox,f,h,p;return s.height>0&&s.width>0&&n?(h=LN({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),p=LN({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=r7({translateX:h,translateY:p,useTranslate3d:u})):f=t7,{cssProperties:f,cssClasses:n7({translateX:h,translateY:p,coordinate:n})}}function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function UN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $N(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UN(Object(n),!0).forEach(function(r){fS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rj(r.key),r)}}function s7(t,e,n){return e&&o7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l7(t,e,n){return e=Uh(e),u7(t,nj()?Reflect.construct(e,n||[],Uh(t).constructor):e.apply(t,n))}function u7(t,e){if(e&&(nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c7(t)}function c7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nj=function(){return!!t})()}function Uh(t){return Uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uh(t)}function f7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cS(t,e)}function cS(t,e){return cS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cS(t,e)}function fS(t,e,n){return e=rj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rj(t){var e=d7(t,"string");return nl(e)=="symbol"?e:e+""}function d7(t,e){if(nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jN=1,h7=(function(t){function e(){var n;a7(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=l7(this,e,[].concat(i)),fS(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),fS(n,"handleKeyDown",function(s){if(s.key==="Escape"){var u,c,f,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&u!==void 0?u:0,y:(f=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),n}return f7(e,t),s7(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>jN||Math.abs(r.height-this.state.lastBoundingBox.height)>jN)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.children,h=i.coordinate,p=i.hasPayload,g=i.isAnimationActive,b=i.offset,x=i.position,E=i.reverseDirection,w=i.useTranslate3d,T=i.viewBox,C=i.wrapperStyle,A=i7({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:b,position:x,reverseDirection:E,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:T}),P=A.cssClasses,O=A.cssProperties,M=$N($N({transition:g&&a?"transform ".concat(u,"ms ").concat(c):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&p?"visible":"hidden",position:"absolute",top:0,left:0},C);return z.createElement("div",{tabIndex:-1,className:P,style:M,ref:function(k){r.wrapperNode=k}},f)}}])})(j.PureComponent),p7=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ml={isSsr:p7()};function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}function qN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qN(Object(n),!0).forEach(function(r){CE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aj(r.key),r)}}function v7(t,e,n){return e&&g7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function y7(t,e,n){return e=$h(e),b7(t,ij()?Reflect.construct(e,n||[],$h(t).constructor):e.apply(t,n))}function b7(t,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _7(t)}function _7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ij(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ij=function(){return!!t})()}function $h(t){return $h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$h(t)}function w7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dS(t,e)}function dS(t,e){return dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dS(t,e)}function CE(t,e,n){return e=aj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aj(t){var e=S7(t,"string");return rl(e)=="symbol"?e:e+""}function S7(t,e){if(rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function x7(t){return t.dataKey}function E7(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement(QK,e)}var Mr=(function(t){function e(){return m7(this,e),y7(this,e,arguments)}return w7(e,t),v7(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.content,h=i.coordinate,p=i.filterNull,g=i.isAnimationActive,b=i.offset,x=i.payload,E=i.payloadUniqBy,w=i.position,T=i.reverseDirection,C=i.useTranslate3d,A=i.viewBox,P=i.wrapperStyle,O=x??[];p&&O.length&&(O=Y$(x.filter(function(I){return I.value!=null&&(I.hide!==!0||r.props.includeHidden)}),E,x7));var M=O.length>0;return z.createElement(h7,{allowEscapeViewBox:s,animationDuration:u,animationEasing:c,isAnimationActive:g,active:a,coordinate:h,hasPayload:M,offset:b,position:w,reverseDirection:T,useTranslate3d:C,viewBox:A,wrapperStyle:P},E7(f,BN(BN({},this.props),{},{payload:O})))}}])})(j.PureComponent);CE(Mr,"displayName","Tooltip");CE(Mr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ml.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var w_,HN;function T7(){if(HN)return w_;HN=1;var t=ni(),e=function(){return t.Date.now()};return w_=e,w_}var S_,GN;function A7(){if(GN)return S_;GN=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return S_=e,S_}var x_,zN;function C7(){if(zN)return x_;zN=1;var t=A7(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return x_=n,x_}var E_,VN;function oj(){if(VN)return E_;VN=1;var t=C7(),e=Ra(),n=Ol(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;function c(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=a.test(f);return p||s.test(f)?u(f.slice(2),p?2:8):i.test(f)?r:+f}return E_=c,E_}var T_,FN;function O7(){if(FN)return T_;FN=1;var t=Ra(),e=T7(),n=oj(),r="Expected a function",i=Math.max,a=Math.min;function s(u,c,f){var h,p,g,b,x,E,w=0,T=!1,C=!1,A=!0;if(typeof u!="function")throw new TypeError(r);c=n(c)||0,t(f)&&(T=!!f.leading,C="maxWait"in f,g=C?i(n(f.maxWait)||0,c):g,A="trailing"in f?!!f.trailing:A);function P(F){var X=h,B=p;return h=p=void 0,w=F,b=u.apply(B,X),b}function O(F){return w=F,x=setTimeout(k,c),T?P(F):b}function M(F){var X=F-E,B=F-w,U=c-X;return C?a(U,g-B):U}function I(F){var X=F-E,B=F-w;return E===void 0||X>=c||X<0||C&&B>=g}function k(){var F=e();if(I(F))return L(F);x=setTimeout(k,M(F))}function L(F){return x=void 0,A&&h?P(F):(h=p=void 0,b)}function G(){x!==void 0&&clearTimeout(x),w=0,h=E=p=x=void 0}function $(){return x===void 0?b:L(e())}function W(){var F=e(),X=I(F);if(h=arguments,p=this,E=F,X){if(x===void 0)return O(E);if(C)return clearTimeout(x),x=setTimeout(k,c),P(E)}return x===void 0&&(x=setTimeout(k,c)),b}return W.cancel=G,W.flush=$,W}return T_=s,T_}var A_,KN;function R7(){if(KN)return A_;KN=1;var t=O7(),e=Ra(),n="Expected a function";function r(i,a,s){var u=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(s)&&(u="leading"in s?!!s.leading:u,c="trailing"in s?!!s.trailing:c),t(i,a,{leading:u,maxWait:a,trailing:c})}return A_=r,A_}var P7=R7();const sj=Ve(P7);function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function WN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WN(Object(n),!0).forEach(function(r){M7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M7(t,e,n){return e=N7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N7(t){var e=I7(t,"string");return Ec(e)=="symbol"?e:e+""}function I7(t,e){if(Ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D7(t,e){return $7(t)||U7(t,e)||L7(t,e)||k7()}function k7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L7(t,e){if(t){if(typeof t=="string")return YN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YN(t,e)}}function YN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function U7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function $7(t){if(Array.isArray(t))return t}var JN=j.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,u=t.height,c=u===void 0?"100%":u,f=t.minWidth,h=f===void 0?0:f,p=t.minHeight,g=t.maxHeight,b=t.children,x=t.debounce,E=x===void 0?0:x,w=t.id,T=t.className,C=t.onResize,A=t.style,P=A===void 0?{}:A,O=j.useRef(null),M=j.useRef();M.current=C,j.useImperativeHandle(e,function(){return Object.defineProperty(O.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),O.current},configurable:!0})});var I=j.useState({containerWidth:i.width,containerHeight:i.height}),k=D7(I,2),L=k[0],G=k[1],$=j.useCallback(function(F,X){G(function(B){var U=Math.round(F),K=Math.round(X);return B.containerWidth===U&&B.containerHeight===K?B:{containerWidth:U,containerHeight:K}})},[]);j.useEffect(function(){var F=function(se){var de,q=se[0].contentRect,Y=q.width,re=q.height;$(Y,re),(de=M.current)===null||de===void 0||de.call(M,Y,re)};E>0&&(F=sj(F,E,{trailing:!0,leading:!1}));var X=new ResizeObserver(F),B=O.current.getBoundingClientRect(),U=B.width,K=B.height;return $(U,K),X.observe(O.current),function(){X.disconnect()}},[$,E]);var W=j.useMemo(function(){var F=L.containerWidth,X=L.containerHeight;if(F<0||X<0)return null;kr(po(s)||po(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),kr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=po(s)?F:s,U=po(c)?X:c;n&&n>0&&(B?U=B/n:U&&(B=U*n),g&&U>g&&(U=g)),kr(B>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,U,s,c,h,p,n);var K=!Array.isArray(b)&&Ni(b.type).endsWith("Chart");return z.Children.map(b,function(te){return z.isValidElement(te)?j.cloneElement(te,Fd({width:B,height:U},K?{style:Fd({height:"100%",width:"100%",maxHeight:U,maxWidth:B},te.props.style)}:{})):te})},[n,b,c,g,p,h,L,s]);return z.createElement("div",{id:w?"".concat(w):void 0,className:ke("recharts-responsive-container",T),style:Fd(Fd({},P),{},{width:s,height:c,minWidth:h,minHeight:p,maxHeight:g}),ref:O},W)}),Tc=function(e){return null};Tc.displayName="Cell";function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function XN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XN(Object(n),!0).forEach(function(r){j7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j7(t,e,n){return e=q7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q7(t){var e=B7(t,"string");return Ac(e)=="symbol"?e:e+""}function B7(t,e){if(Ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Os={widthCache:{},cacheCount:0},H7=2e3,G7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},QN="recharts_measurement_span";function z7(t){var e=hS({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var sc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ml.isSsr)return{width:0,height:0};var r=z7(n),i=JSON.stringify({text:e,copyStyle:r});if(Os.widthCache[i])return Os.widthCache[i];try{var a=document.getElementById(QN);a||(a=document.createElement("span"),a.setAttribute("id",QN),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=hS(hS({},G7),r);Object.assign(a.style,s),a.textContent="".concat(e);var u=a.getBoundingClientRect(),c={width:u.width,height:u.height};return Os.widthCache[i]=c,++Os.cacheCount>H7&&(Os.cacheCount=0,Os.widthCache={}),c}catch{return{width:0,height:0}}},V7=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function jh(t,e){return Y7(t)||W7(t,e)||K7(t,e)||F7()}function F7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K7(t,e){if(t){if(typeof t=="string")return ZN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZN(t,e)}}function ZN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function W7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function Y7(t){if(Array.isArray(t))return t}function J7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q7(r.key),r)}}function X7(t,e,n){return e&&eI(t.prototype,e),n&&eI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q7(t){var e=Z7(t,"string");return Cc(e)=="symbol"?e:e+""}function Z7(t,e){if(Cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,lj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},nW=Object.keys(lj),Ls="NaN";function rW(t,e){return t*lj[e]}var Kd=(function(){function t(e,n){J7(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!eW.test(n)&&(this.num=NaN,this.unit=""),nW.includes(n)&&(this.num=rW(e,n),this.unit="px")}return X7(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=tW.exec(n))!==null&&r!==void 0?r:[],a=jh(i,3),s=a[1],u=a[2];return new t(parseFloat(s),u??"")}}])})();function uj(t){if(t.includes(Ls))return Ls;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=tI.exec(e))!==null&&n!==void 0?n:[],i=jh(r,4),a=i[1],s=i[2],u=i[3],c=Kd.parse(a??""),f=Kd.parse(u??""),h=s==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return Ls;e=e.replace(tI,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,g=(p=nI.exec(e))!==null&&p!==void 0?p:[],b=jh(g,4),x=b[1],E=b[2],w=b[3],T=Kd.parse(x??""),C=Kd.parse(w??""),A=E==="+"?T.add(C):T.subtract(C);if(A.isNaN())return Ls;e=e.replace(nI,A.toString())}return e}var rI=/\(([^()]*)\)/;function iW(t){for(var e=t;e.includes("(");){var n=rI.exec(e),r=jh(n,2),i=r[1];e=e.replace(rI,uj(i))}return e}function aW(t){var e=t.replace(/\s+/g,"");return e=iW(e),e=uj(e),e}function oW(t){try{return aW(t)}catch{return Ls}}function C_(t){var e=oW(t.slice(5,-1));return e===Ls?"":e}var sW=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lW=["dx","dy","angle","className","breakAll"];function pS(){return pS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pS.apply(this,arguments)}function iI(t,e){if(t==null)return{};var n=uW(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function aI(t,e){return hW(t)||dW(t,e)||fW(t,e)||cW()}function cW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fW(t,e){if(t){if(typeof t=="string")return oI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oI(t,e)}}function oI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function hW(t){if(Array.isArray(t))return t}var cj=/[ \f\n\r\t\v\u2028\u2029]+/,fj=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Ue(n)||(r?a=n.toString().split(""):a=n.toString().split(cj));var s=a.map(function(c){return{word:c,width:sc(c,i).width}}),u=r?0:sc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:u}}catch{return null}},pW=function(e,n,r,i,a){var s=e.maxLines,u=e.children,c=e.style,f=e.breakAll,h=he(s),p=u,g=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(U,K){var te=K.word,se=K.width,de=U[U.length-1];if(de&&(i==null||a||de.width+se+r<Number(i)))de.words.push(te),de.width+=se+r;else{var q={words:[te],width:se};U.push(q)}return U},[])},b=g(n),x=function(B){return B.reduce(function(U,K){return U.width>K.width?U:K})};if(!h)return b;for(var E="",w=function(B){var U=p.slice(0,B),K=fj({breakAll:f,style:c,children:U+E}).wordsWithComputedWidth,te=g(K),se=te.length>s||x(te).width>Number(i);return[se,te]},T=0,C=p.length-1,A=0,P;T<=C&&A<=p.length-1;){var O=Math.floor((T+C)/2),M=O-1,I=w(M),k=aI(I,2),L=k[0],G=k[1],$=w(O),W=aI($,1),F=W[0];if(!L&&!F&&(T=O+1),L&&F&&(C=O-1),!L&&F){P=G;break}A++}return P||b},sI=function(e){var n=Ue(e)?[]:e.toString().split(cj);return[{words:n}]},mW=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,u=e.maxLines;if((n||r)&&!Ml.isSsr){var c,f,h=fj({breakAll:s,children:i,style:a});if(h){var p=h.wordsWithComputedWidth,g=h.spaceWidth;c=p,f=g}else return sI(i);return pW({breakAll:s,children:i,maxLines:u,style:a},c,f,n,r)}return sI(i)},lI="#808080",Eo=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,u=s===void 0?"1em":s,c=e.capHeight,f=c===void 0?"0.71em":c,h=e.scaleToFit,p=h===void 0?!1:h,g=e.textAnchor,b=g===void 0?"start":g,x=e.verticalAnchor,E=x===void 0?"end":x,w=e.fill,T=w===void 0?lI:w,C=iI(e,sW),A=j.useMemo(function(){return mW({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:p,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,p,C.style,C.width]),P=C.dx,O=C.dy,M=C.angle,I=C.className,k=C.breakAll,L=iI(C,lW);if(!Vt(r)||!Vt(a))return null;var G=r+(he(P)?P:0),$=a+(he(O)?O:0),W;switch(E){case"start":W=C_("calc(".concat(f,")"));break;case"middle":W=C_("calc(".concat((A.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:W=C_("calc(".concat(A.length-1," * -").concat(u,")"));break}var F=[];if(p){var X=A[0].width,B=C.width;F.push("scale(".concat((he(B)?B/X:1)/X,")"))}return M&&F.push("rotate(".concat(M,", ").concat(G,", ").concat($,")")),F.length&&(L.transform=F.join(" ")),z.createElement("text",pS({},Ae(L,!0),{x:G,y:$,className:ke("recharts-text",I),textAnchor:b,fill:T.includes("url")?lI:T}),A.map(function(U,K){var te=U.words.join(k?"":" ");return z.createElement("tspan",{x:G,dy:K===0?W:u,key:"".concat(te,"-").concat(K)},te)}))};function Ta(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gW(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function OE(t){let e,n,r;t.length!==2?(e=Ta,n=(u,c)=>Ta(t(u),c),r=(u,c)=>t(u)-c):(e=t===Ta||t===gW?t:vW,n=t,r=t);function i(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(u[p],c)<0?f=p+1:h=p}while(f<h)}return f}function a(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(u[p],c)<=0?f=p+1:h=p}while(f<h)}return f}function s(u,c,f=0,h=u.length){const p=i(u,c,f,h-1);return p>f&&r(u[p-1],c)>-r(u[p],c)?p-1:p}return{left:i,center:s,right:a}}function vW(){return 0}function dj(t){return t===null?NaN:+t}function*yW(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const bW=OE(Ta),mf=bW.right;OE(dj).center;class To{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=e+a,u=Math.abs(e)<Math.abs(a)?e-(s-a):a-(s-e);u&&(n[r++]=u),e=s}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=e[--n];n>0&&(r=s,i=e[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}}class uI extends Map{constructor(e,n=SW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(cI(this,e))}has(e){return super.has(cI(this,e))}set(e,n){return super.set(_W(this,e),n)}delete(e){return super.delete(wW(this,e))}}function cI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function _W({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function wW({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function SW(t){return t!==null&&typeof t=="object"?t.valueOf():t}function xW(t=Ta){if(t===Ta)return hj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function hj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const EW=Math.sqrt(50),TW=Math.sqrt(10),AW=Math.sqrt(2);function qh(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=EW?10:a>=TW?5:a>=AW?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/s,u=Math.round(t*f),c=Math.round(e*f),u/f<t&&++u,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,u=Math.round(t/f),c=Math.round(e/f),u*f<t&&++u,c*f>e&&--c),c<u&&.5<=n&&n<2?qh(t,e,n*2):[u,c,f]}function mS(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?qh(e,t,n):qh(t,e,n);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(r)if(s<0)for(let f=0;f<u;++f)c[f]=(a-f)/-s;else for(let f=0;f<u;++f)c[f]=(a-f)*s;else if(s<0)for(let f=0;f<u;++f)c[f]=(i+f)/-s;else for(let f=0;f<u;++f)c[f]=(i+f)*s;return c}function gS(t,e,n){return e=+e,t=+t,n=+n,qh(t,e,n)[2]}function vS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?gS(e,t,n):gS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function fI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function dI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function pj(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?hj:xW(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),p=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*p*(c-p)/c)*(f-c/2<0?-1:1),b=Math.max(n,Math.floor(e-f*p/c+g)),x=Math.min(r,Math.floor(e+(c-f)*p/c+g));pj(t,e,b,x,i)}const a=t[e];let s=n,u=r;for($u(t,n,e),i(t[r],a)>0&&$u(t,n,r);s<u;){for($u(t,s,u),++s,--u;i(t[s],a)<0;)++s;for(;i(t[u],a)>0;)--u}i(t[n],a)===0?$u(t,n,u):(++u,$u(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function $u(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function CW(t,e,n){if(t=Float64Array.from(yW(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return dI(t);if(e>=1)return fI(t);var r,i=(r-1)*e,a=Math.floor(i),s=fI(pj(t,a).subarray(0,a+1)),u=dI(t.subarray(a+1));return s+(u-s)*(i-a)}}function OW(t,e,n=dj){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return s+(u-s)*(i-a)}}function*RW(t){for(const e of t)yield*e}function mj(t){return Array.from(RW(t))}function PW(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function _r(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Gi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const yS=Symbol("implicit");function RE(){var t=new uI,e=[],n=[],r=yS;function i(a){let s=t.get(a);if(s===void 0){if(r!==yS)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new uI;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return RE(e,n).unknown(r)},_r.apply(i,arguments),i}function Oc(){var t=RE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,u=!1,c=0,f=0,h=.5;delete t.unknown;function p(){var g=e().length,b=i<r,x=b?i:r,E=b?r:i;a=(E-x)/Math.max(1,g-c+f*2),u&&(a=Math.floor(a)),x+=(E-x-a*(g-c))*h,s=a*(1-c),u&&(x=Math.round(x),s=Math.round(s));var w=PW(g).map(function(T){return x+a*T});return n(b?w.reverse():w)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,u=!0,p()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(g){return arguments.length?(u=!!g,p()):u},t.padding=function(g){return arguments.length?(c=Math.min(1,f=+g),p()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),p()):c},t.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},t.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),p()):h},t.copy=function(){return Oc(e(),[r,i]).round(u).paddingInner(c).paddingOuter(f).align(h)},_r.apply(p(),arguments)}function gj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return gj(e())},t}function lc(){return gj(Oc.apply(null,arguments).paddingInner(1))}function PE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function vj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function gf(){}var Rc=.7,Bh=1/Rc,Ws="\\s*([+-]?\\d+)\\s*",Pc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MW=/^#([0-9a-f]{3,8})$/,NW=new RegExp(`^rgb\\(${Ws},${Ws},${Ws}\\)$`),IW=new RegExp(`^rgb\\(${Qr},${Qr},${Qr}\\)$`),DW=new RegExp(`^rgba\\(${Ws},${Ws},${Ws},${Pc}\\)$`),kW=new RegExp(`^rgba\\(${Qr},${Qr},${Qr},${Pc}\\)$`),LW=new RegExp(`^hsl\\(${Pc},${Qr},${Qr}\\)$`),UW=new RegExp(`^hsla\\(${Pc},${Qr},${Qr},${Pc}\\)$`),hI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};PE(gf,Mc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:pI,formatHex:pI,formatHex8:$W,formatHsl:jW,formatRgb:mI,toString:mI});function pI(){return this.rgb().formatHex()}function $W(){return this.rgb().formatHex8()}function jW(){return yj(this).formatHsl()}function mI(){return this.rgb().formatRgb()}function Mc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=MW.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?gI(e):n===3?new Mn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Wd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Wd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=NW.exec(t))?new Mn(e[1],e[2],e[3],1):(e=IW.exec(t))?new Mn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=DW.exec(t))?Wd(e[1],e[2],e[3],e[4]):(e=kW.exec(t))?Wd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=LW.exec(t))?bI(e[1],e[2]/100,e[3]/100,1):(e=UW.exec(t))?bI(e[1],e[2]/100,e[3]/100,e[4]):hI.hasOwnProperty(t)?gI(hI[t]):t==="transparent"?new Mn(NaN,NaN,NaN,0):null}function gI(t){return new Mn(t>>16&255,t>>8&255,t&255,1)}function Wd(t,e,n,r){return r<=0&&(t=e=n=NaN),new Mn(t,e,n,r)}function qW(t){return t instanceof gf||(t=Mc(t)),t?(t=t.rgb(),new Mn(t.r,t.g,t.b,t.opacity)):new Mn}function bS(t,e,n,r){return arguments.length===1?qW(t):new Mn(t,e,n,r??1)}function Mn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}PE(Mn,bS,vj(gf,{brighter(t){return t=t==null?Bh:Math.pow(Bh,t),new Mn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Rc:Math.pow(Rc,t),new Mn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Mn(_o(this.r),_o(this.g),_o(this.b),Hh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vI,formatHex:vI,formatHex8:BW,formatRgb:yI,toString:yI}));function vI(){return`#${mo(this.r)}${mo(this.g)}${mo(this.b)}`}function BW(){return`#${mo(this.r)}${mo(this.g)}${mo(this.b)}${mo((isNaN(this.opacity)?1:this.opacity)*255)}`}function yI(){const t=Hh(this.opacity);return`${t===1?"rgb(":"rgba("}${_o(this.r)}, ${_o(this.g)}, ${_o(this.b)}${t===1?")":`, ${t})`}`}function Hh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _o(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function mo(t){return t=_o(t),(t<16?"0":"")+t.toString(16)}function bI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ir(t,e,n,r)}function yj(t){if(t instanceof Ir)return new Ir(t.h,t.s,t.l,t.opacity);if(t instanceof gf||(t=Mc(t)),!t)return new Ir;if(t instanceof Ir)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,u=a-i,c=(a+i)/2;return u?(e===a?s=(n-r)/u+(n<r)*6:n===a?s=(r-e)/u+2:s=(e-n)/u+4,u/=c<.5?a+i:2-a-i,s*=60):u=c>0&&c<1?0:s,new Ir(s,u,c,t.opacity)}function HW(t,e,n,r){return arguments.length===1?yj(t):new Ir(t,e,n,r??1)}function Ir(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}PE(Ir,HW,vj(gf,{brighter(t){return t=t==null?Bh:Math.pow(Bh,t),new Ir(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Rc:Math.pow(Rc,t),new Ir(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Mn(O_(t>=240?t-240:t+120,i,r),O_(t,i,r),O_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ir(_I(this.h),Yd(this.s),Yd(this.l),Hh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Hh(this.opacity);return`${t===1?"hsl(":"hsla("}${_I(this.h)}, ${Yd(this.s)*100}%, ${Yd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function _I(t){return t=(t||0)%360,t<0?t+360:t}function Yd(t){return Math.max(0,Math.min(1,t||0))}function O_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ME=t=>()=>t;function GW(t,e){return function(n){return t+n*e}}function zW(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function VW(t){return(t=+t)==1?bj:function(e,n){return n-e?zW(e,n,t):ME(isNaN(e)?n:e)}}function bj(t,e){var n=e-t;return n?GW(t,n):ME(isNaN(t)?e:t)}const wI=(function t(e){var n=VW(e);function r(i,a){var s=n((i=bS(i)).r,(a=bS(a)).r),u=n(i.g,a.g),c=n(i.b,a.b),f=bj(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=u(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function FW(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function KW(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function WW(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Nl(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(u){for(s=0;s<r;++s)a[s]=i[s](u);return a}}function YW(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Gh(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function JW(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Nl(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var _S=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,R_=new RegExp(_S.source,"g");function XW(t){return function(){return t}}function QW(t){return function(e){return t(e)+""}}function ZW(t,e){var n=_S.lastIndex=R_.lastIndex=0,r,i,a,s=-1,u=[],c=[];for(t=t+"",e=e+"";(r=_S.exec(t))&&(i=R_.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[s]?u[s]+=a:u[++s]=a),(r=r[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:Gh(r,i)})),n=R_.lastIndex;return n<e.length&&(a=e.slice(n),u[s]?u[s]+=a:u[++s]=a),u.length<2?c[0]?QW(c[0].x):XW(e):(e=c.length,function(f){for(var h=0,p;h<e;++h)u[(p=c[h]).i]=p.x(f);return u.join("")})}function Nl(t,e){var n=typeof e,r;return e==null||n==="boolean"?ME(e):(n==="number"?Gh:n==="string"?(r=Mc(e))?(e=r,wI):ZW:e instanceof Mc?wI:e instanceof Date?YW:KW(e)?FW:Array.isArray(e)?WW:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?JW:Gh)(t,e)}function NE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function eY(t,e){e===void 0&&(e=t,t=Nl);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var u=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[u](s-u)}}function tY(t){return function(){return t}}function zh(t){return+t}var SI=[0,1];function Sn(t){return t}function wS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:tY(isNaN(e)?NaN:.5)}function nY(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function rY(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=wS(i,r),a=n(s,a)):(r=wS(r,i),a=n(a,s)),function(u){return a(r(u))}}function iY(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=wS(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(u){var c=mf(t,u,1,r)-1;return a[c](i[c](u))}}function vf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function am(){var t=SI,e=SI,n=Nl,r,i,a,s=Sn,u,c,f;function h(){var g=Math.min(t.length,e.length);return s!==Sn&&(s=nY(t[0],t[g-1])),u=g>2?iY:rY,c=f=null,p}function p(g){return g==null||isNaN(g=+g)?a:(c||(c=u(t.map(r),e,n)))(r(s(g)))}return p.invert=function(g){return s(i((f||(f=u(e,t.map(r),Gh)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,zh),h()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),h()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),n=NE,h()},p.clamp=function(g){return arguments.length?(s=g?!0:Sn,h()):s!==Sn},p.interpolate=function(g){return arguments.length?(n=g,h()):n},p.unknown=function(g){return arguments.length?(a=g,p):a},function(g,b){return r=g,i=b,h()}}function IE(){return am()(Sn,Sn)}function aY(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Vh(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function il(t){return t=Vh(Math.abs(t)),t?t[1]:NaN}function oY(t,e){return function(n,r){for(var i=n.length,a=[],s=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),a.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[s=(s+1)%t.length];return a.reverse().join(e)}}function sY(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var lY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nc(t){if(!(e=lY.exec(t)))throw new Error("invalid format: "+t);var e;return new DE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Nc.prototype=DE.prototype;function DE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}DE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uY(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var _j;function cY(t,e){var n=Vh(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(_j=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Vh(t,Math.max(0,e+a-1))[0]}function xI(t,e){var n=Vh(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const EI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:aY,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>xI(t*100,e),r:xI,s:cY,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function TI(t){return t}var AI=Array.prototype.map,CI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fY(t){var e=t.grouping===void 0||t.thousands===void 0?TI:oY(AI.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?TI:sY(AI.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p){p=Nc(p);var g=p.fill,b=p.align,x=p.sign,E=p.symbol,w=p.zero,T=p.width,C=p.comma,A=p.precision,P=p.trim,O=p.type;O==="n"?(C=!0,O="g"):EI[O]||(A===void 0&&(A=12),P=!0,O="g"),(w||g==="0"&&b==="=")&&(w=!0,g="0",b="=");var M=E==="$"?n:E==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",I=E==="$"?r:/[%p]/.test(O)?s:"",k=EI[O],L=/[defgprs%]/.test(O);A=A===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function G($){var W=M,F=I,X,B,U;if(O==="c")F=k($)+F,$="";else{$=+$;var K=$<0||1/$<0;if($=isNaN($)?c:k(Math.abs($),A),P&&($=uY($)),K&&+$==0&&x!=="+"&&(K=!1),W=(K?x==="("?x:u:x==="-"||x==="("?"":x)+W,F=(O==="s"?CI[8+_j/3]:"")+F+(K&&x==="("?")":""),L){for(X=-1,B=$.length;++X<B;)if(U=$.charCodeAt(X),48>U||U>57){F=(U===46?i+$.slice(X+1):$.slice(X))+F,$=$.slice(0,X);break}}}C&&!w&&($=e($,1/0));var te=W.length+$.length+F.length,se=te<T?new Array(T-te+1).join(g):"";switch(C&&w&&($=e(se+$,se.length?T-F.length:1/0),se=""),b){case"<":$=W+$+F+se;break;case"=":$=W+se+$+F;break;case"^":$=se.slice(0,te=se.length>>1)+W+$+F+se.slice(te);break;default:$=se+W+$+F;break}return a($)}return G.toString=function(){return p+""},G}function h(p,g){var b=f((p=Nc(p),p.type="f",p)),x=Math.max(-8,Math.min(8,Math.floor(il(g)/3)))*3,E=Math.pow(10,-x),w=CI[8+x/3];return function(T){return b(E*T)+w}}return{format:f,formatPrefix:h}}var Jd,kE,wj;dY({thousands:",",grouping:[3],currency:["$",""]});function dY(t){return Jd=fY(t),kE=Jd.format,wj=Jd.formatPrefix,Jd}function hY(t){return Math.max(0,-il(Math.abs(t)))}function pY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(il(e)/3)))*3-il(Math.abs(t)))}function mY(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,il(e)-il(t))+1}function Sj(t,e,n,r){var i=vS(t,e,n),a;switch(r=Nc(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=pY(i,s))&&(r.precision=a),wj(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=mY(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=hY(i))&&(r.precision=a-(r.type==="%")*2);break}}return kE(r)}function Pa(t){var e=t.domain;return t.ticks=function(n){var r=e();return mS(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Sj(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],u=r[a],c,f,h=10;for(u<s&&(f=s,s=u,u=f,f=i,i=a,a=f);h-- >0;){if(f=gS(s,u,n),f===c)return r[i]=s,r[a]=u,e(r);if(f>0)s=Math.floor(s/f)*f,u=Math.ceil(u/f)*f;else if(f<0)s=Math.ceil(s*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function Fh(){var t=IE();return t.copy=function(){return vf(t,Fh())},_r.apply(t,arguments),Pa(t)}function xj(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,zh),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return xj(t).unknown(e)},t=arguments.length?Array.from(t,zh):[0,1],Pa(n)}function Ej(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function OI(t){return Math.log(t)}function RI(t){return Math.exp(t)}function gY(t){return-Math.log(-t)}function vY(t){return-Math.exp(-t)}function yY(t){return isFinite(t)?+("1e"+t):t<0?0:t}function bY(t){return t===10?yY:t===Math.E?Math.exp:e=>Math.pow(t,e)}function _Y(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function PI(t){return(e,n)=>-t(-e,n)}function LE(t){const e=t(OI,RI),n=e.domain;let r=10,i,a;function s(){return i=_Y(r),a=bY(r),n()[0]<0?(i=PI(i),a=PI(a),t(gY,vY)):t(OI,RI),e}return e.base=function(u){return arguments.length?(r=+u,s()):r},e.domain=function(u){return arguments.length?(n(u),s()):n()},e.ticks=u=>{const c=n();let f=c[0],h=c[c.length-1];const p=h<f;p&&([f,h]=[h,f]);let g=i(f),b=i(h),x,E;const w=u==null?10:+u;let T=[];if(!(r%1)&&b-g<w){if(g=Math.floor(g),b=Math.ceil(b),f>0){for(;g<=b;++g)for(x=1;x<r;++x)if(E=g<0?x/a(-g):x*a(g),!(E<f)){if(E>h)break;T.push(E)}}else for(;g<=b;++g)for(x=r-1;x>=1;--x)if(E=g>0?x/a(-g):x*a(g),!(E<f)){if(E>h)break;T.push(E)}T.length*2<w&&(T=mS(f,h,w))}else T=mS(g,b,Math.min(b-g,w)).map(a);return p?T.reverse():T},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Nc(c)).precision==null&&(c.trim=!0),c=kE(c)),u===1/0)return c;const f=Math.max(1,r*u/e.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?c(h):""}},e.nice=()=>n(Ej(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function Tj(){const t=LE(am()).domain([1,10]);return t.copy=()=>vf(t,Tj()).base(t.base()),_r.apply(t,arguments),t}function MI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function NI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function UE(t){var e=1,n=t(MI(e),NI(e));return n.constant=function(r){return arguments.length?t(MI(e=+r),NI(e)):e},Pa(n)}function Aj(){var t=UE(am());return t.copy=function(){return vf(t,Aj()).constant(t.constant())},_r.apply(t,arguments)}function II(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function wY(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function SY(t){return t<0?-t*t:t*t}function $E(t){var e=t(Sn,Sn),n=1;function r(){return n===1?t(Sn,Sn):n===.5?t(wY,SY):t(II(n),II(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Pa(e)}function jE(){var t=$E(am());return t.copy=function(){return vf(t,jE()).exponent(t.exponent())},_r.apply(t,arguments),t}function xY(){return jE.apply(null,arguments).exponent(.5)}function DI(t){return Math.sign(t)*t*t}function EY(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Cj(){var t=IE(),e=[0,1],n=!1,r;function i(a){var s=EY(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(DI(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,zh)).map(DI)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Cj(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},_r.apply(i,arguments),Pa(i)}function Oj(){var t=[],e=[],n=[],r;function i(){var s=0,u=Math.max(1,e.length);for(n=new Array(u-1);++s<u;)n[s-1]=OW(t,s/u);return a}function a(s){return s==null||isNaN(s=+s)?r:e[mf(n,s)]}return a.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Ta),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Oj().domain(t).range(e).unknown(r)},_r.apply(a,arguments)}function Rj(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[mf(r,c,0,n)]:a}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return Rj().domain([t,e]).range(i).unknown(a)},_r.apply(Pa(s),arguments)}function Pj(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[mf(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Pj().domain(t).range(e).unknown(n)},_r.apply(i,arguments)}const P_=new Date,M_=new Date;function Ft(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),u=i.ceil(a);return a-s<u-a?s:u},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,u)=>{const c=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<s)||!(u>0))return c;let f;do c.push(f=new Date(+a)),e(a,u),t(a);while(f<a&&a<s);return c},i.filter=a=>Ft(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!a(s););else for(;--u>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(P_.setTime(+a),M_.setTime(+s),t(P_),t(M_),Math.floor(n(P_,M_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Kh=Ft(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Kh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ft(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Kh);Kh.range;const Oi=1e3,fr=Oi*60,Ri=fr*60,ki=Ri*24,qE=ki*7,kI=ki*30,N_=ki*365,go=Ft(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Oi)},(t,e)=>(e-t)/Oi,t=>t.getUTCSeconds());go.range;const BE=Ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Oi)},(t,e)=>{t.setTime(+t+e*fr)},(t,e)=>(e-t)/fr,t=>t.getMinutes());BE.range;const HE=Ft(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*fr)},(t,e)=>(e-t)/fr,t=>t.getUTCMinutes());HE.range;const GE=Ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Oi-t.getMinutes()*fr)},(t,e)=>{t.setTime(+t+e*Ri)},(t,e)=>(e-t)/Ri,t=>t.getHours());GE.range;const zE=Ft(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ri)},(t,e)=>(e-t)/Ri,t=>t.getUTCHours());zE.range;const yf=Ft(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fr)/ki,t=>t.getDate()-1);yf.range;const om=Ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ki,t=>t.getUTCDate()-1);om.range;const Mj=Ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ki,t=>Math.floor(t/ki));Mj.range;function No(t){return Ft(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*fr)/qE)}const sm=No(0),Wh=No(1),TY=No(2),AY=No(3),al=No(4),CY=No(5),OY=No(6);sm.range;Wh.range;TY.range;AY.range;al.range;CY.range;OY.range;function Io(t){return Ft(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/qE)}const lm=Io(0),Yh=Io(1),RY=Io(2),PY=Io(3),ol=Io(4),MY=Io(5),NY=Io(6);lm.range;Yh.range;RY.range;PY.range;ol.range;MY.range;NY.range;const VE=Ft(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());VE.range;const FE=Ft(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());FE.range;const Li=Ft(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Li.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ft(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Li.range;const Ui=Ft(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ui.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ft(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ui.range;function Nj(t,e,n,r,i,a){const s=[[go,1,Oi],[go,5,5*Oi],[go,15,15*Oi],[go,30,30*Oi],[a,1,fr],[a,5,5*fr],[a,15,15*fr],[a,30,30*fr],[i,1,Ri],[i,3,3*Ri],[i,6,6*Ri],[i,12,12*Ri],[r,1,ki],[r,2,2*ki],[n,1,qE],[e,1,kI],[e,3,3*kI],[t,1,N_]];function u(f,h,p){const g=h<f;g&&([f,h]=[h,f]);const b=p&&typeof p.range=="function"?p:c(f,h,p),x=b?b.range(f,+h+1):[];return g?x.reverse():x}function c(f,h,p){const g=Math.abs(h-f)/p,b=OE(([,,w])=>w).right(s,g);if(b===s.length)return t.every(vS(f/N_,h/N_,p));if(b===0)return Kh.every(Math.max(vS(f,h,p),1));const[x,E]=s[g/s[b-1][2]<s[b][2]/g?b-1:b];return x.every(E)}return[u,c]}const[IY,DY]=Nj(Ui,FE,lm,Mj,zE,HE),[kY,LY]=Nj(Li,VE,sm,yf,GE,BE);function I_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function D_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ju(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function UY(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,u=t.months,c=t.shortMonths,f=qu(i),h=Bu(i),p=qu(a),g=Bu(a),b=qu(s),x=Bu(s),E=qu(u),w=Bu(u),T=qu(c),C=Bu(c),A={a:K,A:te,b:se,B:de,c:null,d:BI,e:BI,f:oJ,g:gJ,G:yJ,H:rJ,I:iJ,j:aJ,L:Ij,m:sJ,M:lJ,p:q,q:Y,Q:zI,s:VI,S:uJ,u:cJ,U:fJ,V:dJ,w:hJ,W:pJ,x:null,X:null,y:mJ,Y:vJ,Z:bJ,"%":GI},P={a:re,A:ce,b:me,B:we,c:null,d:HI,e:HI,f:xJ,g:IJ,G:kJ,H:_J,I:wJ,j:SJ,L:kj,m:EJ,M:TJ,p:Le,q:Xe,Q:zI,s:VI,S:AJ,u:CJ,U:OJ,V:RJ,w:PJ,W:MJ,x:null,X:null,y:NJ,Y:DJ,Z:LJ,"%":GI},O={a:G,A:$,b:W,B:F,c:X,d:jI,e:jI,f:ZY,g:$I,G:UI,H:qI,I:qI,j:YY,L:QY,m:WY,M:JY,p:L,q:KY,Q:tJ,s:nJ,S:XY,u:HY,U:GY,V:zY,w:BY,W:VY,x:B,X:U,y:$I,Y:UI,Z:FY,"%":eJ};A.x=M(n,A),A.X=M(r,A),A.c=M(e,A),P.x=M(n,P),P.X=M(r,P),P.c=M(e,P);function M(fe,Ce){return function(Pe){var ue=[],pt=-1,Ie=0,St=fe.length,xt,ln,wr;for(Pe instanceof Date||(Pe=new Date(+Pe));++pt<St;)fe.charCodeAt(pt)===37&&(ue.push(fe.slice(Ie,pt)),(ln=LI[xt=fe.charAt(++pt)])!=null?xt=fe.charAt(++pt):ln=xt==="e"?" ":"0",(wr=Ce[xt])&&(xt=wr(Pe,ln)),ue.push(xt),Ie=pt+1);return ue.push(fe.slice(Ie,pt)),ue.join("")}}function I(fe,Ce){return function(Pe){var ue=ju(1900,void 0,1),pt=k(ue,fe,Pe+="",0),Ie,St;if(pt!=Pe.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(Ce&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(Ie=D_(ju(ue.y,0,1)),St=Ie.getUTCDay(),Ie=St>4||St===0?Yh.ceil(Ie):Yh(Ie),Ie=om.offset(Ie,(ue.V-1)*7),ue.y=Ie.getUTCFullYear(),ue.m=Ie.getUTCMonth(),ue.d=Ie.getUTCDate()+(ue.w+6)%7):(Ie=I_(ju(ue.y,0,1)),St=Ie.getDay(),Ie=St>4||St===0?Wh.ceil(Ie):Wh(Ie),Ie=yf.offset(Ie,(ue.V-1)*7),ue.y=Ie.getFullYear(),ue.m=Ie.getMonth(),ue.d=Ie.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),St="Z"in ue?D_(ju(ue.y,0,1)).getUTCDay():I_(ju(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(St+5)%7:ue.w+ue.U*7-(St+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,D_(ue)):I_(ue)}}function k(fe,Ce,Pe,ue){for(var pt=0,Ie=Ce.length,St=Pe.length,xt,ln;pt<Ie;){if(ue>=St)return-1;if(xt=Ce.charCodeAt(pt++),xt===37){if(xt=Ce.charAt(pt++),ln=O[xt in LI?Ce.charAt(pt++):xt],!ln||(ue=ln(fe,Pe,ue))<0)return-1}else if(xt!=Pe.charCodeAt(ue++))return-1}return ue}function L(fe,Ce,Pe){var ue=f.exec(Ce.slice(Pe));return ue?(fe.p=h.get(ue[0].toLowerCase()),Pe+ue[0].length):-1}function G(fe,Ce,Pe){var ue=b.exec(Ce.slice(Pe));return ue?(fe.w=x.get(ue[0].toLowerCase()),Pe+ue[0].length):-1}function $(fe,Ce,Pe){var ue=p.exec(Ce.slice(Pe));return ue?(fe.w=g.get(ue[0].toLowerCase()),Pe+ue[0].length):-1}function W(fe,Ce,Pe){var ue=T.exec(Ce.slice(Pe));return ue?(fe.m=C.get(ue[0].toLowerCase()),Pe+ue[0].length):-1}function F(fe,Ce,Pe){var ue=E.exec(Ce.slice(Pe));return ue?(fe.m=w.get(ue[0].toLowerCase()),Pe+ue[0].length):-1}function X(fe,Ce,Pe){return k(fe,e,Ce,Pe)}function B(fe,Ce,Pe){return k(fe,n,Ce,Pe)}function U(fe,Ce,Pe){return k(fe,r,Ce,Pe)}function K(fe){return s[fe.getDay()]}function te(fe){return a[fe.getDay()]}function se(fe){return c[fe.getMonth()]}function de(fe){return u[fe.getMonth()]}function q(fe){return i[+(fe.getHours()>=12)]}function Y(fe){return 1+~~(fe.getMonth()/3)}function re(fe){return s[fe.getUTCDay()]}function ce(fe){return a[fe.getUTCDay()]}function me(fe){return c[fe.getUTCMonth()]}function we(fe){return u[fe.getUTCMonth()]}function Le(fe){return i[+(fe.getUTCHours()>=12)]}function Xe(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var Ce=M(fe+="",A);return Ce.toString=function(){return fe},Ce},parse:function(fe){var Ce=I(fe+="",!1);return Ce.toString=function(){return fe},Ce},utcFormat:function(fe){var Ce=M(fe+="",P);return Ce.toString=function(){return fe},Ce},utcParse:function(fe){var Ce=I(fe+="",!0);return Ce.toString=function(){return fe},Ce}}}var LI={"-":"",_:" ",0:"0"},Xt=/^\s*\d+/,$Y=/^%/,jY=/[\\^$*+?|[\]().{}]/g;function We(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function qY(t){return t.replace(jY,"\\$&")}function qu(t){return new RegExp("^(?:"+t.map(qY).join("|")+")","i")}function Bu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function BY(t,e,n){var r=Xt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function HY(t,e,n){var r=Xt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function GY(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function zY(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function VY(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function UI(t,e,n){var r=Xt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function $I(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function FY(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function KY(t,e,n){var r=Xt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function WY(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function jI(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function YY(t,e,n){var r=Xt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function qI(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function JY(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function XY(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function QY(t,e,n){var r=Xt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ZY(t,e,n){var r=Xt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function eJ(t,e,n){var r=$Y.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function tJ(t,e,n){var r=Xt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function nJ(t,e,n){var r=Xt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function BI(t,e){return We(t.getDate(),e,2)}function rJ(t,e){return We(t.getHours(),e,2)}function iJ(t,e){return We(t.getHours()%12||12,e,2)}function aJ(t,e){return We(1+yf.count(Li(t),t),e,3)}function Ij(t,e){return We(t.getMilliseconds(),e,3)}function oJ(t,e){return Ij(t,e)+"000"}function sJ(t,e){return We(t.getMonth()+1,e,2)}function lJ(t,e){return We(t.getMinutes(),e,2)}function uJ(t,e){return We(t.getSeconds(),e,2)}function cJ(t){var e=t.getDay();return e===0?7:e}function fJ(t,e){return We(sm.count(Li(t)-1,t),e,2)}function Dj(t){var e=t.getDay();return e>=4||e===0?al(t):al.ceil(t)}function dJ(t,e){return t=Dj(t),We(al.count(Li(t),t)+(Li(t).getDay()===4),e,2)}function hJ(t){return t.getDay()}function pJ(t,e){return We(Wh.count(Li(t)-1,t),e,2)}function mJ(t,e){return We(t.getFullYear()%100,e,2)}function gJ(t,e){return t=Dj(t),We(t.getFullYear()%100,e,2)}function vJ(t,e){return We(t.getFullYear()%1e4,e,4)}function yJ(t,e){var n=t.getDay();return t=n>=4||n===0?al(t):al.ceil(t),We(t.getFullYear()%1e4,e,4)}function bJ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+We(e/60|0,"0",2)+We(e%60,"0",2)}function HI(t,e){return We(t.getUTCDate(),e,2)}function _J(t,e){return We(t.getUTCHours(),e,2)}function wJ(t,e){return We(t.getUTCHours()%12||12,e,2)}function SJ(t,e){return We(1+om.count(Ui(t),t),e,3)}function kj(t,e){return We(t.getUTCMilliseconds(),e,3)}function xJ(t,e){return kj(t,e)+"000"}function EJ(t,e){return We(t.getUTCMonth()+1,e,2)}function TJ(t,e){return We(t.getUTCMinutes(),e,2)}function AJ(t,e){return We(t.getUTCSeconds(),e,2)}function CJ(t){var e=t.getUTCDay();return e===0?7:e}function OJ(t,e){return We(lm.count(Ui(t)-1,t),e,2)}function Lj(t){var e=t.getUTCDay();return e>=4||e===0?ol(t):ol.ceil(t)}function RJ(t,e){return t=Lj(t),We(ol.count(Ui(t),t)+(Ui(t).getUTCDay()===4),e,2)}function PJ(t){return t.getUTCDay()}function MJ(t,e){return We(Yh.count(Ui(t)-1,t),e,2)}function NJ(t,e){return We(t.getUTCFullYear()%100,e,2)}function IJ(t,e){return t=Lj(t),We(t.getUTCFullYear()%100,e,2)}function DJ(t,e){return We(t.getUTCFullYear()%1e4,e,4)}function kJ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ol(t):ol.ceil(t),We(t.getUTCFullYear()%1e4,e,4)}function LJ(){return"+0000"}function GI(){return"%"}function zI(t){return+t}function VI(t){return Math.floor(+t/1e3)}var Rs,Uj,$j;UJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function UJ(t){return Rs=UY(t),Uj=Rs.format,Rs.parse,$j=Rs.utcFormat,Rs.utcParse,Rs}function $J(t){return new Date(t)}function jJ(t){return t instanceof Date?+t:+new Date(+t)}function KE(t,e,n,r,i,a,s,u,c,f){var h=IE(),p=h.invert,g=h.domain,b=f(".%L"),x=f(":%S"),E=f("%I:%M"),w=f("%I %p"),T=f("%a %d"),C=f("%b %d"),A=f("%B"),P=f("%Y");function O(M){return(c(M)<M?b:u(M)<M?x:s(M)<M?E:a(M)<M?w:r(M)<M?i(M)<M?T:C:n(M)<M?A:P)(M)}return h.invert=function(M){return new Date(p(M))},h.domain=function(M){return arguments.length?g(Array.from(M,jJ)):g().map($J)},h.ticks=function(M){var I=g();return t(I[0],I[I.length-1],M??10)},h.tickFormat=function(M,I){return I==null?O:f(I)},h.nice=function(M){var I=g();return(!M||typeof M.range!="function")&&(M=e(I[0],I[I.length-1],M??10)),M?g(Ej(I,M)):h},h.copy=function(){return vf(h,KE(t,e,n,r,i,a,s,u,c,f))},h}function qJ(){return _r.apply(KE(kY,LY,Li,VE,sm,yf,GE,BE,go,Uj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function BJ(){return _r.apply(KE(IY,DY,Ui,FE,lm,om,zE,HE,go,$j).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function um(){var t=0,e=1,n,r,i,a,s=Sn,u=!1,c;function f(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(a(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(u=!!p,f):u},f.interpolator=function(p){return arguments.length?(s=p,f):s};function h(p){return function(g){var b,x;return arguments.length?([b,x]=g,s=p(b,x),f):[s(0),s(1)]}}return f.range=h(Nl),f.rangeRound=h(NE),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function Ma(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function jj(){var t=Pa(um()(Sn));return t.copy=function(){return Ma(t,jj())},Gi.apply(t,arguments)}function qj(){var t=LE(um()).domain([1,10]);return t.copy=function(){return Ma(t,qj()).base(t.base())},Gi.apply(t,arguments)}function Bj(){var t=UE(um());return t.copy=function(){return Ma(t,Bj()).constant(t.constant())},Gi.apply(t,arguments)}function WE(){var t=$E(um());return t.copy=function(){return Ma(t,WE()).exponent(t.exponent())},Gi.apply(t,arguments)}function HJ(){return WE.apply(null,arguments).exponent(.5)}function Hj(){var t=[],e=Sn;function n(r){if(r!=null&&!isNaN(r=+r))return e((mf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ta),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>CW(t,a/r))},n.copy=function(){return Hj(e).domain(t)},Gi.apply(n,arguments)}function cm(){var t=0,e=.5,n=1,r=1,i,a,s,u,c,f=Sn,h,p=!1,g;function b(E){return isNaN(E=+E)?g:(E=.5+((E=+h(E))-a)*(r*E<r*a?u:c),f(p?Math.max(0,Math.min(1,E)):E))}b.domain=function(E){return arguments.length?([t,e,n]=E,i=h(t=+t),a=h(e=+e),s=h(n=+n),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,b):[t,e,n]},b.clamp=function(E){return arguments.length?(p=!!E,b):p},b.interpolator=function(E){return arguments.length?(f=E,b):f};function x(E){return function(w){var T,C,A;return arguments.length?([T,C,A]=w,f=eY(E,[T,C,A]),b):[f(0),f(.5),f(1)]}}return b.range=x(Nl),b.rangeRound=x(NE),b.unknown=function(E){return arguments.length?(g=E,b):g},function(E){return h=E,i=E(t),a=E(e),s=E(n),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,b}}function Gj(){var t=Pa(cm()(Sn));return t.copy=function(){return Ma(t,Gj())},Gi.apply(t,arguments)}function zj(){var t=LE(cm()).domain([.1,1,10]);return t.copy=function(){return Ma(t,zj()).base(t.base())},Gi.apply(t,arguments)}function Vj(){var t=UE(cm());return t.copy=function(){return Ma(t,Vj()).constant(t.constant())},Gi.apply(t,arguments)}function YE(){var t=$E(cm());return t.copy=function(){return Ma(t,YE()).exponent(t.exponent())},Gi.apply(t,arguments)}function GJ(){return YE.apply(null,arguments).exponent(.5)}const FI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Oc,scaleDiverging:Gj,scaleDivergingLog:zj,scaleDivergingPow:YE,scaleDivergingSqrt:GJ,scaleDivergingSymlog:Vj,scaleIdentity:xj,scaleImplicit:yS,scaleLinear:Fh,scaleLog:Tj,scaleOrdinal:RE,scalePoint:lc,scalePow:jE,scaleQuantile:Oj,scaleQuantize:Rj,scaleRadial:Cj,scaleSequential:jj,scaleSequentialLog:qj,scaleSequentialPow:WE,scaleSequentialQuantile:Hj,scaleSequentialSqrt:HJ,scaleSequentialSymlog:Bj,scaleSqrt:xY,scaleSymlog:Aj,scaleThreshold:Pj,scaleTime:qJ,scaleUtc:BJ,tickFormat:Sj},Symbol.toStringTag,{value:"Module"}));var k_,KI;function fm(){if(KI)return k_;KI=1;var t=Ol();function e(n,r,i){for(var a=-1,s=n.length;++a<s;){var u=n[a],c=r(u);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,h=u}return h}return k_=e,k_}var L_,WI;function Fj(){if(WI)return L_;WI=1;function t(e,n){return e>n}return L_=t,L_}var U_,YI;function zJ(){if(YI)return U_;YI=1;var t=fm(),e=Fj(),n=Pl();function r(i){return i&&i.length?t(i,n,e):void 0}return U_=r,U_}var VJ=zJ();const dm=Ve(VJ);var $_,JI;function Kj(){if(JI)return $_;JI=1;function t(e,n){return e<n}return $_=t,$_}var j_,XI;function FJ(){if(XI)return j_;XI=1;var t=fm(),e=Kj(),n=Pl();function r(i){return i&&i.length?t(i,n,e):void 0}return j_=r,j_}var KJ=FJ();const hm=Ve(KJ);var q_,QI;function WJ(){if(QI)return q_;QI=1;var t=cE(),e=ri(),n=ej(),r=Nn();function i(a,s){var u=r(a)?t:n;return u(a,e(s,3))}return q_=i,q_}var B_,ZI;function YJ(){if(ZI)return B_;ZI=1;var t=Q$(),e=WJ();function n(r,i){return t(e(r,i),1)}return B_=n,B_}var JJ=YJ();const XJ=Ve(JJ);var H_,eD;function QJ(){if(eD)return H_;eD=1;var t=EE();function e(n,r){return t(n,r)}return H_=e,H_}var ZJ=QJ();const pm=Ve(ZJ);var Il=1e9,eX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},XE,_t=!0,gr="[DecimalError] ",wo=gr+"Invalid argument: ",JE=gr+"Exponent out of range: ",Dl=Math.floor,oo=Math.pow,tX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Kn,Yt=1e7,vt=7,Wj=9007199254740991,Jh=Dl(Wj/vt),ge={};ge.absoluteValue=ge.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ge.comparedTo=ge.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ge.decimalPlaces=ge.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*vt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ge.dividedBy=ge.div=function(t){return Ii(this,new this.constructor(t))};ge.dividedToIntegerBy=ge.idiv=function(t){var e=this,n=e.constructor;return ut(Ii(e,new n(t),0,1),n.precision)};ge.equals=ge.eq=function(t){return!this.cmp(t)};ge.exponent=function(){return qt(this)};ge.greaterThan=ge.gt=function(t){return this.cmp(t)>0};ge.greaterThanOrEqualTo=ge.gte=function(t){return this.cmp(t)>=0};ge.isInteger=ge.isint=function(){return this.e>this.d.length-2};ge.isNegative=ge.isneg=function(){return this.s<0};ge.isPositive=ge.ispos=function(){return this.s>0};ge.isZero=function(){return this.s===0};ge.lessThan=ge.lt=function(t){return this.cmp(t)<0};ge.lessThanOrEqualTo=ge.lte=function(t){return this.cmp(t)<1};ge.logarithm=ge.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Kn))throw Error(gr+"NaN");if(n.s<1)throw Error(gr+(n.s?"NaN":"-Infinity"));return n.eq(Kn)?new r(0):(_t=!1,e=Ii(Ic(n,a),Ic(t,a),a),_t=!0,ut(e,i))};ge.minus=ge.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Xj(e,t):Yj(e,(t.s=-t.s,t))};ge.modulo=ge.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(gr+"NaN");return n.s?(_t=!1,e=Ii(n,t,0,1).times(t),_t=!0,n.minus(e)):ut(new r(n),i)};ge.naturalExponential=ge.exp=function(){return Jj(this)};ge.naturalLogarithm=ge.ln=function(){return Ic(this)};ge.negated=ge.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ge.plus=ge.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Yj(e,t):Xj(e,(t.s=-t.s,t))};ge.precision=ge.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(wo+t);if(e=qt(i)+1,r=i.d.length-1,n=r*vt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ge.squareRoot=ge.sqrt=function(){var t,e,n,r,i,a,s,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(gr+"NaN")}for(t=qt(u),_t=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Xr(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Dl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(Ii(u,a,s+2)).times(.5),Xr(a.d).slice(0,s)===(e=Xr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(ut(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(e!="9999")break;s+=4}return _t=!0,ut(r,n)};ge.times=ge.mul=function(t){var e,n,r,i,a,s,u,c,f,h=this,p=h.constructor,g=h.d,b=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,c=g.length,f=b.length,c<f&&(a=g,g=b,b=a,s=c,c=f,f=s),a=[],s=c+f,r=s;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)u=a[i]+b[r]*g[i-r-1]+e,a[i--]=u%Yt|0,e=u/Yt|0;a[i]=(a[i]+e)%Yt|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,_t?ut(t,p.precision):t};ge.toDecimalPlaces=ge.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ei(t,0,Il),e===void 0?e=r.rounding:ei(e,0,8),ut(n,t+qt(n)+1,e))};ge.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ao(r,!0):(ei(t,0,Il),e===void 0?e=i.rounding:ei(e,0,8),r=ut(new i(r),t+1,e),n=Ao(r,!0,t+1)),n};ge.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Ao(i):(ei(t,0,Il),e===void 0?e=a.rounding:ei(e,0,8),r=ut(new a(i),t+qt(i)+1,e),n=Ao(r.abs(),!1,t+qt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ge.toInteger=ge.toint=function(){var t=this,e=t.constructor;return ut(new e(t),qt(t)+1,e.rounding)};ge.toNumber=function(){return+this};ge.toPower=ge.pow=function(t){var e,n,r,i,a,s,u=this,c=u.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(Kn);if(u=new c(u),!u.s){if(t.s<1)throw Error(gr+"Infinity");return u}if(u.eq(Kn))return u;if(r=c.precision,t.eq(Kn))return ut(u,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=u.s,s){if((n=h<0?-h:h)<=Wj){for(i=new c(Kn),e=Math.ceil(r/vt+4),_t=!1;n%2&&(i=i.times(u),nD(i.d,e)),n=Dl(n/2),n!==0;)u=u.times(u),nD(u.d,e);return _t=!0,t.s<0?new c(Kn).div(i):ut(i,r)}}else if(a<0)throw Error(gr+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,_t=!1,i=t.times(Ic(u,r+f)),_t=!0,i=Jj(i),i.s=a,i};ge.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=qt(i),r=Ao(i,n<=a.toExpNeg||n>=a.toExpPos)):(ei(t,1,Il),e===void 0?e=a.rounding:ei(e,0,8),i=ut(new a(i),t,e),n=qt(i),r=Ao(i,t<=n||n<=a.toExpNeg,t)),r};ge.toSignificantDigits=ge.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ei(t,1,Il),e===void 0?e=r.rounding:ei(e,0,8)),ut(new r(n),t,e)};ge.toString=ge.valueOf=ge.val=ge.toJSON=ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=qt(t),n=t.constructor;return Ao(t,e<=n.toExpNeg||e>=n.toExpPos)};function Yj(t,e){var n,r,i,a,s,u,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),_t?ut(e,p):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,u=f.length):(r=f,i=s,u=c.length),s=Math.ceil(p/vt),u=s>u?s+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=c.length,a=f.length,u-a<0&&(a=u,r=f,f=c,c=r),n=0;a;)n=(c[--a]=c[a]+f[a]+n)/Yt|0,c[a]%=Yt;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,_t?ut(e,p):e}function ei(t,e,n){if(t!==~~t||t<e||t>n)throw Error(wo+t)}function Xr(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=vt-r.length,n&&(a+=wa(n)),a+=r;s=t[e],r=s+"",n=vt-r.length,n&&(a+=wa(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Ii=(function(){function t(r,i){var a,s=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+s,r[u]=a%Yt|0,s=a/Yt|0;return s&&r.unshift(s),r}function e(r,i,a,s){var u,c;if(a!=s)c=a>s?1:-1;else for(u=c=0;u<a;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Yt+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var u,c,f,h,p,g,b,x,E,w,T,C,A,P,O,M,I,k,L=r.constructor,G=r.s==i.s?1:-1,$=r.d,W=i.d;if(!r.s)return new L(r);if(!i.s)throw Error(gr+"Division by zero");for(c=r.e-i.e,I=W.length,O=$.length,b=new L(G),x=b.d=[],f=0;W[f]==($[f]||0);)++f;if(W[f]>($[f]||0)&&--c,a==null?C=a=L.precision:s?C=a+(qt(r)-qt(i))+1:C=a,C<0)return new L(0);if(C=C/vt+2|0,f=0,I==1)for(h=0,W=W[0],C++;(f<O||h)&&C--;f++)A=h*Yt+($[f]||0),x[f]=A/W|0,h=A%W|0;else{for(h=Yt/(W[0]+1)|0,h>1&&(W=t(W,h),$=t($,h),I=W.length,O=$.length),P=I,E=$.slice(0,I),w=E.length;w<I;)E[w++]=0;k=W.slice(),k.unshift(0),M=W[0],W[1]>=Yt/2&&++M;do h=0,u=e(W,E,I,w),u<0?(T=E[0],I!=w&&(T=T*Yt+(E[1]||0)),h=T/M|0,h>1?(h>=Yt&&(h=Yt-1),p=t(W,h),g=p.length,w=E.length,u=e(p,E,g,w),u==1&&(h--,n(p,I<g?k:W,g))):(h==0&&(u=h=1),p=W.slice()),g=p.length,g<w&&p.unshift(0),n(E,p,w),u==-1&&(w=E.length,u=e(W,E,I,w),u<1&&(h++,n(E,I<w?k:W,w))),w=E.length):u===0&&(h++,E=[0]),x[f++]=h,u&&E[0]?E[w++]=$[P]||0:(E=[$[P]],w=1);while((P++<O||E[0]!==void 0)&&C--)}return x[0]||x.shift(),b.e=c,ut(b,s?a+qt(b)+1:a)}})();function Jj(t,e){var n,r,i,a,s,u,c=0,f=0,h=t.constructor,p=h.precision;if(qt(t)>16)throw Error(JE+qt(t));if(!t.s)return new h(Kn);for(_t=!1,u=p,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(r=Math.log(oo(2,f))/Math.LN10*2+5|0,u+=r,n=i=a=new h(Kn),h.precision=u;;){if(i=ut(i.times(t),u),n=n.times(++c),s=a.plus(Ii(i,n,u)),Xr(s.d).slice(0,u)===Xr(a.d).slice(0,u)){for(;f--;)a=ut(a.times(a),u);return h.precision=p,e==null?(_t=!0,ut(a,p)):a}a=s}}function qt(t){for(var e=t.e*vt,n=t.d[0];n>=10;n/=10)e++;return e}function G_(t,e,n){if(e>t.LN10.sd())throw _t=!0,n&&(t.precision=n),Error(gr+"LN10 precision limit exceeded");return ut(new t(t.LN10),e)}function wa(t){for(var e="";t--;)e+="0";return e}function Ic(t,e){var n,r,i,a,s,u,c,f,h,p=1,g=10,b=t,x=b.d,E=b.constructor,w=E.precision;if(b.s<1)throw Error(gr+(b.s?"NaN":"-Infinity"));if(b.eq(Kn))return new E(0);if(e==null?(_t=!1,f=w):f=e,b.eq(10))return e==null&&(_t=!0),G_(E,f);if(f+=g,E.precision=f,n=Xr(x),r=n.charAt(0),a=qt(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=Xr(b.d),r=n.charAt(0),p++;a=qt(b),r>1?(b=new E("0."+n),a++):b=new E(r+"."+n.slice(1))}else return c=G_(E,f+2,w).times(a+""),b=Ic(new E(r+"."+n.slice(1)),f-g).plus(c),E.precision=w,e==null?(_t=!0,ut(b,w)):b;for(u=s=b=Ii(b.minus(Kn),b.plus(Kn),f),h=ut(b.times(b),f),i=3;;){if(s=ut(s.times(h),f),c=u.plus(Ii(s,new E(i),f)),Xr(c.d).slice(0,f)===Xr(u.d).slice(0,f))return u=u.times(2),a!==0&&(u=u.plus(G_(E,f+2,w).times(a+""))),u=Ii(u,new E(p),f),E.precision=w,e==null?(_t=!0,ut(u,w)):u;u=c,i+=2}}function tD(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Dl(n/vt),t.d=[],r=(n+1)%vt,n<0&&(r+=vt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=vt;r<i;)t.d.push(+e.slice(r,r+=vt));e=e.slice(r),r=vt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),_t&&(t.e>Jh||t.e<-Jh))throw Error(JE+n)}else t.s=0,t.e=0,t.d=[0];return t}function ut(t,e,n){var r,i,a,s,u,c,f,h,p=t.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=vt,i=e,f=p[h=0];else{if(h=Math.ceil((r+1)/vt),a=p.length,h>=a)return t;for(f=a=p[h],s=1;a>=10;a/=10)s++;r%=vt,i=r-vt+s}if(n!==void 0&&(a=oo(10,s-i-1),u=f/a%10|0,c=e<0||p[h+1]!==void 0||f%a,c=n<4?(u||c)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?f/oo(10,s-i):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(a=qt(t),p.length=1,e=e-a-1,p[0]=oo(10,(vt-e%vt)%vt),t.e=Dl(-e/vt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=oo(10,vt-r),p[h]=i>0?(f/oo(10,s-i)%oo(10,i)|0)*a:0),c)for(;;)if(h==0){(p[0]+=a)==Yt&&(p[0]=1,++t.e);break}else{if(p[h]+=a,p[h]!=Yt)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(_t&&(t.e>Jh||t.e<-Jh))throw Error(JE+qt(t));return t}function Xj(t,e){var n,r,i,a,s,u,c,f,h,p,g=t.constructor,b=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),_t?ut(e,b):e;if(c=t.d,p=e.d,r=e.e,f=t.e,c=c.slice(),s=f-r,s){for(h=s<0,h?(n=c,s=-s,u=p.length):(n=p,r=f,u=c.length),i=Math.max(Math.ceil(b/vt),u)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=p.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}s=0}for(h&&(n=c,c=p,p=n,e.s=-e.s),u=c.length,i=p.length-u;i>0;--i)c[u++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=Yt-1;--c[a],c[i]+=Yt}c[i]-=p[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,_t?ut(e,b):e):new g(0)}function Ao(t,e,n){var r,i=qt(t),a=Xr(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+wa(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+wa(-i-1)+a,n&&(r=n-s)>0&&(a+=wa(r))):i>=s?(a+=wa(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+wa(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=wa(r))),t.s<0?"-"+a:a}function nD(t,e){if(t.length>e)return t.length=e,!0}function Qj(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(wo+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return tD(s,a.toString())}else if(typeof a!="string")throw Error(wo+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,tX.test(a))tD(s,a);else throw Error(wo+a)}if(i.prototype=ge,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Qj,i.config=i.set=nX,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function nX(t){if(!t||typeof t!="object")throw Error(gr+"Object expected");var e,n,r,i=["precision",1,Il,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Dl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(wo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(wo+n+": "+r);return this}var XE=Qj(eX);Kn=new XE(1);const st=XE;function rX(t){return sX(t)||oX(t)||aX(t)||iX()}function iX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aX(t,e){if(t){if(typeof t=="string")return SS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SS(t,e)}}function oX(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function sX(t){if(Array.isArray(t))return SS(t)}function SS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var lX=function(e){return e},Zj={},eq=function(e){return e===Zj},rD=function(e){return function n(){return arguments.length===0||arguments.length===1&&eq(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},uX=function t(e,n){return e===1?n:rD(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(u){return u!==Zj}).length;return s>=e?n.apply(void 0,i):t(e-s,rD(function(){for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];var h=i.map(function(p){return eq(p)?c.shift():p});return n.apply(void 0,rX(h).concat(c))}))})},mm=function(e){return uX(e.length,e)},xS=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},cX=mm(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),fX=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return lX;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(u,c){return c(u)},a.apply(void 0,arguments))}},ES=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},tq=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(u,c){return u===n[c]})||(n=a,r=e.apply(void 0,a)),r}};function dX(t){var e;return t===0?e=1:e=Math.floor(new st(t).abs().log(10).toNumber())+1,e}function hX(t,e,n){for(var r=new st(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var pX=mm(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),mX=mm(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),gX=mm(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const gm={rangeStep:hX,getDigitCount:dX,interpolateNumber:pX,uninterpolateNumber:mX,uninterpolateTruncation:gX};function TS(t){return bX(t)||yX(t)||nq(t)||vX()}function vX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yX(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function bX(t){if(Array.isArray(t))return AS(t)}function Dc(t,e){return SX(t)||wX(t,e)||nq(t,e)||_X()}function _X(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nq(t,e){if(t){if(typeof t=="string")return AS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AS(t,e)}}function AS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wX(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),u;!(r=(u=s.next()).done)&&(n.push(u.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function SX(t){if(Array.isArray(t))return t}function rq(t){var e=Dc(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function iq(t,e,n){if(t.lte(0))return new st(0);var r=gm.getDigitCount(t.toNumber()),i=new st(10).pow(r),a=t.div(i),s=r!==1?.05:.1,u=new st(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=u.mul(i);return e?c:new st(Math.ceil(c))}function xX(t,e,n){var r=1,i=new st(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new st(10).pow(gm.getDigitCount(t)-1),i=new st(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new st(Math.floor(t)))}else t===0?i=new st(Math.floor((e-1)/2)):n||(i=new st(Math.floor(t)));var s=Math.floor((e-1)/2),u=fX(cX(function(c){return i.add(new st(c-s).mul(r)).toNumber()}),xS);return u(0,e)}function aq(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new st(0),tickMin:new st(0),tickMax:new st(0)};var a=iq(new st(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new st(0):(s=new st(t).add(e).div(2),s=s.sub(new st(s).mod(a)));var u=Math.ceil(s.sub(t).div(a).toNumber()),c=Math.ceil(new st(e).sub(s).div(a).toNumber()),f=u+c+1;return f>n?aq(t,e,n,r,i+1):(f<n&&(c=e>0?c+(n-f):c,u=e>0?u:u+(n-f)),{step:a,tickMin:s.sub(new st(u).mul(a)),tickMax:s.add(new st(c).mul(a))})}function EX(t){var e=Dc(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),u=rq([n,r]),c=Dc(u,2),f=c[0],h=c[1];if(f===-1/0||h===1/0){var p=h===1/0?[f].concat(TS(xS(0,i-1).map(function(){return 1/0}))):[].concat(TS(xS(0,i-1).map(function(){return-1/0})),[h]);return n>r?ES(p):p}if(f===h)return xX(f,i,a);var g=aq(f,h,s,a),b=g.step,x=g.tickMin,E=g.tickMax,w=gm.rangeStep(x,E.add(new st(.1).mul(b)),b);return n>r?ES(w):w}function TX(t,e){var n=Dc(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=rq([r,i]),u=Dc(s,2),c=u[0],f=u[1];if(c===-1/0||f===1/0)return[r,i];if(c===f)return[c];var h=Math.max(e,2),p=iq(new st(f).sub(c).div(h-1),a,0),g=[].concat(TS(gm.rangeStep(new st(c),new st(f).sub(new st(.99).mul(p)),p)),[f]);return r>i?ES(g):g}var AX=tq(EX),CX=tq(TX),OX="Invariant failed";function Co(t,e){throw new Error(OX)}var RX=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function sl(t){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sl(t)}function Xh(){return Xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xh.apply(this,arguments)}function PX(t,e){return DX(t)||IX(t,e)||NX(t,e)||MX()}function MX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NX(t,e){if(t){if(typeof t=="string")return iD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iD(t,e)}}function iD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function DX(t){if(Array.isArray(t))return t}function kX(t,e){if(t==null)return{};var n=LX(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function UX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $X(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lq(r.key),r)}}function jX(t,e,n){return e&&$X(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qX(t,e,n){return e=Qh(e),BX(t,oq()?Reflect.construct(e,n||[],Qh(t).constructor):e.apply(t,n))}function BX(t,e){if(e&&(sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HX(t)}function HX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oq=function(){return!!t})()}function Qh(t){return Qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qh(t)}function GX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CS(t,e)}function CS(t,e){return CS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CS(t,e)}function sq(t,e,n){return e=lq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lq(t){var e=zX(t,"string");return sl(e)=="symbol"?e:e+""}function zX(t,e){if(sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vm=(function(t){function e(){return UX(this,e),qX(this,e,arguments)}return GX(e,t),jX(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,u=r.dataKey,c=r.data,f=r.dataPointFormatter,h=r.xAxis,p=r.yAxis,g=kX(r,RX),b=Ae(g,!1);this.props.direction==="x"&&h.type!=="number"&&Co();var x=c.map(function(E){var w=f(E,u),T=w.x,C=w.y,A=w.value,P=w.errorVal;if(!P)return null;var O=[],M,I;if(Array.isArray(P)){var k=PX(P,2);M=k[0],I=k[1]}else M=I=P;if(a==="vertical"){var L=h.scale,G=C+i,$=G+s,W=G-s,F=L(A-M),X=L(A+I);O.push({x1:X,y1:$,x2:X,y2:W}),O.push({x1:F,y1:G,x2:X,y2:G}),O.push({x1:F,y1:$,x2:F,y2:W})}else if(a==="horizontal"){var B=p.scale,U=T+i,K=U-s,te=U+s,se=B(A-M),de=B(A+I);O.push({x1:K,y1:de,x2:te,y2:de}),O.push({x1:U,y1:se,x2:U,y2:de}),O.push({x1:K,y1:se,x2:te,y2:se})}return z.createElement(rt,Xh({className:"recharts-errorBar",key:"bar-".concat(O.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},b),O.map(function(q){return z.createElement("line",Xh({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return z.createElement(rt,{className:"recharts-errorBars"},x)}}])})(z.Component);sq(vm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});sq(vm,"displayName","ErrorBar");function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function aD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function to(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(n),!0).forEach(function(r){VX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VX(t,e,n){return e=FX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FX(t){var e=KX(t,"string");return kc(e)=="symbol"?e:e+""}function KX(t,e){if(kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uq=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=zn(n,bo);if(!s)return null;var u=bo.defaultProps,c=u!==void 0?to(to({},u),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:a==="children"?f=(r||[]).reduce(function(h,p){var g=p.item,b=p.props,x=b.sectors||b.data||[];return h.concat(x.map(function(E){return{type:s.props.iconType||g.props.legendType,value:E.name,color:E.fill,payload:E}}))},[]):f=(r||[]).map(function(h){var p=h.item,g=p.type.defaultProps,b=g!==void 0?to(to({},g),p.props):{},x=b.dataKey,E=b.name,w=b.legendType,T=b.hide;return{inactive:T,dataKey:x,type:c.iconType||w||"square",color:QE(p),value:E||x,payload:b}}),to(to(to({},c),bo.getWithHeight(s,i)),{},{payload:f,item:s})};function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function oD(t){return XX(t)||JX(t)||YX(t)||WX()}function WX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YX(t,e){if(t){if(typeof t=="string")return OS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OS(t,e)}}function JX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XX(t){if(Array.isArray(t))return OS(t)}function OS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sD(Object(n),!0).forEach(function(r){Ys(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ys(t,e,n){return e=QX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QX(t){var e=ZX(t,"string");return Lc(e)=="symbol"?e:e+""}function ZX(t,e){if(Lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pn(t,e,n){return Ue(t)||Ue(e)?n:Vt(e)?Wn(t,e,n):Oe(e)?e(t):n}function uc(t,e,n,r){var i=XJ(t,function(u){return pn(u,e)});if(n==="number"){var a=i.filter(function(u){return he(u)||parseFloat(u)});return a.length?[hm(a),dm(a)]:[1/0,-1/0]}var s=r?i.filter(function(u){return!Ue(u)}):i;return s.map(function(u){return Vt(u)||u instanceof Date?u:""})}var eQ=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,u=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(u<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,f=0;f<u;f++){var h=f>0?i[f-1].coordinate:i[u-1].coordinate,p=i[f].coordinate,g=f>=u-1?i[0].coordinate:i[f+1].coordinate,b=void 0;if(_n(p-h)!==_n(g-p)){var x=[];if(_n(g-p)===_n(c[1]-c[0])){b=g;var E=p+c[1]-c[0];x[0]=Math.min(E,(E+h)/2),x[1]=Math.max(E,(E+h)/2)}else{b=h;var w=g+c[1]-c[0];x[0]=Math.min(p,(w+p)/2),x[1]=Math.max(p,(w+p)/2)}var T=[Math.min(p,(b+p)/2),Math.max(p,(b+p)/2)];if(e>T[0]&&e<=T[1]||e>=x[0]&&e<=x[1]){s=i[f].index;break}}else{var C=Math.min(h,g),A=Math.max(h,g);if(e>(C+p)/2&&e<=(A+p)/2){s=i[f].index;break}}}else for(var P=0;P<u;P++)if(P===0&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P>0&&P<u-1&&e>(r[P].coordinate+r[P-1].coordinate)/2&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P===u-1&&e>(r[P].coordinate+r[P-1].coordinate)/2){s=r[P].index;break}return s},QE=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Pt(Pt({},e.type.defaultProps),e.props):e.props,s=a.stroke,u=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:u;break;default:c=u;break}return c},tQ=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},u=Object.keys(a),c=0,f=u.length;c<f;c++)for(var h=a[u[c]].stackGroups,p=Object.keys(h),g=0,b=p.length;g<b;g++){var x=h[p[g]],E=x.items,w=x.cateAxisId,T=E.filter(function(I){return Ni(I.type).indexOf("Bar")>=0});if(T&&T.length){var C=T[0].type.defaultProps,A=C!==void 0?Pt(Pt({},C),T[0].props):T[0].props,P=A.barSize,O=A[w];s[O]||(s[O]=[]);var M=Ue(P)?n:P;s[O].push({item:T[0],stackList:T.slice(1),barSize:Ue(M)?void 0:wn(M,r,0)})}}return s},nQ=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,u=e.maxBarSize,c=s.length;if(c<1)return null;var f=wn(n,i,0,!0),h,p=[];if(s[0].barSize===+s[0].barSize){var g=!1,b=i/c,x=s.reduce(function(P,O){return P+O.barSize||0},0);x+=(c-1)*f,x>=i&&(x-=(c-1)*f,f=0),x>=i&&b>0&&(g=!0,b*=.9,x=c*b);var E=(i-x)/2>>0,w={offset:E-f,size:0};h=s.reduce(function(P,O){var M={item:O.item,position:{offset:w.offset+w.size+f,size:g?b:O.barSize}},I=[].concat(oD(P),[M]);return w=I[I.length-1].position,O.stackList&&O.stackList.length&&O.stackList.forEach(function(k){I.push({item:k,position:w})}),I},p)}else{var T=wn(r,i,0,!0);i-2*T-(c-1)*f<=0&&(f=0);var C=(i-2*T-(c-1)*f)/c;C>1&&(C>>=0);var A=u===+u?Math.min(C,u):C;h=s.reduce(function(P,O,M){var I=[].concat(oD(P),[{item:O.item,position:{offset:T+(C+f)*M+(C-A)/2,size:A}}]);return O.stackList&&O.stackList.length&&O.stackList.forEach(function(k){I.push({item:k,position:I[I.length-1].position})}),I},p)}return h},rQ=function(e,n,r,i){var a=r.children,s=r.width,u=r.margin,c=s-(u.left||0)-(u.right||0),f=uq({children:a,legendWidth:c});if(f){var h=i||{},p=h.width,g=h.height,b=f.align,x=f.verticalAlign,E=f.layout;if((E==="vertical"||E==="horizontal"&&x==="middle")&&b!=="center"&&he(e[b]))return Pt(Pt({},e),{},Ys({},b,e[b]+(p||0)));if((E==="horizontal"||E==="vertical"&&b==="center")&&x!=="middle"&&he(e[x]))return Pt(Pt({},e),{},Ys({},x,e[x]+(g||0)))}return e},iQ=function(e,n,r){return Ue(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},cq=function(e,n,r,i,a){var s=n.props.children,u=hr(s,vm).filter(function(f){return iQ(i,a,f.props.direction)});if(u&&u.length){var c=u.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var p=pn(h,r);if(Ue(p))return f;var g=Array.isArray(p)?[hm(p),dm(p)]:[p,p],b=c.reduce(function(x,E){var w=pn(h,E,0),T=g[0]-Math.abs(Array.isArray(w)?w[0]:w),C=g[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(T,x[0]),Math.max(C,x[1])]},[1/0,-1/0]);return[Math.min(b[0],f[0]),Math.max(b[1],f[1])]},[1/0,-1/0])}return null},aQ=function(e,n,r,i,a){var s=n.map(function(u){return cq(e,u,r,a,i)}).filter(function(u){return!Ue(u)});return s&&s.length?s.reduce(function(u,c){return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]):null},fq=function(e,n,r,i,a){var s=n.map(function(c){var f=c.props.dataKey;return r==="number"&&f&&cq(e,c,f,i)||uc(e,f,r,a)});if(r==="number")return s.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var u={};return s.reduce(function(c,f){for(var h=0,p=f.length;h<p;h++)u[f[h]]||(u[f[h]]=!0,c.push(f[h]));return c},[])},dq=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},hq=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var a,s,u=e.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(s=!0),c.coordinate});return a||u.push(n),s||u.push(r),u},Pi=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,u=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?_n(u[0]-u[1])*2*f:f,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(p){var g=a?a.indexOf(p):p;return{coordinate:i(g)+f,value:p,offset:f}});return h.filter(function(p){return!df(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,g){return{coordinate:i(p)+f,value:p,index:g,offset:f}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+f,value:p,offset:f}}):i.domain().map(function(p,g){return{coordinate:i(p)+f,value:a?a[p]:p,index:g,offset:f}})},z_=new WeakMap,Xd=function(e,n){if(typeof n!="function")return e;z_.has(e)||z_.set(e,new WeakMap);var r=z_.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},pq=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,u=e.axisType;if(i==="auto")return s==="radial"&&u==="radiusAxis"?{scale:Oc(),realScaleType:"band"}:s==="radial"&&u==="angleAxis"?{scale:Fh(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:lc(),realScaleType:"point"}:a==="category"?{scale:Oc(),realScaleType:"band"}:{scale:Fh(),realScaleType:"linear"};if(So(i)){var c="scale".concat(Qp(i));return{scale:(FI[c]||lc)(),realScaleType:FI[c]?c:"point"}}return Oe(i)?{scale:i}:{scale:lc(),realScaleType:"point"}},lD=1e-4,mq=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-lD,s=Math.max(i[0],i[1])+lD,u=e(n[0]),c=e(n[r-1]);(u<a||u>s||c<a||c>s)&&e.domain([n[0],n[r-1]])}},oQ=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},sQ=function(e,n){if(!n||n.length!==2||!he(n[0])||!he(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!he(e[0])||e[0]<r)&&(a[0]=r),(!he(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},lQ=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,u=0;u<n;++u){var c=df(e[u][r][1])?e[u][r][0]:e[u][r][1];c>=0?(e[u][r][0]=a,e[u][r][1]=a+c,a=e[u][r][1]):(e[u][r][0]=s,e[u][r][1]=s+c,s=e[u][r][1])}},uQ=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var u=df(e[s][r][1])?e[s][r][0]:e[s][r][1];u>=0?(e[s][r][0]=a,e[s][r][1]=a+u,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},cQ={sign:lQ,expand:J8,none:Zs,silhouette:X8,wiggle:Q8,positive:uQ},fQ=function(e,n,r){var i=n.map(function(u){return u.props.dataKey}),a=cQ[r],s=Y8().keys(i).value(function(u,c){return+pn(u,c,0)}).order(iS).offset(a);return s(e)},dQ=function(e,n,r,i,a,s){if(!e)return null;var u=s?n.reverse():n,c={},f=u.reduce(function(p,g){var b,x=(b=g.type)!==null&&b!==void 0&&b.defaultProps?Pt(Pt({},g.type.defaultProps),g.props):g.props,E=x.stackId,w=x.hide;if(w)return p;var T=x[r],C=p[T]||{hasStack:!1,stackGroups:{}};if(Vt(E)){var A=C.stackGroups[E]||{numericAxisId:r,cateAxisId:i,items:[]};A.items.push(g),C.hasStack=!0,C.stackGroups[E]=A}else C.stackGroups[hf("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[g]};return Pt(Pt({},p),{},Ys({},T,C))},c),h={};return Object.keys(f).reduce(function(p,g){var b=f[g];if(b.hasStack){var x={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(E,w){var T=b.stackGroups[w];return Pt(Pt({},E),{},Ys({},w,{numericAxisId:r,cateAxisId:i,items:T.items,stackedData:fQ(e,T.items,a)}))},x)}return Pt(Pt({},p),{},Ys({},g,b))},h)},gq=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,u=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=AX(f,a,u);return e.domain([hm(h),dm(h)]),{niceTicks:h}}if(a&&i==="number"){var p=e.domain(),g=CX(p,a,u);return{niceTicks:g}}return null},uD=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,u=e.index;if(n.type==="category")return r[u]?r[u].coordinate+i:null;var c=pn(s,n.dataKey,n.domain[u]);return Ue(c)?null:n.scale(c)-a/2+i},hQ=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},pQ=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Pt(Pt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Vt(a)){var s=n[a];if(s){var u=s.items.indexOf(e);return u>=0?s.stackedData[u]:null}}return null},mQ=function(e){return e.reduce(function(n,r){return[hm(r.concat([n[0]]).filter(he)),dm(r.concat([n[1]]).filter(he))]},[1/0,-1/0])},vq=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],u=s.stackedData,c=u.reduce(function(f,h){var p=mQ(h.slice(n,r+1));return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},cD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RS=function(e,n,r){if(Oe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(he(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(cD.test(e[0])){var a=+cD.exec(e[0])[1];i[0]=n[0]-a}else Oe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(he(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(fD.test(e[1])){var s=+fD.exec(e[1])[1];i[1]=n[1]+s}else Oe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Zh=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=AE(n,function(p){return p.coordinate}),s=1/0,u=1,c=a.length;u<c;u++){var f=a[u],h=a[u-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},dD=function(e,n,r){return!e||!e.length||pm(e,Wn(r,"type.defaultProps.domain"))?n:e},yq=function(e,n){var r=e.type.defaultProps?Pt(Pt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,u=r.formatter,c=r.tooltipType,f=r.chartType,h=r.hide;return Pt(Pt({},Ae(e,!1)),{},{dataKey:i,unit:s,formatter:u,name:a||i,color:QE(e),value:pn(n,i),type:c,payload:n,chartType:f,hide:h})};function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function hD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(n),!0).forEach(function(r){bq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bq(t,e,n){return e=gQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gQ(t){var e=vQ(t,"string");return Uc(e)=="symbol"?e:e+""}function vQ(t,e){if(Uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yQ(t,e){return SQ(t)||wQ(t,e)||_Q(t,e)||bQ()}function bQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Q(t,e){if(t){if(typeof t=="string")return pD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pD(t,e)}}function pD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function SQ(t){if(Array.isArray(t))return t}var ep=Math.PI/180,xQ=function(e){return e*180/Math.PI},ht=function(e,n,r,i){return{x:e+Math.cos(-ep*i)*r,y:n+Math.sin(-ep*i)*r}},_q=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},EQ=function(e,n,r,i,a){var s=e.width,u=e.height,c=e.startAngle,f=e.endAngle,h=wn(e.cx,s,s/2),p=wn(e.cy,u,u/2),g=_q(s,u,r),b=wn(e.innerRadius,g,0),x=wn(e.outerRadius,g,g*.8),E=Object.keys(n);return E.reduce(function(w,T){var C=n[T],A=C.domain,P=C.reversed,O;if(Ue(C.range))i==="angleAxis"?O=[c,f]:i==="radiusAxis"&&(O=[b,x]),P&&(O=[O[1],O[0]]);else{O=C.range;var M=O,I=yQ(M,2);c=I[0],f=I[1]}var k=pq(C,a),L=k.realScaleType,G=k.scale;G.domain(A).range(O),mq(G);var $=gq(G,Ai(Ai({},C),{},{realScaleType:L})),W=Ai(Ai(Ai({},C),$),{},{range:O,radius:x,realScaleType:L,scale:G,cx:h,cy:p,innerRadius:b,outerRadius:x,startAngle:c,endAngle:f});return Ai(Ai({},w),{},bq({},T,W))},{})},TQ=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},AQ=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,u=TQ({x:r,y:i},{x:a,y:s});if(u<=0)return{radius:u};var c=(r-a)/u,f=Math.acos(c);return i>s&&(f=2*Math.PI-f),{radius:u,angle:xQ(f),angleInRadian:f}},CQ=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},OQ=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),u=Math.min(a,s);return e+u*360},mD=function(e,n){var r=e.x,i=e.y,a=AQ({x:r,y:i},n),s=a.radius,u=a.angle,c=n.innerRadius,f=n.outerRadius;if(s<c||s>f)return!1;if(s===0)return!0;var h=CQ(n),p=h.startAngle,g=h.endAngle,b=u,x;if(p<=g){for(;b>g;)b-=360;for(;b<p;)b+=360;x=b>=p&&b<=g}else{for(;b>p;)b-=360;for(;b<g;)b+=360;x=b>=g&&b<=p}return x?Ai(Ai({},n),{},{radius:s,angle:OQ(b,n)}):null},wq=function(e){return!j.isValidElement(e)&&!Oe(e)&&typeof e!="boolean"?e.className:""};function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}var RQ=["offset"];function PQ(t){return DQ(t)||IQ(t)||NQ(t)||MQ()}function MQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NQ(t,e){if(t){if(typeof t=="string")return PS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PS(t,e)}}function IQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DQ(t){if(Array.isArray(t))return PS(t)}function PS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kQ(t,e){if(t==null)return{};var n=LQ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(n),!0).forEach(function(r){UQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UQ(t,e,n){return e=$Q(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Q(t){var e=jQ(t,"string");return $c(e)=="symbol"?e:e+""}function jQ(t,e){if($c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jc.apply(this,arguments)}var qQ=function(e){var n=e.value,r=e.formatter,i=Ue(e.children)?n:e.children;return Oe(r)?r(i):i},BQ=function(e,n){var r=_n(n-e),i=Math.min(Math.abs(n-e),360);return r*i},HQ=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,u=e.className,c=a,f=c.cx,h=c.cy,p=c.innerRadius,g=c.outerRadius,b=c.startAngle,x=c.endAngle,E=c.clockWise,w=(p+g)/2,T=BQ(b,x),C=T>=0?1:-1,A,P;i==="insideStart"?(A=b+C*s,P=E):i==="insideEnd"?(A=x-C*s,P=!E):i==="end"&&(A=x+C*s,P=E),P=T<=0?P:!P;var O=ht(f,h,w,A),M=ht(f,h,w,A+(P?1:-1)*359),I="M".concat(O.x,",").concat(O.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(P?0:1,`,
    `).concat(M.x,",").concat(M.y),k=Ue(e.id)?hf("recharts-radial-line-"):e.id;return z.createElement("text",jc({},r,{dominantBaseline:"central",className:ke("recharts-radial-bar-label",u)}),z.createElement("defs",null,z.createElement("path",{id:k,d:I})),z.createElement("textPath",{xlinkHref:"#".concat(k)},n))},GQ=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,u=a.cy,c=a.innerRadius,f=a.outerRadius,h=a.startAngle,p=a.endAngle,g=(h+p)/2;if(i==="outside"){var b=ht(s,u,f+r,g),x=b.x,E=b.y;return{x,y:E,textAnchor:x>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"end"};var w=(c+f)/2,T=ht(s,u,w,g),C=T.x,A=T.y;return{x:C,y:A,textAnchor:"middle",verticalAnchor:"middle"}},zQ=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,u=s.x,c=s.y,f=s.width,h=s.height,p=h>=0?1:-1,g=p*i,b=p>0?"end":"start",x=p>0?"start":"end",E=f>=0?1:-1,w=E*i,T=E>0?"end":"start",C=E>0?"start":"end";if(a==="top"){var A={x:u+f/2,y:c-p*i,textAnchor:"middle",verticalAnchor:b};return Gt(Gt({},A),r?{height:Math.max(c-r.y,0),width:f}:{})}if(a==="bottom"){var P={x:u+f/2,y:c+h+g,textAnchor:"middle",verticalAnchor:x};return Gt(Gt({},P),r?{height:Math.max(r.y+r.height-(c+h),0),width:f}:{})}if(a==="left"){var O={x:u-w,y:c+h/2,textAnchor:T,verticalAnchor:"middle"};return Gt(Gt({},O),r?{width:Math.max(O.x-r.x,0),height:h}:{})}if(a==="right"){var M={x:u+f+w,y:c+h/2,textAnchor:C,verticalAnchor:"middle"};return Gt(Gt({},M),r?{width:Math.max(r.x+r.width-M.x,0),height:h}:{})}var I=r?{width:f,height:h}:{};return a==="insideLeft"?Gt({x:u+w,y:c+h/2,textAnchor:C,verticalAnchor:"middle"},I):a==="insideRight"?Gt({x:u+f-w,y:c+h/2,textAnchor:T,verticalAnchor:"middle"},I):a==="insideTop"?Gt({x:u+f/2,y:c+g,textAnchor:"middle",verticalAnchor:x},I):a==="insideBottom"?Gt({x:u+f/2,y:c+h-g,textAnchor:"middle",verticalAnchor:b},I):a==="insideTopLeft"?Gt({x:u+w,y:c+g,textAnchor:C,verticalAnchor:x},I):a==="insideTopRight"?Gt({x:u+f-w,y:c+g,textAnchor:T,verticalAnchor:x},I):a==="insideBottomLeft"?Gt({x:u+w,y:c+h-g,textAnchor:C,verticalAnchor:b},I):a==="insideBottomRight"?Gt({x:u+f-w,y:c+h-g,textAnchor:T,verticalAnchor:b},I):Rl(a)&&(he(a.x)||po(a.x))&&(he(a.y)||po(a.y))?Gt({x:u+wn(a.x,f),y:c+wn(a.y,h),textAnchor:"end",verticalAnchor:"end"},I):Gt({x:u+f/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},I)},VQ=function(e){return"cx"in e&&he(e.cx)};function Jt(t){var e=t.offset,n=e===void 0?5:e,r=kQ(t,RQ),i=Gt({offset:n},r),a=i.viewBox,s=i.position,u=i.value,c=i.children,f=i.content,h=i.className,p=h===void 0?"":h,g=i.textBreakAll;if(!a||Ue(u)&&Ue(c)&&!j.isValidElement(f)&&!Oe(f))return null;if(j.isValidElement(f))return j.cloneElement(f,i);var b;if(Oe(f)){if(b=j.createElement(f,i),j.isValidElement(b))return b}else b=qQ(i);var x=VQ(a),E=Ae(i,!0);if(x&&(s==="insideStart"||s==="insideEnd"||s==="end"))return HQ(i,b,E);var w=x?GQ(i):zQ(i);return z.createElement(Eo,jc({className:ke("recharts-label",p)},E,w,{breakAll:g}),b)}Jt.displayName="Label";var Sq=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,u=e.r,c=e.radius,f=e.innerRadius,h=e.outerRadius,p=e.x,g=e.y,b=e.top,x=e.left,E=e.width,w=e.height,T=e.clockWise,C=e.labelViewBox;if(C)return C;if(he(E)&&he(w)){if(he(p)&&he(g))return{x:p,y:g,width:E,height:w};if(he(b)&&he(x))return{x:b,y:x,width:E,height:w}}return he(p)&&he(g)?{x:p,y:g,width:0,height:0}:he(n)&&he(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:h||c||u||0,clockWise:T}:e.viewBox?e.viewBox:{}},FQ=function(e,n){return e?e===!0?z.createElement(Jt,{key:"label-implicit",viewBox:n}):Vt(e)?z.createElement(Jt,{key:"label-implicit",viewBox:n,value:e}):j.isValidElement(e)?e.type===Jt?j.cloneElement(e,{key:"label-implicit",viewBox:n}):z.createElement(Jt,{key:"label-implicit",content:e,viewBox:n}):Oe(e)?z.createElement(Jt,{key:"label-implicit",content:e,viewBox:n}):Rl(e)?z.createElement(Jt,jc({viewBox:n},e,{key:"label-implicit"})):null:null},KQ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=Sq(e),s=hr(i,Jt).map(function(c,f){return j.cloneElement(c,{viewBox:n||a,key:"label-".concat(f)})});if(!r)return s;var u=FQ(e.label,n||a);return[u].concat(PQ(s))};Jt.parseViewBox=Sq;Jt.renderCallByParent=KQ;var V_,vD;function WQ(){if(vD)return V_;vD=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return V_=t,V_}var YQ=WQ();const JQ=Ve(YQ);function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}var XQ=["valueAccessor"],QQ=["data","dataKey","clockWise","id","textBreakAll"];function ZQ(t){return rZ(t)||nZ(t)||tZ(t)||eZ()}function eZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tZ(t,e){if(t){if(typeof t=="string")return MS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MS(t,e)}}function nZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rZ(t){if(Array.isArray(t))return MS(t)}function MS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tp(){return tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tp.apply(this,arguments)}function yD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yD(Object(n),!0).forEach(function(r){iZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iZ(t,e,n){return e=aZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aZ(t){var e=oZ(t,"string");return qc(e)=="symbol"?e:e+""}function oZ(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _D(t,e){if(t==null)return{};var n=sZ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var lZ=function(e){return Array.isArray(e.value)?JQ(e.value):e.value};function Aa(t){var e=t.valueAccessor,n=e===void 0?lZ:e,r=_D(t,XQ),i=r.data,a=r.dataKey,s=r.clockWise,u=r.id,c=r.textBreakAll,f=_D(r,QQ);return!i||!i.length?null:z.createElement(rt,{className:"recharts-label-list"},i.map(function(h,p){var g=Ue(a)?n(h,p):pn(h&&h.payload,a),b=Ue(u)?{}:{id:"".concat(u,"-").concat(p)};return z.createElement(Jt,tp({},Ae(h,!0),f,b,{parentViewBox:h.parentViewBox,value:g,textBreakAll:c,viewBox:Jt.parseViewBox(Ue(s)?h:bD(bD({},h),{},{clockWise:s})),key:"label-".concat(p),index:p}))}))}Aa.displayName="LabelList";function uZ(t,e){return t?t===!0?z.createElement(Aa,{key:"labelList-implicit",data:e}):z.isValidElement(t)||Oe(t)?z.createElement(Aa,{key:"labelList-implicit",data:e,content:t}):Rl(t)?z.createElement(Aa,tp({data:e},t,{key:"labelList-implicit"})):null:null}function cZ(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=hr(r,Aa).map(function(s,u){return j.cloneElement(s,{data:e,key:"labelList-".concat(u)})});if(!n)return i;var a=uZ(t.label,e);return[a].concat(ZQ(i))}Aa.renderCallByParent=cZ;function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function NS(){return NS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NS.apply(this,arguments)}function wD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wD(Object(n),!0).forEach(function(r){fZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fZ(t,e,n){return e=dZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dZ(t){var e=hZ(t,"string");return Bc(e)=="symbol"?e:e+""}function hZ(t,e){if(Bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pZ=function(e,n){var r=_n(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Qd=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,u=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,h=c*(u?1:-1)+i,p=Math.asin(c/h)/ep,g=f?a:a+s*p,b=ht(n,r,h,g),x=ht(n,r,i,g),E=f?a-s*p:a,w=ht(n,r,h*Math.cos(p*ep),E);return{center:b,circleTangency:x,lineTangency:w,theta:p}},xq=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,u=e.endAngle,c=pZ(s,u),f=s+c,h=ht(n,r,a,s),p=ht(n,r,a,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var b=ht(n,r,i,s),x=ht(n,r,i,f);g+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(b.x,",").concat(b.y," Z")}else g+="L ".concat(n,",").concat(r," Z");return g},mZ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,u=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,p=_n(h-f),g=Qd({cx:n,cy:r,radius:a,angle:f,sign:p,cornerRadius:s,cornerIsExternal:c}),b=g.circleTangency,x=g.lineTangency,E=g.theta,w=Qd({cx:n,cy:r,radius:a,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:c}),T=w.circleTangency,C=w.lineTangency,A=w.theta,P=c?Math.abs(f-h):Math.abs(f-h)-E-A;if(P<0)return u?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):xq({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h});var O="M ".concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(P>180),",").concat(+(p<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(C.x,",").concat(C.y,`
  `);if(i>0){var M=Qd({cx:n,cy:r,radius:i,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),I=M.circleTangency,k=M.lineTangency,L=M.theta,G=Qd({cx:n,cy:r,radius:i,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),$=G.circleTangency,W=G.lineTangency,F=G.theta,X=c?Math.abs(f-h):Math.abs(f-h)-L-F;if(X<0&&s===0)return"".concat(O,"L").concat(n,",").concat(r,"Z");O+="L".concat(W.x,",").concat(W.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat($.x,",").concat($.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(X>180),",").concat(+(p>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(k.x,",").concat(k.y,"Z")}else O+="L".concat(n,",").concat(r,"Z");return O},gZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Eq=function(e){var n=SD(SD({},gZ),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,u=n.cornerRadius,c=n.forceCornerRadius,f=n.cornerIsExternal,h=n.startAngle,p=n.endAngle,g=n.className;if(s<a||h===p)return null;var b=ke("recharts-sector",g),x=s-a,E=wn(u,x,0,!0),w;return E>0&&Math.abs(h-p)<360?w=mZ({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(E,x/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:p}):w=xq({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:h,endAngle:p}),z.createElement("path",NS({},Ae(n,!0),{className:b,d:w,role:"img"}))};function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function IS(){return IS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IS.apply(this,arguments)}function xD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ED(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xD(Object(n),!0).forEach(function(r){vZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vZ(t,e,n){return e=yZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yZ(t){var e=bZ(t,"string");return Hc(e)=="symbol"?e:e+""}function bZ(t,e){if(Hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TD={curveBasisClosed:$8,curveBasisOpen:j8,curveBasis:U8,curveBumpX:x8,curveBumpY:E8,curveLinearClosed:q8,curveLinear:em,curveMonotoneX:B8,curveMonotoneY:H8,curveNatural:G8,curveStep:z8,curveStepAfter:F8,curveStepBefore:V8},Zd=function(e){return e.x===+e.x&&e.y===+e.y},Hu=function(e){return e.x},Gu=function(e){return e.y},_Z=function(e,n){if(Oe(e))return e;var r="curve".concat(Qp(e));return(r==="curveMonotone"||r==="curveBump")&&n?TD["".concat(r).concat(n==="vertical"?"Y":"X")]:TD[r]||em},wZ=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,u=e.layout,c=e.connectNulls,f=c===void 0?!1:c,h=_Z(r,u),p=f?a.filter(function(E){return Zd(E)}):a,g;if(Array.isArray(s)){var b=f?s.filter(function(E){return Zd(E)}):s,x=p.map(function(E,w){return ED(ED({},E),{},{base:b[w]})});return u==="vertical"?g=zd().y(Gu).x1(Hu).x0(function(E){return E.base.x}):g=zd().x(Hu).y1(Gu).y0(function(E){return E.base.y}),g.defined(Zd).curve(h),g(x)}return u==="vertical"&&he(s)?g=zd().y(Gu).x1(Hu).x0(s):he(s)?g=zd().x(Hu).y1(Gu).y0(s):g=w$().x(Hu).y(Gu),g.defined(Zd).curve(h),g(p)},DS=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?wZ(e):i;return j.createElement("path",IS({},Ae(e,!1),Rh(e),{className:ke("recharts-curve",n),d:s,ref:a}))},F_={exports:{}},K_,AD;function SZ(){if(AD)return K_;AD=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return K_=t,K_}var W_,CD;function xZ(){if(CD)return W_;CD=1;var t=SZ();function e(){}function n(){}return n.resetWarningCache=e,W_=function(){function r(s,u,c,f,h,p){if(p!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},W_}var OD;function EZ(){return OD||(OD=1,F_.exports=xZ()()),F_.exports}var TZ=EZ();const Ze=Ve(TZ),{getOwnPropertyNames:AZ,getOwnPropertySymbols:CZ}=Object,{hasOwnProperty:OZ}=Object.prototype;function Y_(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function eh(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,s=a.get(n),u=a.get(r);if(s&&u)return s===r&&u===n;a.set(n,r),a.set(r,n);const c=t(n,r,i);return a.delete(n),a.delete(r),c}}function RZ(t){return t!=null?t[Symbol.toStringTag]:void 0}function RD(t){return AZ(t).concat(CZ(t))}const PZ=Object.hasOwn||((t,e)=>OZ.call(t,e));function Do(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const MZ="__v",NZ="__o",IZ="_owner",{getOwnPropertyDescriptor:PD,keys:MD}=Object;function DZ(t,e){return t.byteLength===e.byteLength&&np(new Uint8Array(t),new Uint8Array(e))}function kZ(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function LZ(t,e){return t.byteLength===e.byteLength&&np(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function UZ(t,e){return Do(t.getTime(),e.getTime())}function $Z(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function jZ(t,e){return t===e}function ND(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let s,u,c=0;for(;(s=a.next())&&!s.done;){const f=e.entries();let h=!1,p=0;for(;(u=f.next())&&!u.done;){if(i[p]){p++;continue}const g=s.value,b=u.value;if(n.equals(g[0],b[0],c,p,t,e,n)&&n.equals(g[1],b[1],g[0],b[0],t,e,n)){h=i[p]=!0;break}p++}if(!h)return!1;c++}return!0}const qZ=Do;function BZ(t,e,n){const r=MD(t);let i=r.length;if(MD(e).length!==i)return!1;for(;i-- >0;)if(!Tq(t,e,n,r[i]))return!1;return!0}function zu(t,e,n){const r=RD(t);let i=r.length;if(RD(e).length!==i)return!1;let a,s,u;for(;i-- >0;)if(a=r[i],!Tq(t,e,n,a)||(s=PD(t,a),u=PD(e,a),(s||u)&&(!s||!u||s.configurable!==u.configurable||s.enumerable!==u.enumerable||s.writable!==u.writable)))return!1;return!0}function HZ(t,e){return Do(t.valueOf(),e.valueOf())}function GZ(t,e){return t.source===e.source&&t.flags===e.flags}function ID(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let s,u;for(;(s=a.next())&&!s.done;){const c=e.values();let f=!1,h=0;for(;(u=c.next())&&!u.done;){if(!i[h]&&n.equals(s.value,u.value,s.value,u.value,t,e,n)){f=i[h]=!0;break}h++}if(!f)return!1}return!0}function np(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function zZ(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Tq(t,e,n,r){return(r===IZ||r===NZ||r===MZ)&&(t.$$typeof||e.$$typeof)?!0:PZ(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const VZ="[object ArrayBuffer]",FZ="[object Arguments]",KZ="[object Boolean]",WZ="[object DataView]",YZ="[object Date]",JZ="[object Error]",XZ="[object Map]",QZ="[object Number]",ZZ="[object Object]",eee="[object RegExp]",tee="[object Set]",nee="[object String]",ree={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},iee="[object URL]",aee=Object.prototype.toString;function oee({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:u,areObjectsEqual:c,arePrimitiveWrappersEqual:f,areRegExpsEqual:h,areSetsEqual:p,areTypedArraysEqual:g,areUrlsEqual:b,unknownTagComparators:x}){return function(w,T,C){if(w===T)return!0;if(w==null||T==null)return!1;const A=typeof w;if(A!==typeof T)return!1;if(A!=="object")return A==="number"?u(w,T,C):A==="function"?a(w,T,C):!1;const P=w.constructor;if(P!==T.constructor)return!1;if(P===Object)return c(w,T,C);if(Array.isArray(w))return e(w,T,C);if(P===Date)return r(w,T,C);if(P===RegExp)return h(w,T,C);if(P===Map)return s(w,T,C);if(P===Set)return p(w,T,C);const O=aee.call(w);if(O===YZ)return r(w,T,C);if(O===eee)return h(w,T,C);if(O===XZ)return s(w,T,C);if(O===tee)return p(w,T,C);if(O===ZZ)return typeof w.then!="function"&&typeof T.then!="function"&&c(w,T,C);if(O===iee)return b(w,T,C);if(O===JZ)return i(w,T,C);if(O===FZ)return c(w,T,C);if(ree[O])return g(w,T,C);if(O===VZ)return t(w,T,C);if(O===WZ)return n(w,T,C);if(O===KZ||O===QZ||O===nee)return f(w,T,C);if(x){let M=x[O];if(!M){const I=RZ(w);I&&(M=x[I])}if(M)return M(w,T,C)}return!1}}function see({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:DZ,areArraysEqual:n?zu:kZ,areDataViewsEqual:LZ,areDatesEqual:UZ,areErrorsEqual:$Z,areFunctionsEqual:jZ,areMapsEqual:n?Y_(ND,zu):ND,areNumbersEqual:qZ,areObjectsEqual:n?zu:BZ,arePrimitiveWrappersEqual:HZ,areRegExpsEqual:GZ,areSetsEqual:n?Y_(ID,zu):ID,areTypedArraysEqual:n?Y_(np,zu):np,areUrlsEqual:zZ,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=eh(r.areArraysEqual),a=eh(r.areMapsEqual),s=eh(r.areObjectsEqual),u=eh(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:u})}return r}function lee(t){return function(e,n,r,i,a,s,u){return t(e,n,u)}}function uee({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(u,c){const{cache:f=t?new WeakMap:void 0,meta:h}=n();return e(u,c,{cache:f,equals:r,meta:h,strict:i})};if(t)return function(u,c){return e(u,c,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(u,c){return e(u,c,a)}}const cee=Na();Na({strict:!0});Na({circular:!0});Na({circular:!0,strict:!0});Na({createInternalComparator:()=>Do});Na({strict:!0,createInternalComparator:()=>Do});Na({circular:!0,createInternalComparator:()=>Do});Na({circular:!0,createInternalComparator:()=>Do,strict:!0});function Na(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=see(t),s=oee(a),u=n?n(s):lee(s);return uee({circular:e,comparator:s,createState:r,equals:u,strict:i})}function fee(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function DD(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):fee(i)};requestAnimationFrame(r)}function kS(t){"@babel/helpers - typeof";return kS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kS(t)}function dee(t){return gee(t)||mee(t)||pee(t)||hee()}function hee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pee(t,e){if(t){if(typeof t=="string")return kD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kD(t,e)}}function kD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gee(t){if(Array.isArray(t))return t}function vee(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,u=dee(s),c=u[0],f=u.slice(1);if(typeof c=="number"){DD(i.bind(null,f),c);return}i(c),DD(i.bind(null,f));return}kS(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function LD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LD(Object(n),!0).forEach(function(r){Aq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aq(t,e,n){return e=yee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yee(t){var e=bee(t,"string");return Gc(e)==="symbol"?e:String(e)}function bee(t,e){if(Gc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _ee=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},wee=function(e){return e},See=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},cc=function(e,n){return Object.keys(n).reduce(function(r,i){return UD(UD({},r),{},Aq({},i,e(i,n[i])))},{})},$D=function(e,n,r){return e.map(function(i){return"".concat(See(i)," ").concat(n,"ms ").concat(r)}).join(",")};function xee(t,e){return Aee(t)||Tee(t,e)||Cq(t,e)||Eee()}function Eee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function Aee(t){if(Array.isArray(t))return t}function Cee(t){return Pee(t)||Ree(t)||Cq(t)||Oee()}function Oee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cq(t,e){if(t){if(typeof t=="string")return LS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LS(t,e)}}function Ree(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pee(t){if(Array.isArray(t))return LS(t)}function LS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rp=1e-4,Oq=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},Rq=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},jD=function(e,n){return function(r){var i=Oq(e,n);return Rq(i,r)}},Mee=function(e,n){return function(r){var i=Oq(e,n),a=[].concat(Cee(i.map(function(s,u){return s*u}).slice(1)),[0]);return Rq(a,r)}},qD=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],u=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,u=1;break;case"ease":i=.25,a=.1,s=.25,u=1;break;case"ease-in":i=.42,a=0,s=1,u=1;break;case"ease-out":i=.42,a=0,s=.58,u=1;break;case"ease-in-out":i=0,a=0,s=.58,u=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),h=xee(f,4);i=h[0],a=h[1],s=h[2],u=h[3]}}}var p=jD(i,s),g=jD(a,u),b=Mee(i,s),x=function(T){return T>1?1:T<0?0:T},E=function(T){for(var C=T>1?1:T,A=C,P=0;P<8;++P){var O=p(A)-C,M=b(A);if(Math.abs(O-C)<rp||M<rp)return g(A);A=x(A-O/M)}return g(A)};return E.isStepper=!1,E},Nee=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,u=s===void 0?17:s,c=function(h,p,g){var b=-(h-p)*r,x=g*a,E=g+(b-x)*u/1e3,w=g*u/1e3+h;return Math.abs(w-p)<rp&&Math.abs(E)<rp?[p,0]:[w,E]};return c.isStepper=!0,c.dt=u,c},Iee=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return qD(i);case"spring":return Nee();default:if(i.split("(")[0]==="cubic-bezier")return qD(i)}return typeof i=="function"?i:null};function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function BD(t){return Lee(t)||kee(t)||Pq(t)||Dee()}function Dee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lee(t){if(Array.isArray(t))return $S(t)}function HD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HD(Object(n),!0).forEach(function(r){US(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function US(t,e,n){return e=Uee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uee(t){var e=$ee(t,"string");return zc(e)==="symbol"?e:String(e)}function $ee(t,e){if(zc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jee(t,e){return Hee(t)||Bee(t,e)||Pq(t,e)||qee()}function qee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pq(t,e){if(t){if(typeof t=="string")return $S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $S(t,e)}}function $S(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function Hee(t){if(Array.isArray(t))return t}var ip=function(e,n,r){return e+(n-e)*r},jS=function(e){var n=e.from,r=e.to;return n!==r},Gee=function t(e,n,r){var i=cc(function(a,s){if(jS(s)){var u=e(s.from,s.to,s.velocity),c=jee(u,2),f=c[0],h=c[1];return sn(sn({},s),{},{from:f,velocity:h})}return s},n);return r<1?cc(function(a,s){return jS(s)?sn(sn({},s),{},{velocity:ip(s.velocity,i[a].velocity,r),from:ip(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const zee=(function(t,e,n,r,i){var a=_ee(t,e),s=a.reduce(function(w,T){return sn(sn({},w),{},US({},T,[t[T],e[T]]))},{}),u=a.reduce(function(w,T){return sn(sn({},w),{},US({},T,{from:t[T],velocity:0,to:e[T]}))},{}),c=-1,f,h,p=function(){return null},g=function(){return cc(function(T,C){return C.from},u)},b=function(){return!Object.values(u).filter(jS).length},x=function(T){f||(f=T);var C=T-f,A=C/n.dt;u=Gee(n,u,A),i(sn(sn(sn({},t),e),g())),f=T,b()||(c=requestAnimationFrame(p))},E=function(T){h||(h=T);var C=(T-h)/r,A=cc(function(O,M){return ip.apply(void 0,BD(M).concat([n(C)]))},s);if(i(sn(sn(sn({},t),e),A)),C<1)c=requestAnimationFrame(p);else{var P=cc(function(O,M){return ip.apply(void 0,BD(M).concat([n(1)]))},s);i(sn(sn(sn({},t),e),P))}};return p=n.isStepper?x:E,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}});function ll(t){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(t)}var Vee=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Fee(t,e){if(t==null)return{};var n=Kee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kee(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function J_(t){return Xee(t)||Jee(t)||Yee(t)||Wee()}function Wee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yee(t,e){if(t){if(typeof t=="string")return qS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qS(t,e)}}function Jee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xee(t){if(Array.isArray(t))return qS(t)}function qS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GD(Object(n),!0).forEach(function(r){Xu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xu(t,e,n){return e=Mq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mq(r.key),r)}}function ete(t,e,n){return e&&Zee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mq(t){var e=tte(t,"string");return ll(e)==="symbol"?e:String(e)}function tte(t,e){if(ll(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ll(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BS(t,e)}function BS(t,e){return BS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BS(t,e)}function rte(t){var e=ite();return function(){var r=ap(t),i;if(e){var a=ap(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return HS(this,i)}}function HS(t,e){if(e&&(ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GS(t)}function GS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ite(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ap(t){return ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ap(t)}var $i=(function(t){nte(n,t);var e=rte(n);function n(r,i){var a;Qee(this,n),a=e.call(this,r,i);var s=a.props,u=s.isActive,c=s.attributeName,f=s.from,h=s.to,p=s.steps,g=s.children,b=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(GS(a)),a.changeStyle=a.changeStyle.bind(GS(a)),!u||b<=0)return a.state={style:{}},typeof g=="function"&&(a.state={style:h}),HS(a);if(p&&p.length)a.state={style:p[0].style};else if(f){if(typeof g=="function")return a.state={style:f},HS(a);a.state={style:c?Xu({},c,f):f}}else a.state={style:{}};return a}return ete(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,u=a.canBegin,c=a.attributeName,f=a.shouldReAnimate,h=a.to,p=a.from,g=this.state.style;if(u){if(!s){var b={style:c?Xu({},c,h):h};this.state&&g&&(c&&g[c]!==h||!c&&g!==h)&&this.setState(b);return}if(!(cee(i.to,h)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var E=x||f?p:i.to;if(this.state&&g){var w={style:c?Xu({},c,E):E};(c&&g[c]!==E||!c&&g!==E)&&this.setState(w)}this.runAnimation(Ar(Ar({},this.props),{},{from:E,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,u=i.to,c=i.duration,f=i.easing,h=i.begin,p=i.onAnimationEnd,g=i.onAnimationStart,b=zee(s,u,Iee(f),c,this.changeStyle),x=function(){a.stopJSAnimation=b()};this.manager.start([g,h,x,c,p])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,u=i.begin,c=i.onAnimationStart,f=s[0],h=f.style,p=f.duration,g=p===void 0?0:p,b=function(E,w,T){if(T===0)return E;var C=w.duration,A=w.easing,P=A===void 0?"ease":A,O=w.style,M=w.properties,I=w.onAnimationEnd,k=T>0?s[T-1]:w,L=M||Object.keys(O);if(typeof P=="function"||P==="spring")return[].concat(J_(E),[a.runJSAnimation.bind(a,{from:k.style,to:O,duration:C,easing:P}),C]);var G=$D(L,C,P),$=Ar(Ar(Ar({},k.style),O),{},{transition:G});return[].concat(J_(E),[$,C,I]).filter(wee)};return this.manager.start([c].concat(J_(s.reduce(b,[h,Math.max(g,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=vee());var a=i.begin,s=i.duration,u=i.attributeName,c=i.to,f=i.easing,h=i.onAnimationStart,p=i.onAnimationEnd,g=i.steps,b=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof f=="function"||typeof b=="function"||f==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var E=u?Xu({},u,c):c,w=$D(Object.keys(E),s,f);x.start([h,a,Ar(Ar({},E),{},{transition:w}),s,p])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Fee(i,Vee),f=j.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!u||f===0||s<=0)return a;var p=function(b){var x=b.props,E=x.style,w=E===void 0?{}:E,T=x.className,C=j.cloneElement(b,Ar(Ar({},c),{},{style:Ar(Ar({},w),h),className:T}));return C};return f===1?p(j.Children.only(a)):z.createElement("div",null,j.Children.map(a,function(g){return p(g)}))}}]),n})(j.PureComponent);$i.displayName="Animate";$i.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};$i.propTypes={from:Ze.oneOfType([Ze.object,Ze.string]),to:Ze.oneOfType([Ze.object,Ze.string]),attributeName:Ze.string,duration:Ze.number,begin:Ze.number,easing:Ze.oneOfType([Ze.string,Ze.func]),steps:Ze.arrayOf(Ze.shape({duration:Ze.number.isRequired,style:Ze.object.isRequired,easing:Ze.oneOfType([Ze.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ze.func]),properties:Ze.arrayOf("string"),onAnimationEnd:Ze.func})),children:Ze.oneOfType([Ze.node,Ze.func]),isActive:Ze.bool,canBegin:Ze.bool,onAnimationEnd:Ze.func,shouldReAnimate:Ze.bool,onAnimationStart:Ze.func,onAnimationReStart:Ze.func};function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function op(){return op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},op.apply(this,arguments)}function ate(t,e){return ute(t)||lte(t,e)||ste(t,e)||ote()}function ote(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ste(t,e){if(t){if(typeof t=="string")return zD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zD(t,e)}}function zD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function ute(t){if(Array.isArray(t))return t}function VD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VD(Object(n),!0).forEach(function(r){cte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cte(t,e,n){return e=fte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fte(t){var e=dte(t,"string");return Vc(e)=="symbol"?e:e+""}function dte(t,e){if(Vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KD=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),u=i>=0?1:-1,c=r>=0?1:-1,f=i>=0&&r>=0||i<0&&r<0?1:0,h;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],g=0,b=4;g<b;g++)p[g]=a[g]>s?s:a[g];h="M".concat(e,",").concat(n+u*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+c*p[0],",").concat(n)),h+="L ".concat(e+r-c*p[1],",").concat(n),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(n+u*p[1])),h+="L ".concat(e+r,",").concat(n+i-u*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+r-c*p[2],",").concat(n+i)),h+="L ".concat(e+c*p[3],",").concat(n+i),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(n+i-u*p[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var x=Math.min(s,a);h="M ".concat(e,",").concat(n+u*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+c*x,",").concat(n,`
            L `).concat(e+r-c*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+r,",").concat(n+u*x,`
            L `).concat(e+r,",").concat(n+i-u*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+r-c*x,",").concat(n+i,`
            L `).concat(e+c*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e,",").concat(n+i-u*x," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},hte=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,u=n.width,c=n.height;if(Math.abs(u)>0&&Math.abs(c)>0){var f=Math.min(a,a+u),h=Math.max(a,a+u),p=Math.min(s,s+c),g=Math.max(s,s+c);return r>=f&&r<=h&&i>=p&&i<=g}return!1},pte={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZE=function(e){var n=FD(FD({},pte),e),r=j.useRef(),i=j.useState(-1),a=ate(i,2),s=a[0],u=a[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&u(P)}catch{}},[]);var c=n.x,f=n.y,h=n.width,p=n.height,g=n.radius,b=n.className,x=n.animationEasing,E=n.animationDuration,w=n.animationBegin,T=n.isAnimationActive,C=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||p!==+p||h===0||p===0)return null;var A=ke("recharts-rectangle",b);return C?z.createElement($i,{canBegin:s>0,from:{width:h,height:p,x:c,y:f},to:{width:h,height:p,x:c,y:f},duration:E,animationEasing:x,isActive:C},function(P){var O=P.width,M=P.height,I=P.x,k=P.y;return z.createElement($i,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:E,isActive:T,easing:x},z.createElement("path",op({},Ae(n,!0),{className:A,d:KD(I,k,O,M,g),ref:r})))}):z.createElement("path",op({},Ae(n,!0),{className:A,d:KD(c,f,h,p,g)}))},mte=["points","className","baseLinePoints","connectNulls"];function Us(){return Us=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Us.apply(this,arguments)}function gte(t,e){if(t==null)return{};var n=vte(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function WD(t){return wte(t)||_te(t)||bte(t)||yte()}function yte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bte(t,e){if(t){if(typeof t=="string")return zS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zS(t,e)}}function _te(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wte(t){if(Array.isArray(t))return zS(t)}function zS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var YD=function(e){return e&&e.x===+e.x&&e.y===+e.y},Ste=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){YD(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),YD(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},fc=function(e,n){var r=Ste(e);n&&(r=[r.reduce(function(a,s){return[].concat(WD(a),WD(s))},[])]);var i=r.map(function(a){return a.reduce(function(s,u,c){return"".concat(s).concat(c===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},xte=function(e,n,r){var i=fc(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(fc(n.reverse(),r).slice(1))},Ete=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,s=gte(e,mte);if(!n||!n.length)return null;var u=ke("recharts-polygon",r);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",f=xte(n,i,a);return z.createElement("g",{className:u},z.createElement("path",Us({},Ae(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),c?z.createElement("path",Us({},Ae(s,!0),{fill:"none",d:fc(n,a)})):null,c?z.createElement("path",Us({},Ae(s,!0),{fill:"none",d:fc(i,a)})):null)}var h=fc(n,a);return z.createElement("path",Us({},Ae(s,!0),{fill:h.slice(-1)==="Z"?s.fill:"none",className:u,d:h}))};function VS(){return VS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VS.apply(this,arguments)}var eT=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=ke("recharts-dot",a);return n===+n&&r===+r&&i===+i?j.createElement("circle",VS({},Ae(e,!1),Rh(e),{className:s,cx:n,cy:r,r:i})):null};function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}var Tte=["x","y","top","left","width","height","className"];function FS(){return FS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FS.apply(this,arguments)}function JD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ate(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JD(Object(n),!0).forEach(function(r){Cte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cte(t,e,n){return e=Ote(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ote(t){var e=Rte(t,"string");return Fc(e)=="symbol"?e:e+""}function Rte(t,e){if(Fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pte(t,e){if(t==null)return{};var n=Mte(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Nte=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},Ite=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,u=s===void 0?0:s,c=e.left,f=c===void 0?0:c,h=e.width,p=h===void 0?0:h,g=e.height,b=g===void 0?0:g,x=e.className,E=Pte(e,Tte),w=Ate({x:r,y:a,top:u,left:f,width:p,height:b},E);return!he(r)||!he(a)||!he(p)||!he(b)||!he(u)||!he(f)?null:z.createElement("path",FS({},Ae(w,!0),{className:ke("recharts-cross",x),d:Nte(r,a,p,b,u,f)}))},X_,XD;function Dte(){if(XD)return X_;XD=1;var t=fm(),e=Fj(),n=ri();function r(i,a){return i&&i.length?t(i,n(a,2),e):void 0}return X_=r,X_}var kte=Dte();const Lte=Ve(kte);var Q_,QD;function Ute(){if(QD)return Q_;QD=1;var t=fm(),e=ri(),n=Kj();function r(i,a){return i&&i.length?t(i,e(a,2),n):void 0}return Q_=r,Q_}var $te=Ute();const jte=Ve($te);var qte=["cx","cy","angle","ticks","axisLine"],Bte=["ticks","tick","angle","tickFormatter","stroke"];function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dc.apply(this,arguments)}function ZD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function no(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZD(Object(n),!0).forEach(function(r){ym(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ek(t,e){if(t==null)return{};var n=Hte(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Iq(r.key),r)}}function zte(t,e,n){return e&&tk(t.prototype,e),n&&tk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vte(t,e,n){return e=sp(e),Fte(t,Nq()?Reflect.construct(e,n||[],sp(t).constructor):e.apply(t,n))}function Fte(t,e){if(e&&(ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kte(t)}function Kte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nq=function(){return!!t})()}function sp(t){return sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sp(t)}function Wte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KS(t,e)}function KS(t,e){return KS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KS(t,e)}function ym(t,e,n){return e=Iq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iq(t){var e=Yte(t,"string");return ul(e)=="symbol"?e:e+""}function Yte(t,e){if(ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bm=(function(t){function e(){return Gte(this,e),Vte(this,e,arguments)}return Wte(e,t),zte(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,s=a.angle,u=a.cx,c=a.cy;return ht(u,c,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,u=r.ticks,c=Lte(u,function(h){return h.coordinate||0}),f=jte(u,function(h){return h.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:f.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,u=r.ticks,c=r.axisLine,f=ek(r,qte),h=u.reduce(function(x,E){return[Math.min(x[0],E.coordinate),Math.max(x[1],E.coordinate)]},[1/0,-1/0]),p=ht(i,a,h[0],s),g=ht(i,a,h[1],s),b=no(no(no({},Ae(f,!1)),{},{fill:"none"},Ae(c,!1)),{},{x1:p.x,y1:p.y,x2:g.x,y2:g.y});return z.createElement("line",dc({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,u=i.angle,c=i.tickFormatter,f=i.stroke,h=ek(i,Bte),p=this.getTickTextAnchor(),g=Ae(h,!1),b=Ae(s,!1),x=a.map(function(E,w){var T=r.getTickValueCoord(E),C=no(no(no(no({textAnchor:p,transform:"rotate(".concat(90-u,", ").concat(T.x,", ").concat(T.y,")")},g),{},{stroke:"none",fill:f},b),{},{index:w},T),{},{payload:E});return z.createElement(rt,dc({className:ke("recharts-polar-radius-axis-tick",wq(s)),key:"tick-".concat(E.coordinate)},xo(r.props,E,w)),e.renderTickItem(s,C,c?c(E.value,w):E.value))});return z.createElement(rt,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,s=r.tick;return!i||!i.length?null:z.createElement(rt,{className:ke("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),Jt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return z.isValidElement(r)?s=z.cloneElement(r,i):Oe(r)?s=r(i):s=z.createElement(Eo,dc({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])})(j.PureComponent);ym(bm,"displayName","PolarRadiusAxis");ym(bm,"axisType","radiusAxis");ym(bm,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function cl(t){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(t)}function co(){return co=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},co.apply(this,arguments)}function nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(n),!0).forEach(function(r){_m(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kq(r.key),r)}}function Xte(t,e,n){return e&&rk(t.prototype,e),n&&rk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qte(t,e,n){return e=lp(e),Zte(t,Dq()?Reflect.construct(e,n||[],lp(t).constructor):e.apply(t,n))}function Zte(t,e){if(e&&(cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ene(t)}function ene(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dq=function(){return!!t})()}function lp(t){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lp(t)}function tne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WS(t,e)}function WS(t,e){return WS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WS(t,e)}function _m(t,e,n){return e=kq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kq(t){var e=nne(t,"string");return cl(e)=="symbol"?e:e+""}function nne(t,e){if(cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rne=Math.PI/180,ik=1e-5,wm=(function(t){function e(){return Jte(this,e),Qte(this,e,arguments)}return tne(e,t),Xte(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,s=i.cy,u=i.radius,c=i.orientation,f=i.tickSize,h=f||8,p=ht(a,s,u,r.coordinate),g=ht(a,s,u+(c==="inner"?-1:1)*h,r.coordinate);return{x1:p.x,y1:p.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*rne),s;return a>ik?s=i==="outer"?"start":"end":a<-ik?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.radius,u=r.axisLine,c=r.axisLineType,f=ro(ro({},Ae(this.props,!1)),{},{fill:"none"},Ae(u,!1));if(c==="circle")return z.createElement(eT,co({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:a,r:s}));var h=this.props.ticks,p=h.map(function(g){return ht(i,a,s,g.coordinate)});return z.createElement(Ete,co({className:"recharts-polar-angle-axis-line"},f,{points:p}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,u=i.tickLine,c=i.tickFormatter,f=i.stroke,h=Ae(this.props,!1),p=Ae(s,!1),g=ro(ro({},h),{},{fill:"none"},Ae(u,!1)),b=a.map(function(x,E){var w=r.getTickLineCoord(x),T=r.getTickTextAnchor(x),C=ro(ro(ro({textAnchor:T},h),{},{stroke:"none",fill:f},p),{},{index:E,payload:x,x:w.x2,y:w.y2});return z.createElement(rt,co({className:ke("recharts-polar-angle-axis-tick",wq(s)),key:"tick-".concat(x.coordinate)},xo(r.props,x,E)),u&&z.createElement("line",co({className:"recharts-polar-angle-axis-tick-line"},g,w)),s&&e.renderTickItem(s,C,c?c(x.value,E):x.value))});return z.createElement(rt,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,s=r.axisLine;return a<=0||!i||!i.length?null:z.createElement(rt,{className:ke("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var s;return z.isValidElement(r)?s=z.cloneElement(r,i):Oe(r)?s=r(i):s=z.createElement(Eo,co({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])})(j.PureComponent);_m(wm,"displayName","PolarAngleAxis");_m(wm,"axisType","angleAxis");_m(wm,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Z_,ak;function ine(){if(ak)return Z_;ak=1;var t=z$(),e=t(Object.getPrototypeOf,Object);return Z_=e,Z_}var ew,ok;function ane(){if(ok)return ew;ok=1;var t=Bi(),e=ine(),n=Hi(),r="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,u=a.hasOwnProperty,c=s.call(Object);function f(h){if(!n(h)||t(h)!=r)return!1;var p=e(h);if(p===null)return!0;var g=u.call(p,"constructor")&&p.constructor;return typeof g=="function"&&g instanceof g&&s.call(g)==c}return ew=f,ew}var one=ane();const sne=Ve(one);var tw,sk;function lne(){if(sk)return tw;sk=1;var t=Bi(),e=Hi(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return tw=r,tw}var une=lne();const cne=Ve(une);function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function up(){return up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},up.apply(this,arguments)}function fne(t,e){return mne(t)||pne(t,e)||hne(t,e)||dne()}function dne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hne(t,e){if(t){if(typeof t=="string")return lk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lk(t,e)}}function lk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function mne(t){if(Array.isArray(t))return t}function uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ck(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uk(Object(n),!0).forEach(function(r){gne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gne(t,e,n){return e=vne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vne(t){var e=yne(t,"string");return Kc(e)=="symbol"?e:e+""}function yne(t,e){if(Kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fk=function(e,n,r,i,a){var s=r-i,u;return u="M ".concat(e,",").concat(n),u+="L ".concat(e+r,",").concat(n),u+="L ".concat(e+r-s/2,",").concat(n+a),u+="L ".concat(e+r-s/2-i,",").concat(n+a),u+="L ".concat(e,",").concat(n," Z"),u},bne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_ne=function(e){var n=ck(ck({},bne),e),r=j.useRef(),i=j.useState(-1),a=fne(i,2),s=a[0],u=a[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&u(A)}catch{}},[]);var c=n.x,f=n.y,h=n.upperWidth,p=n.lowerWidth,g=n.height,b=n.className,x=n.animationEasing,E=n.animationDuration,w=n.animationBegin,T=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||p!==+p||g!==+g||h===0&&p===0||g===0)return null;var C=ke("recharts-trapezoid",b);return T?z.createElement($i,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:g,x:c,y:f},to:{upperWidth:h,lowerWidth:p,height:g,x:c,y:f},duration:E,animationEasing:x,isActive:T},function(A){var P=A.upperWidth,O=A.lowerWidth,M=A.height,I=A.x,k=A.y;return z.createElement($i,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:E,easing:x},z.createElement("path",up({},Ae(n,!0),{className:C,d:fk(I,k,P,O,M),ref:r})))}):z.createElement("g",null,z.createElement("path",up({},Ae(n,!0),{className:C,d:fk(c,f,h,p,g)})))},wne=["option","shapeType","propTransformer","activeClassName","isActive"];function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function Sne(t,e){if(t==null)return{};var n=xne(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(n),!0).forEach(function(r){Ene(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ene(t,e,n){return e=Tne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tne(t){var e=Ane(t,"string");return Wc(e)=="symbol"?e:e+""}function Ane(t,e){if(Wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cne(t,e){return cp(cp({},e),t)}function One(t,e){return t==="symbols"}function hk(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return z.createElement(ZE,n);case"trapezoid":return z.createElement(_ne,n);case"sector":return z.createElement(Eq,n);case"symbols":if(One(e))return z.createElement(yE,n);break;default:return null}}function Rne(t){return j.isValidElement(t)?t.props:t}function Lq(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Cne:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,u=t.isActive,c=Sne(t,wne),f;if(j.isValidElement(e))f=j.cloneElement(e,cp(cp({},c),Rne(e)));else if(Oe(e))f=e(c);else if(sne(e)&&!cne(e)){var h=i(e,c);f=z.createElement(hk,{shapeType:n,elementProps:h})}else{var p=c;f=z.createElement(hk,{shapeType:n,elementProps:p})}return u?z.createElement(rt,{className:s},f):f}function Sm(t,e){return e!=null&&"trapezoids"in t.props}function xm(t,e){return e!=null&&"sectors"in t.props}function Yc(t,e){return e!=null&&"points"in t.props}function Pne(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function Mne(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Nne(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Ine(t,e){var n;return Sm(t,e)?n=Pne:xm(t,e)?n=Mne:Yc(t,e)&&(n=Nne),n}function Dne(t,e){var n;return Sm(t,e)?n="trapezoids":xm(t,e)?n="sectors":Yc(t,e)&&(n="points"),n}function kne(t,e){if(Sm(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(xm(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Yc(t,e)?e.payload:{}}function Lne(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Dne(n,e),a=kne(n,e),s=r.filter(function(c,f){var h=pm(a,c),p=n.props[i].filter(function(x){var E=Ine(n,e);return E(x,e)}),g=n.props[i].indexOf(p[p.length-1]),b=f===g;return h&&b}),u=r.indexOf(s[s.length-1]);return u}var _h;function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function $s(){return $s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$s.apply(this,arguments)}function pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(n),!0).forEach(function(r){ur(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Une(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$q(r.key),r)}}function $ne(t,e,n){return e&&mk(t.prototype,e),n&&mk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jne(t,e,n){return e=fp(e),qne(t,Uq()?Reflect.construct(e,n||[],fp(t).constructor):e.apply(t,n))}function qne(t,e){if(e&&(fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bne(t)}function Bne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uq=function(){return!!t})()}function fp(t){return fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fp(t)}function Hne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YS(t,e)}function YS(t,e){return YS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YS(t,e)}function ur(t,e,n){return e=$q(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $q(t){var e=Gne(t,"string");return fl(e)=="symbol"?e:e+""}function Gne(t,e){if(fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zi=(function(t){function e(n){var r;return Une(this,e),r=jne(this,e,[n]),ur(r,"pieRef",null),ur(r,"sectorRefs",[]),ur(r,"id",hf("recharts-pie-")),ur(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Oe(i)&&i()}),ur(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Oe(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Hne(e,t),$ne(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,u=a.labelLine,c=a.dataKey,f=a.valueKey,h=Ae(this.props,!1),p=Ae(s,!1),g=Ae(u,!1),b=s&&s.offsetRadius||20,x=r.map(function(E,w){var T=(E.startAngle+E.endAngle)/2,C=ht(E.cx,E.cy,E.outerRadius+b,T),A=ft(ft(ft(ft({},h),E),{},{stroke:"none"},p),{},{index:w,textAnchor:e.getTextAnchor(C.x,E.cx)},C),P=ft(ft(ft(ft({},h),E),{},{fill:"none",stroke:E.fill},g),{},{index:w,points:[ht(E.cx,E.cy,E.outerRadius,T),C]}),O=c;return Ue(c)&&Ue(f)?O="value":Ue(c)&&(O=f),z.createElement(rt,{key:"label-".concat(E.startAngle,"-").concat(E.endAngle,"-").concat(E.midAngle,"-").concat(w)},u&&e.renderLabelLineItem(u,P,"line"),e.renderLabelItem(s,A,pn(E,O)))});return z.createElement(rt,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,s=a.activeShape,u=a.blendStroke,c=a.inactiveShape;return r.map(function(f,h){if((f==null?void 0:f.startAngle)===0&&(f==null?void 0:f.endAngle)===0&&r.length!==1)return null;var p=i.isActiveIndex(h),g=c&&i.hasActiveIndex()?c:null,b=p?s:g,x=ft(ft({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return z.createElement(rt,$s({ref:function(w){w&&!i.sectorRefs.includes(w)&&i.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},xo(i.props,f,h),{key:"sector-".concat(f==null?void 0:f.startAngle,"-").concat(f==null?void 0:f.endAngle,"-").concat(f.midAngle,"-").concat(h)}),z.createElement(Lq,$s({option:b,isActive:p,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,s=i.isAnimationActive,u=i.animationBegin,c=i.animationDuration,f=i.animationEasing,h=i.animationId,p=this.state,g=p.prevSectors,b=p.prevIsAnimationActive;return z.createElement($i,{begin:u,duration:c,isActive:s,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(b),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var E=x.t,w=[],T=a&&a[0],C=T.startAngle;return a.forEach(function(A,P){var O=g&&g[P],M=P>0?Wn(A,"paddingAngle",0):0;if(O){var I=_a(O.endAngle-O.startAngle,A.endAngle-A.startAngle),k=ft(ft({},A),{},{startAngle:C+M,endAngle:C+I(E)+M});w.push(k),C=k.endAngle}else{var L=A.endAngle,G=A.startAngle,$=_a(0,L-G),W=$(E),F=ft(ft({},A),{},{startAngle:C+M,endAngle:C+W+M});w.push(F),C=F.endAngle}}),z.createElement(rt,null,r.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!pm(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,s=i.sectors,u=i.className,c=i.label,f=i.cx,h=i.cy,p=i.innerRadius,g=i.outerRadius,b=i.isAnimationActive,x=this.state.isAnimationFinished;if(a||!s||!s.length||!he(f)||!he(h)||!he(p)||!he(g))return null;var E=ke("recharts-pie",u);return z.createElement(rt,{tabIndex:this.props.rootTabIndex,className:E,ref:function(T){r.pieRef=T}},this.renderSectors(),c&&this.renderLabels(s),Jt.renderCallByParent(this.props,null,!1),(!b||x)&&Aa.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(z.isValidElement(r))return z.cloneElement(r,i);if(Oe(r))return r(i);var s=ke("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return z.createElement(DS,$s({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,a){if(z.isValidElement(r))return z.cloneElement(r,i);var s=a;if(Oe(r)&&(s=r(i),z.isValidElement(s)))return s;var u=ke("recharts-pie-label-text",typeof r!="boolean"&&!Oe(r)?r.className:"");return z.createElement(Eo,$s({},i,{alignmentBaseline:"middle",className:u}),s)}}])})(j.PureComponent);_h=zi;ur(zi,"displayName","Pie");ur(zi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ml.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ur(zi,"parseDeltaAngle",function(t,e){var n=_n(e-t),r=Math.min(Math.abs(e-t),360);return n*r});ur(zi,"getRealPieData",function(t){var e=t.data,n=t.children,r=Ae(t,!1),i=hr(n,Tc);return e&&e.length?e.map(function(a,s){return ft(ft(ft({payload:a},r),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return ft(ft({},r),a.props)}):[]});ur(zi,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,s=_q(i,a),u=r+wn(t.cx,i,i/2),c=n+wn(t.cy,a,a/2),f=wn(t.innerRadius,s,0),h=wn(t.outerRadius,s,s*.8),p=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:u,cy:c,innerRadius:f,outerRadius:h,maxRadius:p}});ur(zi,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?ft(ft({},e.type.defaultProps),e.props):e.props,i=_h.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,s=r.startAngle,u=r.endAngle,c=r.paddingAngle,f=r.dataKey,h=r.nameKey,p=r.valueKey,g=r.tooltipType,b=Math.abs(r.minAngle),x=_h.parseCoordinateOfPie(r,n),E=_h.parseDeltaAngle(s,u),w=Math.abs(E),T=f;Ue(f)&&Ue(p)?(kr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),T="value"):Ue(f)&&(kr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),T=p);var C=i.filter(function(k){return pn(k,T,0)!==0}).length,A=(w>=360?C:C-1)*c,P=w-C*b-A,O=i.reduce(function(k,L){var G=pn(L,T,0);return k+(he(G)?G:0)},0),M;if(O>0){var I;M=i.map(function(k,L){var G=pn(k,T,0),$=pn(k,h,L),W=(he(G)?G:0)/O,F;L?F=I.endAngle+_n(E)*c*(G!==0?1:0):F=s;var X=F+_n(E)*((G!==0?b:0)+W*P),B=(F+X)/2,U=(x.innerRadius+x.outerRadius)/2,K=[{name:$,value:G,payload:k,dataKey:T,type:g}],te=ht(x.cx,x.cy,U,B);return I=ft(ft(ft({percent:W,cornerRadius:a,name:$,tooltipPayload:K,midAngle:B,middleRadius:U,tooltipPosition:te},k),x),{},{value:pn(k,T),startAngle:F,endAngle:X,payload:k,paddingAngle:_n(E)*c}),I})}return ft(ft({},x),{},{sectors:M,data:i})});var nw,gk;function zne(){if(gk)return nw;gk=1;var t=Math.ceil,e=Math.max;function n(r,i,a,s){for(var u=-1,c=e(t((i-r)/(a||1)),0),f=Array(c);c--;)f[s?c:++u]=r,r+=a;return f}return nw=n,nw}var rw,vk;function jq(){if(vk)return rw;vk=1;var t=oj(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*n}return i===i?i:0}return rw=r,rw}var iw,yk;function Vne(){if(yk)return iw;yk=1;var t=zne(),e=im(),n=jq();function r(i){return function(a,s,u){return u&&typeof u!="number"&&e(a,s,u)&&(s=u=void 0),a=n(a),s===void 0?(s=a,a=0):s=n(s),u=u===void 0?a<s?1:-1:n(u),t(a,s,u,i)}}return iw=r,iw}var aw,bk;function Fne(){if(bk)return aw;bk=1;var t=Vne(),e=t();return aw=e,aw}var Kne=Fne();const dp=Ve(Kne);function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function _k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_k(Object(n),!0).forEach(function(r){qq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qq(t,e,n){return e=Wne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wne(t){var e=Yne(t,"string");return Jc(e)=="symbol"?e:e+""}function Yne(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jne=["Webkit","Moz","O","ms"],Xne=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Jne.reduce(function(a,s){return wk(wk({},a),{},qq({},s+r,n))},{});return i[e]=n,i};function dl(t){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}function hp(){return hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hp.apply(this,arguments)}function Sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ow(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sk(Object(n),!0).forEach(function(r){Gn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hq(r.key),r)}}function Zne(t,e,n){return e&&xk(t.prototype,e),n&&xk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ere(t,e,n){return e=pp(e),tre(t,Bq()?Reflect.construct(e,n||[],pp(t).constructor):e.apply(t,n))}function tre(t,e){if(e&&(dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nre(t)}function nre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bq=function(){return!!t})()}function pp(t){return pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pp(t)}function rre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JS(t,e)}function JS(t,e){return JS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JS(t,e)}function Gn(t,e,n){return e=Hq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hq(t){var e=ire(t,"string");return dl(e)=="symbol"?e:e+""}function ire(t,e){if(dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var are=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,u=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,f=lc().domain(dp(0,c)).range([a,a+s-u]),h=f.domain().map(function(p){return f(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(i),scale:f,scaleValues:h}},Ek=function(e){return e.changedTouches&&!!e.changedTouches.length},hl=(function(t){function e(n){var r;return Qne(this,e),r=ere(this,e,[n]),Gn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Gn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Gn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,u=i.startIndex;s==null||s({endIndex:a,startIndex:u})}),r.detachDragEndListener()}),Gn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Gn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Gn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Gn(r,"handleSlideDragStart",function(i){var a=Ek(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return rre(e,t),Zne(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,u=this.props,c=u.gap,f=u.data,h=f.length-1,p=Math.min(i,a),g=Math.max(i,a),b=e.getIndexInRange(s,p),x=e.getIndexInRange(s,g);return{startIndex:b-b%c,endIndex:x===h?h:x-x%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,u=i.dataKey,c=pn(a[r],u,r);return Oe(s)?s(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,u=i.endX,c=this.props,f=c.x,h=c.width,p=c.travellerWidth,g=c.startIndex,b=c.endIndex,x=c.onChange,E=r.pageX-a;E>0?E=Math.min(E,f+h-p-u,f+h-p-s):E<0&&(E=Math.max(E,f-s,f-u));var w=this.getIndex({startX:s+E,endX:u+E});(w.startIndex!==g||w.endIndex!==b)&&x&&x(w),this.setState({startX:s+E,endX:u+E,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=Ek(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,u=i.endX,c=i.startX,f=this.state[s],h=this.props,p=h.x,g=h.width,b=h.travellerWidth,x=h.onChange,E=h.gap,w=h.data,T={startX:this.state.startX,endX:this.state.endX},C=r.pageX-a;C>0?C=Math.min(C,p+g-b-f):C<0&&(C=Math.max(C,p-f)),T[s]=f+C;var A=this.getIndex(T),P=A.startIndex,O=A.endIndex,M=function(){var k=w.length-1;return s==="startX"&&(u>c?P%E===0:O%E===0)||u<c&&O===k||s==="endX"&&(u>c?O%E===0:P%E===0)||u>c&&O===k};this.setState(Gn(Gn({},s,f+C),"brushMoveStartX",r.pageX),function(){x&&M()&&x(A)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,u=s.scaleValues,c=s.startX,f=s.endX,h=this.state[i],p=u.indexOf(h);if(p!==-1){var g=p+r;if(!(g===-1||g>=u.length)){var b=u[g];i==="startX"&&b>=f||i==="endX"&&b<=c||this.setState(Gn({},i,b),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,u=r.height,c=r.fill,f=r.stroke;return z.createElement("rect",{stroke:f,fill:c,x:i,y:a,width:s,height:u})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,u=r.height,c=r.data,f=r.children,h=r.padding,p=j.Children.only(f);return p?z.cloneElement(p,{x:i,y:a,width:s,height:u,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,u=this,c=this.props,f=c.y,h=c.travellerWidth,p=c.height,g=c.traveller,b=c.ariaLabel,x=c.data,E=c.startIndex,w=c.endIndex,T=Math.max(r,this.props.x),C=ow(ow({},Ae(this.props,!1)),{},{x:T,y:f,width:h,height:p}),A=b||"Min value: ".concat((a=x[E])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=x[w])===null||s===void 0?void 0:s.name);return z.createElement(rt,{tabIndex:0,role:"slider","aria-label":A,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(O){["ArrowLeft","ArrowRight"].includes(O.key)&&(O.preventDefault(),O.stopPropagation(),u.handleTravellerMoveKeyboard(O.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,C))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,u=a.height,c=a.stroke,f=a.travellerWidth,h=Math.min(r,i)+f,p=Math.max(Math.abs(i-r)-f,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:s,width:p,height:u})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,u=r.height,c=r.travellerWidth,f=r.stroke,h=this.state,p=h.startX,g=h.endX,b=5,x={pointerEvents:"none",fill:f};return z.createElement(rt,{className:"recharts-brush-texts"},z.createElement(Eo,hp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,g)-b,y:s+u/2},x),this.getTextOfTick(i)),z.createElement(Eo,hp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,g)+c+b,y:s+u/2},x),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,u=r.x,c=r.y,f=r.width,h=r.height,p=r.alwaysShowText,g=this.state,b=g.startX,x=g.endX,E=g.isTextActive,w=g.isSlideMoving,T=g.isTravellerMoving,C=g.isTravellerFocused;if(!i||!i.length||!he(u)||!he(c)||!he(f)||!he(h)||f<=0||h<=0)return null;var A=ke("recharts-brush",a),P=z.Children.count(s)===1,O=Xne("userSelect","none");return z.createElement(rt,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:O},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(b,x),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(x,"endX"),(E||w||T||C||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,u=r.height,c=r.stroke,f=Math.floor(a+u/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:i,y:a,width:s,height:u,fill:c,stroke:"none"}),z.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return z.isValidElement(r)?a=z.cloneElement(r,i):Oe(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,u=r.x,c=r.travellerWidth,f=r.updateId,h=r.startIndex,p=r.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return ow({prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:s},a&&a.length?are({data:a,width:s,x:u,travellerWidth:c,startIndex:h,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||u!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([u,u+s-c]);var g=i.scale.domain().map(function(b){return i.scale(b)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,u=a-1;u-s>1;){var c=Math.floor((s+u)/2);r[c]>i?u=c:s=c}return i>=r[u]?u:s}}])})(j.PureComponent);Gn(hl,"displayName","Brush");Gn(hl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var sw,Tk;function ore(){if(Tk)return sw;Tk=1;var t=TE();function e(n,r){var i;return t(n,function(a,s,u){return i=r(a,s,u),!i}),!!i}return sw=e,sw}var lw,Ak;function sre(){if(Ak)return lw;Ak=1;var t=U$(),e=ri(),n=ore(),r=Nn(),i=im();function a(s,u,c){var f=r(s)?t:n;return c&&i(s,u,c)&&(u=void 0),f(s,e(u,3))}return lw=a,lw}var lre=sre();const ure=Ve(lre);var Zr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},uw,Ck;function cre(){if(Ck)return uw;Ck=1;var t=tj();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return uw=e,uw}var cw,Ok;function fre(){if(Ok)return cw;Ok=1;var t=cre(),e=Z$(),n=ri();function r(i,a){var s={};return a=n(a,3),e(i,function(u,c,f){t(s,c,a(u,c,f))}),s}return cw=r,cw}var dre=fre();const hre=Ve(dre);var fw,Rk;function pre(){if(Rk)return fw;Rk=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return fw=t,fw}var dw,Pk;function mre(){if(Pk)return dw;Pk=1;var t=TE();function e(n,r){var i=!0;return t(n,function(a,s,u){return i=!!r(a,s,u),i}),i}return dw=e,dw}var hw,Mk;function gre(){if(Mk)return hw;Mk=1;var t=pre(),e=mre(),n=ri(),r=Nn(),i=im();function a(s,u,c){var f=r(s)?t:e;return c&&i(s,u,c)&&(u=void 0),f(s,n(u,3))}return hw=a,hw}var vre=gre();const Gq=Ve(vre);var yre=["x","y"];function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function XS(){return XS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XS.apply(this,arguments)}function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){bre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bre(t,e,n){return e=_re(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _re(t){var e=wre(t,"string");return Xc(e)=="symbol"?e:e+""}function wre(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sre(t,e){if(t==null)return{};var n=xre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ere(t,e){var n=t.x,r=t.y,i=Sre(t,yre),a="".concat(n),s=parseInt(a,10),u="".concat(r),c=parseInt(u,10),f="".concat(e.height||i.height),h=parseInt(f,10),p="".concat(e.width||i.width),g=parseInt(p,10);return Vu(Vu(Vu(Vu(Vu({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:g,name:e.name,radius:e.radius})}function Ik(t){return z.createElement(Lq,XS({shapeType:"rectangle",propTransformer:Ere,activeClassName:"recharts-active-bar"},t))}var Tre=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=he(r)||F6(r);return a?e(r,i):(a||Co(),n)}},Are=["value","background"],zq;function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function Cre(t,e){if(t==null)return{};var n=Ore(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ore(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mp(){return mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mp.apply(this,arguments)}function Dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(n),!0).forEach(function(r){Ea(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fq(r.key),r)}}function Pre(t,e,n){return e&&kk(t.prototype,e),n&&kk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mre(t,e,n){return e=gp(e),Nre(t,Vq()?Reflect.construct(e,n||[],gp(t).constructor):e.apply(t,n))}function Nre(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ire(t)}function Ire(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vq=function(){return!!t})()}function gp(t){return gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gp(t)}function Dre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QS(t,e)}function QS(t,e){return QS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QS(t,e)}function Ea(t,e,n){return e=Fq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fq(t){var e=kre(t,"string");return pl(e)=="symbol"?e:e+""}function kre(t,e){if(pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ko=(function(t){function e(){var n;Rre(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Mre(this,e,[].concat(i)),Ea(n,"state",{isAnimationFinished:!1}),Ea(n,"id",hf("recharts-bar-")),Ea(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Ea(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return Dre(e,t),Pre(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,u=a.dataKey,c=a.activeIndex,f=a.activeBar,h=Ae(this.props,!1);return r&&r.map(function(p,g){var b=g===c,x=b?f:s,E=Ut(Ut(Ut({},h),p),{},{isActive:b,option:x,index:g,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return z.createElement(rt,mp({className:"recharts-bar-rectangle"},xo(i.props,p,g),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(g)}),z.createElement(Ik,E))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,u=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,g=this.state.prevData;return z.createElement($i,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var x=b.t,E=a.map(function(w,T){var C=g&&g[T];if(C){var A=_a(C.x,w.x),P=_a(C.y,w.y),O=_a(C.width,w.width),M=_a(C.height,w.height);return Ut(Ut({},w),{},{x:A(x),y:P(x),width:O(x),height:M(x)})}if(s==="horizontal"){var I=_a(0,w.height),k=I(x);return Ut(Ut({},w),{},{y:w.y+w.height-k,height:k})}var L=_a(0,w.width),G=L(x);return Ut(Ut({},w),{},{width:G})});return z.createElement(rt,null,r.renderRectanglesStatically(E))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!pm(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,u=i.activeIndex,c=Ae(this.props.background,!1);return a.map(function(f,h){f.value;var p=f.background,g=Cre(f,Are);if(!p)return null;var b=Ut(Ut(Ut(Ut(Ut({},g),{},{fill:"#eee"},p),c),xo(r.props,f,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return z.createElement(Ik,mp({key:"background-bar-".concat(h),option:r.props.background,isActive:h===u},b))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,u=a.xAxis,c=a.yAxis,f=a.layout,h=a.children,p=hr(h,vm);if(!p)return null;var g=f==="vertical"?s[0].height/2:s[0].width/2,b=function(w,T){var C=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:C,errorVal:pn(w,T)}},x={clipPath:r?"url(#clipPath-".concat(i,")"):null};return z.createElement(rt,x,p.map(function(E){return z.cloneElement(E,{key:"error-bar-".concat(i,"-").concat(E.props.dataKey),data:s,xAxis:u,yAxis:c,layout:f,offset:g,dataPointFormatter:b})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,u=r.xAxis,c=r.yAxis,f=r.left,h=r.top,p=r.width,g=r.height,b=r.isAnimationActive,x=r.background,E=r.id;if(i||!a||!a.length)return null;var w=this.state.isAnimationFinished,T=ke("recharts-bar",s),C=u&&u.allowDataOverflow,A=c&&c.allowDataOverflow,P=C||A,O=Ue(E)?this.id:E;return z.createElement(rt,{className:T},C||A?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(O)},z.createElement("rect",{x:C?f:f-p/2,y:A?h:h-g/2,width:C?p:p*2,height:A?g:g*2}))):null,z.createElement(rt,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(O,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,O),(!b||w)&&Aa.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(j.PureComponent);zq=ko;Ea(ko,"displayName","Bar");Ea(ko,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ml.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ea(ko,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,u=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,p=t.displayedData,g=t.offset,b=oQ(r,n);if(!b)return null;var x=e.layout,E=n.type.defaultProps,w=E!==void 0?Ut(Ut({},E),n.props):n.props,T=w.dataKey,C=w.children,A=w.minPointSize,P=x==="horizontal"?s:a,O=f?P.scale.domain():null,M=hQ({numericAxis:P}),I=hr(C,Tc),k=p.map(function(L,G){var $,W,F,X,B,U;f?$=sQ(f[h+G],O):($=pn(L,T),Array.isArray($)||($=[M,$]));var K=Tre(A,zq.defaultProps.minPointSize)($[1],G);if(x==="horizontal"){var te,se=[s.scale($[0]),s.scale($[1])],de=se[0],q=se[1];W=uD({axis:a,ticks:u,bandSize:i,offset:b.offset,entry:L,index:G}),F=(te=q??de)!==null&&te!==void 0?te:void 0,X=b.size;var Y=de-q;if(B=Number.isNaN(Y)?0:Y,U={x:W,y:s.y,width:X,height:s.height},Math.abs(K)>0&&Math.abs(B)<Math.abs(K)){var re=_n(B||K)*(Math.abs(K)-Math.abs(B));F-=re,B+=re}}else{var ce=[a.scale($[0]),a.scale($[1])],me=ce[0],we=ce[1];if(W=me,F=uD({axis:s,ticks:c,bandSize:i,offset:b.offset,entry:L,index:G}),X=we-me,B=b.size,U={x:a.x,y:F,width:a.width,height:B},Math.abs(K)>0&&Math.abs(X)<Math.abs(K)){var Le=_n(X||K)*(Math.abs(K)-Math.abs(X));X+=Le}}return Ut(Ut(Ut({},L),{},{x:W,y:F,width:X,height:B,value:f?$:$[1],payload:L,background:U},I&&I[G]&&I[G].props),{},{tooltipPayload:[yq(n,L)],tooltipPosition:{x:W+X/2,y:F+B/2}})});return Ut({data:k,layout:x},g)});function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function Lre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kq(r.key),r)}}function Ure(t,e,n){return e&&Lk(t.prototype,e),n&&Lk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(n),!0).forEach(function(r){Em(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Em(t,e,n){return e=Kq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kq(t){var e=$re(t,"string");return Qc(e)=="symbol"?e:e+""}function $re(t,e){if(Qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jre=function(e,n,r,i,a){var s=e.width,u=e.height,c=e.layout,f=e.children,h=Object.keys(n),p={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:u-r.bottom,bottomMirror:u-r.bottom},g=!!zn(f,ko);return h.reduce(function(b,x){var E=n[x],w=E.orientation,T=E.domain,C=E.padding,A=C===void 0?{}:C,P=E.mirror,O=E.reversed,M="".concat(w).concat(P?"Mirror":""),I,k,L,G,$;if(E.type==="number"&&(E.padding==="gap"||E.padding==="no-gap")){var W=T[1]-T[0],F=1/0,X=E.categoricalDomain.sort(Y6);if(X.forEach(function(ce,me){me>0&&(F=Math.min((ce||0)-(X[me-1]||0),F))}),Number.isFinite(F)){var B=F/W,U=E.layout==="vertical"?r.height:r.width;if(E.padding==="gap"&&(I=B*U/2),E.padding==="no-gap"){var K=wn(e.barCategoryGap,B*U),te=B*U/2;I=te-K-(te-K)/U*K}}}i==="xAxis"?k=[r.left+(A.left||0)+(I||0),r.left+r.width-(A.right||0)-(I||0)]:i==="yAxis"?k=c==="horizontal"?[r.top+r.height-(A.bottom||0),r.top+(A.top||0)]:[r.top+(A.top||0)+(I||0),r.top+r.height-(A.bottom||0)-(I||0)]:k=E.range,O&&(k=[k[1],k[0]]);var se=pq(E,a,g),de=se.scale,q=se.realScaleType;de.domain(T).range(k),mq(de);var Y=gq(de,Nr(Nr({},E),{},{realScaleType:q}));i==="xAxis"?($=w==="top"&&!P||w==="bottom"&&P,L=r.left,G=p[M]-$*E.height):i==="yAxis"&&($=w==="left"&&!P||w==="right"&&P,L=p[M]-$*E.width,G=r.top);var re=Nr(Nr(Nr({},E),Y),{},{realScaleType:q,x:L,y:G,scale:de,width:i==="xAxis"?r.width:E.width,height:i==="yAxis"?r.height:E.height});return re.bandSize=Zh(re,Y),!E.hide&&i==="xAxis"?p[M]+=($?-1:1)*re.height:E.hide||(p[M]+=($?-1:1)*re.width),Nr(Nr({},b),{},Em({},x,re))},{})},Wq=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},qre=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return Wq({x:n,y:r},{x:i,y:a})},Yq=(function(){function t(e){Lre(this,t),this.scale=e}return Ure(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(n)+u}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();Em(Yq,"EPS",1e-4);var tT=function(e){var n=Object.keys(e).reduce(function(r,i){return Nr(Nr({},r),{},Em({},i,Yq.create(e[i])))},{});return Nr(Nr({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,u=a.position;return hre(i,function(c,f){return n[f].apply(c,{bandAware:s,position:u})})},isInRange:function(i){return Gq(i,function(a,s){return n[s].isInRange(a)})}})};function Bre(t){return(t%180+180)%180}var Hre=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Bre(i),s=a*Math.PI/180,u=Math.atan(r/n),c=s>u&&s<Math.PI-u?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},pw,$k;function Gre(){if($k)return pw;$k=1;var t=ri(),e=pf(),n=nm();function r(i){return function(a,s,u){var c=Object(a);if(!e(a)){var f=t(s,3);a=n(a),s=function(p){return f(c[p],p,c)}}var h=i(a,s,u);return h>-1?c[f?a[h]:h]:void 0}}return pw=r,pw}var mw,jk;function zre(){if(jk)return mw;jk=1;var t=jq();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return mw=e,mw}var gw,qk;function Vre(){if(qk)return gw;qk=1;var t=W$(),e=ri(),n=zre(),r=Math.max;function i(a,s,u){var c=a==null?0:a.length;if(!c)return-1;var f=u==null?0:n(u);return f<0&&(f=r(c+f,0)),t(a,e(s,3),f)}return gw=i,gw}var vw,Bk;function Fre(){if(Bk)return vw;Bk=1;var t=Gre(),e=Vre(),n=t(e);return vw=n,vw}var Kre=Fre();const Wre=Ve(Kre);var Yre=u$();const Jre=Ve(Yre);var Xre=Jre(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),nT=j.createContext(void 0),rT=j.createContext(void 0),Jq=j.createContext(void 0),Xq=j.createContext({}),Qq=j.createContext(void 0),Zq=j.createContext(0),eB=j.createContext(0),Hk=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,u=e.children,c=e.width,f=e.height,h=Xre(a);return z.createElement(nT.Provider,{value:r},z.createElement(rT.Provider,{value:i},z.createElement(Xq.Provider,{value:a},z.createElement(Jq.Provider,{value:h},z.createElement(Qq.Provider,{value:s},z.createElement(Zq.Provider,{value:f},z.createElement(eB.Provider,{value:c},u)))))))},Qre=function(){return j.useContext(Qq)},tB=function(e){var n=j.useContext(nT);n==null&&Co();var r=n[e];return r==null&&Co(),r},Zre=function(){var e=j.useContext(nT);return xa(e)},eie=function(){var e=j.useContext(rT),n=Wre(e,function(r){return Gq(r.domain,Number.isFinite)});return n||xa(e)},nB=function(e){var n=j.useContext(rT);n==null&&Co();var r=n[e];return r==null&&Co(),r},tie=function(){var e=j.useContext(Jq);return e},nie=function(){return j.useContext(Xq)},iT=function(){return j.useContext(eB)},aT=function(){return j.useContext(Zq)};function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function rie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iB(r.key),r)}}function aie(t,e,n){return e&&iie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oie(t,e,n){return e=vp(e),sie(t,rB()?Reflect.construct(e,n||[],vp(t).constructor):e.apply(t,n))}function sie(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lie(t)}function lie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rB=function(){return!!t})()}function vp(t){return vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vp(t)}function uie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZS(t,e)}function ZS(t,e){return ZS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZS(t,e)}function Gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(n),!0).forEach(function(r){oT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oT(t,e,n){return e=iB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iB(t){var e=cie(t,"string");return ml(e)=="symbol"?e:e+""}function cie(t,e){if(ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fie(t,e){return mie(t)||pie(t,e)||hie(t,e)||die()}function die(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hie(t,e){if(t){if(typeof t=="string")return Vk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vk(t,e)}}function Vk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function mie(t){if(Array.isArray(t))return t}function ex(){return ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ex.apply(this,arguments)}var gie=function(e,n){var r;return z.isValidElement(e)?r=z.cloneElement(e,n):Oe(e)?r=e(n):r=z.createElement("line",ex({},n,{className:"recharts-reference-line-line"})),r},vie=function(e,n,r,i,a,s,u,c,f){var h=a.x,p=a.y,g=a.width,b=a.height;if(r){var x=f.y,E=e.y.apply(x,{position:s});if(Zr(f,"discard")&&!e.y.isInRange(E))return null;var w=[{x:h+g,y:E},{x:h,y:E}];return c==="left"?w.reverse():w}if(n){var T=f.x,C=e.x.apply(T,{position:s});if(Zr(f,"discard")&&!e.x.isInRange(C))return null;var A=[{x:C,y:p+b},{x:C,y:p}];return u==="top"?A.reverse():A}if(i){var P=f.segment,O=P.map(function(M){return e.apply(M,{position:s})});return Zr(f,"discard")&&ure(O,function(M){return!e.isInRange(M)})?null:O}return null};function yie(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,u=t.className,c=t.alwaysShow,f=Qre(),h=tB(i),p=nB(a),g=tie();if(!f||!g)return null;kr(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=tT({x:h.scale,y:p.scale}),x=Vt(e),E=Vt(n),w=r&&r.length===2,T=vie(b,x,E,w,g,t.position,h.orientation,p.orientation,t);if(!T)return null;var C=fie(T,2),A=C[0],P=A.x,O=A.y,M=C[1],I=M.x,k=M.y,L=Zr(t,"hidden")?"url(#".concat(f,")"):void 0,G=zk(zk({clipPath:L},Ae(t,!0)),{},{x1:P,y1:O,x2:I,y2:k});return z.createElement(rt,{className:ke("recharts-reference-line",u)},gie(s,G),Jt.renderCallByParent(t,qre({x1:P,y1:O,x2:I,y2:k})))}var sT=(function(t){function e(){return rie(this,e),oie(this,e,arguments)}return uie(e,t),aie(e,[{key:"render",value:function(){return z.createElement(yie,this.props)}}])})(z.Component);oT(sT,"displayName","ReferenceLine");oT(sT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function tx(){return tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tx.apply(this,arguments)}function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function Fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fk(Object(n),!0).forEach(function(r){Tm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oB(r.key),r)}}function wie(t,e,n){return e&&_ie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sie(t,e,n){return e=yp(e),xie(t,aB()?Reflect.construct(e,n||[],yp(t).constructor):e.apply(t,n))}function xie(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eie(t)}function Eie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aB=function(){return!!t})()}function yp(t){return yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yp(t)}function Tie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nx(t,e)}function nx(t,e){return nx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nx(t,e)}function Tm(t,e,n){return e=oB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oB(t){var e=Aie(t,"string");return gl(e)=="symbol"?e:e+""}function Aie(t,e){if(gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cie=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=tT({x:i.scale,y:a.scale}),u=s.apply({x:n,y:r},{bandAware:!0});return Zr(e,"discard")&&!s.isInRange(u)?null:u},Am=(function(t){function e(){return bie(this,e),Sie(this,e,arguments)}return Tie(e,t),wie(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,u=r.alwaysShow,c=r.clipPathId,f=Vt(i),h=Vt(a);if(kr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var p=Cie(this.props);if(!p)return null;var g=p.x,b=p.y,x=this.props,E=x.shape,w=x.className,T=Zr(this.props,"hidden")?"url(#".concat(c,")"):void 0,C=Kk(Kk({clipPath:T},Ae(this.props,!0)),{},{cx:g,cy:b});return z.createElement(rt,{className:ke("recharts-reference-dot",w)},e.renderDot(E,C),Jt.renderCallByParent(this.props,{x:g-s,y:b-s,width:2*s,height:2*s}))}}])})(z.Component);Tm(Am,"displayName","ReferenceDot");Tm(Am,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Tm(Am,"renderDot",function(t,e){var n;return z.isValidElement(t)?n=z.cloneElement(t,e):Oe(t)?n=t(e):n=z.createElement(eT,tx({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function rx(){return rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rx.apply(this,arguments)}function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function Wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(n),!0).forEach(function(r){Cm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lB(r.key),r)}}function Pie(t,e,n){return e&&Rie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mie(t,e,n){return e=bp(e),Nie(t,sB()?Reflect.construct(e,n||[],bp(t).constructor):e.apply(t,n))}function Nie(t,e){if(e&&(vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iie(t)}function Iie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sB=function(){return!!t})()}function bp(t){return bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bp(t)}function Die(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ix(t,e)}function ix(t,e){return ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ix(t,e)}function Cm(t,e,n){return e=lB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lB(t){var e=kie(t,"string");return vl(e)=="symbol"?e:e+""}function kie(t,e){if(vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lie=function(e,n,r,i,a){var s=a.x1,u=a.x2,c=a.y1,f=a.y2,h=a.xAxis,p=a.yAxis;if(!h||!p)return null;var g=tT({x:h.scale,y:p.scale}),b={x:e?g.x.apply(s,{position:"start"}):g.x.rangeMin,y:r?g.y.apply(c,{position:"start"}):g.y.rangeMin},x={x:n?g.x.apply(u,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(f,{position:"end"}):g.y.rangeMax};return Zr(a,"discard")&&(!g.isInRange(b)||!g.isInRange(x))?null:Wq(b,x)},Om=(function(t){function e(){return Oie(this,e),Mie(this,e,arguments)}return Die(e,t),Pie(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,u=r.y2,c=r.className,f=r.alwaysShow,h=r.clipPathId;kr(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Vt(i),g=Vt(a),b=Vt(s),x=Vt(u),E=this.props.shape;if(!p&&!g&&!b&&!x&&!E)return null;var w=Lie(p,g,b,x,this.props);if(!w&&!E)return null;var T=Zr(this.props,"hidden")?"url(#".concat(h,")"):void 0;return z.createElement(rt,{className:ke("recharts-reference-area",c)},e.renderRect(E,Yk(Yk({clipPath:T},Ae(this.props,!0)),w)),Jt.renderCallByParent(this.props,w))}}])})(z.Component);Cm(Om,"displayName","ReferenceArea");Cm(Om,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Cm(Om,"renderRect",function(t,e){var n;return z.isValidElement(t)?n=z.cloneElement(t,e):Oe(t)?n=t(e):n=z.createElement(ZE,rx({},e,{className:"recharts-reference-area-rect"})),n});function uB(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Uie(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Hre(r,n)}function $ie(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,u=t.height;return e===1?{start:r?i:a,end:r?i+s:a+u}:{start:r?i+s:a+u,end:r?i:a}}function _p(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function jie(t,e){return uB(t,e+1)}function qie(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,u=e.end,c=0,f=1,h=s,p=function(){var x=r==null?void 0:r[c];if(x===void 0)return{v:uB(r,f)};var E=c,w,T=function(){return w===void 0&&(w=n(x,E)),w},C=x.coordinate,A=c===0||_p(t,C,T,h,u);A||(c=0,h=s,f+=1),A&&(h=C+t*(T()/2+i),c+=f)},g;f<=a.length;)if(g=p(),g)return g.v;return[]}function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function Jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(n),!0).forEach(function(r){Bie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bie(t,e,n){return e=Hie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hie(t){var e=Gie(t,"string");return Zc(e)=="symbol"?e:e+""}function Gie(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zie(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,u=e.start,c=e.end,f=function(g){var b=a[g],x,E=function(){return x===void 0&&(x=n(b,g)),x};if(g===s-1){var w=t*(b.coordinate+t*E()/2-c);a[g]=b=fn(fn({},b),{},{tickCoord:w>0?b.coordinate-w*t:b.coordinate})}else a[g]=b=fn(fn({},b),{},{tickCoord:b.coordinate});var T=_p(t,b.tickCoord,E,u,c);T&&(c=b.tickCoord-t*(E()/2+i),a[g]=fn(fn({},b),{},{isShow:!0}))},h=s-1;h>=0;h--)f(h);return a}function Vie(t,e,n,r,i,a){var s=(r||[]).slice(),u=s.length,c=e.start,f=e.end;if(a){var h=r[u-1],p=n(h,u-1),g=t*(h.coordinate+t*p/2-f);s[u-1]=h=fn(fn({},h),{},{tickCoord:g>0?h.coordinate-g*t:h.coordinate});var b=_p(t,h.tickCoord,function(){return p},c,f);b&&(f=h.tickCoord-t*(p/2+i),s[u-1]=fn(fn({},h),{},{isShow:!0}))}for(var x=a?u-1:u,E=function(C){var A=s[C],P,O=function(){return P===void 0&&(P=n(A,C)),P};if(C===0){var M=t*(A.coordinate-t*O()/2-c);s[C]=A=fn(fn({},A),{},{tickCoord:M<0?A.coordinate-M*t:A.coordinate})}else s[C]=A=fn(fn({},A),{},{tickCoord:A.coordinate});var I=_p(t,A.tickCoord,O,c,f);I&&(c=A.tickCoord+t*(O()/2+i),s[C]=fn(fn({},A),{},{isShow:!0}))},w=0;w<x;w++)E(w);return s}function lT(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,u=t.orientation,c=t.interval,f=t.tickFormatter,h=t.unit,p=t.angle;if(!i||!i.length||!r)return[];if(he(c)||Ml.isSsr)return jie(i,typeof c=="number"&&he(c)?c:0);var g=[],b=u==="top"||u==="bottom"?"width":"height",x=h&&b==="width"?sc(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},E=function(A,P){var O=Oe(f)?f(A.value,P):A.value;return b==="width"?Uie(sc(O,{fontSize:e,letterSpacing:n}),x,p):sc(O,{fontSize:e,letterSpacing:n})[b]},w=i.length>=2?_n(i[1].coordinate-i[0].coordinate):1,T=$ie(a,w,b);return c==="equidistantPreserveStart"?qie(w,T,E,i,s):(c==="preserveStart"||c==="preserveStartEnd"?g=Vie(w,T,E,i,s,c==="preserveStartEnd"):g=zie(w,T,E,i,s),g.filter(function(C){return C.isShow}))}var Fie=["viewBox"],Kie=["viewBox"],Wie=["ticks"];function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}function js(){return js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},js.apply(this,arguments)}function Xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xk(Object(n),!0).forEach(function(r){uT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yw(t,e){if(t==null)return{};var n=Yie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Jie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fB(r.key),r)}}function Xie(t,e,n){return e&&Qk(t.prototype,e),n&&Qk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qie(t,e,n){return e=wp(e),Zie(t,cB()?Reflect.construct(e,n||[],wp(t).constructor):e.apply(t,n))}function Zie(t,e){if(e&&(yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eae(t)}function eae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cB=function(){return!!t})()}function wp(t){return wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wp(t)}function tae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ax(t,e)}function ax(t,e){return ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ax(t,e)}function uT(t,e,n){return e=fB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fB(t){var e=nae(t,"string");return yl(e)=="symbol"?e:e+""}function nae(t,e){if(yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kl=(function(t){function e(n){var r;return Jie(this,e),r=Qie(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return tae(e,t),Xie(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=yw(r,Fie),u=this.props,c=u.viewBox,f=yw(u,Kie);return!Ks(a,c)||!Ks(s,f)||!Ks(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,u=i.width,c=i.height,f=i.orientation,h=i.tickSize,p=i.mirror,g=i.tickMargin,b,x,E,w,T,C,A=p?-1:1,P=r.tickSize||h,O=he(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":b=x=r.coordinate,w=s+ +!p*c,E=w-A*P,C=E-A*g,T=O;break;case"left":E=w=r.coordinate,x=a+ +!p*u,b=x-A*P,T=b-A*g,C=O;break;case"right":E=w=r.coordinate,x=a+ +p*u,b=x+A*P,T=b+A*g,C=O;break;default:b=x=r.coordinate,w=s+ +p*c,E=w+A*P,C=E+A*g,T=O;break}return{line:{x1:b,y1:E,x2:x,y2:w},tick:{x:T,y:C}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,u=r.height,c=r.orientation,f=r.mirror,h=r.axisLine,p=Ht(Ht(Ht({},Ae(this.props,!1)),Ae(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var g=+(c==="top"&&!f||c==="bottom"&&f);p=Ht(Ht({},p),{},{x1:i,y1:a+g*u,x2:i+s,y2:a+g*u})}else{var b=+(c==="left"&&!f||c==="right"&&f);p=Ht(Ht({},p),{},{x1:i+b*s,y1:a,x2:i+b*s,y2:a+u})}return z.createElement("line",js({},p,{className:ke("recharts-cartesian-axis-line",Wn(h,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,u=this.props,c=u.tickLine,f=u.stroke,h=u.tick,p=u.tickFormatter,g=u.unit,b=lT(Ht(Ht({},this.props),{},{ticks:r}),i,a),x=this.getTickTextAnchor(),E=this.getTickVerticalAnchor(),w=Ae(this.props,!1),T=Ae(h,!1),C=Ht(Ht({},w),{},{fill:"none"},Ae(c,!1)),A=b.map(function(P,O){var M=s.getTickLineCoord(P),I=M.line,k=M.tick,L=Ht(Ht(Ht(Ht({textAnchor:x,verticalAnchor:E},w),{},{stroke:"none",fill:f},T),k),{},{index:O,payload:P,visibleTicksCount:b.length,tickFormatter:p});return z.createElement(rt,js({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},xo(s.props,P,O)),c&&z.createElement("line",js({},C,I,{className:ke("recharts-cartesian-axis-tick-line",Wn(c,"className"))})),h&&e.renderTickItem(h,L,"".concat(Oe(p)?p(P.value,O):P.value).concat(g||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},A)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,u=i.height,c=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var p=this.props,g=p.ticks,b=yw(p,Wie),x=g;return Oe(c)&&(x=g&&g.length>0?c(this.props):c(b)),s<=0||u<=0||!x||!x.length?null:z.createElement(rt,{className:ke("recharts-cartesian-axis",f),ref:function(w){r.layerReference=w}},a&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Jt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,u=ke(i.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(r)?s=z.cloneElement(r,Ht(Ht({},i),{},{className:u})):Oe(r)?s=r(Ht(Ht({},i),{},{className:u})):s=z.createElement(Eo,js({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])})(j.Component);uT(kl,"displayName","CartesianAxis");uT(kl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var rae=["x1","y1","x2","y2","key"],iae=["offset"];function Oo(t){"@babel/helpers - typeof";return Oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oo(t)}function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){aae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aae(t,e,n){return e=oae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oae(t){var e=sae(t,"string");return Oo(e)=="symbol"?e:e+""}function sae(t,e){if(Oo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vo(){return vo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vo.apply(this,arguments)}function e2(t,e){if(t==null)return{};var n=lae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var uae=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,u=e.height,c=e.ry;return z.createElement("rect",{x:i,y:a,ry:c,width:s,height:u,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function dB(t,e){var n;if(z.isValidElement(t))n=z.cloneElement(t,e);else if(Oe(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,u=e.key,c=e2(e,rae),f=Ae(c,!1);f.offset;var h=e2(f,iae);n=z.createElement("line",vo({},h,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:u}))}return n}function cae(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(u,c){var f=dn(dn({},t),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(c),index:c});return dB(i,f)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function fae(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(u,c){var f=dn(dn({},t),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(c),index:c});return dB(i,f)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function dae(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,u=t.horizontalPoints,c=t.horizontal,f=c===void 0?!0:c;if(!f||!e||!e.length)return null;var h=u.map(function(g){return Math.round(g+i-i)}).sort(function(g,b){return g-b});i!==h[0]&&h.unshift(0);var p=h.map(function(g,b){var x=!h[b+1],E=x?i+s-g:h[b+1]-g;if(E<=0)return null;var w=b%e.length;return z.createElement("rect",{key:"react-".concat(b),y:g,x:r,height:E,width:a,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function hae(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,u=t.width,c=t.height,f=t.verticalPoints;if(!n||!r||!r.length)return null;var h=f.map(function(g){return Math.round(g+a-a)}).sort(function(g,b){return g-b});a!==h[0]&&h.unshift(0);var p=h.map(function(g,b){var x=!h[b+1],E=x?a+u-g:h[b+1]-g;if(E<=0)return null;var w=b%r.length;return z.createElement("rect",{key:"react-".concat(b),x:g,y:s,width:E,height:c,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var pae=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return hq(lT(dn(dn(dn({},kl.defaultProps),r),{},{ticks:Pi(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},mae=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return hq(lT(dn(dn(dn({},kl.defaultProps),r),{},{ticks:Pi(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},Ps={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function hB(t){var e,n,r,i,a,s,u=iT(),c=aT(),f=nie(),h=dn(dn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ps.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ps.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ps.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ps.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Ps.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Ps.verticalFill,x:he(t.x)?t.x:f.left,y:he(t.y)?t.y:f.top,width:he(t.width)?t.width:f.width,height:he(t.height)?t.height:f.height}),p=h.x,g=h.y,b=h.width,x=h.height,E=h.syncWithTicks,w=h.horizontalValues,T=h.verticalValues,C=Zre(),A=eie();if(!he(b)||b<=0||!he(x)||x<=0||!he(p)||p!==+p||!he(g)||g!==+g)return null;var P=h.verticalCoordinatesGenerator||pae,O=h.horizontalCoordinatesGenerator||mae,M=h.horizontalPoints,I=h.verticalPoints;if((!M||!M.length)&&Oe(O)){var k=w&&w.length,L=O({yAxis:A?dn(dn({},A),{},{ticks:k?w:A.ticks}):void 0,width:u,height:c,offset:f},k?!0:E);kr(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Oo(L),"]")),Array.isArray(L)&&(M=L)}if((!I||!I.length)&&Oe(P)){var G=T&&T.length,$=P({xAxis:C?dn(dn({},C),{},{ticks:G?T:C.ticks}):void 0,width:u,height:c,offset:f},G?!0:E);kr(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Oo($),"]")),Array.isArray($)&&(I=$)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(uae,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),z.createElement(cae,vo({},h,{offset:f,horizontalPoints:M,xAxis:C,yAxis:A})),z.createElement(fae,vo({},h,{offset:f,verticalPoints:I,xAxis:C,yAxis:A})),z.createElement(dae,vo({},h,{horizontalPoints:M})),z.createElement(hae,vo({},h,{verticalPoints:I})))}hB.displayName="CartesianGrid";function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function gae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gB(r.key),r)}}function yae(t,e,n){return e&&vae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bae(t,e,n){return e=Sp(e),_ae(t,pB()?Reflect.construct(e,n||[],Sp(t).constructor):e.apply(t,n))}function _ae(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wae(t)}function wae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pB=function(){return!!t})()}function Sp(t){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sp(t)}function Sae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ox(t,e)}function ox(t,e){return ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ox(t,e)}function mB(t,e,n){return e=gB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gB(t){var e=xae(t,"string");return bl(e)=="symbol"?e:e+""}function xae(t,e){if(bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function sx(){return sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sx.apply(this,arguments)}function Eae(t){var e=t.xAxisId,n=iT(),r=aT(),i=tB(e);return i==null?null:j.createElement(kl,sx({},i,{className:ke("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Pi(s,!0)}}))}var Rm=(function(t){function e(){return gae(this,e),bae(this,e,arguments)}return Sae(e,t),yae(e,[{key:"render",value:function(){return j.createElement(Eae,this.props)}}])})(j.Component);mB(Rm,"displayName","XAxis");mB(Rm,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function Tae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Aae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bB(r.key),r)}}function Cae(t,e,n){return e&&Aae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oae(t,e,n){return e=xp(e),Rae(t,vB()?Reflect.construct(e,n||[],xp(t).constructor):e.apply(t,n))}function Rae(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pae(t)}function Pae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vB=function(){return!!t})()}function xp(t){return xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xp(t)}function Mae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lx(t,e)}function lx(t,e){return lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lx(t,e)}function yB(t,e,n){return e=bB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bB(t){var e=Nae(t,"string");return _l(e)=="symbol"?e:e+""}function Nae(t,e){if(_l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ux(){return ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ux.apply(this,arguments)}var Iae=function(e){var n=e.yAxisId,r=iT(),i=aT(),a=nB(n);return a==null?null:j.createElement(kl,ux({},a,{className:ke("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(u){return Pi(u,!0)}}))},Pm=(function(t){function e(){return Tae(this,e),Oae(this,e,arguments)}return Mae(e,t),Cae(e,[{key:"render",value:function(){return j.createElement(Iae,this.props)}}])})(j.Component);yB(Pm,"displayName","YAxis");yB(Pm,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function t2(t){return Uae(t)||Lae(t)||kae(t)||Dae()}function Dae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kae(t,e){if(t){if(typeof t=="string")return cx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cx(t,e)}}function Lae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uae(t){if(Array.isArray(t))return cx(t)}function cx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fx=function(e,n,r,i,a){var s=hr(e,sT),u=hr(e,Am),c=[].concat(t2(s),t2(u)),f=hr(e,Om),h="".concat(i,"Id"),p=i[0],g=n;if(c.length&&(g=c.reduce(function(E,w){if(w.props[h]===r&&Zr(w.props,"extendDomain")&&he(w.props[p])){var T=w.props[p];return[Math.min(E[0],T),Math.max(E[1],T)]}return E},g)),f.length){var b="".concat(p,"1"),x="".concat(p,"2");g=f.reduce(function(E,w){if(w.props[h]===r&&Zr(w.props,"extendDomain")&&he(w.props[b])&&he(w.props[x])){var T=w.props[b],C=w.props[x];return[Math.min(E[0],T,C),Math.max(E[1],T,C)]}return E},g)}return a&&a.length&&(g=a.reduce(function(E,w){return he(w)?[Math.min(E[0],w),Math.max(E[1],w)]:E},g)),g},bw={exports:{}},n2;function $ae(){return n2||(n2=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function a(c,f,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new i(h,p||c,g),x=n?n+f:f;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],b]:c._events[x].push(b):(c._events[x]=b,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,b=p.length,x=new Array(b);g<b;g++)x[g]=p[g].fn;return x},u.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(f,h,p,g,b,x){var E=n?n+f:f;if(!this._events[E])return!1;var w=this._events[E],T=arguments.length,C,A;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),T){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,p),!0;case 4:return w.fn.call(w.context,h,p,g),!0;case 5:return w.fn.call(w.context,h,p,g,b),!0;case 6:return w.fn.call(w.context,h,p,g,b,x),!0}for(A=1,C=new Array(T-1);A<T;A++)C[A-1]=arguments[A];w.fn.apply(w.context,C)}else{var P=w.length,O;for(A=0;A<P;A++)switch(w[A].once&&this.removeListener(f,w[A].fn,void 0,!0),T){case 1:w[A].fn.call(w[A].context);break;case 2:w[A].fn.call(w[A].context,h);break;case 3:w[A].fn.call(w[A].context,h,p);break;case 4:w[A].fn.call(w[A].context,h,p,g);break;default:if(!C)for(O=1,C=new Array(T-1);O<T;O++)C[O-1]=arguments[O];w[A].fn.apply(w[A].context,C)}}return!0},u.prototype.on=function(f,h,p){return a(this,f,h,p,!1)},u.prototype.once=function(f,h,p){return a(this,f,h,p,!0)},u.prototype.removeListener=function(f,h,p,g){var b=n?n+f:f;if(!this._events[b])return this;if(!h)return s(this,b),this;var x=this._events[b];if(x.fn)x.fn===h&&(!g||x.once)&&(!p||x.context===p)&&s(this,b);else{for(var E=0,w=[],T=x.length;E<T;E++)(x[E].fn!==h||g&&!x[E].once||p&&x[E].context!==p)&&w.push(x[E]);w.length?this._events[b]=w.length===1?w[0]:w:s(this,b)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(bw)),bw.exports}var jae=$ae();const qae=Ve(jae);var _w=new qae,ww="recharts.syncMouseEvents";function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function Bae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_B(r.key),r)}}function Gae(t,e,n){return e&&Hae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sw(t,e,n){return e=_B(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _B(t){var e=zae(t,"string");return ef(e)=="symbol"?e:e+""}function zae(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vae=(function(){function t(){Bae(this,t),Sw(this,"activeIndex",0),Sw(this,"coordinateList",[]),Sw(this,"layout","horizontal")}return Gae(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,u=s===void 0?null:s,c=n.layout,f=c===void 0?null:c,h=n.offset,p=h===void 0?null:h,g=n.mouseHandlerCallback,b=g===void 0?null:g;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,u=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,p=a+c+f,g=s+this.offset.top+u/2+h;this.mouseHandlerCallback({pageX:p,pageY:g})}}}])})();function Fae(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&he(r)&&he(i))return!0}return!1}function Kae(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function wB(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=ht(e,n,r,i),u=ht(e,n,r,a);return{points:[s,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Wae(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,c=e.cy,f=e.innerRadius,h=e.outerRadius,p=e.angle,g=ht(u,c,f,p),b=ht(u,c,h,p);r=g.x,i=g.y,a=b.x,s=b.y}else return wB(e);return[{x:r,y:i},{x:a,y:s}]}function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function r2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function th(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r2(Object(n),!0).forEach(function(r){Yae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yae(t,e,n){return e=Jae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jae(t){var e=Xae(t,"string");return tf(e)=="symbol"?e:e+""}function Xae(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qae(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,u=t.activePayload,c=t.offset,f=t.activeTooltipIndex,h=t.tooltipAxisBandSize,p=t.layout,g=t.chartName,b=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!b||!a||!s||g!=="ScatterChart"&&i!=="axis")return null;var x,E=DS;if(g==="ScatterChart")x=s,E=Ite;else if(g==="BarChart")x=Kae(p,s,c,h),E=ZE;else if(p==="radial"){var w=wB(s),T=w.cx,C=w.cy,A=w.radius,P=w.startAngle,O=w.endAngle;x={cx:T,cy:C,startAngle:P,endAngle:O,innerRadius:A,outerRadius:A},E=Eq}else x={points:Wae(p,s,c)},E=DS;var M=th(th(th(th({stroke:"#ccc",pointerEvents:"none"},c),x),Ae(b,!1)),{},{payload:u,payloadIndex:f,className:ke("recharts-tooltip-cursor",b.className)});return j.isValidElement(b)?j.cloneElement(b,M):j.createElement(E,M)}var Zae=["item"],eoe=["children","className","width","height","style","compact","title","desc"];function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function qs(){return qs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qs.apply(this,arguments)}function i2(t,e){return roe(t)||noe(t,e)||xB(t,e)||toe()}function toe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function noe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function roe(t){if(Array.isArray(t))return t}function a2(t,e){if(t==null)return{};var n=ioe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ioe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function aoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ooe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EB(r.key),r)}}function soe(t,e,n){return e&&ooe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function loe(t,e,n){return e=Ep(e),uoe(t,SB()?Reflect.construct(e,n||[],Ep(t).constructor):e.apply(t,n))}function uoe(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return coe(t)}function coe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SB=function(){return!!t})()}function Ep(t){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ep(t)}function foe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dx(t,e)}function dx(t,e){return dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dx(t,e)}function Sl(t){return poe(t)||hoe(t)||xB(t)||doe()}function doe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xB(t,e){if(t){if(typeof t=="string")return hx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hx(t,e)}}function hoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function poe(t){if(Array.isArray(t))return hx(t)}function hx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o2(Object(n),!0).forEach(function(r){xe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xe(t,e,n){return e=EB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EB(t){var e=moe(t,"string");return wl(e)=="symbol"?e:e+""}function moe(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var goe={xAxis:["bottom","top"],yAxis:["left","right"]},voe={width:"100%",height:"100%"},TB={x:0,y:0};function nh(t){return t}var yoe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},boe=function(e,n,r,i){var a=n.find(function(h){return h&&h.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,u=i.radius;return ae(ae(ae({},i),ht(i.cx,i.cy,u,s)),{},{angle:s,radius:u})}var c=a.coordinate,f=i.angle;return ae(ae(ae({},i),ht(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return TB},Mm=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(u,c){var f=c.props.data;return f&&f.length?[].concat(Sl(u),Sl(f)):u},[]);return s.length>0?s:e&&e.length&&he(i)&&he(a)?e.slice(i,a+1):[]};function AB(t){return t==="number"?[0,"auto"]:void 0}var px=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,u=Mm(n,e);return r<0||!a||!a.length||r>=u.length?null:a.reduce(function(c,f){var h,p=(h=f.props.data)!==null&&h!==void 0?h:n;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(s.dataKey&&!s.allowDuplicatedCategory){var b=p===void 0?u:p;g=Yw(b,s.dataKey,i)}else g=p&&p[r]||u[r];return g?[].concat(Sl(c),[yq(f,g)]):c},[])},s2=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=yoe(a,r),u=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,h=eQ(s,u,f,c);if(h>=0&&f){var p=f[h]&&f[h].value,g=px(e,n,h,p),b=boe(r,u,h,a);return{activeTooltipIndex:h,activeLabel:p,activePayload:g,activeCoordinate:b}}return null},_oe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,u=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,p=e.children,g=e.stackOffset,b=dq(h,a);return r.reduce(function(x,E){var w,T=E.type.defaultProps!==void 0?ae(ae({},E.type.defaultProps),E.props):E.props,C=T.type,A=T.dataKey,P=T.allowDataOverflow,O=T.allowDuplicatedCategory,M=T.scale,I=T.ticks,k=T.includeHidden,L=T[s];if(x[L])return x;var G=Mm(e.data,{graphicalItems:i.filter(function(Y){var re,ce=s in Y.props?Y.props[s]:(re=Y.type.defaultProps)===null||re===void 0?void 0:re[s];return ce===L}),dataStartIndex:c,dataEndIndex:f}),$=G.length,W,F,X;Fae(T.domain,P,C)&&(W=RS(T.domain,null,P),b&&(C==="number"||M!=="auto")&&(X=uc(G,A,"category")));var B=AB(C);if(!W||W.length===0){var U,K=(U=T.domain)!==null&&U!==void 0?U:B;if(A){if(W=uc(G,A,C),C==="category"&&b){var te=W6(W);O&&te?(F=W,W=dp(0,$)):O||(W=dD(K,W,E).reduce(function(Y,re){return Y.indexOf(re)>=0?Y:[].concat(Sl(Y),[re])},[]))}else if(C==="category")O?W=W.filter(function(Y){return Y!==""&&!Ue(Y)}):W=dD(K,W,E).reduce(function(Y,re){return Y.indexOf(re)>=0||re===""||Ue(re)?Y:[].concat(Sl(Y),[re])},[]);else if(C==="number"){var se=aQ(G,i.filter(function(Y){var re,ce,me=s in Y.props?Y.props[s]:(re=Y.type.defaultProps)===null||re===void 0?void 0:re[s],we="hide"in Y.props?Y.props.hide:(ce=Y.type.defaultProps)===null||ce===void 0?void 0:ce.hide;return me===L&&(k||!we)}),A,a,h);se&&(W=se)}b&&(C==="number"||M!=="auto")&&(X=uc(G,A,"category"))}else b?W=dp(0,$):u&&u[L]&&u[L].hasStack&&C==="number"?W=g==="expand"?[0,1]:vq(u[L].stackGroups,c,f):W=fq(G,i.filter(function(Y){var re=s in Y.props?Y.props[s]:Y.type.defaultProps[s],ce="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return re===L&&(k||!ce)}),C,h,!0);if(C==="number")W=fx(p,W,L,a,I),K&&(W=RS(K,W,P));else if(C==="category"&&K){var de=K,q=W.every(function(Y){return de.indexOf(Y)>=0});q&&(W=de)}}return ae(ae({},x),{},xe({},L,ae(ae({},T),{},{axisType:a,domain:W,categoricalDomain:X,duplicateDomain:F,originalDomain:(w=T.domain)!==null&&w!==void 0?w:B,isCategorical:b,layout:h})))},{})},woe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,u=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,p=e.children,g=Mm(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:f}),b=g.length,x=dq(h,a),E=-1;return r.reduce(function(w,T){var C=T.type.defaultProps!==void 0?ae(ae({},T.type.defaultProps),T.props):T.props,A=C[s],P=AB("number");if(!w[A]){E++;var O;return x?O=dp(0,b):u&&u[A]&&u[A].hasStack?(O=vq(u[A].stackGroups,c,f),O=fx(p,O,A,a)):(O=RS(P,fq(g,r.filter(function(M){var I,k,L=s in M.props?M.props[s]:(I=M.type.defaultProps)===null||I===void 0?void 0:I[s],G="hide"in M.props?M.props.hide:(k=M.type.defaultProps)===null||k===void 0?void 0:k.hide;return L===A&&!G}),"number",h),i.defaultProps.allowDataOverflow),O=fx(p,O,A,a)),ae(ae({},w),{},xe({},A,ae(ae({axisType:a},i.defaultProps),{},{hide:!0,orientation:Wn(goe,"".concat(a,".").concat(E%2),null),domain:O,originalDomain:P,isCategorical:x,layout:h})))}return w},{})},Soe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,u=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.children,p="".concat(i,"Id"),g=hr(h,a),b={};return g&&g.length?b=_oe(e,{axes:g,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:c,dataEndIndex:f}):s&&s.length&&(b=woe(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:c,dataEndIndex:f})),b},xoe=function(e){var n=xa(e),r=Pi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:AE(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Zh(n,r)}},l2=function(e){var n=e.children,r=e.defaultShowTooltip,i=zn(n,hl),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},Eoe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ni(n&&n.type);return r&&r.indexOf("Bar")>=0})},u2=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Toe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,u=e.yAxisMap,c=u===void 0?{}:u,f=r.width,h=r.height,p=r.children,g=r.margin||{},b=zn(p,hl),x=zn(p,bo),E=Object.keys(c).reduce(function(O,M){var I=c[M],k=I.orientation;return!I.mirror&&!I.hide?ae(ae({},O),{},xe({},k,O[k]+I.width)):O},{left:g.left||0,right:g.right||0}),w=Object.keys(s).reduce(function(O,M){var I=s[M],k=I.orientation;return!I.mirror&&!I.hide?ae(ae({},O),{},xe({},k,Wn(O,"".concat(k))+I.height)):O},{top:g.top||0,bottom:g.bottom||0}),T=ae(ae({},w),E),C=T.bottom;b&&(T.bottom+=b.props.height||hl.defaultProps.height),x&&n&&(T=rQ(T,i,r,n));var A=f-T.left-T.right,P=h-T.top-T.bottom;return ae(ae({brushBottom:C},T),{},{width:Math.max(A,0),height:Math.max(P,0)})},Aoe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},CB=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,u=s===void 0?["axis"]:s,c=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,p=e.defaultProps,g=function(T,C){var A=C.graphicalItems,P=C.stackGroups,O=C.offset,M=C.updateId,I=C.dataStartIndex,k=C.dataEndIndex,L=T.barSize,G=T.layout,$=T.barGap,W=T.barCategoryGap,F=T.maxBarSize,X=u2(G),B=X.numericAxisName,U=X.cateAxisName,K=Eoe(A),te=[];return A.forEach(function(se,de){var q=Mm(T.data,{graphicalItems:[se],dataStartIndex:I,dataEndIndex:k}),Y=se.type.defaultProps!==void 0?ae(ae({},se.type.defaultProps),se.props):se.props,re=Y.dataKey,ce=Y.maxBarSize,me=Y["".concat(B,"Id")],we=Y["".concat(U,"Id")],Le={},Xe=c.reduce(function(Sr,ii){var jl=C["".concat(ii.axisType,"Map")],un=Y["".concat(ii.axisType,"Id")];jl&&jl[un]||ii.axisType==="zAxis"||Co();var bf=jl[un];return ae(ae({},Sr),{},xe(xe({},ii.axisType,bf),"".concat(ii.axisType,"Ticks"),Pi(bf)))},Le),fe=Xe[U],Ce=Xe["".concat(U,"Ticks")],Pe=P&&P[me]&&P[me].hasStack&&pQ(se,P[me].stackGroups),ue=Ni(se.type).indexOf("Bar")>=0,pt=Zh(fe,Ce),Ie=[],St=K&&tQ({barSize:L,stackGroups:P,totalSize:Aoe(Xe,U)});if(ue){var xt,ln,wr=Ue(ce)?F:ce,qr=(xt=(ln=Zh(fe,Ce,!0))!==null&&ln!==void 0?ln:wr)!==null&&xt!==void 0?xt:0;Ie=nQ({barGap:$,barCategoryGap:W,bandSize:qr!==pt?qr:pt,sizeList:St[we],maxBarSize:wr}),qr!==pt&&(Ie=Ie.map(function(Sr){return ae(ae({},Sr),{},{position:ae(ae({},Sr.position),{},{offset:Sr.position.offset-qr/2})})}))}var Ki=se&&se.type&&se.type.getComposedData;Ki&&te.push({props:ae(ae({},Ki(ae(ae({},Xe),{},{displayedData:q,props:T,dataKey:re,item:se,bandSize:pt,barPosition:Ie,offset:O,stackedData:Pe,layout:G,dataStartIndex:I,dataEndIndex:k}))),{},xe(xe(xe({key:se.key||"item-".concat(de)},B,Xe[B]),U,Xe[U]),"animationId",M)),childIndex:o8(se,T.children),item:se})}),te},b=function(T,C){var A=T.props,P=T.dataStartIndex,O=T.dataEndIndex,M=T.updateId;if(!AP({props:A}))return null;var I=A.children,k=A.layout,L=A.stackOffset,G=A.data,$=A.reverseStackOrder,W=u2(k),F=W.numericAxisName,X=W.cateAxisName,B=hr(I,r),U=dQ(G,B,"".concat(F,"Id"),"".concat(X,"Id"),L,$),K=c.reduce(function(Y,re){var ce="".concat(re.axisType,"Map");return ae(ae({},Y),{},xe({},ce,Soe(A,ae(ae({},re),{},{graphicalItems:B,stackGroups:re.axisType===F&&U,dataStartIndex:P,dataEndIndex:O}))))},{}),te=Toe(ae(ae({},K),{},{props:A,graphicalItems:B}),C==null?void 0:C.legendBBox);Object.keys(K).forEach(function(Y){K[Y]=h(A,K[Y],te,Y.replace("Map",""),n)});var se=K["".concat(X,"Map")],de=xoe(se),q=g(A,ae(ae({},K),{},{dataStartIndex:P,dataEndIndex:O,updateId:M,graphicalItems:B,stackGroups:U,offset:te}));return ae(ae({formattedGraphicalItems:q,graphicalItems:B,offset:te,stackGroups:U},de),K)},x=(function(w){function T(C){var A,P,O;return aoe(this,T),O=loe(this,T,[C]),xe(O,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),xe(O,"accessibilityManager",new Vae),xe(O,"handleLegendBBoxUpdate",function(M){if(M){var I=O.state,k=I.dataStartIndex,L=I.dataEndIndex,G=I.updateId;O.setState(ae({legendBBox:M},b({props:O.props,dataStartIndex:k,dataEndIndex:L,updateId:G},ae(ae({},O.state),{},{legendBBox:M}))))}}),xe(O,"handleReceiveSyncEvent",function(M,I,k){if(O.props.syncId===M){if(k===O.eventEmitterSymbol&&typeof O.props.syncMethod!="function")return;O.applySyncEvent(I)}}),xe(O,"handleBrushChange",function(M){var I=M.startIndex,k=M.endIndex;if(I!==O.state.dataStartIndex||k!==O.state.dataEndIndex){var L=O.state.updateId;O.setState(function(){return ae({dataStartIndex:I,dataEndIndex:k},b({props:O.props,dataStartIndex:I,dataEndIndex:k,updateId:L},O.state))}),O.triggerSyncEvent({dataStartIndex:I,dataEndIndex:k})}}),xe(O,"handleMouseEnter",function(M){var I=O.getMouseInfo(M);if(I){var k=ae(ae({},I),{},{isTooltipActive:!0});O.setState(k),O.triggerSyncEvent(k);var L=O.props.onMouseEnter;Oe(L)&&L(k,M)}}),xe(O,"triggeredAfterMouseMove",function(M){var I=O.getMouseInfo(M),k=I?ae(ae({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};O.setState(k),O.triggerSyncEvent(k);var L=O.props.onMouseMove;Oe(L)&&L(k,M)}),xe(O,"handleItemMouseEnter",function(M){O.setState(function(){return{isTooltipActive:!0,activeItem:M,activePayload:M.tooltipPayload,activeCoordinate:M.tooltipPosition||{x:M.cx,y:M.cy}}})}),xe(O,"handleItemMouseLeave",function(){O.setState(function(){return{isTooltipActive:!1}})}),xe(O,"handleMouseMove",function(M){M.persist(),O.throttleTriggeredAfterMouseMove(M)}),xe(O,"handleMouseLeave",function(M){O.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};O.setState(I),O.triggerSyncEvent(I);var k=O.props.onMouseLeave;Oe(k)&&k(I,M)}),xe(O,"handleOuterEvent",function(M){var I=a8(M),k=Wn(O.props,"".concat(I));if(I&&Oe(k)){var L,G;/.*touch.*/i.test(I)?G=O.getMouseInfo(M.changedTouches[0]):G=O.getMouseInfo(M),k((L=G)!==null&&L!==void 0?L:{},M)}}),xe(O,"handleClick",function(M){var I=O.getMouseInfo(M);if(I){var k=ae(ae({},I),{},{isTooltipActive:!0});O.setState(k),O.triggerSyncEvent(k);var L=O.props.onClick;Oe(L)&&L(k,M)}}),xe(O,"handleMouseDown",function(M){var I=O.props.onMouseDown;if(Oe(I)){var k=O.getMouseInfo(M);I(k,M)}}),xe(O,"handleMouseUp",function(M){var I=O.props.onMouseUp;if(Oe(I)){var k=O.getMouseInfo(M);I(k,M)}}),xe(O,"handleTouchMove",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&O.throttleTriggeredAfterMouseMove(M.changedTouches[0])}),xe(O,"handleTouchStart",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&O.handleMouseDown(M.changedTouches[0])}),xe(O,"handleTouchEnd",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&O.handleMouseUp(M.changedTouches[0])}),xe(O,"handleDoubleClick",function(M){var I=O.props.onDoubleClick;if(Oe(I)){var k=O.getMouseInfo(M);I(k,M)}}),xe(O,"handleContextMenu",function(M){var I=O.props.onContextMenu;if(Oe(I)){var k=O.getMouseInfo(M);I(k,M)}}),xe(O,"triggerSyncEvent",function(M){O.props.syncId!==void 0&&_w.emit(ww,O.props.syncId,M,O.eventEmitterSymbol)}),xe(O,"applySyncEvent",function(M){var I=O.props,k=I.layout,L=I.syncMethod,G=O.state.updateId,$=M.dataStartIndex,W=M.dataEndIndex;if(M.dataStartIndex!==void 0||M.dataEndIndex!==void 0)O.setState(ae({dataStartIndex:$,dataEndIndex:W},b({props:O.props,dataStartIndex:$,dataEndIndex:W,updateId:G},O.state)));else if(M.activeTooltipIndex!==void 0){var F=M.chartX,X=M.chartY,B=M.activeTooltipIndex,U=O.state,K=U.offset,te=U.tooltipTicks;if(!K)return;if(typeof L=="function")B=L(te,M);else if(L==="value"){B=-1;for(var se=0;se<te.length;se++)if(te[se].value===M.activeLabel){B=se;break}}var de=ae(ae({},K),{},{x:K.left,y:K.top}),q=Math.min(F,de.x+de.width),Y=Math.min(X,de.y+de.height),re=te[B]&&te[B].value,ce=px(O.state,O.props.data,B),me=te[B]?{x:k==="horizontal"?te[B].coordinate:q,y:k==="horizontal"?Y:te[B].coordinate}:TB;O.setState(ae(ae({},M),{},{activeLabel:re,activeCoordinate:me,activePayload:ce,activeTooltipIndex:B}))}else O.setState(M)}),xe(O,"renderCursor",function(M){var I,k=O.state,L=k.isTooltipActive,G=k.activeCoordinate,$=k.activePayload,W=k.offset,F=k.activeTooltipIndex,X=k.tooltipAxisBandSize,B=O.getTooltipEventType(),U=(I=M.props.active)!==null&&I!==void 0?I:L,K=O.props.layout,te=M.key||"_recharts-cursor";return z.createElement(Qae,{key:te,activeCoordinate:G,activePayload:$,activeTooltipIndex:F,chartName:n,element:M,isActive:U,layout:K,offset:W,tooltipAxisBandSize:X,tooltipEventType:B})}),xe(O,"renderPolarAxis",function(M,I,k){var L=Wn(M,"type.axisType"),G=Wn(O.state,"".concat(L,"Map")),$=M.type.defaultProps,W=$!==void 0?ae(ae({},$),M.props):M.props,F=G&&G[W["".concat(L,"Id")]];return j.cloneElement(M,ae(ae({},F),{},{className:ke(L,F.className),key:M.key||"".concat(I,"-").concat(k),ticks:Pi(F,!0)}))}),xe(O,"renderPolarGrid",function(M){var I=M.props,k=I.radialLines,L=I.polarAngles,G=I.polarRadius,$=O.state,W=$.radiusAxisMap,F=$.angleAxisMap,X=xa(W),B=xa(F),U=B.cx,K=B.cy,te=B.innerRadius,se=B.outerRadius;return j.cloneElement(M,{polarAngles:Array.isArray(L)?L:Pi(B,!0).map(function(de){return de.coordinate}),polarRadius:Array.isArray(G)?G:Pi(X,!0).map(function(de){return de.coordinate}),cx:U,cy:K,innerRadius:te,outerRadius:se,key:M.key||"polar-grid",radialLines:k})}),xe(O,"renderLegend",function(){var M=O.state.formattedGraphicalItems,I=O.props,k=I.children,L=I.width,G=I.height,$=O.props.margin||{},W=L-($.left||0)-($.right||0),F=uq({children:k,formattedGraphicalItems:M,legendWidth:W,legendContent:f});if(!F)return null;var X=F.item,B=a2(F,Zae);return j.cloneElement(X,ae(ae({},B),{},{chartWidth:L,chartHeight:G,margin:$,onBBoxUpdate:O.handleLegendBBoxUpdate}))}),xe(O,"renderTooltip",function(){var M,I=O.props,k=I.children,L=I.accessibilityLayer,G=zn(k,Mr);if(!G)return null;var $=O.state,W=$.isTooltipActive,F=$.activeCoordinate,X=$.activePayload,B=$.activeLabel,U=$.offset,K=(M=G.props.active)!==null&&M!==void 0?M:W;return j.cloneElement(G,{viewBox:ae(ae({},U),{},{x:U.left,y:U.top}),active:K,label:B,payload:K?X:[],coordinate:F,accessibilityLayer:L})}),xe(O,"renderBrush",function(M){var I=O.props,k=I.margin,L=I.data,G=O.state,$=G.offset,W=G.dataStartIndex,F=G.dataEndIndex,X=G.updateId;return j.cloneElement(M,{key:M.key||"_recharts-brush",onChange:Xd(O.handleBrushChange,M.props.onChange),data:L,x:he(M.props.x)?M.props.x:$.left,y:he(M.props.y)?M.props.y:$.top+$.height+$.brushBottom-(k.bottom||0),width:he(M.props.width)?M.props.width:$.width,startIndex:W,endIndex:F,updateId:"brush-".concat(X)})}),xe(O,"renderReferenceElement",function(M,I,k){if(!M)return null;var L=O,G=L.clipPathId,$=O.state,W=$.xAxisMap,F=$.yAxisMap,X=$.offset,B=M.type.defaultProps||{},U=M.props,K=U.xAxisId,te=K===void 0?B.xAxisId:K,se=U.yAxisId,de=se===void 0?B.yAxisId:se;return j.cloneElement(M,{key:M.key||"".concat(I,"-").concat(k),xAxis:W[te],yAxis:F[de],viewBox:{x:X.left,y:X.top,width:X.width,height:X.height},clipPathId:G})}),xe(O,"renderActivePoints",function(M){var I=M.item,k=M.activePoint,L=M.basePoint,G=M.childIndex,$=M.isRange,W=[],F=I.props.key,X=I.item.type.defaultProps!==void 0?ae(ae({},I.item.type.defaultProps),I.item.props):I.item.props,B=X.activeDot,U=X.dataKey,K=ae(ae({index:G,dataKey:U,cx:k.x,cy:k.y,r:4,fill:QE(I.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},Ae(B,!1)),Rh(B));return W.push(T.renderActiveDot(B,K,"".concat(F,"-activePoint-").concat(G))),L?W.push(T.renderActiveDot(B,ae(ae({},K),{},{cx:L.x,cy:L.y}),"".concat(F,"-basePoint-").concat(G))):$&&W.push(null),W}),xe(O,"renderGraphicChild",function(M,I,k){var L=O.filterFormatItem(M,I,k);if(!L)return null;var G=O.getTooltipEventType(),$=O.state,W=$.isTooltipActive,F=$.tooltipAxis,X=$.activeTooltipIndex,B=$.activeLabel,U=O.props.children,K=zn(U,Mr),te=L.props,se=te.points,de=te.isRange,q=te.baseLine,Y=L.item.type.defaultProps!==void 0?ae(ae({},L.item.type.defaultProps),L.item.props):L.item.props,re=Y.activeDot,ce=Y.hide,me=Y.activeBar,we=Y.activeShape,Le=!!(!ce&&W&&K&&(re||me||we)),Xe={};G!=="axis"&&K&&K.props.trigger==="click"?Xe={onClick:Xd(O.handleItemMouseEnter,M.props.onClick)}:G!=="axis"&&(Xe={onMouseLeave:Xd(O.handleItemMouseLeave,M.props.onMouseLeave),onMouseEnter:Xd(O.handleItemMouseEnter,M.props.onMouseEnter)});var fe=j.cloneElement(M,ae(ae({},L.props),Xe));function Ce(ii){return typeof F.dataKey=="function"?F.dataKey(ii.payload):null}if(Le)if(X>=0){var Pe,ue;if(F.dataKey&&!F.allowDuplicatedCategory){var pt=typeof F.dataKey=="function"?Ce:"payload.".concat(F.dataKey.toString());Pe=Yw(se,pt,B),ue=de&&q&&Yw(q,pt,B)}else Pe=se==null?void 0:se[X],ue=de&&q&&q[X];if(we||me){var Ie=M.props.activeIndex!==void 0?M.props.activeIndex:X;return[j.cloneElement(M,ae(ae(ae({},L.props),Xe),{},{activeIndex:Ie})),null,null]}if(!Ue(Pe))return[fe].concat(Sl(O.renderActivePoints({item:L,activePoint:Pe,basePoint:ue,childIndex:X,isRange:de})))}else{var St,xt=(St=O.getItemByXY(O.state.activeCoordinate))!==null&&St!==void 0?St:{graphicalItem:fe},ln=xt.graphicalItem,wr=ln.item,qr=wr===void 0?M:wr,Ki=ln.childIndex,Sr=ae(ae(ae({},L.props),Xe),{},{activeIndex:Ki});return[j.cloneElement(qr,Sr),null,null]}return de?[fe,null,null]:[fe,null]}),xe(O,"renderCustomized",function(M,I,k){return j.cloneElement(M,ae(ae({key:"recharts-customized-".concat(k)},O.props),O.state))}),xe(O,"renderMap",{CartesianGrid:{handler:nh,once:!0},ReferenceArea:{handler:O.renderReferenceElement},ReferenceLine:{handler:nh},ReferenceDot:{handler:O.renderReferenceElement},XAxis:{handler:nh},YAxis:{handler:nh},Brush:{handler:O.renderBrush,once:!0},Bar:{handler:O.renderGraphicChild},Line:{handler:O.renderGraphicChild},Area:{handler:O.renderGraphicChild},Radar:{handler:O.renderGraphicChild},RadialBar:{handler:O.renderGraphicChild},Scatter:{handler:O.renderGraphicChild},Pie:{handler:O.renderGraphicChild},Funnel:{handler:O.renderGraphicChild},Tooltip:{handler:O.renderCursor,once:!0},PolarGrid:{handler:O.renderPolarGrid,once:!0},PolarAngleAxis:{handler:O.renderPolarAxis},PolarRadiusAxis:{handler:O.renderPolarAxis},Customized:{handler:O.renderCustomized}}),O.clipPathId="".concat((A=C.id)!==null&&A!==void 0?A:hf("recharts"),"-clip"),O.throttleTriggeredAfterMouseMove=sj(O.triggeredAfterMouseMove,(P=C.throttleDelay)!==null&&P!==void 0?P:1e3/60),O.state={},O}return foe(T,w),soe(T,[{key:"componentDidMount",value:function(){var A,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var A=this.props,P=A.children,O=A.data,M=A.height,I=A.layout,k=zn(P,Mr);if(k){var L=k.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var G=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,$=px(this.state,O,L,G),W=this.state.tooltipTicks[L].coordinate,F=(this.state.offset.top+M)/2,X=I==="horizontal",B=X?{x:W,y:F}:{y:W,x:F},U=this.state.formattedGraphicalItems.find(function(te){var se=te.item;return se.type.name==="Scatter"});U&&(B=ae(ae({},B),U.props.points[L].tooltipPosition),$=U.props.points[L].tooltipPayload);var K={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:G,activePayload:$,activeCoordinate:B};this.setState(K),this.renderCursor(k),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(A,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==A.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==A.margin){var O,M;this.accessibilityManager.setDetails({offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0}})}return null}},{key:"componentDidUpdate",value:function(A){Xw([zn(A.children,Mr)],[zn(this.props.children,Mr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var A=zn(this.props.children,Mr);if(A&&typeof A.props.shared=="boolean"){var P=A.props.shared?"axis":"item";return u.indexOf(P)>=0?P:a}return a}},{key:"getMouseInfo",value:function(A){if(!this.container)return null;var P=this.container,O=P.getBoundingClientRect(),M=V7(O),I={chartX:Math.round(A.pageX-M.left),chartY:Math.round(A.pageY-M.top)},k=O.width/P.offsetWidth||1,L=this.inRange(I.chartX,I.chartY,k);if(!L)return null;var G=this.state,$=G.xAxisMap,W=G.yAxisMap,F=this.getTooltipEventType(),X=s2(this.state,this.props.data,this.props.layout,L);if(F!=="axis"&&$&&W){var B=xa($).scale,U=xa(W).scale,K=B&&B.invert?B.invert(I.chartX):null,te=U&&U.invert?U.invert(I.chartY):null;return ae(ae({},I),{},{xValue:K,yValue:te},X)}return X?ae(ae({},I),X):null}},{key:"inRange",value:function(A,P){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,M=this.props.layout,I=A/O,k=P/O;if(M==="horizontal"||M==="vertical"){var L=this.state.offset,G=I>=L.left&&I<=L.left+L.width&&k>=L.top&&k<=L.top+L.height;return G?{x:I,y:k}:null}var $=this.state,W=$.angleAxisMap,F=$.radiusAxisMap;if(W&&F){var X=xa(W);return mD({x:I,y:k},X)}return null}},{key:"parseEventsOfWrapper",value:function(){var A=this.props.children,P=this.getTooltipEventType(),O=zn(A,Mr),M={};O&&P==="axis"&&(O.props.trigger==="click"?M={onClick:this.handleClick}:M={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var I=Rh(this.props,this.handleOuterEvent);return ae(ae({},I),M)}},{key:"addListener",value:function(){_w.on(ww,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){_w.removeListener(ww,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(A,P,O){for(var M=this.state.formattedGraphicalItems,I=0,k=M.length;I<k;I++){var L=M[I];if(L.item===A||L.props.key===A.key||P===Ni(L.item.type)&&O===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var A=this.clipPathId,P=this.state.offset,O=P.left,M=P.top,I=P.height,k=P.width;return z.createElement("defs",null,z.createElement("clipPath",{id:A},z.createElement("rect",{x:O,y:M,height:I,width:k})))}},{key:"getXScales",value:function(){var A=this.state.xAxisMap;return A?Object.entries(A).reduce(function(P,O){var M=i2(O,2),I=M[0],k=M[1];return ae(ae({},P),{},xe({},I,k.scale))},{}):null}},{key:"getYScales",value:function(){var A=this.state.yAxisMap;return A?Object.entries(A).reduce(function(P,O){var M=i2(O,2),I=M[0],k=M[1];return ae(ae({},P),{},xe({},I,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(A){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[A])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(A){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[A])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(A){var P=this.state,O=P.formattedGraphicalItems,M=P.activeItem;if(O&&O.length)for(var I=0,k=O.length;I<k;I++){var L=O[I],G=L.props,$=L.item,W=$.type.defaultProps!==void 0?ae(ae({},$.type.defaultProps),$.props):$.props,F=Ni($.type);if(F==="Bar"){var X=(G.data||[]).find(function(te){return hte(A,te)});if(X)return{graphicalItem:L,payload:X}}else if(F==="RadialBar"){var B=(G.data||[]).find(function(te){return mD(A,te)});if(B)return{graphicalItem:L,payload:B}}else if(Sm(L,M)||xm(L,M)||Yc(L,M)){var U=Lne({graphicalItem:L,activeTooltipItem:M,itemData:W.data}),K=W.activeIndex===void 0?U:W.activeIndex;return{graphicalItem:ae(ae({},L),{},{childIndex:K}),payload:Yc(L,M)?W.data[U]:L.props.data[U]}}}return null}},{key:"render",value:function(){var A=this;if(!AP(this))return null;var P=this.props,O=P.children,M=P.className,I=P.width,k=P.height,L=P.style,G=P.compact,$=P.title,W=P.desc,F=a2(P,eoe),X=Ae(F,!1);if(G)return z.createElement(Hk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(Zw,qs({},X,{width:I,height:k,title:$,desc:W}),this.renderClipPath(),OP(O,this.renderMap)));if(this.props.accessibilityLayer){var B,U;X.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,X.role=(U=this.props.role)!==null&&U!==void 0?U:"application",X.onKeyDown=function(te){A.accessibilityManager.keyboardEvent(te)},X.onFocus=function(){A.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return z.createElement(Hk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",qs({className:ke("recharts-wrapper",M),style:ae({position:"relative",cursor:"default",width:I,height:k},L)},K,{ref:function(se){A.container=se}}),z.createElement(Zw,qs({},X,{width:I,height:k,title:$,desc:W,style:voe}),this.renderClipPath(),OP(O,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(j.Component);xe(x,"displayName",n),xe(x,"defaultProps",ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),xe(x,"getDerivedStateFromProps",function(w,T){var C=w.dataKey,A=w.data,P=w.children,O=w.width,M=w.height,I=w.layout,k=w.stackOffset,L=w.margin,G=T.dataStartIndex,$=T.dataEndIndex;if(T.updateId===void 0){var W=l2(w);return ae(ae(ae({},W),{},{updateId:0},b(ae(ae({props:w},W),{},{updateId:0}),T)),{},{prevDataKey:C,prevData:A,prevWidth:O,prevHeight:M,prevLayout:I,prevStackOffset:k,prevMargin:L,prevChildren:P})}if(C!==T.prevDataKey||A!==T.prevData||O!==T.prevWidth||M!==T.prevHeight||I!==T.prevLayout||k!==T.prevStackOffset||!Ks(L,T.prevMargin)){var F=l2(w),X={chartX:T.chartX,chartY:T.chartY,isTooltipActive:T.isTooltipActive},B=ae(ae({},s2(T,A,I)),{},{updateId:T.updateId+1}),U=ae(ae(ae({},F),X),B);return ae(ae(ae({},U),b(ae({props:w},U),T)),{},{prevDataKey:C,prevData:A,prevWidth:O,prevHeight:M,prevLayout:I,prevStackOffset:k,prevMargin:L,prevChildren:P})}if(!Xw(P,T.prevChildren)){var K,te,se,de,q=zn(P,hl),Y=q&&(K=(te=q.props)===null||te===void 0?void 0:te.startIndex)!==null&&K!==void 0?K:G,re=q&&(se=(de=q.props)===null||de===void 0?void 0:de.endIndex)!==null&&se!==void 0?se:$,ce=Y!==G||re!==$,me=!Ue(A),we=me&&!ce?T.updateId:T.updateId+1;return ae(ae({updateId:we},b(ae(ae({props:w},T),{},{updateId:we,dataStartIndex:Y,dataEndIndex:re}),T)),{},{prevChildren:P,dataStartIndex:Y,dataEndIndex:re})}return null}),xe(x,"renderActiveDot",function(w,T,C){var A;return j.isValidElement(w)?A=j.cloneElement(w,T):Oe(w)?A=w(T):A=z.createElement(eT,T),z.createElement(rt,{className:"recharts-active-dot",key:C},A)});var E=j.forwardRef(function(T,C){return z.createElement(x,qs({},T,{ref:C}))});return E.displayName=x.displayName,E},Coe=CB({chartName:"BarChart",GraphicalChild:ko,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Rm},{axisType:"yAxis",AxisComp:Pm}],formatAxisMap:jre}),Ooe=CB({chartName:"PieChart",GraphicalChild:zi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:wm},{axisType:"radiusAxis",AxisComp:bm}],formatAxisMap:EQ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const c2={PSOE:"#E30613",PP:"#0056A7",Vox:"#63BE21",Sumar:"#E51C55",Podemos:"#6B1F5F",Junts:"#00C3B2",ERC:"#FFD700",PNV:"#008000",Bildu:"#B5CF18",SALF:"#A0522D",PACMA:"#9ACD32",Ciudadanos:"#EB6109",Otros:"#808080","En blanco":"#FFFFFF"},Roe=t=>{const e=Object.keys(c2).find(n=>t.includes(n));return e?c2[e]:"#aaaaaa"},Poe=({votes:t,optionCounts:e,type:n="binary",labelSupport:r,labelOppose:i})=>{let a=[];return n==="multiple_choice"&&e?a=Object.entries(e).map(([s,u])=>({name:s,value:u,color:Roe(s)})).filter(s=>s.value>0).sort((s,u)=>u.value-s.value):a=[{name:r||"A favor",value:t.support,color:"#22c55e"},{name:i||"En contra",value:t.oppose,color:"#ef4444"},{name:"Neutral",value:t.neutral,color:"#94a3b8"}].filter(s=>s.value>0),a.length===0?R.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400 text-sm",children:"Sin votos registrados"}):n==="multiple_choice"?R.jsx("div",{className:"h-[400px] w-full",children:R.jsx(JN,{width:"100%",height:"100%",children:R.jsxs(Coe,{layout:"vertical",data:a,margin:{top:5,right:30,left:40,bottom:5},children:[R.jsx(hB,{strokeDasharray:"3 3",horizontal:!1}),R.jsx(Rm,{type:"number",hide:!0}),R.jsx(Pm,{type:"category",dataKey:"name",width:100,tick:{fontSize:11,fontWeight:"bold",fill:"#374151"}}),R.jsx(Mr,{cursor:{fill:"rgba(0,0,0,0.05)"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)"}}),R.jsx(ko,{dataKey:"value",radius:[0,4,4,0],barSize:20,children:a.map((s,u)=>R.jsx(Tc,{fill:s.color},`cell-${u}`))})]})})}):R.jsx("div",{className:"h-64 w-full",children:R.jsx(JN,{width:"100%",height:"100%",children:R.jsxs(Ooe,{children:[R.jsx(zi,{data:a,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:2,dataKey:"value",children:a.map((s,u)=>R.jsx(Tc,{fill:s.color},`cell-${u}`))}),R.jsx(Mr,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)"}}),R.jsx(bo,{verticalAlign:"bottom",height:36,iconType:"circle"})]})})})};var et=1e-6,Ge=Math.PI,jt=Ge/2,f2=Ge/4,vr=Ge*2,Or=180/Ge,yn=Ge/180,wt=Math.abs,cT=Math.atan,xl=Math.atan2,bt=Math.cos,Moe=Math.exp,mx=Math.log,xw=Math.pow,Tt=Math.sin,Qu=Math.sign||function(t){return t>0?1:t<0?-1:0},Ia=Math.sqrt,OB=Math.tan;function Noe(t){return t>1?0:t<-1?Ge:Math.acos(t)}function nf(t){return t>1?jt:t<-1?-jt:Math.asin(t)}function dr(){}function Tp(t,e){t&&h2.hasOwnProperty(t.type)&&h2[t.type](t,e)}var d2={Feature:function(t,e){Tp(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Tp(n[r].geometry,e)}},h2={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){gx(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)gx(n[r],e,0)},Polygon:function(t,e){p2(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)p2(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Tp(n[r],e)}};function gx(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function p2(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)gx(t[n],e,1);e.polygonEnd()}function fo(t,e){t&&d2.hasOwnProperty(t.type)?d2[t.type](t,e):Tp(t,e)}function vx(t){return[xl(t[1],t[0]),nf(t[2])]}function El(t){var e=t[0],n=t[1],r=bt(n);return[r*bt(e),r*Tt(e),Tt(n)]}function rh(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ap(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ew(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ih(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function yx(t){var e=Ia(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function bx(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function _x(t,e){return wt(t)>Ge&&(t-=Math.round(t/vr)*vr),[t,e]}_x.invert=_x;function Ioe(t,e,n){return(t%=vr)?e||n?bx(g2(t),v2(e,n)):g2(t):e||n?v2(e,n):_x}function m2(t){return function(e,n){return e+=t,wt(e)>Ge&&(e-=Math.round(e/vr)*vr),[e,n]}}function g2(t){var e=m2(t);return e.invert=m2(-t),e}function v2(t,e){var n=bt(t),r=Tt(t),i=bt(e),a=Tt(e);function s(u,c){var f=bt(c),h=bt(u)*f,p=Tt(u)*f,g=Tt(c),b=g*n+h*r;return[xl(p*i-b*a,h*n-g*r),nf(b*i+p*a)]}return s.invert=function(u,c){var f=bt(c),h=bt(u)*f,p=Tt(u)*f,g=Tt(c),b=g*i-p*a;return[xl(p*i+g*a,h*n+b*r),nf(b*n-h*r)]},s}function Doe(t,e,n,r,i,a){if(n){var s=bt(e),u=Tt(e),c=r*n;i==null?(i=e+r*vr,a=e-c/2):(i=y2(s,i),a=y2(s,a),(r>0?i<a:i>a)&&(i+=r*vr));for(var f,h=i;r>0?h>a:h<a;h-=c)f=vx([s,-u*bt(h),-u*Tt(h)]),t.point(f[0],f[1])}}function y2(t,e){e=El(e),e[0]-=t,yx(e);var n=Noe(-e[1]);return((-e[2]<0?-n:n)+vr-et)%vr}function RB(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:dr,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function wh(t,e){return wt(t[0]-e[0])<et&&wt(t[1]-e[1])<et}function ah(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function PB(t,e,n,r,i){var a=[],s=[],u,c;if(t.forEach(function(x){if(!((E=x.length-1)<=0)){var E,w=x[0],T=x[E],C;if(wh(w,T)){if(!w[2]&&!T[2]){for(i.lineStart(),u=0;u<E;++u)i.point((w=x[u])[0],w[1]);i.lineEnd();return}T[0]+=2*et}a.push(C=new ah(w,x,null,!0)),s.push(C.o=new ah(w,null,C,!1)),a.push(C=new ah(T,x,null,!1)),s.push(C.o=new ah(T,null,C,!0))}}),!!a.length){for(s.sort(e),b2(a),b2(s),u=0,c=s.length;u<c;++u)s[u].e=n=!n;for(var f=a[0],h,p;;){for(var g=f,b=!0;g.v;)if((g=g.n)===f)return;h=g.z,i.lineStart();do{if(g.v=g.o.v=!0,g.e){if(b)for(u=0,c=h.length;u<c;++u)i.point((p=h[u])[0],p[1]);else r(g.x,g.n.x,1,i);g=g.n}else{if(b)for(h=g.p.z,u=h.length-1;u>=0;--u)i.point((p=h[u])[0],p[1]);else r(g.x,g.p.x,-1,i);g=g.p}g=g.o,h=g.z,b=!b}while(!g.v);i.lineEnd()}}}function b2(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Tw(t){return wt(t[0])<=Ge?t[0]:Qu(t[0])*((wt(t[0])+Ge)%vr-Ge)}function koe(t,e){var n=Tw(e),r=e[1],i=Tt(r),a=[Tt(n),-bt(n),0],s=0,u=0,c=new To;i===1?r=jt+et:i===-1&&(r=-jt-et);for(var f=0,h=t.length;f<h;++f)if(g=(p=t[f]).length)for(var p,g,b=p[g-1],x=Tw(b),E=b[1]/2+f2,w=Tt(E),T=bt(E),C=0;C<g;++C,x=P,w=M,T=I,b=A){var A=p[C],P=Tw(A),O=A[1]/2+f2,M=Tt(O),I=bt(O),k=P-x,L=k>=0?1:-1,G=L*k,$=G>Ge,W=w*M;if(c.add(xl(W*L*Tt(G),T*I+W*bt(G))),s+=$?k+L*vr:k,$^x>=n^P>=n){var F=Ap(El(b),El(A));yx(F);var X=Ap(a,F);yx(X);var B=($^k>=0?-1:1)*nf(X[2]);(r>B||r===B&&(F[0]||F[1]))&&(u+=$^k>=0?1:-1)}}return(s<-et||s<et&&c<-1e-12)^u&1}function MB(t,e,n,r){return function(i){var a=e(i),s=RB(),u=e(s),c=!1,f,h,p,g={point:b,lineStart:E,lineEnd:w,polygonStart:function(){g.point=T,g.lineStart=C,g.lineEnd=A,h=[],f=[]},polygonEnd:function(){g.point=b,g.lineStart=E,g.lineEnd=w,h=mj(h);var P=koe(f,r);h.length?(c||(i.polygonStart(),c=!0),PB(h,Uoe,P,n,i)):P&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),h=f=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function b(P,O){t(P,O)&&i.point(P,O)}function x(P,O){a.point(P,O)}function E(){g.point=x,a.lineStart()}function w(){g.point=b,a.lineEnd()}function T(P,O){p.push([P,O]),u.point(P,O)}function C(){u.lineStart(),p=[]}function A(){T(p[0][0],p[0][1]),u.lineEnd();var P=u.clean(),O=s.result(),M,I=O.length,k,L,G;if(p.pop(),f.push(p),p=null,!!I){if(P&1){if(L=O[0],(k=L.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),M=0;M<k;++M)i.point((G=L[M])[0],G[1]);i.lineEnd()}return}I>1&&P&2&&O.push(O.pop().concat(O.shift())),h.push(O.filter(Loe))}}return g}}function Loe(t){return t.length>1}function Uoe(t,e){return((t=t.x)[0]<0?t[1]-jt-et:jt-t[1])-((e=e.x)[0]<0?e[1]-jt-et:jt-e[1])}const _2=MB(function(){return!0},$oe,qoe,[-Ge,-jt]);function $oe(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,s){var u=a>0?Ge:-Ge,c=wt(a-e);wt(c-Ge)<et?(t.point(e,n=(n+s)/2>0?jt:-jt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(u,n),t.point(a,n),i=0):r!==u&&c>=Ge&&(wt(e-r)<et&&(e-=r*et),wt(a-u)<et&&(a-=u*et),n=joe(e,n,a,s),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(u,n),i=0),t.point(e=a,n=s),r=u},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function joe(t,e,n,r){var i,a,s=Tt(t-n);return wt(s)>et?cT((Tt(e)*(a=bt(r))*Tt(n)-Tt(r)*(i=bt(e))*Tt(t))/(i*a*s)):(e+r)/2}function qoe(t,e,n,r){var i;if(t==null)i=n*jt,r.point(-Ge,i),r.point(0,i),r.point(Ge,i),r.point(Ge,0),r.point(Ge,-i),r.point(0,-i),r.point(-Ge,-i),r.point(-Ge,0),r.point(-Ge,i);else if(wt(t[0]-e[0])>et){var a=t[0]<e[0]?Ge:-Ge;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function Boe(t){var e=bt(t),n=2*yn,r=e>0,i=wt(e)>et;function a(h,p,g,b){Doe(b,t,n,g,h,p)}function s(h,p){return bt(h)*bt(p)>e}function u(h){var p,g,b,x,E;return{lineStart:function(){x=b=!1,E=1},point:function(w,T){var C=[w,T],A,P=s(w,T),O=r?P?0:f(w,T):P?f(w+(w<0?Ge:-Ge),T):0;if(!p&&(x=b=P)&&h.lineStart(),P!==b&&(A=c(p,C),(!A||wh(p,A)||wh(C,A))&&(C[2]=1)),P!==b)E=0,P?(h.lineStart(),A=c(C,p),h.point(A[0],A[1])):(A=c(p,C),h.point(A[0],A[1],2),h.lineEnd()),p=A;else if(i&&p&&r^P){var M;!(O&g)&&(M=c(C,p,!0))&&(E=0,r?(h.lineStart(),h.point(M[0][0],M[0][1]),h.point(M[1][0],M[1][1]),h.lineEnd()):(h.point(M[1][0],M[1][1]),h.lineEnd(),h.lineStart(),h.point(M[0][0],M[0][1],3)))}P&&(!p||!wh(p,C))&&h.point(C[0],C[1]),p=C,b=P,g=O},lineEnd:function(){b&&h.lineEnd(),p=null},clean:function(){return E|(x&&b)<<1}}}function c(h,p,g){var b=El(h),x=El(p),E=[1,0,0],w=Ap(b,x),T=rh(w,w),C=w[0],A=T-C*C;if(!A)return!g&&h;var P=e*T/A,O=-e*C/A,M=Ap(E,w),I=ih(E,P),k=ih(w,O);Ew(I,k);var L=M,G=rh(I,L),$=rh(L,L),W=G*G-$*(rh(I,I)-1);if(!(W<0)){var F=Ia(W),X=ih(L,(-G-F)/$);if(Ew(X,I),X=vx(X),!g)return X;var B=h[0],U=p[0],K=h[1],te=p[1],se;U<B&&(se=B,B=U,U=se);var de=U-B,q=wt(de-Ge)<et,Y=q||de<et;if(!q&&te<K&&(se=K,K=te,te=se),Y?q?K+te>0^X[1]<(wt(X[0]-B)<et?K:te):K<=X[1]&&X[1]<=te:de>Ge^(B<=X[0]&&X[0]<=U)){var re=ih(L,(-G+F)/$);return Ew(re,I),[X,vx(re)]}}}function f(h,p){var g=r?t:Ge-t,b=0;return h<-g?b|=1:h>g&&(b|=2),p<-g?b|=4:p>g&&(b|=8),b}return MB(s,u,a,r?[0,-t]:[-Ge,t-Ge])}function Hoe(t,e,n,r,i,a){var s=t[0],u=t[1],c=e[0],f=e[1],h=0,p=1,g=c-s,b=f-u,x;if(x=n-s,!(!g&&x>0)){if(x/=g,g<0){if(x<h)return;x<p&&(p=x)}else if(g>0){if(x>p)return;x>h&&(h=x)}if(x=i-s,!(!g&&x<0)){if(x/=g,g<0){if(x>p)return;x>h&&(h=x)}else if(g>0){if(x<h)return;x<p&&(p=x)}if(x=r-u,!(!b&&x>0)){if(x/=b,b<0){if(x<h)return;x<p&&(p=x)}else if(b>0){if(x>p)return;x>h&&(h=x)}if(x=a-u,!(!b&&x<0)){if(x/=b,b<0){if(x>p)return;x>h&&(h=x)}else if(b>0){if(x<h)return;x<p&&(p=x)}return h>0&&(t[0]=s+h*g,t[1]=u+h*b),p<1&&(e[0]=s+p*g,e[1]=u+p*b),!0}}}}}var Zu=1e9,oh=-Zu;function Goe(t,e,n,r){function i(f,h){return t<=f&&f<=n&&e<=h&&h<=r}function a(f,h,p,g){var b=0,x=0;if(f==null||(b=s(f,p))!==(x=s(h,p))||c(f,h)<0^p>0)do g.point(b===0||b===3?t:n,b>1?r:e);while((b=(b+p+4)%4)!==x);else g.point(h[0],h[1])}function s(f,h){return wt(f[0]-t)<et?h>0?0:3:wt(f[0]-n)<et?h>0?2:1:wt(f[1]-e)<et?h>0?1:0:h>0?3:2}function u(f,h){return c(f.x,h.x)}function c(f,h){var p=s(f,1),g=s(h,1);return p!==g?p-g:p===0?h[1]-f[1]:p===1?f[0]-h[0]:p===2?f[1]-h[1]:h[0]-f[0]}return function(f){var h=f,p=RB(),g,b,x,E,w,T,C,A,P,O,M,I={point:k,lineStart:W,lineEnd:F,polygonStart:G,polygonEnd:$};function k(B,U){i(B,U)&&h.point(B,U)}function L(){for(var B=0,U=0,K=b.length;U<K;++U)for(var te=b[U],se=1,de=te.length,q=te[0],Y,re,ce=q[0],me=q[1];se<de;++se)Y=ce,re=me,q=te[se],ce=q[0],me=q[1],re<=r?me>r&&(ce-Y)*(r-re)>(me-re)*(t-Y)&&++B:me<=r&&(ce-Y)*(r-re)<(me-re)*(t-Y)&&--B;return B}function G(){h=p,g=[],b=[],M=!0}function $(){var B=L(),U=M&&B,K=(g=mj(g)).length;(U||K)&&(f.polygonStart(),U&&(f.lineStart(),a(null,null,1,f),f.lineEnd()),K&&PB(g,u,B,a,f),f.polygonEnd()),h=f,g=b=x=null}function W(){I.point=X,b&&b.push(x=[]),O=!0,P=!1,C=A=NaN}function F(){g&&(X(E,w),T&&P&&p.rejoin(),g.push(p.result())),I.point=k,P&&h.lineEnd()}function X(B,U){var K=i(B,U);if(b&&x.push([B,U]),O)E=B,w=U,T=K,O=!1,K&&(h.lineStart(),h.point(B,U));else if(K&&P)h.point(B,U);else{var te=[C=Math.max(oh,Math.min(Zu,C)),A=Math.max(oh,Math.min(Zu,A))],se=[B=Math.max(oh,Math.min(Zu,B)),U=Math.max(oh,Math.min(Zu,U))];Hoe(te,se,t,e,n,r)?(P||(h.lineStart(),h.point(te[0],te[1])),h.point(se[0],se[1]),K||h.lineEnd(),M=!1):K&&(h.lineStart(),h.point(B,U),M=!1)}C=B,A=U,P=K}return I}}const wx=t=>t;var Aw=new To,Sx=new To,NB,IB,xx,Ex,Ci={point:dr,lineStart:dr,lineEnd:dr,polygonStart:function(){Ci.lineStart=zoe,Ci.lineEnd=Foe},polygonEnd:function(){Ci.lineStart=Ci.lineEnd=Ci.point=dr,Aw.add(wt(Sx)),Sx=new To},result:function(){var t=Aw/2;return Aw=new To,t}};function zoe(){Ci.point=Voe}function Voe(t,e){Ci.point=DB,NB=xx=t,IB=Ex=e}function DB(t,e){Sx.add(Ex*t-xx*e),xx=t,Ex=e}function Foe(){DB(NB,IB)}var Tl=1/0,Cp=Tl,rf=-Tl,Op=rf,Rp={point:Koe,lineStart:dr,lineEnd:dr,polygonStart:dr,polygonEnd:dr,result:function(){var t=[[Tl,Cp],[rf,Op]];return rf=Op=-(Cp=Tl=1/0),t}};function Koe(t,e){t<Tl&&(Tl=t),t>rf&&(rf=t),e<Cp&&(Cp=e),e>Op&&(Op=e)}var Tx=0,Ax=0,ec=0,Pp=0,Mp=0,Bs=0,Cx=0,Ox=0,tc=0,kB,LB,Fr,Kr,cr={point:Ro,lineStart:w2,lineEnd:S2,polygonStart:function(){cr.lineStart=Joe,cr.lineEnd=Xoe},polygonEnd:function(){cr.point=Ro,cr.lineStart=w2,cr.lineEnd=S2},result:function(){var t=tc?[Cx/tc,Ox/tc]:Bs?[Pp/Bs,Mp/Bs]:ec?[Tx/ec,Ax/ec]:[NaN,NaN];return Tx=Ax=ec=Pp=Mp=Bs=Cx=Ox=tc=0,t}};function Ro(t,e){Tx+=t,Ax+=e,++ec}function w2(){cr.point=Woe}function Woe(t,e){cr.point=Yoe,Ro(Fr=t,Kr=e)}function Yoe(t,e){var n=t-Fr,r=e-Kr,i=Ia(n*n+r*r);Pp+=i*(Fr+t)/2,Mp+=i*(Kr+e)/2,Bs+=i,Ro(Fr=t,Kr=e)}function S2(){cr.point=Ro}function Joe(){cr.point=Qoe}function Xoe(){UB(kB,LB)}function Qoe(t,e){cr.point=UB,Ro(kB=Fr=t,LB=Kr=e)}function UB(t,e){var n=t-Fr,r=e-Kr,i=Ia(n*n+r*r);Pp+=i*(Fr+t)/2,Mp+=i*(Kr+e)/2,Bs+=i,i=Kr*t-Fr*e,Cx+=i*(Fr+t),Ox+=i*(Kr+e),tc+=i*3,Ro(Fr=t,Kr=e)}function $B(t){this._context=t}$B.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,vr);break}}},result:dr};var Rx=new To,Cw,jB,qB,nc,rc,af={point:dr,lineStart:function(){af.point=Zoe},lineEnd:function(){Cw&&BB(jB,qB),af.point=dr},polygonStart:function(){Cw=!0},polygonEnd:function(){Cw=null},result:function(){var t=+Rx;return Rx=new To,t}};function Zoe(t,e){af.point=BB,jB=nc=t,qB=rc=e}function BB(t,e){nc-=t,rc-=e,Rx.add(Ia(nc*nc+rc*rc)),nc=t,rc=e}let x2,Np,E2,T2;class A2{constructor(e){this._append=e==null?HB:ese(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==E2||this._append!==Np){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,E2=r,Np=this._append,T2=this._,this._=i}this._+=T2;break}}}result(){const e=this._;return this._="",e.length?e:null}}function HB(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function ese(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return HB;if(e!==x2){const n=10**e;x2=e,Np=function(i){let a=1;this._+=i[0];for(const s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return Np}function tse(t,e){let n=3,r=4.5,i,a;function s(u){return u&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),fo(u,i(a))),a.result()}return s.area=function(u){return fo(u,i(Ci)),Ci.result()},s.measure=function(u){return fo(u,i(af)),af.result()},s.bounds=function(u){return fo(u,i(Rp)),Rp.result()},s.centroid=function(u){return fo(u,i(cr)),cr.result()},s.projection=function(u){return arguments.length?(i=u==null?(t=null,wx):(t=u).stream,s):t},s.context=function(u){return arguments.length?(a=u==null?(e=null,new A2(n)):new $B(e=u),typeof r!="function"&&a.pointRadius(r),s):e},s.pointRadius=function(u){return arguments.length?(r=typeof u=="function"?u:(a.pointRadius(+u),+u),s):r},s.digits=function(u){if(!arguments.length)return n;if(u==null)n=null;else{const c=Math.floor(u);if(!(c>=0))throw new RangeError(`invalid digits: ${u}`);n=c}return e===null&&(a=new A2(n)),s},s.projection(t).digits(n).context(e)}function fT(t){return function(e){var n=new Px;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Px(){}Px.prototype={constructor:Px,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function dT(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),fo(n,t.stream(Rp)),e(Rp.result()),r!=null&&t.clipExtent(r),t}function GB(t,e,n){return dT(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),u=+e[0][0]+(i-s*(r[1][0]+r[0][0]))/2,c=+e[0][1]+(a-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([u,c])},n)}function nse(t,e,n){return GB(t,[[0,0],e],n)}function rse(t,e,n){return dT(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,u=-a*r[0][1];t.scale(150*a).translate([s,u])},n)}function ise(t,e,n){return dT(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],u=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,u])},n)}var C2=16,ase=bt(30*yn);function O2(t,e){return+e?sse(t,e):ose(t)}function ose(t){return fT({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function sse(t,e){function n(r,i,a,s,u,c,f,h,p,g,b,x,E,w){var T=f-r,C=h-i,A=T*T+C*C;if(A>4*e&&E--){var P=s+g,O=u+b,M=c+x,I=Ia(P*P+O*O+M*M),k=nf(M/=I),L=wt(wt(M)-1)<et||wt(a-p)<et?(a+p)/2:xl(O,P),G=t(L,k),$=G[0],W=G[1],F=$-r,X=W-i,B=C*F-T*X;(B*B/A>e||wt((T*F+C*X)/A-.5)>.3||s*g+u*b+c*x<ase)&&(n(r,i,a,s,u,c,$,W,L,P/=I,O/=I,M,E,w),w.point($,W),n($,W,L,P,O,M,f,h,p,g,b,x,E,w))}}return function(r){var i,a,s,u,c,f,h,p,g,b,x,E,w={point:T,lineStart:C,lineEnd:P,polygonStart:function(){r.polygonStart(),w.lineStart=O},polygonEnd:function(){r.polygonEnd(),w.lineStart=C}};function T(k,L){k=t(k,L),r.point(k[0],k[1])}function C(){p=NaN,w.point=A,r.lineStart()}function A(k,L){var G=El([k,L]),$=t(k,L);n(p,g,h,b,x,E,p=$[0],g=$[1],h=k,b=G[0],x=G[1],E=G[2],C2,r),r.point(p,g)}function P(){w.point=T,r.lineEnd()}function O(){C(),w.point=M,w.lineEnd=I}function M(k,L){A(i=k,L),a=p,s=g,u=b,c=x,f=E,w.point=A}function I(){n(p,g,h,b,x,E,a,s,i,u,c,f,C2,r),w.lineEnd=P,P()}return w}}var lse=fT({point:function(t,e){this.stream.point(t*yn,e*yn)}});function use(t){return fT({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function cse(t,e,n,r,i){function a(s,u){return s*=r,u*=i,[e+t*s,n-t*u]}return a.invert=function(s,u){return[(s-e)/t*r,(n-u)/t*i]},a}function R2(t,e,n,r,i,a){if(!a)return cse(t,e,n,r,i);var s=bt(a),u=Tt(a),c=s*t,f=u*t,h=s/t,p=u/t,g=(u*n-s*e)/t,b=(u*e+s*n)/t;function x(E,w){return E*=r,w*=i,[c*E-f*w+e,n-f*E-c*w]}return x.invert=function(E,w){return[r*(h*E-p*w+g),i*(b-p*E-h*w)]},x}function fse(t){var e,n=150,r=480,i=250,a=0,s=0,u=0,c=0,f=0,h,p=0,g=1,b=1,x=null,E=_2,w=null,T,C,A,P=wx,O=.5,M,I,k,L,G;function $(B){return k(B[0]*yn,B[1]*yn)}function W(B){return B=k.invert(B[0],B[1]),B&&[B[0]*Or,B[1]*Or]}$.stream=function(B){return L&&G===B?L:L=lse(use(h)(E(M(P(G=B)))))},$.preclip=function(B){return arguments.length?(E=B,x=void 0,X()):E},$.postclip=function(B){return arguments.length?(P=B,w=T=C=A=null,X()):P},$.clipAngle=function(B){return arguments.length?(E=+B?Boe(x=B*yn):(x=null,_2),X()):x*Or},$.clipExtent=function(B){return arguments.length?(P=B==null?(w=T=C=A=null,wx):Goe(w=+B[0][0],T=+B[0][1],C=+B[1][0],A=+B[1][1]),X()):w==null?null:[[w,T],[C,A]]},$.scale=function(B){return arguments.length?(n=+B,F()):n},$.translate=function(B){return arguments.length?(r=+B[0],i=+B[1],F()):[r,i]},$.center=function(B){return arguments.length?(a=B[0]%360*yn,s=B[1]%360*yn,F()):[a*Or,s*Or]},$.rotate=function(B){return arguments.length?(u=B[0]%360*yn,c=B[1]%360*yn,f=B.length>2?B[2]%360*yn:0,F()):[u*Or,c*Or,f*Or]},$.angle=function(B){return arguments.length?(p=B%360*yn,F()):p*Or},$.reflectX=function(B){return arguments.length?(g=B?-1:1,F()):g<0},$.reflectY=function(B){return arguments.length?(b=B?-1:1,F()):b<0},$.precision=function(B){return arguments.length?(M=O2(I,O=B*B),X()):Ia(O)},$.fitExtent=function(B,U){return GB($,B,U)},$.fitSize=function(B,U){return nse($,B,U)},$.fitWidth=function(B,U){return rse($,B,U)},$.fitHeight=function(B,U){return ise($,B,U)};function F(){var B=R2(n,0,0,g,b,p).apply(null,e(a,s)),U=R2(n,r-B[0],i-B[1],g,b,p);return h=Ioe(u,c,f),I=bx(e,U),k=bx(h,I),M=O2(I,O),X()}function X(){return L=G=null,$}return function(){return e=t.apply(this,arguments),$.invert=e.invert&&W,F()}}function dse(t){var e=0,n=Ge/3,r=fse(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*yn,n=a[1]*yn):[e*Or,n*Or]},i}function zB(t,e){return[t,mx(OB((jt+e)/2))]}zB.invert=function(t,e){return[t,2*cT(Moe(e))-jt]};function sh(t){return OB((jt+t)/2)}function hse(t,e){var n=bt(t),r=t===e?Tt(t):mx(n/bt(e))/mx(sh(e)/sh(t)),i=n*xw(sh(t),r)/r;if(!r)return zB;function a(s,u){i>0?u<-jt+et&&(u=-jt+et):u>jt-et&&(u=jt-et);var c=i/xw(sh(u),r);return[c*Tt(r*s),i-c*bt(r*s)]}return a.invert=function(s,u){var c=i-u,f=Qu(r)*Ia(s*s+c*c),h=xl(s,wt(c))*Qu(c);return c*r<0&&(h-=Ge*Qu(s)*Qu(c)),[h/r,2*cT(xw(i/f,1/r))-jt]},a}function P2(){return dse(hse).scale(109.5).parallels([30,30])}var lh=1e-6;function uh(){}var Al=1/0,Ip=Al,of=-Al,Dp=of,M2={point:pse,lineStart:uh,lineEnd:uh,polygonStart:uh,polygonEnd:uh,result:function(){var t=[[Al,Ip],[of,Dp]];return of=Dp=-(Ip=Al=1/0),t}};function pse(t,e){t<Al&&(Al=t),t>of&&(of=t),e<Ip&&(Ip=e),e>Dp&&(Dp=e)}function VB(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],a=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),a!=null&&t.clipExtent(null),fo(n,t.stream(M2));var s=M2.result(),u=Math.min(r/(s[1][0]-s[0][0]),i/(s[1][1]-s[0][1])),c=+e[0][0]+(r-u*(s[1][0]+s[0][0]))/2,f=+e[0][1]+(i-u*(s[1][1]+s[0][1]))/2;return a!=null&&t.clipExtent(a),t.scale(u*150).translate([c,f])}function mse(t,e,n){return VB(t,[[0,0],e],n)}function gse(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function vse(){var t,e,n=P2().rotate([5,-38.6]).parallels([0,60]),r,i=P2().rotate([5,-38.6]).parallels([0,60]),a,s,u={point:function(h,p){s=[h,p]}};function c(h){var p=h[0],g=h[1];return s=null,r.point(p,g),s||(a.point(p,g),s)}c.invert=function(h){var p=n.scale(),g=n.translate(),b=(h[0]-g[0])/p,x=(h[1]-g[1])/p;return(x>=.05346&&x<.0897&&b>=-.13388&&b<-.0322?i:n).invert(h)},c.stream=function(h){return t&&e===h?t:t=gse([n.stream(e=h),i.stream(h)])},c.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),f()):n.precision()},c.scale=function(h){return arguments.length?(n.scale(h),i.scale(h),c.translate(n.translate())):n.scale()},c.translate=function(h){if(!arguments.length)return n.translate();var p=n.scale(),g=+h[0],b=+h[1];return r=n.translate(h).clipExtent([[g-.06857*p,b-.1288*p],[g+.13249*p,b+.06*p]]).stream(u),a=i.translate([g+.1*p,b-.094*p]).clipExtent([[g-.1331*p+lh,b+.053457*p+lh],[g-.0354*p-lh,b+.08969*p-lh]]).stream(u),f()},c.fitExtent=function(h,p){return VB(c,h,p)},c.fitSize=function(h,p){return mse(c,h,p)};function f(){return t=e=null,c}return c.drawCompositionBorders=function(h){var p=n([-14.034675,34.965007]),g=n([-7.4208899,35.536988]),b=n([-7.3148275,33.54359]);h.moveTo(p[0],p[1]),h.lineTo(g[0],g[1]),h.lineTo(b[0],b[1])},c.getCompositionBorders=function(){var h=v$();return this.drawCompositionBorders(h),h.toString()},c.scale(2700)}const Ow={PSOE:"#E30613",PP:"#0056A7",Vox:"#63BE21",Sumar:"#E51C55",Podemos:"#6B1F5F",Junts:"#00C3B2",ERC:"#FFD700",PNV:"#008000",Bildu:"#B5CF18",SALF:"#A0522D",PACMA:"#9ACD32",Ciudadanos:"#EB6109",Otros:"#808080","En blanco":"#FFFFFF"},yse="#4B5563",ch={Andalucia:"AN",Andaluca:"AN",Aragon:"AR",Aragn:"AR",Asturias:"AS","Principado de Asturias":"AS",Baleares:"IB","Islas Baleares":"IB","Illes Balears":"IB",Canarias:"CN","Islas Canarias":"CN",Cantabria:"CB","Castilla-La Mancha":"CM","Castilla La Mancha":"CM","Castilla-Leon":"CL","Castilla y Leon":"CL","Castilla y Len":"CL",Cataluna:"CT",Catalua:"CT",Catalunya:"CT",Ceuta:"CE",Madrid:"MD","Comunidad de Madrid":"MD",Navarra:"NC","Comunidad Foral de Navarra":"NC","Nafarroako Foru Komunitatea":"NC",Valencia:"VC","Comunidad Valenciana":"VC","Comunitat Valenciana":"VC",Extremadura:"EX",Galicia:"GA",Rioja:"RI","La Rioja":"RI",Melilla:"ML",Murcia:"MC","Region de Murcia":"MC","Regin de Murcia":"MC","Pais Vasco":"PV","Pas Vasco":"PV",Euskadi:"PV"},bse=({regionalVotes:t,regionalOptionCounts:e,pollType:n="binary",labelSupport:r="A favor",labelOppose:i="En contra",onSelectRegion:a,selectedRegion:s})=>{const[u,c]=j.useState(null);j.useEffect(()=>{fetch("/spain-communities.json").then(E=>E.json()).then(E=>c(E)).catch(E=>console.error("Error loading map data:",E))},[]);const f=j.useMemo(()=>vse().scale(2500).translate([400,280]),[]),h=j.useMemo(()=>tse().projection(f),[f]),p=E=>{var w,T;return((w=E.properties)==null?void 0:w.name)||((T=E.properties)==null?void 0:T.noml_ccaa)||"Unknown"},g=E=>{const w=p(E);if(ch[w])return ch[w];const T=Object.keys(ch).find(C=>w.includes(C));return T?ch[T]:void 0},b=E=>{if(!e||!e[E])return null;const w=e[E];let T="",C=-1;if(Object.entries(w).forEach(([P,O])=>{O>C&&(C=O,T=P)}),C<=0)return null;const A=Object.keys(Ow).find(P=>T.includes(P)||P.includes(T));return{name:T,color:A?Ow[A]:yse,votes:C}},x=E=>{const w=g(E);if(!w)return"#e2e8f0";if(n==="multiple_choice"){const M=b(w);return M?M.color:"#e2e8f0"}const T=t[w];if(!T||T.support===0&&T.oppose===0&&T.neutral===0)return"#e2e8f0";const{support:C,oppose:A,neutral:P}=T,O=Math.max(C,A,P);return O===0?"#e2e8f0":C===O&&C>A&&C>P?"#22c55e":A===O&&A>C&&A>P?"#ef4444":"#94a3b8"};return u?R.jsxs("div",{className:"w-full bg-white rounded-2xl p-6 border border-gray-100 shadow-lg",children:[R.jsx("div",{className:"flex flex-wrap justify-center mb-6 gap-x-6 gap-y-2 text-xs font-bold uppercase tracking-wider text-gray-500",children:n==="binary"?R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"flex items-center",children:[R.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-2 shadow-sm"}),r]}),R.jsxs("div",{className:"flex items-center",children:[R.jsx("span",{className:"w-3 h-3 bg-red-500 rounded-full mr-2 shadow-sm"}),i]}),R.jsxs("div",{className:"flex items-center",children:[R.jsx("span",{className:"w-3 h-3 bg-slate-400 rounded-full mr-2 shadow-sm"}),"Neutral / Empate"]})]}):R.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 lg:grid-cols-6 gap-2 w-full",children:Object.entries(Ow).map(([E,w])=>R.jsxs("div",{className:"flex items-center",children:[R.jsx("span",{className:"w-3 h-3 rounded-full mr-2 shadow-sm flex-shrink-0",style:{backgroundColor:w}}),R.jsx("span",{className:"truncate",children:E})]},E))})}),R.jsx("div",{className:"relative mx-auto w-full aspect-[5/3]",children:R.jsx("svg",{viewBox:"0 0 800 500",className:"w-full h-full drop-shadow-sm",children:R.jsx("g",{children:u.features.map((E,w)=>{const T=g(E);let A=p(E);if(T)if(n==="binary"){const M=t[T];M&&(A+=`
${r}: ${M.support}
${i}: ${M.oppose}
Neutral: ${M.neutral}`)}else{const M=b(T);M?A+=`
Ganador: ${M.name} (${M.votes} votos)`:A+=`
Sin votos`}const P=s&&T&&s===T,O=s&&T&&s!==T;return R.jsx("path",{d:h(E)||"",fill:x(E),stroke:P?"#4f46e5":"#ffffff",strokeWidth:P?"2.5":"0.5",className:`transition-all duration-300 cursor-pointer focus:outline-none 
                    ${O?"opacity-25 grayscale-[0.5]":"hover:opacity-90"} 
                    ${s?"":"hover:stroke-indigo-500 hover:stroke-2"}
                  `,onClick:()=>{a&&T&&a(P?null:T)},children:R.jsx("title",{children:A})},w)})})})}),R.jsx("p",{className:"text-center text-xs text-gray-400 mt-4",children:"Mapa oficial por Comunidades Autnomas"})]}):R.jsx("div",{className:"h-96 w-full bg-slate-50 rounded-2xl animate-pulse flex items-center justify-center text-slate-400",children:"Cargando Mapa..."})},fh=43200,N2=1440,I2=Symbol.for("constructDateFrom");function hT(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&I2 in t?t[I2](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ca(t,e){return hT(t,t)}let _se={};function wse(){return _se}function D2(t){const e=Ca(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function pT(t,...e){const n=hT.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function Sh(t,e){const n=+Ca(t)-+Ca(e);return n<0?-1:n>0?1:n}function Sse(t){return hT(t,Date.now())}function xse(t,e,n){const[r,i]=pT(n==null?void 0:n.in,t,e),a=r.getFullYear()-i.getFullYear(),s=r.getMonth()-i.getMonth();return a*12+s}function Ese(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function Tse(t,e){return+Ca(t)-+Ca(e)}function Ase(t,e){const n=Ca(t);return n.setHours(23,59,59,999),n}function Cse(t,e){const n=Ca(t),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Ose(t,e){const n=Ca(t);return+Ase(n)==+Cse(n)}function Rse(t,e,n){const[r,i,a]=pT(n==null?void 0:n.in,t,t,e),s=Sh(i,a),u=Math.abs(xse(i,a));if(u<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-s*u);let c=Sh(i,a)===-s;Ose(r)&&u===1&&Sh(r,a)===1&&(c=!1);const f=s*(u-+c);return f===0?0:f}function Pse(t,e,n){const r=Tse(t,e)/1e3;return Ese(n==null?void 0:n.roundingMethod)(r)}const Mse={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Nse=(t,e,n)=>{let r;const i=Mse[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Js(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Ise={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Dse={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kse={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Lse={date:Js({formats:Ise,defaultWidth:"full"}),time:Js({formats:Dse,defaultWidth:"full"}),dateTime:Js({formats:kse,defaultWidth:"full"})},Use={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$se=(t,e,n,r)=>Use[t];function Wr(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):s;i=t.formattingValues[u]||t.formattingValues[s]}else{const s=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[u]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const jse={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qse={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Bse={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Hse={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Gse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},zse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Vse=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Fse={ordinalNumber:Vse,era:Wr({values:jse,defaultWidth:"wide"}),quarter:Wr({values:qse,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Wr({values:Bse,defaultWidth:"wide"}),day:Wr({values:Hse,defaultWidth:"wide"}),dayPeriod:Wr({values:Gse,defaultWidth:"wide",formattingValues:zse,defaultFormattingWidth:"wide"})};function Yr(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(u)?Wse(u,p=>p.test(s)):Kse(u,p=>p.test(s));let f;f=t.valueCallback?t.valueCallback(c):c,f=n.valueCallback?n.valueCallback(f):f;const h=e.slice(s.length);return{value:f,rest:h}}}function Kse(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Wse(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function FB(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const u=e.slice(i.length);return{value:s,rest:u}}}const Yse=/^(\d+)(th|st|nd|rd)?/i,Jse=/\d+/i,Xse={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Qse={any:[/^b/i,/^(a|c)/i]},Zse={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ele={any:[/1/i,/2/i,/3/i,/4/i]},tle={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},nle={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},rle={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ile={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ale={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ole={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},sle={ordinalNumber:FB({matchPattern:Yse,parsePattern:Jse,valueCallback:t=>parseInt(t,10)}),era:Yr({matchPatterns:Xse,defaultMatchWidth:"wide",parsePatterns:Qse,defaultParseWidth:"any"}),quarter:Yr({matchPatterns:Zse,defaultMatchWidth:"wide",parsePatterns:ele,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Yr({matchPatterns:tle,defaultMatchWidth:"wide",parsePatterns:nle,defaultParseWidth:"any"}),day:Yr({matchPatterns:rle,defaultMatchWidth:"wide",parsePatterns:ile,defaultParseWidth:"any"}),dayPeriod:Yr({matchPatterns:ale,defaultMatchWidth:"any",parsePatterns:ole,defaultParseWidth:"any"})},lle={code:"en-US",formatDistance:Nse,formatLong:Lse,formatRelative:$se,localize:Fse,match:sle,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ule(t,e,n){const r=wse(),i=(n==null?void 0:n.locale)??r.locale??lle,a=2520,s=Sh(t,e);if(isNaN(s))throw new RangeError("Invalid time value");const u=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:s}),[c,f]=pT(n==null?void 0:n.in,...s>0?[e,t]:[t,e]),h=Pse(f,c),p=(D2(f)-D2(c))/1e3,g=Math.round((h-p)/60);let b;if(g<2)return n!=null&&n.includeSeconds?h<5?i.formatDistance("lessThanXSeconds",5,u):h<10?i.formatDistance("lessThanXSeconds",10,u):h<20?i.formatDistance("lessThanXSeconds",20,u):h<40?i.formatDistance("halfAMinute",0,u):h<60?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",1,u):g===0?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",g,u);if(g<45)return i.formatDistance("xMinutes",g,u);if(g<90)return i.formatDistance("aboutXHours",1,u);if(g<N2){const x=Math.round(g/60);return i.formatDistance("aboutXHours",x,u)}else{if(g<a)return i.formatDistance("xDays",1,u);if(g<fh){const x=Math.round(g/N2);return i.formatDistance("xDays",x,u)}else if(g<fh*2)return b=Math.round(g/fh),i.formatDistance("aboutXMonths",b,u)}if(b=Rse(f,c),b<12){const x=Math.round(g/fh);return i.formatDistance("xMonths",x,u)}else{const x=b%12,E=Math.trunc(b/12);return x<3?i.formatDistance("aboutXYears",E,u):x<9?i.formatDistance("overXYears",E,u):i.formatDistance("almostXYears",E+1,u)}}function cle(t,e){return ule(t,Sse(t),e)}const fle={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},dle=(t,e,n)=>{let r;const i=fle[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},hle={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},ple={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},mle={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gle={date:Js({formats:hle,defaultWidth:"full"}),time:Js({formats:ple,defaultWidth:"full"}),dateTime:Js({formats:mle,defaultWidth:"full"})},vle={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},yle={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},ble=(t,e,n,r)=>e.getHours()!==1?yle[t]:vle[t],_le={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},wle={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Sle={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},xle={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},Ele={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},Tle={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},Ale=(t,e)=>Number(t)+"",Cle={ordinalNumber:Ale,era:Wr({values:_le,defaultWidth:"wide"}),quarter:Wr({values:wle,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Wr({values:Sle,defaultWidth:"wide"}),day:Wr({values:xle,defaultWidth:"wide"}),dayPeriod:Wr({values:Ele,defaultWidth:"wide",formattingValues:Tle,defaultFormattingWidth:"wide"})},Ole=/^(\d+)()?/i,Rle=/\d+/i,Ple={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},Mle={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},Nle={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Ile={any:[/1/i,/2/i,/3/i,/4/i]},Dle={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},kle={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},Lle={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},Ule={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},$le={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},jle={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},qle={ordinalNumber:FB({matchPattern:Ole,parsePattern:Rle,valueCallback:function(t){return parseInt(t,10)}}),era:Yr({matchPatterns:Ple,defaultMatchWidth:"wide",parsePatterns:Mle,defaultParseWidth:"any"}),quarter:Yr({matchPatterns:Nle,defaultMatchWidth:"wide",parsePatterns:Ile,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Yr({matchPatterns:Dle,defaultMatchWidth:"wide",parsePatterns:kle,defaultParseWidth:"any"}),day:Yr({matchPatterns:Lle,defaultMatchWidth:"wide",parsePatterns:Ule,defaultParseWidth:"any"}),dayPeriod:Yr({matchPatterns:$le,defaultMatchWidth:"any",parsePatterns:jle,defaultParseWidth:"any"})},Ble={code:"es",formatDistance:dle,formatLong:gle,formatRelative:ble,localize:Cle,match:qle,options:{weekStartsOn:1,firstWeekContainsDate:1}},Mx=t=>t?t.split(" ").map(e=>e[0]).slice(0,2).join("").toUpperCase():"??",KB=({comment:t,user:e,onRequireAuth:n,onVote:r,onReply:i,depth:a=0})=>{const[s,u]=j.useState(!1),[c,f]=j.useState(""),[h,p]=j.useState(!1),g=async x=>{if(x.preventDefault(),!!c.trim()){p(!0);try{await i(t.id,c),u(!1),f("")}finally{p(!1)}}};return R.jsxs("div",{className:`flex flex-col gap-4 ${a>0?"mt-4":""}`,children:[R.jsxs("div",{className:"flex gap-4 group",children:[R.jsx("div",{className:"flex-shrink-0",children:R.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold text-xs border border-indigo-200 shadow-sm",children:Mx(t.userName)})}),R.jsxs("div",{className:"flex-grow",children:[R.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl rounded-tl-none border border-slate-100 group-hover:border-indigo-100 transition-colors",children:[R.jsxs("div",{className:"flex justify-between items-baseline mb-2",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("span",{className:"font-bold text-gray-900 text-sm",children:t.userName}),t.region&&R.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-200 px-1.5 py-0.5 rounded-full",children:t.region})]}),R.jsx("span",{className:"text-xs text-gray-500",children:cle(new Date(t.createdAt),{addSuffix:!0,locale:Ble})})]}),R.jsx("p",{className:"text-gray-700 text-sm leading-relaxed whitespace-pre-wrap",children:t.content}),R.jsxs("div",{className:"flex items-center mt-3 gap-4",children:[R.jsxs("button",{onClick:()=>r(t.id,"up"),className:`flex items-center gap-1.5 text-xs font-bold transition-colors ${t.userVote==="up"?"text-green-600":"text-gray-400 hover:text-green-500"}`,children:[R.jsx("svg",{className:"w-4 h-4",fill:t.userVote==="up"?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"})}),t.upvotes||0]}),R.jsxs("button",{onClick:()=>r(t.id,"down"),className:`flex items-center gap-1.5 text-xs font-bold transition-colors ${t.userVote==="down"?"text-red-500":"text-gray-400 hover:text-red-500"}`,children:[R.jsx("svg",{className:"w-4 h-4",fill:t.userVote==="down"?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018a2 2 0 01.485.06l3.76.94m-7 10v5a2 2 0 002 2h.095c.5 0 .905-.405.905-.905 0-.714.211-1.412.608-2.006L17 13V4m-7 10h2m5-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2.5"})}),t.downvotes||0]}),a<5&&R.jsxs("button",{onClick:()=>e?u(!s):n(),className:"flex items-center gap-1.5 text-xs font-bold text-gray-400 hover:text-indigo-600 transition-colors ml-2",children:[R.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Responder"]})]})]}),s&&R.jsxs("form",{onSubmit:g,className:"mt-4 flex gap-3 animate-fade-in pl-4 border-l-2 border-indigo-100",children:[R.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold text-[10px] border border-indigo-200 flex-shrink-0",children:Mx((e==null?void 0:e.full_name)||(e==null?void 0:e.email))}),R.jsxs("div",{className:"flex-grow",children:[R.jsx("textarea",{value:c,onChange:x=>f(x.target.value),placeholder:`Respondiendo a ${t.userName}...`,className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 text-sm min-h-[80px]",autoFocus:!0}),R.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[R.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-3 py-1.5 text-xs font-medium text-gray-500 hover:text-gray-700",children:"Cancelar"}),R.jsx("button",{type:"submit",disabled:h||!c.trim(),className:"px-4 py-1.5 bg-indigo-600 text-white text-xs font-bold rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:h?"Enviando...":"Responder"})]})]})]})]})]}),t.replies&&t.replies.length>0&&R.jsx("div",{className:"pl-12 border-l-2 border-gray-100 ml-4",children:t.replies.map(x=>R.jsx(KB,{comment:x,user:e,onRequireAuth:n,onVote:r,onReply:i,depth:a+1},x.id))})]})},Hle=({topicId:t,user:e,onRequireAuth:n})=>{const[r,i]=j.useState([]),[a,s]=j.useState(""),[u,c]=j.useState(!0),[f,h]=j.useState(!1),p=async()=>{try{const E=await Jr.fetchComments(t);i(E)}catch(E){console.error("Error loading comments:",E)}finally{c(!1)}};j.useEffect(()=>{p()},[t]);const g=async E=>{if(E.preventDefault(),!e){n();return}if(a.trim()){h(!0);try{await Jr.postComment(t,a,e.id),s(""),await p()}catch(w){console.error("Error posting comment:",w),alert("Error al publicar comentario")}finally{h(!1)}}},b=async(E,w)=>{e&&(await Jr.postComment(t,w,e.id,E),await p())},x=async(E,w)=>{if(!e){n();return}const T=C=>C.map(A=>{if(A.id===E){const P=A.userVote;let O=A.upvotes||0,M=A.downvotes||0;P==="up"&&O--,P==="down"&&M--;const I=P===w?null:w;return I==="up"&&O++,I==="down"&&M++,{...A,userVote:I,upvotes:O,downvotes:M}}return A.replies?{...A,replies:T(A.replies)}:A});i(C=>T(C));try{await Jr.voteComment(E,w)}catch(C){console.error(C),p()}};return R.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-8 shadow-sm",children:[R.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[R.jsx("svg",{className:"w-6 h-6 mr-2 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})}),"Debate Ciudadano"]}),R.jsx("div",{className:"mb-10",children:e?R.jsxs("form",{onSubmit:g,className:"flex flex-col gap-4",children:[R.jsxs("div",{className:"flex gap-4",children:[R.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold text-sm border border-indigo-200 shadow-sm flex-shrink-0",children:Mx((e==null?void 0:e.full_name)||(e==null?void 0:e.email))}),R.jsx("textarea",{value:a,onChange:E=>s(E.target.value),placeholder:"Inicia un nuevo hilo de debate...",className:"flex-grow p-4 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 min-h-[100px] resize-y",disabled:f})]}),R.jsx("div",{className:"flex justify-end",children:R.jsx("button",{type:"submit",disabled:f||!a.trim(),className:"px-6 py-2 bg-indigo-600 text-white font-bold rounded-full hover:bg-indigo-700 transition disabled:opacity-50 shadow-md shadow-indigo-200",children:f?"Publicando...":"Publicar Nuevo Hilo"})})]}):R.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl text-center border border-slate-200",children:[R.jsx("p",{className:"text-slate-600 mb-3",children:"Inicia sesin para participar en el debate."}),R.jsx("button",{onClick:n,className:"text-indigo-600 font-bold hover:underline",children:"Iniciar sesin ahora"})]})}),R.jsx("div",{className:"space-y-6",children:u?R.jsx("div",{className:"text-center py-10 text-gray-400",children:"Cargando debate..."}):r.length===0?R.jsx("div",{className:"text-center py-10 text-gray-400 italic",children:"An no hay comentarios. S el primero en opinar!"}):r.map(E=>R.jsx(KB,{comment:E,user:e,onRequireAuth:n,onVote:x,onReply:b},E.id))})]})};class Gle extends j.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){var e;return this.state.hasError?R.jsxs("div",{className:"p-8 m-8 bg-red-50 border border-red-200 rounded-xl",children:[R.jsx("h1",{className:"text-xl font-bold text-red-800 mb-4",children:"Algo sali mal."}),R.jsx("pre",{className:"text-sm text-red-600 overflow-auto bg-white p-4 rounded border border-red-100",children:(e=this.state.error)==null?void 0:e.toString()}),R.jsx("p",{className:"mt-4 text-xs text-gray-500",children:"(Ver consola para ms detalles)"})]}):this.props.children}}const k2=[{code:"MD",name:"Madrid"},{code:"CT",name:"Catalua"},{code:"AN",name:"Andaluca"},{code:"VC",name:"Comunidad Valenciana"},{code:"GA",name:"Galicia"},{code:"PV",name:"Pas Vasco"},{code:"CL",name:"Castilla y Len"},{code:"CM",name:"Castilla-La Mancha"},{code:"AR",name:"Aragn"},{code:"EX",name:"Extremadura"},{code:"IB",name:"Baleares"},{code:"CN",name:"Canarias"},{code:"AS",name:"Asturias"},{code:"CB",name:"Cantabria"},{code:"NC",name:"Navarra"},{code:"MC",name:"Murcia"},{code:"RI",name:"La Rioja"},{code:"CE",name:"Ceuta"},{code:"ML",name:"Melilla"}],zle=({topics:t,onVote:e,user:n,onRequireAuth:r})=>{var T,C;const{id:i}=DU(),a=Hp(),s=t.find(A=>A.id===i),[u,c]=j.useState(!1),[f,h]=j.useState(null),p=j.useMemo(()=>{if(!s)return null;if(!f)return{votes:s.votes,optionCounts:s.optionCounts};if(s.type==="multiple_choice"){const A=s.regionalOptionCounts&&s.regionalOptionCounts[f]||{};return{votes:{support:0,oppose:0,neutral:0},optionCounts:A}}else return{votes:s.regionalVotes&&s.regionalVotes[f]||{support:0,oppose:0,neutral:0},optionCounts:{}}},[s,f]);if(!s)return R.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[R.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Tema no encontrado"}),R.jsx("button",{onClick:()=>a("/"),className:"mt-4 text-indigo-600 hover:underline font-bold",children:"Volver al panel principal"})]});const g=(A,P)=>{if(!n){r();return}if(!n.region){alert("Tu perfil no tiene una comunidad autnoma asignada. Por favor, actualiza tu perfil.");return}e(s.id,A,n.region,P),c(!0)},b=(p==null?void 0:p.votes)||{support:0,oppose:0,neutral:0},x=(p==null?void 0:p.optionCounts)||{},E=s.type==="multiple_choice"?Object.values(x).reduce((A,P)=>A+P,0):b.support+b.oppose+b.neutral,w=A=>E>0?Math.round(A/E*100):0;return R.jsx(Gle,{children:R.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[R.jsxs(FG,{children:[R.jsxs("title",{children:[s.title," - La Voz del Pueblo"]}),R.jsx("meta",{name:"description",content:s.description}),R.jsx("meta",{property:"og:title",content:`${s.title} - Debate y Vota`}),R.jsx("meta",{property:"og:description",content:s.description}),R.jsx("meta",{property:"og:url",content:`https://lavozdelpueblo.es/#/topic/${s.id}`}),R.jsx("meta",{name:"twitter:title",content:s.title}),R.jsx("meta",{name:"twitter:description",content:s.description})]}),R.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[R.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[R.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-8 shadow-sm",children:[R.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[R.jsx("span",{className:"px-3 py-1 bg-indigo-50 text-indigo-600 text-xs font-bold rounded-full uppercase tracking-wider",children:s.category}),R.jsx("span",{className:"text-gray-400 text-sm",children:" Encuesta Activa"})]}),R.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 mb-6 leading-tight",children:s.title}),R.jsx("p",{className:"text-lg text-gray-600 leading-relaxed mb-8",children:s.description}),R.jsxs("div",{className:"bg-slate-50 rounded-3xl p-8 border border-slate-100",children:[R.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Emite tu Voto"}),!u&&!s.hasVoted?R.jsxs("div",{className:"space-y-8",children:[s.type==="multiple_choice"?R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:s.options.map(A=>R.jsxs("button",{onClick:()=>g("support",A),className:`flex justify-between items-center p-4 bg-white border border-gray-200 hover:border-indigo-500 hover:bg-indigo-50 rounded-xl transition-all shadow-sm group text-left ${!(n!=null&&n.region)&&"opacity-60 grayscale"}`,disabled:!(n!=null&&n.region)&&!!n,children:[R.jsx("span",{className:"font-bold text-gray-800",children:A}),R.jsx("div",{className:"bg-indigo-100 text-indigo-600 rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:R.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]},A))}):R.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[R.jsxs("button",{onClick:()=>g("support"),className:`flex flex-col items-center p-6 bg-white border-2 border-gray-100 hover:border-green-500 rounded-2xl transition-all group shadow-sm hover:shadow-md ${!(n!=null&&n.region)&&"opacity-60 grayscale-[0.5]"}`,disabled:!(n!=null&&n.region)&&!!n,children:[R.jsx("div",{className:"w-14 h-14 bg-green-50 text-green-600 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:R.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:R.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),R.jsx("span",{className:"font-bold text-gray-900 uppercase tracking-wide text-sm",children:s.labelSupport||"A favor"})]}),R.jsxs("button",{onClick:()=>g("oppose"),className:`flex flex-col items-center p-6 bg-white border-2 border-gray-100 hover:border-red-500 rounded-2xl transition-all group shadow-sm hover:shadow-md ${!(n!=null&&n.region)&&"opacity-60 grayscale-[0.5]"}`,disabled:!(n!=null&&n.region)&&!!n,children:[R.jsx("div",{className:"w-14 h-14 bg-red-50 text-red-600 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:R.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:R.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),R.jsx("span",{className:"font-bold text-gray-900 uppercase tracking-wide text-sm",children:s.labelOppose||"En contra"})]}),R.jsxs("button",{onClick:()=>g("neutral"),className:`flex flex-col items-center p-6 bg-white border-2 border-gray-100 hover:border-gray-500 rounded-2xl transition-all group shadow-sm hover:shadow-md ${!(n!=null&&n.region)&&"opacity-60 grayscale-[0.5]"}`,disabled:!(n!=null&&n.region)&&!!n,children:[R.jsx("div",{className:"w-14 h-14 bg-gray-100 text-gray-600 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:R.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:R.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),R.jsx("span",{className:"font-bold text-gray-900 uppercase tracking-wide text-sm",children:"Neutral"})]})]}),n?n.region?null:R.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg border border-yellow-200 text-yellow-800 text-sm",children:[R.jsx("p",{className:"font-bold",children:"Perfil incompleto"}),R.jsx("p",{children:"Necesitamos saber tu Comunidad Autnoma para registrar el voto."}),R.jsx("p",{className:"mt-2 text-xs",children:"Por favor, cierra sesin y regstrate de nuevo (o espera a que implementemos 'Editar Perfil')."})]}):R.jsxs("div",{className:"text-center",children:[R.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"Es necesario estar identificado para votar"}),R.jsx("button",{onClick:r,className:"text-indigo-600 font-bold hover:text-indigo-700 underline text-sm",children:"Iniciar sesin ahora"})]})]}):R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{className:"text-center py-6 bg-indigo-50/50 rounded-2xl text-indigo-700 font-bold border border-indigo-100",children:[R.jsx("svg",{className:"w-10 h-10 mx-auto mb-3 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),u?"Voto registrado!":"Ya has votado en este tema"]}),s.type==="multiple_choice"&&R.jsxs("div",{className:"space-y-3",children:[R.jsxs("h4",{className:"text-sm font-bold text-gray-700 uppercase tracking-wide mb-2",children:["Resultados Actuales ",f&&R.jsxs("span",{className:"text-indigo-600",children:["(",(T=k2.find(A=>A.code===f))==null?void 0:T.name,")"]})]}),s.options.map(A=>{const P=x[A]||0,O=w(P);return R.jsxs("div",{className:"",children:[R.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[R.jsx("span",{className:"font-medium text-gray-900",children:A}),R.jsxs("span",{className:"text-gray-500",children:[O,"% (",P,")"]})]}),R.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2.5",children:R.jsx("div",{className:"bg-indigo-600 h-2.5 rounded-full transition-all duration-1000",style:{width:`${O}%`}})})]},A)})]})]})]})]}),R.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-8 shadow-sm",children:[R.jsxs("div",{className:"flex justify-between items-center mb-6",children:[R.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Distribucin Geogrfica"}),s.type!=="multiple_choice"&&R.jsxs("div",{className:"flex space-x-2",children:[R.jsx("div",{className:"h-3 w-10 bg-green-500 rounded-full"}),R.jsx("div",{className:"h-3 w-10 bg-red-500 rounded-full"})]})]}),R.jsx(bse,{regionalVotes:s.regionalVotes,regionalOptionCounts:s.type==="multiple_choice"?s.regionalOptionCounts:void 0,pollType:s.type,labelSupport:s.type==="binary"?s.labelSupport:void 0,labelOppose:s.type==="binary"?s.labelOppose:void 0,onSelectRegion:h,selectedRegion:f})]}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[R.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-8 shadow-sm group hover:border-green-100 transition-colors",children:[R.jsxs("h3",{className:"text-lg font-bold text-green-600 mb-6 flex items-center",children:[R.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Argumentos A Favor"]}),R.jsx("ul",{className:"space-y-4",children:s.pros.map((A,P)=>R.jsxs("li",{className:"flex items-start text-gray-600 text-sm leading-relaxed",children:[R.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-1.5 mr-3 flex-shrink-0"}),A]},P))})]}),R.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-8 shadow-sm group hover:border-red-100 transition-colors",children:[R.jsxs("h3",{className:"text-lg font-bold text-red-600 mb-6 flex items-center",children:[R.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Argumentos En Contra"]}),R.jsx("ul",{className:"space-y-4",children:s.cons.map((A,P)=>R.jsxs("li",{className:"flex items-start text-gray-600 text-sm leading-relaxed",children:[R.jsx("span",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mt-1.5 mr-3 flex-shrink-0"}),A]},P))})]})]}),R.jsx(Hle,{topicId:s.id,user:n,onRequireAuth:r})]}),R.jsx("div",{className:"space-y-8",children:R.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-8 shadow-sm sticky top-24",children:[R.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-100 pb-2",children:[R.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Estadsticas",f&&R.jsx("span",{className:"text-indigo-600 block text-sm",children:(C=k2.find(A=>A.code===f))==null?void 0:C.name})]}),R.jsxs("div",{className:"flex items-center gap-2",children:[f&&R.jsx("button",{onClick:()=>h(null),className:"text-xs text-gray-400 hover:text-indigo-600 underline",children:"Ver Total"}),R.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-indigo-50 text-indigo-700 shadow-sm border border-indigo-100",children:[E," votos"]})]})]}),R.jsx(Poe,{votes:b,optionCounts:s.type==="multiple_choice"?x:void 0,type:s.type,labelSupport:s.type==="binary"?s.labelSupport:void 0,labelOppose:s.type==="binary"?s.labelOppose:void 0}),s.type==="binary"&&R.jsxs("div",{className:"mt-8 space-y-4",children:[R.jsxs("div",{className:"flex justify-between items-center text-sm p-3 bg-green-50 rounded-xl",children:[R.jsx("span",{className:"text-green-700 font-medium",children:s.labelSupport||"A favor"}),R.jsx("span",{className:"font-extrabold text-green-700",children:b.support})]}),R.jsxs("div",{className:"flex justify-between items-center text-sm p-3 bg-red-50 rounded-xl",children:[R.jsx("span",{className:"text-red-700 font-medium",children:s.labelOppose||"En contra"}),R.jsx("span",{className:"font-extrabold text-red-700",children:b.oppose})]}),R.jsxs("div",{className:"flex justify-between items-center text-sm p-3 bg-slate-100 rounded-xl",children:[R.jsx("span",{className:"text-slate-600 font-medium",children:"Neutral"}),R.jsx("span",{className:"font-extrabold text-slate-700",children:b.neutral})]})]}),R.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-br from-indigo-600 to-blue-700 rounded-2xl shadow-lg text-white",children:[R.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[R.jsx("div",{className:"p-1 bg-white/20 rounded-lg",children:R.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),R.jsx("h3",{className:"font-bold text-sm uppercase tracking-wider",children:"Perspectiva IA"})]}),R.jsxs("p",{className:"text-indigo-50 leading-relaxed text-sm italic font-light",children:['"',s.aiAnalysis||"Analizando el pulso social...",'"']})]})]})})]})]})})};var Vle={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Fle,Kle;function Wle(){return{geminiUrl:Fle,vertexUrl:Kle}}function Yle(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const s=Wle();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(a=s.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vi{}function pe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function y(t,e,n){for(let a=0;a<e.length-1;a++){const s=e[a];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let f=0;f<c.length;f++){const h=c[f];y(h,e.slice(a+1),n[f])}else for(const f of c)y(f,e.slice(a+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];y(c[0],e.slice(a+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function v(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const s=t[a];return Array.isArray(s)?s.map(u=>v(u,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Jle(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),a=r.split("."),s=new Set;let u=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){u=c;break}if(u!==-1&&a.length>u)for(let c=u;c<a.length;c++){const f=a[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&s.add(f)}Nx(t,i,a,0,s)}}function Nx(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const s=a.slice(0,-2),u=t;if(s in u&&Array.isArray(u[s]))for(const c of u[s])Nx(c,e,n,r+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,u=Object.keys(s).filter(f=>!f.startsWith("_")&&!i.has(f)),c={};for(const f of u)c[f]=s[f];for(const[f,h]of Object.entries(c)){const p=[];for(const g of n.slice(r))g==="*"?p.push(f):p.push(g);y(s,p,h)}for(const f of u)delete s[f]}}else{const s=t;a in s&&Nx(s[a],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mT(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xle(t){const e={},n=v(t,["operationName"]);n!=null&&y(e,["operationName"],n);const r=v(t,["resourceName"]);return r!=null&&y(e,["_url","resourceName"],r),e}function Qle(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=v(t,["done"]);i!=null&&y(e,["done"],i);const a=v(t,["error"]);a!=null&&y(e,["error"],a);const s=v(t,["response","generateVideoResponse"]);return s!=null&&y(e,["response"],eue(s)),e}function Zle(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=v(t,["done"]);i!=null&&y(e,["done"],i);const a=v(t,["error"]);a!=null&&y(e,["error"],a);const s=v(t,["response"]);return s!=null&&y(e,["response"],tue(s)),e}function eue(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>nue(s))),y(e,["generatedVideos"],a)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function tue(t){const e={},n=v(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>rue(s))),y(e,["generatedVideos"],a)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function nue(t){const e={},n=v(t,["video"]);return n!=null&&y(e,["video"],uue(n)),e}function rue(t){const e={},n=v(t,["_self"]);return n!=null&&y(e,["video"],cue(n)),e}function iue(t){const e={},n=v(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function aue(t){const e={},n=v(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function oue(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=v(t,["done"]);i!=null&&y(e,["done"],i);const a=v(t,["error"]);a!=null&&y(e,["error"],a);const s=v(t,["response"]);return s!=null&&y(e,["response"],sue(s)),e}function sue(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&y(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function WB(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=v(t,["done"]);i!=null&&y(e,["done"],i);const a=v(t,["error"]);a!=null&&y(e,["error"],a);const s=v(t,["response"]);return s!=null&&y(e,["response"],lue(s)),e}function lue(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&y(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function uue(t){const e={},n=v(t,["uri"]);n!=null&&y(e,["uri"],n);const r=v(t,["encodedVideo"]);r!=null&&y(e,["videoBytes"],mT(r));const i=v(t,["encoding"]);return i!=null&&y(e,["mimeType"],i),e}function cue(t){const e={},n=v(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&y(e,["videoBytes"],mT(r));const i=v(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var L2;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(L2||(L2={}));var U2;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(U2||(U2={}));var $2;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})($2||($2={}));var hn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(hn||(hn={}));var j2;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(j2||(j2={}));var q2;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(q2||(q2={}));var B2;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(B2||(B2={}));var H2;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(H2||(H2={}));var G2;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(G2||(G2={}));var z2;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(z2||(z2={}));var V2;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(V2||(V2={}));var F2;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(F2||(F2={}));var K2;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(K2||(K2={}));var W2;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(W2||(W2={}));var Y2;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Y2||(Y2={}));var J2;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(J2||(J2={}));var X2;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(X2||(X2={}));var Q2;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Q2||(Q2={}));var Z2;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Z2||(Z2={}));var kp;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(kp||(kp={}));var eL;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(eL||(eL={}));var tL;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(tL||(tL={}));var nL;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(nL||(nL={}));var Ix;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ix||(Ix={}));var rL;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(rL||(rL={}));var iL;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(iL||(iL={}));var aL;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(aL||(aL={}));var oL;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(oL||(oL={}));var sL;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(sL||(sL={}));var lL;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(lL||(lL={}));var uL;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(uL||(uL={}));var cL;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(cL||(cL={}));var fL;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(fL||(fL={}));var dL;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(dL||(dL={}));var hL;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(hL||(hL={}));var pL;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(pL||(pL={}));var mL;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(mL||(mL={}));var gL;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(gL||(gL={}));var vL;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(vL||(vL={}));var yL;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(yL||(yL={}));var bL;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(bL||(bL={}));var _L;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(_L||(_L={}));var wL;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(wL||(wL={}));var SL;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(SL||(SL={}));var xL;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(xL||(xL={}));var EL;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(EL||(EL={}));var TL;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(TL||(TL={}));var AL;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(AL||(AL={}));var CL;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(CL||(CL={}));var OL;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(OL||(OL={}));var RL;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(RL||(RL={}));var PL;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(PL||(PL={}));var ML;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ML||(ML={}));var NL;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(NL||(NL={}));var IL;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(IL||(IL={}));var Hs;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Hs||(Hs={}));class Dx{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Fu{get text(){var e,n,r,i,a,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const p=[];for(const g of(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[b,x]of Object.entries(g))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(x!==null||x!==void 0)&&p.push(b);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,f+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,n,r,i,a,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const p of(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[g,b]of Object.entries(p))g!=="inlineData"&&(b!==null||b!==void 0)&&h.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,a,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,i,a,s,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,a,s,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class DL{}class kL{}class fue{}class due{}class hue{}class pue{}class LL{}class UL{}class $L{}class mue{}class Lp{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Lp;let i;const a=e;return n?i=Zle(a):i=Qle(a),Object.assign(r,i),r}}class jL{}class qL{}class BL{}class HL{}class gue{}class vue{}class yue{}class gT{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new gT,a=oue(e);return Object.assign(r,a),r}}class bue{}class _ue{}class wue{}class GL{}class Sue{get text(){var e,n,r;let i="",a=!1;const s=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&s.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;a=!0,i+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(s))u!=="inlineData"&&c!==null&&a.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class xue{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class vT{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new vT,a=WB(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ye(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function YB(t,e){const n=Ye(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function JB(t){return Array.isArray(t)?t.map(e=>Up(e)):[Up(t)]}function Up(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function XB(t){const e=Up(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function QB(t){const e=Up(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function zL(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function ZB(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>zL(e)):[zL(t)]}function kx(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function VL(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function FL(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function mn(t){if(t==null)throw new Error("ContentUnion is required");return kx(t)?t:{role:"user",parts:ZB(t)}}function yT(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=mn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=mn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>mn(n)):[mn(e)]}function pr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(VL(t)||FL(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[mn(t)]}const e=[],n=[],r=kx(t[0]);for(const i of t){const a=kx(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(VL(i)||FL(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:ZB(n)}),e}function Eue(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(hn).includes(n[0].toUpperCase())?n[0].toUpperCase():hn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(hn).includes(r.toUpperCase())?r.toUpperCase():hn.TYPE_UNSPECIFIED})}}function Xs(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&Eue(t.type,e);for(const[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(hn).includes(u.toUpperCase())?u.toUpperCase():hn.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Xs(u);else if(r.includes(s)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(Xs(f))}e[s]=c}else if(i.includes(s)){const c={};for(const[f,h]of Object.entries(u))c[f]=Xs(h);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=u}return e}function bT(t){return Xs(t)}function _T(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function wT(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ll(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Xs(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Xs(e.response));return t}function Ul(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Tue(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Fi(t,e){if(typeof e!="string")throw new Error("name must be a string");return Tue(t,e,"cachedContents")}function e3(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Da(t){return mT(t)}function Aue(t){return t!=null&&typeof t=="object"&&"name"in t}function Cue(t){return t!=null&&typeof t=="object"&&"video"in t}function Oue(t){return t!=null&&typeof t=="object"&&"uri"in t}function t3(t){var e;let n;if(Aue(t)&&(n=t.name),!(Oue(t)&&(n=t.uri,n===void 0))&&!(Cue(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function n3(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function r3(t){for(const e of["models","tunedModels","publisherModels"])if(Rue(t,e))return t[e];return[]}function Rue(t,e){return t!==null&&typeof t=="object"&&e in t}function Pue(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Mue(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const s=Pue(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function i3(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Nue(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function a3(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function $l(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function o3(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Iue(t){const e={},n=v(t,["responsesFile"]);n!=null&&y(e,["fileName"],n);const r=v(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>hce(s))),y(e,["inlinedResponses"],a)}const i=v(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["inlinedEmbedContentResponses"],a)}return e}function Due(t){const e={},n=v(t,["predictionsFormat"]);n!=null&&y(e,["format"],n);const r=v(t,["gcsDestination","outputUriPrefix"]);r!=null&&y(e,["gcsUri"],r);const i=v(t,["bigqueryDestination","outputUri"]);return i!=null&&y(e,["bigqueryUri"],i),e}function kue(t){const e={},n=v(t,["format"]);n!=null&&y(e,["predictionsFormat"],n);const r=v(t,["gcsUri"]);r!=null&&y(e,["gcsDestination","outputUriPrefix"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&y(e,["bigqueryDestination","outputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(v(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function xh(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["metadata","displayName"]);r!=null&&y(e,["displayName"],r);const i=v(t,["metadata","state"]);i!=null&&y(e,["state"],o3(i));const a=v(t,["metadata","createTime"]);a!=null&&y(e,["createTime"],a);const s=v(t,["metadata","endTime"]);s!=null&&y(e,["endTime"],s);const u=v(t,["metadata","updateTime"]);u!=null&&y(e,["updateTime"],u);const c=v(t,["metadata","model"]);c!=null&&y(e,["model"],c);const f=v(t,["metadata","output"]);return f!=null&&y(e,["dest"],Iue(a3(f))),e}function Lx(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=v(t,["state"]);i!=null&&y(e,["state"],o3(i));const a=v(t,["error"]);a!=null&&y(e,["error"],a);const s=v(t,["createTime"]);s!=null&&y(e,["createTime"],s);const u=v(t,["startTime"]);u!=null&&y(e,["startTime"],u);const c=v(t,["endTime"]);c!=null&&y(e,["endTime"],c);const f=v(t,["updateTime"]);f!=null&&y(e,["updateTime"],f);const h=v(t,["model"]);h!=null&&y(e,["model"],h);const p=v(t,["inputConfig"]);p!=null&&y(e,["src"],Lue(p));const g=v(t,["outputConfig"]);g!=null&&y(e,["dest"],Due(a3(g)));const b=v(t,["completionStats"]);return b!=null&&y(e,["completionStats"],b),e}function Lue(t){const e={},n=v(t,["instancesFormat"]);n!=null&&y(e,["format"],n);const r=v(t,["gcsSource","uris"]);r!=null&&y(e,["gcsUri"],r);const i=v(t,["bigquerySource","inputUri"]);return i!=null&&y(e,["bigqueryUri"],i),e}function Uue(t,e){const n={};if(v(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=v(e,["fileName"]);r!=null&&y(n,["fileName"],r);const i=v(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>dce(t,s))),y(n,["requests","requests"],a)}return n}function $ue(t){const e={},n=v(t,["format"]);n!=null&&y(e,["instancesFormat"],n);const r=v(t,["gcsUri"]);r!=null&&y(e,["gcsSource","uris"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&y(e,["bigquerySource","inputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function jue(t){const e={},n=v(t,["data"]);if(n!=null&&y(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function que(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],$l(t,r)),n}function Bue(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],$l(t,r)),n}function Hue(t){const e={},n=v(t,["content"]);n!=null&&y(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&y(e,["citationMetadata"],Gue(r));const i=v(t,["tokenCount"]);i!=null&&y(e,["tokenCount"],i);const a=v(t,["finishReason"]);a!=null&&y(e,["finishReason"],a);const s=v(t,["avgLogprobs"]);s!=null&&y(e,["avgLogprobs"],s);const u=v(t,["groundingMetadata"]);u!=null&&y(e,["groundingMetadata"],u);const c=v(t,["index"]);c!=null&&y(e,["index"],c);const f=v(t,["logprobsResult"]);f!=null&&y(e,["logprobsResult"],f);const h=v(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(b=>b)),y(e,["safetyRatings"],g)}const p=v(t,["urlContextMetadata"]);return p!=null&&y(e,["urlContextMetadata"],p),e}function Gue(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["citations"],r)}return e}function s3(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>_ce(a))),y(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&y(e,["role"],r),e}function zue(t,e){const n={},r=v(t,["displayName"]);if(e!==void 0&&r!=null&&y(e,["batch","displayName"],r),v(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Vue(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=v(t,["dest"]);return e!==void 0&&i!=null&&y(e,["outputConfig"],kue(Nue(i))),n}function KL(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["src"]);i!=null&&y(n,["batch","inputConfig"],Uue(t,i3(t,i)));const a=v(e,["config"]);return a!=null&&zue(a,n),n}function Fue(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["model"],Ye(t,r));const i=v(e,["src"]);i!=null&&y(n,["inputConfig"],$ue(i3(t,i)));const a=v(e,["config"]);return a!=null&&Vue(a,n),n}function Kue(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&y(e,["batch","displayName"],r),n}function Wue(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["src"]);i!=null&&y(n,["batch","inputConfig"],tce(t,i));const a=v(e,["config"]);return a!=null&&Kue(a,n),n}function Yue(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],$l(t,r)),n}function Jue(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],$l(t,r)),n}function Xue(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&y(e,["name"],r);const i=v(t,["done"]);i!=null&&y(e,["done"],i);const a=v(t,["error"]);return a!=null&&y(e,["error"],a),e}function Que(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&y(e,["name"],r);const i=v(t,["done"]);i!=null&&y(e,["done"],i);const a=v(t,["error"]);return a!=null&&y(e,["error"],a),e}function Zue(t,e){const n={},r=v(e,["contents"]);if(r!=null){let a=yT(t,r);Array.isArray(a)&&(a=a.map(s=>s)),y(n,["requests[]","request","content"],a)}const i=v(e,["config"]);return i!=null&&(y(n,["_self"],ece(i,n)),Jle(n,{"requests[].*":"requests[].request.*"})),n}function ece(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&y(e,["requests[]","taskType"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&y(e,["requests[]","title"],i);const a=v(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&y(e,["requests[]","outputDimensionality"],a),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function tce(t,e){const n={},r=v(e,["fileName"]);r!=null&&y(n,["file_name"],r);const i=v(e,["inlinedRequests"]);return i!=null&&y(n,["requests"],Zue(t,i)),n}function nce(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function rce(t){const e={},n=v(t,["id"]);n!=null&&y(e,["id"],n);const r=v(t,["args"]);r!=null&&y(e,["args"],r);const i=v(t,["name"]);if(i!=null&&y(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ice(t){const e={},n=v(t,["mode"]);n!=null&&y(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ace(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],s3(mn(i)));const a=v(e,["temperature"]);a!=null&&y(r,["temperature"],a);const s=v(e,["topP"]);s!=null&&y(r,["topP"],s);const u=v(e,["topK"]);u!=null&&y(r,["topK"],u);const c=v(e,["candidateCount"]);c!=null&&y(r,["candidateCount"],c);const f=v(e,["maxOutputTokens"]);f!=null&&y(r,["maxOutputTokens"],f);const h=v(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const p=v(e,["responseLogprobs"]);p!=null&&y(r,["responseLogprobs"],p);const g=v(e,["logprobs"]);g!=null&&y(r,["logprobs"],g);const b=v(e,["presencePenalty"]);b!=null&&y(r,["presencePenalty"],b);const x=v(e,["frequencyPenalty"]);x!=null&&y(r,["frequencyPenalty"],x);const E=v(e,["seed"]);E!=null&&y(r,["seed"],E);const w=v(e,["responseMimeType"]);w!=null&&y(r,["responseMimeType"],w);const T=v(e,["responseSchema"]);T!=null&&y(r,["responseSchema"],bT(T));const C=v(e,["responseJsonSchema"]);if(C!=null&&y(r,["responseJsonSchema"],C),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=v(e,["safetySettings"]);if(n!==void 0&&A!=null){let F=A;Array.isArray(F)&&(F=F.map(X=>wce(X))),y(n,["safetySettings"],F)}const P=v(e,["tools"]);if(n!==void 0&&P!=null){let F=Ul(P);Array.isArray(F)&&(F=F.map(X=>xce(Ll(X)))),y(n,["tools"],F)}const O=v(e,["toolConfig"]);if(n!==void 0&&O!=null&&y(n,["toolConfig"],Sce(O)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=v(e,["cachedContent"]);n!==void 0&&M!=null&&y(n,["cachedContent"],Fi(t,M));const I=v(e,["responseModalities"]);I!=null&&y(r,["responseModalities"],I);const k=v(e,["mediaResolution"]);k!=null&&y(r,["mediaResolution"],k);const L=v(e,["speechConfig"]);if(L!=null&&y(r,["speechConfig"],_T(L)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=v(e,["thinkingConfig"]);G!=null&&y(r,["thinkingConfig"],G);const $=v(e,["imageConfig"]);$!=null&&y(r,["imageConfig"],fce($));const W=v(e,["enableEnhancedCivicAnswers"]);return W!=null&&y(r,["enableEnhancedCivicAnswers"],W),r}function oce(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>Hue(f))),y(e,["candidates"],c)}const i=v(t,["modelVersion"]);i!=null&&y(e,["modelVersion"],i);const a=v(t,["promptFeedback"]);a!=null&&y(e,["promptFeedback"],a);const s=v(t,["responseId"]);s!=null&&y(e,["responseId"],s);const u=v(t,["usageMetadata"]);return u!=null&&y(e,["usageMetadata"],u),e}function sce(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],$l(t,r)),n}function lce(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],$l(t,r)),n}function uce(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function cce(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function fce(t){const e={},n=v(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=v(t,["imageSize"]);if(r!=null&&y(e,["imageSize"],r),v(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function dce(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["request","model"],Ye(t,r));const i=v(e,["contents"]);if(i!=null){let u=pr(i);Array.isArray(u)&&(u=u.map(c=>s3(c))),y(n,["request","contents"],u)}const a=v(e,["metadata"]);a!=null&&y(n,["metadata"],a);const s=v(e,["config"]);return s!=null&&y(n,["request","generationConfig"],ace(t,s,v(n,["request"],{}))),n}function hce(t){const e={},n=v(t,["response"]);n!=null&&y(e,["response"],oce(n));const r=v(t,["error"]);return r!=null&&y(e,["error"],r),e}function pce(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);if(e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),v(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function mce(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);e!==void 0&&i!=null&&y(e,["_query","pageToken"],i);const a=v(t,["filter"]);return e!==void 0&&a!=null&&y(e,["_query","filter"],a),n}function gce(t){const e={},n=v(t,["config"]);return n!=null&&pce(n,e),e}function vce(t){const e={},n=v(t,["config"]);return n!=null&&mce(n,e),e}function yce(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=v(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>xh(s))),y(e,["batchJobs"],a)}return e}function bce(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=v(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Lx(s))),y(e,["batchJobs"],a)}return e}function _ce(t){const e={},n=v(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&y(e,["fileData"],nce(a));const s=v(t,["functionCall"]);s!=null&&y(e,["functionCall"],rce(s));const u=v(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const c=v(t,["inlineData"]);c!=null&&y(e,["inlineData"],jue(c));const f=v(t,["text"]);f!=null&&y(e,["text"],f);const h=v(t,["thought"]);h!=null&&y(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&y(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&y(e,["videoMetadata"],g),e}function wce(t){const e={},n=v(t,["category"]);if(n!=null&&y(e,["category"],n),v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(t,["threshold"]);return r!=null&&y(e,["threshold"],r),e}function Sce(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],ice(n));const r=v(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function xce(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),y(e,["functionDeclarations"],h)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const a=v(t,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const s=v(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],uce(u));const c=v(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],cce(c));const f=v(t,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ji;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ji||(ji={}));class Lo{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ece extends Vi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Lo(ji.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=KL(this.apiClient,e),r=n._url,i=pe("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,c=u.requests,f=[];for(const h of c){const p=Object.assign({},h);if(p.systemInstruction){const g=p.systemInstruction;delete p.systemInstruction;const b=p.request;b.systemInstruction=g,p.request=b}f.push(p)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),s=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Fue(this.apiClient,e);return u=pe("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Lx(h))}else{const f=KL(this.apiClient,e);return u=pe("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>xh(h))}}async createEmbeddingsInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Wue(this.apiClient,e);return a=pe("{model}:asyncBatchEmbedContent",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>xh(c))}}async get(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=lce(this.apiClient,e);return u=pe("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Lx(h))}else{const f=sce(this.apiClient,e);return u=pe("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>xh(h))}}async cancel(e){var n,r,i,a;let s="",u={};if(this.apiClient.isVertexAI()){const c=Bue(this.apiClient,e);s=pe("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=que(this.apiClient,e);s=pe("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=vce(e);return u=pe("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=bce(h),g=new GL;return Object.assign(g,p),g})}else{const f=gce(e);return u=pe("batches",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=yce(h),g=new GL;return Object.assign(g,p),g})}}async delete(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Jue(this.apiClient,e);return u=pe("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>Que(h))}else{const f=Yue(this.apiClient,e);return u=pe("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>Xue(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tce(t){const e={},n=v(t,["data"]);if(n!=null&&y(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function WL(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Wce(a))),y(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&y(e,["role"],r),e}function Ace(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&y(e,["expireTime"],i);const a=v(t,["displayName"]);e!==void 0&&a!=null&&y(e,["displayName"],a);const s=v(t,["contents"]);if(e!==void 0&&s!=null){let h=pr(s);Array.isArray(h)&&(h=h.map(p=>WL(p))),y(e,["contents"],h)}const u=v(t,["systemInstruction"]);e!==void 0&&u!=null&&y(e,["systemInstruction"],WL(mn(u)));const c=v(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>Jce(p))),y(e,["tools"],h)}const f=v(t,["toolConfig"]);if(e!==void 0&&f!=null&&y(e,["toolConfig"],Yce(f)),v(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Cce(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&y(e,["expireTime"],i);const a=v(t,["displayName"]);e!==void 0&&a!=null&&y(e,["displayName"],a);const s=v(t,["contents"]);if(e!==void 0&&s!=null){let p=pr(s);Array.isArray(p)&&(p=p.map(g=>g)),y(e,["contents"],p)}const u=v(t,["systemInstruction"]);e!==void 0&&u!=null&&y(e,["systemInstruction"],mn(u));const c=v(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>Xce(g))),y(e,["tools"],p)}const f=v(t,["toolConfig"]);e!==void 0&&f!=null&&y(e,["toolConfig"],f);const h=v(t,["kmsKeyName"]);return e!==void 0&&h!=null&&y(e,["encryption_spec","kmsKeyName"],h),n}function Oce(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["model"],YB(t,r));const i=v(e,["config"]);return i!=null&&Ace(i,n),n}function Rce(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["model"],YB(t,r));const i=v(e,["config"]);return i!=null&&Cce(i,n),n}function Pce(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],Fi(t,r)),n}function Mce(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],Fi(t,r)),n}function Nce(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function Ice(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function Dce(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function kce(t){const e={},n=v(t,["id"]);n!=null&&y(e,["id"],n);const r=v(t,["args"]);r!=null&&y(e,["args"],r);const i=v(t,["name"]);if(i!=null&&y(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Lce(t){const e={},n=v(t,["mode"]);n!=null&&y(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Uce(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&y(e,["description"],n);const r=v(t,["name"]);r!=null&&y(e,["name"],r);const i=v(t,["parameters"]);i!=null&&y(e,["parameters"],i);const a=v(t,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const s=v(t,["response"]);s!=null&&y(e,["response"],s);const u=v(t,["responseJsonSchema"]);return u!=null&&y(e,["responseJsonSchema"],u),e}function $ce(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],Fi(t,r)),n}function jce(t,e){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],Fi(t,r)),n}function qce(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function Bce(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function Hce(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function Gce(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function zce(t){const e={},n=v(t,["config"]);return n!=null&&Hce(n,e),e}function Vce(t){const e={},n=v(t,["config"]);return n!=null&&Gce(n,e),e}function Fce(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=v(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["cachedContents"],a)}return e}function Kce(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=v(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["cachedContents"],a)}return e}function Wce(t){const e={},n=v(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&y(e,["fileData"],Dce(a));const s=v(t,["functionCall"]);s!=null&&y(e,["functionCall"],kce(s));const u=v(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const c=v(t,["inlineData"]);c!=null&&y(e,["inlineData"],Tce(c));const f=v(t,["text"]);f!=null&&y(e,["text"],f);const h=v(t,["thought"]);h!=null&&y(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&y(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&y(e,["videoMetadata"],g),e}function Yce(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],Lce(n));const r=v(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function Jce(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),y(e,["functionDeclarations"],h)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const a=v(t,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const s=v(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],qce(u));const c=v(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],Bce(c));const f=v(t,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}function Xce(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>Uce(g))),y(e,["functionDeclarations"],p)}const r=v(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=v(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const a=v(t,["computerUse"]);if(a!=null&&y(e,["computerUse"],a),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=v(t,["codeExecution"]);s!=null&&y(e,["codeExecution"],s);const u=v(t,["enterpriseWebSearch"]);u!=null&&y(e,["enterpriseWebSearch"],u);const c=v(t,["googleMaps"]);c!=null&&y(e,["googleMaps"],c);const f=v(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],f);const h=v(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function Qce(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&y(e,["expireTime"],i),n}function Zce(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&y(e,["expireTime"],i),n}function efe(t,e){const n={},r=v(e,["name"]);r!=null&&y(n,["_url","name"],Fi(t,r));const i=v(e,["config"]);return i!=null&&Qce(i,n),n}function tfe(t,e){const n={},r=v(e,["name"]);r!=null&&y(n,["_url","name"],Fi(t,r));const i=v(e,["config"]);return i!=null&&Zce(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nfe extends Vi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Lo(ji.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Rce(this.apiClient,e);return u=pe("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=Oce(this.apiClient,e);return u=pe("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=jce(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=$ce(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Mce(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Ice(h),g=new BL;return Object.assign(g,p),g})}else{const f=Pce(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Nce(h),g=new BL;return Object.assign(g,p),g})}}async update(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=tfe(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=efe(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Vce(e);return u=pe("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Kce(h),g=new HL;return Object.assign(g,p),g})}else{const f=zce(e);return u=pe("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Fce(h),g=new HL;return Object.assign(g,p),g})}}}function $p(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function YL(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Re(t){return this instanceof Re?(this.v=t,this):new Re(t)}function Lr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(b){return function(x){return Promise.resolve(x).then(b,p)}}function u(b,x){r[b]&&(i[b]=function(E){return new Promise(function(w,T){a.push([b,E,w,T])>1||c(b,E)})},x&&(i[b]=x(i[b])))}function c(b,x){try{f(r[b](x))}catch(E){g(a[0][3],E)}}function f(b){b.value instanceof Re?Promise.resolve(b.value.v).then(h,p):g(a[0][2],b)}function h(b){c("next",b)}function p(b){c("throw",b)}function g(b,x){b(x),a.shift(),a.length&&c(a[0][0],a[0][1])}}function Ur(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof YL=="function"?YL(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(s){return new Promise(function(u,c){s=t[a](s),i(u,c,s.done,s.value)})}}function i(a,s,u,c){Promise.resolve(c).then(function(f){a({value:f,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rfe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:l3(n)}function l3(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function ife(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function JL(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!l3(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class afe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new ofe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class ofe{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),ife(a)}async sendMessage(e){var n;await this.sendPromise;const r=mn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,s,u;const c=await i,f=(s=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,h=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let g=[];h!=null&&(g=(u=h.slice(p))!==null&&u!==void 0?u:[]);const b=f?[f]:[];this.recordHistory(r,b,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=mn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?JL(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Lr(this,arguments,function*(){var i,a,s,u,c,f;const h=[];try{for(var p=!0,g=Ur(e),b;b=yield Re(g.next()),i=b.done,!i;p=!0){u=b.value,p=!1;const x=u;if(rfe(x)){const E=(f=(c=x.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content;E!==void 0&&h.push(E)}yield yield Re(x)}}catch(x){a={error:x}}finally{try{!p&&!i&&(s=g.return)&&(yield Re(s.call(g)))}finally{if(a)throw a.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...JL(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nm extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Nm.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sfe(t){const e={},n=v(t,["file"]);return n!=null&&y(e,["file"],n),e}function lfe(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function ufe(t){const e={},n=v(t,["name"]);return n!=null&&y(e,["_url","file"],t3(n)),e}function cfe(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function ffe(t){const e={},n=v(t,["name"]);return n!=null&&y(e,["_url","file"],t3(n)),e}function dfe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function hfe(t){const e={},n=v(t,["config"]);return n!=null&&dfe(n,e),e}function pfe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=v(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mfe extends Vi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Lo(ji.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=hfe(e);return a=pe("files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=pfe(c),h=new bue;return Object.assign(h,f),h})}}async createInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=sfe(e);return a=pe("upload/v1beta/files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=lfe(c),h=new _ue;return Object.assign(h,f),h})}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ffe(e);return a=pe("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ufe(e);return a=pe("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=cfe(c),h=new wue;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Eh(t){const e={},n=v(t,["data"]);if(n!=null&&y(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function gfe(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Nfe(a))),y(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&y(e,["role"],r),e}function vfe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function yfe(t){const e={},n=v(t,["id"]);n!=null&&y(e,["id"],n);const r=v(t,["args"]);r!=null&&y(e,["args"],r);const i=v(t,["name"]);if(i!=null&&y(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function bfe(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&y(e,["description"],n);const r=v(t,["name"]);r!=null&&y(e,["name"],r);const i=v(t,["parameters"]);i!=null&&y(e,["parameters"],i);const a=v(t,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const s=v(t,["response"]);s!=null&&y(e,["response"],s);const u=v(t,["responseJsonSchema"]);return u!=null&&y(e,["responseJsonSchema"],u),e}function _fe(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const r=v(t,["responseJsonSchema"]);r!=null&&y(e,["responseJsonSchema"],r);const i=v(t,["audioTimestamp"]);i!=null&&y(e,["audioTimestamp"],i);const a=v(t,["candidateCount"]);a!=null&&y(e,["candidateCount"],a);const s=v(t,["enableAffectiveDialog"]);s!=null&&y(e,["enableAffectiveDialog"],s);const u=v(t,["frequencyPenalty"]);u!=null&&y(e,["frequencyPenalty"],u);const c=v(t,["logprobs"]);c!=null&&y(e,["logprobs"],c);const f=v(t,["maxOutputTokens"]);f!=null&&y(e,["maxOutputTokens"],f);const h=v(t,["mediaResolution"]);h!=null&&y(e,["mediaResolution"],h);const p=v(t,["presencePenalty"]);p!=null&&y(e,["presencePenalty"],p);const g=v(t,["responseLogprobs"]);g!=null&&y(e,["responseLogprobs"],g);const b=v(t,["responseMimeType"]);b!=null&&y(e,["responseMimeType"],b);const x=v(t,["responseModalities"]);x!=null&&y(e,["responseModalities"],x);const E=v(t,["responseSchema"]);E!=null&&y(e,["responseSchema"],E);const w=v(t,["routingConfig"]);w!=null&&y(e,["routingConfig"],w);const T=v(t,["seed"]);T!=null&&y(e,["seed"],T);const C=v(t,["speechConfig"]);C!=null&&y(e,["speechConfig"],C);const A=v(t,["stopSequences"]);A!=null&&y(e,["stopSequences"],A);const P=v(t,["temperature"]);P!=null&&y(e,["temperature"],P);const O=v(t,["thinkingConfig"]);O!=null&&y(e,["thinkingConfig"],O);const M=v(t,["topK"]);M!=null&&y(e,["topK"],M);const I=v(t,["topP"]);if(I!=null&&y(e,["topP"],I),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function wfe(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function Sfe(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function xfe(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const a=v(t,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const s=v(t,["topP"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","topP"],s);const u=v(t,["topK"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topK"],u);const c=v(t,["maxOutputTokens"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","maxOutputTokens"],c);const f=v(t,["mediaResolution"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","mediaResolution"],f);const h=v(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const p=v(t,["speechConfig"]);e!==void 0&&p!=null&&y(e,["setup","generationConfig","speechConfig"],wT(p));const g=v(t,["thinkingConfig"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","thinkingConfig"],g);const b=v(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],b);const x=v(t,["systemInstruction"]);e!==void 0&&x!=null&&y(e,["setup","systemInstruction"],gfe(mn(x)));const E=v(t,["tools"]);if(e!==void 0&&E!=null){let M=Ul(E);Array.isArray(M)&&(M=M.map(I=>Dfe(Ll(I)))),y(e,["setup","tools"],M)}const w=v(t,["sessionResumption"]);e!==void 0&&w!=null&&y(e,["setup","sessionResumption"],Ife(w));const T=v(t,["inputAudioTranscription"]);e!==void 0&&T!=null&&y(e,["setup","inputAudioTranscription"],T);const C=v(t,["outputAudioTranscription"]);e!==void 0&&C!=null&&y(e,["setup","outputAudioTranscription"],C);const A=v(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&y(e,["setup","realtimeInputConfig"],A);const P=v(t,["contextWindowCompression"]);e!==void 0&&P!=null&&y(e,["setup","contextWindowCompression"],P);const O=v(t,["proactivity"]);if(e!==void 0&&O!=null&&y(e,["setup","proactivity"],O),v(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Efe(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],_fe(r));const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const a=v(t,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const s=v(t,["topP"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","topP"],s);const u=v(t,["topK"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topK"],u);const c=v(t,["maxOutputTokens"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","maxOutputTokens"],c);const f=v(t,["mediaResolution"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","mediaResolution"],f);const h=v(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const p=v(t,["speechConfig"]);e!==void 0&&p!=null&&y(e,["setup","generationConfig","speechConfig"],wT(p));const g=v(t,["thinkingConfig"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","thinkingConfig"],g);const b=v(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],b);const x=v(t,["systemInstruction"]);e!==void 0&&x!=null&&y(e,["setup","systemInstruction"],mn(x));const E=v(t,["tools"]);if(e!==void 0&&E!=null){let I=Ul(E);Array.isArray(I)&&(I=I.map(k=>kfe(Ll(k)))),y(e,["setup","tools"],I)}const w=v(t,["sessionResumption"]);e!==void 0&&w!=null&&y(e,["setup","sessionResumption"],w);const T=v(t,["inputAudioTranscription"]);e!==void 0&&T!=null&&y(e,["setup","inputAudioTranscription"],T);const C=v(t,["outputAudioTranscription"]);e!==void 0&&C!=null&&y(e,["setup","outputAudioTranscription"],C);const A=v(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&y(e,["setup","realtimeInputConfig"],A);const P=v(t,["contextWindowCompression"]);e!==void 0&&P!=null&&y(e,["setup","contextWindowCompression"],P);const O=v(t,["proactivity"]);e!==void 0&&O!=null&&y(e,["setup","proactivity"],O);const M=v(t,["explicitVadSignal"]);return e!==void 0&&M!=null&&y(e,["setup","explicitVadSignal"],M),n}function Tfe(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["setup","model"],Ye(t,r));const i=v(e,["config"]);return i!=null&&y(n,["config"],xfe(i,n)),n}function Afe(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["setup","model"],Ye(t,r));const i=v(e,["config"]);return i!=null&&y(n,["config"],Efe(i,n)),n}function Cfe(t){const e={},n=v(t,["musicGenerationConfig"]);return n!=null&&y(e,["musicGenerationConfig"],n),e}function Ofe(t){const e={},n=v(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["weightedPrompts"],r)}return e}function Rfe(t){const e={},n=v(t,["media"]);if(n!=null){let f=JB(n);Array.isArray(f)&&(f=f.map(h=>Eh(h))),y(e,["mediaChunks"],f)}const r=v(t,["audio"]);r!=null&&y(e,["audio"],Eh(QB(r)));const i=v(t,["audioStreamEnd"]);i!=null&&y(e,["audioStreamEnd"],i);const a=v(t,["video"]);a!=null&&y(e,["video"],Eh(XB(a)));const s=v(t,["text"]);s!=null&&y(e,["text"],s);const u=v(t,["activityStart"]);u!=null&&y(e,["activityStart"],u);const c=v(t,["activityEnd"]);return c!=null&&y(e,["activityEnd"],c),e}function Pfe(t){const e={},n=v(t,["media"]);if(n!=null){let f=JB(n);Array.isArray(f)&&(f=f.map(h=>h)),y(e,["mediaChunks"],f)}const r=v(t,["audio"]);r!=null&&y(e,["audio"],QB(r));const i=v(t,["audioStreamEnd"]);i!=null&&y(e,["audioStreamEnd"],i);const a=v(t,["video"]);a!=null&&y(e,["video"],XB(a));const s=v(t,["text"]);s!=null&&y(e,["text"],s);const u=v(t,["activityStart"]);u!=null&&y(e,["activityStart"],u);const c=v(t,["activityEnd"]);return c!=null&&y(e,["activityEnd"],c),e}function Mfe(t){const e={},n=v(t,["setupComplete"]);n!=null&&y(e,["setupComplete"],n);const r=v(t,["serverContent"]);r!=null&&y(e,["serverContent"],r);const i=v(t,["toolCall"]);i!=null&&y(e,["toolCall"],i);const a=v(t,["toolCallCancellation"]);a!=null&&y(e,["toolCallCancellation"],a);const s=v(t,["usageMetadata"]);s!=null&&y(e,["usageMetadata"],Lfe(s));const u=v(t,["goAway"]);u!=null&&y(e,["goAway"],u);const c=v(t,["sessionResumptionUpdate"]);c!=null&&y(e,["sessionResumptionUpdate"],c);const f=v(t,["voiceActivityDetectionSignal"]);return f!=null&&y(e,["voiceActivityDetectionSignal"],f),e}function Nfe(t){const e={},n=v(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&y(e,["fileData"],vfe(a));const s=v(t,["functionCall"]);s!=null&&y(e,["functionCall"],yfe(s));const u=v(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const c=v(t,["inlineData"]);c!=null&&y(e,["inlineData"],Eh(c));const f=v(t,["text"]);f!=null&&y(e,["text"],f);const h=v(t,["thought"]);h!=null&&y(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&y(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&y(e,["videoMetadata"],g),e}function Ife(t){const e={},n=v(t,["handle"]);if(n!=null&&y(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Dfe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),y(e,["functionDeclarations"],h)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const a=v(t,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const s=v(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],wfe(u));const c=v(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],Sfe(c));const f=v(t,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}function kfe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>bfe(g))),y(e,["functionDeclarations"],p)}const r=v(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=v(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const a=v(t,["computerUse"]);if(a!=null&&y(e,["computerUse"],a),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=v(t,["codeExecution"]);s!=null&&y(e,["codeExecution"],s);const u=v(t,["enterpriseWebSearch"]);u!=null&&y(e,["enterpriseWebSearch"],u);const c=v(t,["googleMaps"]);c!=null&&y(e,["googleMaps"],c);const f=v(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],f);const h=v(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function Lfe(t){const e={},n=v(t,["promptTokenCount"]);n!=null&&y(e,["promptTokenCount"],n);const r=v(t,["cachedContentTokenCount"]);r!=null&&y(e,["cachedContentTokenCount"],r);const i=v(t,["candidatesTokenCount"]);i!=null&&y(e,["responseTokenCount"],i);const a=v(t,["toolUsePromptTokenCount"]);a!=null&&y(e,["toolUsePromptTokenCount"],a);const s=v(t,["thoughtsTokenCount"]);s!=null&&y(e,["thoughtsTokenCount"],s);const u=v(t,["totalTokenCount"]);u!=null&&y(e,["totalTokenCount"],u);const c=v(t,["promptTokensDetails"]);if(c!=null){let b=c;Array.isArray(b)&&(b=b.map(x=>x)),y(e,["promptTokensDetails"],b)}const f=v(t,["cacheTokensDetails"]);if(f!=null){let b=f;Array.isArray(b)&&(b=b.map(x=>x)),y(e,["cacheTokensDetails"],b)}const h=v(t,["candidatesTokensDetails"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(x=>x)),y(e,["responseTokensDetails"],b)}const p=v(t,["toolUsePromptTokensDetails"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(x=>x)),y(e,["toolUsePromptTokensDetails"],b)}const g=v(t,["trafficType"]);return g!=null&&y(e,["trafficType"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ufe(t){const e={},n=v(t,["data"]);if(n!=null&&y(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function $fe(t){const e={},n=v(t,["content"]);n!=null&&y(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&y(e,["citationMetadata"],jfe(r));const i=v(t,["tokenCount"]);i!=null&&y(e,["tokenCount"],i);const a=v(t,["finishReason"]);a!=null&&y(e,["finishReason"],a);const s=v(t,["avgLogprobs"]);s!=null&&y(e,["avgLogprobs"],s);const u=v(t,["groundingMetadata"]);u!=null&&y(e,["groundingMetadata"],u);const c=v(t,["index"]);c!=null&&y(e,["index"],c);const f=v(t,["logprobsResult"]);f!=null&&y(e,["logprobsResult"],f);const h=v(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(b=>b)),y(e,["safetyRatings"],g)}const p=v(t,["urlContextMetadata"]);return p!=null&&y(e,["urlContextMetadata"],p),e}function jfe(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["citations"],r)}return e}function qfe(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["contents"]);if(i!=null){let a=pr(i);Array.isArray(a)&&(a=a.map(s=>s)),y(n,["contents"],a)}return n}function Bfe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(e,["tokensInfo"],i)}return e}function Hfe(t){const e={},n=v(t,["values"]);n!=null&&y(e,["values"],n);const r=v(t,["statistics"]);return r!=null&&y(e,["statistics"],Gfe(r)),e}function Gfe(t){const e={},n=v(t,["truncated"]);n!=null&&y(e,["truncated"],n);const r=v(t,["token_count"]);return r!=null&&y(e,["tokenCount"],r),e}function Im(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Qde(a))),y(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&y(e,["role"],r),e}function zfe(t){const e={},n=v(t,["controlType"]);n!=null&&y(e,["controlType"],n);const r=v(t,["enableControlImageComputation"]);return r!=null&&y(e,["computeControl"],r),e}function Vfe(t){const e={};if(v(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(v(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(v(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Ffe(t,e){const n={},r=v(t,["systemInstruction"]);e!==void 0&&r!=null&&y(e,["systemInstruction"],mn(r));const i=v(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>d3(u))),y(e,["tools"],s)}const a=v(t,["generationConfig"]);return e!==void 0&&a!=null&&y(e,["generationConfig"],Ude(a)),n}function Kfe(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["contents"]);if(i!=null){let s=pr(i);Array.isArray(s)&&(s=s.map(u=>Im(u))),y(n,["contents"],s)}const a=v(e,["config"]);return a!=null&&Vfe(a),n}function Wfe(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["contents"]);if(i!=null){let s=pr(i);Array.isArray(s)&&(s=s.map(u=>u)),y(n,["contents"],s)}const a=v(e,["config"]);return a!=null&&Ffe(a,n),n}function Yfe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["totalTokens"]);r!=null&&y(e,["totalTokens"],r);const i=v(t,["cachedContentTokenCount"]);return i!=null&&y(e,["cachedContentTokenCount"],i),e}function Jfe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["totalTokens"]);return r!=null&&y(e,["totalTokens"],r),e}function Xfe(t,e){const n={},r=v(e,["model"]);return r!=null&&y(n,["_url","name"],Ye(t,r)),n}function Qfe(t,e){const n={},r=v(e,["model"]);return r!=null&&y(n,["_url","name"],Ye(t,r)),n}function Zfe(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function ede(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function tde(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=v(t,["negativePrompt"]);e!==void 0&&i!=null&&y(e,["parameters","negativePrompt"],i);const a=v(t,["numberOfImages"]);e!==void 0&&a!=null&&y(e,["parameters","sampleCount"],a);const s=v(t,["aspectRatio"]);e!==void 0&&s!=null&&y(e,["parameters","aspectRatio"],s);const u=v(t,["guidanceScale"]);e!==void 0&&u!=null&&y(e,["parameters","guidanceScale"],u);const c=v(t,["seed"]);e!==void 0&&c!=null&&y(e,["parameters","seed"],c);const f=v(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&y(e,["parameters","safetySetting"],f);const h=v(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const p=v(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&y(e,["parameters","includeSafetyAttributes"],p);const g=v(t,["includeRaiReason"]);e!==void 0&&g!=null&&y(e,["parameters","includeRaiReason"],g);const b=v(t,["language"]);e!==void 0&&b!=null&&y(e,["parameters","language"],b);const x=v(t,["outputMimeType"]);e!==void 0&&x!=null&&y(e,["parameters","outputOptions","mimeType"],x);const E=v(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&y(e,["parameters","outputOptions","compressionQuality"],E);const w=v(t,["addWatermark"]);e!==void 0&&w!=null&&y(e,["parameters","addWatermark"],w);const T=v(t,["labels"]);e!==void 0&&T!=null&&y(e,["labels"],T);const C=v(t,["editMode"]);e!==void 0&&C!=null&&y(e,["parameters","editMode"],C);const A=v(t,["baseSteps"]);return e!==void 0&&A!=null&&y(e,["parameters","editConfig","baseSteps"],A),n}function nde(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=v(e,["referenceImages"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>ihe(c))),y(n,["instances[0]","referenceImages"],u)}const s=v(e,["config"]);return s!=null&&tde(s,n),n}function rde(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Dm(a))),y(e,["generatedImages"],i)}return e}function ide(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&y(e,["requests[]","taskType"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&y(e,["requests[]","title"],i);const a=v(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&y(e,["requests[]","outputDimensionality"],a),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function ade(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&y(e,["instances[]","task_type"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&y(e,["instances[]","title"],i);const a=v(t,["outputDimensionality"]);e!==void 0&&a!=null&&y(e,["parameters","outputDimensionality"],a);const s=v(t,["mimeType"]);e!==void 0&&s!=null&&y(e,["instances[]","mimeType"],s);const u=v(t,["autoTruncate"]);return e!==void 0&&u!=null&&y(e,["parameters","autoTruncate"],u),n}function ode(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["contents"]);if(i!=null){let u=yT(t,i);Array.isArray(u)&&(u=u.map(c=>c)),y(n,["requests[]","content"],u)}const a=v(e,["config"]);a!=null&&ide(a,n);const s=v(e,["model"]);return s!==void 0&&y(n,["requests[]","model"],Ye(t,s)),n}function sde(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["contents"]);if(i!=null){let s=yT(t,i);Array.isArray(s)&&(s=s.map(u=>u)),y(n,["instances[]","content"],s)}const a=v(e,["config"]);return a!=null&&ade(a,n),n}function lde(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["embeddings"],a)}const i=v(t,["metadata"]);return i!=null&&y(e,["metadata"],i),e}function ude(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Hfe(s))),y(e,["embeddings"],a)}const i=v(t,["metadata"]);return i!=null&&y(e,["metadata"],i),e}function cde(t){const e={},n=v(t,["endpoint"]);n!=null&&y(e,["name"],n);const r=v(t,["deployedModelId"]);return r!=null&&y(e,["deployedModelId"],r),e}function fde(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function dde(t){const e={},n=v(t,["id"]);n!=null&&y(e,["id"],n);const r=v(t,["args"]);r!=null&&y(e,["args"],r);const i=v(t,["name"]);if(i!=null&&y(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function hde(t){const e={},n=v(t,["mode"]);n!=null&&y(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function pde(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&y(e,["description"],n);const r=v(t,["name"]);r!=null&&y(e,["name"],r);const i=v(t,["parameters"]);i!=null&&y(e,["parameters"],i);const a=v(t,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const s=v(t,["response"]);s!=null&&y(e,["response"],s);const u=v(t,["responseJsonSchema"]);return u!=null&&y(e,["responseJsonSchema"],u),e}function mde(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],Im(mn(i)));const a=v(e,["temperature"]);a!=null&&y(r,["temperature"],a);const s=v(e,["topP"]);s!=null&&y(r,["topP"],s);const u=v(e,["topK"]);u!=null&&y(r,["topK"],u);const c=v(e,["candidateCount"]);c!=null&&y(r,["candidateCount"],c);const f=v(e,["maxOutputTokens"]);f!=null&&y(r,["maxOutputTokens"],f);const h=v(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const p=v(e,["responseLogprobs"]);p!=null&&y(r,["responseLogprobs"],p);const g=v(e,["logprobs"]);g!=null&&y(r,["logprobs"],g);const b=v(e,["presencePenalty"]);b!=null&&y(r,["presencePenalty"],b);const x=v(e,["frequencyPenalty"]);x!=null&&y(r,["frequencyPenalty"],x);const E=v(e,["seed"]);E!=null&&y(r,["seed"],E);const w=v(e,["responseMimeType"]);w!=null&&y(r,["responseMimeType"],w);const T=v(e,["responseSchema"]);T!=null&&y(r,["responseSchema"],bT(T));const C=v(e,["responseJsonSchema"]);if(C!=null&&y(r,["responseJsonSchema"],C),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=v(e,["safetySettings"]);if(n!==void 0&&A!=null){let F=A;Array.isArray(F)&&(F=F.map(X=>ahe(X))),y(n,["safetySettings"],F)}const P=v(e,["tools"]);if(n!==void 0&&P!=null){let F=Ul(P);Array.isArray(F)&&(F=F.map(X=>dhe(Ll(X)))),y(n,["tools"],F)}const O=v(e,["toolConfig"]);if(n!==void 0&&O!=null&&y(n,["toolConfig"],fhe(O)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=v(e,["cachedContent"]);n!==void 0&&M!=null&&y(n,["cachedContent"],Fi(t,M));const I=v(e,["responseModalities"]);I!=null&&y(r,["responseModalities"],I);const k=v(e,["mediaResolution"]);k!=null&&y(r,["mediaResolution"],k);const L=v(e,["speechConfig"]);if(L!=null&&y(r,["speechConfig"],_T(L)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=v(e,["thinkingConfig"]);G!=null&&y(r,["thinkingConfig"],G);const $=v(e,["imageConfig"]);$!=null&&y(r,["imageConfig"],Hde($));const W=v(e,["enableEnhancedCivicAnswers"]);return W!=null&&y(r,["enableEnhancedCivicAnswers"],W),r}function gde(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],mn(i));const a=v(e,["temperature"]);a!=null&&y(r,["temperature"],a);const s=v(e,["topP"]);s!=null&&y(r,["topP"],s);const u=v(e,["topK"]);u!=null&&y(r,["topK"],u);const c=v(e,["candidateCount"]);c!=null&&y(r,["candidateCount"],c);const f=v(e,["maxOutputTokens"]);f!=null&&y(r,["maxOutputTokens"],f);const h=v(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const p=v(e,["responseLogprobs"]);p!=null&&y(r,["responseLogprobs"],p);const g=v(e,["logprobs"]);g!=null&&y(r,["logprobs"],g);const b=v(e,["presencePenalty"]);b!=null&&y(r,["presencePenalty"],b);const x=v(e,["frequencyPenalty"]);x!=null&&y(r,["frequencyPenalty"],x);const E=v(e,["seed"]);E!=null&&y(r,["seed"],E);const w=v(e,["responseMimeType"]);w!=null&&y(r,["responseMimeType"],w);const T=v(e,["responseSchema"]);T!=null&&y(r,["responseSchema"],bT(T));const C=v(e,["responseJsonSchema"]);C!=null&&y(r,["responseJsonSchema"],C);const A=v(e,["routingConfig"]);A!=null&&y(r,["routingConfig"],A);const P=v(e,["modelSelectionConfig"]);P!=null&&y(r,["modelConfig"],P);const O=v(e,["safetySettings"]);if(n!==void 0&&O!=null){let U=O;Array.isArray(U)&&(U=U.map(K=>K)),y(n,["safetySettings"],U)}const M=v(e,["tools"]);if(n!==void 0&&M!=null){let U=Ul(M);Array.isArray(U)&&(U=U.map(K=>d3(Ll(K)))),y(n,["tools"],U)}const I=v(e,["toolConfig"]);n!==void 0&&I!=null&&y(n,["toolConfig"],I);const k=v(e,["labels"]);n!==void 0&&k!=null&&y(n,["labels"],k);const L=v(e,["cachedContent"]);n!==void 0&&L!=null&&y(n,["cachedContent"],Fi(t,L));const G=v(e,["responseModalities"]);G!=null&&y(r,["responseModalities"],G);const $=v(e,["mediaResolution"]);$!=null&&y(r,["mediaResolution"],$);const W=v(e,["speechConfig"]);W!=null&&y(r,["speechConfig"],_T(W));const F=v(e,["audioTimestamp"]);F!=null&&y(r,["audioTimestamp"],F);const X=v(e,["thinkingConfig"]);X!=null&&y(r,["thinkingConfig"],X);const B=v(e,["imageConfig"]);if(B!=null&&y(r,["imageConfig"],Gde(B)),v(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function XL(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["contents"]);if(i!=null){let s=pr(i);Array.isArray(s)&&(s=s.map(u=>Im(u))),y(n,["contents"],s)}const a=v(e,["config"]);return a!=null&&y(n,["generationConfig"],mde(t,a,n)),n}function QL(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["contents"]);if(i!=null){let s=pr(i);Array.isArray(s)&&(s=s.map(u=>u)),y(n,["contents"],s)}const a=v(e,["config"]);return a!=null&&y(n,["generationConfig"],gde(t,a,n)),n}function ZL(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>$fe(f))),y(e,["candidates"],c)}const i=v(t,["modelVersion"]);i!=null&&y(e,["modelVersion"],i);const a=v(t,["promptFeedback"]);a!=null&&y(e,["promptFeedback"],a);const s=v(t,["responseId"]);s!=null&&y(e,["responseId"],s);const u=v(t,["usageMetadata"]);return u!=null&&y(e,["usageMetadata"],u),e}function eU(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),y(e,["candidates"],f)}const i=v(t,["createTime"]);i!=null&&y(e,["createTime"],i);const a=v(t,["modelVersion"]);a!=null&&y(e,["modelVersion"],a);const s=v(t,["promptFeedback"]);s!=null&&y(e,["promptFeedback"],s);const u=v(t,["responseId"]);u!=null&&y(e,["responseId"],u);const c=v(t,["usageMetadata"]);return c!=null&&y(e,["usageMetadata"],c),e}function vde(t,e){const n={};if(v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=v(t,["aspectRatio"]);e!==void 0&&i!=null&&y(e,["parameters","aspectRatio"],i);const a=v(t,["guidanceScale"]);if(e!==void 0&&a!=null&&y(e,["parameters","guidanceScale"],a),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=v(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&y(e,["parameters","safetySetting"],s);const u=v(t,["personGeneration"]);e!==void 0&&u!=null&&y(e,["parameters","personGeneration"],u);const c=v(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&y(e,["parameters","includeSafetyAttributes"],c);const f=v(t,["includeRaiReason"]);e!==void 0&&f!=null&&y(e,["parameters","includeRaiReason"],f);const h=v(t,["language"]);e!==void 0&&h!=null&&y(e,["parameters","language"],h);const p=v(t,["outputMimeType"]);e!==void 0&&p!=null&&y(e,["parameters","outputOptions","mimeType"],p);const g=v(t,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&y(e,["parameters","outputOptions","compressionQuality"],g),v(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=v(t,["imageSize"]);if(e!==void 0&&b!=null&&y(e,["parameters","sampleImageSize"],b),v(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function yde(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=v(t,["negativePrompt"]);e!==void 0&&i!=null&&y(e,["parameters","negativePrompt"],i);const a=v(t,["numberOfImages"]);e!==void 0&&a!=null&&y(e,["parameters","sampleCount"],a);const s=v(t,["aspectRatio"]);e!==void 0&&s!=null&&y(e,["parameters","aspectRatio"],s);const u=v(t,["guidanceScale"]);e!==void 0&&u!=null&&y(e,["parameters","guidanceScale"],u);const c=v(t,["seed"]);e!==void 0&&c!=null&&y(e,["parameters","seed"],c);const f=v(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&y(e,["parameters","safetySetting"],f);const h=v(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const p=v(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&y(e,["parameters","includeSafetyAttributes"],p);const g=v(t,["includeRaiReason"]);e!==void 0&&g!=null&&y(e,["parameters","includeRaiReason"],g);const b=v(t,["language"]);e!==void 0&&b!=null&&y(e,["parameters","language"],b);const x=v(t,["outputMimeType"]);e!==void 0&&x!=null&&y(e,["parameters","outputOptions","mimeType"],x);const E=v(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&y(e,["parameters","outputOptions","compressionQuality"],E);const w=v(t,["addWatermark"]);e!==void 0&&w!=null&&y(e,["parameters","addWatermark"],w);const T=v(t,["labels"]);e!==void 0&&T!=null&&y(e,["labels"],T);const C=v(t,["imageSize"]);e!==void 0&&C!=null&&y(e,["parameters","sampleImageSize"],C);const A=v(t,["enhancePrompt"]);return e!==void 0&&A!=null&&y(e,["parameters","enhancePrompt"],A),n}function bde(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=v(e,["config"]);return a!=null&&vde(a,n),n}function _de(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=v(e,["config"]);return a!=null&&yde(a,n),n}function wde(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Ide(s))),y(e,["generatedImages"],a)}const i=v(t,["positivePromptSafetyAttributes"]);return i!=null&&y(e,["positivePromptSafetyAttributes"],c3(i)),e}function Sde(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Dm(s))),y(e,["generatedImages"],a)}const i=v(t,["positivePromptSafetyAttributes"]);return i!=null&&y(e,["positivePromptSafetyAttributes"],f3(i)),e}function xde(t,e){const n={},r=v(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r),v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=v(t,["durationSeconds"]);if(e!==void 0&&i!=null&&y(e,["parameters","durationSeconds"],i),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=v(t,["aspectRatio"]);e!==void 0&&a!=null&&y(e,["parameters","aspectRatio"],a);const s=v(t,["resolution"]);e!==void 0&&s!=null&&y(e,["parameters","resolution"],s);const u=v(t,["personGeneration"]);if(e!==void 0&&u!=null&&y(e,["parameters","personGeneration"],u),v(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=v(t,["negativePrompt"]);e!==void 0&&c!=null&&y(e,["parameters","negativePrompt"],c);const f=v(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&y(e,["parameters","enhancePrompt"],f),v(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=v(t,["lastFrame"]);e!==void 0&&h!=null&&y(e,["instances[0]","lastFrame"],km(h));const p=v(t,["referenceImages"]);if(e!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(b=>The(b))),y(e,["instances[0]","referenceImages"],g)}if(v(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(v(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Ede(t,e){const n={},r=v(t,["numberOfVideos"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=v(t,["outputGcsUri"]);e!==void 0&&i!=null&&y(e,["parameters","storageUri"],i);const a=v(t,["fps"]);e!==void 0&&a!=null&&y(e,["parameters","fps"],a);const s=v(t,["durationSeconds"]);e!==void 0&&s!=null&&y(e,["parameters","durationSeconds"],s);const u=v(t,["seed"]);e!==void 0&&u!=null&&y(e,["parameters","seed"],u);const c=v(t,["aspectRatio"]);e!==void 0&&c!=null&&y(e,["parameters","aspectRatio"],c);const f=v(t,["resolution"]);e!==void 0&&f!=null&&y(e,["parameters","resolution"],f);const h=v(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const p=v(t,["pubsubTopic"]);e!==void 0&&p!=null&&y(e,["parameters","pubsubTopic"],p);const g=v(t,["negativePrompt"]);e!==void 0&&g!=null&&y(e,["parameters","negativePrompt"],g);const b=v(t,["enhancePrompt"]);e!==void 0&&b!=null&&y(e,["parameters","enhancePrompt"],b);const x=v(t,["generateAudio"]);e!==void 0&&x!=null&&y(e,["parameters","generateAudio"],x);const E=v(t,["lastFrame"]);e!==void 0&&E!=null&&y(e,["instances[0]","lastFrame"],jr(E));const w=v(t,["referenceImages"]);if(e!==void 0&&w!=null){let A=w;Array.isArray(A)&&(A=A.map(P=>Ahe(P))),y(e,["instances[0]","referenceImages"],A)}const T=v(t,["mask"]);e!==void 0&&T!=null&&y(e,["instances[0]","mask"],Ehe(T));const C=v(t,["compressionQuality"]);return e!==void 0&&C!=null&&y(e,["parameters","compressionQuality"],C),n}function Tde(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=v(t,["done"]);i!=null&&y(e,["done"],i);const a=v(t,["error"]);a!=null&&y(e,["error"],a);const s=v(t,["response","generateVideoResponse"]);return s!=null&&y(e,["response"],Rde(s)),e}function Ade(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=v(t,["done"]);i!=null&&y(e,["done"],i);const a=v(t,["error"]);a!=null&&y(e,["error"],a);const s=v(t,["response"]);return s!=null&&y(e,["response"],Pde(s)),e}function Cde(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=v(e,["image"]);a!=null&&y(n,["instances[0]","image"],km(a));const s=v(e,["video"]);s!=null&&y(n,["instances[0]","video"],h3(s));const u=v(e,["source"]);u!=null&&Mde(u,n);const c=v(e,["config"]);return c!=null&&xde(c,n),n}function Ode(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=v(e,["image"]);a!=null&&y(n,["instances[0]","image"],jr(a));const s=v(e,["video"]);s!=null&&y(n,["instances[0]","video"],p3(s));const u=v(e,["source"]);u!=null&&Nde(u,n);const c=v(e,["config"]);return c!=null&&Ede(c,n),n}function Rde(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>kde(s))),y(e,["generatedVideos"],a)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function Pde(t){const e={},n=v(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Lde(s))),y(e,["generatedVideos"],a)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function Mde(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],km(i));const a=v(t,["video"]);return e!==void 0&&a!=null&&y(e,["instances[0]","video"],h3(a)),n}function Nde(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],jr(i));const a=v(t,["video"]);return e!==void 0&&a!=null&&y(e,["instances[0]","video"],p3(a)),n}function Ide(t){const e={},n=v(t,["_self"]);n!=null&&y(e,["image"],zde(n));const r=v(t,["raiFilteredReason"]);r!=null&&y(e,["raiFilteredReason"],r);const i=v(t,["_self"]);return i!=null&&y(e,["safetyAttributes"],c3(i)),e}function Dm(t){const e={},n=v(t,["_self"]);n!=null&&y(e,["image"],u3(n));const r=v(t,["raiFilteredReason"]);r!=null&&y(e,["raiFilteredReason"],r);const i=v(t,["_self"]);i!=null&&y(e,["safetyAttributes"],f3(i));const a=v(t,["prompt"]);return a!=null&&y(e,["enhancedPrompt"],a),e}function Dde(t){const e={},n=v(t,["_self"]);n!=null&&y(e,["mask"],u3(n));const r=v(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(e,["labels"],i)}return e}function kde(t){const e={},n=v(t,["video"]);return n!=null&&y(e,["video"],She(n)),e}function Lde(t){const e={},n=v(t,["_self"]);return n!=null&&y(e,["video"],xhe(n)),e}function Ude(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const r=v(t,["responseJsonSchema"]);r!=null&&y(e,["responseJsonSchema"],r);const i=v(t,["audioTimestamp"]);i!=null&&y(e,["audioTimestamp"],i);const a=v(t,["candidateCount"]);a!=null&&y(e,["candidateCount"],a);const s=v(t,["enableAffectiveDialog"]);s!=null&&y(e,["enableAffectiveDialog"],s);const u=v(t,["frequencyPenalty"]);u!=null&&y(e,["frequencyPenalty"],u);const c=v(t,["logprobs"]);c!=null&&y(e,["logprobs"],c);const f=v(t,["maxOutputTokens"]);f!=null&&y(e,["maxOutputTokens"],f);const h=v(t,["mediaResolution"]);h!=null&&y(e,["mediaResolution"],h);const p=v(t,["presencePenalty"]);p!=null&&y(e,["presencePenalty"],p);const g=v(t,["responseLogprobs"]);g!=null&&y(e,["responseLogprobs"],g);const b=v(t,["responseMimeType"]);b!=null&&y(e,["responseMimeType"],b);const x=v(t,["responseModalities"]);x!=null&&y(e,["responseModalities"],x);const E=v(t,["responseSchema"]);E!=null&&y(e,["responseSchema"],E);const w=v(t,["routingConfig"]);w!=null&&y(e,["routingConfig"],w);const T=v(t,["seed"]);T!=null&&y(e,["seed"],T);const C=v(t,["speechConfig"]);C!=null&&y(e,["speechConfig"],C);const A=v(t,["stopSequences"]);A!=null&&y(e,["stopSequences"],A);const P=v(t,["temperature"]);P!=null&&y(e,["temperature"],P);const O=v(t,["thinkingConfig"]);O!=null&&y(e,["thinkingConfig"],O);const M=v(t,["topK"]);M!=null&&y(e,["topK"],M);const I=v(t,["topP"]);if(I!=null&&y(e,["topP"],I),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function $de(t,e){const n={},r=v(e,["model"]);return r!=null&&y(n,["_url","name"],Ye(t,r)),n}function jde(t,e){const n={},r=v(e,["model"]);return r!=null&&y(n,["_url","name"],Ye(t,r)),n}function qde(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function Bde(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function Hde(t){const e={},n=v(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=v(t,["imageSize"]);if(r!=null&&y(e,["imageSize"],r),v(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Gde(t){const e={},n=v(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=v(t,["imageSize"]);r!=null&&y(e,["imageSize"],r);const i=v(t,["outputMimeType"]);i!=null&&y(e,["imageOutputOptions","mimeType"],i);const a=v(t,["outputCompressionQuality"]);return a!=null&&y(e,["imageOutputOptions","compressionQuality"],a),e}function zde(t){const e={},n=v(t,["bytesBase64Encoded"]);n!=null&&y(e,["imageBytes"],Da(n));const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function u3(t){const e={},n=v(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&y(e,["imageBytes"],Da(r));const i=v(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function km(t){const e={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=v(t,["imageBytes"]);n!=null&&y(e,["bytesBase64Encoded"],Da(n));const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function jr(t){const e={},n=v(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const r=v(t,["imageBytes"]);r!=null&&y(e,["bytesBase64Encoded"],Da(r));const i=v(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function Vde(t,e,n){const r={},i=v(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const a=v(e,["pageToken"]);n!==void 0&&a!=null&&y(n,["_query","pageToken"],a);const s=v(e,["filter"]);n!==void 0&&s!=null&&y(n,["_query","filter"],s);const u=v(e,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],n3(t,u)),r}function Fde(t,e,n){const r={},i=v(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const a=v(e,["pageToken"]);n!==void 0&&a!=null&&y(n,["_query","pageToken"],a);const s=v(e,["filter"]);n!==void 0&&s!=null&&y(n,["_query","filter"],s);const u=v(e,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],n3(t,u)),r}function Kde(t,e){const n={},r=v(e,["config"]);return r!=null&&Vde(t,r,n),n}function Wde(t,e){const n={},r=v(e,["config"]);return r!=null&&Fde(t,r,n),n}function Yde(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=v(t,["_self"]);if(i!=null){let a=r3(i);Array.isArray(a)&&(a=a.map(s=>Ux(s))),y(e,["models"],a)}return e}function Jde(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=v(t,["_self"]);if(i!=null){let a=r3(i);Array.isArray(a)&&(a=a.map(s=>$x(s))),y(e,["models"],a)}return e}function Xde(t){const e={},n=v(t,["maskMode"]);n!=null&&y(e,["maskMode"],n);const r=v(t,["segmentationClasses"]);r!=null&&y(e,["maskClasses"],r);const i=v(t,["maskDilation"]);return i!=null&&y(e,["dilation"],i),e}function Ux(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=v(t,["description"]);i!=null&&y(e,["description"],i);const a=v(t,["version"]);a!=null&&y(e,["version"],a);const s=v(t,["_self"]);s!=null&&y(e,["tunedModelInfo"],hhe(s));const u=v(t,["inputTokenLimit"]);u!=null&&y(e,["inputTokenLimit"],u);const c=v(t,["outputTokenLimit"]);c!=null&&y(e,["outputTokenLimit"],c);const f=v(t,["supportedGenerationMethods"]);f!=null&&y(e,["supportedActions"],f);const h=v(t,["temperature"]);h!=null&&y(e,["temperature"],h);const p=v(t,["maxTemperature"]);p!=null&&y(e,["maxTemperature"],p);const g=v(t,["topP"]);g!=null&&y(e,["topP"],g);const b=v(t,["topK"]);b!=null&&y(e,["topK"],b);const x=v(t,["thinking"]);return x!=null&&y(e,["thinking"],x),e}function $x(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=v(t,["description"]);i!=null&&y(e,["description"],i);const a=v(t,["versionId"]);a!=null&&y(e,["version"],a);const s=v(t,["deployedModels"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>cde(g))),y(e,["endpoints"],p)}const u=v(t,["labels"]);u!=null&&y(e,["labels"],u);const c=v(t,["_self"]);c!=null&&y(e,["tunedModelInfo"],phe(c));const f=v(t,["defaultCheckpointId"]);f!=null&&y(e,["defaultCheckpointId"],f);const h=v(t,["checkpoints"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(g=>g)),y(e,["checkpoints"],p)}return e}function Qde(t){const e={},n=v(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&y(e,["fileData"],fde(a));const s=v(t,["functionCall"]);s!=null&&y(e,["functionCall"],dde(s));const u=v(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const c=v(t,["inlineData"]);c!=null&&y(e,["inlineData"],Ufe(c));const f=v(t,["text"]);f!=null&&y(e,["text"],f);const h=v(t,["thought"]);h!=null&&y(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&y(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&y(e,["videoMetadata"],g),e}function Zde(t){const e={},n=v(t,["productImage"]);return n!=null&&y(e,["image"],jr(n)),e}function ehe(t,e){const n={},r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=v(t,["baseSteps"]);e!==void 0&&i!=null&&y(e,["parameters","baseSteps"],i);const a=v(t,["outputGcsUri"]);e!==void 0&&a!=null&&y(e,["parameters","storageUri"],a);const s=v(t,["seed"]);e!==void 0&&s!=null&&y(e,["parameters","seed"],s);const u=v(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&y(e,["parameters","safetySetting"],u);const c=v(t,["personGeneration"]);e!==void 0&&c!=null&&y(e,["parameters","personGeneration"],c);const f=v(t,["addWatermark"]);e!==void 0&&f!=null&&y(e,["parameters","addWatermark"],f);const h=v(t,["outputMimeType"]);e!==void 0&&h!=null&&y(e,["parameters","outputOptions","mimeType"],h);const p=v(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&y(e,["parameters","outputOptions","compressionQuality"],p);const g=v(t,["enhancePrompt"]);e!==void 0&&g!=null&&y(e,["parameters","enhancePrompt"],g);const b=v(t,["labels"]);return e!==void 0&&b!=null&&y(e,["labels"],b),n}function the(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["source"]);i!=null&&rhe(i,n);const a=v(e,["config"]);return a!=null&&ehe(a,n),n}function nhe(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Dm(i))),y(e,["generatedImages"],r)}return e}function rhe(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=v(t,["personImage"]);e!==void 0&&i!=null&&y(e,["instances[0]","personImage","image"],jr(i));const a=v(t,["productImages"]);if(e!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>Zde(u))),y(e,["instances[0]","productImages"],s)}return n}function ihe(t){const e={},n=v(t,["referenceImage"]);n!=null&&y(e,["referenceImage"],jr(n));const r=v(t,["referenceId"]);r!=null&&y(e,["referenceId"],r);const i=v(t,["referenceType"]);i!=null&&y(e,["referenceType"],i);const a=v(t,["maskImageConfig"]);a!=null&&y(e,["maskImageConfig"],Xde(a));const s=v(t,["controlImageConfig"]);s!=null&&y(e,["controlImageConfig"],zfe(s));const u=v(t,["styleImageConfig"]);u!=null&&y(e,["styleImageConfig"],u);const c=v(t,["subjectImageConfig"]);return c!=null&&y(e,["subjectImageConfig"],c),e}function c3(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&y(e,["scores"],r);const i=v(t,["contentType"]);return i!=null&&y(e,["contentType"],i),e}function f3(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&y(e,["scores"],r);const i=v(t,["contentType"]);return i!=null&&y(e,["contentType"],i),e}function ahe(t){const e={},n=v(t,["category"]);if(n!=null&&y(e,["category"],n),v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(t,["threshold"]);return r!=null&&y(e,["threshold"],r),e}function ohe(t){const e={},n=v(t,["image"]);return n!=null&&y(e,["image"],jr(n)),e}function she(t,e){const n={},r=v(t,["mode"]);e!==void 0&&r!=null&&y(e,["parameters","mode"],r);const i=v(t,["maxPredictions"]);e!==void 0&&i!=null&&y(e,["parameters","maxPredictions"],i);const a=v(t,["confidenceThreshold"]);e!==void 0&&a!=null&&y(e,["parameters","confidenceThreshold"],a);const s=v(t,["maskDilation"]);e!==void 0&&s!=null&&y(e,["parameters","maskDilation"],s);const u=v(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&y(e,["parameters","binaryColorThreshold"],u);const c=v(t,["labels"]);return e!==void 0&&c!=null&&y(e,["labels"],c),n}function lhe(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["source"]);i!=null&&che(i,n);const a=v(e,["config"]);return a!=null&&she(a,n),n}function uhe(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Dde(i))),y(e,["generatedMasks"],r)}return e}function che(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],jr(i));const a=v(t,["scribbleImage"]);return e!==void 0&&a!=null&&y(e,["instances[0]","scribble"],ohe(a)),n}function fhe(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],hde(n));const r=v(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function dhe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),y(e,["functionDeclarations"],h)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const a=v(t,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const s=v(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],qde(u));const c=v(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],Bde(c));const f=v(t,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}function d3(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>pde(g))),y(e,["functionDeclarations"],p)}const r=v(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=v(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const a=v(t,["computerUse"]);if(a!=null&&y(e,["computerUse"],a),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=v(t,["codeExecution"]);s!=null&&y(e,["codeExecution"],s);const u=v(t,["enterpriseWebSearch"]);u!=null&&y(e,["enterpriseWebSearch"],u);const c=v(t,["googleMaps"]);c!=null&&y(e,["googleMaps"],c);const f=v(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],f);const h=v(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function hhe(t){const e={},n=v(t,["baseModel"]);n!=null&&y(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&y(e,["createTime"],r);const i=v(t,["updateTime"]);return i!=null&&y(e,["updateTime"],i),e}function phe(t){const e={},n=v(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&y(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&y(e,["createTime"],r);const i=v(t,["updateTime"]);return i!=null&&y(e,["updateTime"],i),e}function mhe(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=v(t,["description"]);e!==void 0&&i!=null&&y(e,["description"],i);const a=v(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&y(e,["defaultCheckpointId"],a),n}function ghe(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=v(t,["description"]);e!==void 0&&i!=null&&y(e,["description"],i);const a=v(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&y(e,["defaultCheckpointId"],a),n}function vhe(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","name"],Ye(t,r));const i=v(e,["config"]);return i!=null&&mhe(i,n),n}function yhe(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["config"]);return i!=null&&ghe(i,n),n}function bhe(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=v(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&y(e,["parameters","safetySetting"],i);const a=v(t,["personGeneration"]);e!==void 0&&a!=null&&y(e,["parameters","personGeneration"],a);const s=v(t,["includeRaiReason"]);e!==void 0&&s!=null&&y(e,["parameters","includeRaiReason"],s);const u=v(t,["outputMimeType"]);e!==void 0&&u!=null&&y(e,["parameters","outputOptions","mimeType"],u);const c=v(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&y(e,["parameters","outputOptions","compressionQuality"],c);const f=v(t,["enhanceInputImage"]);e!==void 0&&f!=null&&y(e,["parameters","upscaleConfig","enhanceInputImage"],f);const h=v(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&y(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const p=v(t,["labels"]);e!==void 0&&p!=null&&y(e,["labels"],p);const g=v(t,["numberOfImages"]);e!==void 0&&g!=null&&y(e,["parameters","sampleCount"],g);const b=v(t,["mode"]);return e!==void 0&&b!=null&&y(e,["parameters","mode"],b),n}function _he(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["_url","model"],Ye(t,r));const i=v(e,["image"]);i!=null&&y(n,["instances[0]","image"],jr(i));const a=v(e,["upscaleFactor"]);a!=null&&y(n,["parameters","upscaleConfig","upscaleFactor"],a);const s=v(e,["config"]);return s!=null&&bhe(s,n),n}function whe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Dm(a))),y(e,["generatedImages"],i)}return e}function She(t){const e={},n=v(t,["uri"]);n!=null&&y(e,["uri"],n);const r=v(t,["encodedVideo"]);r!=null&&y(e,["videoBytes"],Da(r));const i=v(t,["encoding"]);return i!=null&&y(e,["mimeType"],i),e}function xhe(t){const e={},n=v(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&y(e,["videoBytes"],Da(r));const i=v(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function Ehe(t){const e={},n=v(t,["image"]);n!=null&&y(e,["_self"],jr(n));const r=v(t,["maskMode"]);return r!=null&&y(e,["maskMode"],r),e}function The(t){const e={},n=v(t,["image"]);n!=null&&y(e,["image"],km(n));const r=v(t,["referenceType"]);return r!=null&&y(e,["referenceType"],r),e}function Ahe(t){const e={},n=v(t,["image"]);n!=null&&y(e,["image"],jr(n));const r=v(t,["referenceType"]);return r!=null&&y(e,["referenceType"],r),e}function h3(t){const e={},n=v(t,["uri"]);n!=null&&y(e,["uri"],n);const r=v(t,["videoBytes"]);r!=null&&y(e,["encodedVideo"],Da(r));const i=v(t,["mimeType"]);return i!=null&&y(e,["encoding"],i),e}function p3(t){const e={},n=v(t,["uri"]);n!=null&&y(e,["gcsUri"],n);const r=v(t,["videoBytes"]);r!=null&&y(e,["bytesBase64Encoded"],Da(r));const i=v(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Che(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&y(e,["displayName"],r),n}function Ohe(t){const e={},n=v(t,["config"]);return n!=null&&Che(n,e),e}function Rhe(t,e){const n={},r=v(t,["force"]);return e!==void 0&&r!=null&&y(e,["_query","force"],r),n}function Phe(t){const e={},n=v(t,["name"]);n!=null&&y(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&Rhe(r,e),e}function Mhe(t){const e={},n=v(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function Nhe(t,e){const n={},r=v(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["customMetadata"],a)}const i=v(t,["chunkingConfig"]);return e!==void 0&&i!=null&&y(e,["chunkingConfig"],i),n}function Ihe(t){const e={},n=v(t,["name"]);n!=null&&y(e,["name"],n);const r=v(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=v(t,["done"]);i!=null&&y(e,["done"],i);const a=v(t,["error"]);a!=null&&y(e,["error"],a);const s=v(t,["response"]);return s!=null&&y(e,["response"],khe(s)),e}function Dhe(t){const e={},n=v(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);const r=v(t,["fileName"]);r!=null&&y(e,["fileName"],r);const i=v(t,["config"]);return i!=null&&Nhe(i,e),e}function khe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&y(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function Lhe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function Uhe(t){const e={},n=v(t,["config"]);return n!=null&&Lhe(n,e),e}function $he(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=v(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["fileSearchStores"],a)}return e}function m3(t,e){const n={},r=v(t,["mimeType"]);e!==void 0&&r!=null&&y(e,["mimeType"],r);const i=v(t,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);const a=v(t,["customMetadata"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>c)),y(e,["customMetadata"],u)}const s=v(t,["chunkingConfig"]);return e!==void 0&&s!=null&&y(e,["chunkingConfig"],s),n}function jhe(t){const e={},n=v(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);const r=v(t,["config"]);return r!=null&&m3(r,e),e}function qhe(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bhe="Content-Type",Hhe="X-Server-Timeout",Ghe="User-Agent",jx="x-goog-api-client",zhe="1.34.0",Vhe=`google-genai-sdk/${zhe}`,Fhe="v1beta1",Khe="v1beta";class Whe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Fhe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Khe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))i.searchParams.append(s,String(u));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const a=new AbortController,s=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>a.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=s}return n&&n.extraBody!==null&&Yhe(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await tU(i),new Dx(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await tU(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Lr(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const u="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:h}=yield Re(i.read());if(f){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=a.decode(h,{stream:!0});try{const x=JSON.parse(p);if("error"in x){const E=JSON.parse(JSON.stringify(x.error)),w=E.status,T=E.code,C=`got status: ${w}. ${JSON.stringify(x)}`;if(T>=400&&T<600)throw new Nm({message:C,status:T})}}catch(x){if(x.name==="ApiError")throw x}s+=p;let g=-1,b=0;for(;;){g=-1,b=0;for(const w of c){const T=s.indexOf(w);T!==-1&&(g===-1||T<g)&&(g=T,b=w.length)}if(g===-1)break;const x=s.substring(0,g);s=s.substring(g+b);const E=x.trim();if(E.startsWith(u)){const w=E.substring(u.length).trim();try{const T=new Response(w,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Re(new Dx(T))}catch(T){throw new Error(`exception parsing stream chunk ${w}. ${T}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Vhe+" "+this.clientOptions.userAgentExtra;return e[Ghe]=n,e[jx]=n,e[Bhe]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))r.append(i,a);e.timeout&&e.timeout>0&&r.append(Hhe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(e);i.sizeBytes=String(s.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c={file:i},f=this.getFileName(e),h=pe("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,f,c,n==null?void 0:n.httpOptions);return a.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,r){var i;const a=this.clientOptions.uploader,s=await a.stat(n),u=String(s.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),p={};r!=null&&m3(r,p);const g=await this.fetchUploadUrl(f,u,c,h,p,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,a,s){var u;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:c});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=f==null?void 0:f.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function tU(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Nm({message:i,status:n}):new Error(i)}}function Yhe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,s){const u=Object.assign({},a);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const f=s[c],h=u[c];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?u[c]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),u[c]=f)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jhe="mcp_used/unknown";let Xhe=!1;function g3(t){for(const e of t)if(Qhe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Xhe}function v3(t){var e;const n=(e=t[jx])!==null&&e!==void 0?e:"";t[jx]=(n+` ${Jhe}`).trimStart()}function Qhe(t){return t!==null&&typeof t=="object"&&t instanceof ST}function Zhe(t){return Lr(this,arguments,function*(n,r=100){let i,a=0;for(;a<r;){const s=yield Re(n.listTools({cursor:i}));for(const u of s.tools)yield yield Re(u),a++;if(!s.nextCursor)break;i=s.nextCursor}})}class ST{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new ST(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const h of this.mcpClients)try{for(var u=!0,c=(n=void 0,Ur(Zhe(h))),f;f=await c.next(),e=f.done,!e;u=!0){i=f.value,u=!1;const p=i;s.push(p);const g=p.name;if(a[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);a[g]=h}}catch(p){n={error:p}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),Mue(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function epe(t,e,n){const r=new xue;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class tpe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=ipe(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const h=new Promise(A=>{f=A}),p=e.callbacks,g=function(){f({})},b=this.apiClient,x={onopen:g,onmessage:A=>{epe(b,p.onmessage,A)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(A){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(A){}},E=this.webSocketFactory.create(c,rpe(s),x);E.connect(),await h;const C={setup:{model:Ye(this.apiClient,e.model)}};return E.send(JSON.stringify(C)),new npe(E,this.apiClient)}}class npe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Ofe(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Cfe(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Hs.PLAY)}pause(){this.sendPlaybackControl(Hs.PAUSE)}stop(){this.sendPlaybackControl(Hs.STOP)}resetContext(){this.sendPlaybackControl(Hs.RESET_CONTEXT)}close(){this.conn.close()}}function rpe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function ipe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ape="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function ope(t,e,n){const r=new Sue;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const s=Mfe(a);Object.assign(r,s)}else Object.assign(r,a);e(r)}class spe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new tpe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,s,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&g3(e.config.tools)&&v3(p);const g=fpe(p);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h);else{const L=this.apiClient.getApiKey();let G="BidiGenerateContent",$="key";L!=null&&L.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),G="BidiGenerateContentConstrained",$="access_token"),h=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${G}?${$}=${L}`}let b=()=>{};const x=new Promise(L=>{b=L}),E=e.callbacks,w=function(){var L;(L=E==null?void 0:E.onopen)===null||L===void 0||L.call(E),b({})},T=this.apiClient,C={onopen:w,onmessage:L=>{ope(T,E.onmessage,L)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(L){},onclose:(r=E==null?void 0:E.onclose)!==null&&r!==void 0?r:function(L){}},A=this.webSocketFactory.create(h,cpe(g),C);A.connect(),await x;let P=Ye(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&P.startsWith("publishers/")){const L=this.apiClient.getProject(),G=this.apiClient.getLocation();P=`projects/${L}/locations/${G}/`+P}let O={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[kp.AUDIO]}:e.config.responseModalities=[kp.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const M=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],I=[];for(const L of M)if(this.isCallableTool(L)){const G=L;I.push(await G.tool())}else I.push(L);I.length>0&&(e.config.tools=I);const k={model:P,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?O=Afe(this.apiClient,k):O=Tfe(this.apiClient,k),delete O.config,A.send(JSON.stringify(O)),new upe(A,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const lpe={turnComplete:!0};class upe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=pr(n.turns),e.isVertexAI()||(r=r.map(i=>Im(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(ape)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},lpe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Pfe(e)}:n={realtimeInput:Rfe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function cpe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function fpe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nU=10;function rU(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Qs(s)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Qs(t){return"callTool"in t&&typeof t.callTool=="function"}function dpe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Qs(i)))!==null&&r!==void 0?r:!1}function iU(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Qs(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function aU(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hpe extends Vi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,s,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!dpe(n)||rU(n.config))return await this.generateContentInternal(c);const f=iU(n);if(f.length>0){const E=f.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let h,p;const g=pr(c.contents),b=(a=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:nU;let x=0;for(;x<b&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const E=h.candidates[0].content,w=[];for(const T of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(Qs(T)){const A=await T.callTool(h.functionCalls);w.push(...A)}x++,p={role:"user",parts:w},c.contents=pr(c.contents),c.contents.push(E),c.contents.push(p),aU(c.config)&&(g.push(E),g.push(p))}return aU(c.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async n=>{var r,i,a,s,u;if(this.maybeMoveToResponseJsonSchem(n),rU(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const c=iU(n);if(c.length>0){const p=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,h=(u=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(f&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const s=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c==null?void 0:c.safetyAttributes:s.push(c);let u;return a?u={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Lo(ji.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,s,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(a=n.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const s=await Promise.all(a.map(async c=>Qs(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&g3(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),v3(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Qs(s)){const u=s,c=await u.tool();for(const f of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(a.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);a.set(f.name,u)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:nU;let s=!1,u=0;const c=await this.initAfcToolsMap(e);return(function(f,h,p){return Lr(this,arguments,function*(){for(var g,b,x,E,w,T;u<a;){s&&(u++,s=!1);const O=yield Re(f.processParamsMaybeAddMcpUsage(p)),M=yield Re(f.generateContentStreamInternal(O)),I=[],k=[];try{for(var C=!0,A=(b=void 0,Ur(M)),P;P=yield Re(A.next()),g=P.done,!g;C=!0){E=P.value,C=!1;const L=E;if(yield yield Re(L),L.candidates&&(!((w=L.candidates[0])===null||w===void 0)&&w.content)){k.push(L.candidates[0].content);for(const G of(T=L.candidates[0].content.parts)!==null&&T!==void 0?T:[])if(u<a&&G.functionCall){if(!G.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(G.functionCall.name)){const $=yield Re(h.get(G.functionCall.name).callTool([G.functionCall]));I.push(...$)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${G.functionCall.name}`)}}}}catch(L){b={error:L}}finally{try{!C&&!g&&(x=A.return)&&(yield Re(x.call(A)))}finally{if(b)throw b.error}}if(I.length>0){s=!0;const L=new Fu;L.candidates=[{content:{role:"user",parts:I}}],yield yield Re(L);const G=[];G.push(...k),G.push({role:"user",parts:I});const $=pr(p.contents).concat(G);p.contents=$}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=QL(this.apiClient,e);return u=pe("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=eU(h),g=new Fu;return Object.assign(g,p),g})}else{const f=XL(this.apiClient,e);return u=pe("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=ZL(h),g=new Fu;return Object.assign(g,p),g})}}async generateContentStreamInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=QL(this.apiClient,e);return u=pe("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(p){return Lr(this,arguments,function*(){var g,b,x,E;try{for(var w=!0,T=Ur(p),C;C=yield Re(T.next()),g=C.done,!g;w=!0){E=C.value,w=!1;const A=E,P=eU(yield Re(A.json()));P.sdkHttpResponse={headers:A.headers};const O=new Fu;Object.assign(O,P),yield yield Re(O)}}catch(A){b={error:A}}finally{try{!w&&!g&&(x=T.return)&&(yield Re(x.call(T)))}finally{if(b)throw b.error}}})})}else{const f=XL(this.apiClient,e);return u=pe("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(p){return Lr(this,arguments,function*(){var g,b,x,E;try{for(var w=!0,T=Ur(p),C;C=yield Re(T.next()),g=C.done,!g;w=!0){E=C.value,w=!1;const A=E,P=ZL(yield Re(A.json()));P.sdkHttpResponse={headers:A.headers};const O=new Fu;Object.assign(O,P),yield yield Re(O)}}catch(A){b={error:A}}finally{try{!w&&!g&&(x=T.return)&&(yield Re(x.call(T)))}finally{if(b)throw b.error}}})})}}async embedContent(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=sde(this.apiClient,e);return u=pe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=ude(h),g=new DL;return Object.assign(g,p),g})}else{const f=ode(this.apiClient,e);return u=pe("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=lde(h),g=new DL;return Object.assign(g,p),g})}}async generateImagesInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=_de(this.apiClient,e);return u=pe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Sde(h),g=new kL;return Object.assign(g,p),g})}else{const f=bde(this.apiClient,e);return u=pe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=wde(h),g=new kL;return Object.assign(g,p),g})}}async editImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=nde(this.apiClient,e);return a=pe("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=rde(c),h=new fue;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=_he(this.apiClient,e);return a=pe("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=whe(c),h=new due;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=the(this.apiClient,e);return a=pe("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=nhe(c),h=new hue;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=lhe(this.apiClient,e);return a=pe("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=uhe(c),h=new pue;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=jde(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>$x(h))}else{const f=$de(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>Ux(h))}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Wde(this.apiClient,e);return u=pe("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Jde(h),g=new LL;return Object.assign(g,p),g})}else{const f=Kde(this.apiClient,e);return u=pe("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Yde(h),g=new LL;return Object.assign(g,p),g})}}async update(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=yhe(this.apiClient,e);return u=pe("{model}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>$x(h))}else{const f=vhe(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>Ux(h))}}async delete(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Qfe(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=ede(h),g=new UL;return Object.assign(g,p),g})}else{const f=Xfe(this.apiClient,e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Zfe(h),g=new UL;return Object.assign(g,p),g})}}async countTokens(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Wfe(this.apiClient,e);return u=pe("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Jfe(h),g=new $L;return Object.assign(g,p),g})}else{const f=Kfe(this.apiClient,e);return u=pe("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Yfe(h),g=new $L;return Object.assign(g,p),g})}}async computeTokens(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=qfe(this.apiClient,e);return a=pe("{model}:computeTokens",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Bfe(c),h=new mue;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Ode(this.apiClient,e);return u=pe("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const p=Ade(h),g=new Lp;return Object.assign(g,p),g})}else{const f=Cde(this.apiClient,e);return u=pe("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>{const p=Tde(h),g=new Lp;return Object.assign(g,p),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ppe extends Vi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=aue(e);return u=pe("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}else{const f=iue(e);return u=pe("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=Xle(e);return a=pe("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mpe(t){const e={},n=v(t,["data"]);if(n!=null&&y(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function gpe(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Tpe(a))),y(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&y(e,["role"],r),e}function vpe(t,e,n){const r={},i=v(e,["expireTime"]);n!==void 0&&i!=null&&y(n,["expireTime"],i);const a=v(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&y(n,["newSessionExpireTime"],a);const s=v(e,["uses"]);n!==void 0&&s!=null&&y(n,["uses"],s);const u=v(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&y(n,["bidiGenerateContentSetup"],Epe(t,u));const c=v(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&y(n,["fieldMask"],c),r}function ype(t,e){const n={},r=v(e,["config"]);return r!=null&&y(n,["config"],vpe(t,r,n)),n}function bpe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function _pe(t){const e={},n=v(t,["id"]);n!=null&&y(e,["id"],n);const r=v(t,["args"]);r!=null&&y(e,["args"],r);const i=v(t,["name"]);if(i!=null&&y(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wpe(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function Spe(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function xpe(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const a=v(t,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const s=v(t,["topP"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","topP"],s);const u=v(t,["topK"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topK"],u);const c=v(t,["maxOutputTokens"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","maxOutputTokens"],c);const f=v(t,["mediaResolution"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","mediaResolution"],f);const h=v(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const p=v(t,["speechConfig"]);e!==void 0&&p!=null&&y(e,["setup","generationConfig","speechConfig"],wT(p));const g=v(t,["thinkingConfig"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","thinkingConfig"],g);const b=v(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],b);const x=v(t,["systemInstruction"]);e!==void 0&&x!=null&&y(e,["setup","systemInstruction"],gpe(mn(x)));const E=v(t,["tools"]);if(e!==void 0&&E!=null){let M=Ul(E);Array.isArray(M)&&(M=M.map(I=>Cpe(Ll(I)))),y(e,["setup","tools"],M)}const w=v(t,["sessionResumption"]);e!==void 0&&w!=null&&y(e,["setup","sessionResumption"],Ape(w));const T=v(t,["inputAudioTranscription"]);e!==void 0&&T!=null&&y(e,["setup","inputAudioTranscription"],T);const C=v(t,["outputAudioTranscription"]);e!==void 0&&C!=null&&y(e,["setup","outputAudioTranscription"],C);const A=v(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&y(e,["setup","realtimeInputConfig"],A);const P=v(t,["contextWindowCompression"]);e!==void 0&&P!=null&&y(e,["setup","contextWindowCompression"],P);const O=v(t,["proactivity"]);if(e!==void 0&&O!=null&&y(e,["setup","proactivity"],O),v(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Epe(t,e){const n={},r=v(e,["model"]);r!=null&&y(n,["setup","model"],Ye(t,r));const i=v(e,["config"]);return i!=null&&y(n,["config"],xpe(i,n)),n}function Tpe(t){const e={},n=v(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&y(e,["fileData"],bpe(a));const s=v(t,["functionCall"]);s!=null&&y(e,["functionCall"],_pe(s));const u=v(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const c=v(t,["inlineData"]);c!=null&&y(e,["inlineData"],mpe(c));const f=v(t,["text"]);f!=null&&y(e,["text"],f);const h=v(t,["thought"]);h!=null&&y(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&y(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&y(e,["videoMetadata"],g),e}function Ape(t){const e={},n=v(t,["handle"]);if(n!=null&&y(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Cpe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),y(e,["functionDeclarations"],h)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const a=v(t,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const s=v(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],wpe(u));const c=v(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],Spe(c));const f=v(t,["urlContext"]);return f!=null&&y(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ope(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function Rpe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=Ope(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>s.includes(f)?`generationConfig.${f}`:f));const c=[];a&&c.push(a),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Ppe extends Vi{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=ype(this.apiClient,e);a=pe("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const c=Rpe(u,e.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mpe(t,e){const n={},r=v(t,["force"]);return e!==void 0&&r!=null&&y(e,["_query","force"],r),n}function Npe(t){const e={},n=v(t,["name"]);n!=null&&y(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&Mpe(r,e),e}function Ipe(t){const e={},n=v(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function Dpe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function kpe(t){const e={},n=v(t,["parent"]);n!=null&&y(e,["_url","parent"],n);const r=v(t,["config"]);return r!=null&&Dpe(r,e),e}function Lpe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=v(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Upe extends Vi{constructor(e){super(),this.apiClient=e,this.list=async n=>new Lo(ji.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Ipe(e);return a=pe("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Npe(e);i=pe("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=kpe(e);return a=pe("{parent}/documents",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Lpe(c),h=new gue;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $pe extends Vi{constructor(e,n=new Upe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Lo(ji.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Ohe(e);return a=pe("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Mhe(e);return a=pe("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Phe(e);i=pe("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Uhe(e);return a=pe("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=$he(c),h=new vue;return Object.assign(h,f),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=jhe(e);return a=pe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=qhe(c),h=new yue;return Object.assign(h,f),h})}}async importFile(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Dhe(e);return a=pe("{file_search_store_name}:importFile",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Ihe(c),h=new gT;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let y3=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return y3=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const jpe=()=>y3();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qx(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Bx=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yr extends Error{}class xn extends yr{constructor(e,n,r,i){super(`${xn.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Lm({message:r,cause:Bx(n)});const a=n;return e===400?new _3(e,a,r,i):e===401?new w3(e,a,r,i):e===403?new S3(e,a,r,i):e===404?new x3(e,a,r,i):e===409?new E3(e,a,r,i):e===422?new T3(e,a,r,i):e===429?new A3(e,a,r,i):e>=500?new C3(e,a,r,i):new xn(e,a,r,i)}}class Hx extends xn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Lm extends xn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class b3 extends Lm{constructor({message:e}={}){super({message:e??"Request timed out."})}}class _3 extends xn{}class w3 extends xn{}class S3 extends xn{}class x3 extends xn{}class E3 extends xn{}class T3 extends xn{}class A3 extends xn{}class C3 extends xn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qpe=/^[a-z][a-z0-9+.-]*:/i,Bpe=t=>qpe.test(t);let Gx=t=>(Gx=Array.isArray,Gx(t));const Hpe=Gx;let Gpe=Hpe;const oU=Gpe;function zpe(t){if(!t)return!0;for(const e in t)return!1;return!0}function Vpe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const Fpe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new yr(`${t} must be an integer`);if(e<0)throw new yr(`${t} must be a positive integer`);return e},Kpe=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wpe=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ds="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ype(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Jpe=()=>{var t,e,n,r,i;const a=Ype();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ds,"X-Stainless-OS":lU(Deno.build.os),"X-Stainless-Arch":sU(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ds,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ds,"X-Stainless-OS":lU((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":sU((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=Xpe();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ds,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ds,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Xpe(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${a}.${s}`}}}return null}const sU=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",lU=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let dh;const Qpe=()=>dh??(dh=Jpe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zpe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function O3(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function eme(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return O3({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function R3(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function tme(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nme=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const P3=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Rw(t,e,n){return P3(),new File(t,e??"unknown_file",n)}function rme(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const ime=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const M3=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",ame=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&M3(t),ome=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function sme(t,e,n){if(P3(),t=await t,ame(t))return t instanceof File?t:Rw([await t.arrayBuffer()],t.name);if(ome(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Rw(await zx(i),e,n)}const r=await zx(t);if(e||(e=rme(t)),!(n!=null&&n.type)){const i=r.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Rw(r,e,n)}async function zx(t){var e,n,r,i,a;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(M3(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(ime(t))try{for(var u=!0,c=Ur(t),f;f=await c.next(),e=f.done,!e;u=!0){i=f.value,u=!1;const h=i;s.push(...await zx(h))}}catch(h){n={error:h}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}else{const h=(a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${h?`; constructor: ${h}`:""}${lme(t)}`)}return s}function lme(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class N3{constructor(e){this._client=e}}N3._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function I3(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const uU=Object.freeze(Object.create(null)),ume=(t=I3)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const a=[],s=n.reduce((h,p,g)=>{var b,x,E;/[?#]/.test(p)&&(i=!0);const w=r[g];let T=(i?encodeURIComponent:t)(""+w);return g!==r.length&&(w==null||typeof w=="object"&&w.toString===((E=Object.getPrototypeOf((x=Object.getPrototypeOf((b=w.hasOwnProperty)!==null&&b!==void 0?b:uU))!==null&&x!==void 0?x:uU))===null||E===void 0?void 0:E.toString))&&(T=w+"",a.push({start:h.length+p.length,length:T.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),h+p+(g===r.length?"":T)},""),u=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=c.exec(u))!==null;)a.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(a.sort((h,p)=>h.start-p.start),a.length>0){let h=0;const p=a.reduce((g,b)=>{const x=" ".repeat(b.start-h),E="^".repeat(b.length);return h=b.start+b.length,g+x+E},"");throw new yr(`Path parameters result in path with invalid segments:
${a.map(g=>g.error).join(`
`)}
${s}
${p}`)}return s}),hh=ume(I3);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class D3 extends N3{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,a=$p(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new yr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new yr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(hh`/${i}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(hh`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(hh`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const a=n??{},{api_version:s=this._client.apiVersion}=a,u=$p(a,["api_version"]);return this._client.get(hh`/${s}/interactions/${e}`,Object.assign(Object.assign({query:u},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}D3._key=Object.freeze(["interactions"]);class k3 extends D3{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cme(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let ph;function xT(t){let e;return(ph??(e=new globalThis.TextEncoder,ph=e.encode.bind(e)))(t)}let mh;function cU(t){let e;return(mh??(e=new globalThis.TextDecoder,mh=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Um{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?xT(e):e;this.buffer=cme([this.buffer,n]);const r=[];let i;for(;(i=fme(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(cU(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=cU(this.buffer.subarray(0,a));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Um.NEWLINE_CHARS=new Set([`
`,"\r"]);Um.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function fme(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function dme(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jp={off:0,error:200,warn:300,info:400,debug:500},fU=(t,e,n)=>{if(t){if(Vpe(jp,t))return t;vn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(jp))}`)}};function ic(){}function gh(t,e,n){return!e||jp[t]>jp[n]?ic:e[t].bind(e)}const hme={error:ic,warn:ic,info:ic,debug:ic};let dU=new WeakMap;function vn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return hme;const i=dU.get(n);if(i&&i[0]===r)return i[1];const a={error:gh("error",n,r),warn:gh("warn",n,r),info:gh("info",n,r),debug:gh("debug",n,r)};return dU.set(n,[r,a]),a}const so=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gs{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const a=r?vn(r):console;function s(){return Lr(this,arguments,function*(){var c,f,h,p;if(i)throw new yr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var b=!0,x=Ur(pme(e,n)),E;E=yield Re(x.next()),c=E.done,!c;b=!0){p=E.value,b=!1;const w=p;if(!g)if(w.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield Re(JSON.parse(w.data))}catch(T){throw a.error("Could not parse message into JSON:",w.data),a.error("From chunk:",w.raw),T}}}catch(w){f={error:w}}finally{try{!b&&!c&&(h=x.return)&&(yield Re(h.call(x)))}finally{if(f)throw f.error}}g=!0}catch(w){if(qx(w))return yield Re(void 0);throw w}finally{g||n.abort()}})}return new Gs(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function a(){return Lr(this,arguments,function*(){var c,f,h,p;const g=new Um,b=R3(e);try{for(var x=!0,E=Ur(b),w;w=yield Re(E.next()),c=w.done,!c;x=!0){p=w.value,x=!1;const T=p;for(const C of g.decode(T))yield yield Re(C)}}catch(T){f={error:T}}finally{try{!x&&!c&&(h=E.return)&&(yield Re(h.call(E)))}finally{if(f)throw f.error}}for(const T of g.flush())yield yield Re(T)})}function s(){return Lr(this,arguments,function*(){var c,f,h,p;if(i)throw new yr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var b=!0,x=Ur(a()),E;E=yield Re(x.next()),c=E.done,!c;b=!0){p=E.value,b=!1;const w=p;g||w&&(yield yield Re(JSON.parse(w)))}}catch(w){f={error:w}}finally{try{!b&&!c&&(h=x.return)&&(yield Re(h.call(x)))}finally{if(f)throw f.error}}g=!0}catch(w){if(qx(w))return yield Re(void 0);throw w}finally{g||n.abort()}})}return new Gs(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const s=r.next();e.push(s),n.push(s)}return a.shift()}});return[new Gs(()=>i(e),this.controller,this.client),new Gs(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return O3({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:a}=await n.next();if(a)return r.close();const s=xT(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function pme(t,e){return Lr(this,arguments,function*(){var r,i,a,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new yr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new yr("Attempted to iterate over a response with no body");const u=new gme,c=new Um,f=R3(t.body);try{for(var h=!0,p=Ur(mme(f)),g;g=yield Re(p.next()),r=g.done,!r;h=!0){s=g.value,h=!1;const b=s;for(const x of c.decode(b)){const E=u.decode(x);E&&(yield yield Re(E))}}}catch(b){i={error:b}}finally{try{!h&&!r&&(a=p.return)&&(yield Re(a.call(p)))}finally{if(i)throw i.error}}for(const b of c.flush()){const x=u.decode(b);x&&(yield yield Re(x))}})}function mme(t){return Lr(this,arguments,function*(){var n,r,i,a;let s=new Uint8Array;try{for(var u=!0,c=Ur(t),f;f=yield Re(c.next()),n=f.done,!n;u=!0){a=f.value,u=!1;const h=a;if(h==null)continue;const p=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?xT(h):h;let g=new Uint8Array(s.length+p.length);g.set(s),g.set(p,s.length),s=g;let b;for(;(b=dme(s))!==-1;)yield yield Re(s.slice(0,b)),s=s.slice(b)}}catch(h){r={error:h}}finally{try{!u&&!n&&(i=c.return)&&(yield Re(i.call(c)))}finally{if(r)throw r.error}}s.length>0&&(yield yield Re(s))})}class gme{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=vme(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function vme(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function yme(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:a}=e,s=await(async()=>{var u;if(e.options.stream)return vn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Gs.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),f=(u=c==null?void 0:c.split(";")[0])===null||u===void 0?void 0:u.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return vn(t).debug(`[${r}] response parsed`,so({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-a})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ET extends Promise{constructor(e,n,r=yme){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new ET(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const L3=Symbol("brand.privateNullableHeaders");function*bme(t){if(!t)return;if(L3 in t){const{values:r,nulls:i}=t;yield*r.entries();for(const a of i)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():oU(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=oU(r[1])?r[1]:[r[1]];let s=!1;for(const u of a)u!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,u])}}const Ku=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[a,s]of bme(r)){const u=a.toLowerCase();i.has(u)||(e.delete(a),i.add(u)),s===null?(e.delete(a),n.add(u)):(e.append(a,s),n.delete(u))}}return{[L3]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pw=t=>{var e,n,r,i,a,s;if(typeof globalThis.process<"u")return(r=(n=(e=Vle)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var U3;class $m{constructor(e){var n,r,i,a,s,u,c,{baseURL:f=Pw("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=Pw("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=e,g=$p(e,["baseURL","apiKey","apiVersion"]);const b=Object.assign(Object.assign({apiKey:h,apiVersion:p},g),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=b.baseURL,this.timeout=(r=b.timeout)!==null&&r!==void 0?r:$m.DEFAULT_TIMEOUT,this.logger=(i=b.logger)!==null&&i!==void 0?i:console;const x="warn";this.logLevel=x,this.logLevel=(s=(a=fU(b.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:fU(Pw("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:x,this.fetchOptions=b.fetchOptions,this.maxRetries=(u=b.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(c=b.fetch)!==null&&c!==void 0?c:Zpe(),this.encoder=nme,this._options=b,this.apiKey=h,this.apiVersion=p,this.clientAdapter=b.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Ku([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Ku([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Ku([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new yr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ds}`}defaultIdempotencyKey(){return`stainless-node-retry-${jpe()}`}makeStatusError(e,n,r,i){return xn.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,a=Bpe(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return zpe(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new ET(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,a,s;const u=await e,c=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=c),await this.prepareOptions(u);const{req:f,url:h,timeout:p}=await this.buildRequest(u,{retryCount:c-n});await this.prepareRequest(f,{url:h,options:u});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=r===void 0?"":`, retryOf: ${r}`,x=Date.now();if(vn(this).debug(`[${g}] sending request`,so({retryOfRequestLogID:r,method:u.method,url:h,options:u,headers:f.headers})),!((a=u.signal)===null||a===void 0)&&a.aborted)throw new Hx;const E=new AbortController,w=await this.fetchWithTimeout(h,f,p,E).catch(Bx),T=Date.now();if(w instanceof globalThis.Error){const A=`retrying, ${n} attempts remaining`;if(!((s=u.signal)===null||s===void 0)&&s.aborted)throw new Hx;const P=qx(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(n)return vn(this).info(`[${g}] connection ${P?"timed out":"failed"} - ${A}`),vn(this).debug(`[${g}] connection ${P?"timed out":"failed"} (${A})`,so({retryOfRequestLogID:r,url:h,durationMs:T-x,message:w.message})),this.retryRequest(u,n,r??g);throw vn(this).info(`[${g}] connection ${P?"timed out":"failed"} - error; no more retries left`),vn(this).debug(`[${g}] connection ${P?"timed out":"failed"} (error; no more retries left)`,so({retryOfRequestLogID:r,url:h,durationMs:T-x,message:w.message})),P?new b3:new Lm({cause:w})}const C=`[${g}${b}] ${f.method} ${h} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${T-x}ms`;if(!w.ok){const A=await this.shouldRetry(w);if(n&&A){const L=`retrying, ${n} attempts remaining`;return await tme(w.body),vn(this).info(`${C} - ${L}`),vn(this).debug(`[${g}] response error (${L})`,so({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:T-x})),this.retryRequest(u,n,r??g,w.headers)}const P=A?"error; no more retries left":"error; not retryable";vn(this).info(`${C} - ${P}`);const O=await w.text().catch(L=>Bx(L).message),M=Kpe(O),I=M?void 0:O;throw vn(this).debug(`[${g}] response error (${P})`,so({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,message:I,durationMs:Date.now()-x})),this.makeStatusError(w.status,M,I,w.headers)}return vn(this).info(C),vn(this).debug(`[${g}] response start`,so({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:T-x})),{response:w,options:u,controller:E,requestLogID:g,retryOfRequestLogID:r,startTime:x}}async fetchWithTimeout(e,n,r,i){const a=n||{},{signal:s,method:u}=a,c=$p(a,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const f=setTimeout(()=>i.abort(),r),h=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,p=Object.assign(Object.assign(Object.assign({signal:i.signal},h?{duplex:"half"}:{}),{method:"GET"}),c);u&&(p.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,p)}finally{clearTimeout(f)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var a;let s;const u=i==null?void 0:i.get("retry-after-ms");if(u){const f=parseFloat(u);Number.isNaN(f)||(s=f)}const c=i==null?void 0:i.get("retry-after");if(c&&!s){const f=parseFloat(c);Number.isNaN(f)?s=Date.parse(c)-Date.now():s=f*1e3}if(!(s&&0<=s&&s<60*1e3)){const f=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,f)}return await Wpe(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,s=Math.min(.5*Math.pow(2,a),8),u=1-Math.random()*.25;return s*u*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,a;const s=Object.assign({},e),{method:u,path:c,query:f,defaultBaseURL:h}=s,p=this.buildURL(c,f,h);"timeout"in s&&Fpe("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:g,body:b}=this.buildBody({options:s}),x=await this.buildHeaders({options:e,method:u,bodyHeaders:g,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:x},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=s.fetchOptions)!==null&&a!==void 0?a:{}),url:p,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let u=Ku([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Qpe()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Ku([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:eme(e)}:this.encoder({body:e,headers:r})}}$m.DEFAULT_TIMEOUT=6e4;class Qt extends $m{constructor(){super(...arguments),this.interactions=new k3(this)}}U3=Qt;Qt.GeminiNextGenAPIClient=U3;Qt.GeminiNextGenAPIClientError=yr;Qt.APIError=xn;Qt.APIConnectionError=Lm;Qt.APIConnectionTimeoutError=b3;Qt.APIUserAbortError=Hx;Qt.NotFoundError=x3;Qt.ConflictError=E3;Qt.RateLimitError=A3;Qt.BadRequestError=_3;Qt.AuthenticationError=w3;Qt.InternalServerError=C3;Qt.PermissionDeniedError=S3;Qt.UnprocessableEntityError=T3;Qt.toFile=sme;Qt.Interactions=k3;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _me(t,e){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function wme(t,e){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function Sme(t,e){const n={},r=v(t,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function xme(t,e){const n={},r=v(t,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function Eme(t,e,n){const r={};if(v(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=v(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&y(e,["displayName"],i),v(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=v(t,["epochCount"]);e!==void 0&&a!=null&&y(e,["tuningTask","hyperparameters","epochCount"],a);const s=v(t,["learningRateMultiplier"]);if(s!=null&&y(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),v(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(v(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(v(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=v(t,["batchSize"]);e!==void 0&&u!=null&&y(e,["tuningTask","hyperparameters","batchSize"],u);const c=v(t,["learningRate"]);if(e!==void 0&&c!=null&&y(e,["tuningTask","hyperparameters","learningRate"],c),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(v(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Tme(t,e,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const b=v(t,["validationDataset"]);e!==void 0&&b!=null&&y(e,["supervisedTuningSpec"],hU(b))}else if(i==="PREFERENCE_TUNING"){const b=v(t,["validationDataset"]);e!==void 0&&b!=null&&y(e,["preferenceOptimizationSpec"],hU(b))}const a=v(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&y(e,["tunedModelDisplayName"],a);const s=v(t,["description"]);e!==void 0&&s!=null&&y(e,["description"],s);let u=v(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const b=v(t,["epochCount"]);e!==void 0&&b!=null&&y(e,["supervisedTuningSpec","hyperParameters","epochCount"],b)}else if(u==="PREFERENCE_TUNING"){const b=v(t,["epochCount"]);e!==void 0&&b!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],b)}let c=v(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const b=v(t,["learningRateMultiplier"]);e!==void 0&&b!=null&&y(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],b)}else if(c==="PREFERENCE_TUNING"){const b=v(t,["learningRateMultiplier"]);e!==void 0&&b!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],b)}let f=v(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const b=v(t,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&y(e,["supervisedTuningSpec","exportLastCheckpointOnly"],b)}else if(f==="PREFERENCE_TUNING"){const b=v(t,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&y(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],b)}let h=v(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const b=v(t,["adapterSize"]);e!==void 0&&b!=null&&y(e,["supervisedTuningSpec","hyperParameters","adapterSize"],b)}else if(h==="PREFERENCE_TUNING"){const b=v(t,["adapterSize"]);e!==void 0&&b!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],b)}if(v(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(v(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=v(t,["labels"]);e!==void 0&&p!=null&&y(e,["labels"],p);const g=v(t,["beta"]);return e!==void 0&&g!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function Ame(t,e){const n={},r=v(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=v(t,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const a=v(t,["trainingDataset"]);a!=null&&Ume(a);const s=v(t,["config"]);return s!=null&&Eme(s,n),n}function Cme(t,e){const n={},r=v(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=v(t,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const a=v(t,["trainingDataset"]);a!=null&&$me(a,n,e);const s=v(t,["config"]);return s!=null&&Tme(s,n,e),n}function Ome(t,e){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function Rme(t,e){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function Pme(t,e,n){const r={},i=v(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const a=v(t,["pageToken"]);e!==void 0&&a!=null&&y(e,["_query","pageToken"],a);const s=v(t,["filter"]);return e!==void 0&&s!=null&&y(e,["_query","filter"],s),r}function Mme(t,e,n){const r={},i=v(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const a=v(t,["pageToken"]);e!==void 0&&a!=null&&y(e,["_query","pageToken"],a);const s=v(t,["filter"]);return e!==void 0&&s!=null&&y(e,["_query","filter"],s),r}function Nme(t,e){const n={},r=v(t,["config"]);return r!=null&&Pme(r,n),n}function Ime(t,e){const n={},r=v(t,["config"]);return r!=null&&Mme(r,n),n}function Dme(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const a=v(t,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>$3(u))),y(n,["tuningJobs"],s)}return n}function kme(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const a=v(t,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>Vx(u))),y(n,["tuningJobs"],s)}return n}function Lme(t,e){const n={},r=v(t,["name"]);r!=null&&y(n,["model"],r);const i=v(t,["name"]);return i!=null&&y(n,["endpoint"],i),n}function Ume(t,e){const n={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=v(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(n,["examples","examples"],i)}return n}function $me(t,e,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=v(t,["gcsUri"]);e!==void 0&&s!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=v(t,["gcsUri"]);e!==void 0&&s!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let a=v(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=v(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=v(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(v(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function $3(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&y(n,["name"],i);const a=v(t,["state"]);a!=null&&y(n,["state"],e3(a));const s=v(t,["createTime"]);s!=null&&y(n,["createTime"],s);const u=v(t,["tuningTask","startTime"]);u!=null&&y(n,["startTime"],u);const c=v(t,["tuningTask","completeTime"]);c!=null&&y(n,["endTime"],c);const f=v(t,["updateTime"]);f!=null&&y(n,["updateTime"],f);const h=v(t,["description"]);h!=null&&y(n,["description"],h);const p=v(t,["baseModel"]);p!=null&&y(n,["baseModel"],p);const g=v(t,["_self"]);return g!=null&&y(n,["tunedModel"],Lme(g)),n}function Vx(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&y(n,["name"],i);const a=v(t,["state"]);a!=null&&y(n,["state"],e3(a));const s=v(t,["createTime"]);s!=null&&y(n,["createTime"],s);const u=v(t,["startTime"]);u!=null&&y(n,["startTime"],u);const c=v(t,["endTime"]);c!=null&&y(n,["endTime"],c);const f=v(t,["updateTime"]);f!=null&&y(n,["updateTime"],f);const h=v(t,["error"]);h!=null&&y(n,["error"],h);const p=v(t,["description"]);p!=null&&y(n,["description"],p);const g=v(t,["baseModel"]);g!=null&&y(n,["baseModel"],g);const b=v(t,["tunedModel"]);b!=null&&y(n,["tunedModel"],b);const x=v(t,["preTunedModel"]);x!=null&&y(n,["preTunedModel"],x);const E=v(t,["supervisedTuningSpec"]);E!=null&&y(n,["supervisedTuningSpec"],E);const w=v(t,["preferenceOptimizationSpec"]);w!=null&&y(n,["preferenceOptimizationSpec"],w);const T=v(t,["tuningDataStats"]);T!=null&&y(n,["tuningDataStats"],T);const C=v(t,["encryptionSpec"]);C!=null&&y(n,["encryptionSpec"],C);const A=v(t,["partnerModelTuningSpec"]);A!=null&&y(n,["partnerModelTuningSpec"],A);const P=v(t,["customBaseModel"]);P!=null&&y(n,["customBaseModel"],P);const O=v(t,["experiment"]);O!=null&&y(n,["experiment"],O);const M=v(t,["labels"]);M!=null&&y(n,["labels"],M);const I=v(t,["outputUri"]);I!=null&&y(n,["outputUri"],I);const k=v(t,["pipelineJob"]);k!=null&&y(n,["pipelineJob"],k);const L=v(t,["serviceAccount"]);L!=null&&y(n,["serviceAccount"],L);const G=v(t,["tunedModelDisplayName"]);G!=null&&y(n,["tunedModelDisplayName"],G);const $=v(t,["veoTuningSpec"]);return $!=null&&y(n,["veoTuningSpec"],$),n}function jme(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&y(n,["name"],i);const a=v(t,["metadata"]);a!=null&&y(n,["metadata"],a);const s=v(t,["done"]);s!=null&&y(n,["done"],s);const u=v(t,["error"]);return u!=null&&y(n,["error"],u),n}function hU(t,e){const n={},r=v(t,["gcsUri"]);r!=null&&y(n,["validationDatasetUri"],r);const i=v(t,["vertexDatasetResource"]);return i!=null&&y(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qme extends Vi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Lo(ji.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:Ix.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Rme(e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>Vx(h))}else{const f=Ome(e);return u=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>$3(h))}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Ime(e);return u=pe("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=kme(h),g=new jL;return Object.assign(g,p),g})}else{const f=Nme(e);return u=pe("tunedModels",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Dme(h),g=new jL;return Object.assign(g,p),g})}}async cancel(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=wme(e);return u=pe("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=xme(h),g=new qL;return Object.assign(g,p),g})}else{const f=_me(e);return u=pe("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Sme(h),g=new qL;return Object.assign(g,p),g})}}async tuneInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=Cme(e,e);return a=pe("tuningJobs",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>Vx(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Ame(e);return a=pe("tunedModels",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>jme(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bme{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Hme=1024*1024*8,Gme=3,zme=1e3,Vme=2,qp="x-goog-upload-status";async function Fme(t,e,n){var r;const i=await j3(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[qp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function Kme(t,e,n){var r;const i=await j3(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[qp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=WB(a),u=new vT;return Object.assign(u,s),u}async function j3(t,e,n){var r,i;let a=0,s=0,u=new Dx(new Response),c="upload";for(a=t.size;s<a;){const f=Math.min(Hme,a-s),h=t.slice(s,s+f);s+f>=a&&(c+=", finalize");let p=0,g=zme;for(;p<Gme&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[qp]));)p++,await Yme(g),g=g*Vme;if(s+=f,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[qp])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function Wme(t){return{size:t.size,type:t.type}}function Yme(t){return new Promise(e=>setTimeout(e,t))}class Jme{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Fme(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Kme(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Wme(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xme{create(e,n,r){return new Qme(e,n,r)}}class Qme{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pU="x-goog-api-key";class Zme{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(pU)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(pU,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ege="gl-node/";class tge{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Qt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Yle(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new Zme(this.apiKey);this.apiClient=new Whe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:ege+"web",uploader:new Jme,downloader:new Bme}),this.models=new hpe(this.apiClient),this.live=new spe(this.apiClient,i,new Xme),this.batches=new Ece(this.apiClient),this.chats=new afe(this.models,this.apiClient),this.caches=new nfe(this.apiClient),this.files=new mfe(this.apiClient),this.operations=new ppe(this.apiClient),this.authTokens=new Ppe(this.apiClient),this.tunings=new qme(this.apiClient),this.fileSearchStores=new $pe(this.apiClient)}}var nge={};const q3=()=>new tge({apiKey:nge.API_KEY||""}),rge=async(t,e)=>{const n=q3(),r=`Analiza el siguiente tema poltico de forma objetiva y proporciona un resumen equilibrado, 3 argumentos clave a favor y 3 argumentos clave en contra.
  Ttulo del tema: ${t}
  Contexto: ${e}
  
  Asegrate de que el tono sea neutral, educativo y evite sesgos partidistas. Responde exclusivamente en espaol y en formato JSON.`,i=await n.models.generateContent({model:"gemini-3-flash-preview",contents:r,config:{responseMimeType:"application/json",responseSchema:{type:hn.OBJECT,properties:{summary:{type:hn.STRING},pros:{type:hn.ARRAY,items:{type:hn.STRING}},cons:{type:hn.ARRAY,items:{type:hn.STRING}}},required:["summary","pros","cons"]}}});try{return JSON.parse(i.text.trim())}catch(a){throw console.error("Failed to parse AI response",a),new Error("Error al analizar el tema.")}},ige=async()=>{const n=await q3().models.generateContent({model:"gemini-3-flash-preview",contents:"Lista 5 temas actuales, populares y debatidos de la poltica o sociedad espaola que sean adecuados para una plataforma de votacin pblica. Devuelve un array JSON de strings en espaol.",config:{responseMimeType:"application/json",responseSchema:{type:hn.ARRAY,items:{type:hn.STRING}}}});return JSON.parse(n.text.trim())},age=["AN","AR","AS","IB","CN","CB","CM","CL","CT","VC","EX","GA","MD","MC","NC","PV","RI","CE","ML"],oge=({onAddTopic:t})=>{const e=Hp(),[n,r]=j.useState(!1),[i,a]=j.useState([]),[s,u]=j.useState({title:"",description:"",category:"Economa"});j.useEffect(()=>{(async()=>{try{const h=await ige();a(h)}catch{console.error("Failed to fetch suggestions")}})()},[]);const c=async f=>{if(f.preventDefault(),!(!s.title||!s.description)){r(!0);try{const h=await rge(s.title,s.description),p={};age.forEach(b=>{p[b]={support:0,oppose:0,neutral:0}});const g={id:Math.random().toString(36).substr(2,9),title:s.title,description:s.description,category:s.category,createdAt:Date.now(),votes:{support:0,oppose:0,neutral:0},regionalVotes:p,pros:h.pros,cons:h.cons,aiAnalysis:h.summary};t(g),e("/")}catch{alert("Error al analizar el tema. Por favor, revisa tu conexin o intntalo de nuevo.")}finally{r(!1)}}};return R.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:R.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 shadow-sm overflow-hidden",children:[R.jsxs("div",{className:"bg-indigo-600 px-8 py-10 text-white",children:[R.jsx("h1",{className:"text-3xl font-extrabold mb-2",children:"Proponer un Nuevo Debate"}),R.jsx("p",{className:"text-indigo-100",children:"La IA generar automticamente una lista equilibrada de argumentos y un anlisis para tu tema."})]}),R.jsxs("form",{onSubmit:c,className:"p-8 space-y-8",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Ttulo del Tema"}),R.jsx("input",{type:"text",required:!0,placeholder:"p.ej. Implementacin del voto obligatorio en elecciones generales",className:"w-full px-4 py-3 rounded-xl border border-gray-300 text-gray-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",value:s.title,onChange:f=>u({...s,title:f.target.value})}),i.length>0&&R.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[R.jsx("span",{className:"text-xs text-gray-400 self-center",children:"Sugerencias:"}),i.map(f=>R.jsx("button",{type:"button",onClick:()=>u({...s,title:f}),className:"text-xs bg-gray-100 hover:bg-indigo-50 hover:text-indigo-600 px-2 py-1 rounded transition",children:f},f))]})]}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Categora"}),R.jsxs("select",{className:"w-full px-4 py-3 rounded-xl border border-gray-300 text-gray-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",value:s.category,onChange:f=>u({...s,category:f.target.value}),children:[R.jsx("option",{value:"Economa",className:"text-gray-900",children:"Economa"}),R.jsx("option",{value:"Medio Ambiente",className:"text-gray-900",children:"Medio Ambiente"}),R.jsx("option",{value:"Social",className:"text-gray-900",children:"Social"}),R.jsx("option",{value:"Legal",className:"text-gray-900",children:"Legal"}),R.jsx("option",{value:"Salud",className:"text-gray-900",children:"Salud"})]})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Duracin de la Votacin"}),R.jsx("select",{disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-100 bg-gray-50 text-gray-400 cursor-not-allowed",children:R.jsx("option",{children:"7 Das (Estndar)"})})]})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Descripcin y Contexto"}),R.jsx("textarea",{required:!0,rows:4,placeholder:"Proporciona un breve resumen de por qu este tema es importante y qu se debera votar especficamente.",className:"w-full px-4 py-3 rounded-xl border border-gray-300 text-gray-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",value:s.description,onChange:f=>u({...s,description:f.target.value})})]}),R.jsxs("div",{className:"pt-4 border-t border-gray-100 flex justify-end items-center space-x-4",children:[R.jsx("button",{type:"button",onClick:()=>e("/"),className:"px-6 py-3 text-sm font-bold text-gray-600 hover:text-gray-900",children:"Cancelar"}),R.jsx("button",{type:"submit",disabled:n,className:`px-10 py-3 bg-indigo-600 text-white font-bold rounded-xl shadow-lg shadow-indigo-200 transition-all ${n?"opacity-50 cursor-not-allowed":"hover:bg-indigo-700 active:scale-95"}`,children:n?"Analizando...":"Proponer Tema"})]})]})]})})},sge=({isOpen:t,onClose:e})=>{const[n,r]=j.useState(!1),[i,a]=j.useState("password"),[s,u]=j.useState("signin"),[c,f]=j.useState(""),[h,p]=j.useState(""),[g,b]=j.useState(""),[x,E]=j.useState(""),[w,T]=j.useState(!1),[C,A]=j.useState(!1);j.useEffect(()=>{p(""),A(!1)},[s]);const P=async I=>{I.preventDefault(),r(!0);const{error:k}=await ze.auth.signInWithOtp({email:c,options:{emailRedirectTo:window.location.origin}});k?alert("Error: "+k.message):T(!0),r(!1)},O=async I=>{r(!0);const{error:k}=await ze.auth.signInWithOAuth({provider:I,options:{redirectTo:window.location.origin}});k&&(alert("Error con "+I+": "+k.message),r(!1))},M=async I=>{if(I.preventDefault(),r(!0),s==="signup"){if(!g){alert("Por favor, elige un nombre de usuario."),r(!1);return}const{data:k}=await ze.from("profiles").select("username").eq("username",g).single();if(k){alert("Este nombre de usuario ya est cogido. Por favor elige otro."),r(!1);return}const{data:L,error:G}=await ze.auth.signUp({email:c,password:h,options:{data:{username:g,region:x}}});G?G.message.includes("unique constraint")||G.message.includes("profiles_username_key")?alert("El nombre de usuario no est disponible."):alert("Error al registrarse: "+G.message):(alert("Usuario registrado! "+(L.session?"Sesin iniciada.":"Por favor revisa tu correo para confirmar.")),L.session&&e())}else{const{error:k}=await ze.auth.signInWithPassword({email:c,password:h});k?alert("Error al entrar: "+k.message):e()}r(!1)};return t?R.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[R.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity",onClick:e}),R.jsx("div",{className:"relative bg-white w-full max-w-md rounded-3xl shadow-2xl overflow-hidden transform transition-all border border-gray-100",children:R.jsxs("div",{className:"p-8",children:[R.jsxs("div",{className:"flex justify-between items-center mb-6",children:[R.jsx("h2",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Acceso Ciudadano"}),R.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition p-1 hover:bg-gray-100 rounded-full",children:R.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),R.jsx("div",{className:"flex flex-col gap-3 mb-6",children:R.jsxs("button",{onClick:()=>O("google"),className:"flex items-center justify-center w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 transition",children:[R.jsxs("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[R.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),R.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),R.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),R.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continuar con Google"]})}),R.jsxs("div",{className:"relative mb-6",children:[R.jsx("div",{className:"absolute inset-0 flex items-center",children:R.jsx("div",{className:"w-full border-t border-gray-200"})}),R.jsx("div",{className:"relative flex justify-center text-sm",children:R.jsx("span",{className:"px-2 bg-white text-gray-500",children:"O usa tu correo"})})]}),R.jsxs("div",{className:"flex space-x-2 mb-6 bg-gray-100 p-1 rounded-lg",children:[R.jsx("button",{onClick:()=>a("password"),className:`flex - 1 py - 1.5 text - sm font - medium rounded - md transition - all ${i==="password"?"bg-white text-indigo-600 shadow-sm":"text-gray-500 hover:text-gray-700"} `,children:"Contrasea"}),R.jsx("button",{onClick:()=>a("magic_link"),className:`flex - 1 py - 1.5 text - sm font - medium rounded - md transition - all ${i==="magic_link"?"bg-white text-indigo-600 shadow-sm":"text-gray-500 hover:text-gray-700"} `,children:"Link Mgico"})]}),i==="magic_link"?w?R.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-100",children:[R.jsx("h3",{className:"text-lg font-medium text-green-900",children:"Enlace enviado!"}),R.jsxs("p",{className:"mt-2 text-sm text-green-600",children:["Revisa ",c]}),R.jsx("button",{onClick:e,className:"mt-4 text-sm font-medium text-green-600 hover:text-green-500",children:"Cerrar"})]}):R.jsxs("form",{onSubmit:P,className:"space-y-4",children:[R.jsx("p",{className:"text-gray-600 text-sm",children:"Te enviaremos un enlace a tu correo. Sin contraseas."}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Correo Electrnico"}),R.jsx("input",{type:"email",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"ejemplo@correo.com",value:c,onChange:I=>f(I.target.value)})]}),R.jsx("button",{type:"submit",disabled:n,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-full font-bold shadow-md disabled:opacity-50",children:n?"Enviando...":"Enviar Enlace Mgico "})]}):R.jsxs("form",{onSubmit:M,className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Correo Electrnico"}),R.jsx("input",{type:"email",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"ejemplo@correo.com",value:c,onChange:I=>f(I.target.value)})]}),s==="signup"&&R.jsxs(R.Fragment,{children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre de Usuario"}),R.jsx("input",{type:"text",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"usuario_unico",value:g,onChange:I=>b(I.target.value)})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Comunidad Autnoma"}),R.jsxs("select",{required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",value:x,onChange:I=>E(I.target.value),children:[R.jsx("option",{value:"",children:"Selecciona tu regin..."}),R.jsx("option",{value:"AN",children:"Andaluca"}),R.jsx("option",{value:"AR",children:"Aragn"}),R.jsx("option",{value:"AS",children:"Asturias"}),R.jsx("option",{value:"IB",children:"Baleares"}),R.jsx("option",{value:"CN",children:"Canarias"}),R.jsx("option",{value:"CB",children:"Cantabria"}),R.jsx("option",{value:"CM",children:"Castilla-La Mancha"}),R.jsx("option",{value:"CL",children:"Castilla y Len"}),R.jsx("option",{value:"CT",children:"Catalua"}),R.jsx("option",{value:"CE",children:"Ceuta"}),R.jsx("option",{value:"VC",children:"Comunidad Valenciana"}),R.jsx("option",{value:"EX",children:"Extremadura"}),R.jsx("option",{value:"GA",children:"Galicia"}),R.jsx("option",{value:"RI",children:"La Rioja"}),R.jsx("option",{value:"MD",children:"Madrid"}),R.jsx("option",{value:"ML",children:"Melilla"}),R.jsx("option",{value:"MC",children:"Murcia"}),R.jsx("option",{value:"NC",children:"Navarra"}),R.jsx("option",{value:"PV",children:"Pas Vasco"})]})]})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contrasea"}),s==="signup"?R.jsxs("div",{className:"relative mt-1",children:[R.jsx("input",{type:C?"text":"password",required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 pr-10",placeholder:"********",value:h,onChange:I=>p(I.target.value),autoComplete:"new-password"}),h.length>0&&R.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 focus:outline-none",onClick:()=>A(!C),children:C?R.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):R.jsxs("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}):R.jsx("input",{type:"password",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"********",value:h,onChange:I=>p(I.target.value)})]}),R.jsx("button",{type:"submit",disabled:n,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-full font-bold shadow-md disabled:opacity-50",children:n?"Procesando...":s==="signin"?"Iniciar Sesin":"Registrarse"}),R.jsx("div",{className:"text-center mt-4",children:R.jsx("button",{type:"button",className:"text-sm text-indigo-600 hover:text-indigo-500 font-medium",onClick:()=>u(s==="signin"?"signup":"signin"),children:s==="signin"?"No tienes cuenta? Regstrate":"Ya tienes cuenta? Inicia Sesin"})})]}),R.jsx("div",{className:"mt-8 text-center",children:R.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest font-bold",children:"Powered by Supabase Auth"})})]})})]}):null},lge=t=>{if(!/^\d{8}[A-Za-z]$/.test(t))return!1;const n=parseInt(t.substring(0,8),10),r=t.substring(8,9).toUpperCase(),a="TRWAGMYFPDXBNJZSQVHLCKE".charAt(n%23);return r===a},uge=[{code:"MD",name:"Madrid"},{code:"CT",name:"Catalua"},{code:"AN",name:"Andaluca"},{code:"VC",name:"Comunidad Valenciana"},{code:"GA",name:"Galicia"},{code:"PV",name:"Pas Vasco"},{code:"CL",name:"Castilla y Len"},{code:"CM",name:"Castilla-La Mancha"},{code:"AR",name:"Aragn"},{code:"EX",name:"Extremadura"},{code:"IB",name:"Baleares"},{code:"CN",name:"Canarias"},{code:"AS",name:"Asturias"},{code:"CB",name:"Cantabria"},{code:"NC",name:"Navarra"},{code:"MC",name:"Murcia"},{code:"RI",name:"La Rioja"},{code:"CE",name:"Ceuta"},{code:"ML",name:"Melilla"}],cge=["Estudiante","Desempleado","Trabajador Manual / Obrero","Trabajador Servicios / Administrativo","Profesional Tcnico / Autnomo","Directivo / Empresario","Jubilado","Otras"],fge=["Masculino","Femenino","Otro","Prefiero no decir"],dge=({user:t})=>{const[e,n]=j.useState(t.region||""),[r,i]=j.useState(""),[a,s]=j.useState(""),[u,c]=j.useState(""),[f,h]=j.useState(""),[p,g]=j.useState({dni:"",age:"",occupation:"",gender:""}),[b,x]=j.useState(!1),[E,w]=j.useState(null);j.useEffect(()=>{n(t.region||""),(async()=>{const{data:O}=await ze.from("profiles").select("dni, avatar_url, age, occupation, gender").eq("id",t.id).single();if(O){const M=O.dni||"",I=O.age?O.age.toString():"",k=O.occupation||"",L=O.gender||"";i(M),s(I),c(k),h(L),g({dni:M,age:I,occupation:k,gender:L})}})()},[t.id,t.region]);const T=e!==(t.region||"")||r!==p.dni||a!==p.age||u!==p.occupation||f!==p.gender,C=async()=>{if(w(null),r&&!lge(r)){w({type:"error",text:"El DNI introducido no es vlido. Verifica la letra."});return}x(!0);try{await Jr.updateUserProfile(t.id,{region:e,dni:r||void 0,avatar_url:"",age:a?parseInt(a):void 0,occupation:u||void 0,gender:f||void 0}),w({type:"success",text:"Perfil actualizado correctamente."}),g({dni:r,age:a,occupation:u,gender:f})}catch(P){w({type:"error",text:"Error al actualizar: "+P.message})}finally{x(!1)}},A=async()=>{if(window.confirm("Ests seguro de que quieres eliminar tu usuario? Esta accin borrar todos tus datos y no se puede deshacer.")){x(!0);try{const{error:P}=await ze.from("profiles").delete().eq("id",t.id);if(P)throw P;await ze.auth.signOut(),window.location.href="/"}catch(P){alert("Error al eliminar cuenta: "+P.message),x(!1)}}};return R.jsxs("div",{className:"max-w-2xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[R.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[R.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[R.jsx("h3",{className:"text-lg leading-6 font-bold text-gray-900",children:"Mi Perfil"}),R.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Detalles de tu cuenta en La Voz Del Pueblo."})]}),R.jsx("div",{className:"border-t border-gray-200",children:R.jsxs("dl",{children:[R.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[R.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Nombre de Usuario"}),R.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 font-medium flex items-center",children:t.name})]}),R.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[R.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Correo Electrnico"}),R.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:t.email})]}),R.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[R.jsx("dt",{className:"text-sm font-medium text-gray-500 pt-3",children:"Ocupacin / Clase"}),R.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:R.jsxs("select",{value:u,onChange:P=>c(P.target.value),className:"block w-full max-w-xs pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md border",children:[R.jsx("option",{value:"",disabled:!0,children:"Selecciona tu ocupacin..."}),cge.map(P=>R.jsx("option",{value:P,children:P},P))]})})]}),R.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[R.jsx("dt",{className:"text-sm font-medium text-gray-500 pt-3",children:"Datos Demogrficos"}),R.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:R.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-xs",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Edad"}),R.jsx("input",{type:"number",min:"16",max:"120",value:a,onChange:P=>s(P.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Gnero"}),R.jsxs("select",{value:f,onChange:P=>h(P.target.value),className:"block w-full pl-3 pr-8 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[R.jsx("option",{value:"",disabled:!0,children:"Selecciona..."}),fge.map(P=>R.jsx("option",{value:P,children:P},P))]})]})]})})]}),R.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[R.jsx("dt",{className:"text-sm font-medium text-gray-500 pt-3",children:"Comunidad Autnoma"}),R.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:R.jsxs("div",{className:"flex flex-col space-y-3",children:[R.jsxs("select",{value:e,onChange:P=>n(P.target.value),className:"block w-full max-w-xs pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md border",children:[R.jsx("option",{value:"",disabled:!0,children:"Selecciona tu CCAA..."}),uge.map(P=>R.jsx("option",{value:P.code,children:P.name},P.code))]}),R.jsx("p",{className:"text-xs text-gray-400",children:"Tu CCAA se utiliza para registrar tus votos automticamente."})]})})]})]})})]}),R.jsx("div",{className:"px-4 py-3 bg-gray-50 text-right sm:px-6 border-t border-gray-200",children:R.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[E&&R.jsx("span",{className:`text-sm font-medium ${E.type==="success"?"text-green-600":"text-red-600"}`,children:E.text}),R.jsx("button",{onClick:C,disabled:b||!T,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Guardando...":"Guardar Cambios"})]})}),R.jsxs("div",{className:"mt-10 bg-white shadow sm:rounded-lg overflow-hidden border border-red-200",children:[R.jsxs("div",{className:"px-4 py-5 sm:px-6 bg-red-50",children:[R.jsx("h3",{className:"text-lg leading-6 font-medium text-red-900",children:"Zona de Peligro"}),R.jsx("p",{className:"mt-1 max-w-2xl text-sm text-red-700",children:"Acciones irreversibles para tu cuenta."})]}),R.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[R.jsx("div",{className:"max-w-xl text-sm text-gray-500",children:R.jsx("p",{children:"Una vez que elimines tu cuenta, no hay vuelta atrs. Por favor, asegrate."})}),R.jsx("div",{className:"mt-5",children:R.jsx("button",{type:"button",onClick:A,className:"inline-flex items-center justify-center px-4 py-2 border border-transparent font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:text-sm",children:"Eliminar mi usuario"})})]})]})]})},hge=({userId:t})=>{const[e,n]=j.useState([]),[r,i]=j.useState(!0);j.useEffect(()=>{t&&(async()=>{try{const u=await Jr.fetchUserVotes(t);n(u)}catch(u){console.error("Error loading votes:",u)}finally{i(!1)}})()},[t]);const a=s=>{switch(s){case"support":return R.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"A Favor"});case"oppose":return R.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"En Contra"});default:return R.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:"Neutral"})}};return r?R.jsx("div",{className:"p-8 text-center",children:"Cargando historial..."}):R.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[R.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Mis Votos"}),e.length===0?R.jsxs("div",{className:"text-center py-10 bg-gray-50 rounded-lg",children:[R.jsx("p",{className:"text-gray-500",children:"An no has votado en ningn tema."}),R.jsx(bn,{to:"/",className:"mt-4 inline-block text-indigo-600 hover:text-indigo-500",children:"Ir a votar "})]}):R.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:R.jsx("ul",{className:"divide-y divide-gray-200",children:e.map(s=>R.jsx("li",{children:R.jsx(bn,{to:`/topic/${s.topic_id}`,className:"block hover:bg-gray-50",children:R.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsx("p",{className:"text-sm font-medium text-indigo-600 truncate",children:s.topic.title}),R.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:a(s.choice)})]}),R.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[R.jsx("div",{className:"sm:flex",children:R.jsx("p",{className:"flex items-center text-sm text-gray-500",children:s.topic.category})}),R.jsx("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:R.jsxs("p",{children:["Votado el ",new Date(s.created_at).toLocaleDateString()]})})]})]})})},s.id))})})]})},pge=[{id:"Poltica",name:"Poltica",icon:"",description:"Debates sobre gobierno, leyes y derechos."},{id:"Economa",name:"Economa",icon:"",description:"Impuestos, empleo, moneda y mercados."},{id:"Social",name:"Social",icon:"",description:"Cuestiones sociales, igualdad y comunidad."},{id:"Medio Ambiente",name:"Medio Ambiente",icon:"",description:"Cambio climtico, energa y naturaleza."},{id:"Tecnologa",name:"Tecnologa",icon:"",description:"Innovacin, IA y privacidad digital."},{id:"Sanidad",name:"Sanidad",icon:"",description:"Salud pblica, medicina y bienestar."},{id:"Educacin",name:"Educacin",icon:"",description:"Sistema educativo, becas y docencia."},{id:"Ciencia",name:"Ciencia",icon:"",description:"Investigacin, espacio y descubrimientos."},{id:"Entretenimiento",name:"Entretenimiento",icon:"",description:"Cine, msica, cultura y ocio."}],mge=()=>{const[t,e]=j.useState(null),n=()=>{Jr.fetchUserCount().then(r=>e(r))};return j.useEffect(()=>{n();const{data:{subscription:r}}=ze.auth.onAuthStateChange(i=>{(i==="SIGNED_IN"||i==="SIGNED_OUT")&&setTimeout(n,1500)});return()=>r.unsubscribe()},[]),R.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[R.jsxs("div",{className:"text-center mb-16",children:[R.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 sm:text-5xl sm:tracking-tight lg:text-6xl",children:"Elige tu Campo de Batalla"}),t!==null&&R.jsxs("p",{className:"mt-2 text-sm text-indigo-600 font-medium",children:["Ya somos ",R.jsx("span",{className:"font-bold text-lg",children:t.toLocaleString()})," ciudadanos registrados"]}),R.jsx("p",{className:"mt-5 max-w-xl mx-auto text-xl text-gray-500",children:"Selecciona una categora para explorar los debates activos y haz or tu voz."})]}),R.jsx("div",{className:"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:pge.map(r=>R.jsxs(bn,{to:`/category/${r.id}`,className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-500 rounded-2xl shadow-sm hover:shadow-lg transition-all duration-200 border border-gray-100 flex flex-col items-center text-center",children:[R.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-16 w-16 rounded-full bg-indigo-50 text-3xl mb-4 group-hover:scale-110 transition-transform",children:r.icon}),R.jsxs("div",{children:[R.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[R.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),r.name]}),R.jsx("p",{className:"mt-2 text-sm text-gray-500",children:r.description})]})]},r.id))}),R.jsx("div",{className:"mt-12 text-center",children:R.jsx(bn,{to:"/latest",className:"text-indigo-600 hover:text-indigo-500 font-medium",children:"Ver todos los temas recientes "})})]})},gge=({topics:t})=>{const{categoryId:e}=DU(),n=e?decodeURIComponent(e):"",r=t.filter(i=>i.category===n);return R.jsx(a$,{topics:r,title:`Debates de ${n}`,showFilters:!1})},vge=()=>R.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[R.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 mb-8",children:"Trminos y Condiciones de Uso"}),R.jsxs("div",{className:"prose prose-indigo text-gray-500",children:[R.jsx("p",{className:"mb-4",children:"Bienvenido a La Voz del Pueblo. Al acceder y utilizar nuestra plataforma, aceptas cumplir con los siguientes trminos y condiciones. Si no ests de acuerdo con alguna parte de estos trminos, por favor no utilices nuestros servicios."}),R.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"1. Uso de la Plataforma"}),R.jsx("p",{className:"mb-4",children:"Nuestra misin es fomentar el debate democrtico y la participacin ciudadana. Al usar la plataforma, te comprometes a:"}),R.jsxs("ul",{className:"list-disc pl-5 mb-4 space-y-2",children:[R.jsx("li",{children:"Mantener un tono respetuoso y constructivo en los debates."}),R.jsx("li",{children:"No publicar contenido ofensivo, discriminatorio o ilegal."}),R.jsx("li",{children:"Proporcionar informacin veraz en tu perfil de usuario."}),R.jsx("li",{children:"No intentar manipular las votaciones mediante el uso de bots o cuentas falsas (salvo las generadas por el sistema para demostraciones internas)."})]}),R.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"2. Registro y Seguridad"}),R.jsx("p",{className:"mb-4",children:"Para participar en las votaciones, es necesario registrarse. Eres responsable de mantener la confidencialidad de tus credenciales de acceso y de toda la actividad que ocurra bajo tu cuenta."}),R.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"3. Propiedad Intelectual"}),R.jsx("p",{className:"mb-4",children:"El contenido generado por los usuarios (comentarios, propuestas) es propiedad de sus respectivos autores, pero al publicarlo en La Voz del Pueblo, nos otorgas una licencia no exclusiva para mostrarlo y utilizarlo con fines estadsticos y analticos."}),R.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"4. Limitacin de Responsabilidad"}),R.jsx("p",{className:"mb-4",children:'La Voz del Pueblo ofrece esta plataforma "tal cual" para fines informativos y de participacin. No nos hacemos responsables de las opiniones vertidas por los usuarios ni garantizamos que los resultados de las votaciones sean vinculantes para ninguna institucin gubernamental.'}),R.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"5. Modificaciones"}),R.jsx("p",{className:"mb-4",children:"Nos reservamos el derecho de modificar estos trminos en cualquier momento. Te notificaremos sobre cambios significativos a travs de la plataforma."}),R.jsx("p",{className:"mt-8 text-sm text-gray-400",children:"ltima actualizacin: Enero 2026"})]})]}),yge=()=>R.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[R.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 mb-8",children:"Poltica de Privacidad"}),R.jsxs("div",{className:"prose prose-indigo text-gray-500",children:[R.jsx("p",{className:"mb-4",children:"En La Voz del Pueblo, nos tomamos muy en serio tu privacidad. Esta poltica describe cmo recopilamos, usamos y protegemos tu informacin personal."}),R.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"1. Informacin que Recopilamos"}),R.jsxs("ul",{className:"list-disc pl-5 mb-4 space-y-2",children:[R.jsxs("li",{children:[R.jsx("strong",{children:"Datos de Registro:"})," Correo electrnico, nombre de usuario y contrasea (cifrada)."]}),R.jsxs("li",{children:[R.jsx("strong",{children:"Perfil Demogrfico:"})," Edad, ocupacin, gnero y comunidad autnoma. Estos datos se utilizan para segmentar estadsticas."]}),R.jsxs("li",{children:[R.jsx("strong",{children:"Actividad:"})," Tu historial de votos y propuestas en la plataforma."]})]}),R.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"2. Uso de la Informacin"}),R.jsx("p",{className:"mb-4",children:"Utilizamos tus datos exclusivamente para:"}),R.jsxs("ul",{className:"list-disc pl-5 mb-4 space-y-2",children:[R.jsx("li",{children:"Gestionar tu cuenta y autenticacin."}),R.jsx("li",{children:'Generar estadsticas demogrficas annimas sobre las votaciones (ej. "Qu opinan los estudiantes en Madrid?").'}),R.jsx("li",{children:"Mejorar la experiencia de usuario en la plataforma."})]}),R.jsx("p",{className:"mb-4 font-semibold",children:"Nunca vendemos tus datos personales a terceros."}),R.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"3. Seguridad de los Datos"}),R.jsx("p",{className:"mb-4",children:"Utilizamos Supabase como proveedor de infraestructura, que implementa estndares de seguridad de la industria (cifrado en trnsito y en reposo) para proteger tu informacin."}),R.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"4. Tus Derechos"}),R.jsx("p",{className:"mb-4",children:'Tienes derecho a acceder, rectificar o eliminar tus datos personales en cualquier momento. Puedes gestionar tu perfil desde la seccin "Mi Perfil" o contactarnos para una eliminacin completa de la cuenta.'}),R.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"5. Cookies"}),R.jsx("p",{className:"mb-4",children:"Utilizamos cookies esenciales para mantener tu sesin iniciada. No utilizamos cookies de rastreo publicitario de terceros."}),R.jsx("p",{className:"mt-8 text-sm text-gray-400",children:"ltima actualizacin: Enero 2026"})]})]}),bge=t=>{if(!t)return"??";const n=t.replace(/[._-]/g," ").trim().split(/\s+/).filter(Boolean);return n.length===0?"??":n.length>=2?(n[0][0]+n[1][0]).toUpperCase():n[0].substring(0,2).toUpperCase()},_ge=({user:t,onLogin:e,onLogout:n})=>{const r=Oa(),i=Hp(),a=u=>r.pathname===u,s=async()=>{await n(),i("/")};return R.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:R.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:R.jsxs("div",{className:"flex justify-between h-16",children:[R.jsx("div",{className:"flex items-center",children:R.jsxs(bn,{to:"/",className:"flex items-center space-x-2",children:[R.jsx("div",{className:"bg-indigo-600 text-white p-2 rounded-lg",children:R.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2-2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),R.jsxs("span",{className:"text-xl font-extrabold text-gray-900 tracking-tight",children:["La Voz Del ",R.jsx("span",{className:"text-indigo-600",children:"Pueblo"})]})]})}),R.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[R.jsx(bn,{to:"/",className:`${a("/")?"border-indigo-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium`,children:"Explorar"}),R.jsx(bn,{to:"/new",className:`${a("/new")?"border-indigo-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium`,children:"Proponer Tema"})]}),R.jsx("div",{className:"flex items-center space-x-4",children:t?R.jsxs("div",{className:"flex items-center space-x-3 bg-gray-50 pr-1 pl-3 py-1 rounded-full border border-gray-200",children:[R.jsxs(bn,{to:"/profile",className:"flex items-center space-x-2 hover:opacity-80",children:[R.jsx("span",{className:"text-xs font-bold text-gray-700",children:t.name}),R.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold text-xs border border-white shadow-sm",children:bge(t.name)})]}),R.jsx(bn,{to:"/profile/votes",className:"text-gray-400 hover:text-indigo-600 p-1",title:"Mis Votos",children:R.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),R.jsx("div",{className:"h-4 w-px bg-gray-300 mx-1"}),R.jsx("button",{onClick:s,className:"p-1.5 text-gray-400 hover:text-red-500 transition",title:"Cerrar Sesin",children:R.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]}):R.jsx("button",{onClick:e,className:"bg-indigo-600 text-white px-6 py-2 rounded-full text-sm font-bold shadow-lg shadow-indigo-100 hover:bg-indigo-700 transition active:scale-95",children:"Iniciar Sesin"})})]})})})},wge=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(null),[i,a]=j.useState(!1),s=async()=>{try{const h=await Jr.fetchTopics();e(h)}catch(h){console.error("Error fetching topics:",h)}};j.useEffect(()=>{s()},[n]),j.useEffect(()=>{ze.auth.getSession().then(({data:{session:p}})=>{p!=null&&p.user&&u(p.user)});const{data:{subscription:h}}=ze.auth.onAuthStateChange((p,g)=>{g!=null&&g.user?u(g.user):r(null)});return()=>{h.unsubscribe()}},[]);const u=async h=>{var b,x,E,w;const p=((b=h.user_metadata)==null?void 0:b.username)||((x=h.email)==null?void 0:x.split("@")[0])||"Ciudadano";let{data:g}=await ze.from("profiles").select("region, is_fake, avatar_url").eq("id",h.id).single();if(!g){console.log("Profile missing for user. Attempting auto-repair...");try{const{error:T}=await ze.from("profiles").insert({id:h.id,region:((E=h.user_metadata)==null?void 0:E.region)||"MD",is_fake:!1});if(T){console.error("Auto-repair failed:",T),await ze.auth.signOut(),r(null);return}else{const{data:C}=await ze.from("profiles").select("region, is_fake, avatar_url").eq("id",h.id).single();g=C}}catch(T){console.error("Auto-repair exception:",T),await ze.auth.signOut(),r(null);return}}r({id:h.id,name:p,email:h.email||"",avatar:(g==null?void 0:g.avatar_url)||"",region:(g==null?void 0:g.region)||((w=h.user_metadata)==null?void 0:w.region),is_fake:g==null?void 0:g.is_fake})},c=async h=>{try{await Jr.createTopic(h),await s()}catch(p){alert("Error creating topic: "+p.message)}},f=async(h,p,g,b)=>{if(!n){a(!0);return}try{await Jr.castVote(h,p,g,b),await s()}catch(x){alert(x.message)}};return R.jsx(Wx,{children:R.jsx(hV,{children:R.jsxs("div",{className:"min-h-screen flex flex-col relative",children:[R.jsx(_ge,{user:n,onLogin:()=>a(!0),onLogout:async()=>{await ze.auth.signOut(),r(null)}}),R.jsx("main",{className:"flex-grow",children:R.jsxs(Gz,{children:[R.jsx(Vr,{path:"/",element:R.jsx(mge,{})}),R.jsx(Vr,{path:"/latest",element:R.jsx(a$,{topics:t})}),R.jsx(Vr,{path:"/category/:categoryId",element:R.jsx(gge,{topics:t})}),R.jsx(Vr,{path:"/topic/:id",element:R.jsx(zle,{topics:t,onVote:f,user:n,onRequireAuth:()=>a(!0)})}),R.jsx(Vr,{path:"/new",element:R.jsx(oge,{onAddTopic:c})}),n&&R.jsxs(R.Fragment,{children:[R.jsx(Vr,{path:"/profile",element:R.jsx(dge,{user:n})}),R.jsx(Vr,{path:"/profile/votes",element:R.jsx(hge,{userId:n.id})})]}),R.jsx(Vr,{path:"/terms",element:R.jsx(vge,{})}),R.jsx(Vr,{path:"/privacy",element:R.jsx(yge,{})})]})}),R.jsx(sge,{isOpen:i,onClose:()=>a(!1)}),R.jsx("footer",{className:"bg-white/80 backdrop-blur-sm border-t border-gray-200 py-12 mt-12",children:R.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center text-gray-500 text-sm",children:[R.jsx("p",{children:" 2026 LaVozDelPueblo.es. Todos los derechos reservados."}),R.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[R.jsx(bn,{to:"/terms",className:"hover:text-indigo-600 transition",children:"Trminos"}),R.jsx(bn,{to:"/privacy",className:"hover:text-indigo-600 transition",children:"Privacidad"})]})]})})]})})})},B3=document.getElementById("root");if(!B3)throw new Error("Could not find root element to mount to");const Sge=bG.createRoot(B3);Sge.render(R.jsx(z.StrictMode,{children:R.jsx(Wx,{children:R.jsx(wge,{})})}));
